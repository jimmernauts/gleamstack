var p8=Object.defineProperty;var Pv=e=>{throw TypeError(e)};var g8=(e,t,n)=>t in e?p8(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var R=(e,t,n)=>g8(e,typeof t!="symbol"?t+"":t,n),ag=(e,t,n)=>t.has(e)||Pv("Cannot "+n);var $=(e,t,n)=>(ag(e,t,"read from private field"),n?n.call(e):t.get(e)),$e=(e,t,n)=>t.has(e)?Pv("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),oe=(e,t,n,r)=>(ag(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),_r=(e,t,n)=>(ag(e,t,"access private method"),n);var jv=(e,t,n,r)=>({set _(s){oe(e,t,s,n)},get _(){return $(e,t,r)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const u of i.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();class S{withFields(t){let n=Object.keys(this).map(r=>r in t?t[r]:this[r]);return new this.constructor(...n)}}class Xe{static fromArray(t,n){let r=n||new m3;for(let s=t.length-1;s>=0;--s)r=new y3(t[s],r);return r}[Symbol.iterator](){return new m8(this)}toArray(){return[...this]}atLeastLength(t){for(let n of this){if(t<=0)return!0;t--}return t<=0}hasLength(t){for(let n of this){if(t<=0)return!1;t--}return t===0}countLength(){let t=0;for(let n of this)t++;return t}}function W(e,t){return new y3(e,t)}function g(e,t){return Xe.fromArray(e,t)}var Fu;class m8{constructor(t){$e(this,Fu);oe(this,Fu,t)}next(){if($(this,Fu)instanceof m3)return{done:!0};{let{head:t,tail:n}=$(this,Fu);return oe(this,Fu,n),{value:t,done:!1}}}}Fu=new WeakMap;let m3=class extends Xe{};class y3 extends Xe{constructor(t,n){super(),this.head=t,this.tail=n}}class ga{constructor(t){if(!(t instanceof Uint8Array))throw"BitArray can only be constructed from a Uint8Array";this.buffer=t}get length(){return this.buffer.length}byteAt(t){return this.buffer[t]}floatAt(t){return b8(this.buffer.slice(t,t+8))}intFromSlice(t,n){return y8(this.buffer.slice(t,n))}binaryFromSlice(t,n){return new ga(this.buffer.slice(t,n))}sliceAfter(t){return new ga(this.buffer.slice(t))}}class b3{constructor(t){this.value=t}}function y8(e){e=e.reverse();let t=0;for(let n=e.length-1;n>=0;n--)t=t*256+e[n];return t}function b8(e){return new Float64Array(e.reverse().buffer)[0]}class cf extends S{static isResult(t){return t instanceof cf}}class H extends cf{constructor(t){super(),this[0]=t}isOk(){return!0}}let ne=class extends cf{constructor(t){super(),this[0]=t}isOk(){return!1}};function Le(e,t){let n=[e,t];for(;n.length;){let r=n.pop(),s=n.pop();if(r===s)continue;if(!Lv(r)||!Lv(s)||!E8(r,s)||v8(r,s)||x8(r,s)||S8(r,s)||_8(r,s)||A8(r,s)||T8(r,s))return!1;const u=Object.getPrototypeOf(r);if(u!==null&&typeof u.equals=="function")try{if(r.equals(s))continue;return!1}catch{}let[o,a]=w8(r);for(let c of o(r))n.push(a(r,c),a(s,c))}return!0}function w8(e){if(e instanceof Map)return[t=>t.keys(),(t,n)=>t.get(n)];{let t=e instanceof globalThis.Error?["message"]:[];return[n=>[...t,...Object.keys(n)],(n,r)=>n[r]]}}function v8(e,t){return e instanceof Date&&(e>t||e<t)}function x8(e,t){return e.buffer instanceof ArrayBuffer&&e.BYTES_PER_ELEMENT&&!(e.byteLength===t.byteLength&&e.every((n,r)=>n===t[r]))}function S8(e,t){return Array.isArray(e)&&e.length!==t.length}function _8(e,t){return e instanceof Map&&e.size!==t.size}function A8(e,t){return e instanceof Set&&(e.size!=t.size||[...e].some(n=>!t.has(n)))}function T8(e,t){return e instanceof RegExp&&(e.source!==t.source||e.flags!==t.flags)}function Lv(e){return typeof e=="object"&&e!==null}function E8(e,t){return typeof e!="object"&&typeof t!="object"&&(!e||!t)||[Promise,WeakSet,WeakMap,Function].some(r=>e instanceof r)?!1:e.constructor===t.constructor}function Ln(e,t){return t===0?0:e%t}function Ku(e,t){return Math.trunc(O8(e,t))}function O8(e,t){return t===0?0:e/t}function sn(e,t,n,r,s,i){let u=new globalThis.Error(s);u.gleam_error=e,u.module=t,u.line=n,u.fn=r;for(let o in i)u[o]=i[o];return u}class k extends S{constructor(t){super(),this[0]=t}}class X extends S{}function Mm(e,t){if(e instanceof k){let n=e[0];return new H(n)}else return new ne(t)}function Iy(e){if(e.isOk()){let t=e[0];return new k(t)}else return new X}function Fe(e,t){return e instanceof k?e[0]:t}function We(e,t){if(e instanceof k){let n=e[0];return new k(t(n))}else return new X}function I8(e,t){return e instanceof k?e:t}class N8 extends S{constructor(t,n){super(),this.error=t,this.byte_index=n}}let R8=class extends S{constructor(t,n){super(),this.case_insensitive=t,this.multi_line=n}};function k8(e,t){return ik(e,t)}function C8(e,t){return sk(e,t)}class Ws extends S{}class Vo extends S{}class yl extends S{}function Zr(e){return qR(e)}function D8(e){return rk(e)}function M8(e){return-1*e}function P8(e){return e>=0?Vv(e):0-Vv(M8(e))}function j8(e){return P8(e)}function L8(e){return e>=0?e:e*-1}function fr(e){return $R(e)}function M(e){return UR(e)}function Ny(e){return e}function Ui(e,t){return e===t?new Vo:e<t?new Ws:new yl}function sp(e,t){return e<t?e:t}function ip(e,t){return e>t?e:t}function F8(e,t,n){let s=sp(e,n);return ip(s,t)}function B8(e){let t=Q3()*Ny(e),n=D8(t);return j8(n)}function bl(e,t){{let n=t;return e*n<0&&Ln(e,n)!==0?new H(Ku(e,n)-1):new H(Ku(e,n))}}function Ae(e){return e[0]}function It(e){return e[1]}function $8(e,t){let n=e[0],r=e[1];return[t(n),r]}function U8(e,t){let n=e[0],r=e[1];return[n,t(r)]}function Ou(e,t){return[e,t]}let Ry=class extends S{constructor(t){super(),this[0]=t}},Yc=class extends S{constructor(t){super(),this[0]=t}};class gt extends S{}class Ii extends S{}function q8(e,t){for(;;){let n=e,r=t;if(n.atLeastLength(1))e=n.tail,t=r+1;else return r}}function w3(e){return q8(e,0)}function Zt(e,t){for(;;){let n=e,r=t;if(n.hasLength(0))return r;{let s=n.head;e=n.tail,t=W(s,r)}}}function Pt(e){return Zt(e,g([]))}function v3(e){return Le(e,g([]))}function Fv(e,t){for(;;){let n=e,r=t;if(n.hasLength(0))return!1;if(n.atLeastLength(1)&&Le(n.head,r))return n.head,!0;e=n.tail,t=r}}function x3(e){if(e.hasLength(0))return new ne(void 0);{let t=e.head;return new H(t)}}function V8(e,t,n){for(;;){let r=e,s=t,i=n;if(r.hasLength(0))return Pt(i);{let u=r.head,o=r.tail,a=s(u)?W(u,i):i;e=o,t=s,n=a}}}function ma(e,t){return V8(e,t,g([]))}function z8(e,t,n){for(;;){let r=e,s=t,i=n;if(r.hasLength(0))return Pt(i);{let u=r.head,o=r.tail,a=(()=>{let c=s(u);if(c.isOk()){let l=c[0];return W(l,i)}else return i})();e=o,t=s,n=a}}}function S3(e,t){return z8(e,t,g([]))}function H8(e,t,n){for(;;){let r=e,s=t,i=n;if(r.hasLength(0))return Pt(i);{let u=r.head;e=r.tail,t=s,n=W(s(u),i)}}}function K(e,t){return H8(e,t,g([]))}function G8(e,t,n,r){for(;;){let s=e,i=t,u=n,o=r;if(s.hasLength(0))return Pt(o);{let a=s.head,c=s.tail,l=W(i(a,u),o);e=c,t=i,n=u+1,r=l}}}function Yu(e,t){return G8(e,t,0,g([]))}function J8(e,t,n){for(;;){let r=e,s=t,i=n;if(r.hasLength(0))return new H(Pt(i));{let u=r.head,o=r.tail,a=s(u);if(a.isOk()){let c=a[0];e=o,t=s,n=W(c,i)}else{let c=a[0];return new ne(c)}}}}function _3(e,t){return J8(e,t,g([]))}function W8(e,t){for(;;){let n=e,r=t;if(r<=0)return n;if(n.hasLength(0))return g([]);e=n.tail,t=r-1}}function Q8(e,t,n){for(;;){let r=e,s=t,i=n;if(s<=0)return Pt(i);if(r.hasLength(0))return Pt(i);{let o=r.head;e=r.tail,t=s-1,n=W(o,i)}}}function A3(e,t){return Q8(e,t,g([]))}function X8(e,t){for(;;){let n=e,r=t;if(n.hasLength(0))return r;{let s=n.head;e=n.tail,t=W(s,r)}}}function ky(e,t){return X8(Pt(e),t)}function up(e,t){return W(t,e)}function K8(e,t){for(;;){let n=e,r=t;if(n.hasLength(0))return r;{let s=n.head;e=n.tail,t=W(s,r)}}}function Y8(e,t){for(;;){let n=e,r=t;if(n.hasLength(0))return Pt(r);{let s=n.head;e=n.tail,t=K8(s,r)}}}function Gn(e){return Y8(e,g([]))}function za(e,t){let n=K(e,t);return Gn(n)}function ur(e,t,n){for(;;){let r=e,s=t,i=n;if(r.hasLength(0))return s;{let u=r.head;e=r.tail,t=i(s,u),n=i}}}function Cy(e,t,n){if(e.hasLength(0))return t;{let r=e.head,s=e.tail;return n(Cy(s,t,n),r)}}function Z8(e,t,n,r){for(;;){let s=e,i=t,u=n,o=r;if(s.hasLength(0))return i;{let a=s.head;e=s.tail,t=u(i,a,o),n=u,r=o+1}}}function eR(e,t,n){return Z8(e,t,n,0)}function T3(e,t,n){for(;;){let r=e,s=t,i=n;if(r.hasLength(0))return s;{let u=r.head,o=r.tail,a=i(s,u);if(a instanceof Ry){let c=a[0];e=o,t=c,n=i}else return a[0]}}}function op(e,t){for(;;){let n=e,r=t;if(n.hasLength(0))return new ne(void 0);{let s=n.head,i=n.tail;if(r(s))return new H(s);e=i,t=r}}}function tR(e,t,n,r,s,i){for(;;){let u=e,o=t,a=n,c=r,l=s,d=i,h=W(l,a);if(u.hasLength(0))return c instanceof gt?W(Zt(h,g([])),d):W(h,d);{let f=u.head,p=u.tail,m=o(l,f);if(m instanceof yl&&c instanceof Ii)e=p,t=o,n=h,r=c,s=f,i=d;else if(m instanceof Ws&&c instanceof gt)e=p,t=o,n=h,r=c,s=f,i=d;else if(m instanceof Vo&&c instanceof gt)e=p,t=o,n=h,r=c,s=f,i=d;else if(m instanceof yl&&c instanceof gt){let y=c instanceof gt?W(Zt(h,g([])),d):W(h,d);if(p.hasLength(0))return W(g([f]),y);{let b=p.head,w=p.tail,x=(()=>{let v=o(f,b);return v instanceof Ws?new gt:v instanceof Vo?new gt:new Ii})();e=w,t=o,n=g([f]),r=x,s=b,i=y}}else if(m instanceof Ws&&c instanceof Ii){let y=c instanceof gt?W(Zt(h,g([])),d):W(h,d);if(p.hasLength(0))return W(g([f]),y);{let b=p.head,w=p.tail,x=(()=>{let v=o(f,b);return v instanceof Ws?new gt:v instanceof Vo?new gt:new Ii})();e=w,t=o,n=g([f]),r=x,s=b,i=y}}else{let y=c instanceof gt?W(Zt(h,g([])),d):W(h,d);if(p.hasLength(0))return W(g([f]),y);{let b=p.head,w=p.tail,x=(()=>{let v=o(f,b);return v instanceof Ws?new gt:v instanceof Vo?new gt:new Ii})();e=w,t=o,n=g([f]),r=x,s=b,i=y}}}}}function nR(e,t,n,r){for(;;){let s=e,i=t,u=n,o=r;if(s.hasLength(0))return Zt(i,o);if(i.hasLength(0))return Zt(s,o);{let a=s.head,c=s.tail,l=i.head,d=i.tail,h=u(a,l);h instanceof Ws?(e=c,t=i,n=u,r=W(a,o)):(h instanceof yl,e=s,t=d,n=u,r=W(l,o))}}}function rR(e,t,n){for(;;){let r=e,s=t,i=n;if(r.hasLength(0))return Zt(i,g([]));if(r.hasLength(1)){let u=r.head;return Zt(W(Zt(u,g([])),i),g([]))}else{let u=r.head,o=r.tail.head,a=r.tail.tail,c=nR(u,o,s,g([]));e=a,t=s,n=W(c,i)}}}function sR(e,t,n,r){for(;;){let s=e,i=t,u=n,o=r;if(s.hasLength(0))return Zt(i,o);if(i.hasLength(0))return Zt(s,o);{let a=s.head,c=s.tail,l=i.head,d=i.tail,h=u(a,l);h instanceof Ws?(e=s,t=d,n=u,r=W(l,o)):(h instanceof yl,e=c,t=i,n=u,r=W(a,o))}}}function iR(e,t,n){for(;;){let r=e,s=t,i=n;if(r.hasLength(0))return Zt(i,g([]));if(r.hasLength(1)){let u=r.head;return Zt(W(Zt(u,g([])),i),g([]))}else{let u=r.head,o=r.tail.head,a=r.tail.tail,c=sR(u,o,s,g([]));e=a,t=s,n=W(c,i)}}}function uR(e,t,n){for(;;){let r=e,s=t,i=n;if(r.hasLength(0))return g([]);if(r.hasLength(1)&&s instanceof gt)return r.head;if(r.hasLength(1)&&s instanceof Ii){let u=r.head;return Zt(u,g([]))}else s instanceof gt?(e=rR(r,i,g([])),t=new Ii,n=i):(e=iR(r,i,g([])),t=new gt,n=i)}}function gr(e,t){if(e.hasLength(0))return g([]);if(e.hasLength(1)){let n=e.head;return g([n])}else{let n=e.head,r=e.tail.head,s=e.tail.tail,i=(()=>{let o=t(n,r);return o instanceof Ws?new gt:o instanceof Vo?new gt:new Ii})(),u=tR(s,t,g([n]),i,r,g([]));return uR(u,new gt,t)}}function E3(e,t,n){if(e.hasLength(0))return g([[t,n]]);if(e.atLeastLength(1)&&Le(e.head[0],t)){e.head[0];let r=e.tail;return W([t,n],r)}else{let r=e.head,s=e.tail;return W(r,E3(s,t,n))}}function oR(e){return!!e.isOk()}function Q(e,t){if(e.isOk()){let n=e[0];return new H(t(n))}else{let n=e[0];return new ne(n)}}function po(e,t){if(e.isOk()){let n=e[0];return new H(n)}else{let n=e[0];return new ne(t(n))}}function aR(e){if(e.isOk())return e[0];{let t=e[0];return new ne(t)}}function fn(e,t){if(e.isOk()){let n=e[0];return t(n)}else{let n=e[0];return new ne(n)}}function Dy(e,t){return fn(e,t)}function Se(e,t){return e.isOk()?e[0]:t}class Zc extends S{}class ya extends S{constructor(t,n){super(),this[0]=t,this[1]=n}}let ap=class extends S{constructor(t){super(),this.continuation=t}};class O3 extends S{constructor(t,n){super(),this.element=t,this.accumulator=n}}function cR(){return new Zc}function I3(e,t){return()=>{let n=t(e);if(n instanceof O3){let r=n.element,s=n.accumulator;return new ya(r,I3(s,t))}else return new Zc}}function lR(e,t){let r=I3(e,t);return new ap(r)}function fR(e){return lR(void 0,t=>new O3(e(),void 0))}function N3(e){return fR(()=>e)}function dR(e,t,n){for(;;){let r=e,s=t,i=n,u=r();if(u instanceof ya){let o=u[0];e=u[1],t=s,n=s(i,o)}else return i}}function hR(e,t,n){let r=e.continuation;return dR(r,n,t)}function R3(e){let n=hR(e,g([]),(r,s)=>W(s,r));return Pt(n)}function k3(e,t){return()=>{if(t>0){let r=e();if(r instanceof Zc)return new Zc;{let s=r[0],i=r[1];return new ya(s,k3(i,t-1))}}else return new Zc}}function C3(e,t){let n=e.continuation,r=k3(n,t);return new ap(r)}function D3(e,t){let n=e();if(n instanceof ya){let r=n[0],s=n[1];return new ya(r,()=>D3(s,t))}else return t()}function M3(e,t){let n=()=>D3(e.continuation,t.continuation);return new ap(n)}function pR(e){let t=()=>new ya(e(),cR);return new ap(t)}function P3(e){return pR(()=>e)}function gR(e,t){return GR(e,t)}function j3(e){return QR(e)}function cp(e){return e}function mR(e,t){return gR(e,cp(t))}function Ha(e){return e}function yR(e,t){return JR(e,t)}function Bv(e){return e===""}function _s(e){return zR(e)}function Kd(e,t,n){let s=cp(e),i=VR(s,t,n);return Ha(i)}function Yd(e){return HR(e)}function tr(e,t){let r=cp(e),s=mR(r,t);return Ha(s)}function go(e){let n=j3(e);return Ha(n)}function L3(e,t){let n=N3(e),r=C3(n,t),s=R3(r);return go(s)}function ba(e,t){return WR(e,t)}function bR(e){return ZR(e)}function $v(e,t,n){let s=df(e),i=W8(s,t),u=A3(i,n);return go(u)}function My(e,t,n){if(n<0)return"";if(t<0){let i=_s(e)+t;return i<0?"":$v(e,i,n)}else return $v(e,t,n)}function F3(e,t){if(t==="")return df(e);{let r=cp(e),s=yR(r,t);return K(s,Ha)}}function wR(e,t){let n=_s(t),r=Ku(e,n),s=Ln(e,n),i=N3(t),u=C3(i,r);return M3(u,P3(My(t,0,s)))}function xi(e,t,n){let r=_s(e),s=t-r,i=wR(s,n),u=M3(i,P3(e)),o=R3(u);return go(o)}function Zd(e){let t=ii(e);return Ha(t)}class gs extends S{constructor(t,n,r){super(),this.expected=t,this.found=n,this.path=r}}function zr(e){return e}function B3(e){return e}function $3(e){return K3(e)}function el(e){return dk(e)}function vR(e){return hk(e)}function xR(e){return pk(e)}function U3(e){return t=>{if(e.hasLength(0))return new ne(g([new gs("another type",$3(t),g([]))]));{let n=e.head,r=e.tail,s=n(t);if(s.isOk()){let i=s[0];return new H(i)}else return U3(r)(t)}}}function mt(e){return e.isOk()?g([]):e[0]}function SR(e,t){return n=>{let r=t(n);if(r.isOk()){let s=r[0];return new H(e(s))}else{let s=r;return new ne(mt(s))}}}function wl(e,t){let n=zr(t),r=U3(g([ye,i=>Q(el(i),M)])),s=(()=>{let i=r(n);if(i.isOk())return i[0];{let u=g(["<",$3(n),">"]),o=j3(u);return Ha(o)}})();return e.withFields({path:W(s,e.path)})}function Py(e){return t=>fn(xR(t),n=>{let s=_3(n,e);return vl(s,i=>wl(i,"*"))})}function vl(e,t){return po(e,n=>K(n,t))}function ye(e){return fk(e)}function ke(e,t){return n=>{let r=new gs("field","nothing",g([]));return fn(Y3(n,e),s=>{let u=Mm(s,g([r])),o=fn(u,t);return vl(o,a=>wl(a,e))})}}function Fr(e,t){return n=>fn(Y3(n,e),r=>{if(r instanceof X)return new H(new X);{let i=r[0],u=mk(i,t);return vl(u,o=>wl(o,e))}})}function Ga(e,t){return n=>fn(gk(n),r=>fn((()=>{let i=pn(r);return _3(i,u=>{let o=u[0],a=u[1];return fn((()=>{let c=e(o);return vl(c,l=>wl(l,"keys"))})(),c=>fn((()=>{let l=t(a);return vl(l,d=>wl(d,"values"))})(),l=>new H([c,l])))})})(),s=>new H(gn(s))))}function q3(e,t,n){return r=>{let s=t(r),i=n(r);if(s.isOk()&&i.isOk()){let u=s[0],o=i[0];return new H(e(u,o))}else{let u=s,o=i;return new ne(Gn(g([mt(u),mt(o)])))}}}function V3(e,t,n,r){return s=>{let i=t(s),u=n(s),o=r(s);if(i.isOk()&&u.isOk()&&o.isOk()){let a=i[0],c=u[0],l=o[0];return new H(e(a,c,l))}else{let a=i,c=u,l=o;return new ne(Gn(g([mt(a),mt(c),mt(l)])))}}}function _R(e,t,n,r,s){return i=>{let u=t(i),o=n(i),a=r(i),c=s(i);if(u.isOk()&&o.isOk()&&a.isOk()&&c.isOk()){let l=u[0],d=o[0],h=a[0],f=c[0];return new H(e(l,d,h,f))}else{let l=u,d=o,h=a,f=c;return new ne(Gn(g([mt(l),mt(d),mt(h),mt(f)])))}}}function AR(e,t,n,r,s,i,u,o,a,c){return l=>{let d=t(l),h=n(l),f=r(l),p=s(l),m=i(l),y=u(l),b=o(l),w=a(l),x=c(l);if(d.isOk()&&h.isOk()&&f.isOk()&&p.isOk()&&m.isOk()&&y.isOk()&&b.isOk()&&w.isOk()&&x.isOk()){let v=d[0],A=h[0],T=f[0],V=p[0],J=m[0],Y=y[0],pe=b[0],B=w[0],ce=x[0];return new H(e(v,A,T,V,J,Y,pe,B,ce))}else{let v=d,A=h,T=f,V=p,J=m,Y=y,pe=b,B=w,ce=x;return new ne(Gn(g([mt(v),mt(A),mt(T),mt(V),mt(J),mt(Y),mt(pe),mt(B),mt(ce)])))}}}const Uv=new WeakMap,cg=new DataView(new ArrayBuffer(8));let lg=0;function Pm(e){const t=Uv.get(e);if(t!==void 0)return t;const n=lg++;return lg===2147483647&&(lg=0),Uv.set(e,n),n}function jm(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}function jy(e){let t=0;const n=e.length;for(let r=0;r<n;r++)t=Math.imul(31,t)+e.charCodeAt(r)|0;return t}function z3(e){cg.setFloat64(0,e);const t=cg.getInt32(0),n=cg.getInt32(4);return Math.imul(73244475,t>>16^t)^n}function TR(e){return jy(e.toString())}function ER(e){const t=Object.getPrototypeOf(e);if(t!==null&&typeof t.hashCode=="function")try{const r=e.hashCode(e);if(typeof r=="number")return r}catch{}if(e instanceof Promise||e instanceof WeakSet||e instanceof WeakMap)return Pm(e);if(e instanceof Date)return z3(e.getTime());let n=0;if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),Array.isArray(e)||e instanceof Uint8Array)for(let r=0;r<e.length;r++)n=Math.imul(31,n)+or(e[r])|0;else if(e instanceof Set)e.forEach(r=>{n=n+or(r)|0});else if(e instanceof Map)e.forEach((r,s)=>{n=n+jm(or(r),or(s))|0});else{const r=Object.keys(e);for(let s=0;s<r.length;s++){const i=r[s],u=e[i];n=n+jm(or(u),jy(i))|0}}return n}function or(e){if(e===null)return 1108378658;if(e===void 0)return 1108378659;if(e===!0)return 1108378657;if(e===!1)return 1108378656;switch(typeof e){case"number":return z3(e);case"string":return jy(e);case"bigint":return TR(e);case"object":return ER(e);case"symbol":return Pm(e);case"function":return Pm(e);default:return 0}}const ms=5,Ly=Math.pow(2,ms),OR=Ly-1,IR=Ly/2,NR=Ly/4,hn=0,hs=1,Fn=2,Zu=3,Fy={type:Fn,bitmap:0,array:[]};function lf(e,t){return e>>>t&OR}function lp(e,t){return 1<<lf(e,t)}function RR(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),e=e+(e>>4)&252645135,e+=e>>8,e+=e>>16,e&127}function By(e,t){return RR(e&t-1)}function pr(e,t,n){const r=e.length,s=new Array(r);for(let i=0;i<r;++i)s[i]=e[i];return s[t]=n,s}function kR(e,t,n){const r=e.length,s=new Array(r+1);let i=0,u=0;for(;i<t;)s[u++]=e[i++];for(s[u++]=n;i<r;)s[u++]=e[i++];return s}function Lm(e,t){const n=e.length,r=new Array(n-1);let s=0,i=0;for(;s<t;)r[i++]=e[s++];for(++s;s<n;)r[i++]=e[s++];return r}function H3(e,t,n,r,s,i){const u=or(t);if(u===r)return{type:Zu,hash:u,array:[{type:hn,k:t,v:n},{type:hn,k:s,v:i}]};const o={val:!1};return ff($y(Fy,e,u,t,n,o),e,r,s,i,o)}function ff(e,t,n,r,s,i){switch(e.type){case hs:return CR(e,t,n,r,s,i);case Fn:return $y(e,t,n,r,s,i);case Zu:return DR(e,t,n,r,s,i)}}function CR(e,t,n,r,s,i){const u=lf(n,t),o=e.array[u];if(o===void 0)return i.val=!0,{type:hs,size:e.size+1,array:pr(e.array,u,{type:hn,k:r,v:s})};if(o.type===hn)return Le(r,o.k)?s===o.v?e:{type:hs,size:e.size,array:pr(e.array,u,{type:hn,k:r,v:s})}:(i.val=!0,{type:hs,size:e.size,array:pr(e.array,u,H3(t+ms,o.k,o.v,n,r,s))});const a=ff(o,t+ms,n,r,s,i);return a===o?e:{type:hs,size:e.size,array:pr(e.array,u,a)}}function $y(e,t,n,r,s,i){const u=lp(n,t),o=By(e.bitmap,u);if(e.bitmap&u){const a=e.array[o];if(a.type!==hn){const l=ff(a,t+ms,n,r,s,i);return l===a?e:{type:Fn,bitmap:e.bitmap,array:pr(e.array,o,l)}}const c=a.k;return Le(r,c)?s===a.v?e:{type:Fn,bitmap:e.bitmap,array:pr(e.array,o,{type:hn,k:r,v:s})}:(i.val=!0,{type:Fn,bitmap:e.bitmap,array:pr(e.array,o,H3(t+ms,c,a.v,n,r,s))})}else{const a=e.array.length;if(a>=IR){const c=new Array(32),l=lf(n,t);c[l]=$y(Fy,t+ms,n,r,s,i);let d=0,h=e.bitmap;for(let f=0;f<32;f++){if(h&1){const p=e.array[d++];c[f]=p}h=h>>>1}return{type:hs,size:a+1,array:c}}else{const c=kR(e.array,o,{type:hn,k:r,v:s});return i.val=!0,{type:Fn,bitmap:e.bitmap|u,array:c}}}}function DR(e,t,n,r,s,i){if(n===e.hash){const u=Uy(e,r);if(u!==-1)return e.array[u].v===s?e:{type:Zu,hash:n,array:pr(e.array,u,{type:hn,k:r,v:s})};const o=e.array.length;return i.val=!0,{type:Zu,hash:n,array:pr(e.array,o,{type:hn,k:r,v:s})}}return ff({type:Fn,bitmap:lp(e.hash,t),array:[e]},t,n,r,s,i)}function Uy(e,t){const n=e.array.length;for(let r=0;r<n;r++)if(Le(t,e.array[r].k))return r;return-1}function eh(e,t,n,r){switch(e.type){case hs:return MR(e,t,n,r);case Fn:return PR(e,t,n,r);case Zu:return jR(e,r)}}function MR(e,t,n,r){const s=lf(n,t),i=e.array[s];if(i!==void 0){if(i.type!==hn)return eh(i,t+ms,n,r);if(Le(r,i.k))return i}}function PR(e,t,n,r){const s=lp(n,t);if(!(e.bitmap&s))return;const i=By(e.bitmap,s),u=e.array[i];if(u.type!==hn)return eh(u,t+ms,n,r);if(Le(r,u.k))return u}function jR(e,t){const n=Uy(e,t);if(!(n<0))return e.array[n]}function qy(e,t,n,r){switch(e.type){case hs:return LR(e,t,n,r);case Fn:return FR(e,t,n,r);case Zu:return BR(e,r)}}function LR(e,t,n,r){const s=lf(n,t),i=e.array[s];if(i===void 0)return e;let u;if(i.type===hn){if(!Le(i.k,r))return e}else if(u=qy(i,t+ms,n,r),u===i)return e;if(u===void 0){if(e.size<=NR){const o=e.array,a=new Array(e.size-1);let c=0,l=0,d=0;for(;c<s;){const h=o[c];h!==void 0&&(a[l]=h,d|=1<<c,++l),++c}for(++c;c<o.length;){const h=o[c];h!==void 0&&(a[l]=h,d|=1<<c,++l),++c}return{type:Fn,bitmap:d,array:a}}return{type:hs,size:e.size-1,array:pr(e.array,s,u)}}return{type:hs,size:e.size,array:pr(e.array,s,u)}}function FR(e,t,n,r){const s=lp(n,t);if(!(e.bitmap&s))return e;const i=By(e.bitmap,s),u=e.array[i];if(u.type!==hn){const o=qy(u,t+ms,n,r);return o===u?e:o!==void 0?{type:Fn,bitmap:e.bitmap,array:pr(e.array,i,o)}:e.bitmap===s?void 0:{type:Fn,bitmap:e.bitmap^s,array:Lm(e.array,i)}}return Le(r,u.k)?e.bitmap===s?void 0:{type:Fn,bitmap:e.bitmap^s,array:Lm(e.array,i)}:e}function BR(e,t){const n=Uy(e,t);if(n<0)return e;if(e.array.length!==1)return{type:Zu,hash:e.hash,array:Lm(e.array,n)}}function G3(e,t){if(e===void 0)return;const n=e.array,r=n.length;for(let s=0;s<r;s++){const i=n[s];if(i!==void 0){if(i.type===hn){t(i.v,i.k);continue}G3(i,t)}}}class Gt{static fromObject(t){const n=Object.keys(t);let r=Gt.new();for(let s=0;s<n.length;s++){const i=n[s];r=r.set(i,t[i])}return r}static fromMap(t){let n=Gt.new();return t.forEach((r,s)=>{n=n.set(s,r)}),n}static new(){return new Gt(void 0,0)}constructor(t,n){this.root=t,this.size=n}get(t,n){if(this.root===void 0)return n;const r=eh(this.root,0,or(t),t);return r===void 0?n:r.v}set(t,n){const r={val:!1},s=this.root===void 0?Fy:this.root,i=ff(s,0,or(t),t,n,r);return i===this.root?this:new Gt(i,r.val?this.size+1:this.size)}delete(t){if(this.root===void 0)return this;const n=qy(this.root,0,or(t),t);return n===this.root?this:n===void 0?Gt.new():new Gt(n,this.size-1)}has(t){return this.root===void 0?!1:eh(this.root,0,or(t),t)!==void 0}entries(){if(this.root===void 0)return[];const t=[];return this.forEach((n,r)=>t.push([r,n])),t}forEach(t){G3(this.root,t)}hashCode(){let t=0;return this.forEach((n,r)=>{t=t+jm(or(n),or(r))|0}),t}equals(t){if(!(t instanceof Gt)||this.size!==t.size)return!1;let n=!0;return this.forEach((r,s)=>{n=n&&Le(t.get(s,!r),r)}),n}}const Vy=void 0,qv={};function $R(e){return/^[-+]?(\d+)$/.test(e)?new H(parseInt(e)):new ne(Vy)}function UR(e){return e.toString()}function qR(e){const t=e.toString();return t.indexOf(".")>=0?t:t+".0"}function VR(e,t,n){return typeof e.replaceAll<"u"?e.replaceAll(t,n):e.replace(new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g"),n)}function zR(e){if(e==="")return 0;const t=J3(e);if(t){let n=0;for(const r of t)n++;return n}else return e.match(/./gsu).length}function df(e){const t=J3(e);return t?Xe.fromArray(Array.from(t).map(n=>n.segment)):Xe.fromArray(e.match(/./gsu))}function J3(e){if(Intl&&Intl.Segmenter)return new Intl.Segmenter().segment(e)[Symbol.iterator]()}function HR(e){return e.toLowerCase()}function GR(e,t){return e+t}function JR(e,t){return Xe.fromArray(e.split(t))}function WR(e,t){const n=e[Symbol.iterator]();let r=n.next().value||"",s=n.next();for(;!s.done;)r=r+t+s.value,s=n.next();return r}function QR(e){let t="";for(const n of e)t=t+n;return t}function XR(e,t){return e.indexOf(t)>=0}const W3=[" ","	",`
`,"\v","\f","\r","","\u2028","\u2029"].join(),KR=new RegExp(`^([${W3}]*)`,"g"),YR=new RegExp(`([${W3}]*)$`,"g");function ZR(e){return ek(tk(e))}function ek(e){return e.replace(KR,"")}function tk(e){return e.replace(YR,"")}function nk(e){var t;typeof process=="object"&&((t=process.stderr)!=null&&t.write)?process.stderr.write(e+`
`):typeof Deno=="object"?Deno.stderr.writeSync(new TextEncoder().encode(e+`
`)):console.log(e)}function rk(e){return Math.floor(e)}function Vv(e){return Math.round(e)}function Q3(){const e=Math.random();return e===1?Q3():e}function sk(e,t){return e.lastIndex=0,e.test(t)}function ik(e,t){try{let n="gu";return t.case_insensitive&&(n+="i"),t.multi_line&&(n+="m"),new H(new RegExp(e,n))}catch(n){const r=(n.columnNumber||0)|0;return new ne(new N8(n.message,r))}}function uk(){return Gt.new()}function fg(e){return e.size}function pn(e){return Xe.fromArray(e.entries())}function ok(e,t){return t.delete(e)}function X3(e,t){const n=e.get(t,qv);return n===qv?new ne(Vy):new H(n)}function ak(e,t,n){return n.set(e,t)}function zv(e){return decodeURIComponent((e||"").replace("+"," "))}function ck(e){try{const t=[];for(const n of e.split("&")){const[r,s]=n.split("=");r&&t.push([zv(r),zv(s)])}return new H(Xe.fromArray(t))}catch{return new ne(Vy)}}function K3(e){if(typeof e=="string")return"String";if(typeof e=="boolean")return"Bool";if(e instanceof cf)return"Result";if(e instanceof Xe)return"List";if(e instanceof ga)return"BitArray";if(e instanceof Gt)return"Dict";if(Number.isInteger(e))return"Int";if(Array.isArray(e))return`Tuple of ${e.length} elements`;if(typeof e=="number")return"Float";if(e===null)return"Null";if(e===void 0)return"Nil";{const t=typeof e;return t.charAt(0).toUpperCase()+t.slice(1)}}function qi(e,t){return lk(e,K3(t))}function lk(e,t){return new ne(Xe.fromArray([new gs(e,t,Xe.fromArray([]))]))}function fk(e){return typeof e=="string"?new H(e):qi("String",e)}function dk(e){return Number.isInteger(e)?new H(e):qi("Int",e)}function hk(e){return typeof e=="boolean"?new H(e):qi("Bool",e)}function pk(e){return Array.isArray(e)?new H(Xe.fromArray(e)):e instanceof Xe?new H(e):qi("List",e)}function gk(e){if(e instanceof Gt)return new H(e);if(e instanceof Map||e instanceof WeakMap)return new H(Gt.fromMap(e));if(e==null||typeof e!="object")return qi("Dict",e);const t=Object.getPrototypeOf(e);return t===Object.prototype||t===null?new H(Gt.fromObject(e)):qi("Dict",e)}function mk(e,t){if(e==null||e instanceof X)return new H(new X);e instanceof k&&(e=e[0]);const n=t(e);return n.isOk()?new H(new k(n[0])):n}function Y3(e,t){const n=()=>qi("Dict",e);if(e instanceof Gt||e instanceof WeakMap||e instanceof Map){const r=X3(e,t);return new H(r.isOk()?new k(r[0]):new X)}else return e===null?n():Object.getPrototypeOf(e)==Object.prototype?Hv(e,t,()=>new H(new X)):Hv(e,t,n)}function Hv(e,t,n){try{return t in e?new H(new k(e[t])):n()}catch{return n()}}function ii(e){const t=typeof e;if(e===!0)return"True";if(e===!1)return"False";if(e===null)return"//js(null)";if(e===void 0)return"Nil";if(t==="string")return yk(e);if(t==="bigint"||t==="number")return e.toString();if(Array.isArray(e))return`#(${e.map(ii).join(", ")})`;if(e instanceof Xe)return xk(e);if(e instanceof b3)return _k(e);if(e instanceof ga)return Sk(e);if(e instanceof S)return vk(e);if(e instanceof Gt)return bk(e);if(e instanceof Set)return`//js(Set(${[...e].map(ii).join(", ")}))`;if(e instanceof RegExp)return`//js(${e})`;if(e instanceof Date)return`//js(Date("${e.toISOString()}"))`;if(e instanceof Function){const n=[];for(const r of Array(e.length).keys())n.push(String.fromCharCode(r+97));return`//fn(${n.join(", ")}) { ... }`}return wk(e)}function yk(e){let t='"';for(let n=0;n<e.length;n++){let r=e[n];switch(r){case`
`:t+="\\n";break;case"\r":t+="\\r";break;case"	":t+="\\t";break;case"\f":t+="\\f";break;case"\\":t+="\\\\";break;case'"':t+='\\"';break;default:r<" "||r>"~"&&r<" "?t+="\\u{"+r.charCodeAt(0).toString(16).toUpperCase().padStart(4,"0")+"}":t+=r}}return t+='"',t}function bk(e){let t="dict.from_list([",n=!0;return e.forEach((r,s)=>{n||(t=t+", "),t=t+"#("+ii(s)+", "+ii(r)+")",n=!1}),t+"])"}function wk(e){var i,u;const t=((u=(i=Object.getPrototypeOf(e))==null?void 0:i.constructor)==null?void 0:u.name)||"Object",n=[];for(const o of Object.keys(e))n.push(`${ii(o)}: ${ii(e[o])}`);const r=n.length?" "+n.join(", ")+" ":"";return`//js(${t==="Object"?"":t+" "}{${r}})`}function vk(e){const t=Object.keys(e).map(n=>{const r=ii(e[n]);return isNaN(parseInt(n))?`${n}: ${r}`:r}).join(", ");return t?`${e.constructor.name}(${t})`:e.constructor.name}function xk(e){return`[${e.toArray().map(ii).join(", ")}]`}function Sk(e){return`<<${Array.from(e.buffer).join(", ")}>>`}function _k(e){return`//utfcodepoint(${String.fromCodePoint(e.value)})`}function fp(){return uk()}function Tn(e,t){return X3(e,t)}function Ys(e,t,n){return ak(t,n,e)}function Ak(e,t){for(;;){let n=e,r=t;if(n.hasLength(0))return r;{let s=n.head;e=n.tail,t=Ys(r,s[0],s[1])}}}function gn(e){return Ak(e,fp())}function Z3(e,t){for(;;){let n=e,r=t;if(n.hasLength(0))return r;{let s=n.head;e=n.tail,t=W(s,r)}}}function Tk(e,t){for(;;){let n=e,r=t;if(n.hasLength(0))return Z3(r,g([]));{let s=n.head;e=n.tail,t=W(s[0],r)}}}function Ek(e){let t=pn(e);return Tk(t,g([]))}function e_(e){return Ek(e)}function Ok(e,t){for(;;){let n=e,r=t;if(n.hasLength(0))return Z3(r,g([]));{let s=n.head;e=n.tail,t=W(s[1],r)}}}function Ik(e){let t=pn(e);return Ok(t,g([]))}function Ji(e){return Ik(e)}function Nk(e,t){return Ys(e,t[0],t[1])}function Rk(e,t){for(;;){let n=e,r=t;if(n.hasLength(0))return r;{let s=n.head;e=n.tail,t=Nk(r,s)}}}function kk(e,t){let r=pn(t);return Rk(r,e)}function Ck(e,t){return kk(e,t)}function Dk(e,t){return ok(t,e)}function dg(e,t){for(;;){let n=e,r=t;if(r.hasLength(0))return n;{let s=r.head,i=r.tail;e=Dk(n,s),t=i}}}function Mk(e,t,n){let s=Tn(e,t),i=Iy(s),u=n(i);return(o=>Ys(e,t,o))(u)}function Wi(e){let n=Zd(e);return nk(n),e}class Pk extends S{constructor(t,n,r,s,i,u,o){super(),this.scheme=t,this.userinfo=n,this.host=r,this.port=s,this.path=i,this.query=u,this.fragment=o}}function Gv(e){return ck(e)}function jk(e,t){for(;;){let n=e,r=t;if(n.hasLength(0))return Pt(r);{let s=n.head,i=n.tail,u=s===""||s==="."?r:s===".."&&r.hasLength(0)?g([]):s===".."&&r.atLeastLength(1)?r.tail:W(s,r);e=i,t=u}}}function Lk(e){return jk(e,g([]))}function Fk(e){return Lk(F3(e,"/"))}function zy(e){return e?1:0}function t_(e){return e?"True":"False"}function wa(e,t,n){return e?t:n()}function Bk(e){return JSON.stringify(e)}function $k(e){return Object.fromEntries(e)}function Uk(e){return e.toArray()}function qk(){return null}function Vk(e){try{const t=JSON.parse(e);return new H(t)}catch(t){return new ne(zk(t,e))}}function zk(e,t){return Hk(e)?new n_:Gk(e,t)}function Hk(e){return/((unexpected (end|eof))|(end of data)|(unterminated string)|(json( parse error|\.parse)\: expected '(\:|\}|\])'))/i.test(e.message)}function Gk(e,t){let n=[Jk,Wk,Xk,Qk];for(let r of n){let s=r(e,t);if(s)return s}return new Ja("",0)}function Jk(e){const n=/unexpected token '(.)', ".+" is not valid JSON/i.exec(e.message);if(!n)return null;const r=dp(n[1]);return new Ja(r,-1)}function Wk(e){const n=/unexpected token (.) in JSON at position (\d+)/i.exec(e.message);if(!n)return null;const r=dp(n[1]),s=Number(n[2]);return new Ja(r,s)}function Qk(e,t){const r=/(unexpected character|expected .*) at line (\d+) column (\d+)/i.exec(e.message);if(!r)return null;const s=Number(r[2]),i=Number(r[3]),u=Kk(s,i,t),o=dp(t[u]);return new Ja(o,u)}function Xk(e){const n=/unexpected (identifier|token) "(.)"/i.exec(e.message);if(!n)return null;const r=dp(n[2]);return new Ja(r,0)}function dp(e){return"0x"+e.charCodeAt(0).toString(16).toUpperCase()}function Kk(e,t,n){if(e===1)return t-1;let r=1,s=0;return n.split("").find((i,u)=>(i===`
`&&(r+=1),r===e?(s=u+t,!0):!1)),s}class n_ extends S{}class Ja extends S{constructor(t,n){super(),this.byte=t,this.position=n}}class Yk extends S{constructor(t,n){super(),this.byte=t,this.position=n}}class Zk extends S{constructor(t){super(),this[0]=t}}function e5(e,t){return Dy(Vk(e),n=>{let r=t(n);return po(r,s=>new Zk(s))})}function hf(e,t){return e5(e,t)}function Nd(e){return Bk(e)}function Br(e){return e}function t5(){return qk()}function hg(e,t){if(e instanceof k){let n=e[0];return t(n)}else return t5()}function mo(e){return $k(e)}function n5(e){return Uk(e)}function r5(e,t){let r=K(e,t);return n5(r)}class pf extends S{constructor(t){super(),this.all=t}}function mn(e){return new pf(g([(t,n)=>e(t)]))}function s5(e,t){return new pf(g([(n,r)=>r(e,t)]))}function j(){return new pf(g([]))}function Hy(e){return new pf(ur(e,g([]),(t,n)=>{let r=n.all;return ky(t,r)}))}function is(e,t){return new pf(K(e.all,n=>(r,s)=>n(i=>r(t(i)),s)))}let th=class extends S{constructor(t){super(),this.content=t}},nt=class extends S{constructor(t,n,r,s,i,u,o){super(),this.key=t,this.namespace=n,this.tag=r,this.attrs=s,this.children=i,this.self_closing=u,this.void=o}},zo=class extends S{constructor(t){super(),this.subtree=t}};class xl extends S{constructor(t,n){super(),this.elements=t,this.key=n}}class nh extends S{constructor(t,n,r){super(),this[0]=t,this[1]=n,this.as_property=r}}let r_=class extends S{constructor(t,n){super(),this[0]=t,this[1]=n}};function me(e,t){return new nh(e,zr(t),!1)}function gf(e,t){return new nh(e,zr(t),!0)}function i5(e,t){return new r_("on"+e,t)}function u5(e,t){if(e instanceof nh){let n=e[0],r=e[1],s=e.as_property;return new nh(n,r,s)}else{let n=e[0],r=e[1];return new r_(n,s=>Q(r(s),t))}}function En(e){return me("style",ur(e,"",(t,n)=>{let r=n[0],s=n[1];return t+r+":"+s+";"}))}function _(e){return me("class",e)}function o5(){return _("")}function a5(e){return me("class",(()=>{let n=S3(e,r=>r[1]?new H(r[0]):new ne(void 0));return ba(n," ")})())}function ze(e){return me("id",e)}function ut(e){return me("type",e)}function Tt(e){return me("value",e)}function s_(e){return gf("checked",e)}function pg(e){return me("placeholder",e)}function Ho(e){return gf("selected",e)}function Jv(e){return gf("disabled",e)}function On(e){return me("name",e)}function ta(e){return me("for",e)}function bt(e){return me("href",e)}function Ze(e,t,n){return e==="area"?new nt("","",e,t,g([]),!1,!0):e==="base"?new nt("","",e,t,g([]),!1,!0):e==="br"?new nt("","",e,t,g([]),!1,!0):e==="col"?new nt("","",e,t,g([]),!1,!0):e==="embed"?new nt("","",e,t,g([]),!1,!0):e==="hr"?new nt("","",e,t,g([]),!1,!0):e==="img"?new nt("","",e,t,g([]),!1,!0):e==="input"?new nt("","",e,t,g([]),!1,!0):e==="link"?new nt("","",e,t,g([]),!1,!0):e==="meta"?new nt("","",e,t,g([]),!1,!0):e==="param"?new nt("","",e,t,g([]),!1,!0):e==="source"?new nt("","",e,t,g([]),!1,!0):e==="track"?new nt("","",e,t,g([]),!1,!0):e==="wbr"?new nt("","",e,t,g([]),!1,!0):new nt("","",e,t,n,!1,!1)}function Rd(e,t){if(e instanceof nt){let n=e.namespace,r=e.tag,s=e.attrs,i=e.children,u=e.self_closing,o=e.void;return new nt(t,n,r,s,i,u,o)}else if(e instanceof zo){let n=e.subtree;return new zo(()=>Rd(n(),t))}else if(e instanceof xl){let r=e.elements,s=Yu(r,(i,u)=>{if(i instanceof nt){let o=i.key,a=o===""?t+"-"+M(u):t+"-"+o;return Rd(i,a)}else return Rd(i,t)});return new xl(s,t)}else return e}function Vu(e,t){return e(K(t,n=>{let r=n[0],s=n[1];return Rd(s,r)}))}function G(e){return new th(e)}function Nn(){return new th("")}function c5(e){return Cy(e,g([]),(t,n)=>{if(n instanceof xl){let r=n.elements;return ky(r,t)}else return W(n,t)})}function qn(e){let t=c5(e);return new xl(t,"")}function us(e,t){if(e instanceof th){let n=e.content;return new th(n)}else if(e instanceof zo){let n=e.subtree;return new zo(()=>us(n(),t))}else if(e instanceof nt){let n=e.key,r=e.namespace,s=e.tag,i=e.attrs,u=e.children,o=e.self_closing,a=e.void;return new zo(()=>new nt(n,r,s,K(i,c=>u5(c,t)),K(u,c=>us(c,t)),o,a))}else{let n=e.elements,r=e.key;return new zo(()=>new xl(K(n,s=>us(s,t)),r))}}let l5=class extends S{constructor(t){super(),this.dict=t}};function f5(e,t){let n=e.dict,r=Tn(n,t);return oR(r)}const d5=void 0;function h5(e){let t=ur(e,fp(),(n,r)=>Ys(n,r,d5));return new l5(t)}let i_=class extends S{constructor(t){super(),this[0]=t}};class Ru extends S{constructor(t){super(),this[0]=t}}class u_ extends S{}class o_ extends S{constructor(t){super(),this[0]=t}}function Wv(e,t,n,r=!1){let s,i=[{prev:e,next:t,parent:e.parentNode}];for(;i.length;){let{prev:u,next:o,parent:a}=i.pop();if(o.subtree!==void 0&&(o=o.subtree()),o.content!==void 0)if(u)if(u.nodeType===Node.TEXT_NODE)u.textContent!==o.content&&(u.textContent=o.content),s??(s=u);else{const c=document.createTextNode(o.content);a.replaceChild(c,u),s??(s=c)}else{const c=document.createTextNode(o.content);a.appendChild(c),s??(s=c)}else if(o.tag!==void 0){const c=p5({prev:u,next:o,dispatch:n,stack:i,isComponent:r});u?u!==c&&a.replaceChild(c,u):a.appendChild(c),s??(s=c)}else o.elements!==void 0?hp(o,c=>{i.unshift({prev:u,next:c,parent:a}),u=u==null?void 0:u.nextSibling}):o.subtree!==void 0&&i.push({prev:u,next:o,parent:a})}return s}function p5({prev:e,next:t,dispatch:n,stack:r}){const s=t.namespace||"http://www.w3.org/1999/xhtml",i=e&&e.nodeType===Node.ELEMENT_NODE&&e.localName===t.tag&&e.namespaceURI===(t.namespace||"http://www.w3.org/1999/xhtml"),u=i?e:s?document.createElementNS(s,t.tag):document.createElement(t.tag);let o;if(tl.has(u))o=tl.get(u);else{const w=new Map;tl.set(u,w),o=w}const a=i?new Set(o.keys()):null,c=i?new Set(Array.from(e.attributes,w=>w.name)):null;let l=null,d=null,h=null;for(const w of t.attrs){const x=w[0],v=w[1];if(w.as_property)u[x]!==v&&(u[x]=v),i&&c.delete(x);else if(x.startsWith("on")){const A=x.slice(2),T=n(v);o.has(A)||u.addEventListener(A,nl),o.set(A,T),i&&a.delete(A)}else if(x.startsWith("data-lustre-on-")){const A=x.slice(15),T=n(g5);o.has(A)||u.addEventListener(A,nl),o.set(A,T),u.setAttribute(x,v)}else x==="class"?l=l===null?v:l+" "+v:x==="style"?d=d===null?v:d+v:x==="dangerous-unescaped-html"?h=v:(u.getAttribute(x)!==v&&u.setAttribute(x,v),(x==="value"||x==="selected")&&(u[x]=v),i&&c.delete(x))}if(l!==null&&(u.setAttribute("class",l),i&&c.delete("class")),d!==null&&(u.setAttribute("style",d),i&&c.delete("style")),i){for(const w of c)u.removeAttribute(w);for(const w of a)o.delete(w),u.removeEventListener(w,nl)}if(t.key!==void 0&&t.key!=="")u.setAttribute("data-lustre-key",t.key);else if(h!==null)return u.innerHTML=h,u;let f=u.firstChild,p=null,m=null,y=null,b=t.children[Symbol.iterator]().next().value;i&&b!==void 0&&b.key!==void 0&&b.key!==""&&(p=new Set,m=Qv(e),y=Qv(t));for(const w of t.children)hp(w,x=>{x.key!==void 0&&p!==null?f=m5(f,x,u,r,y,m,p):(r.unshift({prev:f,next:x,parent:u}),f=f==null?void 0:f.nextSibling)});for(;f;){const w=f.nextSibling;u.removeChild(f),f=w}return u}const tl=new WeakMap;function nl(e){const t=e.currentTarget;if(!tl.has(t)){t.removeEventListener(e.type,nl);return}const n=tl.get(t);if(!n.has(e.type)){t.removeEventListener(e.type,nl);return}n.get(e.type)(e)}function g5(e){const t=e.currentTarget,n=t.getAttribute(`data-lustre-on-${e.type}`),r=JSON.parse(t.getAttribute("data-lustre-data")||"{}"),s=JSON.parse(t.getAttribute("data-lustre-include")||"[]");switch(e.type){case"input":case"change":s.push("target.value");break}return{tag:n,data:s.reduce((i,u)=>{var a;const o=u.split(".");for(let c=0,l=i,d=e;c<o.length;c++)c===o.length-1?l[o[c]]=d[o[c]]:(l[a=o[c]]??(l[a]={}),d=d[o[c]],l=l[o[c]]);return i},{data:r})}}function Qv(e){const t=new Map;if(e)for(const n of e.children)hp(n,r=>{var i;const s=(r==null?void 0:r.key)||((i=r==null?void 0:r.getAttribute)==null?void 0:i.call(r,"data-lustre-key"));s&&t.set(s,r)});return t}function m5(e,t,n,r,s,i,u){for(;e&&!s.has(e.getAttribute("data-lustre-key"));){const a=e.nextSibling;n.removeChild(e),e=a}if(i.size===0)return hp(t,a=>{r.unshift({prev:e,next:a,parent:n}),e=e==null?void 0:e.nextSibling}),e;if(u.has(t.key))return console.warn(`Duplicate key found in Lustre vnode: ${t.key}`),r.unshift({prev:null,next:t,parent:n}),e;u.add(t.key);const o=i.get(t.key);if(!o&&!e)return r.unshift({prev:null,next:t,parent:n}),e;if(!o&&e!==null){const a=document.createTextNode("");return n.insertBefore(a,e),r.unshift({prev:a,next:t,parent:n}),e}return!o||o===e?(r.unshift({prev:e,next:t,parent:n}),e=e==null?void 0:e.nextSibling,e):(n.insertBefore(o,e),r.unshift({prev:o,next:t,parent:n}),e)}function hp(e,t){if(e.elements!==void 0)for(const n of e.elements)t(n);else t(e)}var Cr,Vs,os,zs,fa,Hs,da,Bu,Hn,kd,Fm,a_,c_;const Rv=class Rv{constructor([t,n],r,s,i=document.body,u=!1){$e(this,Hn);$e(this,Cr,null);$e(this,Vs,[]);$e(this,os,[]);$e(this,zs,!1);$e(this,fa,!1);$e(this,Hs,null);$e(this,da,null);$e(this,Bu,null);oe(this,Hs,t),oe(this,da,r),oe(this,Bu,s),oe(this,Cr,i),oe(this,os,n.all.toArray()),oe(this,zs,!0),oe(this,fa,u),window.requestAnimationFrame(()=>_r(this,Hn,kd).call(this))}static start(t,n,r,s,i){if(!pp())return new ne(new Gy);const u=n instanceof HTMLElement?n:document.querySelector(n);if(!u)return new ne(new _5(n));const o=new Rv(r(t),s,i,u);return new H(a=>o.send(a))}send(t){switch(!0){case t instanceof Ru:{$(this,Vs).push(t[0]),_r(this,Hn,kd).call(this);return}case t instanceof u_:{_r(this,Hn,c_).call(this);return}case t instanceof i_:{_r(this,Hn,a_).call(this,t[0]);return}default:return}}emit(t,n){$(this,Cr).dispatchEvent(new CustomEvent(t,{bubbles:!0,detail:n,composed:!0}))}};Cr=new WeakMap,Vs=new WeakMap,os=new WeakMap,zs=new WeakMap,fa=new WeakMap,Hs=new WeakMap,da=new WeakMap,Bu=new WeakMap,Hn=new WeakSet,kd=function(){if(_r(this,Hn,Fm).call(this),$(this,zs)){const t=$(this,Bu).call(this,$(this,Hs)),n=r=>s=>{const i=r(s);i instanceof H&&this.send(new Ru(i[0]))};oe(this,zs,!1),oe(this,Cr,Wv($(this,Cr),t,n,$(this,fa)))}},Fm=function(t=0){for(;$(this,Vs).length;){const[n,r]=$(this,da).call(this,$(this,Hs),$(this,Vs).shift());$(this,zs)||oe(this,zs,$(this,Hs)!==n),oe(this,Hs,n),oe(this,os,$(this,os).concat(r.all.toArray()))}for(;$(this,os).length;)$(this,os).shift()(n=>this.send(new Ru(n)),(n,r)=>this.emit(n,r));$(this,Vs).length&&(t<5?_r(this,Hn,Fm).call(this,++t):window.requestAnimationFrame(()=>_r(this,Hn,kd).call(this)))},a_=function(t){switch(!0){case t instanceof o_:{const n=$(this,Bu).call(this,t[0]),r=s=>i=>{const u=s(i);u instanceof H&&this.send(new Ru(u[0]))};oe(this,Vs,[]),oe(this,os,[]),oe(this,zs,!1),oe(this,Cr,Wv($(this,Cr),n,r,$(this,fa)))}}},c_=function(){$(this,Cr).remove(),oe(this,Cr,null),oe(this,Hs,null),oe(this,Vs,[]),oe(this,os,[]),oe(this,zs,!1),oe(this,da,()=>{}),oe(this,Bu,()=>{})};let rh=Rv;const y5=(e,t,n)=>rh.start(n,t,e.init,e.update,e.view),pp=()=>globalThis.window&&window.document,b5=e=>e.preventDefault();function w5({init:e,update:t,view:n,on_attribute_change:r},s){if(!pp())return new ne(new Gy);if(!s.includes("-"))return new ne(new x5(s));if(window.customElements.get(s))return new ne(new S5(s));const i=v5(e,t,n,r);window.customElements.define(s,i);for(const u of document.querySelectorAll(s)){const o=new i;for(const a of u.attributes)o.setAttribute(a.name,a.value);u.replaceWith(o)}return new H(void 0)}function v5(e,t,n,r){var s,i,u,o;return o=class extends HTMLElement{constructor(){var l;super();$e(this,s,document.createElement("div"));$e(this,i,null);$e(this,u,null);R(this,"slotContent",[]);oe(this,u,this.attachShadow({mode:"closed"})),(l=r[0])==null||l.forEach((d,h)=>{Object.defineProperty(this,h,{get(){return this[`_${h}`]||this.getAttribute(h)},set(f){const p=this[h],m=d(f);m instanceof H&&!Le(p,f)&&($(this,i)?$(this,i).send(new Ru(m[0])):window.requestAnimationFrame(()=>$(this,i).send(new Ru(m[0])))),this[`_${h}`]=f}})})}static get observedAttributes(){var l;return((l=r[0])==null?void 0:l.entries().map(([d,h])=>d))??[]}connectedCallback(){for(const l of document.querySelectorAll("link"))l.rel==="stylesheet"&&$(this,u).appendChild(l.cloneNode(!0));for(const l of document.querySelectorAll("style"))$(this,u).appendChild(l.cloneNode(!0));oe(this,i,new rh(e(),t,n,$(this,s),!0)),$(this,u).append($(this,s))}attributeChangedCallback(l,d,h){this[l]=h}disconnectedCallback(){$(this,i).send(new u_)}get adoptedStyleSheets(){return $(this,u).adoptedStyleSheets}set adoptedStyleSheets(l){$(this,u).adoptedStyleSheets=l}},s=new WeakMap,i=new WeakMap,u=new WeakMap,o}class l_ extends S{constructor(t,n,r,s){super(),this.init=t,this.update=n,this.view=r,this.on_attribute_change=s}}class x5 extends S{constructor(t){super(),this.name=t}}class S5 extends S{constructor(t){super(),this.name=t}}class _5 extends S{constructor(t){super(),this.selector=t}}let Gy=class extends S{};function f_(e,t,n){return new l_(e,t,n,new X)}function A5(e,t,n,r){return new l_(e,t,n,new k(r))}function d_(e){return new Ru(e)}function h_(e,t,n){return wa(!pp(),new ne(new Gy),()=>y5(e,t,n))}function tn(e){return G(e)}function T5(e,t){return Ze("h1",e,t)}function rs(e,t){return Ze("h2",e,t)}function E5(e,t){return Ze("main",e,t)}function yo(e,t){return Ze("nav",e,t)}function eo(e,t){return Ze("section",e,t)}function P(e,t){return Ze("div",e,t)}function p_(e,t){return Ze("li",e,t)}function O5(e,t){return Ze("ol",e,t)}function I5(e,t){return Ze("ul",e,t)}function wt(e,t){return Ze("a",e,t)}function Rr(e,t){return Ze("span",e,t)}function Hr(e,t){return Ze("button",e,t)}function Jt(e,t){return Ze("fieldset",e,t)}function Jy(e,t){return Ze("form",e,t)}function jr(e){return Ze("input",e,g([]))}function Vi(e,t){return Ze("label",e,t)}function Sl(e,t){return Ze("legend",e,t)}function Go(e,t){return Ze("option",e,g([G(t)]))}function sh(e,t){return Ze("select",e,t)}function Wy(e,t){return Ze("textarea",e,g([G(t)]))}const N5={handle_external_links:!1,handle_internal_links:!0};var p3;const Xv=(p3=window==null?void 0:window.location)==null?void 0:p3.href,R5=()=>Xv?new H(Bm(new URL(Xv))):new ne(void 0),k5=(e,t=N5)=>{document.body.addEventListener("click",n=>{const r=g_(n.target);if(r)try{const s=new URL(r.href),i=Bm(s),u=s.host!==window.location.host;return!t.handle_external_links&&u||!t.handle_internal_links&&!u?void 0:(n.preventDefault(),u||(window.history.pushState({},"",r.href),window.requestAnimationFrame(()=>{var o;s.hash&&((o=document.getElementById(s.hash.slice(1)))==null||o.scrollIntoView())})),e(i))}catch{return}}),window.addEventListener("popstate",n=>{n.preventDefault();const r=new URL(window.location.href),s=Bm(r);window.requestAnimationFrame(()=>{var i;r.hash&&((i=document.getElementById(r.hash.slice(1)))==null||i.scrollIntoView())}),e(s)})},g_=e=>e.tagName==="BODY"?null:e.tagName==="A"?e:g_(e.parentElement),Bm=e=>new Pk(e.protocol?new k(e.protocol):new X,new X,e.host?new k(e.host):new X,e.port?new k(Number(e.port)):new X,e.pathname,e.search?new k(e.search.slice(1)):new X,e.hash?new k(e.hash.slice(1)):new X);function C5(e){return mn(t=>wa(!pp(),void 0,()=>k5(n=>{let s=e(n);return t(s)})))}function ku(e){return t=>n=>e(t,n)}function Kv(e,t){return e(t)}class m_ extends S{constructor(t){super(),this.run=t}}class ls extends S{constructor(t,n){super(),this[0]=t,this[1]=n}}class _l extends S{}class ih extends S{constructor(t){super(),this[0]=t}}class Al extends S{}class Yv extends S{constructor(t,n,r){super(),this.span=t,this.lexeme=n,this.value=r}}class $m extends S{constructor(t,n,r,s){super(),this.row_start=t,this.col_start=n,this.row_end=r,this.col_end=s}}class Zv extends S{constructor(t,n,r){super(),this.row=t,this.col=n,this.lexeme=r}}class D5 extends S{constructor(t){super(),this.matchers=t}}let zc=class extends S{constructor(t,n,r,s,i){super(),this.source=t,this.tokens=n,this.current=r,this.row=s,this.col=i}};function y_(e){return new D5(t=>e)}function ex(e){return new m_((t,n,r)=>{let s=e(n,r),i=Q(s,u=>new ls(u,t));return Se(i,new Al)})}function b_(e){return new m_(e)}function tx(e,t,n,r){return T3(r,new Al,(s,i)=>{let u=i.run(e,t,n);if(u instanceof ls){let o=u;return new Yc(o)}else{if(u instanceof _l)return new Yc(new _l);if(u instanceof ih){let o=u;return new Yc(o)}else return new Ry(new Al)}})}function M5(e,t){return t===`
`?1:e+1}function P5(e,t){return t===`
`?e+1:e}function j5(e,t,n){for(;;){let r=e,s=t,i=n,u=r.matchers(s),o=i.source,a=i.current;if(o.hasLength(0)&&a[2]==="")return new H(Pt(i.tokens));if(o.hasLength(0)){let c=a[0],l=a[1],d=a[2],h=tx(s,d,"",u);if(h instanceof Al)return new ne(new Zv(c,l,d));if(h instanceof _l)return new ne(new Zv(c,l,d));if(h instanceof ih)return new H(Pt(i.tokens));{let f=h[0],p=new $m(c,l,i.row,i.col),m=new Yv(p,d,f);return new H(Pt(W(m,i.tokens)))}}else{let c=o.head,l=o.tail,d=a[0],h=a[1],f=a[2],p=P5(i.row,c),m=M5(i.col,c),y=tx(s,f,c,u);if(y instanceof ls){let b=y[0],w=y[1],x=new $m(d,h,i.row,i.col),v=new Yv(x,f,b);e=r,t=w,n=new zc(l,W(v,i.tokens),[i.row,i.col,c],p,m)}else if(y instanceof _l)e=r,t=s,n=new zc(l,i.tokens,[d,h,f+c],p,m);else if(y instanceof ih){let b=y[0];e=r,t=b,n=new zc(l,i.tokens,[i.row,i.col,c],p,m)}else e=r,t=s,n=new zc(l,i.tokens,[d,h,f+c],p,m)}}}function w_(e,t){let n=df(e),r=new zc(n,g([]),[1,1,""],1,1);return(s=>j5(t,void 0,s))(r)}let iu=class extends S{constructor(t){super(),this[0]=t}};class yn extends S{constructor(t,n,r){super(),this[0]=t,this[1]=n,this[2]=r}}class Gr extends S{constructor(t,n){super(),this[0]=t,this[1]=n}}let L5=class extends S{constructor(t,n,r,s){super(),this.src=t,this.idx=n,this.pos=r,this.ctx=s}};class nn extends S{constructor(t){super(),this[0]=t}}class v_ extends S{}class x_ extends S{constructor(t,n){super(),this[0]=t,this.got=n}}class F5 extends S{constructor(t){super(),this[0]=t}}class B5 extends S{constructor(t,n,r){super(),this.pos=t,this.problem=n,this.context=r}}class uh extends S{}class Um extends S{constructor(t,n){super(),this[0]=t,this[1]=n}}class $5 extends S{constructor(t,n){super(),this[0]=t,this[1]=n}}function va(e,t){let n=t[0];return n(e)}function gp(e){let t=Tn(e.src,e.idx);if(t.isOk()){let n=t[0].span,r=t[0].value;return[new k(r),e.withFields({idx:e.idx+1,pos:n})]}else return[new X,e]}function Nt(e){return new iu(t=>new yn(new nn(!1),e,t))}function Zs(e){return Nt(e)}function nx(e){return new iu(t=>{let n=va(t,e);if(n instanceof yn){let r=n[1],s=n[2];return new yn(new nn(!1),r,s)}else{let r=n[1];return new Gr(new nn(!1),r)}})}function rx(e,t){let n=e[0],r=t[0];return new nn(n||r)}function Ne(e,t){return new iu(n=>{let r=va(n,e);if(r instanceof yn){let s=r[0],i=r[1],u=r[2],o=va(u,t(i));if(o instanceof yn){let a=o[0],c=o[1],l=o[2];return new yn(rx(s,a),c,l)}else{let a=o[0],c=o[1];return new Gr(rx(s,a),c)}}else{let s=r[0],i=r[1];return new Gr(s,i)}})}function ys(e,t){return Ne(e,t)}function S_(e,t){return Ne(e,n=>Nt(t(n)))}function mp(e){return new iu(t=>{let n=gp(t),r=n[0],s=n[1],i=We(r,e);if(r instanceof k&&i instanceof k&&i[0]){let u=r[0];return va(s,Ne(mp(e),o=>Nt(W(u,o))))}else return r instanceof k&&i instanceof k&&!i[0]?new yn(new nn(!1),g([]),t):new yn(new nn(!1),g([]),t)})}function bo(e,t){return t===0?Nt(g([])):Ne(e,n=>Ne(bo(e,t-1),r=>Nt(W(n,r))))}function Tl(e,t){return new Um(new uh,new B5(e.pos,t,e.ctx))}function Qi(e){return new iu(t=>{let n=gp(t);if(n[0]instanceof k&&Le(e,n[0][0])){n[0][0];let r=n[1];return new yn(new nn(!0),void 0,r)}else if(n[0]instanceof k){let r=n[0][0],s=n[1];return new Gr(new nn(!1),Tl(s,new x_(Zd(e),r)))}else{let r=n[1];return new Gr(new nn(!1),Tl(r,new v_))}})}function Qy(){return new iu(e=>{let t=gp(e);if(t[0]instanceof k){let n=t[0][0],r=t[1];return new Gr(new nn(!1),Tl(r,new F5(n)))}else return new yn(new nn(!1),void 0,e)})}function xa(e,t){return new iu(n=>{let r=gp(n),s=r[0],i=r[1],u=We(s,t);if(s instanceof k&&u instanceof k&&u[0]){let o=s[0];return new yn(new nn(!1),o,i)}else if(s instanceof k&&u instanceof k&&!u[0]){let o=s[0];return new Gr(new nn(!1),Tl(i,new x_(e,o)))}else return new Gr(new nn(!1),Tl(i,new v_))})}function U5(e,t){return Ne(xa(e,t),n=>Ne(mp(t),r=>Nt(W(n,r))))}function __(e,t){for(;;){let n=e,r=t;if(n instanceof uh)return r;if(n instanceof Um&&n[0]instanceof uh){let s=n[1];return W(s,r)}else if(n instanceof Um){let s=n[0],i=n[1];e=s,t=W(i,r)}else{let s=n[0],i=n[1];e=s,t=__(i,r)}}}function A_(e,t){let n=eR(e,fp(),(i,u,o)=>Ys(i,o,u)),r=new L5(n,0,new $m(1,1,1,1),g([])),s=va(r,t);if(s instanceof yn){let i=s[1];return new H(i)}else{let i=s[1];return new ne(__(i,g([])))}}function q5(e,t){if(e instanceof yn){let n=e[0],r=e[1],s=e[2];return new yn(n,r,s)}else{let n=e[0],r=e[1];return new Gr(n,new $5(t,r))}}function As(e){return new iu(t=>{let n=new Gr(new nn(!1),new uh);return T3(e,n,(r,s)=>{if(r instanceof yn)return new Yc(r);if(r instanceof Gr&&r[0]instanceof nn&&r[0][0])return new Yc(r);{let i=r[1],u=va(t,s),o=q5(u,i);return new Ry(o)}})})}function V5(e){return As(g([S_(e,t=>new k(t)),Nt(new X)]))}class Wa extends S{constructor(t){super(),this[0]=t}}class T_ extends S{}class mf extends S{}class E_ extends S{}class z5 extends S{constructor(t){super(),this[0]=t}}function H5(){let e=new R8(!1,!0),t=k8("^[0-9]+$",e);if(!t.isOk())throw sn("assignment_no_match","rada/date/parse",14,"lexer","Assignment pattern did not match",{value:t});let n=t[0],r=s=>C8(n,s);return y_(g([b_((s,i,u)=>i===""?new ih(s):i==="W"?new ls(new T_,s):i==="T"?new ls(new E_,s):i==="-"?new ls(new mf,s):r(i)?new ls(new Wa(i),s):new ls(new z5(i),s))]))}class O_ extends S{constructor(t,n){super(),this[0]=t,this[1]=n}}let zu=class extends S{constructor(t){super(),this[0]=t}};class yf extends S{constructor(t){super(),this[0]=t}}class Xy extends S{}class yp extends S{}let Ky=class extends S{constructor(t){super(),this[0]=t}};function G5(e){return e instanceof yf}function J5(e){return t=>t instanceof yf?t[0]===e:!1}function sx(e){return e instanceof Ky}function qm(e){return e instanceof Xy}function Hc(e){if(e.hasLength(0))return"";{let t=e.head,n=e.tail;return t instanceof yf?t[0]+Hc(n):t instanceof Xy||t instanceof yp?"'"+Hc(n):t[0]+Hc(n)}}function W5(){return Ne(xa("Expecting an Alpha token",G5),e=>{if(!(e instanceof yf))throw sn("assignment_no_match","rada/date/pattern",170,"","Assignment pattern did not match",{value:e});let t=e[0];return Ne(mp(J5(t)),n=>Nt(new O_(t,w3(n)+1)))})}function Q5(){let e=Qi(new yp);return ys(e,t=>Zs(new zu("'")))}function X5(){return Ne(xa("Expecting an Text token",sx),e=>Ne(mp(sx),t=>{let n=(()=>{let r=K(W(e,t),s=>{if(!(s instanceof Ky))throw sn("assignment_no_match","rada/date/pattern",216,"","Assignment pattern did not match",{value:s});return s[0]});return go(r)})();return Nt(new zu(n))}))}function Vm(e){return As(g([Ne(U5("Expecting a non-Quote",t=>!qm(t)),t=>{let n=Hc(t);return Vm(e+n)}),(()=>{let t=Qi(new yp);return ys(t,n=>Vm(e+"'"))})(),Zs(e)]))}function K5(){return Ne(xa("Expecting an Quote",qm),e=>Ne(Vm(""),t=>Ne(As(g([(()=>{let n=xa("Expecting an Quote",qm);return S_(n,r=>{})})(),Qy()])),n=>Nt(new zu(t)))))}function Y5(e){return ur(e,g([]),(t,n)=>{if(n instanceof zu&&t.atLeastLength(1)&&t.head instanceof zu){let r=n[0],s=t.head[0],i=t.tail;return W(new zu(r+s),i)}else return W(n,t)})}function I_(e){return As(g([(()=>{let t=As(g([W5(),X5(),Q5(),K5()]));return ys(t,n=>I_(W(n,e)))})(),Zs(Y5(e))]))}function Z5(e){let t=(()=>{let u=df("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ");return h5(u)})(),n=i=>f5(t,i),r=y_(g([ex((i,u)=>n(i)?new H(new yf(i)):new ne(void 0)),b_((i,u,o)=>u==="'"?o==="'"?new _l:new ls(new Xy,i):u==="''"?new ls(new yp,i):new Al),ex((i,u)=>i===""?new ne(void 0):new H(new Ky(i)))])),s=w_(e,r);if(s.isOk()){let i=s[0],u=A_(i,I_(g([])));return Se(u,g([new zu(e)]))}else return g([])}function eC(){let e=new Date;return[e.getFullYear(),e.getMonth()+1,e.getDate()]}class wo extends S{}class Qa extends S{}class Xa extends S{}class Ka extends S{}class Ya extends S{}class Za extends S{}class ec extends S{}class tc extends S{}class nc extends S{}class rc extends S{}class sc extends S{}class tC extends S{}class Sa extends S{}class bf extends S{}class wf extends S{}class vf extends S{}class xf extends S{}class Sf extends S{}class Yy extends S{}class st extends S{constructor(t){super(),this[0]=t}}class nC extends S{constructor(t,n){super(),this.year=t,this.ordinal_day=n}}class rC extends S{constructor(t,n,r){super(),this.year=t,this.month=n,this.day=r}}class sC extends S{constructor(t,n,r){super(),this.week_year=t,this.week_number=n,this.weekday=r}}class iC extends S{constructor(t,n,r,s,i){super(),this.month_name=t,this.month_name_short=n,this.weekday_name=r,this.weekday_name_short=s,this.day_with_suffix=i}}class N_ extends S{constructor(t,n){super(),this[0]=t,this[1]=n}}class R_ extends S{constructor(t,n){super(),this[0]=t,this[1]=n}}class k_ extends S{constructor(t){super(),this[0]=t}}class uC extends S{}class ix extends S{}class _a extends S{}class qe extends S{}class oC extends S{}class aC extends S{}class cC extends S{}class lC extends S{}class _f extends S{}class fC extends S{}class dC extends S{}class hC extends S{}class pC extends S{}class gC extends S{}class mC extends S{}function C_(e){return new st(e)}function zm(e){return e[0]}function ux(e,t){return My(e,-1*t,t)}function rl(e,t){return My(e,0,t)}function Hm(e){return e instanceof wo?"January":e instanceof Qa?"February":e instanceof Xa?"March":e instanceof Ka?"April":e instanceof Ya?"May":e instanceof Za?"June":e instanceof ec?"July":e instanceof tc?"August":e instanceof nc?"September":e instanceof rc?"October":e instanceof sc?"November":"December"}function ox(e){return e instanceof Sa?"Monday":e instanceof bf?"Tuesday":e instanceof wf?"Wednesday":e instanceof vf?"Thursday":e instanceof xf?"Friday":e instanceof Sf?"Saturday":"Sunday"}function bp(){return xa("Expecting digit",e=>e instanceof Wa)}function yC(){return Ne(V5(Qi(new mf)),e=>{let t=(()=>{let r=We(e,s=>"-");return Fe(r,"")})();return Ne((()=>{let n=bp();return bo(n,4)})(),n=>{let r=(()=>{let u=K(n,o=>{if(!(o instanceof Wa))throw sn("assignment_no_match","rada/date",1091,"","Assignment pattern did not match",{value:o});return o[0]});return go(u)})(),s=fr(t+r);if(!s.isOk())throw sn("assignment_no_match","rada/date",1096,"","Assignment pattern did not match",{value:s});let i=s[0];return Nt(i)})})}function bC(){return Ne((()=>{let e=bp();return bo(e,3)})(),e=>{let t=(()=>{let s=K(e,i=>{if(!(i instanceof Wa))throw sn("assignment_no_match","rada/date",1109,"","Assignment pattern did not match",{value:i});return i[0]});return go(s)})(),n=fr(t);if(!n.isOk())throw sn("assignment_no_match","rada/date",1114,"","Assignment pattern did not match",{value:n});let r=n[0];return Nt(r)})}function ax(){return Ne(bC(),e=>Nt(new k_(e)))}function Gm(){return Ne((()=>{let e=bp();return bo(e,2)})(),e=>{let t=(()=>{let s=K(e,i=>{if(!(i instanceof Wa))throw sn("assignment_no_match","rada/date",1127,"","Assignment pattern did not match",{value:i});return i[0]});return go(s)})(),n=fr(t);if(!n.isOk())throw sn("assignment_no_match","rada/date",1132,"","Assignment pattern did not match",{value:n});let r=n[0];return Nt(r)})}function cx(e){return Ne(Gm(),t=>{let n=zy(e);return Ne(As(g([(()=>{let r=bo(Qi(new mf),n);return ys(r,s=>Gm())})(),(()=>{let r=Qy();return ys(r,s=>Zs(1))})()])),r=>Nt(new N_(t,r)))})}function wC(){return Ne((()=>{let e=bp();return bo(e,1)})(),e=>{if(!e.hasLength(1)||!(e.head instanceof Wa))throw sn("assignment_no_match","rada/date",1143,"","Assignment pattern did not match",{value:e});let t=e.head[0],n=fr(t);if(!n.isOk())throw sn("assignment_no_match","rada/date",1145,"","Assignment pattern did not match",{value:n});let r=n[0];return Nt(r)})}function lx(e){return Ne(Qi(new T_),t=>Ne(Gm(),n=>{let r=zy(e);return Ne(As(g([(()=>{let s=bo(Qi(new mf),r);return ys(s,i=>wC())})(),Zs(1)])),s=>Nt(new R_(n,s)))}))}function vC(){return As(g([(()=>{let e=Qi(new mf);return ys(e,t=>As(g([nx(ax()),cx(!0),lx(!0)])))})(),nx(cx(!1)),ax(),lx(!1),Zs(new k_(1))]))}function El(e,t){let n=e[0],r=t[0];return Ui(n,r)}function wp(e){return e instanceof wo?1:e instanceof Qa?2:e instanceof Xa?3:e instanceof Ka?4:e instanceof Ya?5:e instanceof Za?6:e instanceof ec?7:e instanceof tc?8:e instanceof nc?9:e instanceof rc?10:e instanceof sc?11:12}function xC(e){return Ku(wp(e)+2,3)}function ki(e){let t=ip(1,e);return t===1?new wo:t===2?new Qa:t===3?new Xa:t===4?new Ka:t===5?new Ya:t===6?new Za:t===7?new ec:t===8?new tc:t===9?new nc:t===10?new rc:t===11?new sc:new tC}function SC(e){let t=e*3-2;return ki(t)}function _C(e){return e instanceof Sa?1:e instanceof bf?2:e instanceof wf?3:e instanceof vf?4:e instanceof xf?5:e instanceof Sf?6:7}function D_(e){let t=ip(1,e);return t===1?new Sa:t===2?new bf:t===3?new wf:t===4?new vf:t===5?new xf:t===6?new Sf:new Yy}function fx(e,t){let n=e<0?"-":"",r=(()=>{let i=L8(e),u=M(i);return xi(u,t,"0")})();return n+r}function sl(e,t){return(e>0&&t<0||e<0&&t>0)&&Ln(e,t)!==0?Ku(e,t)-1:Ku(e,t)}function uu(e){let t=e-1,n=sl(t,4)-sl(t,100)+sl(t,400);return 365*t+n}function M_(e){return new st(uu(e)+1)}function ei(e,t){let n=Ln(e,t);return n>0&&t<0||n<0&&t>0?n+t:n}function vp(e){return ei(e,4)===0&&ei(e,100)!==0||ei(e,400)===0}function to(e){let t=e[0],n=ei(t,7);return n===0?7:n}function P_(e){let t=uu(e)+4;return t-to(new st(t))}function AC(e){let t=to(M_(e));return t===4||t===3&&vp(e)}function Ti(e){let n=to(e);return D_(n)}function TC(e){let t=ei(e,100),n=t<20?t:ei(t,10),r=sp(n,4);return r===1?"st":r===2?"nd":r===3?"rd":"th"}function j_(e){return M(e)+TC(e)}function EC(){return new iC(Hm,e=>{let n=Hm(e);return rl(n,3)},ox,e=>{let n=ox(e);return rl(n,3)},j_)}function wi(e,t){return ei(to(t)+7-_C(e),7)}function Ol(e,t){return t instanceof wo?31:t instanceof Qa?vp(e)?29:28:t instanceof Xa?31:t instanceof Ka?30:t instanceof Ya?31:t instanceof Za?30:t instanceof ec||t instanceof tc?31:t instanceof nc?30:t instanceof rc?31:t instanceof sc?30:31}function OC(e,t,n){for(;;){let r=e,s=t,i=n,u=Ol(r,s),o=wp(s);if(o<12&&i>u)e=r,t=ki(o+1),n=i-u;else return new rC(r,s,i)}}function xp(e,t){let n=zy(vp(e));return t instanceof wo?0:t instanceof Qa?31:t instanceof Xa?59+n:t instanceof Ka?90+n:t instanceof Ya?120+n:t instanceof Za?151+n:t instanceof ec?181+n:t instanceof tc?212+n:t instanceof nc?243+n:t instanceof rc?273+n:t instanceof sc?304+n:334+n}function dx(e,t){return new st(uu(e)+xp(e,t)+1)}function IC(e,t,n){return new st(uu(e)+xp(e,t)+F8(n,1,Ol(e,t)))}function Ei(){let e=eC(),t=e[0],n=e[1],r=e[2];return IC(t,ki(n),r)}function id(e,t){return[sl(e,t),ei(e,t)]}function Hu(e){let t=e[0],n=id(t,146097),r=n[0],s=n[1],i=id(s,36524),u=i[0],o=i[1],a=id(o,1461),c=a[0],l=a[1],d=id(l,365),h=d[0],f=d[1],p=f===0?0:1;return r*400+u*100+c*4+h+p}function L_(e){let t=e[0],n=Hu(e);return new nC(n,t-uu(n))}function Zy(e){let t=L_(e);return OC(t.year,new wo,t.ordinal_day)}function F_(e){let t=e[0],n=to(e),r=Hu(new st(t+(4-n))),s=P_(r)+1;return new sC(r,1+Ku(t-s,7),D_(n))}function gg(e){return L_(e).ordinal_day}function Gu(e){return Zy(e).month}function hx(e){let n=Gu(e);return wp(n)}function Bo(e){let n=Gu(e);return xC(n)}function Cd(e){return Zy(e).day}function px(e){return F_(e).week_year}function gx(e){return F_(e).week_number}function NC(e,t,n,r){for(;;){let s=e,i=t,u=n,o=r;if(u==="y")if(o===2){let c=Hu(s),l=M(c),d=xi(l,2,"0");return ux(d,2)}else{let c=Hu(s);return fx(c,o)}else if(u==="Y")if(o===2){let c=px(s),l=M(c),d=xi(l,2,"0");return ux(d,2)}else{let c=px(s);return fx(c,o)}else if(u==="Q")if(o===1){let c=Bo(s);return M(c)}else if(o===2){let c=Bo(s);return M(c)}else if(o===3){let c=Bo(s),l=M(c);return(d=>"Q"+d)(l)}else if(o===4){let c=Bo(s);return j_(c)}else if(o===5){let c=Bo(s);return M(c)}else return"";else if(u==="M")if(o===1){let c=hx(s);return M(c)}else if(o===2){let c=hx(s),l=M(c);return xi(l,2,"0")}else if(o===3){let c=Gu(s);return i.month_name_short(c)}else if(o===4){let c=Gu(s);return i.month_name(c)}else if(o===5){let c=Gu(s),l=i.month_name_short(c);return rl(l,1)}else return"";else if(u==="w")if(o===1){let c=gx(s);return M(c)}else if(o===2){let c=gx(s),l=M(c);return xi(l,2,"0")}else return"";else if(u==="d")if(o===1){let c=Cd(s);return M(c)}else if(o===2){let c=Cd(s),l=M(c);return xi(l,2,"0")}else if(o===3){let c=Cd(s);return i.day_with_suffix(c)}else return"";else if(u==="D")if(o===1){let c=gg(s);return M(c)}else if(o===2){let c=gg(s),l=M(c);return xi(l,2,"0")}else if(o===3){let c=gg(s),l=M(c);return xi(l,3,"0")}else return"";else if(u==="E")if(o===1){let c=Ti(s);return i.weekday_name_short(c)}else if(o===2){let c=Ti(s);return i.weekday_name_short(c)}else if(o===3){let c=Ti(s);return i.weekday_name_short(c)}else if(o===4){let c=Ti(s);return i.weekday_name(c)}else if(o===5){let c=Ti(s),l=i.weekday_name_short(c);return rl(l,1)}else if(o===6){let c=Ti(s),l=i.weekday_name_short(c);return rl(l,2)}else return"";else if(u==="e")if(o===1){let c=to(s);return M(c)}else if(o===2){let c=to(s);return M(c)}else e=s,t=i,n="E",r=o;else return""}}function RC(e,t,n){return ur(t,"",(r,s)=>{if(s instanceof O_){let i=s[0],u=s[1];return NC(n,e,i,u)+r}else return s[0]+r})}function kC(e,t,n){let r=(()=>{let i=Z5(n);return Pt(i)})();return RC(t,r,e)}function CC(e,t){return kC(e,EC(),t)}function oh(e){return CC(e,"yyyy-MM-dd")}function _e(e,t,n){for(;;){let r=e,s=t,i=n,u=r[0];if(i instanceof uC)e=r,t=12*s,n=new ix;else if(i instanceof ix){let o=Zy(r),a=12*(o.year-1)+(wp(o.month)-1)+s,c=sl(a,12)+1,l=ki(ei(a,12)+1);return new st(uu(c)+xp(c,l)+sp(o.day,Ol(c,l)))}else return i instanceof _a?new st(u+7*s):new st(u+s)}}function Sp(e,t){let n=e[0];return t instanceof oC?M_(Hu(e)):t instanceof aC?dx(Hu(e),(()=>{let r=Bo(e);return SC(r)})()):t instanceof cC?dx(Hu(e),Gu(e)):t instanceof lC?new st(n-wi(new Sa,e)):t instanceof _f?new st(n-wi(new Sa,e)):t instanceof fC?new st(n-wi(new bf,e)):t instanceof dC?new st(n-wi(new wf,e)):t instanceof hC?new st(n-wi(new vf,e)):t instanceof pC?new st(n-wi(new xf,e)):t instanceof gC?new st(n-wi(new Sf,e)):t instanceof mC?new st(n-wi(new Yy,e)):e}function Il(e,t,n){return t<=e&&e<=n}function DC(e,t){let n=vp(e)?366:365;return Il(t,1,n)?new H(new st(uu(e)+t)):new ne("Invalid ordinal date: "+("ordinal-day "+M(t)+" is out of range")+(" (1 to "+M(n)+")")+(" for "+M(e))+("; received (year "+M(e)+", ordinal-day "+M(t)+")"))}function MC(e,t,n){let r=Il(t,1,12),s=Il(n,1,Ol(e,ki(t)));return r?r&&!s?new ne("Invalid date: "+("day "+M(n)+" is out of range")+(" (1 to "+M(Ol(e,ki(t)))+")")+(" for "+(()=>{let u=ki(t);return Hm(u)})())+(t===2&&n===29?" ("+M(e)+" is not a leap year)":"")+("; received (year "+M(e)+", month "+M(t)+", day "+M(n)+")")):new H(new st(uu(e)+xp(e,ki(t))+n)):new ne("Invalid date: "+("month "+M(t)+" is out of range")+" (1 to 12)"+("; received (year "+M(e)+", month "+M(t)+", day "+M(n)+")"))}function PC(e,t,n){let r=AC(e)?53:52,s=Il(t,1,r),i=Il(n,1,7);return s?s&&!i?new ne("Invalid week date: "+("weekday "+M(n)+" is out of range")+" (1 to 7)"+("; received (year "+M(e)+", week "+M(t)+", weekday "+M(n)+")")):new H(new st(P_(e)+(t-1)*7+n)):new ne("Invalid week date: "+("week "+M(t)+" is out of range")+(" (1 to "+M(r)+")")+(" for "+M(e))+("; received (year "+M(e)+", week "+M(t)+", weekday "+M(n)+")"))}function jC(e,t){if(t instanceof N_){let n=t[0],r=t[1];return MC(e,n,r)}else if(t instanceof R_){let n=t[0],r=t[1];return PC(e,n,r)}else{let n=t[0];return DC(e,n)}}function LC(){return Ne(yC(),e=>Ne(vC(),t=>Nt(jC(e,t))))}function mx(e){let t=w_(e,H5());if(!t.isOk())throw sn("assignment_no_match","rada/date",950,"from_iso_string","Assignment pattern did not match",{value:t});let n=t[0],r=A_(n,(()=>{let s=LC();return ys(s,i=>As(g([(()=>{let u=Qy();return ys(u,o=>Zs(i))})(),(()=>{let u=Qi(new E_);return ys(u,o=>Zs(new ne("Expected a date only, not a date and time")))})(),Zs(new ne("Expected a date only"))])))})());if(r.isOk()&&r[0].isOk()){let s=r[0][0];return new H(s)}else if(r.isOk()&&!r[0].isOk()){let s=r[0][0];return new ne(s)}else return new ne("Expected a date in ISO 8601 format")}function FC(e,t){return s5(e,t)}function Jr(e,t){return i5(e,t)}function Ts(e){return Jr("click",t=>new H(e))}function BC(e){return Jr("keydown",t=>{let n=t,r=ke("key",ye)(n);return Q(r,e)})}function $C(e){return Jr("focus",t=>new H(e))}function UC(e){let t=e;return ke("target",ke("value",ye))(t)}function Wt(e){return Jr("input",t=>{let n=UC(t);return Q(n,e)})}function qC(e){let t=e;return ke("target",ke("checked",vR))(t)}function B_(e){return Jr("change",t=>{let n=qC(t);return Q(n,e)})}function eb(e){return Jr("submit",t=>(b5(t),new H(e)))}const VC=function(){let e=0;const t={};return function(n){return t[n]??(t[n]=(e++).toString().padStart(4,"0")),`css-${t[n]}`}}();function zC(){const e=new Error;if(!e.stack)throw new Error("Unable to find the stacktrace and to infer the className");const n=(e.stack??"").split(`
`),r=n.findIndex(u=>u.includes("LustreClientApplication")),s=r===-1?n.length:r;return n.slice(1,s).join(`
`)}function $_(e,t){const n=["string","number","boolean"];if(n.includes(typeof e)||n.includes(typeof t))return e===t;for(const r in e)if(!(r in t)||!$_(e[r],t[r]))return!1;return!0}function HC(){return!(typeof window>"u"||typeof document>"u")}class GC extends S{}class Nl{constructor(t){this.promise=t}static wrap(t){return t instanceof Promise?new Nl(t):t}static unwrap(t){return t instanceof Nl?t.promise:t}}function $r(e,t){return e.then(n=>Nl.wrap(t(Nl.unwrap(n))))}function _p(e,t){return $r(e,r=>(t(r),r))}function U_(e,t,n){e.setAttribute(t,n)}function JC(e,t){e.appendChild(t)}function WC(e,t){e.appendChild(t)}function QC(e,t){const n=t instanceof q_?"open":"closed";return e.attachShadow({mode:n})}class q_ extends S{}let XC=class extends S{},KC=class extends S{};class YC extends S{constructor(t){super(),this.root=t}}class ZC extends S{constructor(t){super(),this.stylesheet=t}}function eD(e){return new ZC(new YC(e))}function V_(e){return e instanceof XC?"node":e instanceof KC?"document":"shadow-root"}let tD=class{static for(t){switch(V_(t)){case"node":return new nD;case"document":return new rD;case"shadow-root":return new sD(t.root)}}};var $u,af;class tb{constructor(){$e(this,$u);$e(this,af);oe(this,$u,new Map),oe(this,af,0)}insertRule(t){const n=jv(this,af)._++;return $(this,$u).set(n,t),n}deleteRule(t){$(this,$u).delete(t)}buildRules(){return[...$(this,$u).values()].join(`

`)}}$u=new WeakMap,af=new WeakMap;var Uu;class nD extends tb{constructor(){super();$e(this,Uu);oe(this,Uu,document.createElement("style")),$(this,Uu).setAttribute("class","sketch-stylesheet"),document.head.appendChild($(this,Uu))}render(){const n=this.buildRules();$(this,Uu).innerHTML=n}}Uu=new WeakMap;var ha;class rD extends tb{constructor(){super();$e(this,ha);oe(this,ha,new CSSStyleSheet),document.adoptedStyleSheets.push($(this,ha))}render(){const n=this.buildRules();$(this,ha).replaceSync(n)}}ha=new WeakMap;var pa;class sD extends tb{constructor(n){super();$e(this,pa);oe(this,pa,new CSSStyleSheet),n.adoptedStyleSheets.push($(this,pa))}render(){const n=this.buildRules();$(this,pa).replaceSync(n)}}pa=new WeakMap;let na;var qu,xn,Gs,Js,ho,Jm,z_;const kv=class kv{constructor(t){$e(this,ho);$e(this,qu);$e(this,xn);$e(this,Gs);$e(this,Js);oe(this,qu,new Map),oe(this,xn,new Map),oe(this,Gs,new Map),oe(this,Js,tD.for(t.stylesheet))}static create(t){const n=V_(t.stylesheet);return["document","shadow-root"].includes(n)&&!HC()?new ne(new GC):new kv(t)}prepare(){oe(this,Gs,$(this,xn)),oe(this,xn,new Map)}diff(){const t=new Set;for(const n of $(this,xn).keys())t.add(n);for(const n of $(this,Gs).keys())t.add(n);t.forEach(n=>{if($(this,xn).has(n)){const r=$(this,xn).get(n);return(r==null?void 0:r.indexRules)!==null?void 0:_r(this,ho,Jm).call(this,r)}if($(this,Gs).has(n))return _r(this,ho,z_).call(this,$(this,Gs).get(n))}),$(this,Js).render()}persist(t,n){const r=$(this,qu).get(t);if(r)return{name:r.name,className:t};const s=$(this,xn).get(t);if(s)return{name:s.name,className:t};const i=$(this,Gs).get(t);if(i&&$_(n,i.previousStyles))return $(this,xn).set(t,i),{name:i.name,className:t}}store(t,n){$(this,xn).set(t,n)}memoize({className:t}){if($(this,qu).has(t))return;const n=$(this,xn).get(t);$(this,qu).set(t,n),$(this,xn).delete(t),n.indexRules===null&&_r(this,ho,Jm).call(this,n)}};qu=new WeakMap,xn=new WeakMap,Gs=new WeakMap,Js=new WeakMap,ho=new WeakSet,Jm=function(t){const n=[],{definitions:r}=t;n.push($(this,Js).insertRule(r.class_def));for(const s of r.selectors_def)n.push($(this,Js).insertRule(s));for(const s of r.medias_def)n.push($(this,Js).insertRule(s));t.indexRules=n},z_=function(t){var n;(n=t.indexRules)==null||n.forEach(r=>{$(this,Js).deleteRule(r)})};let ah=kv;function iD(e){const t=ah.create(e);return t instanceof ah&&(na=t),new H(t)}function uD(e){na=e,na.prepare()}function oD(e){return e.diff(),new H(null)}let yx=!1;const aD="Sketch lifecycles setup is missing.",cD=`If you're not using lustre, you should use directly the lifecycle functions:
  - create_cache (https://hexdocs.pm/sketch/sketch.html#create_cache)
  - prepare (https://hexdocs.pm/sketch/sketch.html#prepare)
  - render (https://hexdocs.pm/sketch/sketch.html#render)

// main.gleam
// Assuming your framework have a lifecycle, here's a fictive example.

import sketch
import sketch/options as sketch_options

pub fn main() {
  let assert Ok(cache) = sketch.create_cache()
  start_app()
  |> add_before_render(fn () { sketch.prepare(cache) })
  |> add_after_render(fn () { sketch.render(cache) })
}
`,lD=`// main.gleam
// If you're using lustre, initialize Sketch in your main().

import sketch/lustre as sketch_lustre
import sketch/options as sketch_options

pub fn main() {
  let assert Ok(cache) =
    sketch_options.node()
    |> sketch_lustre.setup()

  let assert Ok(_) =
    view
    |> sketch_lustre.compose(cache)
    |> lustre.simple(init, update, _)
    |> lustre.start("#app", Nil)

}
`,fD={setup(){if(yx)return;const e="Meanwhile, styles won’t apply, but will not block your render.",t="More informations on https://hexdocs.pm/sketch.";console.warn(aD),console.warn(lD),console.warn(cD),console.warn(e),console.warn(t),yx=!0}};function H_(e){return L3(" ",e)}function Wm(e,t,n,r){let s=H_(n),i=Fe(r,""),u=W(s+"."+e+i+" {",t),o=ba(u,`
`);return tr(o,`
`+s+"}")}class G_ extends S{constructor(t){super(),this.class_name=t}}class J_ extends S{constructor(t,n){super(),this.query=t,this.styles=n}}class dD extends S{constructor(t,n){super(),this.pseudo_selector=t,this.styles=n}}let nb=class extends S{constructor(t,n,r){super(),this.key=t,this.value=n,this.important=r}};class hD extends S{constructor(t,n,r,s,i){super(),this.properties=t,this.medias=n,this.classes=r,this.pseudo_selectors=s,this.indent=i}}class pD extends S{constructor(t,n,r){super(),this.query=t,this.properties=n,this.pseudo_selectors=r}}class gD extends S{constructor(t,n){super(),this.pseudo_selector=t,this.properties=n}}class mD extends S{constructor(t,n,r,s){super(),this.class_def=t,this.medias_def=n,this.selectors_def=r,this.name=s}}function yD(e,t,n,r){let s=H_(e),i=r?" !important":"";return s+t+": "+n+i+";"}function bD(e){return new hD(g([]),g([]),g([]),g([]),e)}function wD(e,t){let n=W(t,e.classes);return e.withFields({classes:n})}function vD(e,t){if(!(t instanceof nb))throw sn("assignment_no_match","sketch/internals/style",77,"handle_property","Assignment pattern did not match",{value:t});let n=t.key,r=t.value,s=t.important,i=yD(e.indent,n,r,s),u=W(i,e.properties);return e.withFields({properties:u})}function bx(e,t,n){return K(n,r=>Wm(e,r.properties,t,new k(r.pseudo_selector)))}function xD(e,t){let n=t.properties,r=t.medias,s=t.classes,i=t.pseudo_selectors,u=Wm(e,n,0,new X),o=K(r,l=>{let d=l.query,h=l.properties,f=l.pseudo_selectors,p=bx(e,2,f),m=g([d+" {",Wm(e,h,2,new X)]),y=(w=>up(g([p,g(["}"])]),w))(m),b=Gn(y);return ba(b,`
`)}),a=bx(e,0,i),c=bR(ba(s," ")+" "+e);return new mD(u,o,a,c)}function SD(e,t){if(!(t instanceof J_))throw sn("assignment_no_match","sketch/internals/style",84,"handle_media","Assignment pattern did not match",{value:t});let n=t.query,r=t.styles,s=rb(r,e.indent+2),i=new pD(n,s.properties,s.pseudo_selectors),u=(o=>up(e.medias,o))(i);return(o=>e.withFields({medias:o}))(u)}function rb(e,t){return Cy(e,bD(t),(n,r)=>{if(r instanceof G_){let s=r.class_name;return wD(n,s)}else return r instanceof nb?vD(n,r):r instanceof J_?SD(n,r):_D(n,r)})}function _D(e,t){if(!(t instanceof dD))throw sn("assignment_no_match","sketch/internals/style",96,"handle_pseudo_selector","Assignment pattern did not match",{value:t});let n=t.pseudo_selector,r=t.styles,s=rb(r,e.indent+2),i=new gD(n,s.properties),u=(a=>up(s.pseudo_selectors,a))(i),o=ky(u,e.pseudo_selectors);return(a=>e.withFields({pseudo_selectors:a}))(o)}function W_(e,t){if(!na)return fD.setup(),{name:"",className:""};const n=t??zC(),r=na.persist(n);if(r)return r;const s=VC(n),i=rb(e,2),{name:u,...o}=xD(s,i);return na.store(n,{name:u,definitions:o,previousStyles:e,indexRules:null}),{name:u,className:n}}function Q_({name:e}){return e}class X_ extends S{constructor(t){super(),this[0]=t}}class AD extends S{constructor(t){super(),this[0]=t}}class TD extends S{constructor(t){super(),this[0]=t}}class ED extends S{constructor(t){super(),this[0]=t}}class OD extends S{constructor(t){super(),this[0]=t}}class ID extends S{constructor(t){super(),this[0]=t}}class ND extends S{constructor(t){super(),this[0]=t}}class RD extends S{constructor(t){super(),this[0]=t}}class K_ extends S{constructor(t){super(),this[0]=t}}function He(e){return new X_(Ny(e))}function kD(e){return new K_(Ny(e))}function ks(e){if(e instanceof X_){let t=e[0];return tr(Zr(t),"px")}else if(e instanceof AD){let t=e[0];return tr(Zr(t),"pt")}else if(e instanceof K_){let t=e[0];return tr(Zr(t),"%")}else if(e instanceof TD){let t=e[0];return tr(Zr(t),"vh")}else if(e instanceof ED){let t=e[0];return tr(Zr(t),"vw")}else if(e instanceof OD){let t=e[0];return tr(Zr(t),"em")}else if(e instanceof ID){let t=e[0];return tr(Zr(t),"rem")}else if(e instanceof ND){let t=e[0];return tr(Zr(t),"lh")}else if(e instanceof RD){let t=e[0];return tr(Zr(t),"rlh")}else{let t=e[0];return tr(Zr(t),"ch")}}let Y_=class extends S{constructor(t){super(),this.internal=t}};function Z_(e){return K(e,t=>t.internal)}function I(e,t){return new Y_(new nb(e,t,!1))}function sb(e){return I("width",ks(e))}function CD(e){return I("width",e)}function DD(e){return I("max-width",e)}function MD(e){return I("max-height",e)}function ic(e){return I("color",e)}function uc(e){return I("font-family",e)}function Ap(e){return I("font-size",ks(e))}function PD(e){return I("line-height",e)}function ib(e){return I("white-space",e)}function eA(e){return I("word-break",e)}function ou(e){return I("display",e)}function tA(e){return I("z-index",M(e))}function vo(e){return I("background",e)}function ub(e){return I("position",e)}function jD(e){return I("outline",e)}function nA(e){return I("gap",ks(e))}function rA(e){return I("grid-column",e)}function ob(e){return I("grid-template-columns",e)}function ab(e){return I("align-items",e)}function sA(e){return I("justify-content",e)}function LD(e){return I("justify-self",e)}function iA(e){return I("appearance",e)}function uA(e){return I("top",ks(e))}function oA(e){return I("bottom",ks(e))}function aA(e){return I("right",ks(e))}function FD(e){return I("left",ks(e))}function BD(e){return I("box-shadow",e)}function cb(e){return I("overflow",e)}function $D(e){return I("overflow-y",e)}function UD(e){return I("flex-direction",e)}function lb(e){return I("border",e)}function cA(e){return I("border-bottom",e)}function lA(e){return I("border-right",e)}function fA(e){return I("border-radius",ks(e))}function Af(e){return I("padding",ks(e))}function qD(e){return I("padding",e)}function VD(e){return I("margin",ks(e))}function Tp(e){let n=Q_(e),r=new G_(n);return new Y_(r)}function Be(e){let n=Z_(e);return W_(n)}function zD(e,t){let r=Z_(t);return W_(r,e)}function Pe(e){let n=Q_(e),r=F3(n," "),s=K(r,i=>[i,!0]);return a5(s)}function HD(e){return iD(e)}function GD(e,t){return n=>{uD(t);let r=e(n);return oD(t),r}}class JD extends S{constructor(t){super(),this[0]=t}}class WD extends S{constructor(t){super(),this[0]=t}}function dA(){try{return globalThis.Storage&&globalThis.localStorage instanceof globalThis.Storage?new H(globalThis.localStorage):new ne(null)}catch{return new ne(null)}}function QD(e,t){return KD(e.getItem(t))}function XD(e,t,n){try{return e.setItem(t,n),new H(null)}catch{return new ne(null)}}function KD(e){return e!==null?new H(e):new ne(null)}class Tf extends S{constructor(t,n,r,s,i,u,o,a,c,l,d,h,f,p,m,y,b,w,x){super(),this.background=t,this.shadow=n,this.primary=r,this.editor_fg=s,this.editor_bg=i,this.gutter=u,this.syntax_comment=o,this.button=a,this.function=c,this.nil=l,this.bool=d,this.constant=h,this.bit_array=f,this.utf_codepoint=p,this.string=m,this.number=y,this.custom_type=b,this.regex=w,this.date=x}}class Ep extends S{}class Op extends S{}class Ip extends S{}class Np extends S{}class ch extends S{}function hA(e){return e instanceof Ep?"Ayu Dark":e instanceof Op?"Ayu Light":e instanceof Ip?"Catpuccin Light":e instanceof Np?"Catpuccin Frappé":"Gleam"}function pA(e){return e==="Ayu Dark"?new Ep:e==="Ayu Light"?new Op:e==="Catpuccin Light"?new Ip:e==="Catpuccin Frappé"?new Np:e==="Gleam"?new ch:new ch}function YD(){return g([new Ep,new Op,new Ip,new Np,new ch])}const gA="lustre-debugger-color";function ZD(){let e=dA(),t=fn(e,r=>QD(r,gA)),n=Q(t,pA);return Se(n,new ch)}function e9(e){return mn(t=>{fn(dA(),n=>{let r=hA(e);return XD(n,gA,r)})})}const lt=new Tf("#111","#333","#ffcc66","#cccac2","#242936","#8a919966","#b8cfe680","#ffd173","#ffd173","#ffad66","#dfbfff","#ffad66","#d5ff80","#f28779","#d5ff80","#5ccfe6","#73d0ff","#95e6cb","#dfbfff");function t9(){let e=Be(g([I("--background",lt.background),I("--shadow",lt.shadow),I("--primary",lt.primary),I("--editor-fg",lt.editor_fg),I("--editor-bg",lt.editor_bg),I("--gutter",lt.gutter),I("--syntax-comment",lt.syntax_comment),I("--button",lt.button),I("--function",lt.function),I("--nil",lt.nil),I("--bool",lt.bool),I("--constant",lt.constant),I("--bit-array",lt.bit_array),I("--utfcodepoint",lt.utf_codepoint),I("--string",lt.string),I("--number",lt.number),I("--custom-type",lt.custom_type),I("--regex",lt.regex),I("--date",lt.date)]));return Pe(e)}const ft=new Tf("white","#ccc","#ffd596","#5c6166","#f8f9fa","#8a919966","#787b8099","#F2AE49","#F2AE49","#fa8d3e","#a37acc","#fa8d3e","#86b300","#f07171","#86b300","#55b4d4","#399ee6","#4cbf43","#a37acc");function n9(){let e=Be(g([I("--background",ft.background),I("--shadow",ft.shadow),I("--primary",ft.primary),I("--editor-fg",ft.editor_fg),I("--editor-bg",ft.editor_bg),I("--gutter",ft.gutter),I("--syntax-comment",ft.syntax_comment),I("--button",ft.button),I("--function",ft.function),I("--nil",ft.nil),I("--bool",ft.bool),I("--constant",ft.constant),I("--bit-array",ft.bit_array),I("--utfcodepoint",ft.utf_codepoint),I("--string",ft.string),I("--number",ft.number),I("--custom-type",ft.custom_type),I("--regex",ft.regex),I("--date",ft.date)]));return Pe(e)}const dt=new Tf("#e6e9ef","#dce0e8","#dc8a78","#4c4f69","#eff1f5","#dce0e8","#6c6f85","#dd7878","#ea76cb","#8839ef","#d20f39","#8839ef","#40a02b","#fe640b","#40a02b","#04a5e5","#7287fd","#179299","#d20f39");function r9(){let e=Be(g([I("--background",dt.background),I("--shadow",dt.shadow),I("--primary",dt.primary),I("--editor-fg",dt.editor_fg),I("--editor-bg",dt.editor_bg),I("--gutter",dt.gutter),I("--syntax-comment",dt.syntax_comment),I("--button",dt.button),I("--function",dt.function),I("--nil",dt.nil),I("--bool",dt.bool),I("--constant",dt.constant),I("--bit-array",dt.bit_array),I("--utfcodepoint",dt.utf_codepoint),I("--string",dt.string),I("--number",dt.number),I("--custom-type",dt.custom_type),I("--regex",dt.regex),I("--date",dt.date)]));return Pe(e)}const ht=new Tf("#292c3c","#232634","#f2d5cf","#c6d0f5","#303446","#232634","#a5adce","#eebebe","#f4b8e4","#ca9ee6","#e78284","#ca9ee6","#a6d189","#ef9f76","#a6d189","#99d1db","#babbf1","#81c8be","#e78284");function s9(){let e=Be(g([I("--background",ht.background),I("--shadow",ht.shadow),I("--primary",ht.primary),I("--editor-fg",ht.editor_fg),I("--editor-bg",ht.editor_bg),I("--gutter",ht.gutter),I("--syntax-comment",ht.syntax_comment),I("--button",ht.button),I("--function",ht.function),I("--nil",ht.nil),I("--bool",ht.bool),I("--constant",ht.constant),I("--bit-array",ht.bit_array),I("--utfcodepoint",ht.utf_codepoint),I("--string",ht.string),I("--number",ht.number),I("--custom-type",ht.custom_type),I("--regex",ht.regex),I("--date",ht.date)]));return Pe(e)}const pt=new Tf("#2f2f2f","#2f2f2f","#ffaff3","#fefefc","#292d3e","#8a919966","#848484","#ffaff3","#ffd596","#d4d4d4","#ff6262","#d4d4d4","#c8ffa7","#c8ffa7","#c8ffa7","#a6f0fc","#9ce7ff","#fdffab","#ffddfa");function i9(){let e=Be(g([I("--background",pt.background),I("--shadow",pt.shadow),I("--primary",pt.primary),I("--editor-fg",pt.editor_fg),I("--editor-bg",pt.editor_bg),I("--gutter",pt.gutter),I("--syntax-comment",pt.syntax_comment),I("--button",pt.button),I("--function",pt.function),I("--nil",pt.nil),I("--bool",pt.bool),I("--constant",pt.constant),I("--bit-array",pt.bit_array),I("--utfcodepoint",pt.utf_codepoint),I("--string",pt.string),I("--number",pt.number),I("--custom-type",pt.custom_type),I("--regex",pt.regex),I("--date",pt.date)]));return Pe(e)}function u9(e){return e instanceof Op?n9():e instanceof Ep?t9():e instanceof Ip?r9():e instanceof Np?s9():i9()}class o9 extends S{constructor(t,n,r){super(),this.index=t,this.model=n,this.msg=r}}class mA extends S{}class yA extends S{constructor(t){super(),this[0]=t}}class a9 extends S{constructor(t){super(),this[0]=t}}class bA extends S{constructor(t){super(),this[0]=t}}class wA extends S{constructor(t,n){super(),this[0]=t,this[1]=n}}class c9 extends S{constructor(t,n,r){super(),this[0]=t,this[1]=n,this[2]=r}}class vA extends S{constructor(t,n){super(),this[0]=t,this[1]=n}}class xA extends S{constructor(t){super(),this[0]=t}}class l9 extends S{constructor(t,n,r,s){super(),this.count=t,this.steps=n,this.dispatcher=r,this.selected_step=s}}function f9(){return new l9(1,g([]),new X,new X)}function d9(e,t){return e.withFields({dispatcher:new k(t)})}function ud(e,t,n){let s=op(e,a=>Ae(a)===t),i=Se(s,[t,f9()]),u=It(i),o=n(u);return(a=>E3(e,t,a))(o)}function SA(e,t){let r=op(e,s=>Ae(s)===t);return Q(r,It)}function h9(e){return e.withFields({selected_step:new X})}function p9(e,t){return e.withFields({selected_step:t})}function g9(e,t,n){let r=e.count,s=e.steps,i=new o9(M(r),t,n);return e.withFields({count:r+1,steps:W(i,s)})}let m9=class extends S{constructor(t,n,r,s,i){super(),this.debuggers=t,this.color_scheme=n,this.frozen=r,this.opened=s,this.selected_debugger=i}};function y9(e,t){let n=I8(e.selected_debugger,new k(t));return e.withFields({selected_debugger:n})}function b9(e){return ma(e.debuggers,t=>{let n=It(t).steps;return!v3(n)})}function _A(e){return document.createElement(e)}function w9(){return document.body}class fb extends S{}class lh extends S{constructor(t){super(),this[0]=t}}class db extends S{constructor(t){super(),this[0]=t}}class hb extends S{constructor(t){super(),this[0]=t}}class pb extends S{constructor(t){super(),this[0]=t}}class gb extends S{constructor(t){super(),this[0]=t}}class mb extends S{constructor(t){super(),this[0]=t}}class yb extends S{constructor(t){super(),this[0]=t}}class bb extends S{constructor(t){super(),this[0]=t}}class wb extends S{constructor(t,n){super(),this[0]=t,this[1]=n}}class vb extends S{constructor(t){super(),this[0]=t}}class xb extends S{constructor(t){super(),this[0]=t}}class Sb extends S{constructor(t){super(),this[0]=t}}class _b extends S{constructor(t){super(),this[0]=t}}class Ab extends S{constructor(t){super(),this[0]=t}}class v9 extends S{constructor(t,n){super(),this[0]=t,this[1]=n}}function Es(e){const t=typeof e;if(e===!0)return new lh("True");if(e===!1)return new lh("False");if(e===null)return new db("//js(null)");if(e===void 0)return new fb;if(t==="string")return new gb(JSON.stringify(e));if(t==="bigint"||t==="number")return new mb(e.toString());if(Array.isArray(e))return new yb(Xe.fromArray(e.map(Es)));if(e instanceof Xe)return A9(e);if(e instanceof b3)return E9(e);if(e instanceof ga)return T9(e);if(e instanceof S)return _9(e);if(e instanceof Gt)return x9(e);if(e instanceof Set)return xb(Xe.fromArray([...e].map(Es)));if(e instanceof RegExp)return new Sb(`//js(${e})`);if(e instanceof Date)return new _b(`//js(Date("${e.toISOString()}"))`);if(e instanceof Function){const n=[];for(const r of Array(e.length).keys())n.push(String.fromCharCode(r+97));return new Ab(`//fn(${n.join(", ")}) { ... }`)}return S9(e)}function x9(e){const t=[];return e.forEach((n,r)=>t.push([Es(r),Es(n)])),new vb(Xe.fromArray(t))}function S9(e){var s,i;const t=((i=(s=Object.getPrototypeOf(e))==null?void 0:s.constructor)==null?void 0:i.name)||"Object",n=[];for(const u of Object.keys(e))n.push([Es(u),Es(e[u])]);const r=t==="Object"?"":t+" ";return new v9(r,Xe.fromArray(n))}function _9(e){const t=Xe.fromArray(Object.keys(e).map(n=>{const r=Es(e[n]);return isNaN(parseInt(n))?[new k(n+": "),r]:[new X,r]}));return new wb(e.constructor.name,t)}function A9(e){return new bb(Xe.fromArray(e.toArray().map(Es)))}function T9(e){return new hb(`<<${Array.from(e.buffer).join(", ")}>>`)}function E9(e){return new pb(`//utfcodepoint(${String.fromCodePoint(e.value)})`)}function O9(e){const t=new CSSStyleSheet;t.replace(e),document.adoptedStyleSheets.push(t)}function I9(e,t,n){return e.withFields({update:n(e.update),init:t(e.init)})}const N9=`@font-face {
  font-family: 'Lexend';
  src: url(data:application/font-woff2;charset=utf-8;base64,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) format('woff2'),
        url(data:application/font-woff;charset=utf-8;base64,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) format('woff');
  font-weight: normal;
  font-style: normal;
}`;function R9(e){let t=_A("div"),n=QC(t,new q_);return JC(w9(),t),U_(t,"class","tardis"),WC(n,e),n}function k9(){let e=_A("div");return U_(e,"id","tardis-start"),e}function C9(){O9(N9);let e=k9(),t=R9(e),n=B3(zr(e));return[t,n]}function D9(e){return t=>n=>{let r=t(n),i=Ae(r),u=zr(i);return e(u,zr("Init")),r}}function M9(e){return t=>(n,r)=>{let s=t(n,r),u=Ae(s),o=zr(u);return e(o,zr(r)),s}}function P9(e,t){return n=>{let s=(u=>new wA(t,u))(u=>mn(o=>{let c=zr(u),l=new o_(c),d=new i_(l);return B3(n)(d)})),i=d_(s);return e(i)}}function j9(e,t){return(n,r)=>{let i=(o=>new c9(t,o,r))(n),u=d_(i);return e(u)}}function AA(){return Be(g([tA(1000001),ou("flex"),UD("column"),ub("fixed"),oA(He(12)),aA(He(12)),vo("var(--background)"),fA(He(10)),BD("0px 0px 5px 1px var(--shadow)"),cb("hidden"),lb("2px solid var(--primary)"),ic("var(--editor-fg)"),sb(He(1e3)),DD("calc(100vw - 24px)"),MD("min(1200px, calc(100vh - 24px))")]))}function L9(){let e=AA();return Pe(e)}function F9(){let e=g([Tp(AA()),sb(He(400)),sA("center")]),t=Be(e);return Pe(t)}function TA(){return Be(g([ou("grid"),rA("1 / 4"),ob("subgrid"),ub("sticky"),uA(He(0))]))}function wx(){let e=TA();return Pe(e)}function B9(){let e=Be(g([Tp(TA()),cA("2px solid var(--primary)")]));return Pe(e)}function EA(){return Be(g([vo("var(--background)"),Af(He(12)),ou("flex"),ab("center"),sA("space-between"),uc("Lexend")]))}function $9(){let e=EA();return Pe(e)}function U9(){let e=g([Tp(EA())]),t=Be(e);return Pe(t)}function q9(){let e=Be(g([ou("grid"),ob("auto 2fr 3fr"),uc("monospace"),$D("auto"),CD("100%"),ib("pre-wrap"),Ap(He(10))]));return Pe(e)}function OA(){return Be(g([ou("grid"),rA("1 / 4"),ob("subgrid"),vo("var(--editor-bg)"),Ap(He(14)),cA("1px solid var(--gutter)")]))}function V9(){let e=OA();return Pe(e)}function z9(){let e=g([Tp(OA()),vo("var(--shadow)")]),t=Be(e);return Pe(t)}function H9(){let e=Be(g([qD("9px 9px"),LD("end"),lA("1px solid var(--gutter)"),uc("Lexend"),ic("var(--syntax-comment)")]));return Pe(e)}function G9(){let e=Be(g([cb("hidden"),eA("break-all"),Af(He(9)),lA("1px solid var(--gutter)")]));return Pe(e)}function J9(){let e=Be(g([cb("hidden"),eA("break-all"),Af(He(6))]));return Pe(e)}function W9(){let e=Be(g([ou("flex"),nA(He(12)),ab("center"),ib("nowrap")]));return Pe(e)}function Q9(){let e=Be(g([iA("none"),lb("none"),vo("none"),uc("Lexend"),I("cursor","pointer"),ic("var(--button)")]));return Pe(e)}function X9(){let e=g([ic("var(--bool)"),ib("pre")]),t=Be(e);return Pe(t)}function Aa(){let e=g([ou("flex")]),t=Be(e);return Pe(t)}function K9(){let e=Be(g([ou("flex"),ab("center"),nA(He(18))]));return Pe(e)}function IA(e){let t="syntax-"+e,n=zD(t,g([ic(e)]));return Pe(n)}function mg(){let e=Be(g([Ap(He(14)),uc("Lexend"),vo("var(--background)"),Af(He(9))]));return Pe(e)}function Tb(){let e=Be(g([iA("none"),vo("transparent"),Af(He(6)),VD(He(0)),sb(kD(100)),Ap(He(12)),uc("inherit"),PD("inherit"),ic("var(--primary)"),lb("1px solid var(--primary)"),fA(He(5)),jD("none")]));return Pe(e)}function Y9(){let e=Be(g([ub("fixed"),uA(He(0)),oA(He(0)),aA(He(0)),FD(He(0)),tA(1e6)]));return Pe(e)}function Je(e,t,n,r){let s=L3(" ",e),i=IA(r);return _s(t)===0?P(g([i]),g([tn(s+n)])):P(g([Aa()]),g([P(g([X9()]),g([tn(s+t)])),P(g([i]),g([tn(n)]))]))}function Z9(e,t){let n=t.count;return e?e&&n===1?wx():B9():wx()}function eM(e,t){return P(g([Z9(e,t)]),g([P(g([mg()]),g([tn("Step")])),P(g([mg()]),g([tn("Msg")])),P(g([mg()]),g([tn("Model")]))]))}function Iu(e){if(e instanceof fb)return 1;if(e instanceof lh)return 1;if(e instanceof db)return 1;if(e instanceof hb)return 1;if(e instanceof pb)return 1;if(e instanceof gb)return 1;if(e instanceof mb)return 1;if(e instanceof Sb)return 1;if(e instanceof _b)return 1;if(e instanceof Ab)return 1;if(e instanceof yb){let t=e[0],n=K(t,Iu);return ur(n,2,(r,s)=>r+s)}else if(e instanceof bb){let t=e[0],n=K(t,Iu);return ur(n,2,(r,s)=>r+s)}else if(e instanceof wb){let t=e[1],n=K(t,r=>Iu(It(r)));return ur(n,2,(r,s)=>r+s)}else if(e instanceof vb){let t=e[0],n=K(t,r=>Iu(It(r)));return ur(n,2,(r,s)=>r+s)}else if(e instanceof xb){let t=e[0],n=K(t,r=>Iu(r));return ur(n,2,(r,s)=>r+s)}else{let t=e[1],n=K(t,r=>Iu(It(r)));return ur(n,2,(r,s)=>r+s)}}function vx(e,t){return e?t:""}function tM(e,t,n){return Gn(g([g([Je(n,t,"#(","var(--editor-fg)")]),za(e,r=>ui(r,n+2,"")),g([Je(n,t,")","var(--editor-fg)")])]))}function ui(e,t,n){if(e instanceof fb)return g([Je(t,n,"Nil","var(--nil)")]);if(e instanceof lh){let r=e[0];return g([Je(t,n,r,"var(--bool)")])}else if(e instanceof db){let r=e[0];return g([Je(t,n,r,"var(--constant)")])}else if(e instanceof hb){let r=e[0];return g([Je(t,n,r,"var(--bit-array)")])}else if(e instanceof pb){let r=e[0];return g([Je(t,n,r,"var(--utfcodepoint)")])}else if(e instanceof gb){let r=e[0];return g([Je(t,n,r,"var(--string)")])}else if(e instanceof mb){let r=e[0];return g([Je(t,n,r,"var(--number)")])}else if(e instanceof Sb){let r=e[0];return g([Je(t,n,r,"var(--regex)")])}else if(e instanceof _b){let r=e[0];return g([Je(t,n,r,"var(--date)")])}else if(e instanceof Ab){let r=e[0];return g([Je(t,n,r,"var(--function)")])}else if(e instanceof yb){let r=e[0];return tM(r,n,t)}else if(e instanceof bb){let r=e[0];return sM(r,n,t)}else if(e instanceof wb){let r=e[0],s=e[1];return iM(r,s,n,t)}else if(e instanceof vb){let r=e[0];return uM(r,n,t)}else if(e instanceof xb){let r=e[0];return oM(r,n,t)}else{let r=e[0],s=e[1];return aM(r,s,n,t)}}function nM(e,t,n){let r=n.index,s=n.model,i=n.msg,u=Fe(t,"")===r?z9():V9();return P(g([u,Ts(new vA(e,n))]),g([P(g([H9()]),g([tn(r)])),P(g([G9()]),ui(Es(i),0,"")),P(g([J9()]),ui(Es(s),0,""))]))}function rM(e,t,n){let r=n.selected_step;return e?Vu(s=>P(g([q9()]),s),(()=>{let s=n.steps,i=A3(s,100),u=K(i,o=>[o.index,nM(t,r,o)]);return up(u,["header",eM(e,n)])})()):Nn()}function sM(e,t,n){let r=Je(n,t,"[","var(--editor-fg)"),s=u=>Je(u,"","]","var(--editor-fg)");return v3(e)?g([P(g([Aa()]),g([r,s(0)]))]):Gn(g([g([r]),za(e,u=>ui(u,n+2,"")),g([s(n)])]))}function iM(e,t,n,r){let s=o=>{let a=vx(o,"(");return Je(r,n,e+a,"var(--custom-type)")},i=(o,a)=>{let c=vx(a,")");return Je(o,"",c,"var(--custom-type)")},u=o=>{let a=o?[r,r+2]:[0,0],c=a[0],l=a[1];return Gn(g([g([s(!0)]),za(t,d=>{let h=Fe(Ae(d),"");return ui(It(d),l,h)}),g([i(c,!0)])]))};return t.atLeastLength(2)?u(!0):t.atLeastLength(1)?ur(t,0,(c,l)=>c>2?c:Iu(It(l))+c)>2?u(!0):g([P(g([Aa()]),u(!1))]):g([P(g([Aa()]),g([s(!1),i(0,!1)]))])}function uM(e,t,n){return Gn(g([g([Je(n,t,"//js dict.from_list([","var(--editor-fg)")]),za(e,r=>g([P(g([Aa()]),Gn(g([ui(Ae(r),n+2,"#("),ui(It(r),0,", "),g([P(g([IA("var(--bool)")]),g([tn(")")]))]),g([tn(",")])])))])),g([Je(n,"","])","var(--editor-fg)")])]))}function oM(e,t,n){return Gn(g([g([Je(n,t,"//js Set(","var(--editor-fg)")]),za(e,r=>ui(r,n+2,"")),g([Je(n,t,")","var(--editor-fg)")])]))}function aM(e,t,n,r){return Gn(g([g([Je(r,n,e+" {","var(--editor-fg)")]),za(t,s=>ui(It(s),r+2,"")),g([Je(r,n,"}","var(--editor-fg)")])]))}class cM extends S{constructor(t){super(),this.dispatch=t}}class lM extends S{constructor(t){super(),this[0]=t}}function fM(e,t){return Q(e,n=>{let r=t[0][0];return r(zr(n)),n})}function dM(e,t){let r=h_(t,e,void 0);return po(r,s=>new WD(s))}function hM(e){let t=HD(eD(e));return po(t,n=>(Wi("Unable to start sketch. Check your configuration."),Wi(n),new JD(n)))}function pM(e){let t=ZD(),n=(r=>new m9(g([]),r,!1,!1,new X))(t);return Ou(n,j())}function gM(e,t){if(t instanceof mA)return[e.withFields({opened:!e.opened}),j()];if(t instanceof xA){let n=t[0],r=(()=>{let o=e.debuggers,a=S3(o,c=>{let l=It(c),d=x3(l.steps);return fn(d,h=>{let f=l.dispatcher,p=We(f,m=>Kv(m,h.model));return Mm(p,void 0)})});return Hy(a)})(),s=e.debuggers,i=ud(s,n,h9),u=(o=>e.withFields({frozen:!1,debuggers:o}))(i);return Ou(u,r)}else if(t instanceof yA){let n=t[0],r=e.withFields({color_scheme:n});return Ou(r,e9(n))}else if(t instanceof wA){let n=t[0],r=t[1],s=e.debuggers,i=ud(s,n,o=>d9(o,r)),u=(o=>e.withFields({debuggers:o}))(i);return Ou(u,j())}else if(t instanceof vA){let n=t[0],r=t[1],s=new k(r.index),i=(()=>{let c=e.debuggers,l=SA(c,n),d=fn(l,h=>{let f=h.dispatcher,p=We(f,m=>Kv(m,r.model));return Mm(p,void 0)});return Se(d,j())})(),u=e.debuggers,o=ud(u,n,c=>p9(c,s)),a=(c=>e.withFields({frozen:!0,debuggers:c}))(o);return Ou(a,i)}else if(t instanceof a9){let n=t[0];return Wi(n),[e,j()]}else if(t instanceof bA){let n=t[0],r=e.withFields({selected_debugger:new k(n)});return Ou(r,j())}else{let n=t[0],r=t[1],s=t[2],i=e.debuggers,u=ud(i,n,c=>g9(c,r,s)),o=(c=>e.withFields({debuggers:c}))(u),a=y9(o,n);return Ou(a,j())}}function mM(e){return e?[L9(),U9(),"Close"]:[F9(),$9(),"Open"]}function yM(e){let t=pA(e);return new yA(t)}function bM(e){return new bA(e)}function wM(e){return e.opened?sh(g([Wt(yM),Tb()]),K(YD(),n=>{let r=hA(n),s=Le(e.color_scheme,n);return Go(g([Tt(r),Ho(s)]),r)})):Nn()}function vM(e){let t=e.frozen,n=e.selected_debugger;if(t&&n instanceof k){let r=n[0];return Hr(g([Tb(),Ts(new xA(r))]),g([tn("Restart")]))}else return Nn()}function xM(e){let t=u9(e.color_scheme),n=mM(e.opened),r=n[0],s=n[1],i=n[2],u=e.frozen?Y9():o5(),o=(()=>{let a=e.selected_debugger,c=Fe(a,"");return(l=>SA(e.debuggers,l))(c)})();return P(g([_("debugger_"),t,u]),g([P(g([r]),g([P(g([s]),g([P(g([Aa(),K9()]),g([P(g([]),g([tn("Debugger")])),wM(e),vM(e)])),(()=>{if(o.isOk()){let a=o[0];return P(g([W9()]),g([sh(g([Wt(bM),Tb()]),K(b9(e),c=>{let l=c[0],d=Le(e.selected_debugger,new k(l));return Go(g([Tt(l),Ho(d)]),l)})),P(g([]),g([tn(M(a.count-1)+" Steps")])),Hr(g([Q9(),Ts(new mA)]),g([tn(i)]))]))}else return Nn()})()])),(()=>{let a=e.selected_debugger;if(o.isOk()&&a instanceof k){let c=o[0],l=a[0];return rM(e.opened,l,c)}else return Nn()})()]))]))}function SM(){let e=C9(),t=e[0],n=e[1],r=hM(t),s=Q(r,o=>GD(xM,o)),i=Q(s,o=>f_(pM,gM,o)),u=fn(i,o=>dM(n,o));return Q(u,o=>new cM(o))}function _M(e,t){let n=t[0][1];return I9(e,D9(n),M9(n))}function AM(e,t){let n=e.dispatch,r=P9(n,t),s=j9(n,t);return new lM([r,s])}function TM(e){let t=SM();return Q(t,n=>AM(n,e))}function au(e,t){return P(g([_(t),_("mt-4 mb-2 sm:mb-4 mx-2 flex col-start-1 col-span-11 sm:col-start-1 sm:col-span-8 text-7xl")]),g([T5(g([ze("title"),_("min-h-[56px] max-h-[140px] overflow-hidden px-0 pb-1 w-full font-transitional font-bold italic text-ecru-white-950"),_((()=>{let n=_s(e);return n>38?"text-4xl":n>17?"text-5.5xl":n===17?"text-6xl":"text-7xl"})())]),g([G(e)]))]))}function EM(e,t){return globalThis.setTimeout(t,e)}function Si(e,t,n){let r=(()=>{let i=Tn(e,t);return Iy(i)})();if(r instanceof k){let i=r[0],u=n(i);return(o=>Ys(e,t,o))(u)}else return e}function yg(e){let n=pn(e),r=gr(n,(i,u)=>Ui(Ae(i),Ae(u))),s=Yu(r,(i,u)=>[u,It(i)]);return gn(s)}function OM(e,t){for(;;){let n=e,r=t;if(n.hasLength(0))return new X;if(n.atLeastLength(1)&&r===0){let s=n.head;return new k(s)}else n.head,e=n.tail,t=r-1}}function _i(e){let n=Cd(e);return M(n)}function NA(e){let t=_i(e);return Ti(e),(()=>{let s=Gu(e);return(i=>i instanceof wo?"January":i instanceof Qa?"February":i instanceof Xa?"March":i instanceof Ka?"April":i instanceof Ya?"May":i instanceof Za?"June":i instanceof ec?"July":i instanceof tc?"August":i instanceof nc?"September":i instanceof rc?"October":i instanceof sc?"November":"December")(s)})()+" "+t}function IM(e,t){return mn(n=>{EM(e,()=>n(t))})}function Ef(e,t){let r=Q(e,s=>po(s,t));return aR(r)}function Of(e){if(e instanceof n_)return g([new gs("end of input","something else",g([""]))]);if(e instanceof Ja){let t=e.byte,n=e.position;return g([new gs("unexpected byte",t,g([M(n)]))])}else if(e instanceof Yk){let t=e.byte,n=e.position;return g([new gs("unexpected sequence",t,g([M(n)]))])}else return e[0]}let NM=class extends S{constructor(t,n,r,s,i,u,o){super(),this.elem_id=t,this.search_items=n,this.search_term=r,this.found_items=s,this.is_open=i,this.is_focused=u,this.hovered_item=o}};class RA extends S{constructor(t){super(),this[0]=t}}class kA extends S{constructor(t){super(),this[0]=t}}class CA extends S{constructor(t){super(),this[0]=t}}class DA extends S{constructor(t){super(),this[0]=t}}class Qm extends S{constructor(t){super(),this[0]=t}}class Xm extends S{constructor(t){super(),this[0]=t}}class MA extends S{constructor(t){super(),this[0]=t}}class RM extends S{constructor(t){super(),this[0]=t}}class PA extends S{}class Dd extends S{}class kM extends S{}function CM(e){return Ze("type-ahead",e,g([]))}function DM(e){return gf("recipe-titles",e)}function MM(e){return gf("search-term",e)}function PM(e){let t=M(B8(999999));return[new NM(t,g([]),"",g([]),!1,!1,new X),j()]}function jM(e,t){if(Wi(t),t instanceof kA){let n=t[0];return[e.withFields({search_term:n}),j()]}else if(t instanceof RA){let n=t[0];return[e.withFields({search_items:n,found_items:n}),j()]}else if(t instanceof CA){let n=t[0];return[e.withFields({search_term:n,found_items:_s(n)<3?e.search_items:ma(e.search_items,s=>XR(Yd(s),Yd(n))),is_open:!Fv(e.search_items,n)}),j()]}else if(t instanceof Qm){let n=t[0];return[e,FC("typeahead-change",Br(n))]}else if(t instanceof Xm){let n=t[0];return[e.withFields({is_open:!1}),mn(r=>{let s=new Qm(n);return r(s)})]}else{if(t instanceof PA)return[e.withFields({is_focused:!0,is_open:!Fv(e.search_items,e.search_term)}),j()];if(t instanceof Dd)return[e,IM(100,new Dd)];if(t instanceof kM)return[e.withFields({is_open:!1,is_focused:!1,hovered_item:new X}),j()];if(t instanceof DA){let n=t[0],r=e.is_focused,s=e.is_open;if(r){if(n==="ArrowDown"&&r&&s)return[e.withFields({hovered_item:(()=>{let i=e.hovered_item,u=w3(e.found_items);if(i instanceof X)return new k(0);{let o=i[0],a=u;return new k(sp(o+1,a))}})()}),j()];if(n==="ArrowDown"&&r&&!s)return[e.withFields({is_open:!0}),j()];if(n==="ArrowUp"&&r&&s)return[e.withFields({hovered_item:(()=>{let i=e.hovered_item;if(i instanceof X)return new X;{let u=i[0];return new k(ip(0,u-1))}})()}),j()];if(n==="Enter"&&r){let i=e.hovered_item,u=e.is_open;if(i instanceof X&&!u)return[e.withFields({is_open:!0}),j()];if(i instanceof k&&u){let o=i[0];return[e.withFields({is_open:!1,hovered_item:new X}),mn(a=>{let c=new Xm(Fe(OM(e.found_items,o),""));return a(c)})]}else return[e,j()]}else return n==="Escape"&&r&&s?[e.withFields({is_open:!1,hovered_item:new X}),mn(i=>{let u=new Dd;return i(u)})]:[e,j()]}else return[e,j()]}else if(t instanceof MA){let n=t[0];return[e.withFields({hovered_item:new k(n)}),j()]}else return[e.withFields({hovered_item:new X}),j()]}}function LM(){return gn(g([["recipe-titles",e=>{let t=e,n=Py(ye)(t);return Q(n,r=>new RA(r))}],["search-term",e=>{let n=ye(e);return Q(n,r=>new kA(r))}]]))}function xx(e){let n=ye(e),r=Q(n,fr);return Dy(r,s=>po(s,i=>g([new gs("a stringed int","something else",g([""]))])))}function FM(e,t,n){return p_(g([me("role","option"),me("data-index",M(n)),_(Le(e.hovered_item,new k(n))?"bg-ecru-white-100":""),_("px-1"),Ts(new Xm(t)),Jr("mouseover",r=>{let s=r,i=ke("target",ke("dataset",ke("index",xx)))(s);return Q(i,u=>new MA(u))}),Jr("mouseout",r=>{let s=r,i=ke("target",ke("dataset",ke("index",xx)))(s);return Q(i,u=>new RM(u))})]),g([G(t)]))}function BM(e){return qn(g([Wy(g([ze("meal-input-"+e.elem_id),En(g([["field-sizing","content"],["overflow-x","hidden"],["width","100%"],["font-family","Charter, 'Bitstream Charter', 'Sitka Text', Cambria, serif"],["font-size","clamp(1.125rem, calc(1.125rem + ((1.25 - 1.125) * ((100vw - 20rem) / (96 - 20)))), 1.25rem)"],["line-height","1.6"],["color","rgb(47 40 27)"],["background-color","rgb(241 241 227)"],["border-width","0px"],["border-bottom-width","0px"],["padding-top","0px"],["padding-bottom","0px"],["line-height","inherit"],["resize","none"]])),_((()=>{let t=_s(e.search_term);return t>38?"text-base":t>17?"text-lg":"text-xl"})()),Tt(e.search_term),me("autocapitalize","none"),me("autocomplete","off"),me("aria-autocomplete","list"),me("role","combobox"),On("meal-input"),Wt(t=>new CA(t)),Jr("change",t=>{let n=t,r=ke("target",ke("value",ye))(n);return Q(r,s=>new Qm(s))}),BC(t=>new DA(t)),$C(new PA),Jr("blur",t=>new H(new Dd))]),""),I5(g([ze("search-results-"+e.elem_id),_("font-mono bg-ecru-white-50 border border-ecru-white-950 text-xs"),me("role","listbox"),En(e.is_open?g([["display","block"]]):g([["display","none"]])),me("aria-expanded",e.is_open?"true":"false")]),(()=>{let t=e.found_items,n=K(t,r=>r);return Yu(n,(r,s)=>FM(e,r,s))})())]))}function $M(){return A5(PM,jM,BM,LM())}var U=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function UM(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Eb(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var jA={},Ob=class LA{constructor(t,n=new Map,r=0){this.prefix=t,this._existing=n,this.counter=r}clone(){const{prefix:t,_existing:n,counter:r}=this;return new LA(t,new Map(n),r)}getId(t){const n=t&&this._existing.get(t);if(n)return n;const r=this.prefix+this.counter;return this.counter++,t&&this._existing.set(t,r),r}hasId(t){return this._existing.has(t)}getOldIds(){return[...this._existing.keys()]}};(function(e,t){if(e.setImmediate)return;var n=1,r={},s=!1,i=e.document,u;function o(w){typeof w!="function"&&(w=new Function(""+w));for(var x=new Array(arguments.length-1),v=0;v<x.length;v++)x[v]=arguments[v+1];var A={callback:w,args:x};return r[n]=A,u(n),n++}function a(w){delete r[w]}function c(w){var x=w.callback,v=w.args;switch(v.length){case 0:x();break;case 1:x(v[0]);break;case 2:x(v[0],v[1]);break;case 3:x(v[0],v[1],v[2]);break;default:x.apply(t,v);break}}function l(w){if(s)setTimeout(l,0,w);else{var x=r[w];if(x){s=!0;try{c(x)}finally{a(w),s=!1}}}}function d(){u=function(w){process.nextTick(function(){l(w)})}}function h(){if(e.postMessage&&!e.importScripts){var w=!0,x=e.onmessage;return e.onmessage=function(){w=!1},e.postMessage("","*"),e.onmessage=x,w}}function f(){var w="setImmediate$"+Math.random()+"$",x=function(v){v.source===e&&typeof v.data=="string"&&v.data.indexOf(w)===0&&l(+v.data.slice(w.length))};e.addEventListener?e.addEventListener("message",x,!1):e.attachEvent("onmessage",x),u=function(v){e.postMessage(w+v,"*")}}function p(){var w=new MessageChannel;w.port1.onmessage=function(x){var v=x.data;l(v)},u=function(x){w.port2.postMessage(x)}}function m(){var w=i.documentElement;u=function(x){var v=i.createElement("script");v.onreadystatechange=function(){l(x),v.onreadystatechange=null,w.removeChild(v),v=null},w.appendChild(v)}}function y(){u=function(w){setTimeout(l,0,w)}}var b=Object.getPrototypeOf&&Object.getPrototypeOf(e);b=b&&b.setTimeout?b:e,{}.toString.call(e.process)==="[object process]"?d():h()?f():e.MessageChannel?p():i&&"onreadystatechange"in i.createElement("script")?m():y(),b.setImmediate=o,b.clearImmediate=a})(typeof self>"u"?U:self);/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */const bg=self.crypto||self.msCrypto;var Rp=class{constructor(t){if(!(bg&&bg.subtle))throw new Error("crypto.subtle not found.");if(t==="sha256")this.algorithm={name:"SHA-256"};else if(t==="sha1")this.algorithm={name:"SHA-1"};else throw new Error(`Unsupported algorithm "${t}".`);this._content=""}update(t){this._content+=t}async digest(){const t=new TextEncoder().encode(this._content),n=new Uint8Array(await bg.subtle.digest(this.algorithm,t));let r="";for(let s=0;s<n.length;++s)r+=n[s].toString(16).padStart(2,"0");return r}};/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */var FA=class{constructor(t){this.current=t.sort(),this.done=!1,this.dir=new Map;for(let n=0;n<t.length;++n)this.dir.set(t[n],!0)}hasNext(){return!this.done}next(){const{current:t,dir:n}=this,r=t.slice();let s=null,i=0;const u=t.length;for(let o=0;o<u;++o){const a=t[o],c=n.get(a);(s===null||a>s)&&(c&&o>0&&a>t[o-1]||!c&&o<u-1&&a>t[o+1])&&(s=a,i=o)}if(s===null)this.done=!0;else{const o=n.get(s)?i-1:i+1;t[i]=t[o],t[o]=s;for(const a of t)a>s&&n.set(a,!n.get(a))}return r}};/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */const qM="http://www.w3.org/1999/02/22-rdf-syntax-ns#",wg=qM+"langString",vg="http://www.w3.org/2001/XMLSchema#string",Ar="NamedNode",wu="BlankNode",Md="Literal",Sx="DefaultGraph",ra={};(()=>{const e="(?:<([^:]+:[^>]*)>)",n="A-Za-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�"+"_",r=n+"0-9-·̀-ͯ‿-⁀",i="(_:(?:["+n+"0-9])(?:(?:["+r+".])*(?:["+r+"]))?)",u='"([^"\\\\]*(?:\\\\.[^"\\\\]*)*)"',o="(?:\\^\\^"+e+")",c="(?:"+u+"(?:"+o+"|"+"(?:@([a-zA-Z]+(?:-[a-zA-Z0-9]+)*))"+")?)",l="[ \\t]+",d="[ \\t]*",h="(?:"+e+"|"+i+")"+l,f=e+l,p="(?:"+e+"|"+i+"|"+c+")"+d,m="(?:\\.|(?:(?:"+e+"|"+i+")"+d+"\\.))";ra.eoln=/(?:\r\n)|(?:\n)|(?:\r)/g,ra.empty=new RegExp("^"+d+"$"),ra.quad=new RegExp("^"+d+h+f+p+m+d+"$")})();var Ib=class Pd{static parse(t){const n=[],r={},s=t.split(ra.eoln);let i=0;for(const u of s){if(i++,ra.empty.test(u))continue;const o=u.match(ra.quad);if(o===null)throw new Error("N-Quads parse error on line "+i+".");const a={subject:null,predicate:null,object:null,graph:null};if(o[1]!==void 0?a.subject={termType:Ar,value:o[1]}:a.subject={termType:wu,value:o[2]},a.predicate={termType:Ar,value:o[3]},o[4]!==void 0?a.object={termType:Ar,value:o[4]}:o[5]!==void 0?a.object={termType:wu,value:o[5]}:(a.object={termType:Md,value:void 0,datatype:{termType:Ar}},o[7]!==void 0?a.object.datatype.value=o[7]:o[8]!==void 0?(a.object.datatype.value=wg,a.object.language=o[8]):a.object.datatype.value=vg,a.object.value=JM(o[6])),o[9]!==void 0?a.graph={termType:Ar,value:o[9]}:o[10]!==void 0?a.graph={termType:wu,value:o[10]}:a.graph={termType:Sx,value:""},!(a.graph.value in r))r[a.graph.value]=[a],n.push(a);else{let c=!0;const l=r[a.graph.value];for(const d of l)if(VM(d,a)){c=!1;break}c&&(l.push(a),n.push(a))}}return n}static serialize(t){Array.isArray(t)||(t=Pd.legacyDatasetToQuads(t));const n=[];for(const r of t)n.push(Pd.serializeQuad(r));return n.sort().join("")}static serializeQuadComponents(t,n,r,s){let i="";return t.termType===Ar?i+=`<${t.value}>`:i+=`${t.value}`,i+=` <${n.value}> `,r.termType===Ar?i+=`<${r.value}>`:r.termType===wu?i+=r.value:(i+=`"${HM(r.value)}"`,r.datatype.value===wg?r.language&&(i+=`@${r.language}`):r.datatype.value!==vg&&(i+=`^^<${r.datatype.value}>`)),s.termType===Ar?i+=` <${s.value}>`:s.termType===wu&&(i+=` ${s.value}`),i+=` .
`,i}static serializeQuad(t){return Pd.serializeQuadComponents(t.subject,t.predicate,t.object,t.graph)}static legacyDatasetToQuads(t){const n=[],r={"blank node":wu,IRI:Ar,literal:Md};for(const s in t)t[s].forEach(u=>{const o={};for(const a in u){const c=u[a],l={termType:r[c.type],value:c.value};l.termType===Md&&(l.datatype={termType:Ar},"datatype"in c&&(l.datatype.value=c.datatype),"language"in c?("datatype"in c||(l.datatype.value=wg),l.language=c.language):"datatype"in c||(l.datatype.value=vg)),o[a]=l}s==="@default"?o.graph={termType:Sx,value:""}:o.graph={termType:s.startsWith("_:")?wu:Ar,value:s},n.push(o)});return n}};function VM(e,t){return!(e.subject.termType===t.subject.termType&&e.object.termType===t.object.termType)||!(e.subject.value===t.subject.value&&e.predicate.value===t.predicate.value&&e.object.value===t.object.value)?!1:e.object.termType!==Md?!0:e.object.datatype.termType===t.object.datatype.termType&&e.object.language===t.object.language&&e.object.datatype.value===t.object.datatype.value}const zM=/["\\\n\r]/g;function HM(e){return e.replace(zM,function(t){switch(t){case'"':return'\\"';case"\\":return"\\\\";case`
`:return"\\n";case"\r":return"\\r"}})}const GM=/(?:\\([tbnrf"'\\]))|(?:\\u([0-9A-Fa-f]{4}))|(?:\\U([0-9A-Fa-f]{8}))/g;function JM(e){return e.replace(GM,function(t,n,r,s){if(n)switch(n){case"t":return"	";case"b":return"\b";case"n":return`
`;case"r":return"\r";case"f":return"\f";case'"':return'"';case"'":return"'";case"\\":return"\\"}if(r)return String.fromCharCode(parseInt(r,16));if(s)throw new Error("Unsupported U escape")})}/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */const _x=Ob,WM=Rp,QM=FA,Ax=Ib;var BA=class{constructor({createMessageDigest:t=()=>new WM("sha256"),canonicalIdMap:n=new Map,maxDeepIterations:r=1/0}={}){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new _x("_:c14n",n),this.createMessageDigest=t,this.maxDeepIterations=r,this.quads=null,this.deepIterations=null}async main(t){this.deepIterations=new Map,this.quads=t;for(const a of t)this._addBlankNodeQuadInfo({quad:a,component:a.subject}),this._addBlankNodeQuadInfo({quad:a,component:a.object}),this._addBlankNodeQuadInfo({quad:a,component:a.graph});const n=new Map,r=[...this.blankNodeInfo.keys()];let s=0;for(const a of r)++s%100===0&&await this._yield(),await this._hashAndTrackBlankNode({id:a,hashToBlankNodes:n});const i=[...n.keys()].sort(),u=[];for(const a of i){const c=n.get(a);if(c.length>1){u.push(c);continue}const l=c[0];this.canonicalIssuer.getId(l)}for(const a of u){const c=[];for(const l of a){if(this.canonicalIssuer.hasId(l))continue;const d=new _x("_:b");d.getId(l);const h=await this.hashNDegreeQuads(l,d);c.push(h)}c.sort(XM);for(const l of c){const d=l.issuer.getOldIds();for(const h of d)this.canonicalIssuer.getId(h)}}const o=[];for(const a of this.quads){const c=Ax.serializeQuadComponents(this._componentWithCanonicalId(a.subject),a.predicate,this._componentWithCanonicalId(a.object),this._componentWithCanonicalId(a.graph));o.push(c)}return o.sort(),o.join("")}async hashFirstDegreeQuads(t){const n=[],r=this.blankNodeInfo.get(t),s=r.quads;for(const u of s){const o={subject:null,predicate:u.predicate,object:null,graph:null};o.subject=this.modifyFirstDegreeComponent(t,u.subject,"subject"),o.object=this.modifyFirstDegreeComponent(t,u.object,"object"),o.graph=this.modifyFirstDegreeComponent(t,u.graph,"graph"),n.push(Ax.serializeQuad(o))}n.sort();const i=this.createMessageDigest();for(const u of n)i.update(u);return r.hash=await i.digest(),r.hash}async hashRelatedBlankNode(t,n,r,s){let i;this.canonicalIssuer.hasId(t)?i=this.canonicalIssuer.getId(t):r.hasId(t)?i=r.getId(t):i=this.blankNodeInfo.get(t).hash;const u=this.createMessageDigest();return u.update(s),s!=="g"&&u.update(this.getRelatedPredicate(n)),u.update(i),u.digest()}async hashNDegreeQuads(t,n){const r=this.deepIterations.get(t)||0;if(r>this.maxDeepIterations)throw new Error(`Maximum deep iterations (${this.maxDeepIterations}) exceeded.`);this.deepIterations.set(t,r+1);const s=this.createMessageDigest(),i=await this.createHashToRelated(t,n),u=[...i.keys()].sort();for(const o of u){s.update(o);let a="",c;const l=new QM(i.get(o));let d=0;for(;l.hasNext();){const h=l.next();++d%3===0&&await this._yield();let f=n.clone(),p="";const m=[];let y=!1;for(const b of h)if(this.canonicalIssuer.hasId(b)?p+=this.canonicalIssuer.getId(b):(f.hasId(b)||m.push(b),p+=f.getId(b)),a.length!==0&&p>a){y=!0;break}if(!y){for(const b of m){const w=await this.hashNDegreeQuads(b,f);if(p+=f.getId(b),p+=`<${w.hash}>`,f=w.issuer,a.length!==0&&p>a){y=!0;break}}y||(a.length===0||p<a)&&(a=p,c=f)}}s.update(a),n=c}return{hash:await s.digest(),issuer:n}}modifyFirstDegreeComponent(t,n){return n.termType!=="BlankNode"?n:{termType:"BlankNode",value:n.value===t?"_:a":"_:z"}}getRelatedPredicate(t){return`<${t.predicate.value}>`}async createHashToRelated(t,n){const r=new Map,s=this.blankNodeInfo.get(t).quads;let i=0;for(const u of s)++i%100===0&&await this._yield(),await Promise.all([this._addRelatedBlankNodeHash({quad:u,component:u.subject,position:"s",id:t,issuer:n,hashToRelated:r}),this._addRelatedBlankNodeHash({quad:u,component:u.object,position:"o",id:t,issuer:n,hashToRelated:r}),this._addRelatedBlankNodeHash({quad:u,component:u.graph,position:"g",id:t,issuer:n,hashToRelated:r})]);return r}async _hashAndTrackBlankNode({id:t,hashToBlankNodes:n}){const r=await this.hashFirstDegreeQuads(t),s=n.get(r);s?s.push(t):n.set(r,[t])}_addBlankNodeQuadInfo({quad:t,component:n}){if(n.termType!=="BlankNode")return;const r=n.value,s=this.blankNodeInfo.get(r);s?s.quads.add(t):this.blankNodeInfo.set(r,{quads:new Set([t]),hash:null})}async _addRelatedBlankNodeHash({quad:t,component:n,position:r,id:s,issuer:i,hashToRelated:u}){if(!(n.termType==="BlankNode"&&n.value!==s))return;const o=n.value,a=await this.hashRelatedBlankNode(o,t,i,r),c=u.get(a);c?c.push(o):u.set(a,[o])}_componentWithCanonicalId(t){return t.termType==="BlankNode"&&!t.value.startsWith(this.canonicalIssuer.prefix)?{termType:"BlankNode",value:this.canonicalIssuer.getId(t.value)}:t}async _yield(){return new Promise(t=>setImmediate(t))}};function XM(e,t){return e.hash<t.hash?-1:e.hash>t.hash?1:0}/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */const KM=Rp,YM=BA;var ZM=class extends YM{constructor(){super(),this.name="URGNA2012",this.createMessageDigest=()=>new KM("sha1")}modifyFirstDegreeComponent(t,n,r){return n.termType!=="BlankNode"?n:r==="graph"?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:n.value===t?"_:a":"_:z"}}getRelatedPredicate(t){return t.predicate.value}async createHashToRelated(t,n){const r=new Map,s=this.blankNodeInfo.get(t).quads;let i=0;for(const u of s){let o,a;if(u.subject.termType==="BlankNode"&&u.subject.value!==t)a=u.subject.value,o="p";else if(u.object.termType==="BlankNode"&&u.object.value!==t)a=u.object.value,o="r";else continue;++i%100===0&&await this._yield();const c=await this.hashRelatedBlankNode(a,u,n,o),l=r.get(c);l?l.push(a):r.set(c,[a])}return r}};/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */const Tx=Ob,e7=Rp,t7=FA,Ex=Ib;var $A=class{constructor({createMessageDigest:t=()=>new e7("sha256"),canonicalIdMap:n=new Map,maxDeepIterations:r=1/0}={}){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new Tx("_:c14n",n),this.createMessageDigest=t,this.maxDeepIterations=r,this.quads=null,this.deepIterations=null}main(t){this.deepIterations=new Map,this.quads=t;for(const o of t)this._addBlankNodeQuadInfo({quad:o,component:o.subject}),this._addBlankNodeQuadInfo({quad:o,component:o.object}),this._addBlankNodeQuadInfo({quad:o,component:o.graph});const n=new Map,r=[...this.blankNodeInfo.keys()];for(const o of r)this._hashAndTrackBlankNode({id:o,hashToBlankNodes:n});const s=[...n.keys()].sort(),i=[];for(const o of s){const a=n.get(o);if(a.length>1){i.push(a);continue}const c=a[0];this.canonicalIssuer.getId(c)}for(const o of i){const a=[];for(const c of o){if(this.canonicalIssuer.hasId(c))continue;const l=new Tx("_:b");l.getId(c);const d=this.hashNDegreeQuads(c,l);a.push(d)}a.sort(n7);for(const c of a){const l=c.issuer.getOldIds();for(const d of l)this.canonicalIssuer.getId(d)}}const u=[];for(const o of this.quads){const a=Ex.serializeQuadComponents(this._componentWithCanonicalId({component:o.subject}),o.predicate,this._componentWithCanonicalId({component:o.object}),this._componentWithCanonicalId({component:o.graph}));u.push(a)}return u.sort(),u.join("")}hashFirstDegreeQuads(t){const n=[],r=this.blankNodeInfo.get(t),s=r.quads;for(const u of s){const o={subject:null,predicate:u.predicate,object:null,graph:null};o.subject=this.modifyFirstDegreeComponent(t,u.subject,"subject"),o.object=this.modifyFirstDegreeComponent(t,u.object,"object"),o.graph=this.modifyFirstDegreeComponent(t,u.graph,"graph"),n.push(Ex.serializeQuad(o))}n.sort();const i=this.createMessageDigest();for(const u of n)i.update(u);return r.hash=i.digest(),r.hash}hashRelatedBlankNode(t,n,r,s){let i;this.canonicalIssuer.hasId(t)?i=this.canonicalIssuer.getId(t):r.hasId(t)?i=r.getId(t):i=this.blankNodeInfo.get(t).hash;const u=this.createMessageDigest();return u.update(s),s!=="g"&&u.update(this.getRelatedPredicate(n)),u.update(i),u.digest()}hashNDegreeQuads(t,n){const r=this.deepIterations.get(t)||0;if(r>this.maxDeepIterations)throw new Error(`Maximum deep iterations (${this.maxDeepIterations}) exceeded.`);this.deepIterations.set(t,r+1);const s=this.createMessageDigest(),i=this.createHashToRelated(t,n),u=[...i.keys()].sort();for(const o of u){s.update(o);let a="",c;const l=new t7(i.get(o));for(;l.hasNext();){const d=l.next();let h=n.clone(),f="";const p=[];let m=!1;for(const y of d)if(this.canonicalIssuer.hasId(y)?f+=this.canonicalIssuer.getId(y):(h.hasId(y)||p.push(y),f+=h.getId(y)),a.length!==0&&f>a){m=!0;break}if(!m){for(const y of p){const b=this.hashNDegreeQuads(y,h);if(f+=h.getId(y),f+=`<${b.hash}>`,h=b.issuer,a.length!==0&&f>a){m=!0;break}}m||(a.length===0||f<a)&&(a=f,c=h)}}s.update(a),n=c}return{hash:s.digest(),issuer:n}}modifyFirstDegreeComponent(t,n){return n.termType!=="BlankNode"?n:{termType:"BlankNode",value:n.value===t?"_:a":"_:z"}}getRelatedPredicate(t){return`<${t.predicate.value}>`}createHashToRelated(t,n){const r=new Map,s=this.blankNodeInfo.get(t).quads;for(const i of s)this._addRelatedBlankNodeHash({quad:i,component:i.subject,position:"s",id:t,issuer:n,hashToRelated:r}),this._addRelatedBlankNodeHash({quad:i,component:i.object,position:"o",id:t,issuer:n,hashToRelated:r}),this._addRelatedBlankNodeHash({quad:i,component:i.graph,position:"g",id:t,issuer:n,hashToRelated:r});return r}_hashAndTrackBlankNode({id:t,hashToBlankNodes:n}){const r=this.hashFirstDegreeQuads(t),s=n.get(r);s?s.push(t):n.set(r,[t])}_addBlankNodeQuadInfo({quad:t,component:n}){if(n.termType!=="BlankNode")return;const r=n.value,s=this.blankNodeInfo.get(r);s?s.quads.add(t):this.blankNodeInfo.set(r,{quads:new Set([t]),hash:null})}_addRelatedBlankNodeHash({quad:t,component:n,position:r,id:s,issuer:i,hashToRelated:u}){if(!(n.termType==="BlankNode"&&n.value!==s))return;const o=n.value,a=this.hashRelatedBlankNode(o,t,i,r),c=u.get(a);c?c.push(o):u.set(a,[o])}_componentWithCanonicalId({component:t}){return t.termType==="BlankNode"&&!t.value.startsWith(this.canonicalIssuer.prefix)?{termType:"BlankNode",value:this.canonicalIssuer.getId(t.value)}:t}};function n7(e,t){return e.hash<t.hash?-1:e.hash>t.hash?1:0}/*!
 * Copyright (c) 2016-2021 Digital Bazaar, Inc. All rights reserved.
 */const r7=Rp,s7=$A;var i7=class extends s7{constructor(){super(),this.name="URGNA2012",this.createMessageDigest=()=>new r7("sha1")}modifyFirstDegreeComponent(t,n,r){return n.termType!=="BlankNode"?n:r==="graph"?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:n.value===t?"_:a":"_:z"}}getRelatedPredicate(t){return t.predicate.value}createHashToRelated(t,n){const r=new Map,s=this.blankNodeInfo.get(t).quads;for(const i of s){let u,o;if(i.subject.termType==="BlankNode"&&i.subject.value!==t)o=i.subject.value,u="p";else if(i.object.termType==="BlankNode"&&i.object.value!==t)o=i.object.value,u="r";else continue;const a=this.hashRelatedBlankNode(o,i,n,u),c=r.get(a);c?c.push(o):r.set(a,[o])}return r}};const u7={},o7=Object.freeze(Object.defineProperty({__proto__:null,default:u7},Symbol.toStringTag,{value:"Module"})),a7=Eb(o7);(function(e){const t=BA,n=ZM,r=$A,s=i7;let i;try{i=a7}catch{}function u(o){return Array.isArray(o)?o:e.NQuads.legacyDatasetToQuads(o)}e.NQuads=Ib,e.IdentifierIssuer=Ob,e._rdfCanonizeNative=function(o){return o&&(i=o),i},e.canonize=async function(o,a){const c=u(o);if(a.useNative){if(!i)throw new Error("rdf-canonize-native not available");if(a.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "useNative".');return new Promise((l,d)=>i.canonize(c,a,(h,f)=>h?d(h):l(f)))}if(a.algorithm==="URDNA2015")return new t(a).main(c);if(a.algorithm==="URGNA2012"){if(a.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "URGNA2012".');return new n(a).main(c)}throw"algorithm"in a?new Error("Invalid RDF Dataset Canonicalization algorithm: "+a.algorithm):new Error("No RDF Dataset Canonicalization algorithm specified.")},e._canonizeSync=function(o,a){const c=u(o);if(a.useNative){if(!i)throw new Error("rdf-canonize-native not available");if(a.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "useNative".');return i.canonizeSync(c,a)}if(a.algorithm==="URDNA2015")return new r(a).main(c);if(a.algorithm==="URGNA2012"){if(a.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "URGNA2012".');return new s(a).main(c)}throw"algorithm"in a?new Error("Invalid RDF Dataset Canonicalization algorithm: "+a.algorithm):new Error("No RDF Dataset Canonicalization algorithm specified.")}})(jA);var Nb=jA;const yr={};var Wn=yr;yr.isArray=Array.isArray;yr.isBoolean=e=>typeof e=="boolean"||Object.prototype.toString.call(e)==="[object Boolean]";yr.isDouble=e=>yr.isNumber(e)&&(String(e).indexOf(".")!==-1||Math.abs(e)>=1e21);yr.isEmptyObject=e=>yr.isObject(e)&&Object.keys(e).length===0;yr.isNumber=e=>typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]";yr.isNumeric=e=>!isNaN(parseFloat(e))&&isFinite(e);yr.isObject=e=>Object.prototype.toString.call(e)==="[object Object]";yr.isString=e=>typeof e=="string"||Object.prototype.toString.call(e)==="[object String]";yr.isUndefined=e=>typeof e>"u";const no=Wn,oi={};var mi=oi;oi.isSubject=e=>no.isObject(e)&&!("@value"in e||"@set"in e||"@list"in e)?Object.keys(e).length>1||!("@id"in e):!1;oi.isSubjectReference=e=>no.isObject(e)&&Object.keys(e).length===1&&"@id"in e;oi.isValue=e=>no.isObject(e)&&"@value"in e;oi.isList=e=>no.isObject(e)&&"@list"in e;oi.isGraph=e=>no.isObject(e)&&"@graph"in e&&Object.keys(e).filter(t=>t!=="@id"&&t!=="@index").length===1;oi.isSimpleGraph=e=>oi.isGraph(e)&&!("@id"in e);oi.isBlankNode=e=>{if(no.isObject(e)){if("@id"in e){const t=e["@id"];return!no.isString(t)||t.indexOf("_:")===0}return Object.keys(e).length===0||!("@value"in e||"@set"in e||"@list"in e)}return!1};var vr=class extends Error{constructor(t="An unspecified JSON-LD error occurred.",n="jsonld.Error",r={}){super(t),this.name=n,this.message=t,this.details=r}};const Rl=mi,Kt=Wn,UA=Nb.IdentifierIssuer,c7=vr,l7=/^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$/,f7=/(?:<[^>]*?>|"[^"]*?"|[^,])+/g,d7=/\s*<([^>]*?)>\s*(?:;\s*(.*))?/,h7=/(.*?)=(?:(?:"([^"]*?)")|([^"]*?))\s*(?:(?:;\s*)|$)/g,p7=/^@[a-zA-Z]+$/,Ox={headers:{accept:"application/ld+json, application/json"}},ve={};var xr=ve;ve.IdentifierIssuer=UA;ve.REGEX_BCP47=l7;ve.REGEX_KEYWORD=p7;ve.clone=function(e){if(e&&typeof e=="object"){let t;if(Kt.isArray(e)){t=[];for(let n=0;n<e.length;++n)t[n]=ve.clone(e[n])}else if(e instanceof Map){t=new Map;for(const[n,r]of e)t.set(n,ve.clone(r))}else if(e instanceof Set){t=new Set;for(const n of e)t.add(ve.clone(n))}else if(Kt.isObject(e)){t={};for(const n in e)t[n]=ve.clone(e[n])}else t=e.toString();return t}return e};ve.asArray=function(e){return Array.isArray(e)?e:[e]};ve.buildHeaders=(e={})=>{if(Object.keys(e).some(n=>n.toLowerCase()==="accept"))throw new RangeError('Accept header may not be specified; only "'+Ox.headers.accept+'" is supported.');return Object.assign({Accept:Ox.headers.accept},e)};ve.parseLinkHeader=e=>{const t={},n=e.match(f7);for(let r=0;r<n.length;++r){let s=n[r].match(d7);if(!s)continue;const i={target:s[1]},u=s[2];for(;s=h7.exec(u);)i[s[1]]=s[2]===void 0?s[3]:s[2];const o=i.rel||"";Array.isArray(t[o])?t[o].push(i):t.hasOwnProperty(o)?t[o]=[t[o],i]:t[o]=i}return t};ve.validateTypeValue=(e,t)=>{if(!Kt.isString(e)&&!(Kt.isArray(e)&&e.every(n=>Kt.isString(n)))){if(t&&Kt.isObject(e))switch(Object.keys(e).length){case 0:return;case 1:if("@default"in e&&ve.asArray(e["@default"]).every(n=>Kt.isString(n)))return}throw new c7('Invalid JSON-LD syntax; "@type" value must a string, an array of strings, an empty object, or a default object.',"jsonld.SyntaxError",{code:"invalid type value",value:e})}};ve.hasProperty=(e,t)=>{if(e.hasOwnProperty(t)){const n=e[t];return!Kt.isArray(n)||n.length>0}return!1};ve.hasValue=(e,t,n)=>{if(ve.hasProperty(e,t)){let r=e[t];const s=Rl.isList(r);if(Kt.isArray(r)||s){s&&(r=r["@list"]);for(let i=0;i<r.length;++i)if(ve.compareValues(n,r[i]))return!0}else if(!Kt.isArray(n))return ve.compareValues(n,r)}return!1};ve.addValue=(e,t,n,r)=>{if(r=r||{},"propertyIsArray"in r||(r.propertyIsArray=!1),"valueIsArray"in r||(r.valueIsArray=!1),"allowDuplicate"in r||(r.allowDuplicate=!0),"prependValue"in r||(r.prependValue=!1),r.valueIsArray)e[t]=n;else if(Kt.isArray(n)){n.length===0&&r.propertyIsArray&&!e.hasOwnProperty(t)&&(e[t]=[]),r.prependValue&&(n=n.concat(e[t]),e[t]=[]);for(let s=0;s<n.length;++s)ve.addValue(e,t,n[s],r)}else if(e.hasOwnProperty(t)){const s=!r.allowDuplicate&&ve.hasValue(e,t,n);!Kt.isArray(e[t])&&(!s||r.propertyIsArray)&&(e[t]=[e[t]]),s||(r.prependValue?e[t].unshift(n):e[t].push(n))}else e[t]=r.propertyIsArray?[n]:n};ve.getValues=(e,t)=>[].concat(e[t]||[]);ve.removeProperty=(e,t)=>{delete e[t]};ve.removeValue=(e,t,n,r)=>{r=r||{},"propertyIsArray"in r||(r.propertyIsArray=!1);const s=ve.getValues(e,t).filter(i=>!ve.compareValues(i,n));s.length===0?ve.removeProperty(e,t):s.length===1&&!r.propertyIsArray?e[t]=s[0]:e[t]=s};ve.relabelBlankNodes=(e,t)=>{t=t||{};const n=t.issuer||new UA("_:b");return jd(n,e)};ve.compareValues=(e,t)=>e===t||Rl.isValue(e)&&Rl.isValue(t)&&e["@value"]===t["@value"]&&e["@type"]===t["@type"]&&e["@language"]===t["@language"]&&e["@index"]===t["@index"]?!0:Kt.isObject(e)&&"@id"in e&&Kt.isObject(t)&&"@id"in t?e["@id"]===t["@id"]:!1;ve.compareShortestLeast=(e,t)=>e.length<t.length?-1:t.length<e.length?1:e===t?0:e<t?-1:1;function jd(e,t){if(Kt.isArray(t))for(let n=0;n<t.length;++n)t[n]=jd(e,t[n]);else if(Rl.isList(t))t["@list"]=jd(e,t["@list"]);else if(Kt.isObject(t)){Rl.isBlankNode(t)&&(t["@id"]=e.getId(t["@id"]));const n=Object.keys(t).sort();for(let r=0;r<n.length;++r){const s=n[r];s!=="@id"&&(t[s]=jd(e,t[s]))}}return t}const Tr="http://www.w3.org/1999/02/22-rdf-syntax-ns#",Ic="http://www.w3.org/2001/XMLSchema#";var Rb={LINK_HEADER_REL:"http://www.w3.org/ns/json-ld#context",LINK_HEADER_CONTEXT:"http://www.w3.org/ns/json-ld#context",RDF:Tr,RDF_LIST:Tr+"List",RDF_FIRST:Tr+"first",RDF_REST:Tr+"rest",RDF_NIL:Tr+"nil",RDF_TYPE:Tr+"type",RDF_PLAIN_LITERAL:Tr+"PlainLiteral",RDF_XML_LITERAL:Tr+"XMLLiteral",RDF_JSON_LITERAL:Tr+"JSON",RDF_OBJECT:Tr+"object",RDF_LANGSTRING:Tr+"langString",XSD:Ic,XSD_BOOLEAN:Ic+"boolean",XSD_DOUBLE:Ic+"double",XSD_INTEGER:Ic+"integer",XSD_STRING:Ic+"string"},xg,Ix;function qA(){return Ix||(Ix=1,xg=class{constructor(){this._requests={}}wrapLoader(t){const n=this;return n._loader=t,function(){return n.add.apply(n,arguments)}}async add(t){let n=this._requests[t];if(n)return Promise.resolve(n);n=this._requests[t]=this._loader(t);try{return await n}finally{delete this._requests[t]}}}),xg}const kp=Wn,Yt={};var cu=Yt;Yt.parsers={simple:{keys:["href","scheme","authority","path","query","fragment"],regex:/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/},full:{keys:["href","protocol","scheme","authority","auth","user","password","hostname","port","path","directory","file","query","fragment"],regex:/^(([a-zA-Z][a-zA-Z0-9+-.]*):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:(((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}};Yt.parse=(e,t)=>{const n={},r=Yt.parsers[t||"full"],s=r.regex.exec(e);let i=r.keys.length;for(;i--;)n[r.keys[i]]=s[i]===void 0?null:s[i];return(n.scheme==="https"&&n.port==="443"||n.scheme==="http"&&n.port==="80")&&(n.href=n.href.replace(":"+n.port,""),n.authority=n.authority.replace(":"+n.port,""),n.port=null),n.normalizedPath=Yt.removeDotSegments(n.path),n};Yt.prependBase=(e,t)=>{if(e===null||Yt.isAbsolute(t))return t;(!e||kp.isString(e))&&(e=Yt.parse(e||""));const n=Yt.parse(t),r={protocol:e.protocol||""};if(n.authority!==null)r.authority=n.authority,r.path=n.path,r.query=n.query;else if(r.authority=e.authority,n.path==="")r.path=e.path,n.query!==null?r.query=n.query:r.query=e.query;else{if(n.path.indexOf("/")===0)r.path=n.path;else{let i=e.path;i=i.substr(0,i.lastIndexOf("/")+1),(i.length>0||e.authority)&&i.substr(-1)!=="/"&&(i+="/"),i+=n.path,r.path=i}r.query=n.query}n.path!==""&&(r.path=Yt.removeDotSegments(r.path));let s=r.protocol;return r.authority!==null&&(s+="//"+r.authority),s+=r.path,r.query!==null&&(s+="?"+r.query),n.fragment!==null&&(s+="#"+n.fragment),s===""&&(s="./"),s};Yt.removeBase=(e,t)=>{if(e===null)return t;(!e||kp.isString(e))&&(e=Yt.parse(e||""));let n="";if(e.href!==""?n+=(e.protocol||"")+"//"+(e.authority||""):t.indexOf("//")&&(n+="//"),t.indexOf(n)!==0)return t;const r=Yt.parse(t.substr(n.length)),s=e.normalizedPath.split("/"),i=r.normalizedPath.split("/"),u=r.fragment||r.query?0:1;for(;s.length>0&&i.length>u&&s[0]===i[0];)s.shift(),i.shift();let o="";if(s.length>0){s.pop();for(let a=0;a<s.length;++a)o+="../"}return o+=i.join("/"),r.query!==null&&(o+="?"+r.query),r.fragment!==null&&(o+="#"+r.fragment),o===""&&(o="./"),o};Yt.removeDotSegments=e=>{if(e.length===0)return"";const t=e.split("/"),n=[];for(;t.length>0;){const r=t.shift(),s=t.length===0;if(r==="."){s&&n.push("");continue}if(r===".."){n.pop(),s&&n.push("");continue}n.push(r)}return e[0]==="/"&&n.length>0&&n[0]!==""&&n.unshift(""),n.length===1&&n[0]===""?"/":n.join("/")};const g7=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^\s]*$/;Yt.isAbsolute=e=>kp.isString(e)&&g7.test(e);Yt.isRelative=e=>kp.isString(e);const{parseLinkHeader:m7,buildHeaders:y7}=xr,{LINK_HEADER_CONTEXT:b7}=Rb,Nc=vr,w7=qA(),{prependBase:v7}=cu,x7=/(^|(\r\n))link:/i;var S7=({secure:e,headers:t={},xhr:n}={headers:{}})=>{return t=y7(t),new w7().wrapLoader(s);async function s(i){if(i.indexOf("http:")!==0&&i.indexOf("https:")!==0)throw new Nc('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:i});if(e&&i.indexOf("https")!==0)throw new Nc(`URL could not be dereferenced; secure mode is enabled and the URL's scheme is not "https".`,"jsonld.InvalidUrl",{code:"loading document failed",url:i});let u;try{u=await _7(n,i,t)}catch(d){throw new Nc("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:i,cause:d})}if(u.status>=400)throw new Nc("URL could not be dereferenced: "+u.statusText,"jsonld.LoadDocumentError",{code:"loading document failed",url:i,httpStatusCode:u.status});let o={contextUrl:null,documentUrl:i,document:u.response},a=null;const c=u.getResponseHeader("Content-Type");let l;if(x7.test(u.getAllResponseHeaders())&&(l=u.getResponseHeader("Link")),l&&c!=="application/ld+json"){const d=m7(l),h=d[b7];if(Array.isArray(h))throw new Nc("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:i});h&&(o.contextUrl=h.target),a=d.alternate,a&&a.type=="application/ld+json"&&!(c||"").match(/^application\/(\w*\+)?json$/)&&(o=await s(v7(i,a.target)))}return o}};function _7(e,t,n){e=e||XMLHttpRequest;const r=new e;return new Promise((s,i)=>{r.onload=()=>s(r),r.onerror=u=>i(u),r.open("GET",t,!0);for(const u in n)r.setRequestHeader(u,n[u]);r.send()})}const A7=S7,kb={};var T7=kb;kb.setupDocumentLoaders=function(e){typeof XMLHttpRequest<"u"&&(e.documentLoaders.xhr=A7,e.useDocumentLoader("xhr"))};kb.setupGlobals=function(e){typeof globalThis.JsonLdProcessor>"u"&&Object.defineProperty(globalThis,"JsonLdProcessor",{writable:!0,enumerable:!1,configurable:!0,value:e.JsonLdProcessor})};var Sg,Nx;function E7(){return Nx||(Nx=1,Sg=function(e){e.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next)yield t.value}}),Sg}var O7=we;we.Node=ro;we.create=we;function we(e){var t=this;if(t instanceof we||(t=new we),t.tail=null,t.head=null,t.length=0,e&&typeof e.forEach=="function")e.forEach(function(s){t.push(s)});else if(arguments.length>0)for(var n=0,r=arguments.length;n<r;n++)t.push(arguments[n]);return t}we.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,n=e.prev;return t&&(t.prev=n),n&&(n.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=n),e.list.length--,e.next=null,e.prev=null,e.list=null,t};we.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}};we.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}};we.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)N7(this,arguments[e]);return this.length};we.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)R7(this,arguments[e]);return this.length};we.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}};we.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}};we.prototype.forEach=function(e,t){t=t||this;for(var n=this.head,r=0;n!==null;r++)e.call(t,n.value,r,this),n=n.next};we.prototype.forEachReverse=function(e,t){t=t||this;for(var n=this.tail,r=this.length-1;n!==null;r--)e.call(t,n.value,r,this),n=n.prev};we.prototype.get=function(e){for(var t=0,n=this.head;n!==null&&t<e;t++)n=n.next;if(t===e&&n!==null)return n.value};we.prototype.getReverse=function(e){for(var t=0,n=this.tail;n!==null&&t<e;t++)n=n.prev;if(t===e&&n!==null)return n.value};we.prototype.map=function(e,t){t=t||this;for(var n=new we,r=this.head;r!==null;)n.push(e.call(t,r.value,this)),r=r.next;return n};we.prototype.mapReverse=function(e,t){t=t||this;for(var n=new we,r=this.tail;r!==null;)n.push(e.call(t,r.value,this)),r=r.prev;return n};we.prototype.reduce=function(e,t){var n,r=this.head;if(arguments.length>1)n=t;else if(this.head)r=this.head.next,n=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=0;r!==null;s++)n=e(n,r.value,s),r=r.next;return n};we.prototype.reduceReverse=function(e,t){var n,r=this.tail;if(arguments.length>1)n=t;else if(this.tail)r=this.tail.prev,n=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=this.length-1;r!==null;s--)n=e(n,r.value,s),r=r.prev;return n};we.prototype.toArray=function(){for(var e=new Array(this.length),t=0,n=this.head;n!==null;t++)e[t]=n.value,n=n.next;return e};we.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,n=this.tail;n!==null;t++)e[t]=n.value,n=n.prev;return e};we.prototype.slice=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var n=new we;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var r=0,s=this.head;s!==null&&r<e;r++)s=s.next;for(;s!==null&&r<t;r++,s=s.next)n.push(s.value);return n};we.prototype.sliceReverse=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var n=new we;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var r=this.length,s=this.tail;s!==null&&r>t;r--)s=s.prev;for(;s!==null&&r>e;r--,s=s.prev)n.push(s.value);return n};we.prototype.splice=function(e,t,...n){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var r=0,s=this.head;s!==null&&r<e;r++)s=s.next;for(var i=[],r=0;s&&r<t;r++)i.push(s.value),s=this.removeNode(s);s===null&&(s=this.tail),s!==this.head&&s!==this.tail&&(s=s.prev);for(var r=0;r<n.length;r++)s=I7(this,s,n[r]);return i};we.prototype.reverse=function(){for(var e=this.head,t=this.tail,n=e;n!==null;n=n.prev){var r=n.prev;n.prev=n.next,n.next=r}return this.head=t,this.tail=e,this};function I7(e,t,n){var r=t===e.head?new ro(n,null,t,e):new ro(n,t,t.next,e);return r.next===null&&(e.tail=r),r.prev===null&&(e.head=r),e.length++,r}function N7(e,t){e.tail=new ro(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function R7(e,t){e.head=new ro(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function ro(e,t,n,r){if(!(this instanceof ro))return new ro(e,t,n,r);this.list=r,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}try{E7()(we)}catch{}const k7=O7,Nu=Symbol("max"),$s=Symbol("length"),Mo=Symbol("lengthCalculator"),il=Symbol("allowStale"),Cu=Symbol("maxAge"),Bs=Symbol("dispose"),Rx=Symbol("noDisposeOnSet"),_t=Symbol("lruList"),Ir=Symbol("cache"),VA=Symbol("updateAgeOnGet"),_g=()=>1;class C7{constructor(t){if(typeof t=="number"&&(t={max:t}),t||(t={}),t.max&&(typeof t.max!="number"||t.max<0))throw new TypeError("max must be a non-negative number");this[Nu]=t.max||1/0;const n=t.length||_g;if(this[Mo]=typeof n!="function"?_g:n,this[il]=t.stale||!1,t.maxAge&&typeof t.maxAge!="number")throw new TypeError("maxAge must be a number");this[Cu]=t.maxAge||0,this[Bs]=t.dispose,this[Rx]=t.noDisposeOnSet||!1,this[VA]=t.updateAgeOnGet||!1,this.reset()}set max(t){if(typeof t!="number"||t<0)throw new TypeError("max must be a non-negative number");this[Nu]=t||1/0,Rc(this)}get max(){return this[Nu]}set allowStale(t){this[il]=!!t}get allowStale(){return this[il]}set maxAge(t){if(typeof t!="number")throw new TypeError("maxAge must be a non-negative number");this[Cu]=t,Rc(this)}get maxAge(){return this[Cu]}set lengthCalculator(t){typeof t!="function"&&(t=_g),t!==this[Mo]&&(this[Mo]=t,this[$s]=0,this[_t].forEach(n=>{n.length=this[Mo](n.value,n.key),this[$s]+=n.length})),Rc(this)}get lengthCalculator(){return this[Mo]}get length(){return this[$s]}get itemCount(){return this[_t].length}rforEach(t,n){n=n||this;for(let r=this[_t].tail;r!==null;){const s=r.prev;kx(this,t,r,n),r=s}}forEach(t,n){n=n||this;for(let r=this[_t].head;r!==null;){const s=r.next;kx(this,t,r,n),r=s}}keys(){return this[_t].toArray().map(t=>t.key)}values(){return this[_t].toArray().map(t=>t.value)}reset(){this[Bs]&&this[_t]&&this[_t].length&&this[_t].forEach(t=>this[Bs](t.key,t.value)),this[Ir]=new Map,this[_t]=new k7,this[$s]=0}dump(){return this[_t].map(t=>fh(this,t)?!1:{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}).toArray().filter(t=>t)}dumpLru(){return this[_t]}set(t,n,r){if(r=r||this[Cu],r&&typeof r!="number")throw new TypeError("maxAge must be a number");const s=r?Date.now():0,i=this[Mo](n,t);if(this[Ir].has(t)){if(i>this[Nu])return sa(this,this[Ir].get(t)),!1;const a=this[Ir].get(t).value;return this[Bs]&&(this[Rx]||this[Bs](t,a.value)),a.now=s,a.maxAge=r,a.value=n,this[$s]+=i-a.length,a.length=i,this.get(t),Rc(this),!0}const u=new D7(t,n,i,s,r);return u.length>this[Nu]?(this[Bs]&&this[Bs](t,n),!1):(this[$s]+=u.length,this[_t].unshift(u),this[Ir].set(t,this[_t].head),Rc(this),!0)}has(t){if(!this[Ir].has(t))return!1;const n=this[Ir].get(t).value;return!fh(this,n)}get(t){return Ag(this,t,!0)}peek(t){return Ag(this,t,!1)}pop(){const t=this[_t].tail;return t?(sa(this,t),t.value):null}del(t){sa(this,this[Ir].get(t))}load(t){this.reset();const n=Date.now();for(let r=t.length-1;r>=0;r--){const s=t[r],i=s.e||0;if(i===0)this.set(s.k,s.v);else{const u=i-n;u>0&&this.set(s.k,s.v,u)}}}prune(){this[Ir].forEach((t,n)=>Ag(this,n,!1))}}const Ag=(e,t,n)=>{const r=e[Ir].get(t);if(r){const s=r.value;if(fh(e,s)){if(sa(e,r),!e[il])return}else n&&(e[VA]&&(r.value.now=Date.now()),e[_t].unshiftNode(r));return s.value}},fh=(e,t)=>{if(!t||!t.maxAge&&!e[Cu])return!1;const n=Date.now()-t.now;return t.maxAge?n>t.maxAge:e[Cu]&&n>e[Cu]},Rc=e=>{if(e[$s]>e[Nu])for(let t=e[_t].tail;e[$s]>e[Nu]&&t!==null;){const n=t.prev;sa(e,t),t=n}},sa=(e,t)=>{if(t){const n=t.value;e[Bs]&&e[Bs](n.key,n.value),e[$s]-=n.length,e[Ir].delete(n.key),e[_t].removeNode(t)}};class D7{constructor(t,n,r,s,i){this.key=t,this.value=n,this.length=r,this.now=s,this.maxAge=i||0}}const kx=(e,t,n,r)=>{let s=n.value;fh(e,s)&&(sa(e,n),e[il]||(s=void 0)),s&&t.call(r,s.value,s.key,e)};var zA=C7;const M7=zA,P7=10;var j7=class{constructor({document:t}){this.document=t,this.cache=new M7({max:P7})}getProcessed(t){return this.cache.get(t)}setProcessed(t,n){this.cache.set(t,n)}};const{isArray:Km,isObject:ul,isString:dh}=Wn,{asArray:L7}=xr,{prependBase:Ym}=cu,Gc=vr,Cx=j7,Dx=10;var F7=class{constructor({sharedCache:t}){this.perOpCache=new Map,this.sharedCache=t}async resolve({activeCtx:t,context:n,documentLoader:r,base:s,cycles:i=new Set}){n&&ul(n)&&n["@context"]&&(n=n["@context"]),n=L7(n);const u=[];for(const o of n){if(dh(o)){let l=this._get(o);l||(l=await this._resolveRemoteContext({activeCtx:t,url:o,documentLoader:r,base:s,cycles:i})),Km(l)?u.push(...l):u.push(l);continue}if(o===null){u.push(new Cx({document:null}));continue}ul(o)||B7(n);const a=JSON.stringify(o);let c=this._get(a);c||(c=new Cx({document:o}),this._cacheResolvedContext({key:a,resolved:c,tag:"static"})),u.push(c)}return u}_get(t){let n=this.perOpCache.get(t);if(!n){const r=this.sharedCache.get(t);r&&(n=r.get("static"),n&&this.perOpCache.set(t,n))}return n}_cacheResolvedContext({key:t,resolved:n,tag:r}){if(this.perOpCache.set(t,n),r!==void 0){let s=this.sharedCache.get(t);s||(s=new Map,this.sharedCache.set(t,s)),s.set(r,n)}return n}async _resolveRemoteContext({activeCtx:t,url:n,documentLoader:r,base:s,cycles:i}){n=Ym(s,n);const{context:u,remoteDoc:o}=await this._fetchContext({activeCtx:t,url:n,documentLoader:r,cycles:i});s=o.documentUrl||n,Zm({context:u,base:s});const a=await this.resolve({activeCtx:t,context:u,documentLoader:r,base:s,cycles:i});return this._cacheResolvedContext({key:n,resolved:a,tag:o.tag}),a}async _fetchContext({activeCtx:t,url:n,documentLoader:r,cycles:s}){if(s.size>Dx)throw new Gc("Maximum number of @context URLs exceeded.","jsonld.ContextUrlError",{code:t.processingMode==="json-ld-1.0"?"loading remote context failed":"context overflow",max:Dx});if(s.has(n))throw new Gc("Cyclical @context URLs detected.","jsonld.ContextUrlError",{code:t.processingMode==="json-ld-1.0"?"recursive context inclusion":"context overflow",url:n});s.add(n);let i,u;try{u=await r(n),i=u.document||null,dh(i)&&(i=JSON.parse(i))}catch(o){throw new Gc("Dereferencing a URL did not result in a valid JSON-LD object. Possible causes are an inaccessible URL perhaps due to a same-origin policy (ensure the server uses CORS if you are using client-side JavaScript), too many redirects, a non-JSON response, or more than one HTTP Link Header was provided for a remote context.","jsonld.InvalidUrl",{code:"loading remote context failed",url:n,cause:o})}if(!ul(i))throw new Gc("Dereferencing a URL did not result in a JSON object. The response was valid JSON, but it was not a JSON object.","jsonld.InvalidUrl",{code:"invalid remote context",url:n});return"@context"in i?i={"@context":i["@context"]}:i={"@context":{}},u.contextUrl&&(Km(i["@context"])||(i["@context"]=[i["@context"]]),i["@context"].push(u.contextUrl)),{context:i,remoteDoc:u}}};function B7(e){throw new Gc("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:e})}function Zm({context:e,base:t}){if(!e)return;const n=e["@context"];if(dh(n)){e["@context"]=Ym(t,n);return}if(Km(n)){for(let r=0;r<n.length;++r){const s=n[r];if(dh(s)){n[r]=Ym(t,s);continue}ul(s)&&Zm({context:{"@context":s},base:t})}return}if(ul(n))for(const r in n)Zm({context:n[r],base:t})}var $7=Nb.NQuads;const Cb=vr,{isArray:U7}=Wn,{asArray:HA}=xr,Bn={};var If=Bn;Bn.defaultEventHandler=null;Bn.setupEventHandler=({options:e={}})=>{const t=[].concat(e.safe?Bn.safeEventHandler:[],e.eventHandler?HA(e.eventHandler):[],Bn.defaultEventHandler?Bn.defaultEventHandler:[]);return t.length===0?null:t};Bn.handleEvent=({event:e,options:t})=>{GA({event:e,handlers:t.eventHandler})};function GA({event:e,handlers:t}){let n=!0;for(let r=0;n&&r<t.length;++r){n=!1;const s=t[r];if(U7(s))n=GA({event:e,handlers:s});else if(typeof s=="function")s({event:e,next:()=>{n=!0}});else if(typeof s=="object")e.code in s?s[e.code]({event:e,next:()=>{n=!0}}):n=!0;else throw new Cb("Invalid event handler.","jsonld.InvalidEventHandler",{event:e})}return n}const q7=new Set(["empty object","free-floating scalar","invalid @language value","invalid property","null @id value","null @value value","object with only @id","object with only @language","object with only @list","object with only @value","relative @id reference","relative @type reference","relative @vocab reference","reserved @id value","reserved @reverse value","reserved term","blank node predicate","relative graph reference","relative object reference","relative predicate reference","relative subject reference","rdfDirection not set"]);Bn.safeEventHandler=function({event:t,next:n}){if(t.level==="warning"&&q7.has(t.code))throw new Cb("Safe mode validation error.","jsonld.ValidationError",{event:t});n()};Bn.logEventHandler=function({event:t,next:n}){console.log(`EVENT: ${t.message}`,{event:t}),n()};Bn.logWarningEventHandler=function({event:t,next:n}){t.level==="warning"&&console.warn(`WARNING: ${t.message}`,{event:t}),n()};Bn.unhandledEventHandler=function({event:t}){throw new Cb("No handler for event.","jsonld.UnhandledEvent",{event:t})};Bn.setDefaultEventHandler=function({eventHandler:e}={}){Bn.defaultEventHandler=e?HA(e):null};const Mx=xr,te=vr,{isArray:JA,isObject:Ni,isString:_n,isUndefined:V7}=Wn,{isAbsolute:Ju,isRelative:z7,prependBase:ol}=cu,{handleEvent:ia}=If,{REGEX_BCP47:H7,REGEX_KEYWORD:Ld,asArray:WA,compareShortestLeast:G7}=xr,od=new Map,J7=1e4,je={};var xo=je;je.process=async({activeCtx:e,localCtx:t,options:n,propagate:r=!0,overrideProtected:s=!1,cycles:i=new Set})=>{if(Ni(t)&&"@context"in t&&JA(t["@context"])&&(t=t["@context"]),WA(t).length===0)return e;const o=[],a=[({event:h,next:f})=>{o.push(h),f()}];n.eventHandler&&a.push(n.eventHandler);const c=n;n={...n,eventHandler:a};const l=await n.contextResolver.resolve({activeCtx:e,context:t,documentLoader:n.documentLoader,base:n.base});Ni(l[0].document)&&typeof l[0].document["@propagate"]=="boolean"&&(r=l[0].document["@propagate"]);let d=e;!r&&!d.previousContext&&(d=d.clone(),d.previousContext=e);for(const h of l){let{document:f}=h;if(e=d,f===null){if(!s&&Object.keys(e.protected).length!==0)throw new te("Tried to nullify a context with protected terms outside of a term definition.","jsonld.SyntaxError",{code:"invalid context nullification"});d=e=je.getInitialContext(n).clone();continue}const p=h.getProcessed(e);if(p){if(c.eventHandler)for(const y of p.events)ia({event:y,options:c});d=e=p.context;continue}if(Ni(f)&&"@context"in f&&(f=f["@context"]),!Ni(f))throw new te("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:f});d=d.clone();const m=new Map;if("@version"in f){if(f["@version"]!==1.1)throw new te("Unsupported JSON-LD version: "+f["@version"],"jsonld.UnsupportedVersion",{code:"invalid @version value",context:f});if(e.processingMode&&e.processingMode==="json-ld-1.0")throw new te("@version: "+f["@version"]+" not compatible with "+e.processingMode,"jsonld.ProcessingModeConflict",{code:"processing mode conflict",context:f});d.processingMode="json-ld-1.1",d["@version"]=f["@version"],m.set("@version",!0)}if(d.processingMode=d.processingMode||e.processingMode,"@base"in f){let y=f["@base"];if(!(y===null||Ju(y)))if(z7(y))y=ol(d["@base"],y);else throw new te('Invalid JSON-LD syntax; the value of "@base" in a @context must be an absolute IRI, a relative IRI, or null.',"jsonld.SyntaxError",{code:"invalid base IRI",context:f});d["@base"]=y,m.set("@base",!0)}if("@vocab"in f){const y=f["@vocab"];if(y===null)delete d["@vocab"];else if(_n(y)){if(!Ju(y)&&je.processingMode(d,1))throw new te('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be an absolute IRI.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:f});{const b=Jo(d,y,{vocab:!0,base:!0},void 0,void 0,n);Ju(b)||n.eventHandler&&ia({event:{type:["JsonLdEvent"],code:"relative @vocab reference",level:"warning",message:"Relative @vocab reference found.",details:{vocab:b}},options:n}),d["@vocab"]=b}}else throw new te('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:f});m.set("@vocab",!0)}if("@language"in f){const y=f["@language"];if(y===null)delete d["@language"];else if(_n(y))y.match(H7)||n.eventHandler&&ia({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:y}},options:n}),d["@language"]=y.toLowerCase();else throw new te('Invalid JSON-LD syntax; the value of "@language" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid default language",context:f});m.set("@language",!0)}if("@direction"in f){const y=f["@direction"];if(e.processingMode==="json-ld-1.0")throw new te("Invalid JSON-LD syntax; @direction not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context member",context:f});if(y===null)delete d["@direction"];else{if(y!=="ltr"&&y!=="rtl")throw new te('Invalid JSON-LD syntax; the value of "@direction" in a @context must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:f});d["@direction"]=y}m.set("@direction",!0)}if("@propagate"in f){const y=f["@propagate"];if(e.processingMode==="json-ld-1.0")throw new te("Invalid JSON-LD syntax; @propagate not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:f});if(typeof y!="boolean")throw new te("Invalid JSON-LD syntax; @propagate value must be a boolean.","jsonld.SyntaxError",{code:"invalid @propagate value",context:t});m.set("@propagate",!0)}if("@import"in f){const y=f["@import"];if(e.processingMode==="json-ld-1.0")throw new te("Invalid JSON-LD syntax; @import not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:f});if(!_n(y))throw new te("Invalid JSON-LD syntax; @import must be a string.","jsonld.SyntaxError",{code:"invalid @import value",context:t});const b=await n.contextResolver.resolve({activeCtx:e,context:y,documentLoader:n.documentLoader,base:n.base});if(b.length!==1)throw new te("Invalid JSON-LD syntax; @import must reference a single context.","jsonld.SyntaxError",{code:"invalid remote context",context:t});const w=b[0].getProcessed(e);if(w)f=w;else{const x=b[0].document;if("@import"in x)throw new te("Invalid JSON-LD syntax: imported context must not include @import.","jsonld.SyntaxError",{code:"invalid context entry",context:t});for(const v in x)f.hasOwnProperty(v)||(f[v]=x[v]);b[0].setProcessed(e,f)}m.set("@import",!0)}m.set("@protected",f["@protected"]||!1);for(const y in f)if(je.createTermDefinition({activeCtx:d,localCtx:f,term:y,defined:m,options:n,overrideProtected:s}),Ni(f[y])&&"@context"in f[y]){const b=f[y]["@context"];let w=!0;if(_n(b)){const x=ol(n.base,b);i.has(x)?w=!1:i.add(x)}if(w)try{await je.process({activeCtx:d.clone(),localCtx:f[y]["@context"],overrideProtected:!0,options:n,cycles:i})}catch{throw new te("Invalid JSON-LD syntax; invalid scoped context.","jsonld.SyntaxError",{code:"invalid scoped context",context:f[y]["@context"],term:y})}}h.setProcessed(e,{context:d,events:o})}return d};je.createTermDefinition=({activeCtx:e,localCtx:t,term:n,defined:r,options:s,overrideProtected:i=!1})=>{if(r.has(n)){if(r.get(n))return;throw new te("Cyclical context definition detected.","jsonld.CyclicalContext",{code:"cyclic IRI mapping",context:t,term:n})}r.set(n,!1);let u;if(t.hasOwnProperty(n)&&(u=t[n]),n==="@type"&&Ni(u)&&(u["@container"]||"@set")==="@set"&&je.processingMode(e,1.1)){const f=["@container","@id","@protected"],p=Object.keys(u);if(p.length===0||p.some(m=>!f.includes(m)))throw new te("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:t,term:n})}else{if(je.isKeyword(n))throw new te("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:t,term:n});if(n.match(Ld)){s.eventHandler&&ia({event:{type:["JsonLdEvent"],code:"reserved term",level:"warning",message:'Terms beginning with "@" are reserved for future use and dropped.',details:{term:n}},options:s});return}else if(n==="")throw new te("Invalid JSON-LD syntax; a term cannot be an empty string.","jsonld.SyntaxError",{code:"invalid term definition",context:t})}const o=e.mappings.get(n);e.mappings.has(n)&&e.mappings.delete(n);let a=!1;if((_n(u)||u===null)&&(a=!0,u={"@id":u}),!Ni(u))throw new te("Invalid JSON-LD syntax; @context term values must be strings or objects.","jsonld.SyntaxError",{code:"invalid term definition",context:t});const c={};e.mappings.set(n,c),c.reverse=!1;const l=["@container","@id","@language","@reverse","@type"];je.processingMode(e,1.1)&&l.push("@context","@direction","@index","@nest","@prefix","@protected");for(const f in u)if(!l.includes(f))throw new te("Invalid JSON-LD syntax; a term definition must not contain "+f,"jsonld.SyntaxError",{code:"invalid term definition",context:t});const d=n.indexOf(":");if(c._termHasColon=d>0,"@reverse"in u){if("@id"in u)throw new te("Invalid JSON-LD syntax; a @reverse term definition must not contain @id.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});if("@nest"in u)throw new te("Invalid JSON-LD syntax; a @reverse term definition must not contain @nest.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});const f=u["@reverse"];if(!_n(f))throw new te("Invalid JSON-LD syntax; a @context @reverse value must be a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(f.match(Ld)){s.eventHandler&&ia({event:{type:["JsonLdEvent"],code:"reserved @reverse value",level:"warning",message:'@reverse values beginning with "@" are reserved for future use and dropped.',details:{reverse:f}},options:s}),o?e.mappings.set(n,o):e.mappings.delete(n);return}const p=Jo(e,f,{vocab:!0,base:!1},t,r,s);if(!Ju(p))throw new te("Invalid JSON-LD syntax; a @context @reverse value must be an absolute IRI or a blank node identifier.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});c["@id"]=p,c.reverse=!0}else if("@id"in u){let f=u["@id"];if(f&&!_n(f))throw new te("Invalid JSON-LD syntax; a @context @id value must be an array of strings or a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(f===null)c["@id"]=null;else if(!je.isKeyword(f)&&f.match(Ld)){s.eventHandler&&ia({event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:'@id values beginning with "@" are reserved for future use and dropped.',details:{id:f}},options:s}),o?e.mappings.set(n,o):e.mappings.delete(n);return}else if(f!==n){if(f=Jo(e,f,{vocab:!0,base:!1},t,r,s),!Ju(f)&&!je.isKeyword(f))throw new te("Invalid JSON-LD syntax; a @context @id value must be an absolute IRI, a blank node identifier, or a keyword.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(n.match(/(?::[^:])|\//)){const p=new Map(r).set(n,!0);if(Jo(e,n,{vocab:!0,base:!1},t,p,s)!==f)throw new te("Invalid JSON-LD syntax; term in form of IRI must expand to definition.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t})}c["@id"]=f,c._prefix=a&&!c._termHasColon&&f.match(/[:\/\?#\[\]@]$/)!==null}}if(!("@id"in c))if(c._termHasColon){const f=n.substr(0,d);if(t.hasOwnProperty(f)&&je.createTermDefinition({activeCtx:e,localCtx:t,term:f,defined:r,options:s}),e.mappings.has(f)){const p=n.substr(d+1);c["@id"]=e.mappings.get(f)["@id"]+p}else c["@id"]=n}else if(n==="@type")c["@id"]=n;else{if(!("@vocab"in e))throw new te("Invalid JSON-LD syntax; @context terms must define an @id.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t,term:n});c["@id"]=e["@vocab"]+n}if((u["@protected"]===!0||r.get("@protected")===!0&&u["@protected"]!==!1)&&(e.protected[n]=!0,c.protected=!0),r.set(n,!0),"@type"in u){let f=u["@type"];if(!_n(f))throw new te("Invalid JSON-LD syntax; an @context @type value must be a string.","jsonld.SyntaxError",{code:"invalid type mapping",context:t});if(f==="@json"||f==="@none"){if(je.processingMode(e,1))throw new te(`Invalid JSON-LD syntax; an @context @type value must not be "${f}" in JSON-LD 1.0 mode.`,"jsonld.SyntaxError",{code:"invalid type mapping",context:t})}else if(f!=="@id"&&f!=="@vocab"){if(f=Jo(e,f,{vocab:!0,base:!1},t,r,s),!Ju(f))throw new te("Invalid JSON-LD syntax; an @context @type value must be an absolute IRI.","jsonld.SyntaxError",{code:"invalid type mapping",context:t});if(f.indexOf("_:")===0)throw new te("Invalid JSON-LD syntax; an @context @type value must be an IRI, not a blank node identifier.","jsonld.SyntaxError",{code:"invalid type mapping",context:t})}c["@type"]=f}if("@container"in u){const f=_n(u["@container"])?[u["@container"]]:u["@container"]||[],p=["@list","@set","@index","@language"];let m=!0;const y=f.includes("@set");if(je.processingMode(e,1.1)){if(p.push("@graph","@id","@type"),f.includes("@list")){if(f.length!==1)throw new te("Invalid JSON-LD syntax; @context @container with @list must have no other values","jsonld.SyntaxError",{code:"invalid container mapping",context:t})}else if(f.includes("@graph")){if(f.some(b=>b!=="@graph"&&b!=="@id"&&b!=="@index"&&b!=="@set"))throw new te("Invalid JSON-LD syntax; @context @container with @graph must have no other values other than @id, @index, and @set","jsonld.SyntaxError",{code:"invalid container mapping",context:t})}else m&=f.length<=(y?2:1);if(f.includes("@type")&&(c["@type"]=c["@type"]||"@id",!["@id","@vocab"].includes(c["@type"])))throw new te("Invalid JSON-LD syntax; container: @type requires @type to be @id or @vocab.","jsonld.SyntaxError",{code:"invalid type mapping",context:t})}else m&=!JA(u["@container"]),m&=f.length<=1;if(m&=f.every(b=>p.includes(b)),m&=!(y&&f.includes("@list")),!m)throw new te("Invalid JSON-LD syntax; @context @container value must be one of the following: "+p.join(", "),"jsonld.SyntaxError",{code:"invalid container mapping",context:t});if(c.reverse&&!f.every(b=>["@index","@set"].includes(b)))throw new te("Invalid JSON-LD syntax; @context @container value for a @reverse type definition must be @index or @set.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});c["@container"]=f}if("@index"in u){if(!("@container"in u)||!c["@container"].includes("@index"))throw new te(`Invalid JSON-LD syntax; @index without @index in @container: "${u["@index"]}" on term "${n}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:t});if(!_n(u["@index"])||u["@index"].indexOf("@")===0)throw new te(`Invalid JSON-LD syntax; @index must expand to an IRI: "${u["@index"]}" on term "${n}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:t});c["@index"]=u["@index"]}if("@context"in u&&(c["@context"]=u["@context"]),"@language"in u&&!("@type"in u)){let f=u["@language"];if(f!==null&&!_n(f))throw new te("Invalid JSON-LD syntax; @context @language value must be a string or null.","jsonld.SyntaxError",{code:"invalid language mapping",context:t});f!==null&&(f=f.toLowerCase()),c["@language"]=f}if("@prefix"in u){if(n.match(/:|\//))throw new te("Invalid JSON-LD syntax; @context @prefix used on a compact IRI term","jsonld.SyntaxError",{code:"invalid term definition",context:t});if(je.isKeyword(c["@id"]))throw new te("Invalid JSON-LD syntax; keywords may not be used as prefixes","jsonld.SyntaxError",{code:"invalid term definition",context:t});if(typeof u["@prefix"]=="boolean")c._prefix=u["@prefix"]===!0;else throw new te("Invalid JSON-LD syntax; @context value for @prefix must be boolean","jsonld.SyntaxError",{code:"invalid @prefix value",context:t})}if("@direction"in u){const f=u["@direction"];if(f!==null&&f!=="ltr"&&f!=="rtl")throw new te('Invalid JSON-LD syntax; @direction value must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:t});c["@direction"]=f}if("@nest"in u){const f=u["@nest"];if(!_n(f)||f!=="@nest"&&f.indexOf("@")===0)throw new te("Invalid JSON-LD syntax; @context @nest value must be a string which is not a keyword other than @nest.","jsonld.SyntaxError",{code:"invalid @nest value",context:t});c["@nest"]=f}// disallow aliasing @context and @preserve
const h=c["@id"];if(h==="@context"||h==="@preserve")throw new te("Invalid JSON-LD syntax; @context and @preserve cannot be aliased.","jsonld.SyntaxError",{code:"invalid keyword alias",context:t});if(o&&o.protected&&!i&&(e.protected[n]=!0,c.protected=!0,!e1(o,c)))throw new te("Invalid JSON-LD syntax; tried to redefine a protected term.","jsonld.SyntaxError",{code:"protected term redefinition",context:t,term:n})};je.expandIri=(e,t,n,r)=>Jo(e,t,n,void 0,void 0,r);function Jo(e,t,n,r,s,i){if(t===null||!_n(t)||je.isKeyword(t))return t;if(t.match(Ld))return null;if(r&&r.hasOwnProperty(t)&&s.get(t)!==!0&&je.createTermDefinition({activeCtx:e,localCtx:r,term:t,defined:s,options:i}),n=n||{},n.vocab){const o=e.mappings.get(t);if(o===null)return null;if(Ni(o)&&"@id"in o)return o["@id"]}const u=t.indexOf(":");if(u>0){const o=t.substr(0,u),a=t.substr(u+1);if(o==="_"||a.indexOf("//")===0)return t;r&&r.hasOwnProperty(o)&&je.createTermDefinition({activeCtx:e,localCtx:r,term:o,defined:s,options:i});const c=e.mappings.get(o);if(c&&c._prefix)return c["@id"]+a;if(Ju(t))return t}if(n.vocab&&"@vocab"in e)t=e["@vocab"]+t;else if(n.base){let o,a;"@base"in e?e["@base"]?(a=ol(i.base,e["@base"]),o=ol(a,t)):(a=e["@base"],o=t):(a=i.base,o=ol(i.base,t)),t=o}return t}je.getInitialContext=e=>{const t=JSON.stringify({processingMode:e.processingMode}),n=od.get(t);if(n)return n;const r={processingMode:e.processingMode,mappings:new Map,inverse:null,getInverse:s,clone:o,revertToPreviousContext:a,protected:{}};return od.size===J7&&od.clear(),od.set(t,r),r;function s(){const c=this;if(c.inverse)return c.inverse;const l=c.inverse={},d=c.fastCurieMap={},h={},f=(c["@language"]||"@none").toLowerCase(),p=c["@direction"],m=c.mappings,y=[...m.keys()].sort(G7);for(const b of y){const w=m.get(b);if(w===null)continue;let x=w["@container"]||"@none";if(x=[].concat(x).sort().join(""),w["@id"]===null)continue;const v=WA(w["@id"]);for(const A of v){let T=l[A];const V=je.isKeyword(A);if(T)!V&&!w._termHasColon&&h[A].push(b);else if(l[A]=T={},!V&&!w._termHasColon){h[A]=[b];const J={iri:A,terms:h[A]};A[0]in d?d[A[0]].push(J):d[A[0]]=[J]}if(T[x]||(T[x]={"@language":{},"@type":{},"@any":{}}),T=T[x],u(b,T["@any"],"@none"),w.reverse)u(b,T["@type"],"@reverse");else if(w["@type"]==="@none")u(b,T["@any"],"@none"),u(b,T["@language"],"@none"),u(b,T["@type"],"@none");else if("@type"in w)u(b,T["@type"],w["@type"]);else if("@language"in w&&"@direction"in w){const J=w["@language"],Y=w["@direction"];J&&Y?u(b,T["@language"],`${J}_${Y}`.toLowerCase()):J?u(b,T["@language"],J.toLowerCase()):Y?u(b,T["@language"],`_${Y}`):u(b,T["@language"],"@null")}else"@language"in w?u(b,T["@language"],(w["@language"]||"@null").toLowerCase()):"@direction"in w?w["@direction"]?u(b,T["@language"],`_${w["@direction"]}`):u(b,T["@language"],"@none"):p?(u(b,T["@language"],`_${p}`),u(b,T["@language"],"@none"),u(b,T["@type"],"@none")):(u(b,T["@language"],f),u(b,T["@language"],"@none"),u(b,T["@type"],"@none"))}}for(const b in d)i(d,b,1);return l}function i(c,l,d){const h=c[l],f=c[l]={};let p,m;for(const y of h)p=y.iri,d>=p.length?m="":m=p[d],m in f?f[m].push(y):f[m]=[y];for(const y in f)y!==""&&i(f,y,d+1)}function u(c,l,d){l.hasOwnProperty(d)||(l[d]=c)}function o(){const c={};return c.mappings=Mx.clone(this.mappings),c.clone=this.clone,c.inverse=null,c.getInverse=this.getInverse,c.protected=Mx.clone(this.protected),this.previousContext&&(c.previousContext=this.previousContext.clone()),c.revertToPreviousContext=this.revertToPreviousContext,"@base"in this&&(c["@base"]=this["@base"]),"@language"in this&&(c["@language"]=this["@language"]),"@vocab"in this&&(c["@vocab"]=this["@vocab"]),c}function a(){return this.previousContext?this.previousContext.clone():this}};je.getContextValue=(e,t,n)=>{if(t===null)return n==="@context"?void 0:null;if(e.mappings.has(t)){const r=e.mappings.get(t);if(V7(n))return r;if(r.hasOwnProperty(n))return r[n]}if(n==="@language"&&n in e||n==="@direction"&&n in e)return e[n];if(n!=="@context")return null};je.processingMode=(e,t)=>t.toString()>="1.1"?!e.processingMode||e.processingMode>="json-ld-"+t.toString():e.processingMode==="json-ld-1.0";je.isKeyword=e=>{if(!_n(e)||e[0]!=="@")return!1;switch(e){case"@base":case"@container":case"@context":case"@default":case"@direction":case"@embed":case"@explicit":case"@graph":case"@id":case"@included":case"@index":case"@json":case"@language":case"@list":case"@nest":case"@none":case"@omitDefault":case"@prefix":case"@preserve":case"@protected":case"@requireAll":case"@reverse":case"@set":case"@type":case"@value":case"@version":case"@vocab":return!0}return!1};function e1(e,t){if(!(e&&typeof e=="object")||!(t&&typeof t=="object"))return e===t;const n=Array.isArray(e);if(n!==Array.isArray(t))return!1;if(n){if(e.length!==t.length)return!1;for(let i=0;i<e.length;++i)if(!e1(e[i],t[i]))return!1;return!0}const r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(const i in e){let u=e[i],o=t[i];if(i==="@container"&&Array.isArray(u)&&Array.isArray(o)&&(u=u.slice().sort(),o=o.slice().sort()),!e1(u,o))return!1}return!0}const Ue=vr,{isArray:dr,isObject:nr,isEmptyObject:t1,isString:Ht,isUndefined:hh}=Wn,{isList:Tg,isValue:n1,isGraph:W7,isSubject:Q7}=mi,{expandIri:it,getContextValue:Pn,isKeyword:r1,process:al,processingMode:Fd}=xo,{isAbsolute:Bd}=cu,{REGEX_BCP47:QA,REGEX_KEYWORD:X7,addValue:Dn,asArray:Or,getValues:K7,validateTypeValue:Y7}=xr,{handleEvent:ar}=If,Ci={};var Z7=Ci;Ci.expand=async({activeCtx:e,activeProperty:t=null,element:n,options:r={},insideList:s=!1,insideIndex:i=!1,typeScopedContext:u=null})=>{if(n==null)return null;if(t==="@default"&&(r=Object.assign({},r,{isFrame:!1})),!dr(n)&&!nr(n))return!s&&(t===null||it(e,t,{vocab:!0},r)==="@graph")?(r.eventHandler&&ar({event:{type:["JsonLdEvent"],code:"free-floating scalar",level:"warning",message:"Dropping free-floating scalar not in a list.",details:{value:n}},options:r}),null):YA({activeCtx:e,activeProperty:t,value:n,options:r});if(dr(n)){let p=[];const m=Pn(e,t,"@container")||[];s=s||m.includes("@list");for(let y=0;y<n.length;++y){let b=await Ci.expand({activeCtx:e,activeProperty:t,element:n[y],options:r,insideIndex:i,typeScopedContext:u});s&&dr(b)&&(b={"@list":b}),b!==null&&(dr(b)?p=p.concat(b):p.push(b))}return p}const o=it(e,t,{vocab:!0},r),a=Pn(e,t,"@context");u=u||(e.previousContext?e:null);let c=Object.keys(n).sort(),l=!i;if(l&&u&&c.length<=2&&!c.includes("@context"))for(const p of c){const m=it(u,p,{vocab:!0},r);if(m==="@value"){l=!1,e=u;break}if(m==="@id"&&c.length===1){l=!1;break}}l&&(e=e.revertToPreviousContext()),hh(a)||(e=await al({activeCtx:e,localCtx:a,propagate:!0,overrideProtected:!0,options:r})),"@context"in n&&(e=await al({activeCtx:e,localCtx:n["@context"],options:r})),u=e;let d=null;for(const p of c)if(it(e,p,{vocab:!0},r)==="@type"){d=d||p;const y=n[p],b=Array.isArray(y)?y.length>1?y.slice().sort():y:[y];for(const w of b){const x=Pn(u,w,"@context");hh(x)||(e=await al({activeCtx:e,localCtx:x,options:r,propagate:!1}))}}let h={};await KA({activeCtx:e,activeProperty:t,expandedActiveProperty:o,element:n,expandedParent:h,options:r,insideList:s,typeKey:d,typeScopedContext:u}),c=Object.keys(h);let f=c.length;if("@value"in h){if("@type"in h&&("@language"in h||"@direction"in h))throw new Ue('Invalid JSON-LD syntax; an element containing "@value" may not contain both "@type" and either "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:h});let p=f-1;if("@type"in h&&(p-=1),"@index"in h&&(p-=1),"@language"in h&&(p-=1),"@direction"in h&&(p-=1),p!==0)throw new Ue('Invalid JSON-LD syntax; an element containing "@value" may only have an "@index" property and either "@type" or either or both "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:h});const m=h["@value"]===null?[]:Or(h["@value"]),y=K7(h,"@type");if(!(Fd(e,1.1)&&y.includes("@json")&&y.length===1))if(m.length===0)r.eventHandler&&ar({event:{type:["JsonLdEvent"],code:"null @value value",level:"warning",message:"Dropping null @value value.",details:{value:h}},options:r}),h=null;else{if(!m.every(b=>Ht(b)||t1(b))&&"@language"in h)throw new Ue("Invalid JSON-LD syntax; only strings may be language-tagged.","jsonld.SyntaxError",{code:"invalid language-tagged value",element:h});if(!y.every(b=>Bd(b)&&!(Ht(b)&&b.indexOf("_:")===0)||t1(b)))throw new Ue('Invalid JSON-LD syntax; an element containing "@value" and "@type" must have an absolute IRI for the value of "@type".',"jsonld.SyntaxError",{code:"invalid typed value",element:h})}}else if("@type"in h&&!dr(h["@type"]))h["@type"]=[h["@type"]];else if("@set"in h||"@list"in h){if(f>1&&!(f===2&&"@index"in h))throw new Ue('Invalid JSON-LD syntax; if an element has the property "@set" or "@list", then it can have at most one other property that is "@index".',"jsonld.SyntaxError",{code:"invalid set or list object",element:h});"@set"in h&&(h=h["@set"],c=Object.keys(h),f=c.length)}else f===1&&"@language"in h&&(r.eventHandler&&ar({event:{type:["JsonLdEvent"],code:"object with only @language",level:"warning",message:"Dropping object with only @language.",details:{value:h}},options:r}),h=null);return nr(h)&&!r.keepFreeFloatingNodes&&!s&&(t===null||o==="@graph"||(Pn(e,t,"@container")||[]).includes("@graph"))&&(h=XA({value:h,count:f,options:r})),h};function XA({value:e,count:t,options:n}){if(t===0||"@value"in e||"@list"in e||t===1&&"@id"in e){if(n.eventHandler){let r,s;t===0?(r="empty object",s="Dropping empty object."):"@value"in e?(r="object with only @value",s="Dropping object with only @value."):"@list"in e?(r="object with only @list",s="Dropping object with only @list."):t===1&&"@id"in e&&(r="object with only @id",s="Dropping object with only @id."),ar({event:{type:["JsonLdEvent"],code:r,level:"warning",message:s,details:{value:e}},options:n})}return null}return e}async function KA({activeCtx:e,activeProperty:t,expandedActiveProperty:n,element:r,expandedParent:s,options:i={},insideList:u,typeKey:o,typeScopedContext:a}){const c=Object.keys(r).sort(),l=[];let d;const h=r[o]&&it(e,dr(r[o])?r[o][0]:r[o],{vocab:!0},{...i,typeExpansion:!0})==="@json";for(const f of c){let p=r[f],m;if(f==="@context")continue;const y=it(e,f,{vocab:!0},i);if(y===null||!(Bd(y)||r1(y))){i.eventHandler&&ar({event:{type:["JsonLdEvent"],code:"invalid property",level:"warning",message:"Dropping property that did not expand into an absolute IRI or keyword.",details:{property:f,expandedProperty:y}},options:i});continue}if(r1(y)){if(n==="@reverse")throw new Ue("Invalid JSON-LD syntax; a keyword cannot be used as a @reverse property.","jsonld.SyntaxError",{code:"invalid reverse property map",value:p});if(y in s&&y!=="@included"&&y!=="@type")throw new Ue("Invalid JSON-LD syntax; colliding keywords detected.","jsonld.SyntaxError",{code:"colliding keywords",keyword:y})}if(y==="@id"){if(!Ht(p)){if(!i.isFrame)throw new Ue('Invalid JSON-LD syntax; "@id" value must a string.',"jsonld.SyntaxError",{code:"invalid @id value",value:p});if(nr(p)){if(!t1(p))throw new Ue('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:p})}else if(dr(p)){if(!p.every(v=>Ht(v)))throw new Ue('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:p})}else throw new Ue('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:p})}Dn(s,"@id",Or(p).map(v=>{if(Ht(v)){const A=it(e,v,{base:!0},i);return i.eventHandler&&(A===null?ar(v===null?{event:{type:["JsonLdEvent"],code:"null @id value",level:"warning",message:"Null @id found.",details:{id:v}},options:i}:{event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:"Reserved @id found.",details:{id:v}},options:i}):Bd(A)||ar({event:{type:["JsonLdEvent"],code:"relative @id reference",level:"warning",message:"Relative @id reference found.",details:{id:v,expandedId:A}},options:i})),A}return v}),{propertyIsArray:i.isFrame});continue}if(y==="@type"){nr(p)&&(p=Object.fromEntries(Object.entries(p).map(([v,A])=>[it(a,v,{vocab:!0}),Or(A).map(T=>it(a,T,{base:!0,vocab:!0},{...i,typeExpansion:!0}))]))),Y7(p,i.isFrame),Dn(s,"@type",Or(p).map(v=>{if(Ht(v)){const A=it(a,v,{base:!0,vocab:!0},{...i,typeExpansion:!0});return A!=="@json"&&!Bd(A)&&i.eventHandler&&ar({event:{type:["JsonLdEvent"],code:"relative @type reference",level:"warning",message:"Relative @type reference found.",details:{type:v}},options:i}),A}return v}),{propertyIsArray:!!i.isFrame});continue}if(y==="@included"&&Fd(e,1.1)){const v=Or(await Ci.expand({activeCtx:e,activeProperty:t,element:p,options:i}));if(!v.every(A=>Q7(A)))throw new Ue("Invalid JSON-LD syntax; values of @included must expand to node objects.","jsonld.SyntaxError",{code:"invalid @included value",value:p});Dn(s,"@included",v,{propertyIsArray:!0});continue}if(y==="@graph"&&!(nr(p)||dr(p)))throw new Ue('Invalid JSON-LD syntax; "@graph" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid @graph value",value:p});if(y==="@value"){d=p,h&&Fd(e,1.1)?s["@value"]=p:Dn(s,"@value",p,{propertyIsArray:i.isFrame});continue}if(y==="@language"){if(p===null)continue;if(!Ht(p)&&!i.isFrame)throw new Ue('Invalid JSON-LD syntax; "@language" value must be a string.',"jsonld.SyntaxError",{code:"invalid language-tagged string",value:p});p=Or(p).map(v=>Ht(v)?v.toLowerCase():v);for(const v of p)Ht(v)&&!v.match(QA)&&i.eventHandler&&ar({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:v}},options:i});Dn(s,"@language",p,{propertyIsArray:i.isFrame});continue}if(y==="@direction"){if(!Ht(p)&&!i.isFrame)throw new Ue('Invalid JSON-LD syntax; "@direction" value must be a string.',"jsonld.SyntaxError",{code:"invalid base direction",value:p});p=Or(p);for(const v of p)if(Ht(v)&&v!=="ltr"&&v!=="rtl")throw new Ue('Invalid JSON-LD syntax; "@direction" must be "ltr" or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",value:p});Dn(s,"@direction",p,{propertyIsArray:i.isFrame});continue}if(y==="@index"){if(!Ht(p))throw new Ue('Invalid JSON-LD syntax; "@index" value must be a string.',"jsonld.SyntaxError",{code:"invalid @index value",value:p});Dn(s,"@index",p);continue}if(y==="@reverse"){if(!nr(p))throw new Ue('Invalid JSON-LD syntax; "@reverse" value must be an object.',"jsonld.SyntaxError",{code:"invalid @reverse value",value:p});if(m=await Ci.expand({activeCtx:e,activeProperty:"@reverse",element:p,options:i}),"@reverse"in m)for(const A in m["@reverse"])Dn(s,A,m["@reverse"][A],{propertyIsArray:!0});let v=s["@reverse"]||null;for(const A in m){if(A==="@reverse")continue;v===null&&(v=s["@reverse"]={}),Dn(v,A,[],{propertyIsArray:!0});const T=m[A];for(let V=0;V<T.length;++V){const J=T[V];if(n1(J)||Tg(J))throw new Ue('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:m});Dn(v,A,J,{propertyIsArray:!0})}}continue}if(y==="@nest"){l.push(f);continue}let b=e;const w=Pn(e,f,"@context");hh(w)||(b=await al({activeCtx:e,localCtx:w,propagate:!0,overrideProtected:!0,options:i}));const x=Pn(e,f,"@container")||[];if(x.includes("@language")&&nr(p)){const v=Pn(b,f,"@direction");m=eP(b,p,v,i)}else if(x.includes("@index")&&nr(p)){const v=x.includes("@graph"),A=Pn(b,f,"@index")||"@index",T=A!=="@index"&&it(e,A,{vocab:!0},i);m=await Eg({activeCtx:b,options:i,activeProperty:f,value:p,asGraph:v,indexKey:A,propertyIndex:T})}else if(x.includes("@id")&&nr(p)){const v=x.includes("@graph");m=await Eg({activeCtx:b,options:i,activeProperty:f,value:p,asGraph:v,indexKey:"@id"})}else if(x.includes("@type")&&nr(p))m=await Eg({activeCtx:b.revertToPreviousContext(),options:i,activeProperty:f,value:p,asGraph:!1,indexKey:"@type"});else{const v=y==="@list";if(v||y==="@set"){let A=t;v&&n==="@graph"&&(A=null),m=await Ci.expand({activeCtx:b,activeProperty:A,element:p,options:i,insideList:v})}else Pn(e,f,"@type")==="@json"?m={"@type":"@json","@value":p}:m=await Ci.expand({activeCtx:b,activeProperty:f,element:p,options:i,insideList:!1})}if(!(m===null&&y!=="@value")){if(y!=="@list"&&!Tg(m)&&x.includes("@list")&&(m={"@list":Or(m)}),x.includes("@graph")&&!x.some(v=>v==="@id"||v==="@index")){if(m=Or(m),i.isFrame||(m=m.filter(v=>{const A=Object.keys(v).length;return XA({value:v,count:A,options:i})!==null})),m.length===0)continue;m=m.map(v=>({"@graph":Or(v)}))}if(b.mappings.has(f)&&b.mappings.get(f).reverse){const v=s["@reverse"]=s["@reverse"]||{};m=Or(m);for(let A=0;A<m.length;++A){const T=m[A];if(n1(T)||Tg(T))throw new Ue('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:m});Dn(v,y,T,{propertyIsArray:!0})}continue}Dn(s,y,m,{propertyIsArray:!0})}}if("@value"in s&&!(s["@type"]==="@json"&&Fd(e,1.1))){if((nr(d)||dr(d))&&!i.isFrame)throw new Ue('Invalid JSON-LD syntax; "@value" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid value object value",value:d})}for(const f of l){const p=dr(r[f])?r[f]:[r[f]];for(const m of p){if(!nr(m)||Object.keys(m).some(y=>it(e,y,{vocab:!0},i)==="@value"))throw new Ue("Invalid JSON-LD syntax; nested value must be a node object.","jsonld.SyntaxError",{code:"invalid @nest value",value:m});await KA({activeCtx:e,activeProperty:t,expandedActiveProperty:n,element:m,expandedParent:s,options:i,insideList:u,typeScopedContext:a,typeKey:o})}}}function YA({activeCtx:e,activeProperty:t,value:n,options:r}){if(n==null)return null;const s=it(e,t,{vocab:!0},r);if(s==="@id")return it(e,n,{base:!0},r);if(s==="@type")return it(e,n,{vocab:!0,base:!0},{...r,typeExpansion:!0});const i=Pn(e,t,"@type");if((i==="@id"||s==="@graph")&&Ht(n)){const o=it(e,n,{base:!0},r);return o===null&&n.match(X7)&&r.eventHandler&&ar({event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:"Reserved @id found.",details:{id:t}},options:r}),{"@id":o}}if(i==="@vocab"&&Ht(n))return{"@id":it(e,n,{vocab:!0,base:!0},r)};if(r1(s))return n;const u={};if(i&&!["@id","@vocab","@none"].includes(i))u["@type"]=i;else if(Ht(n)){const o=Pn(e,t,"@language");o!==null&&(u["@language"]=o);const a=Pn(e,t,"@direction");a!==null&&(u["@direction"]=a)}return["boolean","number","string"].includes(typeof n)||(n=n.toString()),u["@value"]=n,u}function eP(e,t,n,r){const s=[],i=Object.keys(t).sort();for(const u of i){const o=it(e,u,{vocab:!0},r);let a=t[u];dr(a)||(a=[a]);for(const c of a){if(c===null)continue;if(!Ht(c))throw new Ue("Invalid JSON-LD syntax; language map values must be strings.","jsonld.SyntaxError",{code:"invalid language map value",languageMap:t});const l={"@value":c};o!=="@none"&&(u.match(QA)||r.eventHandler&&ar({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:u}},options:r}),l["@language"]=u.toLowerCase()),n&&(l["@direction"]=n),s.push(l)}}return s}async function Eg({activeCtx:e,options:t,activeProperty:n,value:r,asGraph:s,indexKey:i,propertyIndex:u}){const o=[],a=Object.keys(r).sort(),c=i==="@type";for(let l of a){if(c){const f=Pn(e,l,"@context");hh(f)||(e=await al({activeCtx:e,localCtx:f,propagate:!1,options:t}))}let d=r[l];dr(d)||(d=[d]),d=await Ci.expand({activeCtx:e,activeProperty:n,element:d,options:t,insideList:!1,insideIndex:!0});let h;u?l==="@none"?h="@none":h=YA({activeCtx:e,activeProperty:i,value:l,options:t}):h=it(e,l,{vocab:!0},t),i==="@id"?l=it(e,l,{base:!0},t):c&&(l=h);for(let f of d){if(s&&!W7(f)&&(f={"@graph":[f]}),i==="@type")h==="@none"||(f["@type"]?f["@type"]=[l].concat(f["@type"]):f["@type"]=[l]);else{if(n1(f)&&!["@language","@type","@index"].includes(i))throw new Ue(`Invalid JSON-LD syntax; Attempt to add illegal key to value object: "${i}".`,"jsonld.SyntaxError",{code:"invalid value object",value:f});u?h!=="@none"&&Dn(f,u,h,{propertyIsArray:!0,prependValue:!0}):h!=="@none"&&!(i in f)&&(f[i]=l)}o.push(f)}}return o}const{isKeyword:ZA}=xo,ss=mi,Og=Wn,as=xr,tP=vr,cn={};var Cp=cn;cn.createMergedNodeMap=(e,t)=>{t=t||{};const n=t.issuer||new as.IdentifierIssuer("_:b"),r={"@default":{}};return cn.createNodeMap(e,r,"@default",n),cn.mergeNodeMaps(r)};cn.createNodeMap=(e,t,n,r,s,i)=>{if(Og.isArray(e)){for(const c of e)cn.createNodeMap(c,t,n,r,void 0,i);return}if(!Og.isObject(e)){i&&i.push(e);return}if(ss.isValue(e)){if("@type"in e){let c=e["@type"];c.indexOf("_:")===0&&(e["@type"]=c=r.getId(c))}i&&i.push(e);return}else if(i&&ss.isList(e)){const c=[];cn.createNodeMap(e["@list"],t,n,r,s,c),i.push({"@list":c});return}if("@type"in e){const c=e["@type"];for(const l of c)l.indexOf("_:")===0&&r.getId(l)}Og.isUndefined(s)&&(s=ss.isBlankNode(e)?r.getId(e["@id"]):e["@id"]),i&&i.push({"@id":s});const u=t[n],o=u[s]=u[s]||{};o["@id"]=s;const a=Object.keys(e).sort();for(let c of a){if(c==="@id")continue;if(c==="@reverse"){const d={"@id":s},h=e["@reverse"];for(const f in h){const p=h[f];for(const m of p){let y=m["@id"];ss.isBlankNode(m)&&(y=r.getId(y)),cn.createNodeMap(m,t,n,r,y),as.addValue(u[y],f,d,{propertyIsArray:!0,allowDuplicate:!1})}}continue}if(c==="@graph"){s in t||(t[s]={}),cn.createNodeMap(e[c],t,s,r);continue}if(c==="@included"){cn.createNodeMap(e[c],t,n,r);continue}if(c!=="@type"&&ZA(c)){if(c==="@index"&&c in o&&(e[c]!==o[c]||e[c]["@id"]!==o[c]["@id"]))throw new tP("Invalid JSON-LD syntax; conflicting @index property detected.","jsonld.SyntaxError",{code:"conflicting indexes",subject:o});o[c]=e[c];continue}const l=e[c];if(c.indexOf("_:")===0&&(c=r.getId(c)),l.length===0){as.addValue(o,c,[],{propertyIsArray:!0});continue}for(let d of l)if(c==="@type"&&(d=d.indexOf("_:")===0?r.getId(d):d),ss.isSubject(d)||ss.isSubjectReference(d)){if("@id"in d&&!d["@id"])continue;const h=ss.isBlankNode(d)?r.getId(d["@id"]):d["@id"];as.addValue(o,c,{"@id":h},{propertyIsArray:!0,allowDuplicate:!1}),cn.createNodeMap(d,t,n,r,h)}else if(ss.isValue(d))as.addValue(o,c,d,{propertyIsArray:!0,allowDuplicate:!1});else if(ss.isList(d)){const h=[];cn.createNodeMap(d["@list"],t,n,r,s,h),d={"@list":h},as.addValue(o,c,d,{propertyIsArray:!0,allowDuplicate:!1})}else cn.createNodeMap(d,t,n,r,s),as.addValue(o,c,d,{propertyIsArray:!0,allowDuplicate:!1})}};cn.mergeNodeMapGraphs=e=>{const t={};for(const n of Object.keys(e).sort())for(const r of Object.keys(e[n]).sort()){const s=e[n][r];r in t||(t[r]={"@id":r});const i=t[r];for(const u of Object.keys(s).sort())if(ZA(u)&&u!=="@type")i[u]=as.clone(s[u]);else for(const o of s[u])as.addValue(i,u,as.clone(o),{propertyIsArray:!0,allowDuplicate:!1})}return t};cn.mergeNodeMaps=e=>{const t=e["@default"],n=Object.keys(e).sort();for(const r of n){if(r==="@default")continue;const s=e[r];let i=t[r];i?"@graph"in i||(i["@graph"]=[]):t[r]=i={"@id":r,"@graph":[]};const u=i["@graph"];for(const o of Object.keys(s).sort()){const a=s[o];ss.isSubjectReference(a)||u.push(a)}}return t};const{isSubjectReference:nP}=mi,{createMergedNodeMap:rP}=Cp,e6={};var sP=e6;e6.flatten=e=>{const t=rP(e),n=[],r=Object.keys(t).sort();for(let s=0;s<r.length;++s){const i=t[r[s]];nP(i)||n.push(i)}return n};const s1=vr,Ig=mi,Jc=Wn,{REGEX_BCP47:Px,addValue:jx}=xr,{handleEvent:Lx}=If,{RDF_LIST:iP,RDF_FIRST:Ng,RDF_REST:Rg,RDF_NIL:kg,RDF_TYPE:uP,RDF_JSON_LITERAL:oP,XSD_BOOLEAN:Fx,XSD_DOUBLE:Bx,XSD_INTEGER:$x,XSD_STRING:Cg}=Rb,t6={};var aP=t6;t6.fromRDF=async(e,t)=>{const{useRdfType:n=!1,useNativeTypes:r=!1,rdfDirection:s=null}=t,i={},u={"@default":i},o={};if(s){if(s==="compound-literal")throw new s1("Unsupported rdfDirection value.","jsonld.InvalidRdfDirection",{value:s});if(s!=="i18n-datatype")throw new s1("Unknown rdfDirection value.","jsonld.InvalidRdfDirection",{value:s})}for(const l of e){const d=l.graph.termType==="DefaultGraph"?"@default":l.graph.value;d in u||(u[d]={}),d!=="@default"&&!(d in i)&&(i[d]={"@id":d});const h=u[d],f=l.subject.value,p=l.predicate.value,m=l.object;f in h||(h[f]={"@id":f});const y=h[f],b=m.termType.endsWith("Node");if(b&&!(m.value in h)&&(h[m.value]={"@id":m.value}),p===uP&&!n&&b){jx(y,"@type",m.value,{propertyIsArray:!0});continue}const w=cP(m,r,s,t);if(jx(y,p,w,{propertyIsArray:!0}),b)if(m.value===kg){const x=h[m.value];"usages"in x||(x.usages=[]),x.usages.push({node:y,property:p,value:w})}else m.value in o?o[m.value]=!1:o[m.value]={node:y,property:p,value:w}}for(const l in u){const d=u[l];if(!(kg in d))continue;const h=d[kg];if(h.usages){for(let f of h.usages){let p=f.node,m=f.property,y=f.value;const b=[],w=[];let x=Object.keys(p).length;for(;m===Rg&&Jc.isObject(o[p["@id"]])&&Jc.isArray(p[Ng])&&p[Ng].length===1&&Jc.isArray(p[Rg])&&p[Rg].length===1&&(x===3||x===4&&Jc.isArray(p["@type"])&&p["@type"].length===1&&p["@type"][0]===iP)&&(b.push(p[Ng][0]),w.push(p["@id"]),f=o[p["@id"]],p=f.node,m=f.property,y=f.value,x=Object.keys(p).length,!!Ig.isBlankNode(p)););delete y["@id"],y["@list"]=b.reverse();for(const v of w)delete d[v]}delete h.usages}}const a=[],c=Object.keys(i).sort();for(const l of c){const d=i[l];if(l in u){const h=d["@graph"]=[],f=u[l],p=Object.keys(f).sort();for(const m of p){const y=f[m];Ig.isSubjectReference(y)||h.push(y)}}Ig.isSubjectReference(d)||a.push(d)}return a};function cP(e,t,n,r){if(e.termType.endsWith("Node"))return{"@id":e.value};const s={"@value":e.value};if(e.language)e.language.match(Px)||r.eventHandler&&Lx({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:e.language}},options:r}),s["@language"]=e.language;else{let i=e.datatype.value;if(i||(i=Cg),i===oP){i="@json";try{s["@value"]=JSON.parse(s["@value"])}catch(u){throw new s1("JSON literal could not be parsed.","jsonld.InvalidJsonLiteral",{code:"invalid JSON literal",value:s["@value"],cause:u})}}if(t){if(i===Fx)s["@value"]==="true"?s["@value"]=!0:s["@value"]==="false"&&(s["@value"]=!1);else if(Jc.isNumeric(s["@value"]))if(i===$x){const u=parseInt(s["@value"],10);u.toFixed(0)===s["@value"]&&(s["@value"]=u)}else i===Bx&&(s["@value"]=parseFloat(s["@value"]));[Fx,$x,Bx,Cg].includes(i)||(s["@type"]=i)}else if(n==="i18n-datatype"&&i.startsWith("https://www.w3.org/ns/i18n#")){const[,u,o]=i.split(/[#_]/);u.length>0&&(s["@language"]=u,u.match(Px)||r.eventHandler&&Lx({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:u}},options:r})),s["@direction"]=o}else i!==Cg&&(s["@type"]=i)}return s}var lP=function e(t){return t===null||typeof t!="object"||t.toJSON!=null?JSON.stringify(t):Array.isArray(t)?"["+t.reduce((n,r,s)=>{const i=s===0?"":",",u=r===void 0||typeof r=="symbol"?null:r;return n+i+e(u)},"")+"]":"{"+Object.keys(t).sort().reduce((n,r,s)=>{if(t[r]===void 0||typeof t[r]=="symbol")return n;const i=n.length===0?"":",";return n+i+e(r)+":"+e(t[r])},"")+"}"};const{createNodeMap:fP}=Cp,{isKeyword:dP}=xo,Ux=mi,hP=lP,qx=vr,kc=Wn,pP=xr,{handleEvent:Wu}=If,{RDF_FIRST:gP,RDF_REST:mP,RDF_NIL:yP,RDF_TYPE:bP,RDF_JSON_LITERAL:wP,RDF_LANGSTRING:vP,XSD_BOOLEAN:xP,XSD_DOUBLE:Vx,XSD_INTEGER:SP,XSD_STRING:_P}=Rb,{isAbsolute:ph}=cu,n6={};var AP=n6;n6.toRDF=(e,t)=>{const n=new pP.IdentifierIssuer("_:b"),r={"@default":{}};fP(e,r,"@default",n);const s=[],i=Object.keys(r).sort();for(const u of i){let o;if(u==="@default")o={termType:"DefaultGraph",value:""};else if(ph(u))u.startsWith("_:")?o={termType:"BlankNode"}:o={termType:"NamedNode"},o.value=u;else{t.eventHandler&&Wu({event:{type:["JsonLdEvent"],code:"relative graph reference",level:"warning",message:"Relative graph reference found.",details:{graph:u}},options:t});continue}TP(s,r[u],o,n,t)}return s};function TP(e,t,n,r,s){const i=Object.keys(t).sort();for(const u of i){const o=t[u],a=Object.keys(o).sort();for(let c of a){const l=o[c];if(c==="@type")c=bP;else if(dP(c))continue;for(const d of l){const h={termType:u.startsWith("_:")?"BlankNode":"NamedNode",value:u};if(!ph(u)){s.eventHandler&&Wu({event:{type:["JsonLdEvent"],code:"relative subject reference",level:"warning",message:"Relative subject reference found.",details:{subject:u}},options:s});continue}const f={termType:c.startsWith("_:")?"BlankNode":"NamedNode",value:c};if(!ph(c)){s.eventHandler&&Wu({event:{type:["JsonLdEvent"],code:"relative predicate reference",level:"warning",message:"Relative predicate reference found.",details:{predicate:c}},options:s});continue}if(f.termType==="BlankNode"&&!s.produceGeneralizedRdf){s.eventHandler&&Wu({event:{type:["JsonLdEvent"],code:"blank node predicate",level:"warning",message:"Dropping blank node predicate.",details:{property:r.getOldIds().find(m=>r.getId(m)===c)}},options:s});continue}const p=i1(d,r,e,n,s.rdfDirection,s);p&&e.push({subject:h,predicate:f,object:p,graph:n})}}}}function EP(e,t,n,r,s,i){const u={termType:"NamedNode",value:gP},o={termType:"NamedNode",value:mP},a={termType:"NamedNode",value:yP},c=e.pop(),l=c?{termType:"BlankNode",value:t.getId()}:a;let d=l;for(const h of e){const f=i1(h,t,n,r,s,i),p={termType:"BlankNode",value:t.getId()};n.push({subject:d,predicate:u,object:f,graph:r}),n.push({subject:d,predicate:o,object:p,graph:r}),d=p}if(c){const h=i1(c,t,n,r,s,i);n.push({subject:d,predicate:u,object:h,graph:r}),n.push({subject:d,predicate:o,object:a,graph:r})}return l}function i1(e,t,n,r,s,i){const u={};if(Ux.isValue(e)){u.termType="Literal",u.value=void 0,u.datatype={termType:"NamedNode"};let o=e["@value"];const a=e["@type"]||null;if(a==="@json")u.value=hP(o),u.datatype.value=wP;else if(kc.isBoolean(o))u.value=o.toString(),u.datatype.value=a||xP;else if(kc.isDouble(o)||a===Vx)kc.isDouble(o)||(o=parseFloat(o)),u.value=o.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),u.datatype.value=a||Vx;else if(kc.isNumber(o))u.value=o.toFixed(0),u.datatype.value=a||SP;else if("@direction"in e&&s==="i18n-datatype"){const c=(e["@language"]||"").toLowerCase(),l=e["@direction"],d=`https://www.w3.org/ns/i18n#${c}_${l}`;u.datatype.value=d,u.value=o}else{if("@direction"in e&&s==="compound-literal")throw new qx("Unsupported rdfDirection value.","jsonld.InvalidRdfDirection",{value:s});if("@direction"in e&&s)throw new qx("Unknown rdfDirection value.","jsonld.InvalidRdfDirection",{value:s});"@language"in e?("@direction"in e&&!s&&i.eventHandler&&Wu({event:{type:["JsonLdEvent"],code:"rdfDirection not set",level:"warning",message:"rdfDirection not set for @direction.",details:{object:u.value}},options:i}),u.value=o,u.datatype.value=a||vP,u.language=e["@language"]):("@direction"in e&&!s&&i.eventHandler&&Wu({event:{type:["JsonLdEvent"],code:"rdfDirection not set",level:"warning",message:"rdfDirection not set for @direction.",details:{object:u.value}},options:i}),u.value=o,u.datatype.value=a||_P)}}else if(Ux.isList(e)){const o=EP(e["@list"],t,n,r,s,i);u.termType=o.termType,u.value=o.value}else{const o=kc.isObject(e)?e["@id"]:e;u.termType=o.startsWith("_:")?"BlankNode":"NamedNode",u.value=o}return u.termType==="NamedNode"&&!ph(u.value)?(i.eventHandler&&Wu({event:{type:["JsonLdEvent"],code:"relative object reference",level:"warning",message:"Relative object reference found.",details:{object:u.value}},options:i}),null):u}const{isKeyword:u1}=xo,sr=mi,Ce=Wn,At=xr,zx=cu,cl=vr,{createNodeMap:OP,mergeNodeMapGraphs:IP}=Cp,cr={};var NP=cr;cr.frameMergedOrDefault=(e,t,n)=>{const r={options:n,embedded:!1,graph:"@default",graphMap:{"@default":{}},subjectStack:[],link:{},bnodeMap:{}},s=new At.IdentifierIssuer("_:b");OP(e,r.graphMap,"@default",s),n.merged&&(r.graphMap["@merged"]=IP(r.graphMap),r.graph="@merged"),r.subjects=r.graphMap[r.graph];const i=[];cr.frame(r,Object.keys(r.subjects).sort(),t,i),n.pruneBlankNodeIdentifiers&&(n.bnodesToClear=Object.keys(r.bnodeMap).filter(u=>r.bnodeMap[u].length===1));// remove @preserve from results
return n.link={},$d(i,n)};cr.frame=(e,t,n,r,s=null)=>{r6(n),n=n[0];const i=e.options,u={embed:ad(n,i,"embed"),explicit:ad(n,i,"explicit"),requireAll:ad(n,i,"requireAll")};e.link.hasOwnProperty(e.graph)||(e.link[e.graph]={});const o=e.link[e.graph],a=kP(e,t,n,u),c=Object.keys(a).sort();for(const l of c){const d=a[l];if(s===null?e.uniqueEmbeds={[e.graph]:{}}:e.uniqueEmbeds[e.graph]=e.uniqueEmbeds[e.graph]||{},u.embed==="@link"&&l in o){vu(r,s,o[l]);continue}const h={"@id":l};if(l.indexOf("_:")===0&&At.addValue(e.bnodeMap,l,h,{propertyIsArray:!0}),o[l]=h,(u.embed==="@first"||u.embed==="@last")&&e.is11)throw new cl("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:n});if(!(!e.embedded&&e.uniqueEmbeds[e.graph].hasOwnProperty(l))){if(e.embedded&&(u.embed==="@never"||RP(d,e.graph,e.subjectStack))){vu(r,s,h);continue}if(e.embedded&&(u.embed=="@first"||u.embed=="@once")&&e.uniqueEmbeds[e.graph].hasOwnProperty(l)){vu(r,s,h);continue}if(u.embed==="@last"&&l in e.uniqueEmbeds[e.graph]&&CP(e,l),e.uniqueEmbeds[e.graph][l]={parent:r,property:s},e.subjectStack.push({subject:d,graph:e.graph}),l in e.graphMap){let f=!1,p=null;"@graph"in n?(p=n["@graph"][0],f=!(l==="@merged"||l==="@default"),Ce.isObject(p)||(p={})):(f=e.graph!=="@merged",p={}),f&&cr.frame({...e,graph:l,embedded:!1},Object.keys(e.graphMap[l]).sort(),[p],h,"@graph")}"@included"in n&&cr.frame({...e,embedded:!1},t,n["@included"],h,"@included");for(const f of Object.keys(d).sort()){if(u1(f)){if(h[f]=At.clone(d[f]),f==="@type")for(const p of d["@type"])p.indexOf("_:")===0&&At.addValue(e.bnodeMap,p,h,{propertyIsArray:!0});continue}if(!(u.explicit&&!(f in n)))for(const p of d[f]){const m=f in n?n[f]:Hx(u);if(sr.isList(p)){const y=n[f]&&n[f][0]&&n[f][0]["@list"]?n[f][0]["@list"]:Hx(u),b={"@list":[]};vu(h,f,b);const w=p["@list"];for(const x of w)sr.isSubjectReference(x)?cr.frame({...e,embedded:!0},[x["@id"]],y,b,"@list"):vu(b,"@list",At.clone(x))}else sr.isSubjectReference(p)?cr.frame({...e,embedded:!0},[p["@id"]],m,h,f):o1(m[0],p)&&vu(h,f,At.clone(p))}}for(const f of Object.keys(n).sort()){if(f==="@type"){if(!Ce.isObject(n[f][0])||!("@default"in n[f][0]))continue}else if(u1(f))continue;const p=n[f][0]||{};if(!ad(p,i,"omitDefault")&&!(f in h)){let y="@null";"@default"in p&&(y=At.clone(p["@default"])),Ce.isArray(y)||(y=[y]),h[f]=[{"@preserve":y}]}}for(const f of Object.keys(n["@reverse"]||{}).sort()){const p=n["@reverse"][f];for(const m of Object.keys(e.subjects))At.getValues(e.subjects[m],f).some(b=>b["@id"]===l)&&(h["@reverse"]=h["@reverse"]||{},At.addValue(h["@reverse"],f,[],{propertyIsArray:!0}),cr.frame({...e,embedded:!0},[m],p,h["@reverse"][f],s))}vu(r,s,h),e.subjectStack.pop()}}};cr.cleanupNull=(e,t)=>{if(Ce.isArray(e))return e.map(r=>cr.cleanupNull(r,t)).filter(r=>r);if(e==="@null")return null;if(Ce.isObject(e)){if("@id"in e){const n=e["@id"];if(t.link.hasOwnProperty(n)){const r=t.link[n].indexOf(e);if(r!==-1)return t.link[n][r];t.link[n].push(e)}else t.link[n]=[e]}for(const n in e)e[n]=cr.cleanupNull(e[n],t)}return e};function Hx(e){const t={};for(const n in e)e[n]!==void 0&&(t["@"+n]=[e[n]]);return[t]}function RP(e,t,n){for(let r=n.length-1;r>=0;--r){const s=n[r];if(s.graph===t&&s.subject["@id"]===e["@id"])return!0}return!1}function ad(e,t,n){const r="@"+n;let s=r in e?e[r][0]:t[n];if(n==="embed"){if(s===!0)s="@once";else if(s===!1)s="@never";else if(s!=="@always"&&s!=="@never"&&s!=="@link"&&s!=="@first"&&s!=="@last"&&s!=="@once")throw new cl("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:e})}return s}function r6(e){if(!Ce.isArray(e)||e.length!==1||!Ce.isObject(e[0]))throw new cl("Invalid JSON-LD syntax; a JSON-LD frame must be a single object.","jsonld.SyntaxError",{frame:e});if("@id"in e[0]){for(const t of At.asArray(e[0]["@id"]))if(!(Ce.isObject(t)||zx.isAbsolute(t))||Ce.isString(t)&&t.indexOf("_:")===0)throw new cl("Invalid JSON-LD syntax; invalid @id in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:e})}if("@type"in e[0]){for(const t of At.asArray(e[0]["@type"]))if(!(Ce.isObject(t)||zx.isAbsolute(t)||t==="@json")||Ce.isString(t)&&t.indexOf("_:")===0)throw new cl("Invalid JSON-LD syntax; invalid @type in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:e})}}function kP(e,t,n,r){const s={};for(const i of t){const u=e.graphMap[e.graph][i];s6(e,u,n,r)&&(s[i]=u)}return s}function s6(e,t,n,r){let s=!0,i=!1;for(const u in n){let o=!1;const a=At.getValues(t,u),c=At.getValues(n,u).length===0;if(u==="@id"){if(Ce.isEmptyObject(n["@id"][0]||{})?o=!0:n["@id"].length>=0&&(o=n["@id"].includes(a[0])),!r.requireAll)return o}else if(u==="@type"){if(s=!1,c){if(a.length>0)return!1;o=!0}else if(n["@type"].length===1&&Ce.isEmptyObject(n["@type"][0]))o=a.length>0;else for(const l of n["@type"])Ce.isObject(l)&&"@default"in l?o=!0:o=o||a.some(d=>d===l);if(!r.requireAll)return o}else{if(u1(u))continue;{const l=At.getValues(n,u)[0];let d=!1;if(l&&(r6([l]),d="@default"in l),s=!1,a.length===0&&d)continue;if(a.length>0&&c)return!1;if(l===void 0){if(a.length>0)return!1;o=!0}else if(sr.isList(l)){const h=l["@list"][0];if(sr.isList(a[0])){const f=a[0]["@list"];sr.isValue(h)?o=f.some(p=>o1(h,p)):(sr.isSubject(h)||sr.isSubjectReference(h))&&(o=f.some(p=>Gx(e,h,p,r)))}}else sr.isValue(l)?o=a.some(h=>o1(l,h)):sr.isSubjectReference(l)?o=a.some(h=>Gx(e,l,h,r)):Ce.isObject(l)?o=a.length>0:o=!1}}if(!o&&r.requireAll)return!1;i=i||o}return s||i}function CP(e,t){const n=e.uniqueEmbeds[e.graph],r=n[t],s=r.parent,i=r.property,u={"@id":t};if(Ce.isArray(s)){for(let a=0;a<s.length;++a)if(At.compareValues(s[a],u)){s[a]=u;break}}else{const a=Ce.isArray(s[i]);At.removeValue(s,i,u,{propertyIsArray:a}),At.addValue(s,i,u,{propertyIsArray:a})}const o=a=>{const c=Object.keys(n);for(const l of c)l in n&&Ce.isObject(n[l].parent)&&n[l].parent["@id"]===a&&(delete n[l],o(l))};o(t)}/**
 * Removes the @preserve keywords from expanded result of framing.
 *
 * @param input the framed, framed output.
 * @param options the framing options used.
 *
 * @return the resulting output.
 */function $d(e,t){if(Ce.isArray(e))return e.map(n=>$d(n,t));if(Ce.isObject(e)){// remove @preserve
if("@preserve"in e)return e["@preserve"][0];if(sr.isValue(e))return e;if(sr.isList(e))return e["@list"]=$d(e["@list"],t),e;if("@id"in e){const n=e["@id"];if(t.link.hasOwnProperty(n)){const r=t.link[n].indexOf(e);if(r!==-1)return t.link[n][r];t.link[n].push(e)}else t.link[n]=[e]}for(const n in e){if(n==="@id"&&t.bnodesToClear.includes(e[n])){delete e["@id"];continue}e[n]=$d(e[n],t)}}return e}function vu(e,t,n){Ce.isObject(e)?At.addValue(e,t,n,{propertyIsArray:!0}):e.push(n)}function Gx(e,t,n,r){if(!("@id"in n))return!1;const s=e.subjects[n["@id"]];return s&&s6(e,s,t,r)}function o1(e,t){const n=t["@value"],r=t["@type"],s=t["@language"],i=e["@value"]?Ce.isArray(e["@value"])?e["@value"]:[e["@value"]]:[],u=e["@type"]?Ce.isArray(e["@type"])?e["@type"]:[e["@type"]]:[],o=e["@language"]?Ce.isArray(e["@language"])?e["@language"]:[e["@language"]]:[];return i.length===0&&u.length===0&&o.length===0?!0:!(!(i.includes(n)||Ce.isEmptyObject(i[0]))||!(!r&&u.length===0||u.includes(r)||r&&Ce.isEmptyObject(u[0]))||!(!s&&o.length===0||o.includes(s)||s&&Ce.isEmptyObject(o[0])))}const Db=vr,{isArray:vi,isObject:Di,isString:i6,isUndefined:Dg}=Wn,{isList:a1,isValue:Qs,isGraph:u6,isSimpleGraph:Jx,isSubjectReference:Mg}=mi,{expandIri:o6,getContextValue:an,isKeyword:a6,process:Pg,processingMode:DP}=xo,{removeBase:Wx,prependBase:MP}=cu,{REGEX_KEYWORD:PP,addValue:Cn,asArray:cd,compareShortestLeast:jP}=xr,ae={};var LP=ae;ae.compact=async({activeCtx:e,activeProperty:t=null,element:n,options:r={}})=>{if(vi(n)){let i=[];for(let u=0;u<n.length;++u){const o=await ae.compact({activeCtx:e,activeProperty:t,element:n[u],options:r});o!==null&&i.push(o)}return r.compactArrays&&i.length===1&&(an(e,t,"@container")||[]).length===0&&(i=i[0]),i}const s=an(e,t,"@context");if(Dg(s)||(e=await Pg({activeCtx:e,localCtx:s,propagate:!0,overrideProtected:!0,options:r})),Di(n)){if(r.link&&"@id"in n&&r.link.hasOwnProperty(n["@id"])){const h=r.link[n["@id"]];for(let f=0;f<h.length;++f)if(h[f].expanded===n)return h[f].compacted}if(Qs(n)||Mg(n)){const h=ae.compactValue({activeCtx:e,activeProperty:t,value:n,options:r});return r.link&&Mg(n)&&(r.link.hasOwnProperty(n["@id"])||(r.link[n["@id"]]=[]),r.link[n["@id"]].push({expanded:n,compacted:h})),h}if(a1(n)&&(an(e,t,"@container")||[]).includes("@list"))return ae.compact({activeCtx:e,activeProperty:t,element:n["@list"],options:r});const i=t==="@reverse",u={},o=e;!Qs(n)&&!Mg(n)&&(e=e.revertToPreviousContext());const a=an(o,t,"@context");Dg(a)||(e=await Pg({activeCtx:e,localCtx:a,propagate:!0,overrideProtected:!0,options:r})),r.link&&"@id"in n&&(r.link.hasOwnProperty(n["@id"])||(r.link[n["@id"]]=[]),r.link[n["@id"]].push({expanded:n,compacted:u}));let c=n["@type"]||[];c.length>1&&(c=Array.from(c).sort());const l=e;for(const h of c){const f=ae.compactIri({activeCtx:l,iri:h,relativeTo:{vocab:!0}}),p=an(o,f,"@context");Dg(p)||(e=await Pg({activeCtx:e,localCtx:p,options:r,propagate:!1}))}const d=Object.keys(n).sort();for(const h of d){const f=n[h];if(h==="@id"){let p=cd(f).map(y=>ae.compactIri({activeCtx:e,iri:y,relativeTo:{vocab:!1},base:r.base}));p.length===1&&(p=p[0]);const m=ae.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}});u[m]=p;continue}if(h==="@type"){let p=cd(f).map(x=>ae.compactIri({activeCtx:o,iri:x,relativeTo:{vocab:!0}}));p.length===1&&(p=p[0]);const m=ae.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}}),w=(an(e,m,"@container")||[]).includes("@set")&&DP(e,1.1)||vi(p)&&f.length===0;Cn(u,m,p,{propertyIsArray:w});continue}if(h==="@reverse"){const p=await ae.compact({activeCtx:e,activeProperty:"@reverse",element:f,options:r});for(const m in p)if(e.mappings.has(m)&&e.mappings.get(m).reverse){const y=p[m],w=(an(e,m,"@container")||[]).includes("@set")||!r.compactArrays;Cn(u,m,y,{propertyIsArray:w}),delete p[m]}if(Object.keys(p).length>0){const m=ae.compactIri({activeCtx:e,iri:h,relativeTo:{vocab:!0}});Cn(u,m,p)}continue}if(h==="@preserve"){const p=await ae.compact({activeCtx:e,activeProperty:t,element:f,options:r});vi(p)&&p.length===0||Cn(u,h,p);continue}if(h==="@index"){if((an(e,t,"@container")||[]).includes("@index"))continue;const m=ae.compactIri({activeCtx:e,iri:h,relativeTo:{vocab:!0}});Cn(u,m,f);continue}if(h!=="@graph"&&h!=="@list"&&h!=="@included"&&a6(h)){const p=ae.compactIri({activeCtx:e,iri:h,relativeTo:{vocab:!0}});Cn(u,p,f);continue}if(!vi(f))throw new Db("JSON-LD expansion error; expanded value must be an array.","jsonld.SyntaxError");if(f.length===0){const p=ae.compactIri({activeCtx:e,iri:h,value:f,relativeTo:{vocab:!0},reverse:i}),m=e.mappings.has(p)?e.mappings.get(p)["@nest"]:null;let y=u;m&&(Qx(e,m,r),Di(u[m])||(u[m]={}),y=u[m]),Cn(y,p,f,{propertyIsArray:!0})}for(const p of f){const m=ae.compactIri({activeCtx:e,iri:h,value:p,relativeTo:{vocab:!0},reverse:i}),y=e.mappings.has(m)?e.mappings.get(m)["@nest"]:null;let b=u;y&&(Qx(e,y,r),Di(u[y])||(u[y]={}),b=u[y]);const w=an(e,m,"@container")||[],x=u6(p),v=a1(p);let A;v?A=p["@list"]:x&&(A=p["@graph"]);let T=await ae.compact({activeCtx:e,activeProperty:m,element:v||x?A:p,options:r});if(v)if(vi(T)||(T=[T]),!w.includes("@list"))T={[ae.compactIri({activeCtx:e,iri:"@list",relativeTo:{vocab:!0}})]:T},"@index"in p&&(T[ae.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=p["@index"]);else{Cn(b,m,T,{valueIsArray:!0,allowDuplicate:!0});continue}if(x)if(w.includes("@graph")&&(w.includes("@id")||w.includes("@index")&&Jx(p))){let V;b.hasOwnProperty(m)?V=b[m]:b[m]=V={};const J=(w.includes("@id")?p["@id"]:p["@index"])||ae.compactIri({activeCtx:e,iri:"@none",relativeTo:{vocab:!0}});Cn(V,J,T,{propertyIsArray:!r.compactArrays||w.includes("@set")})}else w.includes("@graph")&&Jx(p)?(vi(T)&&T.length>1&&(T={"@included":T}),Cn(b,m,T,{propertyIsArray:!r.compactArrays||w.includes("@set")})):(vi(T)&&T.length===1&&r.compactArrays&&(T=T[0]),T={[ae.compactIri({activeCtx:e,iri:"@graph",relativeTo:{vocab:!0}})]:T},"@id"in p&&(T[ae.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}})]=p["@id"]),"@index"in p&&(T[ae.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=p["@index"]),Cn(b,m,T,{propertyIsArray:!r.compactArrays||w.includes("@set")}));else if(w.includes("@language")||w.includes("@index")||w.includes("@id")||w.includes("@type")){let V;b.hasOwnProperty(m)?V=b[m]:b[m]=V={};let J;if(w.includes("@language"))Qs(T)&&(T=T["@value"]),J=p["@language"];else if(w.includes("@index")){const Y=an(e,m,"@index")||"@index",pe=ae.compactIri({activeCtx:e,iri:Y,relativeTo:{vocab:!0}});if(Y==="@index")J=p["@index"],delete T[pe];else{let B;if([J,...B]=cd(T[Y]||[]),!i6(J))J=null;else switch(B.length){case 0:delete T[Y];break;case 1:T[Y]=B[0];break;default:T[Y]=B;break}}}else if(w.includes("@id")){const Y=ae.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}});J=T[Y],delete T[Y]}else if(w.includes("@type")){const Y=ae.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}});let pe;switch([J,...pe]=cd(T[Y]||[]),pe.length){case 0:delete T[Y];break;case 1:T[Y]=pe[0];break;default:T[Y]=pe;break}Object.keys(T).length===1&&"@id"in p&&(T=await ae.compact({activeCtx:e,activeProperty:m,element:{"@id":p["@id"]},options:r}))}J||(J=ae.compactIri({activeCtx:e,iri:"@none",relativeTo:{vocab:!0}})),Cn(V,J,T,{propertyIsArray:w.includes("@set")})}else{const V=!r.compactArrays||w.includes("@set")||w.includes("@list")||vi(T)&&T.length===0||h==="@list"||h==="@graph";Cn(b,m,T,{propertyIsArray:V})}}}return u}return n};ae.compactIri=({activeCtx:e,iri:t,value:n=null,relativeTo:r={vocab:!1},reverse:s=!1,base:i=null})=>{if(t===null)return t;e.isPropertyTermScoped&&e.previousContext&&(e=e.previousContext);const u=e.getInverse();if(a6(t)&&t in u&&"@none"in u[t]&&"@type"in u[t]["@none"]&&"@none"in u[t]["@none"]["@type"])return u[t]["@none"]["@type"]["@none"];if(r.vocab&&t in u){const d=e["@language"]||"@none",h=[];Di(n)&&"@index"in n&&!("@graph"in n)&&h.push("@index","@index@set"),Di(n)&&"@preserve"in n&&(n=n["@preserve"][0]),u6(n)?("@index"in n&&h.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in n&&h.push("@graph@id","@graph@id@set"),h.push("@graph","@graph@set","@set"),"@index"in n||h.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in n||h.push("@graph@id","@graph@id@set")):Di(n)&&!Qs(n)&&h.push("@id","@id@set","@type","@set@type");let f="@language",p="@null";if(s)f="@type",p="@reverse",h.push("@set");else if(a1(n)){"@index"in n||h.push("@list");const y=n["@list"];if(y.length===0)f="@any",p="@none";else{let b=y.length===0?d:null,w=null;for(let x=0;x<y.length;++x){const v=y[x];let A="@none",T="@none";if(Qs(v))if("@direction"in v){const V=(v["@language"]||"").toLowerCase(),J=v["@direction"];A=`${V}_${J}`}else"@language"in v?A=v["@language"].toLowerCase():"@type"in v?T=v["@type"]:A="@null";else T="@id";if(b===null?b=A:A!==b&&Qs(v)&&(b="@none"),w===null?w=T:T!==w&&(w="@none"),b==="@none"&&w==="@none")break}b=b||"@none",w=w||"@none",w!=="@none"?(f="@type",p=w):p=b}}else{if(Qs(n))if("@language"in n&&!("@index"in n)){h.push("@language","@language@set"),p=n["@language"];const y=n["@direction"];y&&(p=`${p}_${y}`)}else"@direction"in n&&!("@index"in n)?p=`_${n["@direction"]}`:"@type"in n&&(f="@type",p=n["@type"]);else f="@type",p="@id";h.push("@set")}h.push("@none"),Di(n)&&!("@index"in n)&&h.push("@index","@index@set"),Qs(n)&&Object.keys(n).length===1&&h.push("@language","@language@set");const m=FP(e,t,n,h,f,p);if(m!==null)return m}if(r.vocab&&"@vocab"in e){const d=e["@vocab"];if(t.indexOf(d)===0&&t!==d){const h=t.substr(d.length);if(!e.mappings.has(h))return h}}let o=null;const a=[];let c=e.fastCurieMap;const l=t.length-1;for(let d=0;d<l&&t[d]in c;++d)c=c[t[d]],""in c&&a.push(c[""][0]);for(let d=a.length-1;d>=0;--d){const h=a[d],f=h.terms;for(const p of f){const m=p+":"+t.substr(h.iri.length);e.mappings.get(p)._prefix&&(!e.mappings.has(m)||n===null&&e.mappings.get(m)["@id"]===t)&&(o===null||jP(m,o)<0)&&(o=m)}}if(o!==null)return o;for(const[d,h]of e.mappings)if(h&&h._prefix&&t.startsWith(d+":"))throw new Db(`Absolute IRI "${t}" confused with prefix "${d}".`,"jsonld.SyntaxError",{code:"IRI confused with prefix",context:e});if(!r.vocab)if("@base"in e)if(e["@base"]){const d=Wx(MP(i,e["@base"]),t);return PP.test(d)?`./${d}`:d}else return t;else return Wx(i,t);return t};ae.compactValue=({activeCtx:e,activeProperty:t,value:n,options:r})=>{if(Qs(n)){const o=an(e,t,"@type"),a=an(e,t,"@language"),c=an(e,t,"@direction"),l=an(e,t,"@container")||[],d="@index"in n&&!l.includes("@index");if(!d&&o!=="@none"&&(n["@type"]===o||"@language"in n&&n["@language"]===a&&"@direction"in n&&n["@direction"]===c||"@language"in n&&n["@language"]===a||"@direction"in n&&n["@direction"]===c))return n["@value"];const h=Object.keys(n).length,f=h===1||h===2&&"@index"in n&&!d,p="@language"in e,m=i6(n["@value"]),y=e.mappings.has(t)&&e.mappings.get(t)["@language"]===null;if(f&&o!=="@none"&&(!p||!m||y))return n["@value"];const b={};return d&&(b[ae.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=n["@index"]),"@type"in n?b[ae.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}})]=ae.compactIri({activeCtx:e,iri:n["@type"],relativeTo:{vocab:!0}}):"@language"in n&&(b[ae.compactIri({activeCtx:e,iri:"@language",relativeTo:{vocab:!0}})]=n["@language"]),"@direction"in n&&(b[ae.compactIri({activeCtx:e,iri:"@direction",relativeTo:{vocab:!0}})]=n["@direction"]),b[ae.compactIri({activeCtx:e,iri:"@value",relativeTo:{vocab:!0}})]=n["@value"],b}const s=o6(e,t,{vocab:!0},r),i=an(e,t,"@type"),u=ae.compactIri({activeCtx:e,iri:n["@id"],relativeTo:{vocab:i==="@vocab"},base:r.base});return i==="@id"||i==="@vocab"||s==="@graph"?u:{[ae.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}})]:u}};function FP(e,t,n,r,s,i){i===null&&(i="@null");const u=[];if((i==="@id"||i==="@reverse")&&Di(n)&&"@id"in n){i==="@reverse"&&u.push("@reverse");const a=ae.compactIri({activeCtx:e,iri:n["@id"],relativeTo:{vocab:!0}});e.mappings.has(a)&&e.mappings.get(a)&&e.mappings.get(a)["@id"]===n["@id"]?u.push.apply(u,["@vocab","@id"]):u.push.apply(u,["@id","@vocab"])}else{u.push(i);const a=u.find(c=>c.includes("_"));a&&u.push(a.replace(/^[^_]+_/,"_"))}u.push("@none");const o=e.inverse[t];for(const a of r){if(!(a in o))continue;const c=o[a][s];for(const l of u)if(l in c)return c[l]}return null}function Qx(e,t,n){if(o6(e,t,{vocab:!0},n)!=="@nest")throw new Db("JSON-LD compact error; nested property must have an @nest value resolving to @nest.","jsonld.SyntaxError",{code:"invalid @nest value"})}var jg,Xx;function BP(){return Xx||(Xx=1,jg=e=>{class t{toString(){return"[object JsonLdProcessor]"}}return Object.defineProperty(t,"prototype",{writable:!1,enumerable:!1}),Object.defineProperty(t.prototype,"constructor",{writable:!0,enumerable:!1,configurable:!0,value:t}),t.compact=function(n,r){return arguments.length<2?Promise.reject(new TypeError("Could not compact, too few arguments.")):e.compact(n,r)},t.expand=function(n){return arguments.length<1?Promise.reject(new TypeError("Could not expand, too few arguments.")):e.expand(n)},t.flatten=function(n){return arguments.length<1?Promise.reject(new TypeError("Could not flatten, too few arguments.")):e.flatten(n)},t}),jg}/**
 * A JavaScript implementation of the JSON-LD API.
 *
 * @author Dave Longley
 *
 * @license BSD 3-Clause License
 * Copyright (c) 2011-2022 Digital Bazaar, Inc.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * Redistributions of source code must retain the above copyright notice,
 * this list of conditions and the following disclaimer.
 *
 * Redistributions in binary form must reproduce the above copyright
 * notice, this list of conditions and the following disclaimer in the
 * documentation and/or other materials provided with the distribution.
 *
 * Neither the name of the Digital Bazaar, Inc. nor the names of its
 * contributors may be used to endorse or promote products derived from
 * this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
 * IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED
 * TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A
 * PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
 * TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
 * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */const Kx=Nb,Yx=T7,Ai=xr,Ps=F7,Lg=Ai.IdentifierIssuer,es=vr,$P=zA,ld=$7,{expand:UP}=Z7,{flatten:qP}=sP,{fromRDF:VP}=aP,{toRDF:zP}=AP,{frameMergedOrDefault:HP,cleanupNull:GP}=NP,{isArray:Po,isObject:xu,isString:ts}=Wn,{isSubjectReference:JP}=mi,{expandIri:WP,getInitialContext:fd,process:Zx,processingMode:Fg}=xo,{compact:QP,compactIri:XP}=LP,{createNodeMap:KP,createMergedNodeMap:YP,mergeNodeMaps:ZP}=Cp,{logEventHandler:ej,logWarningEventHandler:tj,safeEventHandler:nj,setDefaultEventHandler:rj,setupEventHandler:sj,strictEventHandler:ij,unhandledEventHandler:uj}=If,c6=function(e){const t={},r=new $P({max:100});e.compact=async function(i,u,o){if(arguments.length<2)throw new TypeError("Could not compact, too few arguments.");if(u===null)throw new es("The compaction context must not be null.","jsonld.CompactError",{code:"invalid local context"});if(i===null)return null;o=s(o,{base:ts(i)?i:"",compactArrays:!0,compactToRelative:!0,graph:!1,skipExpansion:!1,link:!1,issuer:new Lg("_:b"),contextResolver:new Ps({sharedCache:r})}),o.link&&(o.skipExpansion=!0),o.compactToRelative||delete o.base;let a;o.skipExpansion?a=i:a=await e.expand(i,o);const c=await e.processContext(fd(o),u,o);let l=await QP({activeCtx:c,element:a,options:o});o.compactArrays&&!o.graph&&Po(l)?l.length===1?l=l[0]:l.length===0&&(l={}):o.graph&&xu(l)&&(l=[l]),xu(u)&&"@context"in u&&(u=u["@context"]),u=Ai.clone(u),Po(u)||(u=[u]);const d=u;u=[];for(let f=0;f<d.length;++f)(!xu(d[f])||Object.keys(d[f]).length>0)&&u.push(d[f]);const h=u.length>0;if(u.length===1&&(u=u[0]),Po(l)){const f=XP({activeCtx:c,iri:"@graph",relativeTo:{vocab:!0}}),p=l;l={},h&&(l["@context"]=u),l[f]=p}else if(xu(l)&&h){const f=l;l={"@context":u};for(const p in f)l[p]=f[p]}return l},e.expand=async function(i,u){if(arguments.length<1)throw new TypeError("Could not expand, too few arguments.");u=s(u,{keepFreeFloatingNodes:!1,contextResolver:new Ps({sharedCache:r})});const o={},a=[];if("expandContext"in u){const h=Ai.clone(u.expandContext);xu(h)&&"@context"in h?o.expandContext=h:o.expandContext={"@context":h},a.push(o.expandContext)}let c;if(!ts(i))o.input=Ai.clone(i);else{const h=await e.get(i,u);c=h.documentUrl,o.input=h.document,h.contextUrl&&(o.remoteContext={"@context":h.contextUrl},a.push(o.remoteContext))}"base"in u||(u.base=c||"");let l=fd(u);for(const h of a)l=await Zx({activeCtx:l,localCtx:h,options:u});let d=await UP({activeCtx:l,element:o.input,options:u});return xu(d)&&"@graph"in d&&Object.keys(d).length===1?d=d["@graph"]:d===null&&(d=[]),Po(d)||(d=[d]),d},e.flatten=async function(i,u,o){if(arguments.length<1)return new TypeError("Could not flatten, too few arguments.");typeof u=="function"?u=null:u=u||null,o=s(o,{base:ts(i)?i:"",contextResolver:new Ps({sharedCache:r})});const a=await e.expand(i,o),c=qP(a);return u===null?c:(o.graph=!0,o.skipExpansion=!0,await e.compact(c,u,o))},e.frame=async function(i,u,o){if(arguments.length<2)throw new TypeError("Could not frame, too few arguments.");if(o=s(o,{base:ts(i)?i:"",embed:"@once",explicit:!1,requireAll:!1,omitDefault:!1,bnodesToClear:[],contextResolver:new Ps({sharedCache:r})}),ts(u)){const y=await e.get(u,o);if(u=y.document,y.contextUrl){let b=u["@context"];b?Po(b)?b.push(y.contextUrl):b=[b,y.contextUrl]:b=y.contextUrl,u["@context"]=b}}const a=u?u["@context"]||{}:{},c=await e.processContext(fd(o),a,o);o.hasOwnProperty("omitGraph")||(o.omitGraph=Fg(c,1.1)),o.hasOwnProperty("pruneBlankNodeIdentifiers")||(o.pruneBlankNodeIdentifiers=Fg(c,1.1));const l=await e.expand(i,o),d={...o};d.isFrame=!0,d.keepFreeFloatingNodes=!0;const h=await e.expand(u,d),f=Object.keys(u).map(y=>WP(c,y,{vocab:!0}));d.merged=!f.includes("@graph"),d.is11=Fg(c,1.1);const p=HP(l,h,d);d.graph=!o.omitGraph,d.skipExpansion=!0,d.link={},d.framing=!0;let m=await e.compact(p,a,d);return d.link={},m=GP(m,d),m},e.link=async function(i,u,o){const a={};return u&&(a["@context"]=u),a["@embed"]="@link",e.frame(i,a,o)},e.normalize=e.canonize=async function(i,u){if(arguments.length<1)throw new TypeError("Could not canonize, too few arguments.");if(u=s(u,{base:ts(i)?i:null,algorithm:"URDNA2015",skipExpansion:!1,safe:!0,contextResolver:new Ps({sharedCache:r})}),"inputFormat"in u){if(u.inputFormat!=="application/n-quads"&&u.inputFormat!=="application/nquads")throw new es("Unknown canonicalization input format.","jsonld.CanonizeError");const c=ld.parse(i);return Kx.canonize(c,u)}const o={...u};delete o.format,o.produceGeneralizedRdf=!1;const a=await e.toRDF(i,o);return Kx.canonize(a,u)},e.fromRDF=async function(i,u){if(arguments.length<1)throw new TypeError("Could not convert from RDF, too few arguments.");u=s(u,{format:ts(i)?"application/n-quads":void 0});const{format:o}=u;let{rdfParser:a}=u;if(o){if(a=a||t[o],!a)throw new es("Unknown input format.","jsonld.UnknownFormat",{format:o})}else a=()=>i;const c=await a(i);return VP(c,u)},e.toRDF=async function(i,u){if(arguments.length<1)throw new TypeError("Could not convert to RDF, too few arguments.");u=s(u,{base:ts(i)?i:"",skipExpansion:!1,contextResolver:new Ps({sharedCache:r})});let o;u.skipExpansion?o=i:o=await e.expand(i,u);const a=zP(o,u);if(u.format){if(u.format==="application/n-quads"||u.format==="application/nquads")return ld.serialize(a);throw new es("Unknown output format.","jsonld.UnknownFormat",{format:u.format})}return a},e.createNodeMap=async function(i,u){if(arguments.length<1)throw new TypeError("Could not create node map, too few arguments.");u=s(u,{base:ts(i)?i:"",contextResolver:new Ps({sharedCache:r})});const o=await e.expand(i,u);return YP(o,u)},e.merge=async function(i,u,o){if(arguments.length<1)throw new TypeError("Could not merge, too few arguments.");if(!Po(i))throw new TypeError('Could not merge, "docs" must be an array.');typeof u=="function"?u=null:u=u||null,o=s(o,{contextResolver:new Ps({sharedCache:r})});const a=await Promise.all(i.map(y=>{const b={...o};return e.expand(y,b)}));let c=!0;"mergeNodes"in o&&(c=o.mergeNodes);const l=o.issuer||new Lg("_:b"),d={"@default":{}};for(let y=0;y<a.length;++y){const b=Ai.relabelBlankNodes(a[y],{issuer:new Lg("_:b"+y+"-")}),w=c||y===0?d:{"@default":{}};if(KP(b,w,"@default",l),w!==d)for(const x in w){const v=w[x];if(!(x in d)){d[x]=v;continue}const A=d[x];for(const T in v)T in A||(A[T]=v[T])}}const h=ZP(d),f=[],p=Object.keys(h).sort();for(let y=0;y<p.length;++y){const b=h[p[y]];JP(b)||f.push(b)}return u===null?f:(o.graph=!0,o.skipExpansion=!0,await e.compact(f,u,o))},Object.defineProperty(e,"documentLoader",{get:()=>e._documentLoader,set:i=>e._documentLoader=i}),e.documentLoader=async i=>{throw new es("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",url:i})},e.get=async function(i,u){let o;typeof u.documentLoader=="function"?o=u.documentLoader:o=e.documentLoader;const a=await o(i);try{if(!a.document)throw new es("No remote document found at the given URL.","jsonld.NullRemoteDocument");ts(a.document)&&(a.document=JSON.parse(a.document))}catch(c){throw new es("Could not retrieve a JSON-LD document from the URL.","jsonld.LoadDocumentError",{code:"loading document failed",cause:c,remoteDoc:a})}return a},e.processContext=async function(i,u,o){return o=s(o,{base:"",contextResolver:new Ps({sharedCache:r})}),u===null?fd(o):(u=Ai.clone(u),xu(u)&&"@context"in u||(u={"@context":u}),Zx({activeCtx:i,localCtx:u,options:o}))},e.getContextValue=xo.getContextValue,e.documentLoaders={},e.useDocumentLoader=function(i){if(!(i in e.documentLoaders))throw new es('Unknown document loader type: "'+i+'"',"jsonld.UnknownDocumentLoader",{type:i});e.documentLoader=e.documentLoaders[i].apply(e,Array.prototype.slice.call(arguments,1))},e.registerRDFParser=function(i,u){t[i]=u},e.unregisterRDFParser=function(i){delete t[i]},e.registerRDFParser("application/n-quads",ld.parse),e.registerRDFParser("application/nquads",ld.parse),e.url=cu,e.logEventHandler=ej,e.logWarningEventHandler=tj,e.safeEventHandler=nj,e.setDefaultEventHandler=rj,e.strictEventHandler=ij,e.unhandledEventHandler=uj,e.util=Ai,Object.assign(e,Ai),e.promises=e,e.RequestQueue=qA(),e.JsonLdProcessor=BP()(e),Yx.setupGlobals(e),Yx.setupDocumentLoaders(e);function s(i,{documentLoader:u=e.documentLoader,...o}){if(i&&"compactionMap"in i)throw new es('"compactionMap" not supported.',"jsonld.OptionsError");if(i&&"expansionMap"in i)throw new es('"expansionMap" not supported.',"jsonld.OptionsError");return Object.assign({},{documentLoader:u},o,i,{eventHandler:sj({options:i})})}return e},Mb=function(){return c6(function(){return Mb()})};c6(Mb);var oj=Mb;const aj=UM(oj),cj=new RegExp("([\\p{Ll}\\d])(\\p{Lu})","gu"),lj=new RegExp("(\\p{Lu})([\\p{Lu}][\\p{Ll}])","gu"),fj=new RegExp("(\\d)\\p{Ll}|(\\p{L})\\d","u"),dj=/[^\p{L}\d]+/giu,eS="$1\0$2",tS="";function l6(e){let t=e.trim();t=t.replace(cj,eS).replace(lj,eS),t=t.replace(dj,"\0");let n=0,r=t.length;for(;t.charAt(n)==="\0";)n++;if(n===r)return[];for(;t.charAt(r-1)==="\0";)r--;return t.slice(n,r).split(/\0/g)}function hj(e){const t=l6(e);for(let n=0;n<t.length;n++){const r=t[n],s=fj.exec(r);if(s){const i=s.index+(s[1]??s[2]).length;t.splice(n,1,r.slice(0,i),r.slice(i))}}return t}function pj(e,t){const[n,r,s]=yj(e,t);return n+r.map(mj(t==null?void 0:t.locale)).join((t==null?void 0:t.delimiter)??" ")+s}function gj(e,t){return pj(e,{delimiter:"-",...t})}function mj(e){return e===!1?t=>t.toLowerCase():t=>t.toLocaleLowerCase(e)}function yj(e,t={}){const n=t.split??(t.separateNumbers?hj:l6),r=t.prefixCharacters??tS,s=t.suffixCharacters??tS;let i=0,u=e.length;for(;i<e.length;){const o=e.charAt(i);if(!r.includes(o))break;i++}for(;u>i;){const o=u-1,a=e.charAt(o);if(!s.includes(a))break;u=o}return[e.slice(0,i),n(e.slice(i,u)),e.slice(u)]}var Wc={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.toSeconds=e.end=e.parse=e.pattern=void 0;var t="\\d+",n="".concat(t,"(?:[\\.,]").concat(t,")?"),r="(".concat(t,"Y)?(").concat(t,"M)?(").concat(t,"W)?(").concat(t,"D)?"),s="T(".concat(n,"H)?(").concat(n,"M)?(").concat(n,"S)?"),i="P(?:".concat(r,"(?:").concat(s,")?)"),u=["years","months","weeks","days","hours","minutes","seconds"],o=Object.freeze({years:0,months:0,weeks:0,days:0,hours:0,minutes:0,seconds:0});e.pattern=new RegExp(i);var a=function(d){var h=d.replace(/,/g,".").match(e.pattern);if(!h)throw new RangeError("invalid duration: ".concat(d));var f=h.slice(1);if(f.filter(function(p){return p!=null}).length===0)throw new RangeError("invalid duration: ".concat(d));if(f.filter(function(p){return/\./.test(p||"")}).length>1)throw new RangeError("only the smallest unit can be fractional");return f.reduce(function(p,m,y){return p[u[y]]=parseFloat(m||"0")||0,p},{})};e.parse=a;var c=function(d,h){h===void 0&&(h=new Date);var f=Object.assign({},o,d),p=h.getTime(),m=new Date(p);m.setFullYear(m.getFullYear()+f.years),m.setMonth(m.getMonth()+f.months),m.setDate(m.getDate()+f.days);var y=f.hours*3600*1e3,b=f.minutes*60*1e3;return m.setMilliseconds(m.getMilliseconds()+f.seconds*1e3+y+b),m.setDate(m.getDate()+f.weeks*7),m};e.end=c;var l=function(d,h){h===void 0&&(h=new Date);var f=Object.assign({},o,d),p=h.getTime(),m=new Date(p),y=(0,e.end)(f,m),b=h.getTimezoneOffset(),w=y.getTimezoneOffset(),x=(b-w)*60,v=(y.getTime()-m.getTime())/1e3;return v+x};e.toSeconds=l,e.default={end:e.end,toSeconds:e.toSeconds,pattern:e.pattern,parse:e.parse}})(Wc);const gh=Symbol("changed"),$o=Symbol("classList"),Dr=Symbol("CustomElements"),dd=Symbol("content"),Bg=Symbol("dataset"),Su=Symbol("doctype"),c1=Symbol("DOMParser"),ee=Symbol("end"),Cc=Symbol("EventTarget"),Ud=Symbol("globals"),Mr=Symbol("image"),oc=Symbol("mime"),Mi=Symbol("MutationObserver"),L=Symbol("next"),f6=Symbol("ownerElement"),Et=Symbol("prev"),Qt=Symbol("private"),jo=Symbol("sheet"),Sn=Symbol("start"),$g=Symbol("style"),ll=Symbol("upgrade"),Re=Symbol("value");var d6=new Uint16Array('ᵁ<Õıʊҝջאٵ۞ޢߖࠏ੊ઑඡ๭༉༦჊ረዡᐕᒝᓃᓟᔥ\0\0\0\0\0\0ᕫᛍᦍᰒᷝ὾⁠↰⊍⏀⏻⑂⠤⤒ⴈ⹈⿎〖㊺㘹㞬㣾㨨㩱㫠㬮ࠀEMabcfglmnoprstu\\bfms¦³¹ÈÏlig耻Æ䃆P耻&䀦cute耻Á䃁reve;䄂Āiyx}rc耻Â䃂;䐐r;쀀𝔄rave耻À䃀pha;䎑acr;䄀d;橓Āgp¡on;䄄f;쀀𝔸plyFunction;恡ing耻Å䃅Ācs¾Ãr;쀀𝒜ign;扔ilde耻Ã䃃ml耻Ä䃄ЀaceforsuåûþėĜĢħĪĀcrêòkslash;或Ŷöø;櫧ed;挆y;䐑ƀcrtąċĔause;戵noullis;愬a;䎒r;쀀𝔅pf;쀀𝔹eve;䋘còēmpeq;扎܀HOacdefhilorsuōőŖƀƞƢƵƷƺǜȕɳɸɾcy;䐧PY耻©䂩ƀcpyŝŢźute;䄆Ā;iŧŨ拒talDifferentialD;慅leys;愭ȀaeioƉƎƔƘron;䄌dil耻Ç䃇rc;䄈nint;戰ot;䄊ĀdnƧƭilla;䂸terDot;䂷òſi;䎧rcleȀDMPTǇǋǑǖot;抙inus;抖lus;投imes;抗oĀcsǢǸkwiseContourIntegral;戲eCurlyĀDQȃȏoubleQuote;思uote;怙ȀlnpuȞȨɇɕonĀ;eȥȦ户;橴ƀgitȯȶȺruent;扡nt;戯ourIntegral;戮ĀfrɌɎ;愂oduct;成nterClockwiseContourIntegral;戳oss;樯cr;쀀𝒞pĀ;Cʄʅ拓ap;才րDJSZacefiosʠʬʰʴʸˋ˗ˡ˦̳ҍĀ;oŹʥtrahd;椑cy;䐂cy;䐅cy;䐏ƀgrsʿ˄ˇger;怡r;憡hv;櫤Āayː˕ron;䄎;䐔lĀ;t˝˞戇a;䎔r;쀀𝔇Āaf˫̧Ācm˰̢riticalȀADGT̖̜̀̆cute;䂴oŴ̋̍;䋙bleAcute;䋝rave;䁠ilde;䋜ond;拄ferentialD;慆Ѱ̽\0\0\0͔͂\0Ѕf;쀀𝔻ƀ;DE͈͉͍䂨ot;惜qual;扐blèCDLRUVͣͲ΂ϏϢϸontourIntegraìȹoɴ͹\0\0ͻ»͉nArrow;懓Āeo·ΤftƀARTΐΖΡrrow;懐ightArrow;懔eåˊngĀLRΫτeftĀARγιrrow;柸ightArrow;柺ightArrow;柹ightĀATϘϞrrow;懒ee;抨pɁϩ\0\0ϯrrow;懑ownArrow;懕erticalBar;戥ǹABLRTaВЪаўѿͼrrowƀ;BUНОТ憓ar;椓pArrow;懵reve;䌑eft˒к\0ц\0ѐightVector;楐eeVector;楞ectorĀ;Bљњ憽ar;楖ightǔѧ\0ѱeeVector;楟ectorĀ;BѺѻ懁ar;楗eeĀ;A҆҇护rrow;憧ĀctҒҗr;쀀𝒟rok;䄐ࠀNTacdfglmopqstuxҽӀӄӋӞӢӧӮӵԡԯԶՒ՝ՠեG;䅊H耻Ð䃐cute耻É䃉ƀaiyӒӗӜron;䄚rc耻Ê䃊;䐭ot;䄖r;쀀𝔈rave耻È䃈ement;戈ĀapӺӾcr;䄒tyɓԆ\0\0ԒmallSquare;旻erySmallSquare;斫ĀgpԦԪon;䄘f;쀀𝔼silon;䎕uĀaiԼՉlĀ;TՂՃ橵ilde;扂librium;懌Āci՗՚r;愰m;橳a;䎗ml耻Ë䃋Āipժկsts;戃onentialE;慇ʀcfiosօֈ֍ֲ׌y;䐤r;쀀𝔉lledɓ֗\0\0֣mallSquare;旼erySmallSquare;斪Ͱֺ\0ֿ\0\0ׄf;쀀𝔽All;戀riertrf;愱cò׋؀JTabcdfgorstר׬ׯ׺؀ؒؖ؛؝أ٬ٲcy;䐃耻>䀾mmaĀ;d׷׸䎓;䏜reve;䄞ƀeiy؇،ؐdil;䄢rc;䄜;䐓ot;䄠r;쀀𝔊;拙pf;쀀𝔾eater̀EFGLSTصلَٖٛ٦qualĀ;Lؾؿ扥ess;招ullEqual;执reater;檢ess;扷lantEqual;橾ilde;扳cr;쀀𝒢;扫ЀAacfiosuڅڋږڛڞڪھۊRDcy;䐪Āctڐڔek;䋇;䁞irc;䄤r;愌lbertSpace;愋ǰگ\0ڲf;愍izontalLine;攀Āctۃۅòکrok;䄦mpńېۘownHumðįqual;扏܀EJOacdfgmnostuۺ۾܃܇܎ܚܞܡܨ݄ݸދޏޕcy;䐕lig;䄲cy;䐁cute耻Í䃍Āiyܓܘrc耻Î䃎;䐘ot;䄰r;愑rave耻Ì䃌ƀ;apܠܯܿĀcgܴܷr;䄪inaryI;慈lieóϝǴ݉\0ݢĀ;eݍݎ戬Āgrݓݘral;戫section;拂isibleĀCTݬݲomma;恣imes;恢ƀgptݿރވon;䄮f;쀀𝕀a;䎙cr;愐ilde;䄨ǫޚ\0ޞcy;䐆l耻Ï䃏ʀcfosuެ޷޼߂ߐĀiyޱ޵rc;䄴;䐙r;쀀𝔍pf;쀀𝕁ǣ߇\0ߌr;쀀𝒥rcy;䐈kcy;䐄΀HJacfosߤߨ߽߬߱ࠂࠈcy;䐥cy;䐌ppa;䎚Āey߶߻dil;䄶;䐚r;쀀𝔎pf;쀀𝕂cr;쀀𝒦րJTaceflmostࠥࠩࠬࡐࡣ঳সে্਷ੇcy;䐉耻<䀼ʀcmnpr࠷࠼ࡁࡄࡍute;䄹bda;䎛g;柪lacetrf;愒r;憞ƀaeyࡗ࡜ࡡron;䄽dil;䄻;䐛Āfsࡨ॰tԀACDFRTUVarࡾࢩࢱࣦ࣠ࣼयज़ΐ४Ānrࢃ࢏gleBracket;柨rowƀ;BR࢙࢚࢞憐ar;懤ightArrow;懆eiling;挈oǵࢷ\0ࣃbleBracket;柦nǔࣈ\0࣒eeVector;楡ectorĀ;Bࣛࣜ懃ar;楙loor;挊ightĀAV࣯ࣵrrow;憔ector;楎Āerँगeƀ;AVउऊऐ抣rrow;憤ector;楚iangleƀ;BEतथऩ抲ar;槏qual;抴pƀDTVषूौownVector;楑eeVector;楠ectorĀ;Bॖॗ憿ar;楘ectorĀ;B॥०憼ar;楒ightáΜs̀EFGLSTॾঋকঝঢভqualGreater;拚ullEqual;扦reater;扶ess;檡lantEqual;橽ilde;扲r;쀀𝔏Ā;eঽা拘ftarrow;懚idot;䄿ƀnpw৔ਖਛgȀLRlr৞৷ਂਐeftĀAR০৬rrow;柵ightArrow;柷ightArrow;柶eftĀarγਊightáοightáϊf;쀀𝕃erĀLRਢਬeftArrow;憙ightArrow;憘ƀchtਾੀੂòࡌ;憰rok;䅁;扪Ѐacefiosuਗ਼੝੠੷੼અઋ઎p;椅y;䐜Ādl੥੯iumSpace;恟lintrf;愳r;쀀𝔐nusPlus;戓pf;쀀𝕄cò੶;䎜ҀJacefostuણધભીଔଙඑ඗ඞcy;䐊cute;䅃ƀaey઴હાron;䅇dil;䅅;䐝ƀgswે૰଎ativeƀMTV૓૟૨ediumSpace;怋hiĀcn૦૘ë૙eryThiî૙tedĀGL૸ଆreaterGreateòٳessLesóੈLine;䀊r;쀀𝔑ȀBnptଢନଷ଺reak;恠BreakingSpace;䂠f;愕ڀ;CDEGHLNPRSTV୕ୖ୪୼஡௫ఄ౞಄ದ೘ൡඅ櫬Āou୛୤ngruent;扢pCap;扭oubleVerticalBar;戦ƀlqxஃஊ஛ement;戉ualĀ;Tஒஓ扠ilde;쀀≂̸ists;戄reater΀;EFGLSTஶஷ஽௉௓௘௥扯qual;扱ullEqual;쀀≧̸reater;쀀≫̸ess;批lantEqual;쀀⩾̸ilde;扵umpń௲௽ownHump;쀀≎̸qual;쀀≏̸eĀfsఊధtTriangleƀ;BEచఛడ拪ar;쀀⧏̸qual;括s̀;EGLSTవశ఼ౄోౘ扮qual;扰reater;扸ess;쀀≪̸lantEqual;쀀⩽̸ilde;扴estedĀGL౨౹reaterGreater;쀀⪢̸essLess;쀀⪡̸recedesƀ;ESಒಓಛ技qual;쀀⪯̸lantEqual;拠ĀeiಫಹverseElement;戌ghtTriangleƀ;BEೋೌ೒拫ar;쀀⧐̸qual;拭ĀquೝഌuareSuĀbp೨೹setĀ;E೰ೳ쀀⊏̸qual;拢ersetĀ;Eഃആ쀀⊐̸qual;拣ƀbcpഓതൎsetĀ;Eഛഞ쀀⊂⃒qual;抈ceedsȀ;ESTലള഻െ抁qual;쀀⪰̸lantEqual;拡ilde;쀀≿̸ersetĀ;E൘൛쀀⊃⃒qual;抉ildeȀ;EFT൮൯൵ൿ扁qual;扄ullEqual;扇ilde;扉erticalBar;戤cr;쀀𝒩ilde耻Ñ䃑;䎝܀Eacdfgmoprstuvලෂ෉෕ෛ෠෧෼ขภยา฿ไlig;䅒cute耻Ó䃓Āiy෎ීrc耻Ô䃔;䐞blac;䅐r;쀀𝔒rave耻Ò䃒ƀaei෮ෲ෶cr;䅌ga;䎩cron;䎟pf;쀀𝕆enCurlyĀDQฎบoubleQuote;怜uote;怘;橔Āclวฬr;쀀𝒪ash耻Ø䃘iŬื฼de耻Õ䃕es;樷ml耻Ö䃖erĀBP๋๠Āar๐๓r;怾acĀek๚๜;揞et;掴arenthesis;揜Ҁacfhilors๿ງຊຏຒດຝະ໼rtialD;戂y;䐟r;쀀𝔓i;䎦;䎠usMinus;䂱Āipຢອncareplanåڝf;愙Ȁ;eio຺ູ໠໤檻cedesȀ;EST່້໏໚扺qual;檯lantEqual;扼ilde;找me;怳Ādp໩໮uct;戏ortionĀ;aȥ໹l;戝Āci༁༆r;쀀𝒫;䎨ȀUfos༑༖༛༟OT耻"䀢r;쀀𝔔pf;愚cr;쀀𝒬؀BEacefhiorsu༾གྷཇའཱིྦྷྪྭ႖ႩႴႾarr;椐G耻®䂮ƀcnrཎནབute;䅔g;柫rĀ;tཛྷཝ憠l;椖ƀaeyཧཬཱron;䅘dil;䅖;䐠Ā;vླྀཹ愜erseĀEUྂྙĀlq྇ྎement;戋uilibrium;懋pEquilibrium;楯r»ཹo;䎡ghtЀACDFTUVa࿁࿫࿳ဢဨၛႇϘĀnr࿆࿒gleBracket;柩rowƀ;BL࿜࿝࿡憒ar;懥eftArrow;懄eiling;按oǵ࿹\0စbleBracket;柧nǔည\0နeeVector;楝ectorĀ;Bဝသ懂ar;楕loor;挋Āerိ၃eƀ;AVဵံြ抢rrow;憦ector;楛iangleƀ;BEၐၑၕ抳ar;槐qual;抵pƀDTVၣၮၸownVector;楏eeVector;楜ectorĀ;Bႂႃ憾ar;楔ectorĀ;B႑႒懀ar;楓Āpuႛ႞f;愝ndImplies;楰ightarrow;懛ĀchႹႼr;愛;憱leDelayed;槴ڀHOacfhimoqstuფჱჷჽᄙᄞᅑᅖᅡᅧᆵᆻᆿĀCcჩხHcy;䐩y;䐨FTcy;䐬cute;䅚ʀ;aeiyᄈᄉᄎᄓᄗ檼ron;䅠dil;䅞rc;䅜;䐡r;쀀𝔖ortȀDLRUᄪᄴᄾᅉownArrow»ОeftArrow»࢚ightArrow»࿝pArrow;憑gma;䎣allCircle;战pf;쀀𝕊ɲᅭ\0\0ᅰt;戚areȀ;ISUᅻᅼᆉᆯ斡ntersection;抓uĀbpᆏᆞsetĀ;Eᆗᆘ抏qual;抑ersetĀ;Eᆨᆩ抐qual;抒nion;抔cr;쀀𝒮ar;拆ȀbcmpᇈᇛሉላĀ;sᇍᇎ拐etĀ;Eᇍᇕqual;抆ĀchᇠህeedsȀ;ESTᇭᇮᇴᇿ扻qual;檰lantEqual;扽ilde;承Tháྌ;我ƀ;esሒሓሣ拑rsetĀ;Eሜም抃qual;抇et»ሓրHRSacfhiorsሾቄ቉ቕ቞ቱቶኟዂወዑORN耻Þ䃞ADE;愢ĀHc቎ቒcy;䐋y;䐦Ābuቚቜ;䀉;䎤ƀaeyብቪቯron;䅤dil;䅢;䐢r;쀀𝔗Āeiቻ኉ǲኀ\0ኇefore;戴a;䎘Ācn኎ኘkSpace;쀀  Space;怉ldeȀ;EFTካኬኲኼ戼qual;扃ullEqual;扅ilde;扈pf;쀀𝕋ipleDot;惛Āctዖዛr;쀀𝒯rok;䅦ૡዷጎጚጦ\0ጬጱ\0\0\0\0\0ጸጽ፷ᎅ\0᏿ᐄᐊᐐĀcrዻጁute耻Ú䃚rĀ;oጇገ憟cir;楉rǣጓ\0጖y;䐎ve;䅬Āiyጞጣrc耻Û䃛;䐣blac;䅰r;쀀𝔘rave耻Ù䃙acr;䅪Ādiፁ፩erĀBPፈ፝Āarፍፐr;䁟acĀekፗፙ;揟et;掵arenthesis;揝onĀ;P፰፱拃lus;抎Āgp፻፿on;䅲f;쀀𝕌ЀADETadps᎕ᎮᎸᏄϨᏒᏗᏳrrowƀ;BDᅐᎠᎤar;椒ownArrow;懅ownArrow;憕quilibrium;楮eeĀ;AᏋᏌ报rrow;憥ownáϳerĀLRᏞᏨeftArrow;憖ightArrow;憗iĀ;lᏹᏺ䏒on;䎥ing;䅮cr;쀀𝒰ilde;䅨ml耻Ü䃜ҀDbcdefosvᐧᐬᐰᐳᐾᒅᒊᒐᒖash;披ar;櫫y;䐒ashĀ;lᐻᐼ抩;櫦Āerᑃᑅ;拁ƀbtyᑌᑐᑺar;怖Ā;iᑏᑕcalȀBLSTᑡᑥᑪᑴar;戣ine;䁼eparator;杘ilde;所ThinSpace;怊r;쀀𝔙pf;쀀𝕍cr;쀀𝒱dash;抪ʀcefosᒧᒬᒱᒶᒼirc;䅴dge;拀r;쀀𝔚pf;쀀𝕎cr;쀀𝒲Ȁfiosᓋᓐᓒᓘr;쀀𝔛;䎞pf;쀀𝕏cr;쀀𝒳ҀAIUacfosuᓱᓵᓹᓽᔄᔏᔔᔚᔠcy;䐯cy;䐇cy;䐮cute耻Ý䃝Āiyᔉᔍrc;䅶;䐫r;쀀𝔜pf;쀀𝕐cr;쀀𝒴ml;䅸ЀHacdefosᔵᔹᔿᕋᕏᕝᕠᕤcy;䐖cute;䅹Āayᕄᕉron;䅽;䐗ot;䅻ǲᕔ\0ᕛoWidtè૙a;䎖r;愨pf;愤cr;쀀𝒵௡ᖃᖊᖐ\0ᖰᖶᖿ\0\0\0\0ᗆᗛᗫᙟ᙭\0ᚕ᚛ᚲᚹ\0ᚾcute耻á䃡reve;䄃̀;Ediuyᖜᖝᖡᖣᖨᖭ戾;쀀∾̳;房rc耻â䃢te肻´̆;䐰lig耻æ䃦Ā;r²ᖺ;쀀𝔞rave耻à䃠ĀepᗊᗖĀfpᗏᗔsym;愵èᗓha;䎱ĀapᗟcĀclᗤᗧr;䄁g;樿ɤᗰ\0\0ᘊʀ;adsvᗺᗻᗿᘁᘇ戧nd;橕;橜lope;橘;橚΀;elmrszᘘᘙᘛᘞᘿᙏᙙ戠;榤e»ᘙsdĀ;aᘥᘦ戡ѡᘰᘲᘴᘶᘸᘺᘼᘾ;榨;榩;榪;榫;榬;榭;榮;榯tĀ;vᙅᙆ戟bĀ;dᙌᙍ抾;榝Āptᙔᙗh;戢»¹arr;捼Āgpᙣᙧon;䄅f;쀀𝕒΀;Eaeiop዁ᙻᙽᚂᚄᚇᚊ;橰cir;橯;扊d;手s;䀧roxĀ;e዁ᚒñᚃing耻å䃥ƀctyᚡᚦᚨr;쀀𝒶;䀪mpĀ;e዁ᚯñʈilde耻ã䃣ml耻ä䃤Āciᛂᛈoninôɲnt;樑ࠀNabcdefiklnoprsu᛭ᛱᜰ᜼ᝃᝈ᝸᝽០៦ᠹᡐᜍ᤽᥈ᥰot;櫭Ācrᛶ᜞kȀcepsᜀᜅᜍᜓong;扌psilon;䏶rime;怵imĀ;e᜚᜛戽q;拍Ŷᜢᜦee;抽edĀ;gᜬᜭ挅e»ᜭrkĀ;t፜᜷brk;掶Āoyᜁᝁ;䐱quo;怞ʀcmprtᝓ᝛ᝡᝤᝨausĀ;eĊĉptyv;榰séᜌnoõēƀahwᝯ᝱ᝳ;䎲;愶een;扬r;쀀𝔟g΀costuvwឍឝឳេ៕៛៞ƀaiuបពរðݠrc;旯p»፱ƀdptឤឨឭot;樀lus;樁imes;樂ɱឹ\0\0ើcup;樆ar;昅riangleĀdu៍្own;施p;斳plus;樄eåᑄåᒭarow;植ƀako៭ᠦᠵĀcn៲ᠣkƀlst៺֫᠂ozenge;槫riangleȀ;dlr᠒᠓᠘᠝斴own;斾eft;旂ight;斸k;搣Ʊᠫ\0ᠳƲᠯ\0ᠱ;斒;斑4;斓ck;斈ĀeoᠾᡍĀ;qᡃᡆ쀀=⃥uiv;쀀≡⃥t;挐Ȁptwxᡙᡞᡧᡬf;쀀𝕓Ā;tᏋᡣom»Ꮜtie;拈؀DHUVbdhmptuvᢅᢖᢪᢻᣗᣛᣬ᣿ᤅᤊᤐᤡȀLRlrᢎᢐᢒᢔ;敗;敔;敖;敓ʀ;DUduᢡᢢᢤᢦᢨ敐;敦;敩;敤;敧ȀLRlrᢳᢵᢷᢹ;敝;敚;敜;教΀;HLRhlrᣊᣋᣍᣏᣑᣓᣕ救;敬;散;敠;敫;敢;敟ox;槉ȀLRlrᣤᣦᣨᣪ;敕;敒;攐;攌ʀ;DUduڽ᣷᣹᣻᣽;敥;敨;攬;攴inus;抟lus;択imes;抠ȀLRlrᤙᤛᤝ᤟;敛;敘;攘;攔΀;HLRhlrᤰᤱᤳᤵᤷ᤻᤹攂;敪;敡;敞;攼;攤;攜Āevģ᥂bar耻¦䂦Ȁceioᥑᥖᥚᥠr;쀀𝒷mi;恏mĀ;e᜚᜜lƀ;bhᥨᥩᥫ䁜;槅sub;柈Ŭᥴ᥾lĀ;e᥹᥺怢t»᥺pƀ;Eeįᦅᦇ;檮Ā;qۜۛೡᦧ\0᧨ᨑᨕᨲ\0ᨷᩐ\0\0᪴\0\0᫁\0\0ᬡᬮ᭍᭒\0᯽\0ᰌƀcpr᦭ᦲ᧝ute;䄇̀;abcdsᦿᧀᧄ᧊᧕᧙戩nd;橄rcup;橉Āau᧏᧒p;橋p;橇ot;橀;쀀∩︀Āeo᧢᧥t;恁îړȀaeiu᧰᧻ᨁᨅǰ᧵\0᧸s;橍on;䄍dil耻ç䃧rc;䄉psĀ;sᨌᨍ橌m;橐ot;䄋ƀdmnᨛᨠᨦil肻¸ƭptyv;榲t脀¢;eᨭᨮ䂢räƲr;쀀𝔠ƀceiᨽᩀᩍy;䑇ckĀ;mᩇᩈ朓ark»ᩈ;䏇r΀;Ecefms᩟᩠ᩢᩫ᪤᪪᪮旋;槃ƀ;elᩩᩪᩭ䋆q;扗eɡᩴ\0\0᪈rrowĀlr᩼᪁eft;憺ight;憻ʀRSacd᪒᪔᪖᪚᪟»ཇ;擈st;抛irc;抚ash;抝nint;樐id;櫯cir;槂ubsĀ;u᪻᪼晣it»᪼ˬ᫇᫔᫺\0ᬊonĀ;eᫍᫎ䀺Ā;qÇÆɭ᫙\0\0᫢aĀ;t᫞᫟䀬;䁀ƀ;fl᫨᫩᫫戁îᅠeĀmx᫱᫶ent»᫩eóɍǧ᫾\0ᬇĀ;dኻᬂot;橭nôɆƀfryᬐᬔᬗ;쀀𝕔oäɔ脀©;sŕᬝr;愗Āaoᬥᬩrr;憵ss;朗Ācuᬲᬷr;쀀𝒸Ābpᬼ᭄Ā;eᭁᭂ櫏;櫑Ā;eᭉᭊ櫐;櫒dot;拯΀delprvw᭠᭬᭷ᮂᮬᯔ᯹arrĀlr᭨᭪;椸;椵ɰ᭲\0\0᭵r;拞c;拟arrĀ;p᭿ᮀ憶;椽̀;bcdosᮏᮐᮖᮡᮥᮨ截rcap;橈Āauᮛᮞp;橆p;橊ot;抍r;橅;쀀∪︀Ȁalrv᮵ᮿᯞᯣrrĀ;mᮼᮽ憷;椼yƀevwᯇᯔᯘqɰᯎ\0\0ᯒreã᭳uã᭵ee;拎edge;拏en耻¤䂤earrowĀlrᯮ᯳eft»ᮀight»ᮽeäᯝĀciᰁᰇoninôǷnt;戱lcty;挭ঀAHabcdefhijlorstuwz᰸᰻᰿ᱝᱩᱵᲊᲞᲬᲷ᳻᳿ᴍᵻᶑᶫᶻ᷆᷍rò΁ar;楥Ȁglrs᱈ᱍ᱒᱔ger;怠eth;愸òᄳhĀ;vᱚᱛ怐»ऊūᱡᱧarow;椏aã̕Āayᱮᱳron;䄏;䐴ƀ;ao̲ᱼᲄĀgrʿᲁr;懊tseq;橷ƀglmᲑᲔᲘ耻°䂰ta;䎴ptyv;榱ĀirᲣᲨsht;楿;쀀𝔡arĀlrᲳᲵ»ࣜ»သʀaegsv᳂͸᳖᳜᳠mƀ;oș᳊᳔ndĀ;ș᳑uit;晦amma;䏝in;拲ƀ;io᳧᳨᳸䃷de脀÷;o᳧ᳰntimes;拇nø᳷cy;䑒cɯᴆ\0\0ᴊrn;挞op;挍ʀlptuwᴘᴝᴢᵉᵕlar;䀤f;쀀𝕕ʀ;emps̋ᴭᴷᴽᵂqĀ;d͒ᴳot;扑inus;戸lus;戔quare;抡blebarwedgåúnƀadhᄮᵝᵧownarrowóᲃarpoonĀlrᵲᵶefôᲴighôᲶŢᵿᶅkaro÷གɯᶊ\0\0ᶎrn;挟op;挌ƀcotᶘᶣᶦĀryᶝᶡ;쀀𝒹;䑕l;槶rok;䄑Ādrᶰᶴot;拱iĀ;fᶺ᠖斿Āah᷀᷃ròЩaòྦangle;榦Āci᷒ᷕy;䑟grarr;柿ऀDacdefglmnopqrstuxḁḉḙḸոḼṉṡṾấắẽỡἪἷὄ὎὚ĀDoḆᴴoôᲉĀcsḎḔute耻é䃩ter;橮ȀaioyḢḧḱḶron;䄛rĀ;cḭḮ扖耻ê䃪lon;払;䑍ot;䄗ĀDrṁṅot;扒;쀀𝔢ƀ;rsṐṑṗ檚ave耻è䃨Ā;dṜṝ檖ot;檘Ȁ;ilsṪṫṲṴ檙nters;揧;愓Ā;dṹṺ檕ot;檗ƀapsẅẉẗcr;䄓tyƀ;svẒẓẕ戅et»ẓpĀ1;ẝẤĳạả;怄;怅怃ĀgsẪẬ;䅋p;怂ĀgpẴẸon;䄙f;쀀𝕖ƀalsỄỎỒrĀ;sỊị拕l;槣us;橱iƀ;lvỚớở䎵on»ớ;䏵ȀcsuvỪỳἋἣĀioữḱrc»Ḯɩỹ\0\0ỻíՈantĀglἂἆtr»ṝess»Ṻƀaeiἒ἖Ἒls;䀽st;扟vĀ;DȵἠD;橸parsl;槥ĀDaἯἳot;打rr;楱ƀcdiἾὁỸr;愯oô͒ĀahὉὋ;䎷耻ð䃰Āmrὓὗl耻ë䃫o;悬ƀcipὡὤὧl;䀡sôծĀeoὬὴctatioîՙnentialåչৡᾒ\0ᾞ\0ᾡᾧ\0\0ῆῌ\0ΐ\0ῦῪ \0 ⁚llingdotseñṄy;䑄male;晀ƀilrᾭᾳ῁lig;耀ﬃɩᾹ\0\0᾽g;耀ﬀig;耀ﬄ;쀀𝔣lig;耀ﬁlig;쀀fjƀaltῙ῜ῡt;晭ig;耀ﬂns;斱of;䆒ǰ΅\0ῳf;쀀𝕗ĀakֿῷĀ;vῼ´拔;櫙artint;樍Āao‌⁕Ācs‑⁒α‚‰‸⁅⁈\0⁐β•‥‧‪‬\0‮耻½䂽;慓耻¼䂼;慕;慙;慛Ƴ‴\0‶;慔;慖ʴ‾⁁\0\0⁃耻¾䂾;慗;慜5;慘ƶ⁌\0⁎;慚;慝8;慞l;恄wn;挢cr;쀀𝒻ࢀEabcdefgijlnorstv₂₉₟₥₰₴⃰⃵⃺⃿℃ℒℸ̗ℾ⅒↞Ā;lٍ₇;檌ƀcmpₐₕ₝ute;䇵maĀ;dₜ᳚䎳;檆reve;䄟Āiy₪₮rc;䄝;䐳ot;䄡Ȁ;lqsؾق₽⃉ƀ;qsؾٌ⃄lanô٥Ȁ;cdl٥⃒⃥⃕c;檩otĀ;o⃜⃝檀Ā;l⃢⃣檂;檄Ā;e⃪⃭쀀⋛︀s;檔r;쀀𝔤Ā;gٳ؛mel;愷cy;䑓Ȁ;Eajٚℌℎℐ;檒;檥;檤ȀEaesℛℝ℩ℴ;扩pĀ;p℣ℤ檊rox»ℤĀ;q℮ℯ檈Ā;q℮ℛim;拧pf;쀀𝕘Āci⅃ⅆr;愊mƀ;el٫ⅎ⅐;檎;檐茀>;cdlqr׮ⅠⅪⅮⅳⅹĀciⅥⅧ;檧r;橺ot;拗Par;榕uest;橼ʀadelsↄⅪ←ٖ↛ǰ↉\0↎proø₞r;楸qĀlqؿ↖lesó₈ií٫Āen↣↭rtneqq;쀀≩︀Å↪ԀAabcefkosy⇄⇇⇱⇵⇺∘∝∯≨≽ròΠȀilmr⇐⇔⇗⇛rsðᒄf»․ilôکĀdr⇠⇤cy;䑊ƀ;cwࣴ⇫⇯ir;楈;憭ar;意irc;䄥ƀalr∁∎∓rtsĀ;u∉∊晥it»∊lip;怦con;抹r;쀀𝔥sĀew∣∩arow;椥arow;椦ʀamopr∺∾≃≞≣rr;懿tht;戻kĀlr≉≓eftarrow;憩ightarrow;憪f;쀀𝕙bar;怕ƀclt≯≴≸r;쀀𝒽asè⇴rok;䄧Ābp⊂⊇ull;恃hen»ᱛૡ⊣\0⊪\0⊸⋅⋎\0⋕⋳\0\0⋸⌢⍧⍢⍿\0⎆⎪⎴cute耻í䃭ƀ;iyݱ⊰⊵rc耻î䃮;䐸Ācx⊼⊿y;䐵cl耻¡䂡ĀfrΟ⋉;쀀𝔦rave耻ì䃬Ȁ;inoܾ⋝⋩⋮Āin⋢⋦nt;樌t;戭fin;槜ta;愩lig;䄳ƀaop⋾⌚⌝ƀcgt⌅⌈⌗r;䄫ƀelpܟ⌏⌓inåގarôܠh;䄱f;抷ed;䆵ʀ;cfotӴ⌬⌱⌽⍁are;愅inĀ;t⌸⌹戞ie;槝doô⌙ʀ;celpݗ⍌⍐⍛⍡al;抺Āgr⍕⍙eróᕣã⍍arhk;樗rod;樼Ȁcgpt⍯⍲⍶⍻y;䑑on;䄯f;쀀𝕚a;䎹uest耻¿䂿Āci⎊⎏r;쀀𝒾nʀ;EdsvӴ⎛⎝⎡ӳ;拹ot;拵Ā;v⎦⎧拴;拳Ā;iݷ⎮lde;䄩ǫ⎸\0⎼cy;䑖l耻ï䃯̀cfmosu⏌⏗⏜⏡⏧⏵Āiy⏑⏕rc;䄵;䐹r;쀀𝔧ath;䈷pf;쀀𝕛ǣ⏬\0⏱r;쀀𝒿rcy;䑘kcy;䑔Ѐacfghjos␋␖␢␧␭␱␵␻ppaĀ;v␓␔䎺;䏰Āey␛␠dil;䄷;䐺r;쀀𝔨reen;䄸cy;䑅cy;䑜pf;쀀𝕜cr;쀀𝓀஀ABEHabcdefghjlmnoprstuv⑰⒁⒆⒍⒑┎┽╚▀♎♞♥♹♽⚚⚲⛘❝❨➋⟀⠁⠒ƀart⑷⑺⑼rò৆òΕail;椛arr;椎Ā;gঔ⒋;檋ar;楢ॣ⒥\0⒪\0⒱\0\0\0\0\0⒵Ⓔ\0ⓆⓈⓍ\0⓹ute;䄺mptyv;榴raîࡌbda;䎻gƀ;dlࢎⓁⓃ;榑åࢎ;檅uo耻«䂫rЀ;bfhlpst࢙ⓞⓦⓩ⓫⓮⓱⓵Ā;f࢝ⓣs;椟s;椝ë≒p;憫l;椹im;楳l;憢ƀ;ae⓿─┄檫il;椙Ā;s┉┊檭;쀀⪭︀ƀabr┕┙┝rr;椌rk;杲Āak┢┬cĀek┨┪;䁻;䁛Āes┱┳;榋lĀdu┹┻;榏;榍Ȁaeuy╆╋╖╘ron;䄾Ādi═╔il;䄼ìࢰâ┩;䐻Ȁcqrs╣╦╭╽a;椶uoĀ;rนᝆĀdu╲╷har;楧shar;楋h;憲ʀ;fgqs▋▌উ◳◿扤tʀahlrt▘▤▷◂◨rrowĀ;t࢙□aé⓶arpoonĀdu▯▴own»њp»०eftarrows;懇ightƀahs◍◖◞rrowĀ;sࣴࢧarpoonó྘quigarro÷⇰hreetimes;拋ƀ;qs▋ও◺lanôবʀ;cdgsব☊☍☝☨c;檨otĀ;o☔☕橿Ā;r☚☛檁;檃Ā;e☢☥쀀⋚︀s;檓ʀadegs☳☹☽♉♋pproøⓆot;拖qĀgq♃♅ôউgtò⒌ôছiíলƀilr♕࣡♚sht;楼;쀀𝔩Ā;Eজ♣;檑š♩♶rĀdu▲♮Ā;l॥♳;楪lk;斄cy;䑙ʀ;achtੈ⚈⚋⚑⚖rò◁orneòᴈard;楫ri;旺Āio⚟⚤dot;䅀ustĀ;a⚬⚭掰che»⚭ȀEaes⚻⚽⛉⛔;扨pĀ;p⛃⛄檉rox»⛄Ā;q⛎⛏檇Ā;q⛎⚻im;拦Ѐabnoptwz⛩⛴⛷✚✯❁❇❐Ānr⛮⛱g;柬r;懽rëࣁgƀlmr⛿✍✔eftĀar০✇ightá৲apsto;柼ightá৽parrowĀlr✥✩efô⓭ight;憬ƀafl✶✹✽r;榅;쀀𝕝us;樭imes;樴š❋❏st;戗áፎƀ;ef❗❘᠀旊nge»❘arĀ;l❤❥䀨t;榓ʀachmt❳❶❼➅➇ròࢨorneòᶌarĀ;d྘➃;業;怎ri;抿̀achiqt➘➝ੀ➢➮➻quo;怹r;쀀𝓁mƀ;egল➪➬;檍;檏Ābu┪➳oĀ;rฟ➹;怚rok;䅂萀<;cdhilqrࠫ⟒☹⟜⟠⟥⟪⟰Āci⟗⟙;檦r;橹reå◲mes;拉arr;楶uest;橻ĀPi⟵⟹ar;榖ƀ;ef⠀भ᠛旃rĀdu⠇⠍shar;楊har;楦Āen⠗⠡rtneqq;쀀≨︀Å⠞܀Dacdefhilnopsu⡀⡅⢂⢎⢓⢠⢥⢨⣚⣢⣤ઃ⣳⤂Dot;戺Ȁclpr⡎⡒⡣⡽r耻¯䂯Āet⡗⡙;時Ā;e⡞⡟朠se»⡟Ā;sျ⡨toȀ;dluျ⡳⡷⡻owîҌefôएðᏑker;斮Āoy⢇⢌mma;権;䐼ash;怔asuredangle»ᘦr;쀀𝔪o;愧ƀcdn⢯⢴⣉ro耻µ䂵Ȁ;acdᑤ⢽⣀⣄sôᚧir;櫰ot肻·Ƶusƀ;bd⣒ᤃ⣓戒Ā;uᴼ⣘;横ţ⣞⣡p;櫛ò−ðઁĀdp⣩⣮els;抧f;쀀𝕞Āct⣸⣽r;쀀𝓂pos»ᖝƀ;lm⤉⤊⤍䎼timap;抸ఀGLRVabcdefghijlmoprstuvw⥂⥓⥾⦉⦘⧚⧩⨕⨚⩘⩝⪃⪕⪤⪨⬄⬇⭄⭿⮮ⰴⱧⱼ⳩Āgt⥇⥋;쀀⋙̸Ā;v⥐௏쀀≫⃒ƀelt⥚⥲⥶ftĀar⥡⥧rrow;懍ightarrow;懎;쀀⋘̸Ā;v⥻ే쀀≪⃒ightarrow;懏ĀDd⦎⦓ash;抯ash;抮ʀbcnpt⦣⦧⦬⦱⧌la»˞ute;䅄g;쀀∠⃒ʀ;Eiop඄⦼⧀⧅⧈;쀀⩰̸d;쀀≋̸s;䅉roø඄urĀ;a⧓⧔普lĀ;s⧓ସǳ⧟\0⧣p肻 ଷmpĀ;e௹ఀʀaeouy⧴⧾⨃⨐⨓ǰ⧹\0⧻;橃on;䅈dil;䅆ngĀ;dൾ⨊ot;쀀⩭̸p;橂;䐽ash;怓΀;Aadqsxஒ⨩⨭⨻⩁⩅⩐rr;懗rĀhr⨳⨶k;椤Ā;oᏲᏰot;쀀≐̸uiöୣĀei⩊⩎ar;椨í஘istĀ;s஠டr;쀀𝔫ȀEest௅⩦⩹⩼ƀ;qs஼⩭௡ƀ;qs஼௅⩴lanô௢ií௪Ā;rஶ⪁»ஷƀAap⪊⪍⪑rò⥱rr;憮ar;櫲ƀ;svྍ⪜ྌĀ;d⪡⪢拼;拺cy;䑚΀AEadest⪷⪺⪾⫂⫅⫶⫹rò⥦;쀀≦̸rr;憚r;急Ȁ;fqs఻⫎⫣⫯tĀar⫔⫙rro÷⫁ightarro÷⪐ƀ;qs఻⪺⫪lanôౕĀ;sౕ⫴»శiíౝĀ;rవ⫾iĀ;eచథiäඐĀpt⬌⬑f;쀀𝕟膀¬;in⬙⬚⬶䂬nȀ;Edvஉ⬤⬨⬮;쀀⋹̸ot;쀀⋵̸ǡஉ⬳⬵;拷;拶iĀ;vಸ⬼ǡಸ⭁⭃;拾;拽ƀaor⭋⭣⭩rȀ;ast୻⭕⭚⭟lleì୻l;쀀⫽⃥;쀀∂̸lint;樔ƀ;ceಒ⭰⭳uåಥĀ;cಘ⭸Ā;eಒ⭽ñಘȀAait⮈⮋⮝⮧rò⦈rrƀ;cw⮔⮕⮙憛;쀀⤳̸;쀀↝̸ghtarrow»⮕riĀ;eೋೖ΀chimpqu⮽⯍⯙⬄୸⯤⯯Ȁ;cerല⯆ഷ⯉uå൅;쀀𝓃ortɭ⬅\0\0⯖ará⭖mĀ;e൮⯟Ā;q൴൳suĀbp⯫⯭å೸åഋƀbcp⯶ⰑⰙȀ;Ees⯿ⰀഢⰄ抄;쀀⫅̸etĀ;eഛⰋqĀ;qണⰀcĀ;eലⰗñസȀ;EesⰢⰣൟⰧ抅;쀀⫆̸etĀ;e൘ⰮqĀ;qൠⰣȀgilrⰽⰿⱅⱇìௗlde耻ñ䃱çృiangleĀlrⱒⱜeftĀ;eచⱚñదightĀ;eೋⱥñ೗Ā;mⱬⱭ䎽ƀ;esⱴⱵⱹ䀣ro;愖p;怇ҀDHadgilrsⲏⲔⲙⲞⲣⲰⲶⳓⳣash;抭arr;椄p;쀀≍⃒ash;抬ĀetⲨⲬ;쀀≥⃒;쀀>⃒nfin;槞ƀAetⲽⳁⳅrr;椂;쀀≤⃒Ā;rⳊⳍ쀀<⃒ie;쀀⊴⃒ĀAtⳘⳜrr;椃rie;쀀⊵⃒im;쀀∼⃒ƀAan⳰⳴ⴂrr;懖rĀhr⳺⳽k;椣Ā;oᏧᏥear;椧ቓ᪕\0\0\0\0\0\0\0\0\0\0\0\0\0ⴭ\0ⴸⵈⵠⵥ⵲ⶄᬇ\0\0ⶍⶫ\0ⷈⷎ\0ⷜ⸙⸫⸾⹃Ācsⴱ᪗ute耻ó䃳ĀiyⴼⵅrĀ;c᪞ⵂ耻ô䃴;䐾ʀabios᪠ⵒⵗǈⵚlac;䅑v;樸old;榼lig;䅓Ācr⵩⵭ir;榿;쀀𝔬ͯ⵹\0\0⵼\0ⶂn;䋛ave耻ò䃲;槁Ābmⶈ෴ar;榵Ȁacitⶕ⶘ⶥⶨrò᪀Āir⶝ⶠr;榾oss;榻nå๒;槀ƀaeiⶱⶵⶹcr;䅍ga;䏉ƀcdnⷀⷅǍron;䎿;榶pf;쀀𝕠ƀaelⷔ⷗ǒr;榷rp;榹΀;adiosvⷪⷫⷮ⸈⸍⸐⸖戨rò᪆Ȁ;efmⷷⷸ⸂⸅橝rĀ;oⷾⷿ愴f»ⷿ耻ª䂪耻º䂺gof;抶r;橖lope;橗;橛ƀclo⸟⸡⸧ò⸁ash耻ø䃸l;折iŬⸯ⸴de耻õ䃵esĀ;aǛ⸺s;樶ml耻ö䃶bar;挽ૡ⹞\0⹽\0⺀⺝\0⺢⺹\0\0⻋ຜ\0⼓\0\0⼫⾼\0⿈rȀ;astЃ⹧⹲຅脀¶;l⹭⹮䂶leìЃɩ⹸\0\0⹻m;櫳;櫽y;䐿rʀcimpt⺋⺏⺓ᡥ⺗nt;䀥od;䀮il;怰enk;怱r;쀀𝔭ƀimo⺨⺰⺴Ā;v⺭⺮䏆;䏕maô੶ne;明ƀ;tv⺿⻀⻈䏀chfork»´;䏖Āau⻏⻟nĀck⻕⻝kĀ;h⇴⻛;愎ö⇴sҀ;abcdemst⻳⻴ᤈ⻹⻽⼄⼆⼊⼎䀫cir;樣ir;樢Āouᵀ⼂;樥;橲n肻±ຝim;樦wo;樧ƀipu⼙⼠⼥ntint;樕f;쀀𝕡nd耻£䂣Ԁ;Eaceinosu່⼿⽁⽄⽇⾁⾉⾒⽾⾶;檳p;檷uå໙Ā;c໎⽌̀;acens່⽙⽟⽦⽨⽾pproø⽃urlyeñ໙ñ໎ƀaes⽯⽶⽺pprox;檹qq;檵im;拨iíໟmeĀ;s⾈ຮ怲ƀEas⽸⾐⽺ð⽵ƀdfp໬⾙⾯ƀals⾠⾥⾪lar;挮ine;挒urf;挓Ā;t໻⾴ï໻rel;抰Āci⿀⿅r;쀀𝓅;䏈ncsp;怈̀fiopsu⿚⋢⿟⿥⿫⿱r;쀀𝔮pf;쀀𝕢rime;恗cr;쀀𝓆ƀaeo⿸〉〓tĀei⿾々rnionóڰnt;樖stĀ;e【】䀿ñἙô༔઀ABHabcdefhilmnoprstux぀けさすムㄎㄫㅇㅢㅲㆎ㈆㈕㈤㈩㉘㉮㉲㊐㊰㊷ƀartぇおがròႳòϝail;検aròᱥar;楤΀cdenqrtとふへみわゔヌĀeuねぱ;쀀∽̱te;䅕iãᅮmptyv;榳gȀ;del࿑らるろ;榒;榥å࿑uo耻»䂻rր;abcfhlpstw࿜ガクシスゼゾダッデナp;極Ā;f࿠ゴs;椠;椳s;椞ë≝ð✮l;楅im;楴l;憣;憝Āaiパフil;椚oĀ;nホボ戶aló༞ƀabrョリヮrò៥rk;杳ĀakンヽcĀekヹ・;䁽;䁝Āes㄂㄄;榌lĀduㄊㄌ;榎;榐Ȁaeuyㄗㄜㄧㄩron;䅙Ādiㄡㄥil;䅗ì࿲âヺ;䑀Ȁclqsㄴㄷㄽㅄa;椷dhar;楩uoĀ;rȎȍh;憳ƀacgㅎㅟངlȀ;ipsླྀㅘㅛႜnåႻarôྩt;断ƀilrㅩဣㅮsht;楽;쀀𝔯ĀaoㅷㆆrĀduㅽㅿ»ѻĀ;l႑ㆄ;楬Ā;vㆋㆌ䏁;䏱ƀgns㆕ㇹㇼht̀ahlrstㆤㆰ㇂㇘㇤㇮rrowĀ;t࿜ㆭaéトarpoonĀduㆻㆿowîㅾp»႒eftĀah㇊㇐rrowó࿪arpoonóՑightarrows;應quigarro÷ニhreetimes;拌g;䋚ingdotseñἲƀahm㈍㈐㈓rò࿪aòՑ;怏oustĀ;a㈞㈟掱che»㈟mid;櫮Ȁabpt㈲㈽㉀㉒Ānr㈷㈺g;柭r;懾rëဃƀafl㉇㉊㉎r;榆;쀀𝕣us;樮imes;樵Āap㉝㉧rĀ;g㉣㉤䀩t;榔olint;樒arò㇣Ȁachq㉻㊀Ⴜ㊅quo;怺r;쀀𝓇Ābu・㊊oĀ;rȔȓƀhir㊗㊛㊠reåㇸmes;拊iȀ;efl㊪ၙᠡ㊫方tri;槎luhar;楨;愞ൡ㋕㋛㋟㌬㌸㍱\0㍺㎤\0\0㏬㏰\0㐨㑈㑚㒭㒱㓊㓱\0㘖\0\0㘳cute;䅛quï➺Ԁ;Eaceinpsyᇭ㋳㋵㋿㌂㌋㌏㌟㌦㌩;檴ǰ㋺\0㋼;檸on;䅡uåᇾĀ;dᇳ㌇il;䅟rc;䅝ƀEas㌖㌘㌛;檶p;檺im;择olint;樓iíሄ;䑁otƀ;be㌴ᵇ㌵担;橦΀Aacmstx㍆㍊㍗㍛㍞㍣㍭rr;懘rĀhr㍐㍒ë∨Ā;oਸ਼਴t耻§䂧i;䀻war;椩mĀin㍩ðnuóñt;朶rĀ;o㍶⁕쀀𝔰Ȁacoy㎂㎆㎑㎠rp;景Āhy㎋㎏cy;䑉;䑈rtɭ㎙\0\0㎜iäᑤaraì⹯耻­䂭Āgm㎨㎴maƀ;fv㎱㎲㎲䏃;䏂Ѐ;deglnprካ㏅㏉㏎㏖㏞㏡㏦ot;橪Ā;q኱ኰĀ;E㏓㏔檞;檠Ā;E㏛㏜檝;檟e;扆lus;樤arr;楲aròᄽȀaeit㏸㐈㐏㐗Āls㏽㐄lsetmé㍪hp;樳parsl;槤Ādlᑣ㐔e;挣Ā;e㐜㐝檪Ā;s㐢㐣檬;쀀⪬︀ƀflp㐮㐳㑂tcy;䑌Ā;b㐸㐹䀯Ā;a㐾㐿槄r;挿f;쀀𝕤aĀdr㑍ЂesĀ;u㑔㑕晠it»㑕ƀcsu㑠㑹㒟Āau㑥㑯pĀ;sᆈ㑫;쀀⊓︀pĀ;sᆴ㑵;쀀⊔︀uĀbp㑿㒏ƀ;esᆗᆜ㒆etĀ;eᆗ㒍ñᆝƀ;esᆨᆭ㒖etĀ;eᆨ㒝ñᆮƀ;afᅻ㒦ְrť㒫ֱ»ᅼaròᅈȀcemt㒹㒾㓂㓅r;쀀𝓈tmîñiì㐕aræᆾĀar㓎㓕rĀ;f㓔ឿ昆Āan㓚㓭ightĀep㓣㓪psiloîỠhé⺯s»⡒ʀbcmnp㓻㕞ሉ㖋㖎Ҁ;Edemnprs㔎㔏㔑㔕㔞㔣㔬㔱㔶抂;櫅ot;檽Ā;dᇚ㔚ot;櫃ult;櫁ĀEe㔨㔪;櫋;把lus;檿arr;楹ƀeiu㔽㕒㕕tƀ;en㔎㕅㕋qĀ;qᇚ㔏eqĀ;q㔫㔨m;櫇Ābp㕚㕜;櫕;櫓c̀;acensᇭ㕬㕲㕹㕻㌦pproø㋺urlyeñᇾñᇳƀaes㖂㖈㌛pproø㌚qñ㌗g;晪ڀ123;Edehlmnps㖩㖬㖯ሜ㖲㖴㗀㗉㗕㗚㗟㗨㗭耻¹䂹耻²䂲耻³䂳;櫆Āos㖹㖼t;檾ub;櫘Ā;dሢ㗅ot;櫄sĀou㗏㗒l;柉b;櫗arr;楻ult;櫂ĀEe㗤㗦;櫌;抋lus;櫀ƀeiu㗴㘉㘌tƀ;enሜ㗼㘂qĀ;qሢ㖲eqĀ;q㗧㗤m;櫈Ābp㘑㘓;櫔;櫖ƀAan㘜㘠㘭rr;懙rĀhr㘦㘨ë∮Ā;oਫ਩war;椪lig耻ß䃟௡㙑㙝㙠ዎ㙳㙹\0㙾㛂\0\0\0\0\0㛛㜃\0㜉㝬\0\0\0㞇ɲ㙖\0\0㙛get;挖;䏄rë๟ƀaey㙦㙫㙰ron;䅥dil;䅣;䑂lrec;挕r;쀀𝔱Ȁeiko㚆㚝㚵㚼ǲ㚋\0㚑eĀ4fኄኁaƀ;sv㚘㚙㚛䎸ym;䏑Ācn㚢㚲kĀas㚨㚮pproø዁im»ኬsðኞĀas㚺㚮ð዁rn耻þ䃾Ǭ̟㛆⋧es膀×;bd㛏㛐㛘䃗Ā;aᤏ㛕r;樱;樰ƀeps㛡㛣㜀á⩍Ȁ;bcf҆㛬㛰㛴ot;挶ir;櫱Ā;o㛹㛼쀀𝕥rk;櫚á㍢rime;怴ƀaip㜏㜒㝤dåቈ΀adempst㜡㝍㝀㝑㝗㝜㝟ngleʀ;dlqr㜰㜱㜶㝀㝂斵own»ᶻeftĀ;e⠀㜾ñम;扜ightĀ;e㊪㝋ñၚot;旬inus;樺lus;樹b;槍ime;樻ezium;揢ƀcht㝲㝽㞁Āry㝷㝻;쀀𝓉;䑆cy;䑛rok;䅧Āio㞋㞎xô᝷headĀlr㞗㞠eftarro÷ࡏightarrow»ཝऀAHabcdfghlmoprstuw㟐㟓㟗㟤㟰㟼㠎㠜㠣㠴㡑㡝㡫㢩㣌㣒㣪㣶ròϭar;楣Ācr㟜㟢ute耻ú䃺òᅐrǣ㟪\0㟭y;䑞ve;䅭Āiy㟵㟺rc耻û䃻;䑃ƀabh㠃㠆㠋ròᎭlac;䅱aòᏃĀir㠓㠘sht;楾;쀀𝔲rave耻ù䃹š㠧㠱rĀlr㠬㠮»ॗ»ႃlk;斀Āct㠹㡍ɯ㠿\0\0㡊rnĀ;e㡅㡆挜r»㡆op;挏ri;旸Āal㡖㡚cr;䅫肻¨͉Āgp㡢㡦on;䅳f;쀀𝕦̀adhlsuᅋ㡸㡽፲㢑㢠ownáᎳarpoonĀlr㢈㢌efô㠭ighô㠯iƀ;hl㢙㢚㢜䏅»ᏺon»㢚parrows;懈ƀcit㢰㣄㣈ɯ㢶\0\0㣁rnĀ;e㢼㢽挝r»㢽op;挎ng;䅯ri;旹cr;쀀𝓊ƀdir㣙㣝㣢ot;拰lde;䅩iĀ;f㜰㣨»᠓Āam㣯㣲rò㢨l耻ü䃼angle;榧ހABDacdeflnoprsz㤜㤟㤩㤭㦵㦸㦽㧟㧤㧨㧳㧹㧽㨁㨠ròϷarĀ;v㤦㤧櫨;櫩asèϡĀnr㤲㤷grt;榜΀eknprst㓣㥆㥋㥒㥝㥤㦖appá␕othinçẖƀhir㓫⻈㥙opô⾵Ā;hᎷ㥢ïㆍĀiu㥩㥭gmá㎳Ābp㥲㦄setneqĀ;q㥽㦀쀀⊊︀;쀀⫋︀setneqĀ;q㦏㦒쀀⊋︀;쀀⫌︀Āhr㦛㦟etá㚜iangleĀlr㦪㦯eft»थight»ၑy;䐲ash»ံƀelr㧄㧒㧗ƀ;beⷪ㧋㧏ar;抻q;扚lip;拮Ābt㧜ᑨaòᑩr;쀀𝔳tré㦮suĀbp㧯㧱»ജ»൙pf;쀀𝕧roð໻tré㦴Ācu㨆㨋r;쀀𝓋Ābp㨐㨘nĀEe㦀㨖»㥾nĀEe㦒㨞»㦐igzag;榚΀cefoprs㨶㨻㩖㩛㩔㩡㩪irc;䅵Ādi㩀㩑Ābg㩅㩉ar;機eĀ;qᗺ㩏;扙erp;愘r;쀀𝔴pf;쀀𝕨Ā;eᑹ㩦atèᑹcr;쀀𝓌ૣណ㪇\0㪋\0㪐㪛\0\0㪝㪨㪫㪯\0\0㫃㫎\0㫘ៜ៟tré៑r;쀀𝔵ĀAa㪔㪗ròσrò৶;䎾ĀAa㪡㪤ròθrò৫að✓is;拻ƀdptឤ㪵㪾Āfl㪺ឩ;쀀𝕩imåឲĀAa㫇㫊ròώròਁĀcq㫒ីr;쀀𝓍Āpt៖㫜ré។Ѐacefiosu㫰㫽㬈㬌㬑㬕㬛㬡cĀuy㫶㫻te耻ý䃽;䑏Āiy㬂㬆rc;䅷;䑋n耻¥䂥r;쀀𝔶cy;䑗pf;쀀𝕪cr;쀀𝓎Ācm㬦㬩y;䑎l耻ÿ䃿Ԁacdefhiosw㭂㭈㭔㭘㭤㭩㭭㭴㭺㮀cute;䅺Āay㭍㭒ron;䅾;䐷ot;䅼Āet㭝㭡træᕟa;䎶r;쀀𝔷cy;䐶grarr;懝pf;쀀𝕫cr;쀀𝓏Ājn㮅㮇;怍j;怌'.split("").map(e=>e.charCodeAt(0))),h6=new Uint16Array("Ȁaglq	\x1Bɭ\0\0p;䀦os;䀧t;䀾t;䀼uot;䀢".split("").map(e=>e.charCodeAt(0))),Ug;const bj=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),l1=(Ug=String.fromCodePoint)!==null&&Ug!==void 0?Ug:function(e){let t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|e&1023),t+=String.fromCharCode(e),t};function wj(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=bj.get(e))!==null&&t!==void 0?t:e}var Ot;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(Ot||(Ot={}));const vj=32;var Pi;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(Pi||(Pi={}));function f1(e){return e>=Ot.ZERO&&e<=Ot.NINE}function xj(e){return e>=Ot.UPPER_A&&e<=Ot.UPPER_F||e>=Ot.LOWER_A&&e<=Ot.LOWER_F}function Sj(e){return e>=Ot.UPPER_A&&e<=Ot.UPPER_Z||e>=Ot.LOWER_A&&e<=Ot.LOWER_Z||f1(e)}function _j(e){return e===Ot.EQUALS||Sj(e)}var St;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(St||(St={}));var fs;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(fs||(fs={}));class p6{constructor(t,n,r){this.decodeTree=t,this.emitCodePoint=n,this.errors=r,this.state=St.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=fs.Strict}startEntity(t){this.decodeMode=t,this.state=St.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,n){switch(this.state){case St.EntityStart:return t.charCodeAt(n)===Ot.NUM?(this.state=St.NumericStart,this.consumed+=1,this.stateNumericStart(t,n+1)):(this.state=St.NamedEntity,this.stateNamedEntity(t,n));case St.NumericStart:return this.stateNumericStart(t,n);case St.NumericDecimal:return this.stateNumericDecimal(t,n);case St.NumericHex:return this.stateNumericHex(t,n);case St.NamedEntity:return this.stateNamedEntity(t,n)}}stateNumericStart(t,n){return n>=t.length?-1:(t.charCodeAt(n)|vj)===Ot.LOWER_X?(this.state=St.NumericHex,this.consumed+=1,this.stateNumericHex(t,n+1)):(this.state=St.NumericDecimal,this.stateNumericDecimal(t,n))}addToNumericResult(t,n,r,s){if(n!==r){const i=r-n;this.result=this.result*Math.pow(s,i)+parseInt(t.substr(n,i),s),this.consumed+=i}}stateNumericHex(t,n){const r=n;for(;n<t.length;){const s=t.charCodeAt(n);if(f1(s)||xj(s))n+=1;else return this.addToNumericResult(t,r,n,16),this.emitNumericEntity(s,3)}return this.addToNumericResult(t,r,n,16),-1}stateNumericDecimal(t,n){const r=n;for(;n<t.length;){const s=t.charCodeAt(n);if(f1(s))n+=1;else return this.addToNumericResult(t,r,n,10),this.emitNumericEntity(s,2)}return this.addToNumericResult(t,r,n,10),-1}emitNumericEntity(t,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===Ot.SEMI)this.consumed+=1;else if(this.decodeMode===fs.Strict)return 0;return this.emitCodePoint(wj(this.result),this.consumed),this.errors&&(t!==Ot.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,n){const{decodeTree:r}=this;let s=r[this.treeIndex],i=(s&Pi.VALUE_LENGTH)>>14;for(;n<t.length;n++,this.excess++){const u=t.charCodeAt(n);if(this.treeIndex=Aj(r,s,this.treeIndex+Math.max(1,i),u),this.treeIndex<0)return this.result===0||this.decodeMode===fs.Attribute&&(i===0||_j(u))?0:this.emitNotTerminatedNamedEntity();if(s=r[this.treeIndex],i=(s&Pi.VALUE_LENGTH)>>14,i!==0){if(u===Ot.SEMI)return this.emitNamedEntityData(this.treeIndex,i,this.consumed+this.excess);this.decodeMode!==fs.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:n,decodeTree:r}=this,s=(r[n]&Pi.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,s,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,n,r){const{decodeTree:s}=this;return this.emitCodePoint(n===1?s[t]&~Pi.VALUE_LENGTH:s[t+1],r),n===3&&this.emitCodePoint(s[t+2],r),r}end(){var t;switch(this.state){case St.NamedEntity:return this.result!==0&&(this.decodeMode!==fs.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case St.NumericDecimal:return this.emitNumericEntity(0,2);case St.NumericHex:return this.emitNumericEntity(0,3);case St.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case St.EntityStart:return 0}}}function g6(e){let t="";const n=new p6(e,r=>t+=l1(r));return function(s,i){let u=0,o=0;for(;(o=s.indexOf("&",o))>=0;){t+=s.slice(u,o),n.startEntity(i);const c=n.write(s,o+1);if(c<0){u=o+n.end();break}u=o+c,o=c===0?u+1:u}const a=t+s.slice(u);return t="",a}}function Aj(e,t,n,r){const s=(t&Pi.BRANCH_LENGTH)>>7,i=t&Pi.JUMP_TABLE;if(s===0)return i!==0&&r===i?n:-1;if(i){const a=r-i;return a<0||a>=s?-1:e[n+a]-1}let u=n,o=u+s-1;for(;u<=o;){const a=u+o>>>1,c=e[a];if(c<r)u=a+1;else if(c>r)o=a-1;else return e[a+s]}return-1}g6(d6);g6(h6);var Z;(function(e){e[e.Tab=9]="Tab",e[e.NewLine=10]="NewLine",e[e.FormFeed=12]="FormFeed",e[e.CarriageReturn=13]="CarriageReturn",e[e.Space=32]="Space",e[e.ExclamationMark=33]="ExclamationMark",e[e.Number=35]="Number",e[e.Amp=38]="Amp",e[e.SingleQuote=39]="SingleQuote",e[e.DoubleQuote=34]="DoubleQuote",e[e.Dash=45]="Dash",e[e.Slash=47]="Slash",e[e.Zero=48]="Zero",e[e.Nine=57]="Nine",e[e.Semi=59]="Semi",e[e.Lt=60]="Lt",e[e.Eq=61]="Eq",e[e.Gt=62]="Gt",e[e.Questionmark=63]="Questionmark",e[e.UpperA=65]="UpperA",e[e.LowerA=97]="LowerA",e[e.UpperF=70]="UpperF",e[e.LowerF=102]="LowerF",e[e.UpperZ=90]="UpperZ",e[e.LowerZ=122]="LowerZ",e[e.LowerX=120]="LowerX",e[e.OpeningSquareBracket=91]="OpeningSquareBracket"})(Z||(Z={}));var C;(function(e){e[e.Text=1]="Text",e[e.BeforeTagName=2]="BeforeTagName",e[e.InTagName=3]="InTagName",e[e.InSelfClosingTag=4]="InSelfClosingTag",e[e.BeforeClosingTagName=5]="BeforeClosingTagName",e[e.InClosingTagName=6]="InClosingTagName",e[e.AfterClosingTagName=7]="AfterClosingTagName",e[e.BeforeAttributeName=8]="BeforeAttributeName",e[e.InAttributeName=9]="InAttributeName",e[e.AfterAttributeName=10]="AfterAttributeName",e[e.BeforeAttributeValue=11]="BeforeAttributeValue",e[e.InAttributeValueDq=12]="InAttributeValueDq",e[e.InAttributeValueSq=13]="InAttributeValueSq",e[e.InAttributeValueNq=14]="InAttributeValueNq",e[e.BeforeDeclaration=15]="BeforeDeclaration",e[e.InDeclaration=16]="InDeclaration",e[e.InProcessingInstruction=17]="InProcessingInstruction",e[e.BeforeComment=18]="BeforeComment",e[e.CDATASequence=19]="CDATASequence",e[e.InSpecialComment=20]="InSpecialComment",e[e.InCommentLike=21]="InCommentLike",e[e.BeforeSpecialS=22]="BeforeSpecialS",e[e.BeforeSpecialT=23]="BeforeSpecialT",e[e.SpecialStartSequence=24]="SpecialStartSequence",e[e.InSpecialTag=25]="InSpecialTag",e[e.InEntity=26]="InEntity"})(C||(C={}));function Fs(e){return e===Z.Space||e===Z.NewLine||e===Z.Tab||e===Z.FormFeed||e===Z.CarriageReturn}function hd(e){return e===Z.Slash||e===Z.Gt||Fs(e)}function Tj(e){return e>=Z.LowerA&&e<=Z.LowerZ||e>=Z.UpperA&&e<=Z.UpperZ}var Lr;(function(e){e[e.NoValue=0]="NoValue",e[e.Unquoted=1]="Unquoted",e[e.Single=2]="Single",e[e.Double=3]="Double"})(Lr||(Lr={}));const kt={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97])};class m6{constructor({xmlMode:t=!1,decodeEntities:n=!0},r){this.cbs=r,this.state=C.Text,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=C.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.xmlMode=t,this.decodeEntities=n,this.entityDecoder=new p6(t?h6:d6,(s,i)=>this.emitCodePoint(s,i))}reset(){this.state=C.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=C.Text,this.currentSequence=void 0,this.running=!0,this.offset=0}write(t){this.offset+=this.buffer.length,this.buffer=t,this.parse()}end(){this.running&&this.finish()}pause(){this.running=!1}resume(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()}stateText(t){t===Z.Lt||!this.decodeEntities&&this.fastForwardTo(Z.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=C.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&t===Z.Amp&&this.startEntity()}stateSpecialStartSequence(t){const n=this.sequenceIndex===this.currentSequence.length;if(!(n?hd(t):(t|32)===this.currentSequence[this.sequenceIndex]))this.isSpecial=!1;else if(!n){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=C.InTagName,this.stateInTagName(t)}stateInSpecialTag(t){if(this.sequenceIndex===this.currentSequence.length){if(t===Z.Gt||Fs(t)){const n=this.index-this.currentSequence.length;if(this.sectionStart<n){const r=this.index;this.index=n,this.cbs.ontext(this.sectionStart,n),this.index=r}this.isSpecial=!1,this.sectionStart=n+2,this.stateInClosingTagName(t);return}this.sequenceIndex=0}(t|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===kt.TitleEnd?this.decodeEntities&&t===Z.Amp&&this.startEntity():this.fastForwardTo(Z.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(t===Z.Lt)}stateCDATASequence(t){t===kt.Cdata[this.sequenceIndex]?++this.sequenceIndex===kt.Cdata.length&&(this.state=C.InCommentLike,this.currentSequence=kt.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=C.InDeclaration,this.stateInDeclaration(t))}fastForwardTo(t){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===t)return!0;return this.index=this.buffer.length+this.offset-1,!1}stateInCommentLike(t){t===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===kt.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=C.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):t!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}isTagStartChar(t){return this.xmlMode?!hd(t):Tj(t)}startSpecial(t,n){this.isSpecial=!0,this.currentSequence=t,this.sequenceIndex=n,this.state=C.SpecialStartSequence}stateBeforeTagName(t){if(t===Z.ExclamationMark)this.state=C.BeforeDeclaration,this.sectionStart=this.index+1;else if(t===Z.Questionmark)this.state=C.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(t)){const n=t|32;this.sectionStart=this.index,this.xmlMode?this.state=C.InTagName:n===kt.ScriptEnd[2]?this.state=C.BeforeSpecialS:n===kt.TitleEnd[2]?this.state=C.BeforeSpecialT:this.state=C.InTagName}else t===Z.Slash?this.state=C.BeforeClosingTagName:(this.state=C.Text,this.stateText(t))}stateInTagName(t){hd(t)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=C.BeforeAttributeName,this.stateBeforeAttributeName(t))}stateBeforeClosingTagName(t){Fs(t)||(t===Z.Gt?this.state=C.Text:(this.state=this.isTagStartChar(t)?C.InClosingTagName:C.InSpecialComment,this.sectionStart=this.index))}stateInClosingTagName(t){(t===Z.Gt||Fs(t))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=C.AfterClosingTagName,this.stateAfterClosingTagName(t))}stateAfterClosingTagName(t){(t===Z.Gt||this.fastForwardTo(Z.Gt))&&(this.state=C.Text,this.sectionStart=this.index+1)}stateBeforeAttributeName(t){t===Z.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=C.InSpecialTag,this.sequenceIndex=0):this.state=C.Text,this.sectionStart=this.index+1):t===Z.Slash?this.state=C.InSelfClosingTag:Fs(t)||(this.state=C.InAttributeName,this.sectionStart=this.index)}stateInSelfClosingTag(t){t===Z.Gt?(this.cbs.onselfclosingtag(this.index),this.state=C.Text,this.sectionStart=this.index+1,this.isSpecial=!1):Fs(t)||(this.state=C.BeforeAttributeName,this.stateBeforeAttributeName(t))}stateInAttributeName(t){(t===Z.Eq||hd(t))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=this.index,this.state=C.AfterAttributeName,this.stateAfterAttributeName(t))}stateAfterAttributeName(t){t===Z.Eq?this.state=C.BeforeAttributeValue:t===Z.Slash||t===Z.Gt?(this.cbs.onattribend(Lr.NoValue,this.sectionStart),this.sectionStart=-1,this.state=C.BeforeAttributeName,this.stateBeforeAttributeName(t)):Fs(t)||(this.cbs.onattribend(Lr.NoValue,this.sectionStart),this.state=C.InAttributeName,this.sectionStart=this.index)}stateBeforeAttributeValue(t){t===Z.DoubleQuote?(this.state=C.InAttributeValueDq,this.sectionStart=this.index+1):t===Z.SingleQuote?(this.state=C.InAttributeValueSq,this.sectionStart=this.index+1):Fs(t)||(this.sectionStart=this.index,this.state=C.InAttributeValueNq,this.stateInAttributeValueNoQuotes(t))}handleInAttributeValue(t,n){t===n||!this.decodeEntities&&this.fastForwardTo(n)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(n===Z.DoubleQuote?Lr.Double:Lr.Single,this.index+1),this.state=C.BeforeAttributeName):this.decodeEntities&&t===Z.Amp&&this.startEntity()}stateInAttributeValueDoubleQuotes(t){this.handleInAttributeValue(t,Z.DoubleQuote)}stateInAttributeValueSingleQuotes(t){this.handleInAttributeValue(t,Z.SingleQuote)}stateInAttributeValueNoQuotes(t){Fs(t)||t===Z.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(Lr.Unquoted,this.index),this.state=C.BeforeAttributeName,this.stateBeforeAttributeName(t)):this.decodeEntities&&t===Z.Amp&&this.startEntity()}stateBeforeDeclaration(t){t===Z.OpeningSquareBracket?(this.state=C.CDATASequence,this.sequenceIndex=0):this.state=t===Z.Dash?C.BeforeComment:C.InDeclaration}stateInDeclaration(t){(t===Z.Gt||this.fastForwardTo(Z.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=C.Text,this.sectionStart=this.index+1)}stateInProcessingInstruction(t){(t===Z.Gt||this.fastForwardTo(Z.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=C.Text,this.sectionStart=this.index+1)}stateBeforeComment(t){t===Z.Dash?(this.state=C.InCommentLike,this.currentSequence=kt.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=C.InDeclaration}stateInSpecialComment(t){(t===Z.Gt||this.fastForwardTo(Z.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=C.Text,this.sectionStart=this.index+1)}stateBeforeSpecialS(t){const n=t|32;n===kt.ScriptEnd[3]?this.startSpecial(kt.ScriptEnd,4):n===kt.StyleEnd[3]?this.startSpecial(kt.StyleEnd,4):(this.state=C.InTagName,this.stateInTagName(t))}stateBeforeSpecialT(t){const n=t|32;n===kt.TitleEnd[3]?this.startSpecial(kt.TitleEnd,4):n===kt.TextareaEnd[3]?this.startSpecial(kt.TextareaEnd,4):(this.state=C.InTagName,this.stateInTagName(t))}startEntity(){this.baseState=this.state,this.state=C.InEntity,this.entityStart=this.index,this.entityDecoder.startEntity(this.xmlMode?fs.Strict:this.baseState===C.Text||this.baseState===C.InSpecialTag?fs.Legacy:fs.Attribute)}stateInEntity(){const t=this.entityDecoder.write(this.buffer,this.index-this.offset);t>=0?(this.state=this.baseState,t===0&&(this.index=this.entityStart)):this.index=this.offset+this.buffer.length-1}cleanup(){this.running&&this.sectionStart!==this.index&&(this.state===C.Text||this.state===C.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===C.InAttributeValueDq||this.state===C.InAttributeValueSq||this.state===C.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}shouldContinue(){return this.index<this.buffer.length+this.offset&&this.running}parse(){for(;this.shouldContinue();){const t=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case C.Text:{this.stateText(t);break}case C.SpecialStartSequence:{this.stateSpecialStartSequence(t);break}case C.InSpecialTag:{this.stateInSpecialTag(t);break}case C.CDATASequence:{this.stateCDATASequence(t);break}case C.InAttributeValueDq:{this.stateInAttributeValueDoubleQuotes(t);break}case C.InAttributeName:{this.stateInAttributeName(t);break}case C.InCommentLike:{this.stateInCommentLike(t);break}case C.InSpecialComment:{this.stateInSpecialComment(t);break}case C.BeforeAttributeName:{this.stateBeforeAttributeName(t);break}case C.InTagName:{this.stateInTagName(t);break}case C.InClosingTagName:{this.stateInClosingTagName(t);break}case C.BeforeTagName:{this.stateBeforeTagName(t);break}case C.AfterAttributeName:{this.stateAfterAttributeName(t);break}case C.InAttributeValueSq:{this.stateInAttributeValueSingleQuotes(t);break}case C.BeforeAttributeValue:{this.stateBeforeAttributeValue(t);break}case C.BeforeClosingTagName:{this.stateBeforeClosingTagName(t);break}case C.AfterClosingTagName:{this.stateAfterClosingTagName(t);break}case C.BeforeSpecialS:{this.stateBeforeSpecialS(t);break}case C.BeforeSpecialT:{this.stateBeforeSpecialT(t);break}case C.InAttributeValueNq:{this.stateInAttributeValueNoQuotes(t);break}case C.InSelfClosingTag:{this.stateInSelfClosingTag(t);break}case C.InDeclaration:{this.stateInDeclaration(t);break}case C.BeforeDeclaration:{this.stateBeforeDeclaration(t);break}case C.BeforeComment:{this.stateBeforeComment(t);break}case C.InProcessingInstruction:{this.stateInProcessingInstruction(t);break}case C.InEntity:{this.stateInEntity();break}}this.index++}this.cleanup()}finish(){this.state===C.InEntity&&(this.entityDecoder.end(),this.state=this.baseState),this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const t=this.buffer.length+this.offset;this.sectionStart>=t||(this.state===C.InCommentLike?this.currentSequence===kt.CdataEnd?this.cbs.oncdata(this.sectionStart,t,0):this.cbs.oncomment(this.sectionStart,t,0):this.state===C.InTagName||this.state===C.BeforeAttributeName||this.state===C.BeforeAttributeValue||this.state===C.AfterAttributeName||this.state===C.InAttributeName||this.state===C.InAttributeValueSq||this.state===C.InAttributeValueDq||this.state===C.InAttributeValueNq||this.state===C.InClosingTagName||this.cbs.ontext(this.sectionStart,t))}emitCodePoint(t,n){this.baseState!==C.Text&&this.baseState!==C.InSpecialTag?(this.sectionStart<this.entityStart&&this.cbs.onattribdata(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+n,this.index=this.sectionStart-1,this.cbs.onattribentity(t)):(this.sectionStart<this.entityStart&&this.cbs.ontext(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+n,this.index=this.sectionStart-1,this.cbs.ontextentity(t,this.sectionStart))}}const Lo=new Set(["input","option","optgroup","select","button","datalist","textarea"]),Oe=new Set(["p"]),nS=new Set(["thead","tbody"]),rS=new Set(["dd","dt"]),sS=new Set(["rt","rp"]),Ej=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",Oe],["h1",Oe],["h2",Oe],["h3",Oe],["h4",Oe],["h5",Oe],["h6",Oe],["select",Lo],["input",Lo],["output",Lo],["button",Lo],["datalist",Lo],["textarea",Lo],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",rS],["dt",rS],["address",Oe],["article",Oe],["aside",Oe],["blockquote",Oe],["details",Oe],["div",Oe],["dl",Oe],["fieldset",Oe],["figcaption",Oe],["figure",Oe],["footer",Oe],["form",Oe],["header",Oe],["hr",Oe],["main",Oe],["nav",Oe],["ol",Oe],["pre",Oe],["section",Oe],["table",Oe],["ul",Oe],["rt",sS],["rp",sS],["tbody",nS],["tfoot",nS]]),Oj=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),iS=new Set(["math","svg"]),uS=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),Ij=/\s|\//;let Dp=class{constructor(t,n={}){var r,s,i,u,o,a;this.options=n,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=t??{},this.htmlMode=!this.options.xmlMode,this.lowerCaseTagNames=(r=n.lowerCaseTags)!==null&&r!==void 0?r:this.htmlMode,this.lowerCaseAttributeNames=(s=n.lowerCaseAttributeNames)!==null&&s!==void 0?s:this.htmlMode,this.recognizeSelfClosing=(i=n.recognizeSelfClosing)!==null&&i!==void 0?i:!this.htmlMode,this.tokenizer=new((u=n.Tokenizer)!==null&&u!==void 0?u:m6)(this.options,this),this.foreignContext=[!this.htmlMode],(a=(o=this.cbs).onparserinit)===null||a===void 0||a.call(o,this)}ontext(t,n){var r,s;const i=this.getSlice(t,n);this.endIndex=n-1,(s=(r=this.cbs).ontext)===null||s===void 0||s.call(r,i),this.startIndex=n}ontextentity(t,n){var r,s;this.endIndex=n-1,(s=(r=this.cbs).ontext)===null||s===void 0||s.call(r,l1(t)),this.startIndex=n}isVoidElement(t){return this.htmlMode&&Oj.has(t)}onopentagname(t,n){this.endIndex=n;let r=this.getSlice(t,n);this.lowerCaseTagNames&&(r=r.toLowerCase()),this.emitOpenTag(r)}emitOpenTag(t){var n,r,s,i;this.openTagStart=this.startIndex,this.tagname=t;const u=this.htmlMode&&Ej.get(t);if(u)for(;this.stack.length>0&&u.has(this.stack[0]);){const o=this.stack.shift();(r=(n=this.cbs).onclosetag)===null||r===void 0||r.call(n,o,!0)}this.isVoidElement(t)||(this.stack.unshift(t),this.htmlMode&&(iS.has(t)?this.foreignContext.unshift(!0):uS.has(t)&&this.foreignContext.unshift(!1))),(i=(s=this.cbs).onopentagname)===null||i===void 0||i.call(s,t),this.cbs.onopentag&&(this.attribs={})}endOpenTag(t){var n,r;this.startIndex=this.openTagStart,this.attribs&&((r=(n=this.cbs).onopentag)===null||r===void 0||r.call(n,this.tagname,this.attribs,t),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""}onopentagend(t){this.endIndex=t,this.endOpenTag(!1),this.startIndex=t+1}onclosetag(t,n){var r,s,i,u,o,a,c,l;this.endIndex=n;let d=this.getSlice(t,n);if(this.lowerCaseTagNames&&(d=d.toLowerCase()),this.htmlMode&&(iS.has(d)||uS.has(d))&&this.foreignContext.shift(),this.isVoidElement(d))this.htmlMode&&d==="br"&&((u=(i=this.cbs).onopentagname)===null||u===void 0||u.call(i,"br"),(a=(o=this.cbs).onopentag)===null||a===void 0||a.call(o,"br",{},!0),(l=(c=this.cbs).onclosetag)===null||l===void 0||l.call(c,"br",!1));else{const h=this.stack.indexOf(d);if(h!==-1)for(let f=0;f<=h;f++){const p=this.stack.shift();(s=(r=this.cbs).onclosetag)===null||s===void 0||s.call(r,p,f!==h)}else this.htmlMode&&d==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=n+1}onselfclosingtag(t){this.endIndex=t,this.recognizeSelfClosing||this.foreignContext[0]?(this.closeCurrentTag(!1),this.startIndex=t+1):this.onopentagend(t)}closeCurrentTag(t){var n,r;const s=this.tagname;this.endOpenTag(t),this.stack[0]===s&&((r=(n=this.cbs).onclosetag)===null||r===void 0||r.call(n,s,!t),this.stack.shift())}onattribname(t,n){this.startIndex=t;const r=this.getSlice(t,n);this.attribname=this.lowerCaseAttributeNames?r.toLowerCase():r}onattribdata(t,n){this.attribvalue+=this.getSlice(t,n)}onattribentity(t){this.attribvalue+=l1(t)}onattribend(t,n){var r,s;this.endIndex=n,(s=(r=this.cbs).onattribute)===null||s===void 0||s.call(r,this.attribname,this.attribvalue,t===Lr.Double?'"':t===Lr.Single?"'":t===Lr.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""}getInstructionName(t){const n=t.search(Ij);let r=n<0?t:t.substr(0,n);return this.lowerCaseTagNames&&(r=r.toLowerCase()),r}ondeclaration(t,n){this.endIndex=n;const r=this.getSlice(t,n);if(this.cbs.onprocessinginstruction){const s=this.getInstructionName(r);this.cbs.onprocessinginstruction(`!${s}`,`!${r}`)}this.startIndex=n+1}onprocessinginstruction(t,n){this.endIndex=n;const r=this.getSlice(t,n);if(this.cbs.onprocessinginstruction){const s=this.getInstructionName(r);this.cbs.onprocessinginstruction(`?${s}`,`?${r}`)}this.startIndex=n+1}oncomment(t,n,r){var s,i,u,o;this.endIndex=n,(i=(s=this.cbs).oncomment)===null||i===void 0||i.call(s,this.getSlice(t,n-r)),(o=(u=this.cbs).oncommentend)===null||o===void 0||o.call(u),this.startIndex=n+1}oncdata(t,n,r){var s,i,u,o,a,c,l,d,h,f;this.endIndex=n;const p=this.getSlice(t,n-r);!this.htmlMode||this.options.recognizeCDATA?((i=(s=this.cbs).oncdatastart)===null||i===void 0||i.call(s),(o=(u=this.cbs).ontext)===null||o===void 0||o.call(u,p),(c=(a=this.cbs).oncdataend)===null||c===void 0||c.call(a)):((d=(l=this.cbs).oncomment)===null||d===void 0||d.call(l,`[CDATA[${p}]]`),(f=(h=this.cbs).oncommentend)===null||f===void 0||f.call(h)),this.startIndex=n+1}onend(){var t,n;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(let r=0;r<this.stack.length;r++)this.cbs.onclosetag(this.stack[r],!0)}(n=(t=this.cbs).onend)===null||n===void 0||n.call(t)}reset(){var t,n,r,s;(n=(t=this.cbs).onreset)===null||n===void 0||n.call(t),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(s=(r=this.cbs).onparserinit)===null||s===void 0||s.call(r,this),this.buffers.length=0,this.foreignContext.length=0,this.foreignContext.unshift(!this.htmlMode),this.bufferOffset=0,this.writeIndex=0,this.ended=!1}parseComplete(t){this.reset(),this.end(t)}getSlice(t,n){for(;t-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();let r=this.buffers[0].slice(t-this.bufferOffset,n-this.bufferOffset);for(;n-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),r+=this.buffers[0].slice(0,n-this.bufferOffset);return r}shiftBuffer(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()}write(t){var n,r;if(this.ended){(r=(n=this.cbs).onerror)===null||r===void 0||r.call(n,new Error(".write() after done!"));return}this.buffers.push(t),this.tokenizer.running&&(this.tokenizer.write(t),this.writeIndex++)}end(t){var n,r;if(this.ended){(r=(n=this.cbs).onerror)===null||r===void 0||r.call(n,new Error(".end() after done!"));return}t&&this.write(t),this.ended=!0,this.tokenizer.end()}pause(){this.tokenizer.pause()}resume(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()}parseChunk(t){this.write(t)}done(t){this.end(t)}};var be;(function(e){e.Root="root",e.Text="text",e.Directive="directive",e.Comment="comment",e.Script="script",e.Style="style",e.Tag="tag",e.CDATA="cdata",e.Doctype="doctype"})(be||(be={}));function y6(e){return e.type===be.Tag||e.type===be.Script||e.type===be.Style}const b6=be.Root,w6=be.Text,v6=be.Directive,x6=be.Comment,S6=be.Script,_6=be.Style,A6=be.Tag,T6=be.CDATA,E6=be.Doctype;var Nj=Object.freeze({__proto__:null,CDATA:T6,Comment:x6,Directive:v6,Doctype:E6,get ElementType(){return be},Root:b6,Script:S6,Style:_6,Tag:A6,Text:w6,isTag:y6});let O6=class{constructor(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}get parentNode(){return this.parent}set parentNode(t){this.parent=t}get previousSibling(){return this.prev}set previousSibling(t){this.prev=t}get nextSibling(){return this.next}set nextSibling(t){this.next=t}cloneNode(t=!1){return D6(this,t)}};class Pb extends O6{constructor(t){super(),this.data=t}get nodeValue(){return this.data}set nodeValue(t){this.data=t}}let d1=class extends Pb{constructor(){super(...arguments),this.type=be.Text}get nodeType(){return 3}},I6=class extends Pb{constructor(){super(...arguments),this.type=be.Comment}get nodeType(){return 8}};class N6 extends Pb{constructor(t,n){super(n),this.name=t,this.type=be.Directive}get nodeType(){return 1}}class jb extends O6{constructor(t){super(),this.children=t}get firstChild(){var t;return(t=this.children[0])!==null&&t!==void 0?t:null}get lastChild(){return this.children.length>0?this.children[this.children.length-1]:null}get childNodes(){return this.children}set childNodes(t){this.children=t}}class R6 extends jb{constructor(){super(...arguments),this.type=be.CDATA}get nodeType(){return 4}}let h1=class extends jb{constructor(){super(...arguments),this.type=be.Root}get nodeType(){return 9}},k6=class extends jb{constructor(t,n,r=[],s=t==="script"?be.Script:t==="style"?be.Style:be.Tag){super(r),this.name=t,this.attribs=n,this.type=s}get nodeType(){return 1}get tagName(){return this.name}set tagName(t){this.name=t}get attributes(){return Object.keys(this.attribs).map(t=>{var n,r;return{name:t,value:this.attribs[t],namespace:(n=this["x-attribsNamespace"])===null||n===void 0?void 0:n[t],prefix:(r=this["x-attribsPrefix"])===null||r===void 0?void 0:r[t]}})}};function Vn(e){return y6(e)}function Mp(e){return e.type===be.CDATA}function so(e){return e.type===be.Text}function Lb(e){return e.type===be.Comment}function Rj(e){return e.type===be.Directive}function C6(e){return e.type===be.Root}function Xi(e){return Object.prototype.hasOwnProperty.call(e,"children")}function D6(e,t=!1){let n;if(so(e))n=new d1(e.data);else if(Lb(e))n=new I6(e.data);else if(Vn(e)){const r=t?qg(e.children):[],s=new k6(e.name,{...e.attribs},r);r.forEach(i=>i.parent=s),e.namespace!=null&&(s.namespace=e.namespace),e["x-attribsNamespace"]&&(s["x-attribsNamespace"]={...e["x-attribsNamespace"]}),e["x-attribsPrefix"]&&(s["x-attribsPrefix"]={...e["x-attribsPrefix"]}),n=s}else if(Mp(e)){const r=t?qg(e.children):[],s=new R6(r);r.forEach(i=>i.parent=s),n=s}else if(C6(e)){const r=t?qg(e.children):[],s=new h1(r);r.forEach(i=>i.parent=s),e["x-mode"]&&(s["x-mode"]=e["x-mode"]),n=s}else if(Rj(e)){const r=new N6(e.name,e.data);e["x-name"]!=null&&(r["x-name"]=e["x-name"],r["x-publicId"]=e["x-publicId"],r["x-systemId"]=e["x-systemId"]),n=r}else throw new Error(`Not implemented yet: ${e.type}`);return n.startIndex=e.startIndex,n.endIndex=e.endIndex,e.sourceCodeLocation!=null&&(n.sourceCodeLocation=e.sourceCodeLocation),n}function qg(e){const t=e.map(n=>D6(n,!0));for(let n=1;n<t.length;n++)t[n].prev=t[n-1],t[n-1].next=t[n];return t}const oS={withStartIndices:!1,withEndIndices:!1,xmlMode:!1};class kl{constructor(t,n,r){this.dom=[],this.root=new h1(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof n=="function"&&(r=n,n=oS),typeof t=="object"&&(n=t,t=void 0),this.callback=t??null,this.options=n??oS,this.elementCB=r??null}onparserinit(t){this.parser=t}onreset(){this.dom=[],this.root=new h1(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null}onend(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))}onerror(t){this.handleCallback(t)}onclosetag(){this.lastNode=null;const t=this.tagStack.pop();this.options.withEndIndices&&(t.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(t)}onopentag(t,n){const r=this.options.xmlMode?be.Tag:void 0,s=new k6(t,n,void 0,r);this.addNode(s),this.tagStack.push(s)}ontext(t){const{lastNode:n}=this;if(n&&n.type===be.Text)n.data+=t,this.options.withEndIndices&&(n.endIndex=this.parser.endIndex);else{const r=new d1(t);this.addNode(r),this.lastNode=r}}oncomment(t){if(this.lastNode&&this.lastNode.type===be.Comment){this.lastNode.data+=t;return}const n=new I6(t);this.addNode(n),this.lastNode=n}oncommentend(){this.lastNode=null}oncdatastart(){const t=new d1(""),n=new R6([t]);this.addNode(n),t.parent=n,this.lastNode=t}oncdataend(){this.lastNode=null}onprocessinginstruction(t,n){const r=new N6(t,n);this.addNode(r)}handleCallback(t){if(typeof this.callback=="function")this.callback(t,this.dom);else if(t)throw t}addNode(t){const n=this.tagStack[this.tagStack.length-1],r=n.children[n.children.length-1];this.options.withStartIndices&&(t.startIndex=this.parser.startIndex),this.options.withEndIndices&&(t.endIndex=this.parser.endIndex),n.children.push(t),r&&(t.prev=r,r.next=t),t.parent=n,this.lastNode=null}}const aS=/["&'<>$\x80-\uFFFF]/g,kj=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]),Cj=String.prototype.codePointAt!=null?(e,t)=>e.codePointAt(t):(e,t)=>(e.charCodeAt(t)&64512)===55296?(e.charCodeAt(t)-55296)*1024+e.charCodeAt(t+1)-56320+65536:e.charCodeAt(t);function M6(e){let t="",n=0,r;for(;(r=aS.exec(e))!==null;){const s=r.index,i=e.charCodeAt(s),u=kj.get(i);u!==void 0?(t+=e.substring(n,s)+u,n=s+1):(t+=`${e.substring(n,s)}&#x${Cj(e,s).toString(16)};`,n=aS.lastIndex+=+((i&64512)===55296))}return t+e.substr(n)}function P6(e,t){return function(r){let s,i=0,u="";for(;s=e.exec(r);)i!==s.index&&(u+=r.substring(i,s.index)),u+=t.get(s[0].charCodeAt(0)),i=s.index+1;return u+r.substring(i)}}const Dj=P6(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),Mj=P6(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]])),Pj=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),jj=new Map(["definitionURL","attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),Lj=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function Fj(e){return e.replace(/"/g,"&quot;")}function Bj(e,t){var n;if(!e)return;const r=((n=t.encodeEntities)!==null&&n!==void 0?n:t.decodeEntities)===!1?Fj:t.xmlMode||t.encodeEntities!=="utf8"?M6:Dj;return Object.keys(e).map(s=>{var i,u;const o=(i=e[s])!==null&&i!==void 0?i:"";return t.xmlMode==="foreign"&&(s=(u=jj.get(s))!==null&&u!==void 0?u:s),!t.emptyAttrs&&!t.xmlMode&&o===""?s:`${s}="${r(o)}"`}).join(" ")}const cS=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function Fb(e,t={}){const n="length"in e?e:[e];let r="";for(let s=0;s<n.length;s++)r+=$j(n[s],t);return r}function $j(e,t){switch(e.type){case b6:return Fb(e.children,t);case E6:case v6:return zj(e);case x6:return Jj(e);case T6:return Gj(e);case S6:case _6:case A6:return Vj(e,t);case w6:return Hj(e,t)}}const Uj=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),qj=new Set(["svg","math"]);function Vj(e,t){var n;t.xmlMode==="foreign"&&(e.name=(n=Pj.get(e.name))!==null&&n!==void 0?n:e.name,e.parent&&Uj.has(e.parent.name)&&(t={...t,xmlMode:!1})),!t.xmlMode&&qj.has(e.name)&&(t={...t,xmlMode:"foreign"});let r=`<${e.name}`;const s=Bj(e.attribs,t);return s&&(r+=` ${s}`),e.children.length===0&&(t.xmlMode?t.selfClosingTags!==!1:t.selfClosingTags&&cS.has(e.name))?(t.xmlMode||(r+=" "),r+="/>"):(r+=">",e.children.length>0&&(r+=Fb(e.children,t)),(t.xmlMode||!cS.has(e.name))&&(r+=`</${e.name}>`)),r}function zj(e){return`<${e.data}>`}function Hj(e,t){var n;let r=e.data||"";return((n=t.encodeEntities)!==null&&n!==void 0?n:t.decodeEntities)!==!1&&!(!t.xmlMode&&e.parent&&Lj.has(e.parent.name))&&(r=t.xmlMode||t.encodeEntities!=="utf8"?M6(r):Mj(r)),r}function Gj(e){return`<![CDATA[${e.children[0].data}]]>`}function Jj(e){return`<!--${e.data}-->`}function j6(e,t){return Fb(e,t)}function Wj(e,t){return Xi(e)?e.children.map(n=>j6(n,t)).join(""):""}function qd(e){return Array.isArray(e)?e.map(qd).join(""):Vn(e)?e.name==="br"?`
`:qd(e.children):Mp(e)?qd(e.children):so(e)?e.data:""}function mh(e){return Array.isArray(e)?e.map(mh).join(""):Xi(e)&&!Lb(e)?mh(e.children):so(e)?e.data:""}function p1(e){return Array.isArray(e)?e.map(p1).join(""):Xi(e)&&(e.type===be.Tag||Mp(e))?p1(e.children):so(e)?e.data:""}function L6(e){return Xi(e)?e.children:[]}function F6(e){return e.parent||null}function Qj(e){const t=F6(e);if(t!=null)return L6(t);const n=[e];let{prev:r,next:s}=e;for(;r!=null;)n.unshift(r),{prev:r}=r;for(;s!=null;)n.push(s),{next:s}=s;return n}function Xj(e,t){var n;return(n=e.attribs)===null||n===void 0?void 0:n[t]}function Kj(e,t){return e.attribs!=null&&Object.prototype.hasOwnProperty.call(e.attribs,t)&&e.attribs[t]!=null}function Yj(e){return e.name}function Zj(e){let{next:t}=e;for(;t!==null&&!Vn(t);)({next:t}=t);return t}function eL(e){let{prev:t}=e;for(;t!==null&&!Vn(t);)({prev:t}=t);return t}function Nf(e){if(e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e.parent){const t=e.parent.children,n=t.lastIndexOf(e);n>=0&&t.splice(n,1)}e.next=null,e.prev=null,e.parent=null}function tL(e,t){const n=t.prev=e.prev;n&&(n.next=t);const r=t.next=e.next;r&&(r.prev=t);const s=t.parent=e.parent;if(s){const i=s.children;i[i.lastIndexOf(e)]=t,e.parent=null}}function nL(e,t){if(Nf(t),t.next=null,t.parent=e,e.children.push(t)>1){const n=e.children[e.children.length-2];n.next=t,t.prev=n}else t.prev=null}function rL(e,t){Nf(t);const{parent:n}=e,r=e.next;if(t.next=r,t.prev=e,e.next=t,t.parent=n,r){if(r.prev=t,n){const s=n.children;s.splice(s.lastIndexOf(r),0,t)}}else n&&n.children.push(t)}function sL(e,t){if(Nf(t),t.parent=e,t.prev=null,e.children.unshift(t)!==1){const n=e.children[1];n.prev=t,t.next=n}else t.next=null}function iL(e,t){Nf(t);const{parent:n}=e;if(n){const r=n.children;r.splice(r.indexOf(e),0,t)}e.prev&&(e.prev.next=t),t.parent=n,t.prev=e.prev,t.next=e,e.prev=t}function Pp(e,t,n=!0,r=1/0){return B6(e,Array.isArray(t)?t:[t],n,r)}function B6(e,t,n,r){const s=[],i=[t],u=[0];for(;;){if(u[0]>=i[0].length){if(u.length===1)return s;i.shift(),u.shift();continue}const o=i[0][u[0]++];if(e(o)&&(s.push(o),--r<=0))return s;n&&Xi(o)&&o.children.length>0&&(u.unshift(0),i.unshift(o.children))}}function uL(e,t){return t.find(e)}function Bb(e,t,n=!0){let r=null;for(let s=0;s<t.length&&!r;s++){const i=t[s];if(Vn(i))e(i)?r=i:n&&i.children.length>0&&(r=Bb(e,i.children,!0));else continue}return r}function $6(e,t){return t.some(n=>Vn(n)&&(e(n)||$6(e,n.children)))}function oL(e,t){const n=[],r=[t],s=[0];for(;;){if(s[0]>=r[0].length){if(r.length===1)return n;r.shift(),s.shift();continue}const i=r[0][s[0]++];Vn(i)&&(e(i)&&n.push(i),i.children.length>0&&(s.unshift(0),r.unshift(i.children)))}}const yh={tag_name(e){return typeof e=="function"?t=>Vn(t)&&e(t.name):e==="*"?Vn:t=>Vn(t)&&t.name===e},tag_type(e){return typeof e=="function"?t=>e(t.type):t=>t.type===e},tag_contains(e){return typeof e=="function"?t=>so(t)&&e(t.data):t=>so(t)&&t.data===e}};function U6(e,t){return typeof t=="function"?n=>Vn(n)&&t(n.attribs[e]):n=>Vn(n)&&n.attribs[e]===t}function aL(e,t){return n=>e(n)||t(n)}function q6(e){const t=Object.keys(e).map(n=>{const r=e[n];return Object.prototype.hasOwnProperty.call(yh,n)?yh[n](r):U6(n,r)});return t.length===0?null:t.reduce(aL)}function cL(e,t){const n=q6(e);return n?n(t):!0}function lL(e,t,n,r=1/0){const s=q6(e);return s?Pp(s,t,n,r):[]}function fL(e,t,n=!0){return Array.isArray(t)||(t=[t]),Bb(U6("id",e),t,n)}function ac(e,t,n=!0,r=1/0){return Pp(yh.tag_name(e),t,n,r)}function dL(e,t,n=!0,r=1/0){return Pp(yh.tag_type(e),t,n,r)}function hL(e){let t=e.length;for(;--t>=0;){const n=e[t];if(t>0&&e.lastIndexOf(n,t-1)>=0){e.splice(t,1);continue}for(let r=n.parent;r;r=r.parent)if(e.includes(r)){e.splice(t,1);break}}return e}var ir;(function(e){e[e.DISCONNECTED=1]="DISCONNECTED",e[e.PRECEDING=2]="PRECEDING",e[e.FOLLOWING=4]="FOLLOWING",e[e.CONTAINS=8]="CONTAINS",e[e.CONTAINED_BY=16]="CONTAINED_BY"})(ir||(ir={}));function V6(e,t){const n=[],r=[];if(e===t)return 0;let s=Xi(e)?e:e.parent;for(;s;)n.unshift(s),s=s.parent;for(s=Xi(t)?t:t.parent;s;)r.unshift(s),s=s.parent;const i=Math.min(n.length,r.length);let u=0;for(;u<i&&n[u]===r[u];)u++;if(u===0)return ir.DISCONNECTED;const o=n[u-1],a=o.children,c=n[u],l=r[u];return a.indexOf(c)>a.indexOf(l)?o===t?ir.FOLLOWING|ir.CONTAINED_BY:ir.FOLLOWING:o===e?ir.PRECEDING|ir.CONTAINS:ir.PRECEDING}function pL(e){return e=e.filter((t,n,r)=>!r.includes(t,n+1)),e.sort((t,n)=>{const r=V6(t,n);return r&ir.PRECEDING?-1:r&ir.FOLLOWING?1:0}),e}function $b(e){const t=bh(wL,e);return t?t.name==="feed"?gL(t):mL(t):null}function gL(e){var t;const n=e.children,r={type:"atom",items:ac("entry",n).map(u=>{var o;const{children:a}=u,c={media:z6(a)};An(c,"id","id",a),An(c,"title","title",a);const l=(o=bh("link",a))===null||o===void 0?void 0:o.attribs.href;l&&(c.link=l);const d=ji("summary",a)||ji("content",a);d&&(c.description=d);const h=ji("updated",a);return h&&(c.pubDate=new Date(h)),c})};An(r,"id","id",n),An(r,"title","title",n);const s=(t=bh("link",n))===null||t===void 0?void 0:t.attribs.href;s&&(r.link=s),An(r,"description","subtitle",n);const i=ji("updated",n);return i&&(r.updated=new Date(i)),An(r,"author","email",n,!0),r}function mL(e){var t,n;const r=(n=(t=bh("channel",e.children))===null||t===void 0?void 0:t.children)!==null&&n!==void 0?n:[],s={type:e.name.substr(0,3),id:"",items:ac("item",e.children).map(u=>{const{children:o}=u,a={media:z6(o)};An(a,"id","guid",o),An(a,"title","title",o),An(a,"link","link",o),An(a,"description","description",o);const c=ji("pubDate",o)||ji("dc:date",o);return c&&(a.pubDate=new Date(c)),a})};An(s,"title","title",r),An(s,"link","link",r),An(s,"description","description",r);const i=ji("lastBuildDate",r);return i&&(s.updated=new Date(i)),An(s,"author","managingEditor",r,!0),s}const yL=["url","type","lang"],bL=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function z6(e){return ac("media:content",e).map(t=>{const{attribs:n}=t,r={medium:n.medium,isDefault:!!n.isDefault};for(const s of yL)n[s]&&(r[s]=n[s]);for(const s of bL)n[s]&&(r[s]=parseInt(n[s],10));return n.expression&&(r.expression=n.expression),r})}function bh(e,t){return ac(e,t,!0,1)[0]}function ji(e,t,n=!1){return mh(ac(e,t,n,1)).trim()}function An(e,t,n,r,s=!1){const i=ji(n,r,s);i&&(e[t]=i)}function wL(e){return e==="rss"||e==="feed"||e==="rdf:RDF"}var Ub=Object.freeze({__proto__:null,get DocumentPosition(){return ir},append:rL,appendChild:nL,compareDocumentPosition:V6,existsOne:$6,filter:Pp,find:B6,findAll:oL,findOne:Bb,findOneChild:uL,getAttributeValue:Xj,getChildren:L6,getElementById:fL,getElements:lL,getElementsByTagName:ac,getElementsByTagType:dL,getFeed:$b,getInnerHTML:Wj,getName:Yj,getOuterHTML:j6,getParent:F6,getSiblings:Qj,getText:qd,hasAttrib:Kj,hasChildren:Xi,innerText:p1,isCDATA:Mp,isComment:Lb,isDocument:C6,isTag:Vn,isText:so,nextElementSibling:Zj,prepend:iL,prependChild:sL,prevElementSibling:eL,removeElement:Nf,removeSubsets:hL,replaceElement:tL,testElement:cL,textContent:mh,uniqueSort:pL});function H6(e,t){const n=new kl(void 0,t);return new Dp(n,t).end(e),n.root}function G6(e,t){return H6(e,t).children}function vL(e,t,n){const r=new kl(s=>e(s,r.root),t,n);return new Dp(r,t)}function xL(e,t,n){const r=new kl(e,t,n);return new Dp(r,t)}const SL={xmlMode:!0};function _L(e,t=SL){return $b(G6(e,t))}var AL=Object.freeze({__proto__:null,DefaultHandler:kl,DomHandler:kl,DomUtils:Ub,ElementType:Nj,Parser:Dp,get QuoteType(){return Lr},Tokenizer:m6,createDocumentStream:vL,createDomStream:xL,getFeed:$b,parseDOM:G6,parseDocument:H6,parseFeed:_L});const Ki=-1,ge=1,Mt=2,en=3,ai=4,ci=8,Du=9,Ta=10,ti=11,TL=new Set(["ARTICLE","ASIDE","BLOCKQUOTE","BODY","BR","BUTTON","CANVAS","CAPTION","COL","COLGROUP","DD","DIV","DL","DT","EMBED","FIELDSET","FIGCAPTION","FIGURE","FOOTER","FORM","H1","H2","H3","H4","H5","H6","LI","UL","OL","P"]),EL=-1,OL=1,IL=4,NL=8,RL=128,kL=1,lS=2,fS=4,CL=8,DL=16,ML=32,wh="http://www.w3.org/2000/svg",{assign:PL,create:jL,defineProperties:LL,entries:FL,getOwnPropertyDescriptors:uue,keys:BL,setPrototypeOf:bn}=Object,Qu=String,$n=e=>e.nodeType===ge?e[ee]:e,Yi=({ownerDocument:e})=>e[oc].ignoreCase,Vr=(e,t)=>{e[L]=t,t[Et]=e},J6=(e,t,n)=>{Vr(e,t),Vr($n(t),n)},$L=(e,t,n,r)=>{Vr(e,t),Vr($n(n),r)},jp=(e,t,n)=>{Vr(e,t),Vr(t,n)},g1=({localName:e,ownerDocument:t})=>t[oc].ignoreCase?e.toUpperCase():e,W6=(e,t)=>{e&&(e[L]=t),t&&(t[Et]=e)},Li=new WeakMap;let Lp=!1;const Wo=new WeakMap,io=new WeakMap,Fp=(e,t,n,r)=>{Lp&&io.has(e)&&e.attributeChangedCallback&&e.constructor.observedAttributes.includes(t)&&e.attributeChangedCallback(t,n,r)},Q6=(e,t)=>n=>{if(io.has(n)){const r=io.get(n);r.connected!==t&&n.isConnected===t&&(r.connected=t,e in n&&n[e]())}},dS=Q6("connectedCallback",!0),m1=e=>{if(Lp){dS(e),Li.has(e)&&(e=Li.get(e).shadowRoot);let{[L]:t,[ee]:n}=e;for(;t!==n;)t.nodeType===ge&&dS(t),t=t[L]}},hS=Q6("disconnectedCallback",!1),UL=e=>{if(Lp){hS(e),Li.has(e)&&(e=Li.get(e).shadowRoot);let{[L]:t,[ee]:n}=e;for(;t!==n;)t.nodeType===ge&&hS(t),t=t[L]}};class qL{constructor(t){this.ownerDocument=t,this.registry=new Map,this.waiting=new Map,this.active=!1}define(t,n,r={}){const{ownerDocument:s,registry:i,waiting:u}=this;if(i.has(t))throw new Error("unable to redefine "+t);if(Wo.has(n))throw new Error("unable to redefine the same class: "+n);this.active=Lp=!0;const{extends:o}=r;Wo.set(n,{ownerDocument:s,options:{is:o?t:""},localName:o||t});const a=o?c=>c.localName===o&&c.getAttribute("is")===t:c=>c.localName===t;if(i.set(t,{Class:n,check:a}),u.has(t)){for(const c of u.get(t))c(n);u.delete(t)}s.querySelectorAll(o?`${o}[is="${t}"]`:t).forEach(this.upgrade,this)}upgrade(t){if(io.has(t))return;const{ownerDocument:n,registry:r}=this,s=t.getAttribute("is")||t.localName;if(r.has(s)){const{Class:i,check:u}=r.get(s);if(u(t)){const{attributes:o,isConnected:a}=t;for(const l of o)t.removeAttributeNode(l);const c=FL(t);for(const[l]of c)delete t[l];bn(t,i.prototype),n[ll]={element:t,values:c},new i(n,s),io.set(t,{connected:a});for(const l of o)t.setAttributeNode(l);a&&t.connectedCallback&&t.connectedCallback()}}}whenDefined(t){const{registry:n,waiting:r}=this;return new Promise(s=>{n.has(t)?s(n.get(t).Class):(r.has(t)||r.set(t,[]),r.get(t).push(s))})}get(t){const n=this.registry.get(t);return n&&n.Class}getName(t){if(Wo.has(t)){const{localName:n}=Wo.get(t);return n}return null}}const{Parser:VL}=AL,_u=(e,t,n)=>{const r=e[ee];return t.parentNode=e,J6(r[Et],t,r),n&&t.nodeType===ge&&m1(t),t},zL=(e,t,n,r,s)=>{n[Re]=r,n.ownerElement=e,jp(t[Et],n,t),n.name==="class"&&(e.className=r),s&&Fp(e,n.name,null,r)},X6=(e,t,n)=>{const{active:r,registry:s}=e[Dr];let i=e,u=null,o=!1;const a=new VL({onprocessinginstruction(c,l){c.toLowerCase()==="!doctype"&&(e.doctype=l.slice(c.length).trim())},onopentag(c,l){let d=!0;if(t){if(u)i=_u(i,e.createElementNS(wh,c),r),i.ownerSVGElement=u,d=!1;else if(c==="svg"||c==="SVG")u=e.createElementNS(wh,c),i=_u(i,u,r),d=!1;else if(r){const f=c.includes("-")?c:l.is||"";if(f&&s.has(f)){const{Class:p}=s.get(f);i=_u(i,new p,r),delete l.is,d=!1}}}d&&(i=_u(i,e.createElement(c),!1));let h=i[ee];for(const f of BL(l))zL(i,h,e.createAttribute(f),l[f],r)},oncomment(c){_u(i,e.createComment(c),r)},ontext(c){o?_u(i,e.createCDATASection(c),r):_u(i,e.createTextNode(c),r)},oncdatastart(){o=!0},oncdataend(){o=!1},onclosetag(){t&&i===u&&(u=null),i=i.parentNode}},{lowerCaseAttributeNames:!1,decodeEntities:!0,xmlMode:!t});return a.write(n),a.end(),e},vh=new Map,xt=(e,t)=>{for(const n of[].concat(e))vh.set(n,t),vh.set(n.toUpperCase(),t)},HL=globalThis.performance,K6=({[L]:e,[ee]:t},n)=>{for(;e!==t;){switch(e.nodeType){case Mt:Y6(e,n);break;case en:case ci:case ai:Z6(e,n);break;case ge:tT(e,n),e=$n(e);break;case Ta:eT(e,n);break}e=e[L]}const r=n.length-1,s=n[r];typeof s=="number"&&s<0?n[r]+=Ki:n.push(Ki)},Y6=(e,t)=>{t.push(Mt,e.name);const n=e[Re].trim();n&&t.push(n)},Z6=(e,t)=>{const n=e[Re];n.trim()&&t.push(e.nodeType,n)},GL=(e,t)=>{t.push(e.nodeType),K6(e,t)},eT=({name:e,publicId:t,systemId:n},r)=>{r.push(Ta,e),t&&r.push(t),n&&r.push(n)},tT=(e,t)=>{t.push(ge,e.localName),K6(e,t)},nT=(e,t,n,r,s,i)=>({type:e,target:t,addedNodes:n,removedNodes:r,attributeName:s,oldValue:i}),pS=(e,t,n,r,s,i)=>{if(!r||r.includes(n)){const{callback:u,records:o,scheduled:a}=e;o.push(nT("attributes",t,[],[],n,s?i:void 0)),a||(e.scheduled=!0,Promise.resolve().then(()=>{e.scheduled=!1,u(o.splice(0),e)}))}},qb=(e,t,n)=>{const{ownerDocument:r}=e,{active:s,observers:i}=r[Mi];if(s){for(const u of i)for(const[o,{childList:a,subtree:c,attributes:l,attributeFilter:d,attributeOldValue:h}]of u.nodes)if(a){if(c&&(o===r||o.contains(e))||!c&&o.children.includes(e)){pS(u,e,t,d,h,n);break}}else if(l&&o===e){pS(u,e,t,d,h,n);break}}},fl=(e,t)=>{const{ownerDocument:n}=e,{active:r,observers:s}=n[Mi];if(r){for(const i of s)for(const[u,{subtree:o,childList:a,characterData:c}]of i.nodes)if(a&&(t&&(u===t||o&&u.contains(t))||!t&&(o&&(u===n||u.contains(e))||!o&&u[c?"childNodes":"children"].includes(e)))){const{callback:l,records:d,scheduled:h}=i;d.push(nT("childList",u,t?[]:[e],t?[e]:[])),h||(i.scheduled=!0,Promise.resolve().then(()=>{i.scheduled=!1,l(d.splice(0),i)}));break}}};class JL{constructor(t){const n=new Set;this.observers=n,this.active=!1,this.class=class{constructor(s){this.callback=s,this.nodes=new Map,this.records=[],this.scheduled=!1}disconnect(){this.records.splice(0),this.nodes.clear(),n.delete(this),t[Mi].active=!!n.size}observe(s,i={subtree:!1,childList:!1,attributes:!1,attributeFilter:null,attributeOldValue:!1,characterData:!1}){("attributeOldValue"in i||"attributeFilter"in i)&&(i.attributes=!0),i.childList=!!i.childList,i.subtree=!!i.subtree,this.nodes.set(s,i),n.add(this),t[Mi].active=!0}takeRecords(){return this.records.splice(0)}}}}const WL=new Set(["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","class","contenteditable","controls","default","defer","disabled","draggable","formnovalidate","hidden","id","ismap","itemscope","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected","style","truespeed"]),y1=(e,t)=>{const{[Re]:n,name:r}=t;t.ownerElement=e,jp(e,t,e[L]),r==="class"&&(e.className=n),qb(e,r,null),Fp(e,r,null,n)},gS=(e,t)=>{const{[Re]:n,name:r}=t;Vr(t[Et],t[L]),t.ownerElement=t[Et]=t[L]=null,r==="class"&&(e[$o]=null),qb(e,r,n),Fp(e,r,n,null)},xe={get(e,t){return e.hasAttribute(t)},set(e,t,n){n?e.setAttribute(t,""):e.removeAttribute(t)}},Fi={get(e,t){return parseFloat(e.getAttribute(t)||0)},set(e,t,n){e.setAttribute(t,n)}},D={get(e,t){return e.getAttribute(t)||""},set(e,t,n){e.setAttribute(t,n)}},Vd=new WeakMap;function QL(e,t){return typeof t=="function"?t.call(e.target,e):t.handleEvent(e),e._stopImmediatePropagationFlag}function XL({currentTarget:e,target:t}){const n=Vd.get(e);if(n&&n.has(this.type)){const r=n.get(this.type);e===t?this.eventPhase=this.AT_TARGET:this.eventPhase=this.BUBBLING_PHASE,this.currentTarget=e,this.target=t;for(const[s,i]of r)if(i&&i.once&&r.delete(s),QL(this,s))break;return delete this.currentTarget,delete this.target,this.cancelBubble}}class Vb{constructor(){Vd.set(this,new Map)}_getParent(){return null}addEventListener(t,n,r){const s=Vd.get(this);s.has(t)||s.set(t,new Map),s.get(t).set(n,r)}removeEventListener(t,n){const r=Vd.get(this);if(r.has(t)){const s=r.get(t);s.delete(n)&&!s.size&&r.delete(t)}}dispatchEvent(t){let n=this;for(t.eventPhase=t.CAPTURING_PHASE;n;)n.dispatchEvent&&t._path.push({currentTarget:n,target:this}),n=t.bubbles&&n._getParent&&n._getParent();return t._path.some(XL,t),t._path=[],t.eventPhase=t.NONE,!t.defaultPrevented}}class ds extends Array{item(t){return t<this.length?this[t]:null}}const mS=({parentNode:e})=>{let t=0;for(;e;)t++,e=e.parentNode;return t};let So=class extends Vb{static get ELEMENT_NODE(){return ge}static get ATTRIBUTE_NODE(){return Mt}static get TEXT_NODE(){return en}static get CDATA_SECTION_NODE(){return ai}static get COMMENT_NODE(){return ci}static get DOCUMENT_NODE(){return Du}static get DOCUMENT_FRAGMENT_NODE(){return ti}static get DOCUMENT_TYPE_NODE(){return Ta}constructor(t,n,r){super(),this.ownerDocument=t,this.localName=n,this.nodeType=r,this.parentNode=null,this[L]=null,this[Et]=null}get ELEMENT_NODE(){return ge}get ATTRIBUTE_NODE(){return Mt}get TEXT_NODE(){return en}get CDATA_SECTION_NODE(){return ai}get COMMENT_NODE(){return ci}get DOCUMENT_NODE(){return Du}get DOCUMENT_FRAGMENT_NODE(){return ti}get DOCUMENT_TYPE_NODE(){return Ta}get baseURI(){const t=this.nodeType===Du?this:this.ownerDocument;if(t){const n=t.querySelector("base");if(n)return n.getAttribute("href");const{location:r}=t.defaultView;if(r)return r.href}return null}get isConnected(){return!1}get nodeName(){return this.localName}get parentElement(){return null}get previousSibling(){return null}get previousElementSibling(){return null}get nextSibling(){return null}get nextElementSibling(){return null}get childNodes(){return new ds}get firstChild(){return null}get lastChild(){return null}get nodeValue(){return null}set nodeValue(t){}get textContent(){return null}set textContent(t){}normalize(){}cloneNode(){return null}contains(){return!1}insertBefore(t,n){return t}appendChild(t){return t}replaceChild(t,n){return n}removeChild(t){return t}toString(){return""}hasChildNodes(){return!!this.lastChild}isSameNode(t){return this===t}compareDocumentPosition(t){let n=0;if(this!==t){let r=mS(this),s=mS(t);if(r<s)n+=fS,this.contains(t)&&(n+=DL);else if(s<r)n+=lS,t.contains(this)&&(n+=CL);else if(r&&s){const{childNodes:i}=this.parentNode;i.indexOf(this)<i.indexOf(t)?n+=fS:n+=lS}(!r||!s)&&(n+=ML,n+=kL)}return n}isEqualNode(t){if(this===t)return!0;if(this.nodeType===t.nodeType){switch(this.nodeType){case Du:case ti:{const n=this.childNodes,r=t.childNodes;return n.length===r.length&&n.every((s,i)=>s.isEqualNode(r[i]))}}return this.toString()===t.toString()}return!1}_getParent(){return this.parentNode}getRootNode(){let t=this;for(;t.parentNode;)t=t.parentNode;return t}};const{replace:KL}="",YL=/[<>&\xA0]/g,ZL={" ":"&#160;","&":"&amp;","<":"&lt;",">":"&gt;"},eF=e=>ZL[e],zb=e=>KL.call(e,YL,eF),tF=/"/g;let Rf=class rT extends So{constructor(t,n,r=""){super(t,n,Mt),this.ownerElement=null,this.name=Qu(n),this[Re]=Qu(r),this[gh]=!1}get value(){return this[Re]}set value(t){const{[Re]:n,name:r,ownerElement:s}=this;this[Re]=Qu(t),this[gh]=!0,s&&(qb(s,r,n),Fp(s,r,n,this[Re]))}cloneNode(){const{ownerDocument:t,name:n,[Re]:r}=this;return new rT(t,n,r)}toString(){const{name:t,[Re]:n}=this;if(WL.has(t)&&!n)return Yi(this)?t:`${t}=""`;const r=(Yi(this)?n:zb(n)).replace(tF,"&quot;");return`${t}="${r}"`}toJSON(){const t=[];return Y6(this,t),t}};const sT=({ownerDocument:e,parentNode:t})=>{for(;t;){if(t===e)return!0;t=t.parentNode||t.host}return!1},iT=({parentNode:e})=>{if(e)switch(e.nodeType){case Du:case ti:return null}return e},Cl=({[Et]:e})=>{switch(e?e.nodeType:0){case Ki:return e[Sn];case en:case ci:case ai:return e}return null},Xu=e=>{const t=$n(e)[L];return t&&(t.nodeType===Ki?null:t)},Hb=e=>{let t=Xu(e);for(;t&&t.nodeType!==ge;)t=Xu(t);return t},uT=e=>{let t=Cl(e);for(;t&&t.nodeType!==ge;)t=Cl(t);return t},Gb=(e,t)=>{const n=e.createDocumentFragment();return n.append(...t),n},oT=(e,t)=>{const{ownerDocument:n,parentNode:r}=e;r&&r.insertBefore(Gb(n,t),e)},aT=(e,t)=>{const{ownerDocument:n,parentNode:r}=e;r&&r.insertBefore(Gb(n,t),$n(e)[L])},Jb=(e,t)=>{const{ownerDocument:n,parentNode:r}=e;r&&(t.includes(e)&&Jb(e,[e=e.cloneNode()]),r.insertBefore(Gb(n,t),e),e.remove())},cT=(e,t,n)=>{const{parentNode:r,nodeType:s}=t;(e||n)&&(W6(e,n),t[Et]=null,$n(t)[L]=null),r&&(t.parentNode=null,fl(t,r),s===ge&&UL(t))};let kf=class extends So{constructor(t,n,r,s){super(t,n,r),this[Re]=Qu(s)}get isConnected(){return sT(this)}get parentElement(){return iT(this)}get previousSibling(){return Cl(this)}get nextSibling(){return Xu(this)}get previousElementSibling(){return uT(this)}get nextElementSibling(){return Hb(this)}before(...t){oT(this,t)}after(...t){aT(this,t)}replaceWith(...t){Jb(this,t)}remove(){cT(this[Et],this,this[L])}get data(){return this[Re]}set data(t){this[Re]=Qu(t),fl(this,this.parentNode)}get nodeValue(){return this.data}set nodeValue(t){this.data=t}get textContent(){return this.data}set textContent(t){this.data=t}get length(){return this.data.length}substringData(t,n){return this.data.substr(t,n)}appendData(t){this.data+=t}insertData(t,n){const{data:r}=this;this.data=r.slice(0,t)+n+r.slice(t)}deleteData(t,n){const{data:r}=this;this.data=r.slice(0,t)+r.slice(t+n)}replaceData(t,n,r){const{data:s}=this;this.data=s.slice(0,t)+r+s.slice(t+n)}toJSON(){const t=[];return Z6(this,t),t}},Wb=class lT extends kf{constructor(t,n=""){super(t,"#cdatasection",ai,n)}cloneNode(){const{ownerDocument:t,[Re]:n}=this;return new lT(t,n)}toString(){return`<![CDATA[${this[Re]}]]>`}},Qb=class fT extends kf{constructor(t,n=""){super(t,"#comment",ci,n)}cloneNode(){const{ownerDocument:t,[Re]:n}=this;return new fT(t,n)}toString(){return`<!--${this[Re]}-->`}};function nF(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var rF={trueFunc:function(){return!0},falseFunc:function(){return!1}},le=nF(rF),re;(function(e){e.Attribute="attribute",e.Pseudo="pseudo",e.PseudoElement="pseudo-element",e.Tag="tag",e.Universal="universal",e.Adjacent="adjacent",e.Child="child",e.Descendant="descendant",e.Parent="parent",e.Sibling="sibling",e.ColumnCombinator="column-combinator"})(re||(re={}));var yt;(function(e){e.Any="any",e.Element="element",e.End="end",e.Equals="equals",e.Exists="exists",e.Hyphen="hyphen",e.Not="not",e.Start="start"})(yt||(yt={}));const yS=/^[^\\#]?(?:\\(?:[\da-f]{1,6}\s?|.)|[\w\-\u00b0-\uFFFF])+/,sF=/\\([\da-f]{1,6}\s?|(\s)|.)/gi,iF=new Map([[126,yt.Element],[94,yt.Start],[36,yt.End],[42,yt.Any],[33,yt.Not],[124,yt.Hyphen]]),uF=new Set(["has","not","matches","is","where","host","host-context"]);function oF(e){switch(e.type){case re.Adjacent:case re.Child:case re.Descendant:case re.Parent:case re.Sibling:case re.ColumnCombinator:return!0;default:return!1}}const aF=new Set(["contains","icontains"]);function cF(e,t,n){const r=parseInt(t,16)-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,r&1023|56320)}function Dc(e){return e.replace(sF,cF)}function Vg(e){return e===39||e===34}function bS(e){return e===32||e===9||e===10||e===12||e===13}function dT(e){const t=[],n=hT(t,`${e}`,0);if(n<e.length)throw new Error(`Unmatched selector: ${e.slice(n)}`);return t}function hT(e,t,n){let r=[];function s(h){const f=t.slice(n+h).match(yS);if(!f)throw new Error(`Expected name, found ${t.slice(n)}`);const[p]=f;return n+=h+p.length,Dc(p)}function i(h){for(n+=h;n<t.length&&bS(t.charCodeAt(n));)n++}function u(){n+=1;const h=n;let f=1;for(;f>0&&n<t.length;n++)t.charCodeAt(n)===40&&!o(n)?f++:t.charCodeAt(n)===41&&!o(n)&&f--;if(f)throw new Error("Parenthesis not matched");return Dc(t.slice(h,n-1))}function o(h){let f=0;for(;t.charCodeAt(--h)===92;)f++;return(f&1)===1}function a(){if(r.length>0&&oF(r[r.length-1]))throw new Error("Did not expect successive traversals.")}function c(h){if(r.length>0&&r[r.length-1].type===re.Descendant){r[r.length-1].type=h;return}a(),r.push({type:h})}function l(h,f){r.push({type:re.Attribute,name:h,action:f,value:s(1),namespace:null,ignoreCase:"quirks"})}function d(){if(r.length&&r[r.length-1].type===re.Descendant&&r.pop(),r.length===0)throw new Error("Empty sub-selector");e.push(r)}if(i(0),t.length===n)return n;e:for(;n<t.length;){const h=t.charCodeAt(n);switch(h){case 32:case 9:case 10:case 12:case 13:{(r.length===0||r[0].type!==re.Descendant)&&(a(),r.push({type:re.Descendant})),i(1);break}case 62:{c(re.Child),i(1);break}case 60:{c(re.Parent),i(1);break}case 126:{c(re.Sibling),i(1);break}case 43:{c(re.Adjacent),i(1);break}case 46:{l("class",yt.Element);break}case 35:{l("id",yt.Equals);break}case 91:{i(1);let f,p=null;t.charCodeAt(n)===124?f=s(1):t.startsWith("*|",n)?(p="*",f=s(2)):(f=s(0),t.charCodeAt(n)===124&&t.charCodeAt(n+1)!==61&&(p=f,f=s(1))),i(0);let m=yt.Exists;const y=iF.get(t.charCodeAt(n));if(y){if(m=y,t.charCodeAt(n+1)!==61)throw new Error("Expected `=`");i(2)}else t.charCodeAt(n)===61&&(m=yt.Equals,i(1));let b="",w=null;if(m!=="exists"){if(Vg(t.charCodeAt(n))){const A=t.charCodeAt(n);let T=n+1;for(;T<t.length&&(t.charCodeAt(T)!==A||o(T));)T+=1;if(t.charCodeAt(T)!==A)throw new Error("Attribute value didn't end");b=Dc(t.slice(n+1,T)),n=T+1}else{const A=n;for(;n<t.length&&(!bS(t.charCodeAt(n))&&t.charCodeAt(n)!==93||o(n));)n+=1;b=Dc(t.slice(A,n))}i(0);const v=t.charCodeAt(n)|32;v===115?(w=!1,i(1)):v===105&&(w=!0,i(1))}if(t.charCodeAt(n)!==93)throw new Error("Attribute selector didn't terminate");n+=1;const x={type:re.Attribute,name:f,action:m,value:b,namespace:p,ignoreCase:w};r.push(x);break}case 58:{if(t.charCodeAt(n+1)===58){r.push({type:re.PseudoElement,name:s(2).toLowerCase(),data:t.charCodeAt(n)===40?u():null});continue}const f=s(1).toLowerCase();let p=null;if(t.charCodeAt(n)===40)if(uF.has(f)){if(Vg(t.charCodeAt(n+1)))throw new Error(`Pseudo-selector ${f} cannot be quoted`);if(p=[],n=hT(p,t,n+1),t.charCodeAt(n)!==41)throw new Error(`Missing closing parenthesis in :${f} (${t})`);n+=1}else{if(p=u(),aF.has(f)){const m=p.charCodeAt(0);m===p.charCodeAt(p.length-1)&&Vg(m)&&(p=p.slice(1,-1))}p=Dc(p)}r.push({type:re.Pseudo,name:f,data:p});break}case 44:{d(),r=[],i(1);break}default:{if(t.startsWith("/*",n)){const m=t.indexOf("*/",n+2);if(m<0)throw new Error("Comment was not terminated");n=m+2,r.length===0&&i(0);break}let f=null,p;if(h===42)n+=1,p="*";else if(h===124){if(p="",t.charCodeAt(n+1)===124){c(re.ColumnCombinator),i(2);break}}else if(yS.test(t.slice(n)))p=s(0);else break e;t.charCodeAt(n)===124&&t.charCodeAt(n+1)!==124&&(f=p,t.charCodeAt(n+1)===42?(p="*",n+=2):p=s(1)),r.push(p==="*"?{type:re.Universal,namespace:f}:{type:re.Tag,name:p,namespace:f})}}}return d(),n}const pT=new Map([[re.Universal,50],[re.Tag,30],[re.Attribute,1],[re.Pseudo,0]]);function Xb(e){return!pT.has(e.type)}const lF=new Map([[yt.Exists,10],[yt.Equals,8],[yt.Not,7],[yt.Start,6],[yt.End,6],[yt.Any,5]]);function fF(e){const t=e.map(gT);for(let n=1;n<e.length;n++){const r=t[n];if(!(r<0))for(let s=n-1;s>=0&&r<t[s];s--){const i=e[s+1];e[s+1]=e[s],e[s]=i,t[s+1]=t[s],t[s]=r}}}function gT(e){var t,n;let r=(t=pT.get(e.type))!==null&&t!==void 0?t:-1;return e.type===re.Attribute?(r=(n=lF.get(e.action))!==null&&n!==void 0?n:4,e.action===yt.Equals&&e.name==="id"&&(r=9),e.ignoreCase&&(r>>=1)):e.type===re.Pseudo&&(e.data?e.name==="has"||e.name==="contains"?r=0:Array.isArray(e.data)?(r=Math.min(...e.data.map(s=>Math.min(...s.map(gT)))),r<0&&(r=0)):r=2:r=3),r}const dF=/[-[\]{}()*+?.,\\^$|#\s]/g;function wS(e){return e.replace(dF,"\\$&")}const hF=new Set(["accept","accept-charset","align","alink","axis","bgcolor","charset","checked","clear","codetype","color","compact","declare","defer","dir","direction","disabled","enctype","face","frame","hreflang","http-equiv","lang","language","link","media","method","multiple","nohref","noresize","noshade","nowrap","readonly","rel","rev","rules","scope","scrolling","selected","shape","target","text","type","valign","valuetype","vlink"]);function Au(e,t){return typeof e.ignoreCase=="boolean"?e.ignoreCase:e.ignoreCase==="quirks"?!!t.quirksMode:!t.xmlMode&&hF.has(e.name)}const pF={equals(e,t,n){const{adapter:r}=n,{name:s}=t;let{value:i}=t;return Au(t,n)?(i=i.toLowerCase(),u=>{const o=r.getAttributeValue(u,s);return o!=null&&o.length===i.length&&o.toLowerCase()===i&&e(u)}):u=>r.getAttributeValue(u,s)===i&&e(u)},hyphen(e,t,n){const{adapter:r}=n,{name:s}=t;let{value:i}=t;const u=i.length;return Au(t,n)?(i=i.toLowerCase(),function(a){const c=r.getAttributeValue(a,s);return c!=null&&(c.length===u||c.charAt(u)==="-")&&c.substr(0,u).toLowerCase()===i&&e(a)}):function(a){const c=r.getAttributeValue(a,s);return c!=null&&(c.length===u||c.charAt(u)==="-")&&c.substr(0,u)===i&&e(a)}},element(e,t,n){const{adapter:r}=n,{name:s,value:i}=t;if(/\s/.test(i))return le.falseFunc;const u=new RegExp(`(?:^|\\s)${wS(i)}(?:$|\\s)`,Au(t,n)?"i":"");return function(a){const c=r.getAttributeValue(a,s);return c!=null&&c.length>=i.length&&u.test(c)&&e(a)}},exists(e,{name:t},{adapter:n}){return r=>n.hasAttrib(r,t)&&e(r)},start(e,t,n){const{adapter:r}=n,{name:s}=t;let{value:i}=t;const u=i.length;return u===0?le.falseFunc:Au(t,n)?(i=i.toLowerCase(),o=>{const a=r.getAttributeValue(o,s);return a!=null&&a.length>=u&&a.substr(0,u).toLowerCase()===i&&e(o)}):o=>{var a;return!!(!((a=r.getAttributeValue(o,s))===null||a===void 0)&&a.startsWith(i))&&e(o)}},end(e,t,n){const{adapter:r}=n,{name:s}=t;let{value:i}=t;const u=-i.length;return u===0?le.falseFunc:Au(t,n)?(i=i.toLowerCase(),o=>{var a;return((a=r.getAttributeValue(o,s))===null||a===void 0?void 0:a.substr(u).toLowerCase())===i&&e(o)}):o=>{var a;return!!(!((a=r.getAttributeValue(o,s))===null||a===void 0)&&a.endsWith(i))&&e(o)}},any(e,t,n){const{adapter:r}=n,{name:s,value:i}=t;if(i==="")return le.falseFunc;if(Au(t,n)){const u=new RegExp(wS(i),"i");return function(a){const c=r.getAttributeValue(a,s);return c!=null&&c.length>=i.length&&u.test(c)&&e(a)}}return u=>{var o;return!!(!((o=r.getAttributeValue(u,s))===null||o===void 0)&&o.includes(i))&&e(u)}},not(e,t,n){const{adapter:r}=n,{name:s}=t;let{value:i}=t;return i===""?u=>!!r.getAttributeValue(u,s)&&e(u):Au(t,n)?(i=i.toLowerCase(),u=>{const o=r.getAttributeValue(u,s);return(o==null||o.length!==i.length||o.toLowerCase()!==i)&&e(u)}):u=>r.getAttributeValue(u,s)!==i&&e(u)}},gF=new Set([9,10,12,13,32]),vS=48,mF=57;function yF(e){if(e=e.trim().toLowerCase(),e==="even")return[2,0];if(e==="odd")return[2,1];let t=0,n=0,r=i(),s=u();if(t<e.length&&e.charAt(t)==="n"&&(t++,n=r*(s??1),o(),t<e.length?(r=i(),o(),s=u()):r=s=0),s===null||t<e.length)throw new Error(`n-th rule couldn't be parsed ('${e}')`);return[n,r*s];function i(){return e.charAt(t)==="-"?(t++,-1):(e.charAt(t)==="+"&&t++,1)}function u(){const a=t;let c=0;for(;t<e.length&&e.charCodeAt(t)>=vS&&e.charCodeAt(t)<=mF;)c=c*10+(e.charCodeAt(t)-vS),t++;return t===a?null:c}function o(){for(;t<e.length&&gF.has(e.charCodeAt(t));)t++}}function bF(e){const t=e[0],n=e[1]-1;if(n<0&&t<=0)return le.falseFunc;if(t===-1)return i=>i<=n;if(t===0)return i=>i===n;if(t===1)return n<0?le.trueFunc:i=>i>=n;const r=Math.abs(t),s=(n%r+r)%r;return t>1?i=>i>=n&&i%r===s:i=>i<=n&&i%r===s}function pd(e){return bF(yF(e))}function gd(e,t){return n=>{const r=t.getParent(n);return r!=null&&t.isTag(r)&&e(n)}}const b1={contains(e,t,{adapter:n}){return function(s){return e(s)&&n.getText(s).includes(t)}},icontains(e,t,{adapter:n}){const r=t.toLowerCase();return function(i){return e(i)&&n.getText(i).toLowerCase().includes(r)}},"nth-child"(e,t,{adapter:n,equals:r}){const s=pd(t);return s===le.falseFunc?le.falseFunc:s===le.trueFunc?gd(e,n):function(u){const o=n.getSiblings(u);let a=0;for(let c=0;c<o.length&&!r(u,o[c]);c++)n.isTag(o[c])&&a++;return s(a)&&e(u)}},"nth-last-child"(e,t,{adapter:n,equals:r}){const s=pd(t);return s===le.falseFunc?le.falseFunc:s===le.trueFunc?gd(e,n):function(u){const o=n.getSiblings(u);let a=0;for(let c=o.length-1;c>=0&&!r(u,o[c]);c--)n.isTag(o[c])&&a++;return s(a)&&e(u)}},"nth-of-type"(e,t,{adapter:n,equals:r}){const s=pd(t);return s===le.falseFunc?le.falseFunc:s===le.trueFunc?gd(e,n):function(u){const o=n.getSiblings(u);let a=0;for(let c=0;c<o.length;c++){const l=o[c];if(r(u,l))break;n.isTag(l)&&n.getName(l)===n.getName(u)&&a++}return s(a)&&e(u)}},"nth-last-of-type"(e,t,{adapter:n,equals:r}){const s=pd(t);return s===le.falseFunc?le.falseFunc:s===le.trueFunc?gd(e,n):function(u){const o=n.getSiblings(u);let a=0;for(let c=o.length-1;c>=0;c--){const l=o[c];if(r(u,l))break;n.isTag(l)&&n.getName(l)===n.getName(u)&&a++}return s(a)&&e(u)}},root(e,t,{adapter:n}){return r=>{const s=n.getParent(r);return(s==null||!n.isTag(s))&&e(r)}},scope(e,t,n,r){const{equals:s}=n;return!r||r.length===0?b1.root(e,t,n):r.length===1?i=>s(r[0],i)&&e(i):i=>r.includes(i)&&e(i)},hover:zg("isHovered"),visited:zg("isVisited"),active:zg("isActive")};function zg(e){return function(n,r,{adapter:s}){const i=s[e];return typeof i!="function"?le.falseFunc:function(o){return i(o)&&n(o)}}}const xS={empty(e,{adapter:t}){return!t.getChildren(e).some(n=>t.isTag(n)||t.getText(n)!=="")},"first-child"(e,{adapter:t,equals:n}){if(t.prevElementSibling)return t.prevElementSibling(e)==null;const r=t.getSiblings(e).find(s=>t.isTag(s));return r!=null&&n(e,r)},"last-child"(e,{adapter:t,equals:n}){const r=t.getSiblings(e);for(let s=r.length-1;s>=0;s--){if(n(e,r[s]))return!0;if(t.isTag(r[s]))break}return!1},"first-of-type"(e,{adapter:t,equals:n}){const r=t.getSiblings(e),s=t.getName(e);for(let i=0;i<r.length;i++){const u=r[i];if(n(e,u))return!0;if(t.isTag(u)&&t.getName(u)===s)break}return!1},"last-of-type"(e,{adapter:t,equals:n}){const r=t.getSiblings(e),s=t.getName(e);for(let i=r.length-1;i>=0;i--){const u=r[i];if(n(e,u))return!0;if(t.isTag(u)&&t.getName(u)===s)break}return!1},"only-of-type"(e,{adapter:t,equals:n}){const r=t.getName(e);return t.getSiblings(e).every(s=>n(e,s)||!t.isTag(s)||t.getName(s)!==r)},"only-child"(e,{adapter:t,equals:n}){return t.getSiblings(e).every(r=>n(e,r)||!t.isTag(r))}};function SS(e,t,n,r){if(n===null){if(e.length>r)throw new Error(`Pseudo-class :${t} requires an argument`)}else if(e.length===r)throw new Error(`Pseudo-class :${t} doesn't have any arguments`)}const wF={"any-link":":is(a, area, link)[href]",link:":any-link:not(:visited)",disabled:`:is(
        :is(button, input, select, textarea, optgroup, option)[disabled],
        optgroup[disabled] > option,
        fieldset[disabled]:not(fieldset[disabled] legend:first-of-type *)
    )`,enabled:":not(:disabled)",checked:":is(:is(input[type=radio], input[type=checkbox])[checked], option:selected)",required:":is(input, select, textarea)[required]",optional:":is(input, select, textarea):not([required])",selected:"option:is([selected], select:not([multiple]):not(:has(> option[selected])) > :first-of-type)",checkbox:"[type=checkbox]",file:"[type=file]",password:"[type=password]",radio:"[type=radio]",reset:"[type=reset]",image:"[type=image]",submit:"[type=submit]",parent:":not(:empty)",header:":is(h1, h2, h3, h4, h5, h6)",button:":is(button, input[type=button])",input:":is(input, textarea, select, button)",text:"input:is(:not([type!='']), [type=text])"},mT={};function yT(e,t){return e===le.falseFunc?le.falseFunc:n=>t.isTag(n)&&e(n)}function vF(e,t){const n=t.getSiblings(e);if(n.length<=1)return[];const r=n.indexOf(e);return r<0||r===n.length-1?[]:n.slice(r+1).filter(t.isTag)}function w1(e){return{xmlMode:!!e.xmlMode,lowerCaseAttributeNames:!!e.lowerCaseAttributeNames,lowerCaseTags:!!e.lowerCaseTags,quirksMode:!!e.quirksMode,cacheResults:!!e.cacheResults,pseudos:e.pseudos,adapter:e.adapter,equals:e.equals}}const Hg=(e,t,n,r,s)=>{const i=s(t,w1(n),r);return i===le.trueFunc?e:i===le.falseFunc?le.falseFunc:u=>i(u)&&e(u)},Gg={is:Hg,matches:Hg,where:Hg,not(e,t,n,r,s){const i=s(t,w1(n),r);return i===le.falseFunc?e:i===le.trueFunc?le.falseFunc:u=>!i(u)&&e(u)},has(e,t,n,r,s){const{adapter:i}=n,u=w1(n);u.relativeSelector=!0;const o=t.some(l=>l.some(Xb))?[mT]:void 0,a=s(t,u,o);if(a===le.falseFunc)return le.falseFunc;const c=yT(a,i);if(o&&a!==le.trueFunc){const{shouldTestNextSiblings:l=!1}=a;return d=>{if(!e(d))return!1;o[0]=d;const h=i.getChildren(d),f=l?[...h,...vF(d,i)]:h;return i.existsOne(c,f)}}return l=>e(l)&&i.existsOne(c,i.getChildren(l))}};function xF(e,t,n,r,s){var i;const{name:u,data:o}=t;if(Array.isArray(o)){if(!(u in Gg))throw new Error(`Unknown pseudo-class :${u}(${o})`);return Gg[u](e,o,n,r,s)}const a=(i=n.pseudos)===null||i===void 0?void 0:i[u],c=typeof a=="string"?a:wF[u];if(typeof c=="string"){if(o!=null)throw new Error(`Pseudo ${u} doesn't have any arguments`);const l=dT(c);return Gg.is(e,l,n,r,s)}if(typeof a=="function")return SS(a,u,o,1),l=>a(l,o)&&e(l);if(u in b1)return b1[u](e,o,n,r);if(u in xS){const l=xS[u];return SS(l,u,o,2),d=>l(d,n,o)&&e(d)}throw new Error(`Unknown pseudo-class :${u}`)}function Jg(e,t){const n=t.getParent(e);return n&&t.isTag(n)?n:null}function SF(e,t,n,r,s){const{adapter:i,equals:u}=n;switch(t.type){case re.PseudoElement:throw new Error("Pseudo-elements are not supported by css-select");case re.ColumnCombinator:throw new Error("Column combinators are not yet supported by css-select");case re.Attribute:{if(t.namespace!=null)throw new Error("Namespaced attributes are not yet supported by css-select");return(!n.xmlMode||n.lowerCaseAttributeNames)&&(t.name=t.name.toLowerCase()),pF[t.action](e,t,n)}case re.Pseudo:return xF(e,t,n,r,s);case re.Tag:{if(t.namespace!=null)throw new Error("Namespaced tag names are not yet supported by css-select");let{name:o}=t;return(!n.xmlMode||n.lowerCaseTags)&&(o=o.toLowerCase()),function(c){return i.getName(c)===o&&e(c)}}case re.Descendant:{if(n.cacheResults===!1||typeof WeakSet>"u")return function(c){let l=c;for(;l=Jg(l,i);)if(e(l))return!0;return!1};const o=new WeakSet;return function(c){let l=c;for(;l=Jg(l,i);)if(!o.has(l)){if(i.isTag(l)&&e(l))return!0;o.add(l)}return!1}}case"_flexibleDescendant":return function(a){let c=a;do if(e(c))return!0;while(c=Jg(c,i));return!1};case re.Parent:return function(a){return i.getChildren(a).some(c=>i.isTag(c)&&e(c))};case re.Child:return function(a){const c=i.getParent(a);return c!=null&&i.isTag(c)&&e(c)};case re.Sibling:return function(a){const c=i.getSiblings(a);for(let l=0;l<c.length;l++){const d=c[l];if(u(a,d))break;if(i.isTag(d)&&e(d))return!0}return!1};case re.Adjacent:return i.prevElementSibling?function(a){const c=i.prevElementSibling(a);return c!=null&&e(c)}:function(a){const c=i.getSiblings(a);let l;for(let d=0;d<c.length;d++){const h=c[d];if(u(a,h))break;i.isTag(h)&&(l=h)}return!!l&&e(l)};case re.Universal:{if(t.namespace!=null&&t.namespace!=="*")throw new Error("Namespaced universal selectors are not yet supported by css-select");return e}}}function bT(e,t,n){const r=_F(e,t,n);return yT(r,t.adapter)}function _F(e,t,n){const r=typeof e=="string"?dT(e):e;return vT(r,t,n)}function wT(e){return e.type===re.Pseudo&&(e.name==="scope"||Array.isArray(e.data)&&e.data.some(t=>t.some(wT)))}const AF={type:re.Descendant},TF={type:"_flexibleDescendant"},EF={type:re.Pseudo,name:"scope",data:null};function OF(e,{adapter:t},n){const r=!!(n!=null&&n.every(s=>{const i=t.isTag(s)&&t.getParent(s);return s===mT||i&&t.isTag(i)}));for(const s of e){if(!(s.length>0&&Xb(s[0])&&s[0].type!==re.Descendant))if(r&&!s.some(wT))s.unshift(AF);else continue;s.unshift(EF)}}function vT(e,t,n){var r;e.forEach(fF),n=(r=t.context)!==null&&r!==void 0?r:n;const s=Array.isArray(n),i=n&&(Array.isArray(n)?n:[n]);if(t.relativeSelector!==!1)OF(e,t,i);else if(e.some(a=>a.length>0&&Xb(a[0])))throw new Error("Relative selectors are not allowed when the `relativeSelector` option is disabled");let u=!1;const o=e.map(a=>{if(a.length>=2){const[c,l]=a;c.type!==re.Pseudo||c.name!=="scope"||(s&&l.type===re.Descendant?a[1]=TF:(l.type===re.Adjacent||l.type===re.Sibling)&&(u=!0))}return IF(a,t,i)}).reduce(NF,le.falseFunc);return o.shouldTestNextSiblings=u,o}function IF(e,t,n){var r;return e.reduce((s,i)=>s===le.falseFunc?le.falseFunc:SF(s,i,t,n,vT),(r=t.rootFunc)!==null&&r!==void 0?r:le.trueFunc)}function NF(e,t){return t===le.falseFunc||e===le.trueFunc?e:e===le.falseFunc||t===le.trueFunc?t:function(r){return e(r)||t(r)}}const xT=(e,t)=>e===t,RF={adapter:Ub,equals:xT};function ST(e){var t,n,r,s;const i=e??RF;return(t=i.adapter)!==null&&t!==void 0||(i.adapter=Ub),(n=i.equals)!==null&&n!==void 0||(i.equals=(s=(r=i.adapter)===null||r===void 0?void 0:r.equals)!==null&&s!==void 0?s:xT),i}function kF(e){return function(n,r,s){const i=ST(r);return e(n,i,s)}}const CF=kF(bT);function DF(e,t,n){const r=ST(n);return(typeof t=="function"?t:bT(t,r))(e)}const{isArray:MF}=Array,Bp=({nodeType:e})=>e===ge,_T=(e,t)=>t.some(n=>Bp(n)&&(e(n)||_T(e,cc(n)))),PF=(e,t)=>t==="class"?e.classList.value:e.getAttribute(t),cc=({childNodes:e})=>e,jF=e=>{const{localName:t}=e;return Yi(e)?t.toLowerCase():t},LF=({parentNode:e})=>e,FF=e=>{const{parentNode:t}=e;return t?cc(t):e},v1=e=>MF(e)?e.map(v1).join(""):Bp(e)?v1(cc(e)):e.nodeType===en?e.data:"",BF=(e,t)=>e.hasAttribute(t),$F=e=>{let{length:t}=e;for(;t--;){const n=e[t];if(t&&-1<e.lastIndexOf(n,t-1)){e.splice(t,1);continue}for(let{parentNode:r}=n;r;r=r.parentNode)if(e.includes(r)){e.splice(t,1);break}}return e},AT=(e,t)=>{const n=[];for(const r of t)Bp(r)&&(e(r)&&n.push(r),n.push(...AT(e,cc(r))));return n},TT=(e,t)=>{for(let n of t)if(e(n)||(n=TT(e,cc(n))))return n;return null},ET={isTag:Bp,existsOne:_T,getAttributeValue:PF,getChildren:cc,getName:jF,getParent:LF,getSiblings:FF,getText:v1,hasAttrib:BF,removeSubsets:$F,findAll:AT,findOne:TT},x1=(e,t)=>CF(t,{context:t.includes(":scope")?e:void 0,xmlMode:!Yi(e),adapter:ET}),UF=(e,t)=>DF(e,t,{strict:!0,context:t.includes(":scope")?e:void 0,xmlMode:!Yi(e),adapter:ET});let Cf=class OT extends kf{constructor(t,n=""){super(t,"#text",en,n)}get wholeText(){const t=[];let{previousSibling:n,nextSibling:r}=this;for(;n&&n.nodeType===en;){t.unshift(n[Re]);n=n.previousSibling}for(t.push(this[Re]);r&&r.nodeType===en;){t.push(r[Re]);r=r.nextSibling}return t.join("")}cloneNode(){const{ownerDocument:t,[Re]:n}=this;return new OT(t,n)}toString(){return zb(this[Re])}};const qF=e=>e instanceof So,Wg=(e,t,n)=>{const{ownerDocument:r}=e;for(const s of n)e.insertBefore(qF(s)?s:new Cf(r,s),t)};class IT extends So{constructor(t,n,r){super(t,n,r),this[Qt]=null,this[L]=this[ee]={[L]:null,[Et]:this,[Sn]:this,nodeType:Ki,ownerDocument:this.ownerDocument,parentNode:null}}get childNodes(){const t=new ds;let{firstChild:n}=this;for(;n;)t.push(n),n=Xu(n);return t}get children(){const t=new ds;let{firstElementChild:n}=this;for(;n;)t.push(n),n=Hb(n);return t}get firstChild(){let{[L]:t,[ee]:n}=this;for(;t.nodeType===Mt;)t=t[L];return t===n?null:t}get firstElementChild(){let{firstChild:t}=this;for(;t;){if(t.nodeType===ge)return t;t=Xu(t)}return null}get lastChild(){const t=this[ee][Et];switch(t.nodeType){case Ki:return t[Sn];case Mt:return null}return t===this?null:t}get lastElementChild(){let{lastChild:t}=this;for(;t;){if(t.nodeType===ge)return t;t=Cl(t)}return null}get childElementCount(){return this.children.length}prepend(...t){Wg(this,this.firstChild,t)}append(...t){Wg(this,this[ee],t)}replaceChildren(...t){let{[L]:n,[ee]:r}=this;for(;n!==r&&n.nodeType===Mt;)n=n[L];for(;n!==r;){const s=$n(n)[L];n.remove(),n=s}t.length&&Wg(this,r,t)}getElementsByClassName(t){const n=new ds;let{[L]:r,[ee]:s}=this;for(;r!==s;)r.nodeType===ge&&r.hasAttribute("class")&&r.classList.has(t)&&n.push(r),r=r[L];return n}getElementsByTagName(t){const n=new ds;let{[L]:r,[ee]:s}=this;for(;r!==s;)r.nodeType===ge&&(r.localName===t||g1(r)===t)&&n.push(r),r=r[L];return n}querySelector(t){const n=x1(this,t);let{[L]:r,[ee]:s}=this;for(;r!==s;){if(r.nodeType===ge&&n(r))return r;r=r.nodeType===ge&&r.localName==="template"?r[ee]:r[L]}return null}querySelectorAll(t){const n=x1(this,t),r=new ds;let{[L]:s,[ee]:i}=this;for(;s!==i;)s.nodeType===ge&&n(s)&&r.push(s),s=s.nodeType===ge&&s.localName==="template"?s[ee]:s[L];return r}appendChild(t){return this.insertBefore(t,this[ee])}contains(t){let n=t;for(;n&&n!==this;)n=n.parentNode;return n===this}insertBefore(t,n=null){if(t===n)return t;if(t===this)throw new Error("unable to append a node to itself");const r=n||this[ee];switch(t.nodeType){case ge:t.remove(),t.parentNode=this,J6(r[Et],t,r),fl(t,null),m1(t);break;case ti:{let{[Qt]:s,firstChild:i,lastChild:u}=t;if(i){$L(r[Et],i,u,r),Vr(t,t[ee]),s&&s.replaceChildren();do i.parentNode=this,fl(i,null),i.nodeType===ge&&m1(i);while(i!==u&&(i=Xu(i)))}break}case en:case ci:case ai:t.remove();default:t.parentNode=this,jp(r[Et],t,r),fl(t,null);break}return t}normalize(){let{[L]:t,[ee]:n}=this;for(;t!==n;){const{[L]:r,[Et]:s,nodeType:i}=t;i===en&&(t[Re]?s&&s.nodeType===en&&(s.textContent+=t.textContent,t.remove()):t.remove()),t=r}}removeChild(t){if(t.parentNode!==this)throw new Error("node is not a child");return t.remove(),t}replaceChild(t,n){const r=$n(n)[L];return n.remove(),this.insertBefore(t,r),n}}class Kb extends IT{getElementById(t){let{[L]:n,[ee]:r}=this;for(;n!==r;){if(n.nodeType===ge&&n.id===t)return n;n=n[L]}return null}cloneNode(t){const{ownerDocument:n,constructor:r}=this,s=new r(n);if(t){const{[ee]:i}=s;for(const u of this.childNodes)s.insertBefore(u.cloneNode(t),i)}return s}toString(){const{childNodes:t,localName:n}=this;return`<${n}>${t.join("")}</${n}>`}toJSON(){const t=[];return GL(this,t),t}}let Yb=class extends Kb{constructor(t){super(t,"#document-fragment",ti)}},xh=class NT extends So{constructor(t,n,r="",s=""){super(t,"#document-type",Ta),this.name=n,this.publicId=r,this.systemId=s}cloneNode(){const{ownerDocument:t,name:n,publicId:r,systemId:s}=this;return new NT(t,n,r,s)}toString(){const{name:t,publicId:n,systemId:r}=this,s=0<n.length,i=[t];return s&&i.push("PUBLIC",`"${n}"`),r.length&&(s||i.push("SYSTEM"),i.push(`"${r}"`)),`<!DOCTYPE ${i.join(" ")}>`}toJSON(){const t=[];return eT(this,t),t}};const RT=e=>e.childNodes.join(""),kT=(e,t)=>{const{ownerDocument:n}=e,{constructor:r}=n,s=new r;s[Dr]=n[Dr];const{childNodes:i}=X6(s,Yi(e),t);e.replaceChildren(...i.map(CT,n))};function CT(e){switch(e.ownerDocument=this,e.nodeType){case ge:case ti:e.childNodes.forEach(CT,this);break}return e}var zd=e=>e.replace(/(([A-Z0-9])([A-Z0-9][a-z]))|(([a-z0-9]+)([A-Z]))/g,"$2$5-$3$6").toLowerCase();const Hd=new WeakMap,Qg=e=>`data-${zd(e)}`,VF=e=>e.slice(5).replace(/-([a-z])/g,(t,n)=>n.toUpperCase()),zF={get(e,t){if(t in e)return Hd.get(e).getAttribute(Qg(t))},set(e,t,n){return e[t]=n,Hd.get(e).setAttribute(Qg(t),n),!0},deleteProperty(e,t){return t in e&&Hd.get(e).removeAttribute(Qg(t)),delete e[t]}};class DT{constructor(t){for(const{name:n,value:r}of t.attributes)/^data-/.test(n)&&(this[VF(n)]=r);return Hd.set(this,t),new Proxy(this,zF)}}bn(DT.prototype,null);const{add:HF}=Set.prototype,_S=(e,t)=>{for(const n of t)n&&HF.call(e,n)},Mc=({[f6]:e,value:t})=>{const n=e.getAttributeNode("class");n?n.value=t:y1(e,new Rf(e.ownerDocument,"class",t))};class GF extends Set{constructor(t){super(),this[f6]=t;const n=t.getAttributeNode("class");n&&_S(this,n.value.split(/\s+/))}get length(){return this.size}get value(){return[...this].join(" ")}add(...t){_S(this,t),Mc(this)}contains(t){return this.has(t)}remove(...t){for(const n of t)this.delete(n);Mc(this)}toggle(t,n){if(this.has(t)){if(n)return!0;this.delete(t),Mc(this)}else if(n||arguments.length===1)return super.add(t),Mc(this),!0;return!1}replace(t,n){return this.has(t)?(this.delete(t),super.add(n),Mc(this),!0):!1}supports(){return!0}}const Sh=new WeakMap,S1=e=>[...e.keys()].filter(t=>t!==Qt),_h=e=>{const t=Sh.get(e).getAttributeNode("style");if((!t||t[gh]||e.get(Qt)!==t)&&(e.clear(),t)){e.set(Qt,t);for(const n of t[Re].split(/\s*;\s*/)){let[r,...s]=n.split(":");if(s.length>0){r=r.trim();const i=s.join(":").trim();r&&i&&e.set(r,i)}}}return t},md={get(e,t){return t in JF?e[t]:(_h(e),t==="length"?S1(e).length:/^\d+$/.test(t)?S1(e)[t]:e.get(zd(t)))},set(e,t,n){if(t==="cssText")e[t]=n;else{let r=_h(e);if(n==null?e.delete(zd(t)):e.set(zd(t),n),!r){const s=Sh.get(e);r=s.ownerDocument.createAttribute("style"),s.setAttributeNode(r),e.set(Qt,r)}r[gh]=!1,r[Re]=e.toString()}return!0}};let MT=class extends Map{constructor(t){return super(),Sh.set(this,t),new Proxy(this,md)}get cssText(){return this.toString()}set cssText(t){Sh.get(this).setAttribute("style",t)}getPropertyValue(t){const n=this[Qt];return md.get(n,t)}setProperty(t,n){const r=this[Qt];md.set(r,t,n)}removeProperty(t){const n=this[Qt];md.set(n,t,null)}[Symbol.iterator](){const t=this[Qt];_h(t);const n=S1(t),{length:r}=n;let s=0;return{next(){const i=s===r;return{done:i,value:i?null:n[s++]}}}}get[Qt](){return this}toString(){const t=this[Qt];_h(t);const n=[];return t.forEach(WF,n),n.join(";")}};const{prototype:JF}=MT;function WF(e,t){t!==Qt&&this.push(`${t}:${e}`)}const AS=3,TS=2,ES=1,OS=0;function QF(e){return e.currentTarget}class uo{static get BUBBLING_PHASE(){return AS}static get AT_TARGET(){return TS}static get CAPTURING_PHASE(){return ES}static get NONE(){return OS}constructor(t,n={}){this.type=t,this.bubbles=!!n.bubbles,this.cancelBubble=!1,this._stopImmediatePropagationFlag=!1,this.cancelable=!!n.cancelable,this.eventPhase=this.NONE,this.timeStamp=Date.now(),this.defaultPrevented=!1,this.originalTarget=null,this.returnValue=null,this.srcElement=null,this.target=null,this._path=[]}get BUBBLING_PHASE(){return AS}get AT_TARGET(){return TS}get CAPTURING_PHASE(){return ES}get NONE(){return OS}preventDefault(){this.defaultPrevented=!0}composedPath(){return this._path.map(QF)}stopPropagation(){this.cancelBubble=!0}stopImmediatePropagation(){this.stopPropagation(),this._stopImmediatePropagationFlag=!0}}class PT extends Array{constructor(t){super(),this.ownerElement=t}getNamedItem(t){return this.ownerElement.getAttributeNode(t)}setNamedItem(t){this.ownerElement.setAttributeNode(t),this.unshift(t)}removeNamedItem(t){const n=this.getNamedItem(t);this.ownerElement.removeAttribute(t),this.splice(this.indexOf(n),1)}item(t){return t<this.length?this[t]:null}getNamedItemNS(t,n){return this.getNamedItem(n)}setNamedItemNS(t,n){return this.setNamedItem(n)}removeNamedItemNS(t,n){return this.removeNamedItem(n)}}let Zb=class extends Kb{constructor(t){super(t.ownerDocument,"#shadow-root",ti),this.host=t}get innerHTML(){return RT(this)}set innerHTML(t){kT(this,t)}};const XF={get(e,t){return t in e?e[t]:e.find(({name:n})=>n===t)}},IS=(e,t,n)=>{if("ownerSVGElement"in t){const r=e.createElementNS(wh,n);return r.ownerSVGElement=t.ownerSVGElement,r}return e.createElement(n)},KF=({localName:e,ownerDocument:t})=>t[oc].voidElements.test(e);let Df=class extends IT{constructor(t,n){super(t,n,ge),this[$o]=null,this[Bg]=null,this[$g]=null}get isConnected(){return sT(this)}get parentElement(){return iT(this)}get previousSibling(){return Cl(this)}get nextSibling(){return Xu(this)}get namespaceURI(){return"http://www.w3.org/1999/xhtml"}get previousElementSibling(){return uT(this)}get nextElementSibling(){return Hb(this)}before(...t){oT(this,t)}after(...t){aT(this,t)}replaceWith(...t){Jb(this,t)}remove(){cT(this[Et],this,this[ee][L])}get id(){return D.get(this,"id")}set id(t){D.set(this,"id",t)}get className(){return this.classList.value}set className(t){const{classList:n}=this;n.clear(),n.add(...Qu(t).split(/\s+/))}get nodeName(){return g1(this)}get tagName(){return g1(this)}get classList(){return this[$o]||(this[$o]=new GF(this))}get dataset(){return this[Bg]||(this[Bg]=new DT(this))}getBoundingClientRect(){return{x:0,y:0,bottom:0,height:0,left:0,right:0,top:0,width:0}}get nonce(){return D.get(this,"nonce")}set nonce(t){D.set(this,"nonce",t)}get style(){return this[$g]||(this[$g]=new MT(this))}get tabIndex(){return Fi.get(this,"tabindex")||-1}set tabIndex(t){Fi.set(this,"tabindex",t)}get slot(){return D.get(this,"slot")}set slot(t){D.set(this,"slot",t)}get innerText(){const t=[];let{[L]:n,[ee]:r}=this;for(;n!==r;)n.nodeType===en?t.push(n.textContent.replace(/\s+/g," ")):t.length&&n[L]!=r&&TL.has(n.tagName)&&t.push(`
`),n=n[L];return t.join("")}get textContent(){const t=[];let{[L]:n,[ee]:r}=this;for(;n!==r;)n.nodeType===en&&t.push(n.textContent),n=n[L];return t.join("")}set textContent(t){this.replaceChildren(),t!=null&&t!==""&&this.appendChild(new Cf(this.ownerDocument,t))}get innerHTML(){return RT(this)}set innerHTML(t){kT(this,t)}get outerHTML(){return this.toString()}set outerHTML(t){const n=this.ownerDocument.createElement("");n.innerHTML=t,this.replaceWith(...n.childNodes)}get attributes(){const t=new PT(this);let n=this[L];for(;n.nodeType===Mt;)t.push(n),n=n[L];return new Proxy(t,XF)}focus(){this.dispatchEvent(new uo("focus"))}getAttribute(t){if(t==="class")return this.className;const n=this.getAttributeNode(t);return n&&(Yi(this)?n.value:zb(n.value))}getAttributeNode(t){let n=this[L];for(;n.nodeType===Mt;){if(n.name===t)return n;n=n[L]}return null}getAttributeNames(){const t=new ds;let n=this[L];for(;n.nodeType===Mt;)t.push(n.name),n=n[L];return t}hasAttribute(t){return!!this.getAttributeNode(t)}hasAttributes(){return this[L].nodeType===Mt}removeAttribute(t){t==="class"&&this[$o]&&this[$o].clear();let n=this[L];for(;n.nodeType===Mt;){if(n.name===t){gS(this,n);return}n=n[L]}}removeAttributeNode(t){let n=this[L];for(;n.nodeType===Mt;){if(n===t){gS(this,n);return}n=n[L]}}setAttribute(t,n){if(t==="class")this.className=n;else{const r=this.getAttributeNode(t);r?r.value=n:y1(this,new Rf(this.ownerDocument,t,n))}}setAttributeNode(t){const{name:n}=t,r=this.getAttributeNode(n);if(r!==t){r&&this.removeAttributeNode(r);const{ownerElement:s}=t;s&&s.removeAttributeNode(t),y1(this,t)}return r}toggleAttribute(t,n){return this.hasAttribute(t)?n?!0:(this.removeAttribute(t),!1):n||arguments.length===1?(this.setAttribute(t,""),!0):!1}get shadowRoot(){if(Li.has(this)){const{mode:t,shadowRoot:n}=Li.get(this);if(t==="open")return n}return null}attachShadow(t){if(Li.has(this))throw new Error("operation not supported");const n=new Zb(this);return Li.set(this,{mode:t.mode,shadowRoot:n}),n}matches(t){return UF(this,t)}closest(t){let n=this;const r=x1(n,t);for(;n&&!r(n);)n=n.parentElement;return n}insertAdjacentElement(t,n){const{parentElement:r}=this;switch(t){case"beforebegin":if(r){r.insertBefore(n,this);break}return null;case"afterbegin":this.insertBefore(n,this.firstChild);break;case"beforeend":this.insertBefore(n,null);break;case"afterend":if(r){r.insertBefore(n,this.nextSibling);break}return null}return n}insertAdjacentHTML(t,n){const r=this.ownerDocument.createElement("template");r.innerHTML=n,this.insertAdjacentElement(t,r.content)}insertAdjacentText(t,n){const r=this.ownerDocument.createTextNode(n);this.insertAdjacentElement(t,r)}cloneNode(t=!1){const{ownerDocument:n,localName:r}=this,s=l=>{l.parentNode=u,Vr(o,l),o=l},i=IS(n,this,r);let u=i,o=i,{[L]:a,[ee]:c}=this;for(;a!==c&&(t||a.nodeType===Mt);){switch(a.nodeType){case Ki:Vr(o,u[ee]),o=u[ee],u=u.parentNode;break;case ge:{const l=IS(n,a,a.localName);s(l),u=l;break}case Mt:{const l=a.cloneNode(t);l.ownerElement=u,s(l);break}case en:case ci:case ai:s(a.cloneNode(t));break}a=a[L]}return Vr(o,i[ee]),i}toString(){const t=[],{[ee]:n}=this;let r={[L]:this},s=!1;do switch(r=r[L],r.nodeType){case Mt:{const i=" "+r;switch(i){case" id":case" class":case" style":break;default:t.push(i)}break}case Ki:{const i=r[Sn];s?("ownerSVGElement"in i?t.push(" />"):KF(i)?t.push(Yi(i)?">":" />"):t.push(`></${i.localName}>`),s=!1):t.push(`</${i.localName}>`);break}case ge:s&&t.push(">"),r.toString!==this.toString?(t.push(r.toString()),r=r[ee],s=!1):(t.push(`<${r.localName}`),s=!0);break;case en:case ci:case ai:t.push((s?">":"")+r),s=!1;break}while(r!==n);return t.join("")}toJSON(){const t=[];return tT(this,t),t}getAttributeNS(t,n){return this.getAttribute(n)}getElementsByTagNameNS(t,n){return this.getElementsByTagName(n)}hasAttributeNS(t,n){return this.hasAttribute(n)}removeAttributeNS(t,n){this.removeAttribute(n)}setAttributeNS(t,n,r){this.setAttribute(n,r)}setAttributeNodeNS(t){return this.setAttributeNode(t)}};const Xg=new WeakMap,YF={get(e,t){return e[t]},set(e,t,n){return e[t]=n,!0}};let Dl=class extends Df{constructor(t,n,r=null){super(t,n),this.ownerSVGElement=r}get className(){return Xg.has(this)||Xg.set(this,new Proxy({baseVal:"",animVal:""},YF)),Xg.get(this)}set className(t){const{classList:n}=this;n.clear(),n.add(...Qu(t).split(/\s+/))}get namespaceURI(){return"http://www.w3.org/2000/svg"}getAttribute(t){return t==="class"?[...this.classList].join(" "):super.getAttribute(t)}setAttribute(t,n){if(t==="class")this.className=n;else if(t==="style"){const{className:r}=this;r.baseVal=r.animVal=n}super.setAttribute(t,n)}};const Qn=()=>{throw new TypeError("Illegal constructor")};function ew(){Qn()}bn(ew,Rf);ew.prototype=Rf.prototype;function tw(){Qn()}bn(tw,Wb);tw.prototype=Wb.prototype;function nw(){Qn()}bn(nw,kf);nw.prototype=kf.prototype;function rw(){Qn()}bn(rw,Qb);rw.prototype=Qb.prototype;function sw(){Qn()}bn(sw,Yb);sw.prototype=Yb.prototype;function iw(){Qn()}bn(iw,xh);iw.prototype=xh.prototype;function uw(){Qn()}bn(uw,Df);uw.prototype=Df.prototype;function ow(){Qn()}bn(ow,So);ow.prototype=So.prototype;function aw(){Qn()}bn(aw,Zb);aw.prototype=Zb.prototype;function cw(){Qn()}bn(cw,Cf);cw.prototype=Cf.prototype;function lw(){Qn()}bn(lw,Dl);lw.prototype=Dl.prototype;const ZF={Attr:ew,CDATASection:tw,CharacterData:nw,Comment:rw,DocumentFragment:sw,DocumentType:iw,Element:uw,Node:ow,ShadowRoot:aw,Text:cw,SVGElement:lw},Pc=new WeakMap,E={get(e,t){return Pc.has(e)&&Pc.get(e)[t]||null},set(e,t,n){Pc.has(e)||Pc.set(e,{});const r=Pc.get(e),s=t.slice(2);r[t]&&e.removeEventListener(s,r[t],!1),(r[t]=n)&&e.addEventListener(s,n,!1)}};let q=class extends Df{static get observedAttributes(){return[]}constructor(t=null,n=""){super(t,n);const r=!t;let s;if(r){const{constructor:i}=this;if(!Wo.has(i))throw new Error("unable to initialize this Custom Element");({ownerDocument:t,localName:n,options:s}=Wo.get(i))}if(t[ll]){const{element:i,values:u}=t[ll];t[ll]=null;for(const[o,a]of u)i[o]=a;return i}r&&(this.ownerDocument=this[ee].ownerDocument=t,this.localName=n,io.set(this,{connected:!1}),s.is&&this.setAttribute("is",s.is))}blur(){this.dispatchEvent(new uo("blur"))}click(){const t=new uo("click",{bubbles:!0,cancelable:!0});t.button=0,this.dispatchEvent(t)}get accessKeyLabel(){const{accessKey:t}=this;return t&&`Alt+Shift+${t}`}get isContentEditable(){return this.hasAttribute("contenteditable")}get contentEditable(){return xe.get(this,"contenteditable")}set contentEditable(t){xe.set(this,"contenteditable",t)}get draggable(){return xe.get(this,"draggable")}set draggable(t){xe.set(this,"draggable",t)}get hidden(){return xe.get(this,"hidden")}set hidden(t){xe.set(this,"hidden",t)}get spellcheck(){return xe.get(this,"spellcheck")}set spellcheck(t){xe.set(this,"spellcheck",t)}get accessKey(){return D.get(this,"accesskey")}set accessKey(t){D.set(this,"accesskey",t)}get dir(){return D.get(this,"dir")}set dir(t){D.set(this,"dir",t)}get lang(){return D.get(this,"lang")}set lang(t){D.set(this,"lang",t)}get title(){return D.get(this,"title")}set title(t){D.set(this,"title",t)}get onabort(){return E.get(this,"onabort")}set onabort(t){E.set(this,"onabort",t)}get onblur(){return E.get(this,"onblur")}set onblur(t){E.set(this,"onblur",t)}get oncancel(){return E.get(this,"oncancel")}set oncancel(t){E.set(this,"oncancel",t)}get oncanplay(){return E.get(this,"oncanplay")}set oncanplay(t){E.set(this,"oncanplay",t)}get oncanplaythrough(){return E.get(this,"oncanplaythrough")}set oncanplaythrough(t){E.set(this,"oncanplaythrough",t)}get onchange(){return E.get(this,"onchange")}set onchange(t){E.set(this,"onchange",t)}get onclick(){return E.get(this,"onclick")}set onclick(t){E.set(this,"onclick",t)}get onclose(){return E.get(this,"onclose")}set onclose(t){E.set(this,"onclose",t)}get oncontextmenu(){return E.get(this,"oncontextmenu")}set oncontextmenu(t){E.set(this,"oncontextmenu",t)}get oncuechange(){return E.get(this,"oncuechange")}set oncuechange(t){E.set(this,"oncuechange",t)}get ondblclick(){return E.get(this,"ondblclick")}set ondblclick(t){E.set(this,"ondblclick",t)}get ondrag(){return E.get(this,"ondrag")}set ondrag(t){E.set(this,"ondrag",t)}get ondragend(){return E.get(this,"ondragend")}set ondragend(t){E.set(this,"ondragend",t)}get ondragenter(){return E.get(this,"ondragenter")}set ondragenter(t){E.set(this,"ondragenter",t)}get ondragleave(){return E.get(this,"ondragleave")}set ondragleave(t){E.set(this,"ondragleave",t)}get ondragover(){return E.get(this,"ondragover")}set ondragover(t){E.set(this,"ondragover",t)}get ondragstart(){return E.get(this,"ondragstart")}set ondragstart(t){E.set(this,"ondragstart",t)}get ondrop(){return E.get(this,"ondrop")}set ondrop(t){E.set(this,"ondrop",t)}get ondurationchange(){return E.get(this,"ondurationchange")}set ondurationchange(t){E.set(this,"ondurationchange",t)}get onemptied(){return E.get(this,"onemptied")}set onemptied(t){E.set(this,"onemptied",t)}get onended(){return E.get(this,"onended")}set onended(t){E.set(this,"onended",t)}get onerror(){return E.get(this,"onerror")}set onerror(t){E.set(this,"onerror",t)}get onfocus(){return E.get(this,"onfocus")}set onfocus(t){E.set(this,"onfocus",t)}get oninput(){return E.get(this,"oninput")}set oninput(t){E.set(this,"oninput",t)}get oninvalid(){return E.get(this,"oninvalid")}set oninvalid(t){E.set(this,"oninvalid",t)}get onkeydown(){return E.get(this,"onkeydown")}set onkeydown(t){E.set(this,"onkeydown",t)}get onkeypress(){return E.get(this,"onkeypress")}set onkeypress(t){E.set(this,"onkeypress",t)}get onkeyup(){return E.get(this,"onkeyup")}set onkeyup(t){E.set(this,"onkeyup",t)}get onload(){return E.get(this,"onload")}set onload(t){E.set(this,"onload",t)}get onloadeddata(){return E.get(this,"onloadeddata")}set onloadeddata(t){E.set(this,"onloadeddata",t)}get onloadedmetadata(){return E.get(this,"onloadedmetadata")}set onloadedmetadata(t){E.set(this,"onloadedmetadata",t)}get onloadstart(){return E.get(this,"onloadstart")}set onloadstart(t){E.set(this,"onloadstart",t)}get onmousedown(){return E.get(this,"onmousedown")}set onmousedown(t){E.set(this,"onmousedown",t)}get onmouseenter(){return E.get(this,"onmouseenter")}set onmouseenter(t){E.set(this,"onmouseenter",t)}get onmouseleave(){return E.get(this,"onmouseleave")}set onmouseleave(t){E.set(this,"onmouseleave",t)}get onmousemove(){return E.get(this,"onmousemove")}set onmousemove(t){E.set(this,"onmousemove",t)}get onmouseout(){return E.get(this,"onmouseout")}set onmouseout(t){E.set(this,"onmouseout",t)}get onmouseover(){return E.get(this,"onmouseover")}set onmouseover(t){E.set(this,"onmouseover",t)}get onmouseup(){return E.get(this,"onmouseup")}set onmouseup(t){E.set(this,"onmouseup",t)}get onmousewheel(){return E.get(this,"onmousewheel")}set onmousewheel(t){E.set(this,"onmousewheel",t)}get onpause(){return E.get(this,"onpause")}set onpause(t){E.set(this,"onpause",t)}get onplay(){return E.get(this,"onplay")}set onplay(t){E.set(this,"onplay",t)}get onplaying(){return E.get(this,"onplaying")}set onplaying(t){E.set(this,"onplaying",t)}get onprogress(){return E.get(this,"onprogress")}set onprogress(t){E.set(this,"onprogress",t)}get onratechange(){return E.get(this,"onratechange")}set onratechange(t){E.set(this,"onratechange",t)}get onreset(){return E.get(this,"onreset")}set onreset(t){E.set(this,"onreset",t)}get onresize(){return E.get(this,"onresize")}set onresize(t){E.set(this,"onresize",t)}get onscroll(){return E.get(this,"onscroll")}set onscroll(t){E.set(this,"onscroll",t)}get onseeked(){return E.get(this,"onseeked")}set onseeked(t){E.set(this,"onseeked",t)}get onseeking(){return E.get(this,"onseeking")}set onseeking(t){E.set(this,"onseeking",t)}get onselect(){return E.get(this,"onselect")}set onselect(t){E.set(this,"onselect",t)}get onshow(){return E.get(this,"onshow")}set onshow(t){E.set(this,"onshow",t)}get onstalled(){return E.get(this,"onstalled")}set onstalled(t){E.set(this,"onstalled",t)}get onsubmit(){return E.get(this,"onsubmit")}set onsubmit(t){E.set(this,"onsubmit",t)}get onsuspend(){return E.get(this,"onsuspend")}set onsuspend(t){E.set(this,"onsuspend",t)}get ontimeupdate(){return E.get(this,"ontimeupdate")}set ontimeupdate(t){E.set(this,"ontimeupdate",t)}get ontoggle(){return E.get(this,"ontoggle")}set ontoggle(t){E.set(this,"ontoggle",t)}get onvolumechange(){return E.get(this,"onvolumechange")}set onvolumechange(t){E.set(this,"onvolumechange",t)}get onwaiting(){return E.get(this,"onwaiting")}set onwaiting(t){E.set(this,"onwaiting",t)}get onauxclick(){return E.get(this,"onauxclick")}set onauxclick(t){E.set(this,"onauxclick",t)}get ongotpointercapture(){return E.get(this,"ongotpointercapture")}set ongotpointercapture(t){E.set(this,"ongotpointercapture",t)}get onlostpointercapture(){return E.get(this,"onlostpointercapture")}set onlostpointercapture(t){E.set(this,"onlostpointercapture",t)}get onpointercancel(){return E.get(this,"onpointercancel")}set onpointercancel(t){E.set(this,"onpointercancel",t)}get onpointerdown(){return E.get(this,"onpointerdown")}set onpointerdown(t){E.set(this,"onpointerdown",t)}get onpointerenter(){return E.get(this,"onpointerenter")}set onpointerenter(t){E.set(this,"onpointerenter",t)}get onpointerleave(){return E.get(this,"onpointerleave")}set onpointerleave(t){E.set(this,"onpointerleave",t)}get onpointermove(){return E.get(this,"onpointermove")}set onpointermove(t){E.set(this,"onpointermove",t)}get onpointerout(){return E.get(this,"onpointerout")}set onpointerout(t){E.set(this,"onpointerout",t)}get onpointerover(){return E.get(this,"onpointerover")}set onpointerover(t){E.set(this,"onpointerover",t)}get onpointerup(){return E.get(this,"onpointerup")}set onpointerup(t){E.set(this,"onpointerup",t)}};const jT="template";class LT extends q{constructor(t){super(t,jT);const n=this.ownerDocument.createDocumentFragment();(this[dd]=n)[Qt]=this}get content(){if(this.hasChildNodes()&&!this[dd].hasChildNodes())for(const t of this.childNodes)this[dd].appendChild(t.cloneNode(!0));return this[dd]}}xt(jT,LT);class eB extends q{constructor(t,n="html"){super(t,n)}}const{toString:tB}=q.prototype;class $p extends q{get innerHTML(){return this.textContent}set innerHTML(t){this.textContent=t}toString(){return tB.call(this.cloneNode()).replace(/></,`>${this.textContent}<`)}}const FT="script";class BT extends $p{constructor(t,n=FT){super(t,n)}get type(){return D.get(this,"type")}set type(t){D.set(this,"type",t)}get src(){return D.get(this,"src")}set src(t){D.set(this,"src",t)}get defer(){return xe.get(this,"defer")}set defer(t){xe.set(this,"defer",t)}get crossOrigin(){return D.get(this,"crossorigin")}set crossOrigin(t){D.set(this,"crossorigin",t)}get nomodule(){return xe.get(this,"nomodule")}set nomodule(t){xe.set(this,"nomodule",t)}get referrerPolicy(){return D.get(this,"referrerpolicy")}set referrerPolicy(t){D.set(this,"referrerpolicy",t)}get nonce(){return D.get(this,"nonce")}set nonce(t){D.set(this,"nonce",t)}get async(){return xe.get(this,"async")}set async(t){xe.set(this,"async",t)}get text(){return this.textContent}set text(t){this.textContent=t}}xt(FT,BT);class nB extends q{constructor(t,n="frame"){super(t,n)}}const $T="iframe";class UT extends q{constructor(t,n=$T){super(t,n)}get src(){return D.get(this,"src")}set src(t){D.set(this,"src",t)}get srcdoc(){return D.get(this,"srcdoc")}set srcdoc(t){D.set(this,"srcdoc",t)}get name(){return D.get(this,"name")}set name(t){D.set(this,"name",t)}get allow(){return D.get(this,"allow")}set allow(t){D.set(this,"allow",t)}get allowFullscreen(){return xe.get(this,"allowfullscreen")}set allowFullscreen(t){xe.set(this,"allowfullscreen",t)}get referrerPolicy(){return D.get(this,"referrerpolicy")}set referrerPolicy(t){D.set(this,"referrerpolicy",t)}get loading(){return D.get(this,"loading")}set loading(t){D.set(this,"loading",t)}}xt($T,UT);class rB extends q{constructor(t,n="object"){super(t,n)}}class sB extends q{constructor(t,n="head"){super(t,n)}}class iB extends q{constructor(t,n="body"){super(t,n)}}var Kg={},Yg={},Zg={},qT={},VT={};VT.StyleSheet=function(){this.parentStyleSheet=null};qT.StyleSheet=VT.StyleSheet;var em={},Xn={},Ye={};Ye.CSSRule=function(){this.parentRule=null,this.parentStyleSheet=null};Ye.CSSRule.UNKNOWN_RULE=0;Ye.CSSRule.STYLE_RULE=1;Ye.CSSRule.CHARSET_RULE=2;Ye.CSSRule.IMPORT_RULE=3;Ye.CSSRule.MEDIA_RULE=4;Ye.CSSRule.FONT_FACE_RULE=5;Ye.CSSRule.PAGE_RULE=6;Ye.CSSRule.KEYFRAMES_RULE=7;Ye.CSSRule.KEYFRAME_RULE=8;Ye.CSSRule.MARGIN_RULE=9;Ye.CSSRule.NAMESPACE_RULE=10;Ye.CSSRule.COUNTER_STYLE_RULE=11;Ye.CSSRule.SUPPORTS_RULE=12;Ye.CSSRule.DOCUMENT_RULE=13;Ye.CSSRule.FONT_FEATURE_VALUES_RULE=14;Ye.CSSRule.VIEWPORT_RULE=15;Ye.CSSRule.REGION_STYLE_RULE=16;Ye.CSSRule.prototype={constructor:Ye.CSSRule};Xn.CSSRule=Ye.CSSRule;var NS;function Up(){if(NS)return em;NS=1;var e={CSSStyleDeclaration:fc().CSSStyleDeclaration,CSSRule:Xn.CSSRule};return e.CSSStyleRule=function(){e.CSSRule.call(this),this.selectorText="",this.style=new e.CSSStyleDeclaration,this.style.parentRule=this},e.CSSStyleRule.prototype=new e.CSSRule,e.CSSStyleRule.prototype.constructor=e.CSSStyleRule,e.CSSStyleRule.prototype.type=1,Object.defineProperty(e.CSSStyleRule.prototype,"cssText",{get:function(){var t;return this.selectorText?t=this.selectorText+" {"+this.style.cssText+"}":t="",t},set:function(t){var n=e.CSSStyleRule.parse(t);this.style=n.style,this.selectorText=n.selectorText}}),e.CSSStyleRule.parse=function(t){for(var n=0,r="selector",s,i=n,u="",o={selector:!0,value:!0},a=new e.CSSStyleRule,c,l="",d;d=t.charAt(n);n++)switch(d){case" ":case"	":case"\r":case`
`:case"\f":if(o[r])switch(t.charAt(n-1)){case" ":case"	":case"\r":case`
`:case"\f":break;default:u+=" ";break}break;case'"':if(i=n+1,s=t.indexOf('"',i)+1,!s)throw'" is missing';u+=t.slice(n,s),n=s-1;break;case"'":if(i=n+1,s=t.indexOf("'",i)+1,!s)throw"' is missing";u+=t.slice(n,s),n=s-1;break;case"/":if(t.charAt(n+1)==="*"){if(n+=2,s=t.indexOf("*/",n),s===-1)throw new SyntaxError("Missing */");n=s+1}else u+=d;break;case"{":r==="selector"&&(a.selectorText=u.trim(),u="",r="name");break;case":":r==="name"?(c=u.trim(),u="",r="value"):u+=d;break;case"!":r==="value"&&t.indexOf("!important",n)===n?(l="important",n+=9):u+=d;break;case";":r==="value"?(a.style.setProperty(c,u.trim(),l),l="",u="",r="name"):u+=d;break;case"}":if(r==="value")a.style.setProperty(c,u.trim(),l),l="",u="";else{if(r==="name")break;u+=d}r="selector";break;default:u+=d;break}return a},em.CSSStyleRule=e.CSSStyleRule,em}var RS;function qp(){if(RS)return Zg;RS=1;var e={StyleSheet:qT.StyleSheet,CSSStyleRule:Up().CSSStyleRule};return e.CSSStyleSheet=function(){e.StyleSheet.call(this),this.cssRules=[]},e.CSSStyleSheet.prototype=new e.StyleSheet,e.CSSStyleSheet.prototype.constructor=e.CSSStyleSheet,e.CSSStyleSheet.prototype.insertRule=function(t,n){if(n<0||n>this.cssRules.length)throw new RangeError("INDEX_SIZE_ERR");var r=e.parse(t).cssRules[0];return r.parentStyleSheet=this,this.cssRules.splice(n,0,r),n},e.CSSStyleSheet.prototype.deleteRule=function(t){if(t<0||t>=this.cssRules.length)throw new RangeError("INDEX_SIZE_ERR");this.cssRules.splice(t,1)},e.CSSStyleSheet.prototype.toString=function(){for(var t="",n=this.cssRules,r=0;r<n.length;r++)t+=n[r].cssText+`
`;return t},Zg.CSSStyleSheet=e.CSSStyleSheet,e.parse=mw().parse,Zg}var tm={},fw={},Ah={};Ah.MediaList=function(){this.length=0};Ah.MediaList.prototype={constructor:Ah.MediaList,get mediaText(){return Array.prototype.join.call(this,", ")},set mediaText(e){for(var t=e.split(","),n=this.length=t.length,r=0;r<n;r++)this[r]=t[r].trim()},appendMedium:function(e){Array.prototype.indexOf.call(this,e)===-1&&(this[this.length]=e,this.length++)},deleteMedium:function(e){var t=Array.prototype.indexOf.call(this,e);t!==-1&&Array.prototype.splice.call(this,t,1)}};fw.MediaList=Ah.MediaList;var kS;function zT(){if(kS)return tm;kS=1;var e={CSSRule:Xn.CSSRule,CSSStyleSheet:qp().CSSStyleSheet,MediaList:fw.MediaList};return e.CSSImportRule=function(){e.CSSRule.call(this),this.href="",this.media=new e.MediaList,this.styleSheet=new e.CSSStyleSheet},e.CSSImportRule.prototype=new e.CSSRule,e.CSSImportRule.prototype.constructor=e.CSSImportRule,e.CSSImportRule.prototype.type=3,Object.defineProperty(e.CSSImportRule.prototype,"cssText",{get:function(){var t=this.media.mediaText;return"@import url("+this.href+")"+(t?" "+t:"")+";"},set:function(t){for(var n=0,r="",s="",i,u;u=t.charAt(n);n++)switch(u){case" ":case"	":case"\r":case`
`:case"\f":r==="after-import"?r="url":s+=u;break;case"@":!r&&t.indexOf("@import",n)===n&&(r="after-import",n+=6,s="");break;case"u":if(r==="url"&&t.indexOf("url(",n)===n){if(i=t.indexOf(")",n+1),i===-1)throw n+': ")" not found';n+=4;var o=t.slice(n,i);o[0]===o[o.length-1]&&(o[0]==='"'||o[0]==="'")&&(o=o.slice(1,-1)),this.href=o,n=i,r="media"}break;case'"':if(r==="url"){if(i=t.indexOf('"',n+1),!i)throw n+`: '"' not found`;this.href=t.slice(n+1,i),n=i,r="media"}break;case"'":if(r==="url"){if(i=t.indexOf("'",n+1),!i)throw n+`: "'" not found`;this.href=t.slice(n+1,i),n=i,r="media"}break;case";":r==="media"&&s&&(this.media.mediaText=s.trim());break;default:r==="media"&&(s+=u);break}}}),tm.CSSImportRule=e.CSSImportRule,tm}var lc={},Os={CSSRule:Xn.CSSRule};Os.CSSGroupingRule=function(){Os.CSSRule.call(this),this.cssRules=[]};Os.CSSGroupingRule.prototype=new Os.CSSRule;Os.CSSGroupingRule.prototype.constructor=Os.CSSGroupingRule;Os.CSSGroupingRule.prototype.insertRule=function(t,n){if(n<0||n>this.cssRules.length)throw new RangeError("INDEX_SIZE_ERR");var r=Os.parse(t).cssRules[0];return r.parentRule=this,this.cssRules.splice(n,0,r),n};Os.CSSGroupingRule.prototype.deleteRule=function(t){if(t<0||t>=this.cssRules.length)throw new RangeError("INDEX_SIZE_ERR");this.cssRules.splice(t,1)[0].parentRule=null};lc.CSSGroupingRule=Os.CSSGroupingRule;var dw={},Mf={},li={CSSRule:Xn.CSSRule,CSSGroupingRule:lc.CSSGroupingRule};li.CSSConditionRule=function(){li.CSSGroupingRule.call(this),this.cssRules=[]};li.CSSConditionRule.prototype=new li.CSSGroupingRule;li.CSSConditionRule.prototype.constructor=li.CSSConditionRule;li.CSSConditionRule.prototype.conditionText="";li.CSSConditionRule.prototype.cssText="";Mf.CSSConditionRule=li.CSSConditionRule;var bs={CSSRule:Xn.CSSRule,CSSGroupingRule:lc.CSSGroupingRule,CSSConditionRule:Mf.CSSConditionRule,MediaList:fw.MediaList};bs.CSSMediaRule=function(){bs.CSSConditionRule.call(this),this.media=new bs.MediaList};bs.CSSMediaRule.prototype=new bs.CSSConditionRule;bs.CSSMediaRule.prototype.constructor=bs.CSSMediaRule;bs.CSSMediaRule.prototype.type=4;Object.defineProperties(bs.CSSMediaRule.prototype,{conditionText:{get:function(){return this.media.mediaText},set:function(e){this.media.mediaText=e},configurable:!0,enumerable:!0},cssText:{get:function(){for(var e=[],t=0,n=this.cssRules.length;t<n;t++)e.push(this.cssRules[t].cssText);return"@media "+this.media.mediaText+" {"+e.join("")+"}"},configurable:!0,enumerable:!0}});dw.CSSMediaRule=bs.CSSMediaRule;var hw={},fi={CSSRule:Xn.CSSRule,CSSGroupingRule:lc.CSSGroupingRule,CSSConditionRule:Mf.CSSConditionRule};fi.CSSSupportsRule=function(){fi.CSSConditionRule.call(this)};fi.CSSSupportsRule.prototype=new fi.CSSConditionRule;fi.CSSSupportsRule.prototype.constructor=fi.CSSSupportsRule;fi.CSSSupportsRule.prototype.type=12;Object.defineProperty(fi.CSSSupportsRule.prototype,"cssText",{get:function(){for(var e=[],t=0,n=this.cssRules.length;t<n;t++)e.push(this.cssRules[t].cssText);return"@supports "+this.conditionText+" {"+e.join("")+"}"}});hw.CSSSupportsRule=fi.CSSSupportsRule;var nm={},CS;function HT(){if(CS)return nm;CS=1;var e={CSSStyleDeclaration:fc().CSSStyleDeclaration,CSSRule:Xn.CSSRule};return e.CSSFontFaceRule=function(){e.CSSRule.call(this),this.style=new e.CSSStyleDeclaration,this.style.parentRule=this},e.CSSFontFaceRule.prototype=new e.CSSRule,e.CSSFontFaceRule.prototype.constructor=e.CSSFontFaceRule,e.CSSFontFaceRule.prototype.type=5,Object.defineProperty(e.CSSFontFaceRule.prototype,"cssText",{get:function(){return"@font-face {"+this.style.cssText+"}"}}),nm.CSSFontFaceRule=e.CSSFontFaceRule,nm}var GT={},di={CSSRule:Xn.CSSRule};di.CSSHostRule=function(){di.CSSRule.call(this),this.cssRules=[]};di.CSSHostRule.prototype=new di.CSSRule;di.CSSHostRule.prototype.constructor=di.CSSHostRule;di.CSSHostRule.prototype.type=1001;Object.defineProperty(di.CSSHostRule.prototype,"cssText",{get:function(){for(var e=[],t=0,n=this.cssRules.length;t<n;t++)e.push(this.cssRules[t].cssText);return"@host {"+e.join("")+"}"}});GT.CSSHostRule=di.CSSHostRule;var rm={},DS;function pw(){if(DS)return rm;DS=1;var e={CSSRule:Xn.CSSRule,CSSStyleDeclaration:fc().CSSStyleDeclaration};return e.CSSKeyframeRule=function(){e.CSSRule.call(this),this.keyText="",this.style=new e.CSSStyleDeclaration,this.style.parentRule=this},e.CSSKeyframeRule.prototype=new e.CSSRule,e.CSSKeyframeRule.prototype.constructor=e.CSSKeyframeRule,e.CSSKeyframeRule.prototype.type=8,Object.defineProperty(e.CSSKeyframeRule.prototype,"cssText",{get:function(){return this.keyText+" {"+this.style.cssText+"} "}}),rm.CSSKeyframeRule=e.CSSKeyframeRule,rm}var gw={},hi={CSSRule:Xn.CSSRule};hi.CSSKeyframesRule=function(){hi.CSSRule.call(this),this.name="",this.cssRules=[]};hi.CSSKeyframesRule.prototype=new hi.CSSRule;hi.CSSKeyframesRule.prototype.constructor=hi.CSSKeyframesRule;hi.CSSKeyframesRule.prototype.type=7;Object.defineProperty(hi.CSSKeyframesRule.prototype,"cssText",{get:function(){for(var e=[],t=0,n=this.cssRules.length;t<n;t++)e.push("  "+this.cssRules[t].cssText);return"@"+(this._vendorPrefix||"")+"keyframes "+this.name+` { 
`+e.join(`
`)+`
}`}});gw.CSSKeyframesRule=hi.CSSKeyframesRule;var JT={},WT={},Th={};Th.CSSValue=function(){};Th.CSSValue.prototype={constructor:Th.CSSValue,set cssText(e){var t=this._getConstructorName();throw new Error('DOMException: property "cssText" of "'+t+'" is readonly and can not be replaced with "'+e+'"!')},get cssText(){var e=this._getConstructorName();throw new Error('getter "cssText" of "'+e+'" is not implemented!')},_getConstructorName:function(){var e=this.constructor.toString(),t=e.match(/function\s([^\(]+)/),n=t[1];return n}};WT.CSSValue=Th.CSSValue;var Wr={CSSValue:WT.CSSValue};Wr.CSSValueExpression=function(t,n){this._token=t,this._idx=n};Wr.CSSValueExpression.prototype=new Wr.CSSValue;Wr.CSSValueExpression.prototype.constructor=Wr.CSSValueExpression;Wr.CSSValueExpression.prototype.parse=function(){for(var e=this._token,t=this._idx,n="",r="",s="",i,u=[];;++t){if(n=e.charAt(t),n===""){s="css expression error: unfinished expression!";break}switch(n){case"(":u.push(n),r+=n;break;case")":u.pop(n),r+=n;break;case"/":(i=this._parseJSComment(e,t))?i.error?s="css expression error: unfinished comment in expression!":t=i.idx:(i=this._parseJSRexExp(e,t))?(t=i.idx,r+=i.text):r+=n;break;case"'":case'"':i=this._parseJSString(e,t,n),i?(t=i.idx,r+=i.text):r+=n;break;default:r+=n;break}if(s||u.length===0)break}var o;return s?o={error:s}:o={idx:t,expression:r},o};Wr.CSSValueExpression.prototype._parseJSComment=function(e,t){var n=e.charAt(t+1),r;if(n==="/"||n==="*"){var s=t,i,u;if(n==="/"?u=`
`:n==="*"&&(u="*/"),i=e.indexOf(u,s+1+1),i!==-1)return i=i+u.length-1,r=e.substring(t,i+1),{idx:i,text:r};var o="css expression error: unfinished comment in expression!";return{error:o}}else return!1};Wr.CSSValueExpression.prototype._parseJSString=function(e,t,n){var r=this._findMatchedIdx(e,t,n),s;return r===-1?!1:(s=e.substring(t,r+n.length),{idx:r,text:s})};Wr.CSSValueExpression.prototype._parseJSRexExp=function(e,t){var n=e.substring(0,t).replace(/\s+$/,""),r=[/^$/,/\($/,/\[$/,/\!$/,/\+$/,/\-$/,/\*$/,/\/\s+/,/\%$/,/\=$/,/\>$/,/<$/,/\&$/,/\|$/,/\^$/,/\~$/,/\?$/,/\,$/,/delete$/,/in$/,/instanceof$/,/new$/,/typeof$/,/void$/],s=r.some(function(u){return u.test(n)});if(s){var i="/";return this._parseJSString(e,t,i)}else return!1};Wr.CSSValueExpression.prototype._findMatchedIdx=function(e,t,n){for(var r=t,s,i=-1;;)if(s=e.indexOf(n,r+1),s===-1){s=i;break}else{var u=e.substring(t+1,s),o=u.match(/\\+$/);if(!o||o[0]%2===0)break;r=s}var a=e.indexOf(`
`,t+1);return a<s&&(s=i),s};JT.CSSValueExpression=Wr.CSSValueExpression;var QT={},XT={},Eh={};Eh.MatcherList=function(){this.length=0};Eh.MatcherList.prototype={constructor:Eh.MatcherList,get matcherText(){return Array.prototype.join.call(this,", ")},set matcherText(e){for(var t=e.split(","),n=this.length=t.length,r=0;r<n;r++)this[r]=t[r].trim()},appendMatcher:function(e){Array.prototype.indexOf.call(this,e)===-1&&(this[this.length]=e,this.length++)},deleteMatcher:function(e){var t=Array.prototype.indexOf.call(this,e);t!==-1&&Array.prototype.splice.call(this,t,1)}};XT.MatcherList=Eh.MatcherList;var ws={CSSRule:Xn.CSSRule,MatcherList:XT.MatcherList};ws.CSSDocumentRule=function(){ws.CSSRule.call(this),this.matcher=new ws.MatcherList,this.cssRules=[]};ws.CSSDocumentRule.prototype=new ws.CSSRule;ws.CSSDocumentRule.prototype.constructor=ws.CSSDocumentRule;ws.CSSDocumentRule.prototype.type=10;Object.defineProperty(ws.CSSDocumentRule.prototype,"cssText",{get:function(){for(var e=[],t=0,n=this.cssRules.length;t<n;t++)e.push(this.cssRules[t].cssText);return"@-moz-document "+this.matcher.matcherText+" {"+e.join("")+"}"}});QT.CSSDocumentRule=ws.CSSDocumentRule;var MS;function mw(){if(MS)return Yg;MS=1;var e={};return e.parse=function(n){for(var r=0,s="before-selector",i,u="",o=0,a={selector:!0,value:!0,"value-parenthesis":!0,atRule:!0,"importRule-begin":!0,importRule:!0,atBlock:!0,conditionBlock:!0,"documentRule-begin":!0},c=new e.CSSStyleSheet,l=c,d,h=[],f=!1,p,m,y="",b,w,x,v,A,T,V,J,Y=/@(-(?:\w+-)+)?keyframes/g,pe=function(Zn){var er=n.substring(0,r).split(`
`),Oc=er.length,td=er.pop().length+1,yu=new Error(Zn+" (line "+Oc+", char "+td+")");throw yu.line=Oc,yu.char=td,yu.styleSheet=c,yu},B;B=n.charAt(r);r++)switch(B){case" ":case"	":case"\r":case`
`:case"\f":a[s]&&(u+=B);break;case'"':i=r+1;do i=n.indexOf('"',i)+1,i||pe('Unmatched "');while(n[i-2]==="\\");switch(u+=n.slice(r,i),r=i-1,s){case"before-value":s="value";break;case"importRule-begin":s="importRule";break}break;case"'":i=r+1;do i=n.indexOf("'",i)+1,i||pe("Unmatched '");while(n[i-2]==="\\");switch(u+=n.slice(r,i),r=i-1,s){case"before-value":s="value";break;case"importRule-begin":s="importRule";break}break;case"/":n.charAt(r+1)==="*"?(r+=2,i=n.indexOf("*/",r),i===-1?pe("Missing */"):r=i+1):u+=B,s==="importRule-begin"&&(u+=" ",s="importRule");break;case"@":if(n.indexOf("@-moz-document",r)===r){s="documentRule-begin",V=new e.CSSDocumentRule,V.__starts=r,r+=13,u="";break}else if(n.indexOf("@media",r)===r){s="atBlock",w=new e.CSSMediaRule,w.__starts=r,r+=5,u="";break}else if(n.indexOf("@supports",r)===r){s="conditionBlock",x=new e.CSSSupportsRule,x.__starts=r,r+=8,u="";break}else if(n.indexOf("@host",r)===r){s="hostRule-begin",r+=4,J=new e.CSSHostRule,J.__starts=r,u="";break}else if(n.indexOf("@import",r)===r){s="importRule-begin",r+=6,u+="@import";break}else if(n.indexOf("@font-face",r)===r){s="fontFaceRule-begin",r+=9,A=new e.CSSFontFaceRule,A.__starts=r,u="";break}else{Y.lastIndex=r;var ce=Y.exec(n);if(ce&&ce.index===r){s="keyframesRule-begin",T=new e.CSSKeyframesRule,T.__starts=r,T._vendorPrefix=ce[1],r+=ce[0].length-1,u="";break}else s==="selector"&&(s="atRule")}u+=B;break;case"{":s==="selector"||s==="atRule"?(b.selectorText=u.trim(),b.style.__starts=r,u="",s="before-name"):s==="atBlock"?(w.media.mediaText=u.trim(),d&&h.push(d),l=d=w,w.parentStyleSheet=c,u="",s="before-selector"):s==="conditionBlock"?(x.conditionText=u.trim(),d&&h.push(d),l=d=x,x.parentStyleSheet=c,u="",s="before-selector"):s==="hostRule-begin"?(d&&h.push(d),l=d=J,J.parentStyleSheet=c,u="",s="before-selector"):s==="fontFaceRule-begin"?(d&&(A.parentRule=d),A.parentStyleSheet=c,b=A,u="",s="before-name"):s==="keyframesRule-begin"?(T.name=u.trim(),d&&(h.push(d),T.parentRule=d),T.parentStyleSheet=c,l=d=T,u="",s="keyframeRule-begin"):s==="keyframeRule-begin"?(b=new e.CSSKeyframeRule,b.keyText=u.trim(),b.__starts=r,u="",s="before-name"):s==="documentRule-begin"&&(V.matcher.matcherText=u.trim(),d&&(h.push(d),V.parentRule=d),l=d=V,V.parentStyleSheet=c,u="",s="before-selector");break;case":":s==="name"?(m=u.trim(),u="",s="before-value"):u+=B;break;case"(":if(s==="value")if(u.trim()==="expression"){var tt=new e.CSSValueExpression(n,r).parse();tt.error?pe(tt.error):(u+=tt.expression,r=tt.idx)}else s="value-parenthesis",o=1,u+=B;else s==="value-parenthesis"&&o++,u+=B;break;case")":s==="value-parenthesis"&&(o--,o===0&&(s="value")),u+=B;break;case"!":s==="value"&&n.indexOf("!important",r)===r?(y="important",r+=9):u+=B;break;case";":switch(s){case"value":b.style.setProperty(m,u.trim(),y),y="",u="",s="before-name";break;case"atRule":u="",s="before-selector";break;case"importRule":v=new e.CSSImportRule,v.parentStyleSheet=v.styleSheet.parentStyleSheet=c,v.cssText=u+B,c.cssRules.push(v),u="",s="before-selector";break;default:u+=B;break}break;case"}":switch(s){case"value":b.style.setProperty(m,u.trim(),y),y="";case"before-name":case"name":b.__ends=r+1,d&&(b.parentRule=d),b.parentStyleSheet=c,l.cssRules.push(b),u="",l.constructor===e.CSSKeyframesRule?s="keyframeRule-begin":s="before-selector";break;case"keyframeRule-begin":case"before-selector":case"selector":for(d||pe("Unexpected }"),f=h.length>0;h.length>0;){if(d=h.pop(),d.constructor.name==="CSSMediaRule"||d.constructor.name==="CSSSupportsRule"){p=l,l=d,l.cssRules.push(p);break}h.length===0&&(f=!1)}f||(l.__ends=r+1,c.cssRules.push(l),l=c,d=null),u="",s="before-selector";break}break;default:switch(s){case"before-selector":s="selector",b=new e.CSSStyleRule,b.__starts=r;break;case"before-name":s="name";break;case"before-value":s="value";break;case"importRule-begin":s="importRule";break}u+=B;break}return c},Yg.parse=e.parse,e.CSSStyleSheet=qp().CSSStyleSheet,e.CSSStyleRule=Up().CSSStyleRule,e.CSSImportRule=zT().CSSImportRule,e.CSSGroupingRule=lc.CSSGroupingRule,e.CSSMediaRule=dw.CSSMediaRule,e.CSSConditionRule=Mf.CSSConditionRule,e.CSSSupportsRule=hw.CSSSupportsRule,e.CSSFontFaceRule=HT().CSSFontFaceRule,e.CSSHostRule=GT.CSSHostRule,e.CSSStyleDeclaration=fc().CSSStyleDeclaration,e.CSSKeyframeRule=pw().CSSKeyframeRule,e.CSSKeyframesRule=gw.CSSKeyframesRule,e.CSSValueExpression=JT.CSSValueExpression,e.CSSDocumentRule=QT.CSSDocumentRule,Yg}var PS;function fc(){if(PS)return Kg;PS=1;var e={};return e.CSSStyleDeclaration=function(){this.length=0,this.parentRule=null,this._importants={}},e.CSSStyleDeclaration.prototype={constructor:e.CSSStyleDeclaration,getPropertyValue:function(t){return this[t]||""},setProperty:function(t,n,r){if(this[t]){var s=Array.prototype.indexOf.call(this,t);s<0&&(this[this.length]=t,this.length++)}else this[this.length]=t,this.length++;this[t]=n+"",this._importants[t]=r},removeProperty:function(t){if(!(t in this))return"";var n=Array.prototype.indexOf.call(this,t);if(n<0)return"";var r=this[t];return this[t]="",Array.prototype.splice.call(this,n,1),r},getPropertyCSSValue:function(){},getPropertyPriority:function(t){return this._importants[t]||""},getPropertyShorthand:function(){},isPropertyImplicit:function(){},get cssText(){for(var t=[],n=0,r=this.length;n<r;++n){var s=this[n],i=this.getPropertyValue(s),u=this.getPropertyPriority(s);u&&(u=" !"+u),t[n]=s+": "+i+u+";"}return t.join(" ")},set cssText(t){var n,r;for(n=this.length;n--;)r=this[n],this[r]="";Array.prototype.splice.call(this,0,this.length),this._importants={};var s=e.parse("#bogus{"+t+"}").cssRules[0].style,i=s.length;for(n=0;n<i;++n)r=s[n],this.setProperty(s[n],s.getPropertyValue(r),s.getPropertyPriority(r))}},Kg.CSSStyleDeclaration=e.CSSStyleDeclaration,e.parse=mw().parse,Kg}qp().CSSStyleSheet,Xn.CSSRule,Up().CSSStyleRule,lc.CSSGroupingRule,Mf.CSSConditionRule,dw.CSSMediaRule,hw.CSSSupportsRule,fc().CSSStyleDeclaration,pw().CSSKeyframeRule,gw.CSSKeyframesRule;fc().CSSStyleDeclaration;Up().CSSStyleRule;zT().CSSImportRule;HT().CSSFontFaceRule;qp().CSSStyleSheet;pw().CSSKeyframeRule;var uB=mw().parse;const KT="style";class YT extends $p{constructor(t,n=KT){super(t,n),this[jo]=null}get sheet(){const t=this[jo];return t!==null?t:this[jo]=uB(this.textContent)}get innerHTML(){return super.innerHTML||""}set innerHTML(t){super.textContent=t,this[jo]=null}get innerText(){return super.innerText||""}set innerText(t){super.textContent=t,this[jo]=null}get textContent(){return super.textContent||""}set textContent(t){super.textContent=t,this[jo]=null}}xt(KT,YT);class ZT extends q{constructor(t,n="time"){super(t,n)}get dateTime(){return D.get(this,"datetime")}set dateTime(t){D.set(this,"datetime",t)}}xt("time",ZT);class oB extends q{constructor(t,n="fieldset"){super(t,n)}}class aB extends q{constructor(t,n="embed"){super(t,n)}}class cB extends q{constructor(t,n="hr"){super(t,n)}}class lB extends q{constructor(t,n="progress"){super(t,n)}}class fB extends q{constructor(t,n="p"){super(t,n)}}class dB extends q{constructor(t,n="table"){super(t,n)}}class hB extends q{constructor(t,n="frameset"){super(t,n)}}class pB extends q{constructor(t,n="li"){super(t,n)}}class gB extends q{constructor(t,n="base"){super(t,n)}}class mB extends q{constructor(t,n="datalist"){super(t,n)}}const eE="input";class tE extends q{constructor(t,n=eE){super(t,n)}get autofocus(){return xe.get(this,"autofocus")||-1}set autofocus(t){xe.set(this,"autofocus",t)}get disabled(){return xe.get(this,"disabled")}set disabled(t){xe.set(this,"disabled",t)}get name(){return this.getAttribute("name")}set name(t){this.setAttribute("name",t)}get placeholder(){return this.getAttribute("placeholder")}set placeholder(t){this.setAttribute("placeholder",t)}get type(){return this.getAttribute("type")}set type(t){this.setAttribute("type",t)}get value(){return D.get(this,"value")}set value(t){D.set(this,"value",t)}}xt(eE,tE);class yB extends q{constructor(t,n="param"){super(t,n)}}class bB extends q{constructor(t,n="media"){super(t,n)}}class wB extends q{constructor(t,n="audio"){super(t,n)}}const nE="h1";class rE extends q{constructor(t,n=nE){super(t,n)}}xt([nE,"h2","h3","h4","h5","h6"],rE);class vB extends q{constructor(t,n="dir"){super(t,n)}}class xB extends q{constructor(t,n="quote"){super(t,n)}}class SB{constructor(t,n){this.width=t,this.height=n}getContext(){return null}toDataURL(){return""}}var _B={createCanvas:(e,t)=>new SB(e,t)};const{createCanvas:AB}=_B,sE="canvas";class iE extends q{constructor(t,n=sE){super(t,n),this[Mr]=AB(300,150)}get width(){return this[Mr].width}set width(t){Fi.set(this,"width",t),this[Mr].width=t}get height(){return this[Mr].height}set height(t){Fi.set(this,"height",t),this[Mr].height=t}getContext(t){return this[Mr].getContext(t)}toDataURL(...t){return this[Mr].toDataURL(...t)}}xt(sE,iE);class TB extends q{constructor(t,n="legend"){super(t,n)}}const uE="option";class oE extends q{constructor(t,n=uE){super(t,n)}get value(){return D.get(this,"value")}set value(t){D.set(this,"value",t)}get selected(){return xe.get(this,"selected")}set selected(t){var r;const n=(r=this.parentElement)==null?void 0:r.querySelector("option[selected]");n&&n!==this&&(n.selected=!1),xe.set(this,"selected",t)}}xt(uE,oE);class EB extends q{constructor(t,n="span"){super(t,n)}}class OB extends q{constructor(t,n="meter"){super(t,n)}}class IB extends q{constructor(t,n="video"){super(t,n)}}class NB extends q{constructor(t,n="td"){super(t,n)}}const aE="title";class cE extends $p{constructor(t,n=aE){super(t,n)}}xt(aE,cE);class RB extends q{constructor(t,n="output"){super(t,n)}}class kB extends q{constructor(t,n="tr"){super(t,n)}}class CB extends q{constructor(t,n="data"){super(t,n)}}class DB extends q{constructor(t,n="menu"){super(t,n)}}const lE="select";class fE extends q{constructor(t,n=lE){super(t,n)}get options(){let t=new ds,{firstElementChild:n}=this;for(;n;)n.tagName==="OPTGROUP"?t.push(...n.children):t.push(n),n=n.nextElementSibling;return t}get disabled(){return xe.get(this,"disabled")}set disabled(t){xe.set(this,"disabled",t)}get name(){return this.getAttribute("name")}set name(t){this.setAttribute("name",t)}get value(){var t;return(t=this.querySelector("option[selected]"))==null?void 0:t.value}}xt(lE,fE);class MB extends q{constructor(t,n="br"){super(t,n)}}const dE="button";class hE extends q{constructor(t,n=dE){super(t,n)}get disabled(){return xe.get(this,"disabled")}set disabled(t){xe.set(this,"disabled",t)}get name(){return this.getAttribute("name")}set name(t){this.setAttribute("name",t)}get type(){return this.getAttribute("type")}set type(t){this.setAttribute("type",t)}}xt(dE,hE);class PB extends q{constructor(t,n="map"){super(t,n)}}class jB extends q{constructor(t,n="optgroup"){super(t,n)}}class LB extends q{constructor(t,n="dl"){super(t,n)}}const pE="textarea";class gE extends $p{constructor(t,n=pE){super(t,n)}get disabled(){return xe.get(this,"disabled")}set disabled(t){xe.set(this,"disabled",t)}get name(){return this.getAttribute("name")}set name(t){this.setAttribute("name",t)}get placeholder(){return this.getAttribute("placeholder")}set placeholder(t){this.setAttribute("placeholder",t)}get type(){return this.getAttribute("type")}set type(t){this.setAttribute("type",t)}get value(){return this.textContent}set value(t){this.textContent=t}}xt(pE,gE);class FB extends q{constructor(t,n="font"){super(t,n)}}class BB extends q{constructor(t,n="div"){super(t,n)}}const mE="link";class yE extends q{constructor(t,n=mE){super(t,n)}get disabled(){return xe.get(this,"disabled")}set disabled(t){xe.set(this,"disabled",t)}get href(){return D.get(this,"href")}set href(t){D.set(this,"href",t)}get hreflang(){return D.get(this,"hreflang")}set hreflang(t){D.set(this,"hreflang",t)}get media(){return D.get(this,"media")}set media(t){D.set(this,"media",t)}get rel(){return D.get(this,"rel")}set rel(t){D.set(this,"rel",t)}get type(){return D.get(this,"type")}set type(t){D.set(this,"type",t)}}xt(mE,yE);const bE="slot";class wE extends q{constructor(t,n=bE){super(t,n)}get name(){return this.getAttribute("name")}set name(t){this.setAttribute("name",t)}assign(){}assignedNodes(t){var i;const n=!!this.name,r=((i=this.getRootNode().host)==null?void 0:i.childNodes)??[];let s;if(n?s=[...r].filter(u=>u.slot===this.name):s=[...r].filter(u=>!u.slot),t!=null&&t.flatten){const u=[];for(let o of s)o.localName==="slot"?u.push(...o.assignedNodes({flatten:!0})):u.push(o);s=u}return s.length?s:[...this.childNodes]}assignedElements(t){const n=this.assignedNodes(t).filter(r=>r.nodeType===1);return n.length?n:[...this.children]}}xt(bE,wE);class $B extends q{constructor(t,n="form"){super(t,n)}}const vE="img";class yw extends q{constructor(t,n=vE){super(t,n)}get alt(){return D.get(this,"alt")}set alt(t){D.set(this,"alt",t)}get sizes(){return D.get(this,"sizes")}set sizes(t){D.set(this,"sizes",t)}get src(){return D.get(this,"src")}set src(t){D.set(this,"src",t)}get srcset(){return D.get(this,"srcset")}set srcset(t){D.set(this,"srcset",t)}get title(){return D.get(this,"title")}set title(t){D.set(this,"title",t)}get width(){return Fi.get(this,"width")}set width(t){Fi.set(this,"width",t)}get height(){return Fi.get(this,"height")}set height(t){Fi.set(this,"height",t)}}xt(vE,yw);class UB extends q{constructor(t,n="pre"){super(t,n)}}class qB extends q{constructor(t,n="ul"){super(t,n)}}const xE="meta";class SE extends q{constructor(t,n=xE){super(t,n)}get name(){return D.get(this,"name")}set name(t){D.set(this,"name",t)}get httpEquiv(){return D.get(this,"http-equiv")}set httpEquiv(t){D.set(this,"http-equiv",t)}get content(){return D.get(this,"content")}set content(t){D.set(this,"content",t)}get charset(){return D.get(this,"charset")}set charset(t){D.set(this,"charset",t)}get media(){return D.get(this,"media")}set media(t){D.set(this,"media",t)}}xt(xE,SE);class VB extends q{constructor(t,n="picture"){super(t,n)}}class zB extends q{constructor(t,n="area"){super(t,n)}}class HB extends q{constructor(t,n="ol"){super(t,n)}}class GB extends q{constructor(t,n="caption"){super(t,n)}}const _E="a";class AE extends q{constructor(t,n=_E){super(t,n)}get href(){return encodeURI(decodeURI(D.get(this,"href")))}set href(t){D.set(this,"href",decodeURI(t))}get download(){return encodeURI(decodeURI(D.get(this,"download")))}set download(t){D.set(this,"download",decodeURI(t))}get target(){return D.get(this,"target")}set target(t){D.set(this,"target",t)}get type(){return D.get(this,"type")}set type(t){D.set(this,"type",t)}get rel(){return D.get(this,"rel")}set rel(t){D.set(this,"rel",t)}}xt(_E,AE);class JB extends q{constructor(t,n="label"){super(t,n)}}class WB extends q{constructor(t,n="unknown"){super(t,n)}}class QB extends q{constructor(t,n="mod"){super(t,n)}}class XB extends q{constructor(t,n="details"){super(t,n)}}const TE="source";class EE extends q{constructor(t,n=TE){super(t,n)}get src(){return D.get(this,"src")}set src(t){D.set(this,"src",t)}get srcset(){return D.get(this,"srcset")}set srcset(t){D.set(this,"srcset",t)}get sizes(){return D.get(this,"sizes")}set sizes(t){D.set(this,"sizes",t)}get type(){return D.get(this,"type")}set type(t){D.set(this,"type",t)}}xt(TE,EE);class KB extends q{constructor(t,n="track"){super(t,n)}}class YB extends q{constructor(t,n="marquee"){super(t,n)}}const ZB={HTMLElement:q,HTMLTemplateElement:LT,HTMLHtmlElement:eB,HTMLScriptElement:BT,HTMLFrameElement:nB,HTMLIFrameElement:UT,HTMLObjectElement:rB,HTMLHeadElement:sB,HTMLBodyElement:iB,HTMLStyleElement:YT,HTMLTimeElement:ZT,HTMLFieldSetElement:oB,HTMLEmbedElement:aB,HTMLHRElement:cB,HTMLProgressElement:lB,HTMLParagraphElement:fB,HTMLTableElement:dB,HTMLFrameSetElement:hB,HTMLLIElement:pB,HTMLBaseElement:gB,HTMLDataListElement:mB,HTMLInputElement:tE,HTMLParamElement:yB,HTMLMediaElement:bB,HTMLAudioElement:wB,HTMLHeadingElement:rE,HTMLDirectoryElement:vB,HTMLQuoteElement:xB,HTMLCanvasElement:iE,HTMLLegendElement:TB,HTMLOptionElement:oE,HTMLSpanElement:EB,HTMLMeterElement:OB,HTMLVideoElement:IB,HTMLTableCellElement:NB,HTMLTitleElement:cE,HTMLOutputElement:RB,HTMLTableRowElement:kB,HTMLDataElement:CB,HTMLMenuElement:DB,HTMLSelectElement:fE,HTMLBRElement:MB,HTMLButtonElement:hE,HTMLMapElement:PB,HTMLOptGroupElement:jB,HTMLDListElement:LB,HTMLTextAreaElement:gE,HTMLFontElement:FB,HTMLDivElement:BB,HTMLLinkElement:yE,HTMLSlotElement:wE,HTMLFormElement:$B,HTMLImageElement:yw,HTMLPreElement:UB,HTMLUListElement:qB,HTMLMetaElement:SE,HTMLPictureElement:VB,HTMLAreaElement:zB,HTMLOListElement:HB,HTMLTableCaptionElement:GB,HTMLAnchorElement:AE,HTMLLabelElement:JB,HTMLUnknownElement:WB,HTMLModElement:QB,HTMLDetailsElement:XB,HTMLSourceElement:EE,HTMLTrackElement:KB,HTMLMarqueeElement:YB},yd={test:()=>!0},e$={"text/html":{docType:"<!DOCTYPE html>",ignoreCase:!0,voidElements:/^(?:area|base|br|col|embed|hr|img|input|keygen|link|menuitem|meta|param|source|track|wbr)$/i},"image/svg+xml":{docType:'<?xml version="1.0" encoding="utf-8"?>',ignoreCase:!1,voidElements:yd},"text/xml":{docType:'<?xml version="1.0" encoding="utf-8"?>',ignoreCase:!1,voidElements:yd},"application/xml":{docType:'<?xml version="1.0" encoding="utf-8"?>',ignoreCase:!1,voidElements:yd},"application/xhtml+xml":{docType:'<?xml version="1.0" encoding="utf-8"?>',ignoreCase:!1,voidElements:yd}};let OE=class extends uo{constructor(t,n={}){super(t,n),this.detail=n.detail}};class t$ extends uo{constructor(t,n={}){super(t,n),this.inputType=n.inputType,this.data=n.data,this.dataTransfer=n.dataTransfer,this.isComposing=n.isComposing||!1,this.ranges=n.ranges}}const n$=e=>class extends yw{constructor(n,r){switch(super(e),arguments.length){case 1:this.height=n,this.width=n;break;case 2:this.height=r,this.width=n;break}}},jS=({[Sn]:e,[ee]:t},n=null)=>{W6(e[Et],t[L]);do{const r=$n(e),s=r===t?r:r[L];n?n.insertBefore(e,n[ee]):e.remove(),e=s}while(e!==t)};class bw{constructor(){this[Sn]=null,this[ee]=null,this.commonAncestorContainer=null}insertNode(t){this[ee].parentNode.insertBefore(t,this[Sn])}selectNode(t){this[Sn]=t,this[ee]=$n(t)}selectNodeContents(t){this.selectNode(t),this.commonAncestorContainer=t}surroundContents(t){t.replaceChildren(this.extractContents())}setStartBefore(t){this[Sn]=t}setStartAfter(t){this[Sn]=t.nextSibling}setEndBefore(t){this[ee]=$n(t.previousSibling)}setEndAfter(t){this[ee]=$n(t)}cloneContents(){let{[Sn]:t,[ee]:n}=this;const r=t.ownerDocument.createDocumentFragment();for(;t!==n;)r.insertBefore(t.cloneNode(!0),r[ee]),t=$n(t),t!==n&&(t=t[L]);return r}deleteContents(){jS(this)}extractContents(){const t=this[Sn].ownerDocument.createDocumentFragment();return jS(this,t),t}createContextualFragment(t){const{commonAncestorContainer:n}=this,r="ownerSVGElement"in n,s=r?n.ownerDocument:n,i=s.createElement("template");i.innerHTML=t;let{content:u}=i;if(r){const o=[...u.childNodes];u=s.createDocumentFragment(),Object.setPrototypeOf(u,Dl.prototype),u.ownerSVGElement=s;for(const a of o)Object.setPrototypeOf(a,Dl.prototype),a.ownerSVGElement=s,u.appendChild(a)}else this.selectNode(u);return u}cloneRange(){const t=new bw;return t[Sn]=this[Sn],t[ee]=this[ee],t}}const r$=({nodeType:e},t)=>{switch(e){case ge:return t&OL;case en:return t&IL;case ci:return t&RL;case ai:return t&NL}return 0};class s${constructor(t,n=EL){this.root=t,this.currentNode=t,this.whatToShow=n;let{[L]:r,[ee]:s}=t;if(t.nodeType===Du){const{documentElement:u}=t;r=u,s=u[ee]}const i=[];for(;r!==s;)r$(r,n)&&i.push(r),r=r[L];this[Qt]={i:0,nodes:i}}nextNode(){const t=this[Qt];return this.currentNode=t.i<t.nodes.length?t.nodes[t.i++]:null,this.currentNode}}const LS=(e,t,n)=>{let{[L]:r,[ee]:s}=t;return e.call({ownerDocument:t,[L]:r,[ee]:s},n)},IE=PL({},ZF,ZB,{CustomEvent:OE,Event:uo,EventTarget:Vb,InputEvent:t$,NamedNodeMap:PT,NodeList:ds}),bd=new WeakMap;let oo=class extends Kb{constructor(t){super(null,"#document",Du),this[Dr]={active:!1,registry:null},this[Mi]={active:!1,class:null},this[oc]=e$[t],this[Su]=null,this[c1]=null,this[Ud]=null,this[Mr]=null,this[ll]=null}get defaultView(){return bd.has(this)||bd.set(this,new Proxy(globalThis,{set:(t,n,r)=>{switch(n){case"addEventListener":case"removeEventListener":case"dispatchEvent":this[Cc][n]=r;break;default:t[n]=r;break}return!0},get:(t,n)=>{switch(n){case"addEventListener":case"removeEventListener":case"dispatchEvent":if(!this[Cc]){const r=this[Cc]=new Vb;r.dispatchEvent=r.dispatchEvent.bind(r),r.addEventListener=r.addEventListener.bind(r),r.removeEventListener=r.removeEventListener.bind(r)}return this[Cc][n];case"document":return this;case"navigator":return{userAgent:"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.150 Safari/537.36"};case"window":return bd.get(this);case"customElements":return this[Dr].registry||(this[Dr]=new qL(this)),this[Dr];case"performance":return HL;case"DOMParser":return this[c1];case"Image":return this[Mr]||(this[Mr]=n$(this)),this[Mr];case"MutationObserver":return this[Mi].class||(this[Mi]=new JL(this)),this[Mi].class}return this[Ud]&&this[Ud][n]||IE[n]||t[n]}})),bd.get(this)}get doctype(){const t=this[Su];if(t)return t;const{firstChild:n}=this;return n&&n.nodeType===Ta?this[Su]=n:null}set doctype(t){if(/^([a-z:]+)(\s+system|\s+public(\s+"([^"]+)")?)?(\s+"([^"]+)")?/i.test(t)){const{$1:n,$4:r,$6:s}=RegExp;this[Su]=new xh(this,n,r,s),jp(this,this[Su],this[L])}}get documentElement(){return this.firstElementChild}get isConnected(){return!0}_getParent(){return this[Cc]}createAttribute(t){return new Rf(this,t)}createCDATASection(t){return new Wb(this,t)}createComment(t){return new Qb(this,t)}createDocumentFragment(){return new Yb(this)}createDocumentType(t,n,r){return new xh(this,t,n,r)}createElement(t){return new Df(this,t)}createRange(){const t=new bw;return t.commonAncestorContainer=this,t}createTextNode(t){return new Cf(this,t)}createTreeWalker(t,n=-1){return new s$(t,n)}createNodeIterator(t,n=-1){return this.createTreeWalker(t,n)}createEvent(t){const n=jL(t==="Event"?new uo(""):new OE(""));return n.initEvent=n.initCustomEvent=(r,s=!1,i=!1,u)=>{n.bubbles=!!s,LL(n,{type:{value:r},canBubble:{value:s},cancelable:{value:i},detail:{value:u}})},n}cloneNode(t=!1){const{constructor:n,[Dr]:r,[Su]:s}=this,i=new n;if(i[Dr]=r,t){const u=i[ee],{childNodes:o}=this;for(let{length:a}=o,c=0;c<a;c++)i.insertBefore(o[c].cloneNode(!0),u);s&&(i[Su]=o[0])}return i}importNode(t){const n=1<arguments.length&&!!arguments[1],r=t.cloneNode(n),{[Dr]:s}=this,{active:i}=s,u=o=>{const{ownerDocument:a,nodeType:c}=o;o.ownerDocument=this,i&&a!==this&&c===ge&&s.upgrade(o)};if(u(r),n)switch(r.nodeType){case ge:case ti:{let{[L]:o,[ee]:a}=r;for(;o!==a;)o.nodeType===ge&&u(o),o=o[L];break}}return r}toString(){return this.childNodes.join("")}querySelector(t){return LS(super.querySelector,this,t)}querySelectorAll(t){return LS(super.querySelectorAll,this,t)}getElementsByTagNameNS(t,n){return this.getElementsByTagName(n)}createAttributeNS(t,n){return this.createAttribute(n)}createElementNS(t,n,r){return t===wh?new Dl(this,n,null):this.createElement(n,r)}};bn(IE.Document=function(){Qn()},oo).prototype=oo.prototype;const i$=(e,t,n,r)=>{if(!t&&vh.has(n)){const u=vh.get(n);return new u(e,n)}const{[Dr]:{active:s,registry:i}}=e;if(s){const u=t?r.is:n;if(i.has(u)){const{Class:o}=i.get(u),a=new o(e,n);return io.set(a,{connected:!1}),a}}return new q(e,n)};class u$ extends oo{constructor(){super("text/html")}get all(){const t=new ds;let{[L]:n,[ee]:r}=this;for(;n!==r;){switch(n.nodeType){case ge:t.push(n);break}n=n[L]}return t}get head(){const{documentElement:t}=this;let{firstElementChild:n}=t;return(!n||n.tagName!=="HEAD")&&(n=this.createElement("head"),t.prepend(n)),n}get body(){const{head:t}=this;let{nextElementSibling:n}=t;return(!n||n.tagName!=="BODY")&&(n=this.createElement("body"),t.after(n)),n}get title(){var n;const{head:t}=this;return((n=t.getElementsByTagName("title").at(0))==null?void 0:n.textContent)||""}set title(t){const{head:n}=this;let r=n.getElementsByTagName("title").at(0);r?r.textContent=t:n.insertBefore(this.createElement("title"),n.firstChild).textContent=t}createElement(t,n){const r=!!(n&&n.is),s=i$(this,r,t,n);return r&&s.setAttribute("is",n.is),s}}class o$ extends oo{constructor(){super("image/svg+xml")}toString(){return this[oc].docType+super.toString()}}class a$ extends oo{constructor(){super("text/xml")}toString(){return this[oc].docType+super.toString()}}class ww{parseFromString(t,n,r=null){let s=!1,i;return n==="text/html"?(s=!0,i=new u$):n==="image/svg+xml"?i=new o$:i=new a$,i[c1]=ww,r&&(i[Ud]=r),s&&t==="..."&&(t="<!doctype html><html><head></head><body></body></html>"),t?X6(i,s,t):i}}const c$=(e,t=null)=>new ww().parseFromString(e,"text/html",t).defaultView;function l$(){Qn()}bn(l$,oo).prototype=oo.prototype;async function f$(e){const t=await fetch(e).then(s=>s.text()),{document:n}=c$(t),r=await d$(n);return r?H(r):ne("Could not parse recipe")}async function d$(e){const t=e.querySelector('script[type="application/ld+json"]');if(t){const n=t.innerHTML,r={"@context":"https://schema.org/","@type":"Recipe","@explicit":!0,cookTime:{},prepTime:{},recipeYield:{},cookingMethod:{},datePublished:{},author:{},description:{},name:{},title:{},recipeIngredient:{},recipeCategory:{},recipeCuisine:{},recipeInstructions:{},url:{"@explicit":!0,id:{}}},{frame:s}=aj,i=await s(JSON.parse(n),r),u=i!=null&&i.recipeIngredient?i.recipeIngredient:[],o=i!=null&&i.recipeInstructions?i.recipeInstructions:[],a=new Date().toISOString(),c=(()=>{switch(!0){case Object.hasOwn(i,"name"):return i.name;case Object.hasOwn(i,"title"):return i.title;default:return`Imported Recipe-${a}`}})();return{slug:gj(c),title:c,cook_time:i!=null&&i.cookTime?Wc.toSeconds(Wc.parse(i==null?void 0:i.cookTime))/60:null,prep_time:i!=null&&i.prepTime?Wc.toSeconds(Wc.parse(i==null?void 0:i.prepTime))/60:null,serves:i!=null&&i.recipeYield?i.recipeYield[0]:0,ingredients:u.map(d=>({name:d})),method_steps:o.map(d=>({stepText:d.text}))}}}function h$(e){return vt(e)&&!Cs(e)&&!zp(e)&&Symbol.asyncIterator in e}function Cs(e){return Array.isArray(e)}function NE(e){return typeof e=="bigint"}function Vp(e){return typeof e=="boolean"}function RE(e){return e instanceof globalThis.Date}function p$(e){return typeof e=="function"}function g$(e){return vt(e)&&!Cs(e)&&!zp(e)&&Symbol.iterator in e}function m$(e){return e===null}function Zi(e){return typeof e=="number"}function vt(e){return typeof e=="object"&&e!==null}function y$(e){return e instanceof globalThis.RegExp}function ot(e){return typeof e=="string"}function b$(e){return typeof e=="symbol"}function zp(e){return e instanceof globalThis.Uint8Array}function Qe(e){return e===void 0}function w$(e){return e.map(t=>Oh(t))}function v$(e){return new Date(e.getTime())}function x$(e){return new Uint8Array(e)}function S$(e){return new RegExp(e.source,e.flags)}function _$(e){const t={};for(const n of Object.getOwnPropertyNames(e))t[n]=Oh(e[n]);for(const n of Object.getOwnPropertySymbols(e))t[n]=Oh(e[n]);return t}function Oh(e){return Cs(e)?w$(e):RE(e)?v$(e):zp(e)?x$(e):y$(e)?S$(e):vt(e)?_$(e):e}function A$(e){return Oh(e)}function zn(e){return e.map(t=>ie(t))}function ie(e,t={}){return{...A$(e),...t}}class Kn extends Error{constructor(t){super(t)}}const ps=Symbol.for("TypeBox.Transform"),Hp=Symbol.for("TypeBox.Readonly"),lu=Symbol.for("TypeBox.Optional"),Gp=Symbol.for("TypeBox.Hint"),z=Symbol.for("TypeBox.Kind");function T$(e){return vt(e)&&e[Hp]==="Readonly"}function dc(e){return vt(e)&&e[lu]==="Optional"}function E$(e){return de(e,"Any")}function Pf(e){return de(e,"Array")}function vw(e){return de(e,"AsyncIterator")}function kE(e){return de(e,"BigInt")}function CE(e){return de(e,"Boolean")}function xw(e){return de(e,"Constructor")}function O$(e){return de(e,"Date")}function Sw(e){return de(e,"Function")}function Jp(e){return de(e,"Integer")}function Yr(e){return de(e,"Intersect")}function _w(e){return de(e,"Iterator")}function de(e,t){return vt(e)&&z in e&&e[z]===t}function jf(e){return de(e,"Literal")}function _o(e){return de(e,"MappedKey")}function Yn(e){return de(e,"MappedResult")}function Wp(e){return de(e,"Never")}function I$(e){return de(e,"Not")}function N$(e){return de(e,"Null")}function Qp(e){return de(e,"Number")}function Ds(e){return de(e,"Object")}function Xp(e){return de(e,"Promise")}function DE(e){return de(e,"Record")}function ME(e){return de(e,"Ref")}function PE(e){return de(e,"RegExp")}function Aw(e){return de(e,"String")}function R$(e){return de(e,"Symbol")}function Ao(e){return de(e,"TemplateLiteral")}function k$(e){return de(e,"This")}function Tw(e){return vt(e)&&ps in e}function hc(e){return de(e,"Tuple")}function C$(e){return de(e,"Undefined")}function Bt(e){return de(e,"Union")}function D$(e){return de(e,"Uint8Array")}function M$(e){return de(e,"Unknown")}function P$(e){return de(e,"Unsafe")}function j$(e){return de(e,"Void")}function L$(e){return vt(e)&&z in e&&ot(e[z])}function ao(e){return E$(e)||Pf(e)||CE(e)||kE(e)||vw(e)||xw(e)||O$(e)||Sw(e)||Jp(e)||Yr(e)||_w(e)||jf(e)||_o(e)||Yn(e)||Wp(e)||I$(e)||N$(e)||Qp(e)||Ds(e)||Xp(e)||DE(e)||ME(e)||PE(e)||Aw(e)||R$(e)||Ao(e)||k$(e)||hc(e)||C$(e)||Bt(e)||D$(e)||M$(e)||P$(e)||j$(e)||L$(e)}const F$=["Any","Array","AsyncIterator","BigInt","Boolean","Constructor","Date","Enum","Function","Integer","Intersect","Iterator","Literal","MappedKey","MappedResult","Not","Null","Number","Object","Promise","Record","Ref","RegExp","String","Symbol","TemplateLiteral","This","Tuple","Undefined","Union","Uint8Array","Unknown","Void"];function jE(e){try{return new RegExp(e),!0}catch{return!1}}function Ew(e){if(!ot(e))return!1;for(let t=0;t<e.length;t++){const n=e.charCodeAt(t);if(n>=7&&n<=13||n===27||n===127)return!1}return!0}function LE(e){return Ow(e)||Ft(e)}function jc(e){return Qe(e)||NE(e)}function De(e){return Qe(e)||Zi(e)}function Ow(e){return Qe(e)||Vp(e)}function Ee(e){return Qe(e)||ot(e)}function B$(e){return Qe(e)||ot(e)&&Ew(e)&&jE(e)}function $$(e){return Qe(e)||ot(e)&&Ew(e)}function FE(e){return Qe(e)||Ft(e)}function Ih(e){return vt(e)&&e[lu]==="Optional"}function Qr(e){return he(e,"Any")&&Ee(e.$id)}function To(e){return he(e,"Array")&&e.type==="array"&&Ee(e.$id)&&Ft(e.items)&&De(e.minItems)&&De(e.maxItems)&&Ow(e.uniqueItems)&&FE(e.contains)&&De(e.minContains)&&De(e.maxContains)}function Iw(e){return he(e,"AsyncIterator")&&e.type==="AsyncIterator"&&Ee(e.$id)&&Ft(e.items)}function Kp(e){return he(e,"BigInt")&&e.type==="bigint"&&Ee(e.$id)&&jc(e.exclusiveMaximum)&&jc(e.exclusiveMinimum)&&jc(e.maximum)&&jc(e.minimum)&&jc(e.multipleOf)}function Eo(e){return he(e,"Boolean")&&e.type==="boolean"&&Ee(e.$id)}function Yp(e){return he(e,"Constructor")&&e.type==="Constructor"&&Ee(e.$id)&&Cs(e.parameters)&&e.parameters.every(t=>Ft(t))&&Ft(e.returns)}function Zp(e){return he(e,"Date")&&e.type==="Date"&&Ee(e.$id)&&De(e.exclusiveMaximumTimestamp)&&De(e.exclusiveMinimumTimestamp)&&De(e.maximumTimestamp)&&De(e.minimumTimestamp)&&De(e.multipleOfTimestamp)}function e0(e){return he(e,"Function")&&e.type==="Function"&&Ee(e.$id)&&Cs(e.parameters)&&e.parameters.every(t=>Ft(t))&&Ft(e.returns)}function yi(e){return he(e,"Integer")&&e.type==="integer"&&Ee(e.$id)&&De(e.exclusiveMaximum)&&De(e.exclusiveMinimum)&&De(e.maximum)&&De(e.minimum)&&De(e.multipleOf)}function BE(e){return vt(e)&&Object.entries(e).every(([t,n])=>Ew(t)&&Ft(n))}function Oo(e){return he(e,"Intersect")&&!(ot(e.type)&&e.type!=="object")&&Cs(e.allOf)&&e.allOf.every(t=>Ft(t)&&!G$(t))&&Ee(e.type)&&(Ow(e.unevaluatedProperties)||FE(e.unevaluatedProperties))&&Ee(e.$id)}function Nw(e){return he(e,"Iterator")&&e.type==="Iterator"&&Ee(e.$id)&&Ft(e.items)}function he(e,t){return vt(e)&&z in e&&e[z]===t}function $E(e){return fu(e)&&ot(e.const)}function UE(e){return fu(e)&&Zi(e.const)}function qE(e){return fu(e)&&Vp(e.const)}function fu(e){return he(e,"Literal")&&Ee(e.$id)&&U$(e.const)}function U$(e){return Vp(e)||Zi(e)||ot(e)}function q$(e){return he(e,"MappedKey")&&Cs(e.keys)&&e.keys.every(t=>Zi(t)||ot(t))}function V$(e){return he(e,"MappedResult")&&BE(e.properties)}function du(e){return he(e,"Never")&&vt(e.not)&&Object.getOwnPropertyNames(e.not).length===0}function Ea(e){return he(e,"Not")&&Ft(e.not)}function Rw(e){return he(e,"Null")&&e.type==="null"&&Ee(e.$id)}function In(e){return he(e,"Number")&&e.type==="number"&&Ee(e.$id)&&De(e.exclusiveMaximum)&&De(e.exclusiveMinimum)&&De(e.maximum)&&De(e.minimum)&&De(e.multipleOf)}function Ge(e){return he(e,"Object")&&e.type==="object"&&Ee(e.$id)&&BE(e.properties)&&LE(e.additionalProperties)&&De(e.minProperties)&&De(e.maxProperties)}function kw(e){return he(e,"Promise")&&e.type==="Promise"&&Ee(e.$id)&&Ft(e.item)}function Lt(e){return he(e,"Record")&&e.type==="object"&&Ee(e.$id)&&LE(e.additionalProperties)&&vt(e.patternProperties)&&(t=>{const n=Object.getOwnPropertyNames(t.patternProperties);return n.length===1&&jE(n[0])&&vt(t.patternProperties)&&Ft(t.patternProperties[n[0]])})(e)}function z$(e){return he(e,"Ref")&&Ee(e.$id)&&ot(e.$ref)}function Ml(e){return he(e,"RegExp")&&Ee(e.$id)&&ot(e.source)&&ot(e.flags)&&De(e.maxLength)&&De(e.minLength)}function Xr(e){return he(e,"String")&&e.type==="string"&&Ee(e.$id)&&De(e.minLength)&&De(e.maxLength)&&B$(e.pattern)&&$$(e.format)}function Pl(e){return he(e,"Symbol")&&e.type==="symbol"&&Ee(e.$id)}function jl(e){return he(e,"TemplateLiteral")&&e.type==="string"&&ot(e.pattern)&&e.pattern[0]==="^"&&e.pattern[e.pattern.length-1]==="$"}function H$(e){return he(e,"This")&&Ee(e.$id)&&ot(e.$ref)}function G$(e){return vt(e)&&ps in e}function t0(e){return he(e,"Tuple")&&e.type==="array"&&Ee(e.$id)&&Zi(e.minItems)&&Zi(e.maxItems)&&e.minItems===e.maxItems&&(Qe(e.items)&&Qe(e.additionalItems)&&e.minItems===0||Cs(e.items)&&e.items.every(t=>Ft(t)))}function co(e){return he(e,"Undefined")&&e.type==="undefined"&&Ee(e.$id)}function pi(e){return he(e,"Union")&&Ee(e.$id)&&vt(e)&&Cs(e.anyOf)&&e.anyOf.every(t=>Ft(t))}function Lf(e){return he(e,"Uint8Array")&&e.type==="Uint8Array"&&Ee(e.$id)&&De(e.minByteLength)&&De(e.maxByteLength)}function Kr(e){return he(e,"Unknown")&&Ee(e.$id)}function J$(e){return he(e,"Unsafe")}function n0(e){return he(e,"Void")&&e.type==="void"&&Ee(e.$id)}function W$(e){return vt(e)&&z in e&&ot(e[z])&&!F$.includes(e[z])}function Ft(e){return vt(e)&&(Qr(e)||To(e)||Eo(e)||Kp(e)||Iw(e)||Yp(e)||Zp(e)||e0(e)||yi(e)||Oo(e)||Nw(e)||fu(e)||q$(e)||V$(e)||du(e)||Ea(e)||Rw(e)||In(e)||Ge(e)||kw(e)||Lt(e)||z$(e)||Ml(e)||Xr(e)||Pl(e)||jl(e)||H$(e)||t0(e)||co(e)||pi(e)||Lf(e)||Kr(e)||J$(e)||n0(e)||W$(e))}const Q$="(true|false)",Gd="(0|[1-9][0-9]*)",VE="(.*)",Ll=`^${Gd}$`,Nh=`^${VE}$`,Cw=new Map;function zE(e){return Cw.has(e)}function X$(e,t){Cw.set(e,t)}function K$(e){return Cw.get(e)}const Dw=new Map;function Mw(e){return Dw.has(e)}function Y$(e,t){Dw.set(e,t)}function Z$(e){return Dw.get(e)}function eU(e,t){return e.includes(t)}function tU(e){return[...new Set(e)]}function nU(e,t){return e.filter(n=>t.includes(n))}function rU(e,t){return e.reduce((n,r)=>nU(n,r),t)}function sU(e){return e.length===1?e[0]:e.length>1?rU(e.slice(1),e[0]):[]}function iU(e){const t=[];for(const n of e)t.push(...n);return t}function Fl(e={}){return{...e,[z]:"Any"}}function HE(e,t={}){return{...t,[z]:"Array",type:"array",items:ie(e)}}function GE(e,t={}){return{...t,[z]:"AsyncIterator",type:"AsyncIterator",items:ie(e)}}function uU(e,t){const{[t]:n,...r}=e;return r}function br(e,t){return t.reduce((n,r)=>uU(n,r),e)}function kn(e={}){return{...e,[z]:"Never",not:{}}}function $t(e){return{[z]:"MappedResult",properties:e}}function JE(e,t,n){return{...n,[z]:"Constructor",type:"Constructor",parameters:zn(e),returns:ie(t)}}function r0(e,t,n){return{...n,[z]:"Function",type:"Function",parameters:zn(e),returns:ie(t)}}function _1(e,t){return{...t,[z]:"Union",anyOf:zn(e)}}function oU(e){return e.some(t=>dc(t))}function FS(e){return e.map(t=>dc(t)?aU(t):t)}function aU(e){return br(e,[lu])}function cU(e,t){return oU(e)?No(_1(FS(e),t)):_1(FS(e),t)}function pc(e,t={}){return e.length===0?kn(t):e.length===1?ie(e[0],t):cU(e,t)}function wn(e,t={}){return e.length===0?kn(t):e.length===1?ie(e[0],t):_1(e,t)}class BS extends Kn{}function lU(e){return e.replace(/\\\$/g,"$").replace(/\\\*/g,"*").replace(/\\\^/g,"^").replace(/\\\|/g,"|").replace(/\\\(/g,"(").replace(/\\\)/g,")")}function Pw(e,t,n){return e[t]===n&&e.charCodeAt(t-1)!==92}function Ks(e,t){return Pw(e,t,"(")}function Bl(e,t){return Pw(e,t,")")}function WE(e,t){return Pw(e,t,"|")}function fU(e){if(!(Ks(e,0)&&Bl(e,e.length-1)))return!1;let t=0;for(let n=0;n<e.length;n++)if(Ks(e,n)&&(t+=1),Bl(e,n)&&(t-=1),t===0&&n!==e.length-1)return!1;return!0}function dU(e){return e.slice(1,e.length-1)}function hU(e){let t=0;for(let n=0;n<e.length;n++)if(Ks(e,n)&&(t+=1),Bl(e,n)&&(t-=1),WE(e,n)&&t===0)return!0;return!1}function pU(e){for(let t=0;t<e.length;t++)if(Ks(e,t))return!0;return!1}function gU(e){let[t,n]=[0,0];const r=[];for(let i=0;i<e.length;i++)if(Ks(e,i)&&(t+=1),Bl(e,i)&&(t-=1),WE(e,i)&&t===0){const u=e.slice(n,i);u.length>0&&r.push(Oa(u)),n=i+1}const s=e.slice(n);return s.length>0&&r.push(Oa(s)),r.length===0?{type:"const",const:""}:r.length===1?r[0]:{type:"or",expr:r}}function mU(e){function t(s,i){if(!Ks(s,i))throw new BS("TemplateLiteralParser: Index must point to open parens");let u=0;for(let o=i;o<s.length;o++)if(Ks(s,o)&&(u+=1),Bl(s,o)&&(u-=1),u===0)return[i,o];throw new BS("TemplateLiteralParser: Unclosed group parens in expression")}function n(s,i){for(let u=i;u<s.length;u++)if(Ks(s,u))return[i,u];return[i,s.length]}const r=[];for(let s=0;s<e.length;s++)if(Ks(e,s)){const[i,u]=t(e,s),o=e.slice(i,u+1);r.push(Oa(o)),s=u}else{const[i,u]=n(e,s),o=e.slice(i,u);o.length>0&&r.push(Oa(o)),s=u-1}return r.length===0?{type:"const",const:""}:r.length===1?r[0]:{type:"and",expr:r}}function Oa(e){return fU(e)?Oa(dU(e)):hU(e)?gU(e):pU(e)?mU(e):{type:"const",const:lU(e)}}function jw(e){return Oa(e.slice(1,e.length-1))}class yU extends Kn{}function bU(e){return e.type==="or"&&e.expr.length===2&&e.expr[0].type==="const"&&e.expr[0].const==="0"&&e.expr[1].type==="const"&&e.expr[1].const==="[1-9][0-9]*"}function wU(e){return e.type==="or"&&e.expr.length===2&&e.expr[0].type==="const"&&e.expr[0].const==="true"&&e.expr[1].type==="const"&&e.expr[1].const==="false"}function vU(e){return e.type==="const"&&e.const===".*"}function $l(e){return bU(e)||vU(e)?!1:wU(e)?!0:e.type==="and"?e.expr.every(t=>$l(t)):e.type==="or"?e.expr.every(t=>$l(t)):e.type==="const"?!0:(()=>{throw new yU("Unknown expression type")})()}function xU(e){const t=jw(e.pattern);return $l(t)}class SU extends Kn{}function*QE(e){if(e.length===1)return yield*e[0];for(const t of e[0])for(const n of QE(e.slice(1)))yield`${t}${n}`}function*_U(e){return yield*QE(e.expr.map(t=>[...s0(t)]))}function*AU(e){for(const t of e.expr)yield*s0(t)}function*TU(e){return yield e.const}function*s0(e){return e.type==="and"?yield*_U(e):e.type==="or"?yield*AU(e):e.type==="const"?yield*TU(e):(()=>{throw new SU("Unknown expression")})()}function XE(e){const t=jw(e.pattern);return $l(t)?[...s0(t)]:[]}function Ke(e,t={}){return{...t,[z]:"Literal",const:e,type:typeof e}}function KE(e={}){return{...e,[z]:"Boolean",type:"boolean"}}function Lw(e={}){return{...e,[z]:"BigInt",type:"bigint"}}function gc(e={}){return{...e,[z]:"Number",type:"number"}}function eu(e={}){return{...e,[z]:"String",type:"string"}}function*EU(e){const t=e.trim().replace(/"|'/g,"");return t==="boolean"?yield KE():t==="number"?yield gc():t==="bigint"?yield Lw():t==="string"?yield eu():yield(()=>{const n=t.split("|").map(r=>Ke(r.trim()));return n.length===0?kn():n.length===1?n[0]:pc(n)})()}function*OU(e){if(e[1]!=="{"){const t=Ke("$"),n=A1(e.slice(1));return yield*[t,...n]}for(let t=2;t<e.length;t++)if(e[t]==="}"){const n=EU(e.slice(2,t)),r=A1(e.slice(t+1));return yield*[...n,...r]}yield Ke(e)}function*A1(e){for(let t=0;t<e.length;t++)if(e[t]==="$"){const n=Ke(e.slice(0,t)),r=OU(e.slice(t));return yield*[n,...r]}yield Ke(e)}function IU(e){return[...A1(e)]}class NU extends Kn{}function RU(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function YE(e,t){return Ao(e)?e.pattern.slice(1,e.pattern.length-1):Bt(e)?`(${e.anyOf.map(n=>YE(n,t)).join("|")})`:Qp(e)?`${t}${Gd}`:Jp(e)?`${t}${Gd}`:kE(e)?`${t}${Gd}`:Aw(e)?`${t}${VE}`:jf(e)?`${t}${RU(e.const.toString())}`:CE(e)?`${t}${Q$}`:(()=>{throw new NU(`Unexpected Kind '${e[z]}'`)})()}function $S(e){return`^${e.map(t=>YE(t,"")).join("")}$`}function Rh(e){const n=XE(e).map(r=>Ke(r));return pc(n)}function ZE(e,t={}){const n=ot(e)?$S(IU(e)):$S(e);return{...t,[z]:"TemplateLiteral",type:"string",pattern:n}}function kU(e){return XE(e).map(n=>n.toString())}function CU(e){const t=[];for(const n of e)t.push(...hu(n));return t}function DU(e){return[e.toString()]}function hu(e){return[...new Set(Ao(e)?kU(e):Bt(e)?CU(e.anyOf):jf(e)?DU(e.const):Qp(e)?["[number]"]:Jp(e)?["[number]"]:[])]}function MU(e,t,n){const r={};for(const s of Object.getOwnPropertyNames(t))r[s]=Fw(e,hu(t[s]),n);return r}function PU(e,t,n){return MU(e,t.properties,n)}function jU(e,t,n){const r=PU(e,t,n);return $t(r)}function eO(e,t){return e.map(n=>tO(n,t))}function LU(e){return e.filter(t=>!Wp(t))}function FU(e,t){return uO(LU(eO(e,t)))}function BU(e){return e.some(t=>Wp(t))?[]:e}function $U(e,t){return pc(BU(eO(e,t)))}function UU(e,t){return t in e?e[t]:t==="[number]"?pc(e):kn()}function qU(e,t){return t==="[number]"?e:kn()}function VU(e,t){return t in e?e[t]:kn()}function tO(e,t){return Yr(e)?FU(e.allOf,t):Bt(e)?$U(e.anyOf,t):hc(e)?UU(e.items??[],t):Pf(e)?qU(e.items,t):Ds(e)?VU(e.properties,t):kn()}function nO(e,t){return t.map(n=>tO(e,n))}function US(e,t){return pc(nO(e,t))}function Fw(e,t,n={}){return Yn(t)?ie(jU(e,t,n)):_o(t)?ie(JU(e,t,n)):ao(t)?ie(US(e,hu(t)),n):ie(US(e,t),n)}function zU(e,t,n){return{[t]:Fw(e,[t],n)}}function HU(e,t,n){return t.reduce((r,s)=>({...r,...zU(e,s,n)}),{})}function GU(e,t,n){return HU(e,t.keys,n)}function JU(e,t,n){const r=GU(e,t,n);return $t(r)}function rO(e,t={}){return{...t,[z]:"Iterator",type:"Iterator",items:ie(e)}}function WU(e,t={}){const n=globalThis.Object.getOwnPropertyNames(e),r=n.filter(o=>dc(e[o])),s=n.filter(o=>!r.includes(o)),i=ao(t.additionalProperties)?{additionalProperties:ie(t.additionalProperties)}:{},u={};for(const o of n)u[o]=ie(e[o]);return s.length>0?{...t,...i,[z]:"Object",type:"object",properties:u,required:s}:{...t,...i,[z]:"Object",type:"object",properties:u}}const Rt=WU;function sO(e,t={}){return{...t,[z]:"Promise",type:"Promise",item:ie(e)}}function QU(e){return br(ie(e),[Hp])}function XU(e){return{...ie(e),[Hp]:"Readonly"}}function KU(e,t){return t===!1?QU(e):XU(e)}function Io(e,t){const n=t??!0;return Yn(e)?eq(e,n):KU(e,n)}function YU(e,t){const n={};for(const r of globalThis.Object.getOwnPropertyNames(e))n[r]=Io(e[r],t);return n}function ZU(e,t){return YU(e.properties,t)}function eq(e,t){const n=ZU(e,t);return $t(n)}function Ff(e,t={}){const[n,r,s]=[!1,e.length,e.length];return e.length>0?{...t,[z]:"Tuple",type:"array",items:zn(e),additionalItems:n,minItems:r,maxItems:s}:{...t,[z]:"Tuple",type:"array",minItems:r,maxItems:s}}function iO(e,t){return e in t?rr(e,t[e]):$t(t)}function tq(e){return{[e]:Ke(e)}}function nq(e){const t={};for(const n of e)t[n]=Ke(n);return t}function rq(e,t){return eU(t,e)?tq(e):nq(t)}function sq(e,t){const n=rq(e,t);return iO(e,n)}function Lc(e,t){return t.map(n=>rr(e,n))}function iq(e,t){const n={};for(const r of globalThis.Object.getOwnPropertyNames(t))n[r]=rr(e,t[r]);return n}function rr(e,t){return dc(t)?No(rr(e,br(t,[lu]))):T$(t)?Io(rr(e,br(t,[Hp]))):Yn(t)?iO(e,t.properties):_o(t)?sq(e,t.keys):xw(t)?JE(Lc(e,t.parameters),rr(e,t.returns)):Sw(t)?r0(Lc(e,t.parameters),rr(e,t.returns)):vw(t)?GE(rr(e,t.items)):_w(t)?rO(rr(e,t.items)):Yr(t)?Ro(Lc(e,t.allOf)):Bt(t)?wn(Lc(e,t.anyOf)):hc(t)?Ff(Lc(e,t.items??[])):Ds(t)?Rt(iq(e,t.properties)):Pf(t)?HE(rr(e,t.items)):Xp(t)?sO(rr(e,t.item)):t}function uq(e,t){const n={};for(const r of e)n[r]=rr(r,t);return n}function oq(e,t,n={}){const r=ao(e)?hu(e):e,s=t({[z]:"MappedKey",keys:r}),i=uq(r,s);return ie(Rt(i),n)}function aq(e){return br(ie(e),[lu])}function cq(e){return{...ie(e),[lu]:"Optional"}}function lq(e,t){return t===!1?aq(e):cq(e)}function No(e,t){const n=t??!0;return Yn(e)?hq(e,n):lq(e,n)}function fq(e,t){const n={};for(const r of globalThis.Object.getOwnPropertyNames(e))n[r]=No(e[r],t);return n}function dq(e,t){return fq(e.properties,t)}function hq(e,t){const n=dq(e,t);return $t(n)}function T1(e,t){const n=e.every(s=>Ds(s)),r=ao(t.unevaluatedProperties)?{unevaluatedProperties:ie(t.unevaluatedProperties)}:{};return t.unevaluatedProperties===!1||ao(t.unevaluatedProperties)||n?{...t,...r,[z]:"Intersect",type:"object",allOf:zn(e)}:{...t,...r,[z]:"Intersect",allOf:zn(e)}}function pq(e){return e.every(t=>dc(t))}function gq(e){return br(e,[lu])}function qS(e){return e.map(t=>dc(t)?gq(t):t)}function mq(e,t){return pq(e)?No(T1(qS(e),t)):T1(qS(e),t)}function uO(e,t={}){if(e.length===0)return kn(t);if(e.length===1)return ie(e[0],t);if(e.some(n=>Tw(n)))throw new Error("Cannot intersect transform types");return mq(e,t)}function Ro(e,t={}){if(e.length===0)return kn(t);if(e.length===1)return ie(e[0],t);if(e.some(n=>Tw(n)))throw new Error("Cannot intersect transform types");return T1(e,t)}function oO(e){return e.map(t=>Bw(t))}function yq(e){return Ro(oO(e))}function bq(e){return wn(oO(e))}function wq(e){return Bw(e)}function Bw(e){return Yr(e)?yq(e.allOf):Bt(e)?bq(e.anyOf):Xp(e)?wq(e.item):e}function vq(e,t={}){return ie(Bw(e),t)}function aO(e){const t=[];for(const n of e)t.push(i0(n));return t}function xq(e){const t=aO(e);return iU(t)}function Sq(e){const t=aO(e);return sU(t)}function _q(e){return e.map((t,n)=>n.toString())}function Aq(e){return["[number]"]}function Tq(e){return globalThis.Object.getOwnPropertyNames(e)}function Eq(e){return E1?globalThis.Object.getOwnPropertyNames(e).map(n=>n[0]==="^"&&n[n.length-1]==="$"?n.slice(1,n.length-1):n):[]}function i0(e){return Yr(e)?xq(e.allOf):Bt(e)?Sq(e.anyOf):hc(e)?_q(e.items??[]):Pf(e)?Aq(e.items):Ds(e)?Tq(e.properties):DE(e)?Eq(e.patternProperties):[]}let E1=!1;function VS(e){E1=!0;const t=i0(e);return E1=!1,`^(${t.map(r=>`(${r})`).join("|")})$`}function Oq(e){return e.map(t=>t==="[number]"?gc():Ke(t))}function cO(e,t={}){if(Yn(e))return Rq(e,t);{const n=i0(e),r=Oq(n),s=pc(r);return ie(s,t)}}function Iq(e,t){const n={};for(const r of globalThis.Object.getOwnPropertyNames(e))n[r]=cO(e[r],t);return n}function Nq(e,t){return Iq(e.properties,t)}function Rq(e,t){const n=Nq(e,t);return $t(n)}function kq(e){const t=[];for(const n of e)t.push(...i0(n));return tU(t)}function Cq(e){return e.filter(t=>!Wp(t))}function Dq(e,t){const n=[];for(const r of e)n.push(...nO(r,[t]));return Cq(n)}function Mq(e,t){const n={};for(const r of t)n[r]=uO(Dq(e,r));return n}function Pq(e,t={}){const n=kq(e),r=Mq(e,n);return Rt(r,t)}function lO(e={}){return{...e,[z]:"Date",type:"Date"}}function fO(e={}){return{...e,[z]:"Null",type:"null"}}function dO(e){return{...e,[z]:"Symbol",type:"symbol"}}function hO(e={}){return{...e,[z]:"Undefined",type:"undefined"}}function pO(e={}){return{...e,[z]:"Uint8Array",type:"Uint8Array"}}function Bf(e={}){return{...e,[z]:"Unknown"}}function jq(e){return e.map(t=>$w(t,!1))}function Lq(e){const t={};for(const n of globalThis.Object.getOwnPropertyNames(e))t[n]=Io($w(e[n],!1));return t}function wd(e,t){return t===!0?e:Io(e)}function $w(e,t){return h$(e)||g$(e)?wd(Fl(),t):Cs(e)?Io(Ff(jq(e))):zp(e)?pO():RE(e)?lO():vt(e)?wd(Rt(Lq(e)),t):p$(e)?wd(r0([],Bf()),t):Qe(e)?hO():m$(e)?fO():b$(e)?dO():NE(e)?Lw():Zi(e)||Vp(e)||ot(e)?Ke(e):Rt({})}function Fq(e,t={}){return ie($w(e,!0),t)}function Bq(e,t={}){return Ff(zn(e.parameters),{...t})}function $f(e,t){return e.map(n=>Ms(n,t))}function $q(e,t){const n={};for(const r of globalThis.Object.getOwnPropertyNames(e))n[r]=Ms(e[r],t);return n}function Uq(e,t){return e.parameters=$f(e.parameters,t),e.returns=Ms(e.returns,t),e}function qq(e,t){return e.parameters=$f(e.parameters,t),e.returns=Ms(e.returns,t),e}function Vq(e,t){return e.allOf=$f(e.allOf,t),e}function zq(e,t){return e.anyOf=$f(e.anyOf,t),e}function Hq(e,t){return Qe(e.items)||(e.items=$f(e.items,t)),e}function Gq(e,t){return e.items=Ms(e.items,t),e}function Jq(e,t){return e.properties=$q(e.properties,t),e}function Wq(e,t){return e.item=Ms(e.item,t),e}function Qq(e,t){return e.items=Ms(e.items,t),e}function Xq(e,t){return e.items=Ms(e.items,t),e}function Kq(e,t){const n=t.find(s=>s.$id===e.$ref);if(n===void 0)throw Error(`Unable to dereference schema with $id ${e.$ref}`);const r=br(n,["$id"]);return Ms(r,t)}function Yq(e,t){return xw(e)?Uq(e,t):Sw(e)?qq(e,t):Yr(e)?Vq(e,t):Bt(e)?zq(e,t):hc(e)?Hq(e,t):Pf(e)?Gq(e,t):Ds(e)?Jq(e,t):Xp(e)?Wq(e,t):vw(e)?Qq(e,t):_w(e)?Xq(e,t):ME(e)?Kq(e,t):e}function Ms(e,t){return Yq(ie(e),zn(t))}function Zq(e,t={}){if(Qe(e))throw new Error("Enum undefined or empty");const n=globalThis.Object.getOwnPropertyNames(e).filter(i=>isNaN(i)).map(i=>e[i]),s=[...new Set(n)].map(i=>Ke(i));return wn(s,{...t,[Gp]:"Enum"})}class eV extends Kn{}var N;(function(e){e[e.Union=0]="Union",e[e.True=1]="True",e[e.False=2]="False"})(N||(N={}));function wr(e){return e===N.False?e:N.True}function mc(e){throw new eV(e)}function at(e){return du(e)||Oo(e)||pi(e)||Kr(e)||Qr(e)}function ct(e,t){return du(t)?yO():Oo(t)?u0(e,t):pi(t)?qw(e,t):Kr(t)?xO():Qr(t)?Uw():mc("StructuralRight")}function Uw(e,t){return N.True}function tV(e,t){return Oo(t)?u0(e,t):pi(t)&&t.anyOf.some(n=>Qr(n)||Kr(n))?N.True:pi(t)?N.Union:Kr(t)||Qr(t)?N.True:N.Union}function nV(e,t){return Kr(e)?N.False:Qr(e)?N.Union:du(e)?N.True:N.False}function rV(e,t){return Ge(t)&&o0(t)?N.True:at(t)?ct(e,t):To(t)?wr(Te(e.items,t.items)):N.False}function sV(e,t){return at(t)?ct(e,t):Iw(t)?wr(Te(e.items,t.items)):N.False}function iV(e,t){return at(t)?ct(e,t):Ge(t)?on(e,t):Lt(t)?Sr(e,t):Kp(t)?N.True:N.False}function gO(e,t){return qE(e)||Eo(e)?N.True:N.False}function uV(e,t){return at(t)?ct(e,t):Ge(t)?on(e,t):Lt(t)?Sr(e,t):Eo(t)?N.True:N.False}function oV(e,t){return at(t)?ct(e,t):Ge(t)?on(e,t):Yp(t)?e.parameters.length>t.parameters.length?N.False:e.parameters.every((n,r)=>wr(Te(t.parameters[r],n))===N.True)?wr(Te(e.returns,t.returns)):N.False:N.False}function aV(e,t){return at(t)?ct(e,t):Ge(t)?on(e,t):Lt(t)?Sr(e,t):Zp(t)?N.True:N.False}function cV(e,t){return at(t)?ct(e,t):Ge(t)?on(e,t):e0(t)?e.parameters.length>t.parameters.length?N.False:e.parameters.every((n,r)=>wr(Te(t.parameters[r],n))===N.True)?wr(Te(e.returns,t.returns)):N.False:N.False}function mO(e,t){return fu(e)&&Zi(e.const)||In(e)||yi(e)?N.True:N.False}function lV(e,t){return yi(t)||In(t)?N.True:at(t)?ct(e,t):Ge(t)?on(e,t):Lt(t)?Sr(e,t):N.False}function u0(e,t){return t.allOf.every(n=>Te(e,n)===N.True)?N.True:N.False}function fV(e,t){return e.allOf.some(n=>Te(n,t)===N.True)?N.True:N.False}function dV(e,t){return at(t)?ct(e,t):Nw(t)?wr(Te(e.items,t.items)):N.False}function hV(e,t){return fu(t)&&t.const===e.const?N.True:at(t)?ct(e,t):Ge(t)?on(e,t):Lt(t)?Sr(e,t):Xr(t)?vO(e):In(t)?bO(e):yi(t)?mO(e):Eo(t)?gO(e):N.False}function yO(e,t){return N.False}function pV(e,t){return N.True}function zS(e){let[t,n]=[e,0];for(;Ea(t);)t=t.not,n+=1;return n%2===0?t:Bf()}function gV(e,t){return Ea(e)?Te(zS(e),t):Ea(t)?Te(e,zS(t)):mc("Invalid fallthrough for Not")}function mV(e,t){return at(t)?ct(e,t):Ge(t)?on(e,t):Lt(t)?Sr(e,t):Rw(t)?N.True:N.False}function bO(e,t){return UE(e)||In(e)||yi(e)?N.True:N.False}function yV(e,t){return at(t)?ct(e,t):Ge(t)?on(e,t):Lt(t)?Sr(e,t):yi(t)||In(t)?N.True:N.False}function Rn(e,t){return Object.getOwnPropertyNames(e.properties).length===t}function HS(e){return o0(e)}function GS(e){return Rn(e,0)||Rn(e,1)&&"description"in e.properties&&pi(e.properties.description)&&e.properties.description.anyOf.length===2&&(Xr(e.properties.description.anyOf[0])&&co(e.properties.description.anyOf[1])||Xr(e.properties.description.anyOf[1])&&co(e.properties.description.anyOf[0]))}function sm(e){return Rn(e,0)}function JS(e){return Rn(e,0)}function bV(e){return Rn(e,0)}function wV(e){return Rn(e,0)}function vV(e){return o0(e)}function xV(e){const t=gc();return Rn(e,0)||Rn(e,1)&&"length"in e.properties&&wr(Te(e.properties.length,t))===N.True}function SV(e){return Rn(e,0)}function o0(e){const t=gc();return Rn(e,0)||Rn(e,1)&&"length"in e.properties&&wr(Te(e.properties.length,t))===N.True}function _V(e){const t=r0([Fl()],Fl());return Rn(e,0)||Rn(e,1)&&"then"in e.properties&&wr(Te(e.properties.then,t))===N.True}function wO(e,t){return Te(e,t)===N.False||Ih(e)&&!Ih(t)?N.False:N.True}function on(e,t){return Kr(e)?N.False:Qr(e)?N.Union:du(e)||$E(e)&&HS(t)||UE(e)&&sm(t)||qE(e)&&JS(t)||Pl(e)&&GS(t)||Kp(e)&&bV(t)||Xr(e)&&HS(t)||Pl(e)&&GS(t)||In(e)&&sm(t)||yi(e)&&sm(t)||Eo(e)&&JS(t)||Lf(e)&&vV(t)||Zp(e)&&wV(t)||Yp(e)&&SV(t)||e0(e)&&xV(t)?N.True:Lt(e)&&Xr(O1(e))?t[Gp]==="Record"?N.True:N.False:Lt(e)&&In(O1(e))?Rn(t,0)?N.True:N.False:N.False}function AV(e,t){return at(t)?ct(e,t):Lt(t)?Sr(e,t):Ge(t)?(()=>{for(const n of Object.getOwnPropertyNames(t.properties)){if(!(n in e.properties)&&!Ih(t.properties[n]))return N.False;if(Ih(t.properties[n]))return N.True;if(wO(e.properties[n],t.properties[n])===N.False)return N.False}return N.True})():N.False}function TV(e,t){return at(t)?ct(e,t):Ge(t)&&_V(t)?N.True:kw(t)?wr(Te(e.item,t.item)):N.False}function O1(e){return Ll in e.patternProperties?gc():Nh in e.patternProperties?eu():mc("Unknown record key pattern")}function I1(e){return Ll in e.patternProperties?e.patternProperties[Ll]:Nh in e.patternProperties?e.patternProperties[Nh]:mc("Unable to get record value schema")}function Sr(e,t){const[n,r]=[O1(t),I1(t)];return $E(e)&&In(n)&&wr(Te(e,r))===N.True?N.True:Lf(e)&&In(n)||Xr(e)&&In(n)||To(e)&&In(n)?Te(e,r):Ge(e)?(()=>{for(const s of Object.getOwnPropertyNames(e.properties))if(wO(r,e.properties[s])===N.False)return N.False;return N.True})():N.False}function EV(e,t){return at(t)?ct(e,t):Ge(t)?on(e,t):Lt(t)?Te(I1(e),I1(t)):N.False}function OV(e,t){const n=Ml(e)?eu():e,r=Ml(t)?eu():t;return Te(n,r)}function vO(e,t){return fu(e)&&ot(e.const)||Xr(e)?N.True:N.False}function IV(e,t){return at(t)?ct(e,t):Ge(t)?on(e,t):Lt(t)?Sr(e,t):Xr(t)?N.True:N.False}function NV(e,t){return at(t)?ct(e,t):Ge(t)?on(e,t):Lt(t)?Sr(e,t):Pl(t)?N.True:N.False}function RV(e,t){return jl(e)?Te(Rh(e),t):jl(t)?Te(e,Rh(t)):mc("Invalid fallthrough for TemplateLiteral")}function kV(e,t){return To(t)&&e.items!==void 0&&e.items.every(n=>Te(n,t.items)===N.True)}function CV(e,t){return du(e)?N.True:Kr(e)?N.False:Qr(e)?N.Union:N.False}function DV(e,t){return at(t)?ct(e,t):Ge(t)&&o0(t)||To(t)&&kV(e,t)?N.True:t0(t)?Qe(e.items)&&!Qe(t.items)||!Qe(e.items)&&Qe(t.items)?N.False:Qe(e.items)&&!Qe(t.items)||e.items.every((n,r)=>Te(n,t.items[r])===N.True)?N.True:N.False:N.False}function MV(e,t){return at(t)?ct(e,t):Ge(t)?on(e,t):Lt(t)?Sr(e,t):Lf(t)?N.True:N.False}function PV(e,t){return at(t)?ct(e,t):Ge(t)?on(e,t):Lt(t)?Sr(e,t):n0(t)?FV(e):co(t)?N.True:N.False}function qw(e,t){return t.anyOf.some(n=>Te(e,n)===N.True)?N.True:N.False}function jV(e,t){return e.anyOf.every(n=>Te(n,t)===N.True)?N.True:N.False}function xO(e,t){return N.True}function LV(e,t){return du(t)?yO():Oo(t)?u0(e,t):pi(t)?qw(e,t):Qr(t)?Uw():Xr(t)?vO(e):In(t)?bO(e):yi(t)?mO(e):Eo(t)?gO(e):To(t)?nV(e):t0(t)?CV(e):Ge(t)?on(e,t):Kr(t)?N.True:N.False}function FV(e,t){return co(e)||co(e)?N.True:N.False}function BV(e,t){return Oo(t)?u0(e,t):pi(t)?qw(e,t):Kr(t)?xO():Qr(t)?Uw():Ge(t)?on(e,t):n0(t)?N.True:N.False}function Te(e,t){return jl(e)||jl(t)?RV(e,t):Ml(e)||Ml(t)?OV(e,t):Ea(e)||Ea(t)?gV(e,t):Qr(e)?tV(e,t):To(e)?rV(e,t):Kp(e)?iV(e,t):Eo(e)?uV(e,t):Iw(e)?sV(e,t):Yp(e)?oV(e,t):Zp(e)?aV(e,t):e0(e)?cV(e,t):yi(e)?lV(e,t):Oo(e)?fV(e,t):Nw(e)?dV(e,t):fu(e)?hV(e,t):du(e)?pV():Rw(e)?mV(e,t):In(e)?yV(e,t):Ge(e)?AV(e,t):Lt(e)?EV(e,t):Xr(e)?IV(e,t):Pl(e)?NV(e,t):t0(e)?DV(e,t):kw(e)?TV(e,t):Lf(e)?MV(e,t):co(e)?PV(e,t):pi(e)?jV(e,t):Kr(e)?LV(e,t):n0(e)?BV(e,t):mc(`Unknown left type operand '${e[z]}'`)}function Uf(e,t){return Te(e,t)}function $V(e,t,n,r,s){const i={};for(const u of globalThis.Object.getOwnPropertyNames(e))i[u]=Vw(e[u],t,n,r,s);return i}function UV(e,t,n,r,s){return $V(e.properties,t,n,r,s)}function qV(e,t,n,r,s){const i=UV(e,t,n,r,s);return $t(i)}function VV(e,t,n,r){const s=Uf(e,t);return s===N.Union?wn([n,r]):s===N.True?n:r}function Vw(e,t,n,r,s={}){return Yn(e)?qV(e,t,n,r,s):_o(e)?ie(JV(e,t,n,r,s)):ie(VV(e,t,n,r),s)}function zV(e,t,n,r,s){return{[e]:Vw(Ke(e),t,n,r,s)}}function HV(e,t,n,r,s){return e.reduce((i,u)=>({...i,...zV(u,t,n,r,s)}),{})}function GV(e,t,n,r,s){return HV(e.keys,t,n,r,s)}function JV(e,t,n,r,s){const i=GV(e,t,n,r,s);return $t(i)}function WV(e){return e.allOf.every(t=>a0(t))}function QV(e){return e.anyOf.some(t=>a0(t))}function XV(e){return!a0(e.not)}function a0(e){return e[z]==="Intersect"?WV(e):e[z]==="Union"?QV(e):e[z]==="Not"?XV(e):e[z]==="Undefined"}function KV(e,t){return zw(Rh(e),t)}function YV(e,t){const n=e.filter(r=>Uf(r,t)===N.False);return n.length===1?n[0]:wn(n)}function zw(e,t,n={}){return Ao(e)?ie(KV(e,t),n):Yn(e)?ie(tz(e,t),n):ie(Bt(e)?YV(e.anyOf,t):Uf(e,t)!==N.False?kn():e,n)}function ZV(e,t){const n={};for(const r of globalThis.Object.getOwnPropertyNames(e))n[r]=zw(e[r],t);return n}function ez(e,t){return ZV(e.properties,t)}function tz(e,t){const n=ez(e,t);return $t(n)}function nz(e,t){return Hw(Rh(e),t)}function rz(e,t){const n=e.filter(r=>Uf(r,t)!==N.False);return n.length===1?n[0]:wn(n)}function Hw(e,t,n={}){return Ao(e)?ie(nz(e,t),n):Yn(e)?ie(uz(e,t),n):ie(Bt(e)?rz(e.anyOf,t):Uf(e,t)!==N.False?e:kn(),n)}function sz(e,t){const n={};for(const r of globalThis.Object.getOwnPropertyNames(e))n[r]=Hw(e[r],t);return n}function iz(e,t){return sz(e.properties,t)}function uz(e,t){const n=iz(e,t);return $t(n)}function oz(e,t={}){return ie(e.returns,t)}function az(e={}){return{...e,[z]:"Integer",type:"integer"}}function cz(e,t,n){return{[e]:yc(Ke(e),t,n)}}function lz(e,t,n){return e.reduce((r,s)=>({...r,...cz(s,t,n)}),{})}function fz(e,t,n){return lz(e.keys,t,n)}function dz(e,t,n){const r=fz(e,t,n);return $t(r)}function hz(e){const[t,n]=[e.slice(0,1),e.slice(1)];return[t.toLowerCase(),n].join("")}function pz(e){const[t,n]=[e.slice(0,1),e.slice(1)];return[t.toUpperCase(),n].join("")}function gz(e){return e.toUpperCase()}function mz(e){return e.toLowerCase()}function yz(e,t,n){const r=jw(e.pattern);if(!$l(r))return{...e,pattern:SO(e.pattern,t)};const u=[...s0(r)].map(c=>Ke(c)),o=_O(u,t),a=wn(o);return ZE([a],n)}function SO(e,t){return typeof e=="string"?t==="Uncapitalize"?hz(e):t==="Capitalize"?pz(e):t==="Uppercase"?gz(e):t==="Lowercase"?mz(e):e:e.toString()}function _O(e,t){return e.map(n=>yc(n,t))}function yc(e,t,n={}){return _o(e)?dz(e,t,n):Ao(e)?yz(e,t,e):Bt(e)?wn(_O(e.anyOf,t),n):jf(e)?Ke(SO(e.const,t),n):e}function bz(e,t={}){return yc(e,"Capitalize",t)}function wz(e,t={}){return yc(e,"Lowercase",t)}function vz(e,t={}){return yc(e,"Uncapitalize",t)}function xz(e,t={}){return yc(e,"Uppercase",t)}function Sz(e,t){return{...t,[z]:"Not",not:ie(e)}}function _z(e,t,n){const r={};for(const s of globalThis.Object.getOwnPropertyNames(e))r[s]=Jw(e[s],t,n);return r}function Az(e,t,n){return _z(e.properties,t,n)}function Tz(e,t,n){const r=Az(e,t,n);return $t(r)}function Ez(e,t){return e.map(n=>Gw(n,t))}function Oz(e,t){return e.map(n=>Gw(n,t))}function Iz(e,t){const{[t]:n,...r}=e;return r}function Nz(e,t){return t.reduce((n,r)=>Iz(n,r),e)}function Gw(e,t){return Yr(e)?Ro(Ez(e.allOf,t)):Bt(e)?wn(Oz(e.anyOf,t)):Ds(e)?Rt(Nz(e.properties,t)):Rt({})}function Jw(e,t,n={}){if(_o(t))return Dz(e,t,n);if(Yn(e))return Tz(e,t,n);const r=ao(t)?hu(t):t,s=br(e,[ps,"$id","required"]),i=ie(Gw(e,r),n);return{...s,...i}}function Rz(e,t,n){return{[t]:Jw(e,[t],n)}}function kz(e,t,n){return t.reduce((r,s)=>({...r,...Rz(e,s,n)}),{})}function Cz(e,t,n){return kz(e,t.keys,n)}function Dz(e,t,n){const r=Cz(e,t,n);return $t(r)}function Mz(e,t={}){return Ff(zn(e.parameters),{...t})}function WS(e){return e.map(t=>AO(t))}function Pz(e){const t={};for(const n of globalThis.Object.getOwnPropertyNames(e))t[n]=No(e[n]);return t}function AO(e){return Yr(e)?Ro(WS(e.allOf)):Bt(e)?wn(WS(e.anyOf)):Ds(e)?Rt(Pz(e.properties)):Rt({})}function TO(e,t={}){if(Yn(e))return Fz(e,t);const n=br(e,[ps,"$id","required"]),r=ie(AO(e),t);return{...n,...r}}function jz(e,t){const n={};for(const r of globalThis.Object.getOwnPropertyNames(e))n[r]=TO(e[r],t);return n}function Lz(e,t){return jz(e.properties,t)}function Fz(e,t){const n=Lz(e,t);return $t(n)}function Bz(e,t,n){const r={};for(const s of globalThis.Object.getOwnPropertyNames(e))r[s]=Qw(e[s],t,n);return r}function $z(e,t,n){return Bz(e.properties,t,n)}function Uz(e,t,n){const r=$z(e,t,n);return $t(r)}function qz(e,t){return e.map(n=>Ww(n,t))}function Vz(e,t){return e.map(n=>Ww(n,t))}function zz(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function Ww(e,t){return Yr(e)?Ro(qz(e.allOf,t)):Bt(e)?wn(Vz(e.anyOf,t)):Ds(e)?Rt(zz(e.properties,t)):Rt({})}function Qw(e,t,n={}){if(_o(t))return Wz(e,t,n);if(Yn(e))return Uz(e,t,n);const r=ao(t)?hu(t):t,s=br(e,[ps,"$id","required"]),i=ie(Ww(e,r),n);return{...s,...i}}function Hz(e,t,n){return{[t]:Qw(e,[t],n)}}function Gz(e,t,n){return t.reduce((r,s)=>({...r,...Hz(e,s,n)}),{})}function Jz(e,t,n){return Gz(e,t.keys,n)}function Wz(e,t,n){const r=Jz(e,t,n);return $t(r)}function Qz(e){return Io(No(e))}function qf(e,t,n){return{...n,[z]:"Record",type:"object",patternProperties:{[e]:ie(t)}}}function Xw(e,t,n){const r={};for(const s of e)r[s]=ie(t);return Rt(r,{...n,[Gp]:"Record"})}function Xz(e,t,n){return xU(e)?Xw(hu(e),t,n):qf(e.pattern,t,n)}function Kz(e,t,n){return Xw(hu(wn(e)),t,n)}function Yz(e,t,n){return Xw([e.toString()],t,n)}function Zz(e,t,n){return qf(e.source,t,n)}function eH(e,t,n){const r=Qe(e.pattern)?Nh:e.pattern;return qf(r,t,n)}function tH(e,t,n){return qf(Ll,t,n)}function nH(e,t,n){return qf(Ll,t,n)}function rH(e,t,n={}){return Bt(e)?Kz(e.anyOf,t,n):Ao(e)?Xz(e,t,n):jf(e)?Yz(e.const,t,n):Jp(e)?tH(e,t,n):Qp(e)?nH(e,t,n):PE(e)?Zz(e,t,n):Aw(e)?eH(e,t,n):kn(n)}let sH=0;function iH(e,t={}){Qe(t.$id)&&(t.$id=`T${sH++}`);const n=e({[z]:"This",$ref:`${t.$id}`});return n.$id=t.$id,ie({...t,[Gp]:"Recursive",...n})}function uH(e,t={}){if(ot(e))return{...t,[z]:"Ref",$ref:e};if(Qe(e.$id))throw new Error("Reference target type must specify an $id");return{...t,[z]:"Ref",$ref:e.$id}}function oH(e,t={}){const n=ot(e)?new globalThis.RegExp(e):e;return{...t,[z]:"RegExp",type:"RegExp",source:n.source,flags:n.flags}}function QS(e){return e.map(t=>EO(t))}function aH(e){const t={};for(const n of globalThis.Object.getOwnPropertyNames(e))t[n]=br(e[n],[lu]);return t}function EO(e){return Yr(e)?Ro(QS(e.allOf)):Bt(e)?wn(QS(e.anyOf)):Ds(e)?Rt(aH(e.properties)):Rt({})}function OO(e,t={}){if(Yn(e))return fH(e,t);{const n=br(e,[ps,"$id","required"]),r=ie(EO(e),t);return{...n,...r}}}function cH(e,t){const n={};for(const r of globalThis.Object.getOwnPropertyNames(e))n[r]=OO(e[r],t);return n}function lH(e,t){return cH(e.properties,t)}function fH(e,t){const n=lH(e,t);return $t(n)}function dH(e){return Yr(e)?zn(e.allOf):Bt(e)?zn(e.anyOf):hc(e)?zn(e.items??[]):[]}function hH(e){return zn(dH(e))}function pH(e,t={}){return ie(e.returns,t)}function gH(e){return JSON.parse(JSON.stringify(e))}class mH{constructor(t){this.schema=t}Decode(t){return new yH(this.schema,t)}}class yH{constructor(t,n){this.schema=t,this.decode=n}EncodeTransform(t,n){const i={Encode:u=>n[ps].Encode(t(u)),Decode:u=>this.decode(n[ps].Decode(u))};return{...n,[ps]:i}}EncodeSchema(t,n){const r={Decode:this.decode,Encode:t};return{...n,[ps]:r}}Encode(t){const n=ie(this.schema);return Tw(n)?this.EncodeTransform(t,n):this.EncodeSchema(t,n)}}function bH(e){return new mH(e)}function IO(e={}){return{...e,[z]:e[z]??"Unsafe"}}function wH(e={}){return{...e,[z]:"Void",type:"void"}}const vH=Object.freeze(Object.defineProperty({__proto__:null,Any:Fl,Array:HE,AsyncIterator:GE,Awaited:vq,BigInt:Lw,Boolean:KE,Capitalize:bz,Composite:Pq,Const:Fq,Constructor:JE,ConstructorParameters:Bq,Date:lO,Deref:Ms,Enum:Zq,Exclude:zw,Extends:Vw,Extract:Hw,Function:r0,Index:Fw,InstanceType:oz,Integer:az,Intersect:Ro,Iterator:rO,KeyOf:cO,Literal:Ke,Lowercase:wz,Mapped:oq,Never:kn,Not:Sz,Null:fO,Number:gc,Object:Rt,Omit:Jw,Optional:No,Parameters:Mz,Partial:TO,Pick:Qw,Promise:sO,Readonly:Io,ReadonlyOptional:Qz,Record:rH,Recursive:iH,Ref:uH,RegExp:oH,Required:OO,Rest:hH,ReturnType:pH,Strict:gH,String:eu,Symbol:dO,TemplateLiteral:ZE,Transform:bH,Tuple:Ff,Uint8Array:pO,Uncapitalize:vz,Undefined:hO,Union:wn,Unknown:Bf,Unsafe:IO,Uppercase:xz,Void:wH},Symbol.toStringTag,{value:"Module"})),rt=vH,c0=["string","number","boolean","date"],Kw=["set"],xH=["record"];[...c0,...Kw,...xH];const SH=rt.Object({func:rt.String(),args:rt.Optional(rt.Union([rt.Array(rt.Any()),rt.Null()]))}),_H=rt.Object({nullable:rt.Optional(rt.Boolean()),default:rt.Optional(rt.Union([rt.String(),rt.Number(),rt.Boolean(),rt.Null(),SH]))}),se={Success:200,"Bad Request":400,Unauthorized:401,"Payment Required":402,Forbidden:403,"Not Found":404,Conflict:409,"Too Many Requests":429,"Internal Server Error":500,"Service Unavailable":503,"Gateway Timeout":504};class F extends Error{constructor(n,...r){super(...r);R(this,"status",se["Internal Server Error"]);R(this,"baseMessage");R(this,"contextMessage");R(this,"__isTriplitError",!0);this.name="TriplitError",this.baseMessage=r[0]||"Triplit Error",this.contextMessage=n}get message(){return this.contextMessage?`${this.baseMessage} | Context: ${this.contextMessage}`:this.baseMessage}toString(){return JSON.stringify(this.toJSON())}toJSON(){return{name:this.name,message:this.baseMessage,status:this.status,contextMessage:this.contextMessage}}static fromJson(n){const r=new F(n.contextMessage);return n.baseMessage&&(r.baseMessage=n.baseMessage),n.name&&(r.name=n.name),n.status&&(r.status=n.status),r}}class kh extends F{constructor(t,...n){super(...n),this.name="InvalidCollectionNameError",this.baseMessage=`${t} is not a valid collection name.`,this.status=se["Bad Request"]}}class XS extends F{constructor(...t){super(...t),this.name="InvalidInsertDocumentError",this.baseMessage="The document you are attempting to insert is invalid.",this.status=se["Bad Request"]}}class AH extends F{constructor(t,...n){super(...n),this.name="InvalidInternalEntityIdError",this.baseMessage=`${t} is not a valid internal entity id.`,this.status=se["Internal Server Error"]}}class TH extends F{constructor(...t){super(...t),this.name="DBScanFailureError",this.baseMessage="DB scan failed.",this.status=se["Internal Server Error"]}}class EH extends F{constructor(...t){super(...t),this.name="InvalidTimestampIndexScanError",this.baseMessage="The scan over the timestamp index you are attempting is invalid.",this.status=se["Bad Request"]}}class OH extends F{constructor(t,...n){super(...n),this.name="IndexNotFoundError",this.baseMessage=`${t} is not a valid index.`,this.status=se["Bad Request"]}}class IH extends F{constructor(t,n,...r){super(...r),this.name="EntityNotFoundError",this.baseMessage=`Could not find entity with id ${t} in collection ${n}.`,this.status=se["Not Found"]}}class Jd extends F{constructor(...t){super(...t),this.name="InvalidFilterError",this.baseMessage="Your query passed a filter that is invalid.",this.status=se["Bad Request"]}}class KS extends F{constructor(t,...n){super(...n),this.name="SessionVariableNotFoundError",this.baseMessage=`${t} could not be found in the provided variables for this query.`,this.status=se["Bad Request"]}}class NO extends F{constructor(...t){super(...t),this.name="InvalidOperationError",this.baseMessage="You are attempting to perform an operation that is not valid.",this.status=se["Bad Request"]}}class NH extends F{constructor(t,n,r,...s){super(...s),this.name="ValueSchemaMismatchError",this.baseMessage=`Cannot assign ${r} to '${n.join(".")}' because it does not match the schema for ${t}.`,this.status=se["Bad Request"]}}class RH extends F{constructor(...t){super(...t),this.name="NoSchemaRegisteredError",this.baseMessage="No schema was availabe when one was expected to be.",this.status=se["Internal Server Error"]}}class dl extends F{constructor(t,n,...r){super(...r),this.name="CollectionNotFoundError",this.baseMessage=`Could not find a collection with name ${t} in your schema. Valid collections are: [${Object.keys(n).map(s=>`'${s}'`).join(", ")}].`,this.status=se["Bad Request"]}}class YS extends F{constructor(t,...n){super(...n),this.name="InvalidEntityIdError",this.baseMessage=`${t} is not a valid entity id.`,this.status=se["Bad Request"]}}class kH extends F{constructor(t,...n){super(...n),this.name="InvalidSetTypeError",this.baseMessage=`When constructing the schema, an invalid type for the items in a set was recieved. A set may only be of type ${Kw}. You passed '${t}'.`,this.status=se["Bad Request"]}}class hr extends F{constructor(t,...n){super(...n),this.name="InvalidSchemaPathError",this.baseMessage=`The path '${t.join(".")}' is not a valid path in the schema.`,this.status=se["Bad Request"]}}class CH extends F{constructor(t,n,...r){super(...r),this.name="RelationDoesNotExistError",this.baseMessage=`The attribute '${t}' does not exist in the schema for the '${n}' collection.`,this.status=se["Bad Request"]}}class DH extends F{constructor(t,n,...r){super(...r),this.name="IncludedNonRelationError",this.baseMessage=`The attribute '${t}' in the '${n}' can not be used in the 'include' clause as it is not a relation.`,this.status=se["Bad Request"]}}class l0 extends F{constructor(t,...n){super(...n),this.name="InvalidTypeOptionsError",this.baseMessage=`Received ${JSON.stringify(t)}`,this.status=se["Bad Request"]}}class MH extends F{constructor(...t){super(...t),this.name="InvalidMigrationOperationError",this.baseMessage="Invalid migration operation.",this.status=se["Bad Request"]}}class RO extends F{constructor(...t){super(...t),this.name="WriteRuleError",this.baseMessage="Write failed because it didn't pass a Rule.",this.status=se.Unauthorized}}class PH extends F{constructor(t,n,r,s,...i){super(...i),this.name="WritePermissionError",this.baseMessage=`Write to collection '${t}' with id '${n}' is not permitted. Failed operation: ${r}. Session roles: [${s.map(u=>u.key).join(", ")}].`,this.status=se.Unauthorized}}class jH extends F{constructor(t,n,...r){super(...r),this.name="UnrecognizedPropertyInUpdateError",this.baseMessage=`Cannot set unrecognized property ${t} to ${String(n)} during an entity update. The property may not be defined in your schema.`,this.status=se["Bad Request"]}}class LH extends F{constructor(...t){super(...t),this.name="TypeJSONParseError",this.baseMessage="Failed to parse this type from a JSON form.",this.status=se["Internal Server Error"]}}class FH extends F{constructor(t,...n){super(...n),this.name="UnrecognizedAttributeTypeError",this.baseMessage=`An attribute in the schema contains an unsupported type: ${t}. Valid types are ${[c0,...Kw,"query"]}`,this.status=se["Bad Request"]}}class ZS extends F{constructor(t,...n){super(...n),this.name="InvalidTripleStoreValueError",this.baseMessage=`Cannot store value ${String(t)} in the triple store.`,this.status=se["Bad Request"]}}class BH extends F{constructor(...t){super(...t),this.name="QueryCacheError",this.baseMessage="An error ocurred inside the query cache",this.status=se["Bad Request"]}}class $H extends F{constructor(t,...n){super(...n),this.name="UnserializableValueError",this.baseMessage=`Cannot serialize value ${String(t)} for insertion into the database.`,this.status=se["Bad Request"]}}class e2 extends F{constructor(...t){super(...t),this.name="TripleStoreOptionsError",this.baseMessage="There was an error in the configuration of the triple store.",this.status=se["Bad Request"]}}class im extends F{constructor(t,n,...r){super(...r),this.name="QueryClauseFormattingError",this.baseMessage=`The ${t} clause is not formatted correctly.
    
    Received: ${JSON.stringify(n)}`,this.status=se["Bad Request"]}}class UH extends F{constructor(...t){super(...t),this.name="AfterClauseWithNoOrderError",this.baseMessage="The 'after' clause must be used after an 'order' clause.",this.status=se["Bad Request"]}}class t2 extends F{constructor(...t){super(...t),this.name="DBOptionsError",this.baseMessage="There was an error in the configuration of the Triplit database.",this.status=se["Bad Request"]}}class bc extends F{constructor(t,n,...r){super(...r),this.name="DBSerializationError",this.baseMessage=`When inserting or updating an entity, there was an error serializing the data: ${n} as type: ${t}`,this.status=se["Bad Request"]}}class qH extends F{constructor(...t){super(...t),this.name="InvalidAttributeOptionsError",this.baseMessage="The options for an attribute in the schema are invalid.",this.status=se["Bad Request"]}}class kO extends F{constructor(...t){super(...t),this.name="NotImplementedError",this.baseMessage="This feature is not yet implemented.",this.status=se["Bad Request"]}}class wc extends F{constructor(t,n,...r){super(...r),this.name="JSONValueParseError",this.baseMessage=`Failed to parse a ${t} value from the provided JSON input: ${JSON.stringify(n)}`,this.status=se["Bad Request"]}}class VH extends F{constructor(t,n,...r){super(...r),this.name="JSToJSONValueParseError",this.baseMessage=`Failed to tranform to JSON from the provided ${t} input: ${JSON.stringify(n)}`,this.status=se["Bad Request"]}}class um extends F{constructor(t,...n){super(...n),this.name="InvalidQueryCardinalityError",this.baseMessage=`The cardinality ${t} is not valid for the query type.`,this.status=se["Bad Request"]}}class zH extends F{constructor(...t){super(...t),this.name="InvalidOrderClauseError",this.baseMessage="An order clause has been determined to be invalid.",this.status=se["Bad Request"]}}class HH extends F{constructor(...t){super(...t),this.name="InvalidWhereClauseError",this.baseMessage="A where clause has been determined to be invalid.",this.status=se["Bad Request"]}}class GH extends F{constructor(...t){super(...t),this.name="InvalidSelectClauseError",this.baseMessage="The select clause of this query has been determined to be invalid.",this.status=se["Bad Request"]}}class JH extends F{constructor(...t){super(...t),this.name="QueryNotPreparedError",this.baseMessage="The query has not been prepared yet. This indicates a bug. Please inform the Triplit team.",this.status=se["Internal Server Error"]}}function WH(e){return new Map(Array.from(e).map(t=>[QH(t),!0]))}function f0(e,t=[]){if(e===null||typeof e!="object")return[[t,e]];if(Object.keys(e).length===0)return[[t,"{}"]];if(Array.isArray(e))return[[t,e]];const n=[];t.length&&n.push([t,"{}"]);const r=Object.keys(e).flatMap(s=>f0(e[s],[...t,s]));for(const s of r)n.push(s);return n}function Uo(e,t=[]){if(e==null||typeof e!="object")return[[...t,e]];if(e instanceof Date)return[[...t,e.toISOString()]];if(e instanceof Map)return[...e.entries()].flatMap(([n,r])=>Uo(r,[...t,n]));if(e instanceof Set){const n=WH(e);return n.size===0?Uo(new Map([["_",!1]]),t):Uo(n,t)}return e instanceof Array?e.flatMap((n,r)=>Uo(n,[...t,r])):Object.keys(e).flatMap(n=>Uo(e[n],[...t,n]))}function QH(e){if(e==null||typeof e!="object")return e;if(e instanceof Date)return e.toISOString();throw new $H(e)}function CO(e){const t={};for(const[n,r,s]of e)t[n]||(t[n]={}),r.reduce((i,u,o)=>o===r.length-1?(i[u]=s,i):(i[u]||(i[u]=typeof r[o+1]=="number"?[]:{}),i[u]),t[n]);return t}function Ch(e){return Object.entries(e).reduce((t,[n,r])=>(t[n]=[...r],t),{})}function dn(e,t){if(typeof e!="object"||e===null)return e;if(XH(e))return dn(e[0]);if(e instanceof Array)return e.map(s=>dn(s)).filter(s=>!!t||s!==void 0);if(e instanceof Map)return new Map(Array.from(e.entries()).map(([s,i])=>[s,dn(i)]));const n=Object.entries(e).map(([s,i])=>[s,dn(i)]).filter(([s,i])=>!!t||i!==void 0);return Object.fromEntries(n)}function XH(e){return e instanceof Array&&e.length===2&&e[1]instanceof Array&&e[1].length===2}function vs(e,t){return!e&&!t?0:e?t?e[0]!==t[0]?e[0]<t[0]?-1:1:e[1]!==t[1]?e[1]<t[1]?-1:1:0:1:-1}var om={},d0={},lo={};Object.defineProperty(lo,"__esModule",{value:!0});lo.getWrittenTuples=lo.iterateWrittenTuples=void 0;function*DO(e){for(const{key:t}of e.set||[])yield t;for(const t of e.remove||[])yield t}lo.iterateWrittenTuples=DO;function KH(e){return Array.from(DO(e))}lo.getWrittenTuples=KH;var ko={},YH=function(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))};function MO(e,t,n){var r=function(i){return e.apply(void 0,YH([i],Array.from(t),!1))},s=n??e.lazy;return s===void 0?r:Object.assign(r,{lazy:s,lazyArgs:t})}function O(e,t,n){var r=e.length-t.length;if(r===0)return e.apply(void 0,Array.from(t));if(r===1)return MO(e,t,n);throw new Error("Wrong number of arguments")}function ZH(){return O(eG,arguments)}function eG(e,t){return e+t}var Dh=function(){return Dh=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Dh.apply(this,arguments)};function tG(){return O(nG,arguments)}function nG(e,t,n){var r;return Dh(Dh({},e),(r={},r[t]=n,r))}function rG(){return O(sG,arguments)}function sG(e,t){return t.every(function(n){return n(e)})}function iG(){return O(uG,arguments)}function uG(e,t){return t.some(function(n){return n(e)})}var n2=15;function Yw(e){return function(t,n){if(n===0)return e(t);if(!Number.isInteger(n))throw new TypeError("precision must be an integer: ".concat(n));if(n>n2||n<-n2)throw new RangeError("precision must be between -15 and 15");if(Number.isNaN(t)||!Number.isFinite(t))return e(t);var r=Math.pow(10,n);return e(t*r)/r}}function oG(){return O(Yw(Math.ceil),arguments)}function aG(){return O(cG,arguments)}function cG(e,t){for(var n=[],r=0;r<e.length;r+=t)n.push(e.slice(r,r+t));return n}function lG(){return O(fG,arguments)}function fG(e,t){var n=t.min,r=t.max;return n!==void 0&&e<n?n:r!==void 0&&e>r?r:e}function PO(e){return e===null?"Null":e===void 0?"Undefined":Object.prototype.toString.call(e).slice(8,-1)}function dG(e){return new RegExp(e.source,(e.global?"g":"")+(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.sticky?"y":"")+(e.unicode?"u":""))}function jO(e,t,n,r){function s(i){for(var u=t.length,o=0;o<u;){if(e===t[o])return n[o];o+=1}t[o+1]=e,n[o+1]=i;for(var a in e)i[a]=jO(e[a],t,n);return i}switch(PO(e)){case"Object":return s({});case"Array":return s([]);case"Date":return new Date(e.valueOf());case"RegExp":return dG(e);default:return e}}function hG(e){return e!=null&&typeof e.clone=="function"?e.clone():jO(e,[],[])}function LO(e){return!!e}function pG(e){return e.filter(LO)}function gG(){return O(mG,arguments)}function mG(e,t){return e.concat(t)}var yG=function(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))};function bG(e,t,n){var r=Array.from(n);return e(n[0])?function(s){return t.apply(void 0,yG([s],r,!1))}:t.apply(void 0,r)}function N1(){return bG(vG,wG,arguments)}function wG(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,s=t;r<s.length;r++){var i=s[r],u=i[0],o=i[1];if(u(e))return o(e)}throw new Error("conditional: data failed for all cases")}function vG(e){if(!Array.isArray(e))return!1;var t=e,n=t[0],r=t[1],s=t.slice(2);return typeof n=="function"&&n.length<=1&&typeof r=="function"&&r.length<=1&&s.length===0}(function(e){function t(n){return n===void 0&&(n=SG),[xG,n]}e.defaultCase=t})(N1||(N1={}));var xG=function(){return!0},SG=function(){};function _G(e){return function(){return e}}var FO=function(e){return function(t,n){for(var r=0,s=0;s<t.length;s++){var i=t[s],u=e?n(i,s,t):n(i);r+=u?1:0}return r}};function R1(){return O(FO(!1),arguments)}(function(e){function t(){return O(FO(!0),arguments)}e.indexed=t})(R1||(R1={}));function Zw(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];for(var s=e,i=n.map(function(b){return"lazy"in b?AG(b):void 0}),u=0;u<n.length;){var o=i[u];if(o===void 0||!TG(s)){var a=n[u];s=a(s),u+=1;continue}for(var c=[],l=u;l<n.length;l++){var d=i[l];if(d===void 0||(c.push(d),d.isSingle))break}for(var h=[],f=s[Symbol.iterator]();;){var p=f.next();if((t=p.done)!==null&&t!==void 0&&t)break;var m=BO(p.value,h,c);if(m)break}var y=c[c.length-1].isSingle;s=y?h[0]:h,u+=c.length}return s}function BO(e,t,n){var r;if(n.length===0)return t.push(e),!1;for(var s=e,i={done:!1,hasNext:!1},u=!1,o=0;o<n.length;o++){var a=n[o],c=a.isIndexed,l=a.index,d=a.items;if(d.push(s),i=c?a(s,l,d):a(s),a.index+=1,i.hasNext){if((r=i.hasMany)!==null&&r!==void 0&&r){for(var h=0,f=i.next;h<f.length;h++){var p=f[h],m=BO(p,t,n.slice(o+1));if(m)return!0}return!1}s=i.next}if(!i.hasNext)break;i.done&&(u=!0)}return i.hasNext&&t.push(s),!!u}function AG(e){var t=e.lazy,n=e.lazyArgs,r=t.apply(void 0,n??[]);return Object.assign(r,{isIndexed:t.indexed,isSingle:t.single,index:0,items:[]})}function TG(e){return typeof e=="string"||typeof e=="object"&&e!==null&&Symbol.iterator in e}var EG=function(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))};function OG(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(n){return Zw.apply(void 0,EG([n],e,!1))}}function IG(e,t){var n=t.waitMs,r=t.timing,s=r===void 0?"trailing":r,i=t.maxWaitMs;if(i!==void 0&&n!==void 0&&i<n)throw new Error("debounce: maxWaitMs (".concat(i,") cannot be less than waitMs (").concat(n,")"));var u,o,a,c,l=function(){if(a!==void 0){if(o!==void 0){var f=o;o=void 0,clearTimeout(f)}var p=a;a=void 0,c=e.apply(void 0,p)}},d=function(){if(u!==void 0){var f=u;u=void 0,clearTimeout(f),a!==void 0&&l()}},h=function(f){a=f,i!==void 0&&o===void 0&&(o=setTimeout(l,i))};return{call:function(){for(var f,p=[],m=0;m<arguments.length;m++)p[m]=arguments[m];if(u===void 0)s==="trailing"?h(p):c=e.apply(void 0,p);else{s!=="leading"&&h(p);var y=u;u=void 0,clearTimeout(y)}return u=setTimeout(d,(f=n??i)!==null&&f!==void 0?f:0),c},cancel:function(){if(u!==void 0){var f=u;u=void 0,clearTimeout(f)}if(o!==void 0){var f=o;o=void 0,clearTimeout(f)}a=void 0},flush:function(){return d(),c},get isPending(){return u!==void 0},get cachedValue(){return c}}}function et(e,t,n){n===void 0&&(n=!1);for(var r=[],s=0;s<e.length;s++){var i=e[s],u=n?t(i,s,e):t(i);if(u.hasMany===!0?r.push.apply(r,u.next):u.hasNext&&r.push(u.next),u.done)break}return r}var NG={done:!0,hasNext:!1},RG=function(){return NG},kG=function(e){return{hasNext:!0,next:e,done:!1}};function Ul(){return O(CG,arguments,Ul.lazy)}function CG(e,t){var n=Ul.lazy(t);return et(e,n)}(function(e){function t(r){var s=new Set(r);return function(i){return s.has(i)?{done:!1,hasNext:!1}:{done:!1,hasNext:!0,next:i}}}e.lazy=t;function n(){return O(DG,arguments,$O)}e.multiset=n})(Ul||(Ul={}));var DG=function(e,t){return et(e,$O(t))};function $O(e){var t;if(e.length===0)return kG;for(var n=new Map,r=0,s=e;r<s.length;r++){var i=s[r];n.set(i,((t=n.get(i))!==null&&t!==void 0?t:0)+1)}return function(u){var o=n.get(u);return o===void 0||o===0?{done:!1,hasNext:!0,next:u}:(n.set(u,o-1),{done:!1,hasNext:!1})}}function ql(){return O(MG,arguments,ql.lazy)}function MG(e,t,n){var r=ql.lazy(t,n);return et(e,r)}(function(e){e.lazy=function(t,n){return function(r){return t.every(function(s){return!n(r,s)})?{done:!1,hasNext:!0,next:r}:{done:!1,hasNext:!1}}}})(ql||(ql={}));function PG(){return O(jG,arguments)}function jG(e,t){return e/t}function LG(){return FG}function FG(){}function Vl(){return O(BG,arguments,Vl.lazy)}function BG(e,t){return et(e,Vl.lazy(t))}(function(e){function t(n){var r=n;return function(s){return r>0?(r-=1,{done:!1,hasNext:!1}):{done:!1,hasNext:!0,next:s}}}e.lazy=t})(Vl||(Vl={}));function k1(e,t,n){var r;r=[e[n],e[t]],e[t]=r[0],e[n]=r[1]}function zl(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return O($G,e)}var $G=function(e,t){return e.length>=t};function UO(e,t){for(var n=Math.floor(e.length/2)-1;n>=0;n--)VO(e,n,t)}function qO(e,t,n){if(zl(e,1)){var r=e[0];if(!(t(n,r)>=0))return e[0]=n,VO(e,0,t),r}}function VO(e,t,n){for(var r=t;r*2+1<e.length;){var s=r*2+1,i=n(e[r],e[s])<0?s:r,u=s+1;if(u<e.length&&n(e[i],e[u])<0&&(i=u),i===r)return;k1(e,r,i),r=i}}var Qo=function(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))},zO={asc:function(e,t){return e>t},desc:function(e,t){return e<t}};function ev(e,t){var n=Array.isArray(t)?t:Array.from(t),r=n[0],s=n.slice(1);if(!HO(r)){var i=C1.apply(void 0,s);return e(r,i)}var u=C1.apply(void 0,Qo([r],s,!1));return function(o){return e(o,u)}}function h0(e,t){var n=Array.from(t),r=n[0],s=n[1],i=n.slice(2),u,o;return HO(s)?(u=r,o=Qo([s],i,!0)):(u=s,o=Qo([r],i,!0)),ev(function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];return e.apply(void 0,Qo(Qo([],a,!1),[u],!1))},o)}function C1(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var s=typeof e=="function"?e:e[0],i=typeof e=="function"?"asc":e[1],u=zO,o=i,a=u[o],c=t===void 0?void 0:C1.apply(void 0,Qo([t],n,!1));return function(l,d){var h,f=s(l),p=s(d);return a(f,p)?1:a(p,f)?-1:(h=c==null?void 0:c(l,d))!==null&&h!==void 0?h:0}}function HO(e){if(r2(e))return!0;if(typeof e!="object"||!Array.isArray(e))return!1;var t=e,n=t[0],r=t[1],s=t.slice(2);return r2(n)&&typeof r=="string"&&r in zO&&s.length===0}var r2=function(e){return typeof e=="function"&&e.length===1};function UG(){return h0(qG,arguments)}function qG(e,t,n){if(n>=e.length)return[];if(n<=0)return e.slice();var r=e.slice(0,n);UO(r,t);for(var s=[],i=e.slice(n),u=0,o=i;u<o.length;u++){var a=o[u],c=qO(r,t,a);s.push(c??a)}return s}function VG(){return O(zG,arguments)}function zG(e,t){var n=e.slice();return t>0&&n.splice(-t),n}function HG(){return O(GG,arguments)}function GG(e,t){for(var n=e.length-1;n>=0;n--)if(!t(e[n]))return e.slice(0,n+1);return[]}function JG(){return O(WG,arguments)}function WG(e,t){for(var n=0;n<e.length;n++)if(!t(e[n]))return e.slice(n);return[]}function D1(){return O(Object.entries,arguments)}(function(e){e.strict=e})(D1||(D1={}));function QG(){return O(M1,arguments)}function M1(e,t){if(e===t)return!0;if(typeof e=="number"&&typeof t=="number")return e!==e&&t!==t;if(typeof e!="object"||typeof t!="object"||e===null||t===null)return!1;var n=Array.isArray(e),r=Array.isArray(t);if(n&&r){if(e.length!==t.length)return!1;for(var s=0;s<e.length;s++)if(!M1(e[s],t[s]))return!1;return!0}if(n!==r)return!1;var i=e instanceof Date,u=t instanceof Date;if(i&&u)return e.getTime()===t.getTime();if(i!==u)return!1;var o=e instanceof RegExp,a=t instanceof RegExp;if(o&&a)return e.toString()===t.toString();if(o!==a)return!1;var c=Object.keys(e);if(c.length!==Object.keys(t).length)return!1;for(var l=0,d=c;l<d.length;l++){var h=d[l];if(!Object.prototype.hasOwnProperty.call(t,h)||!M1(e[h],t[h]))return!1}return!0}function Ia(){return O(Object.entries,arguments)}(function(e){e.strict=e})(Ia||(Ia={}));var P1=function(){return P1=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},P1.apply(this,arguments)};function XG(){return O(GO,arguments)}function GO(e,t){if(typeof e!="object"||e===null)return e;for(var n=P1({},e),r=0,s=Ia.strict(t);r<s.length;r++){var i=s[r],u=i[0],o=i[1];u in n&&(n[u]=typeof o=="function"?o(n[u]):GO(n[u],o))}return n}var bi=function(e){return Object.assign(e,{indexed:!0})};function Na(){return O(JO(!1),arguments,Na.lazy)}var JO=function(e){return function(t,n){return et(t,e?Na.lazyIndexed(n):Na.lazy(n),e)}},s2=function(e){return function(t){return function(n,r,s){return(e?t(n,r,s):t(n))?{done:!1,hasNext:!0,next:n}:{done:!1,hasNext:!1}}}};(function(e){function t(){return O(JO(!0),arguments,e.lazyIndexed)}e.indexed=t,e.lazy=s2(!1),e.lazyIndexed=bi(s2(!0))})(Na||(Na={}));var Mh=function(e){return Object.assign(e,{single:!0})};function Ph(){return O(WO(!1),arguments,Ph.lazy)}var WO=function(e){return function(t,n){return t.find(function(r,s,i){return e?n(r,s,i):n(r)})}},i2=function(e){return function(t){return function(n,r,s){return(e?t(n,r,s):t(n))?{done:!0,hasNext:!0,next:n}:{done:!1,hasNext:!1}}}};(function(e){function t(){return O(WO(!0),arguments,e.lazyIndexed)}e.indexed=t,e.lazy=Mh(i2(!1)),e.lazyIndexed=Mh(bi(i2(!0)))})(Ph||(Ph={}));function jh(){return O(QO(!1),arguments,jh.lazy)}var QO=function(e){return function(t,n){return t.findIndex(function(r,s,i){return e?n(r,s,i):n(r)})}},u2=function(e){return function(t){var n=0;return function(r,s,i){return(e?t(r,s,i):t(r))?{done:!0,hasNext:!0,next:n}:(n+=1,{done:!1,hasNext:!1})}}};(function(e){function t(){return O(QO(!0),arguments,e.lazyIndexed)}e.indexed=t,e.lazy=Mh(u2(!1)),e.lazyIndexed=Mh(bi(u2(!0)))})(jh||(jh={}));function j1(){return O(XO(!1),arguments)}var XO=function(e){return function(t,n){for(var r=t.length-1;r>=0;r--)if(e?n(t[r],r,t):n(t[r]))return t[r]}};(function(e){function t(){return O(XO(!0),arguments)}e.indexed=t})(j1||(j1={}));function L1(){return O(KO(!1),arguments)}var KO=function(e){return function(t,n){for(var r=t.length-1;r>=0;r--)if(e?n(t[r],r,t):n(t[r]))return r;return-1}};(function(e){function t(){return O(KO(!0),arguments)}e.indexed=t})(L1||(L1={}));function Lh(){return O(KG,arguments,Lh.lazy)}function KG(e){var t=e[0];return t}(function(e){function t(){return function(n){return{done:!0,hasNext:!0,next:n}}}e.lazy=t,function(n){n.single=!0}(t=e.lazy||(e.lazy={}))})(Lh||(Lh={}));function YG(){return ev(ZG,arguments)}function ZG(e,t){if(!zl(e,2))return e[0];for(var n=e[0],r=e.slice(1),s=0,i=r;s<i.length;s++){var u=i[s];t(u,n)<0&&(n=u)}return n}var YO=1;function eJ(e,t){return typeof e=="object"?Fh(e,t):MO(Fh,arguments,tJ)}var tJ=function(e){return e===void 0&&(e=YO),e<=0?nJ:e===1?rJ:function(t){return Array.isArray(t)?{next:Fh(t,e-1),hasNext:!0,hasMany:!0,done:!1}:{next:t,hasNext:!0,done:!1}}},nJ=function(e){return{next:e,hasNext:!0,done:!1}},rJ=function(e){return Array.isArray(e)?{next:e,hasNext:!0,hasMany:!0,done:!1}:{next:e,hasNext:!0,done:!1}};function Fh(e,t){if(t===void 0&&(t=YO),t<=0)return e.slice();for(var n=[],r=0,s=e;r<s.length;r++){var i=s[r];Array.isArray(i)?n.push.apply(n,Fh(i,t-1)):n.push(i)}return n}function Ra(){return O(sJ,arguments,Ra.lazy)}function sJ(e){return et(e,Ra.lazy())}(function(e){e.lazy=function(){return function(t){return Array.isArray(t)?{done:!1,hasNext:!0,hasMany:!0,next:t}:{done:!1,hasNext:!0,next:t}}}})(Ra||(Ra={}));function Bh(){return O(iJ,arguments,Bh.lazy)}function iJ(e,t){return Ra(e.map(function(n){return t(n)}))}(function(e){e.lazy=function(t){return function(n){var r=t(n);return Array.isArray(r)?{done:!1,hasNext:!0,hasMany:!0,next:r}:{done:!1,hasNext:!0,next:r}}}})(Bh||(Bh={}));function F1(){return O(ZO(!1),arguments)}var ZO=function(e){return function(t,n){for(var r={},s=0;s<t.length;s++)for(var i=t[s],u=e?n(i,s,t):n(i),o=0,a=u;o<a.length;o++){var c=a[o],l=c[0],d=c[1];r[l]=d}return r}};(function(e){function t(){return O(ZO(!0),arguments)}e.indexed=t})(F1||(F1={}));function ka(){return O(uJ,arguments,ka.lazy)}function uJ(e){return et(e,ka.lazy())}function oJ(e){if(!Array.isArray(e))return e;for(var t=[],n=0,r=e;n<r.length;n++){var s=r[n];Array.isArray(s)?t.push.apply(t,ka(s)):t.push(s)}return t}(function(e){e.lazy=function(){return function(t){var n=oJ(t);return Array.isArray(n)?{done:!1,hasNext:!0,hasMany:!0,next:n}:{done:!1,hasNext:!0,next:n}}}})(ka||(ka={}));function aJ(){return O(Yw(Math.floor),arguments)}function Ca(){return O(e4(!1),arguments,Ca.lazy)}var e4=function(e){return function(t,n){return et(t,e?Ca.lazyIndexed(n):Ca.lazy(n),e)}},o2=function(e){return function(t){return function(n,r,s){return e?t(n,r,s):t(n),{done:!1,hasNext:!0,next:n}}}};(function(e){function t(){return O(e4(!0),arguments,e.lazyIndexed)}e.indexed=t,e.lazy=o2(!1),e.lazyIndexed=bi(o2(!0))})(Ca||(Ca={}));function B1(){return O(t4(!1),arguments)}var t4=function(e){return function(t,n){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var s=t,i=r,u=s[i];e?n(u,r,t):n(u)}return t}};(function(e){function t(){return O(t4(!0),arguments)}e.indexed=t})(B1||(B1={}));function $h(){return O(cJ,arguments)}function cJ(e){for(var t={},n=0,r=e;n<r.length;n++){var s=r[n],i=s[0],u=s[1];t[i]=u}return t}(function(e){e.strict=e})($h||($h={}));function lJ(){return O(fJ,arguments)}function fJ(e,t){for(var n={},r=0,s=e;r<s.length;r++){var i=s[r];n[i]=t(i)}return n}function $1(){return O(dJ,arguments)}function dJ(e){for(var t={},n=0,r=e;n<r.length;n++){var s=r[n],i=s[0],u=s[1];t[i]=u}return t}(function(e){e.strict=e})($1||($1={}));function U1(){return O(n4(!1),arguments)}var n4=function(e){return function(t,n){for(var r={},s=0;s<t.length;s++){var i=t[s],u=e?n(i,s,t):n(i);if(u!==void 0){var o=String(u),a=r[o];a===void 0&&(a=[],r[o]=a),a.push(i)}}return r}};(function(e){function t(){return O(n4(!0),arguments)}e.indexed=t,e.strict=e})(U1||(U1={}));function r4(){return O(Hl,arguments)}function Hl(e,t){if(e===t)return!0;if(typeof e=="number"&&typeof t=="number")return e!==e&&t!==t;if(typeof e!="object"||typeof t!="object"||e===null||t===null||Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;if(e instanceof Set)return pJ(e,t);if(Array.isArray(e)){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!Hl(e[n],t[n]))return!1;return!0}if(e instanceof Date)return e.getTime()===t.getTime();if(e instanceof RegExp)return e.toString()===t.toString();if(e instanceof Map)return hJ(e,t);var r=Object.keys(e);if(r.length!==Object.keys(t).length)return!1;for(var s=0,i=r;s<i.length;s++){var u=i[s];if(!Object.prototype.hasOwnProperty.call(t,u)||!Hl(e[u],t[u]))return!1}return!0}function hJ(e,t){if(e.size!==t.size)return!1;for(var n=Array.from(e.keys()),r=0,s=n;r<s.length;r++){var i=s[r];if(!t.has(i)||!Hl(e.get(i),t.get(i)))return!1}return!0}function pJ(e,t){if(e.size!==t.size)return!1;for(var n=Array.from(e.values()),r=Array.from(t.values()),s=0,i=n;s<i.length;s++){for(var u=i[s],o=!1,a=0;a<r.length;a++)if(Hl(u,r[a])){o=!0,r.splice(a,1);break}if(!o)return!1}return!0}function gJ(){return O(mJ,arguments)}function mJ(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var s=r[n];if(!Object.prototype.hasOwnProperty.call(e,s)||!r4(t[s],e[s]))return!1}return!0}function yJ(e){return e}function q1(){return O(s4(!1),arguments)}var s4=function(e){return function(t,n){for(var r={},s=0;s<t.length;s++){var i=t[s],u=e?n(i,s,t):n(i),o=String(u);r[o]=i}return r}};function bJ(){return O(wJ,arguments)}function wJ(e,t){for(var n={},r=0,s=e;r<s.length;r++){var i=s[r],u=t(i);n[u]=i}return n}(function(e){function t(){return O(s4(!0),arguments)}e.indexed=t,e.strict=bJ})(q1||(q1={}));function Gl(){return O(vJ,arguments,Gl.lazy)}function vJ(e,t){var n=Gl.lazy(t);return et(e,n)}(function(e){function t(r){var s=new Set(r);return function(i){return s.has(i)?{done:!1,hasNext:!0,next:i}:{done:!1,hasNext:!1}}}e.lazy=t;function n(){return O(xJ,arguments,i4)}e.multiset=n})(Gl||(Gl={}));var xJ=function(e,t){return et(e,i4(t))};function i4(e){var t;if(e.length===0)return RG;for(var n=new Map,r=0,s=e;r<s.length;r++){var i=s[r];n.set(i,((t=n.get(i))!==null&&t!==void 0?t:0)+1)}return function(u){var o=n.get(u);return o===void 0||o===0?{done:!1,hasNext:!1}:(o===1?n.delete(u):n.set(u,o-1),{hasNext:!0,next:u,done:n.size===0})}}function Jl(){return O(SJ,arguments,Jl.lazy)}function SJ(e,t,n){var r=Jl.lazy(t,n);return et(e,r)}(function(e){e.lazy=function(t,n){return function(r){return t.some(function(s){return n(r,s)})?{done:!1,hasNext:!0,next:r}:{done:!1,hasNext:!1}}}})(Jl||(Jl={}));function _J(){return O(AJ,arguments)}function AJ(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[e[n]]=n);return t}function u4(e){return Array.isArray(e)}function TJ(e){return typeof e=="boolean"}function EJ(e){return e instanceof Date}function V1(e){return e!=null}(function(e){function t(n){return n!==void 0}e.strict=t})(V1||(V1={}));function o4(e){return!!e&&!Array.isArray(e)&&typeof e=="object"}function a4(e){return typeof e=="string"}function OJ(e){return e===void 0?!0:u4(e)||a4(e)?e.length===0:o4(e)?Object.keys(e).length===0:!1}function IJ(e){return e instanceof Error}function NJ(e){return typeof e=="function"}function RJ(e,t){if(t===void 0){var n=new Set(e);return function(r){return n.has(r)}}return t.indexOf(e)>=0}function kJ(e){return e==null}function CJ(e){return e!==null}function DJ(e){return e!=null}function MJ(e){return function(t){return!e(t)}}function PJ(e){return e==null}function jJ(e){return typeof e=="number"&&!isNaN(e)}var LJ=function(e){return typeof e=="object"&&e!==null};function FJ(e){if(typeof e!="object"||e===null)return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function BJ(e){return e instanceof Promise}function $J(e){return typeof e=="symbol"}function UJ(){return O(qJ,arguments)}var qJ=function(e,t){return e.join(t)};function Wl(){return O(Object.keys,arguments)}(function(e){e.strict=e})(Wl||(Wl={}));function VJ(){return O(zJ,arguments)}function zJ(e){return e[e.length-1]}function HJ(){return O(GJ,arguments)}function GJ(e){return"length"in e?e.length:Array.from(e).length}function Da(){return O(c4(!1),arguments,Da.lazy)}var c4=function(e){return function(t,n){return et(t,e?Da.lazyIndexed(n):Da.lazy(n),e)}},a2=function(e){return function(t){return function(n,r,s){return{done:!1,hasNext:!0,next:e?t(n,r,s):t(n)}}}};(function(e){function t(){return O(c4(!0),arguments,e.lazyIndexed)}e.indexed=t,e.lazy=a2(!1),e.lazyIndexed=bi(a2(!0)),e.strict=e})(Da||(Da={}));function JJ(){return O(WJ,arguments)}function WJ(e,t){for(var n={},r=0,s=Ia.strict(e);r<s.length;r++){var i=s[r],u=i[0],o=i[1];n[t(u,o)]=o}return n}function z1(){return O(l4(!1),arguments)}var l4=function(e){return function(t,n){for(var r={},s=0;s<t.length;s++){var i=t[s],u=e?n(i,s,t):n(i),o=u[0],a=u[1];r[o]=a}return r}};(function(e){function t(){return O(l4(!0),arguments)}e.indexed=t})(z1||(z1={}));function QJ(){return O(XJ,arguments)}function XJ(e,t){for(var n={},r=0,s=Ia.strict(e);r<s.length;r++){var i=s[r],u=i[0],o=i[1],a=t(o,u);n[u]=a}return n}function Ma(){return O(f4(!1),arguments,Ma.lazy)}var f4=function(e){return function(t,n,r){var s=e?Ma.lazyIndexed:Ma.lazy;return et(t,s(n,r),e)}},c2=function(e){return function(t,n){var r=n;return function(s,i,u){return r=e?t(r,s,i,u):t(r,s),{done:!1,hasNext:!0,next:r}}}};(function(e){function t(){return O(f4(!0),arguments,e.lazyIndexed)}e.indexed=t,e.lazy=c2(!1),e.lazyIndexed=bi(c2(!0))})(Ma||(Ma={}));var d4=function(e){return function(t,n){for(var r,s,i=0;i<t.length;i++){var u=t[i],o=e?n(u,i,t):n(u);(s===void 0||o>s)&&(r=u,s=o)}return r}};function H1(){return O(d4(!1),arguments)}(function(e){function t(){return O(d4(!0),arguments)}e.indexed=t})(H1||(H1={}));var h4=function(e){return function(t,n){if(t.length===0)return NaN;for(var r=0,s=0;s<t.length;s++){var i=t[s];r+=e?n(i,s,t):n(i)}return r/t.length}};function G1(){return O(h4(!1),arguments)}(function(e){function t(){return O(h4(!0),arguments)}e.indexed=t})(G1||(G1={}));var Uh=function(){return Uh=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Uh.apply(this,arguments)};function KJ(){return O(YJ,arguments)}function YJ(e,t){return Uh(Uh({},e),t)}var qh=function(){return qh=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},qh.apply(this,arguments)};function ZJ(e){for(var t={},n=0,r=e;n<r.length;n++){var s=r[n];t=qh(qh({},t),s)}return t}var Vh=function(){return Vh=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Vh.apply(this,arguments)};function eW(){return O(p4,arguments)}function p4(e,t){var n=Vh(Vh({},e),t);for(var r in t)if(r in e){var s=e,i=r,u=s[i];if(l2(u)){var o=t,a=r,c=o[a];l2(c)&&(n[r]=p4(u,c))}}return n}function l2(e){return typeof e=="object"&&e!==null&&Object.getPrototypeOf(e)===Object.prototype}var g4=function(e){return function(t,n){for(var r,s,i=0;i<t.length;i++){var u=t[i],o=e?n(u,i,t):n(u);(s===void 0||o<s)&&(r=u,s=o)}return r}};function J1(){return O(g4(!1),arguments)}(function(e){function t(){return O(g4(!0),arguments)}e.indexed=t})(J1||(J1={}));function tW(){return O(nW,arguments)}function nW(e,t){return e*t}var rW=function(){},sW=function(e,t,n){return t<0||t>=e.length?void 0:m4(e.slice(),0,e.length-1,t,n)};function m4(e,t,n,r,s){if(t===n)return e[t];var i=iW(e,t,n,s);return r===i?e[r]:m4(e,r<i?t:i+1,r<i?i-1:n,r,s)}function iW(e,t,n,r){for(var s=e[n],i=t,u=t;u<n;u++)r(e[u],s)<0&&(k1(e,i,u),i+=1);return k1(e,i,n),i}function uW(){return h0(oW,arguments)}var oW=function(e,t,n){return sW(e,n>=0?n:e.length+n,t)};function aW(){return O(cW,arguments)}function cW(e,t){var n;return n={},n[t]=e,n}var zh=function(){return zh=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},zh.apply(this,arguments)},lW=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};function fW(){return O(dW,arguments)}function dW(e,t){if(!zl(t,1))return zh({},e);if(!zl(t,2)){var n=t[0],r=e,s=n;r[s];var i=lW(r,[typeof s=="symbol"?s:s+""]);return i}if(!t.some(function(o){return o in e}))return zh({},e);var u=new Set(t);return $h(Object.entries(e).filter(function(o){var a=o[0];return!u.has(a)}))}function hW(){return O(pW,arguments)}function pW(e,t){if(e==null)return e;for(var n={},r=0,s=Wl.strict(e);r<s.length;r++){var i=s[r];t(e[i],i)||(n[i]=e[i])}return n}function gW(e){var t=!1,n;return function(){return t||(n=e(),t=!0),n}}function mW(){return O(yW,arguments)}function yW(e){return e.length===1?e[0]:void 0}function W1(){return O(y4(!1),arguments)}var y4=function(e){return function(t,n){for(var r=[[],[]],s=0;s<t.length;s++){var i=t[s],u=e?n(i,s,t):n(i);r[u?0:1].push(i)}return r}};(function(e){function t(){return O(y4(!0),arguments)}e.indexed=t})(W1||(W1={}));function bW(){return O(wW,arguments)}function wW(e,t,n){for(var r=e,s=0,i=t;s<i.length;s++){var u=i[s];if(r==null)break;r=r[u]}return r??n}function vW(){return O(xW,arguments)}function xW(e,t){for(var n={},r=0,s=t;r<s.length;r++){var i=s[r];i in e&&(n[i]=e[i])}return n}function SW(){return O(_W,arguments)}function _W(e,t){if(e==null)return{};for(var n={},r=0,s=Wl.strict(e);r<s.length;r++){var i=s[r];t(e[i],i)&&(n[i]=e[i])}return n}var AW=function(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))};function TW(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(n){return Zw.apply(void 0,AW([n],e,!1))}}function EW(){return O(OW,arguments)}function OW(e){for(var t=1,n=0,r=e;n<r.length;n++){var s=r[n];t*=s}return t}var IW=function(e){return function(t){var n=e,r=t[n];return r}};function NW(){return O(RW,arguments)}function RW(e,t,n){for(var r={},s=0,i=e;s<i.length;s++){var u=i[s],o=t(u),a=n(u);r[o]=a}return r}function b4(){return O(kW,arguments)}function kW(e,t){if(e<0)throw new RangeError("n must be a non-negative number");for(var n=[],r=0;r<e;r++)n.push(t(r));return n}var f2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";function CW(){return O(DW,arguments)}function DW(e){return b4(e,MW).join("")}var MW=function(){return f2[Math.floor(Math.random()*f2.length)]};function PW(){return O(jW,arguments)}function jW(e,t){for(var n=[],r=e;r<t;r++)n.push(r);return n}function LW(){return h0(FW,arguments)}function FW(e,t,n){for(var r=0,s=0,i=e;s<i.length;s++){var u=i[s];t(n,u)>0&&(r+=1)}return r}function Q1(){return O(w4(!1),arguments)}var w4=function(e){return function(t,n,r){return t.reduce(function(s,i,u){return e?n(s,i,u,t):n(s,i)},r)}};(function(e){function t(){return O(w4(!0),arguments)}e.indexed=t})(Q1||(Q1={}));function Pa(){return O(v4(!1),arguments,Pa.lazy)}var v4=function(e){return function(t,n){return et(t,e?Pa.lazyIndexed(n):Pa.lazy(n),e)}},d2=function(e){return function(t){return function(n,r,s){return(e?t(n,r,s):t(n))?{done:!1,hasNext:!1}:{done:!1,hasNext:!0,next:n}}}};(function(e){function t(){return O(v4(!0),arguments,e.lazyIndexed)}e.indexed=t,e.lazy=d2(!1),e.lazyIndexed=bi(d2(!0))})(Pa||(Pa={}));function BW(){return O($W,arguments)}function $W(e){return e.slice().reverse()}function UW(){return O(Yw(Math.round),arguments)}function qW(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return O(VW,e)}function VW(e,t){if(t<0)throw new RangeError("sampleSize must cannot be negative: ".concat(t));if(!Number.isInteger(t))throw new TypeError("sampleSize must be an integer: ".concat(t));if(t>=e.length)return e.slice();if(t===0)return[];for(var n=Math.min(t,e.length-t),r=new Set;r.size<n;){var s=Math.floor(Math.random()*e.length);r.add(s)}return t===n?Array.from(r).sort(function(i,u){return i-u}).map(function(i){return e[i]}):e.filter(function(i,u){return!r.has(u)})}var Hh=function(){return Hh=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Hh.apply(this,arguments)};function zW(){return O(HW,arguments)}function HW(e,t,n){var r;return Hh(Hh({},e),(r={},r[t]=n,r))}var Gh=function(){return Gh=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Gh.apply(this,arguments)};function GW(){return O(Jh,arguments)}function Jh(e,t,n){var r,s=t[0],i=t.slice(1);if(s===void 0)return n;if(Array.isArray(e))return e.map(function(u,o){return o===s?Jh(u,i,n):u});if(e==null)throw new Error("Path doesn't exist in object!");return Gh(Gh({},e),(r={},r[s]=Jh(e[s],i,n),r))}function JW(){return O(WW,arguments)}function WW(e){for(var t=e.slice(),n=0;n<e.length;n++){var r=n+Math.floor(Math.random()*(e.length-n)),s=t[r];t[r]=t[n],t[n]=s}return t}var QW=function(e,t){return function(n){return n.slice(e,t)}};function X1(){return O(XW,arguments)}function XW(e,t){var n=e.slice();return n.sort(t),n}(function(e){e.strict=e})(X1||(X1={}));function K1(){return ev(KW,arguments)}var KW=function(e,t){return e.slice().sort(t)};(function(e){e.strict=e})(K1||(K1={}));function vc(e,t){for(var n=0,r=e.length;n<r;){var s=n+r>>>1,i=e[s];t(i,s)?n=s+1:r=s}return r}function YW(){return O(ZW,arguments)}var ZW=function(e,t){return vc(e,function(n){return n<t})};function Y1(){return O(x4,arguments)}(function(e){function t(){return O(x4,arguments)}e.indexed=t})(Y1||(Y1={}));function x4(e,t,n){var r=n(t);return vc(e,function(s,i){return n(s,i)<r})}function Z1(){return O(vc,arguments)}(function(e){function t(){return O(vc,arguments)}e.indexed=t})(Z1||(Z1={}));function eQ(){return O(tQ,arguments)}var tQ=function(e,t){return vc(e,function(n){return n<=t})};function ey(){return O(S4,arguments)}(function(e){function t(){return O(S4,arguments)}e.indexed=t})(ey||(ey={}));function S4(e,t,n){var r=n(t);return vc(e,function(s,i){return n(s,i)<=r})}var nQ=function(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))};function rQ(){return O(sQ,arguments)}function sQ(e,t,n,r){var s=e.slice();return s.splice.apply(s,nQ([t,n],r,!1)),s}function _4(){return O(iQ,arguments)}function iQ(e,t){var n=e.slice(),r=n.splice(t);return[n,r]}function uQ(){return O(oQ,arguments)}function oQ(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return _4(e,n);return[e.slice(),[]]}var aQ=function(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))};function cQ(e){return A4(e)}function A4(e){var t;if(e.length===0)return[];var n=(t=/^\[(.+?)\](.*)$/u.exec(e))!==null&&t!==void 0?t:/^\.?([^.[\]]+)(.*)$/u.exec(e);if(n!==null){var r=n[1],s=n[2];return aQ([r],A4(s),!0)}return[e]}function lQ(){return O(fQ,arguments)}function fQ(e,t){return e-t}function dQ(){return O(hQ,arguments)}function hQ(e){for(var t=0,n=0,r=e;n<r.length;n++){var s=r[n];t+=s}return t}var T4=function(e){return function(t,n){for(var r=0,s=0;s<t.length;s++){var i=t[s],u=e?n(i,s,t):n(i);r+=u}return r}};function ty(){return O(T4(!1),arguments)}(function(e){function t(){return O(T4(!0),arguments)}e.indexed=t})(ty||(ty={}));function pQ(){return O(gQ,arguments)}function gQ(e,t,n){return typeof e=="string"?mQ(e,t,n):E4(e,t,n)}function E4(e,t,n){var r=e.slice();if(isNaN(t)||isNaN(n))return r;var s=t<0?e.length+t:t,i=n<0?e.length+n:n;return s<0||s>e.length||i<0||i>e.length||(r[s]=e[i],r[i]=e[s]),r}function mQ(e,t,n){var r=E4(e.split(""),t,n);return r.join("")}var Wh=function(){return Wh=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Wh.apply(this,arguments)};function yQ(){return O(bQ,arguments)}function bQ(e,t,n){var r,s=e,i=t,u=s[i],o=n,a=s[o];return Wh(Wh({},e),(r={},r[t]=a,r[n]=u,r))}function Ql(){return O(wQ,arguments,Ql.lazy)}function wQ(e,t){return et(e,Ql.lazy(t))}(function(e){function t(n){if(n<=0)return function(){return{done:!0,hasNext:!1}};var r=n;return function(s){return r-=1,{done:r<=0,hasNext:!0,next:s}}}e.lazy=t})(Ql||(Ql={}));function vQ(){return h0(xQ,arguments)}function xQ(e,t,n){if(n<=0)return[];if(n>=e.length)return e.slice();var r=e.slice(0,n);UO(r,t);for(var s=e.slice(n),i=0,u=s;i<u.length;i++){var o=u[i];qO(r,t,o)}return r}function SQ(){return O(_Q,arguments)}function _Q(e,t){for(var n=e.length-1;n>=0;n--)if(!t(e[n]))return e.slice(n+1);return e.slice()}function AQ(){return O(TQ,arguments)}function TQ(e,t){for(var n=[],r=0,s=e;r<s.length;r++){var i=s[r];if(!t(i))break;n.push(i)}return n}function EQ(){return O(OQ,arguments)}function OQ(e,t){return t(e),e}function Xl(){return O(IQ,arguments,Xl.lazy)}function IQ(e){return et(e,Xl.lazy())}(function(e){function t(){var n=new Set;return function(r){return n.has(r)?{done:!1,hasNext:!1}:(n.add(r),{done:!1,hasNext:!0,next:r})}}e.lazy=t})(Xl||(Xl={}));function NQ(){return O(RQ,arguments,O4)}function RQ(e,t){return et(e,O4(t))}function O4(e){var t=new Set;return function(n){var r=e(n);return t.has(r)?{done:!1,hasNext:!1}:(t.add(r),{done:!1,hasNext:!0,next:n})}}function Kl(){return O(kQ,arguments,Kl.lazy)}function kQ(e,t){var n=Kl.lazy(t);return et(e,n,!0)}var CQ=function(e){return function(t,n,r){return r!==void 0&&r.findIndex(function(s){return e(t,s)})===n?{done:!1,hasNext:!0,next:t}:{done:!1,hasNext:!1}}};(function(e){e.lazy=bi(CQ)})(Kl||(Kl={}));function Yl(){return O(DQ,arguments,Yl.lazy)}function DQ(e){return et(e,Yl.lazy())}(function(e){function t(){var n=new Set;return function(r){return n.has(r)?{done:!1,hasNext:!1}:(n.add(r),{done:!1,hasNext:!0,next:r})}}e.lazy=t})(Yl||(Yl={}));function MQ(){return O(PQ,arguments,I4)}function PQ(e,t){return et(e,I4(t))}function I4(e){var t=new Set;return function(n){var r=e(n);return t.has(r)?{done:!1,hasNext:!1}:(t.add(r),{done:!1,hasNext:!0,next:n})}}function Zl(){return O(jQ,arguments,Zl.lazy)}function jQ(e,t){var n=Zl.lazy(t);return et(e,n,!0)}var LQ=function(e){return function(t,n,r){return r!==void 0&&r.findIndex(function(s){return e(t,s)})===n?{done:!1,hasNext:!0,next:t}:{done:!1,hasNext:!1}}};(function(e){e.lazy=bi(LQ)})(Zl||(Zl={}));function FQ(){return O(Object.values,arguments)}function ny(){return O(BQ,arguments)}function BQ(e,t){for(var n=e.length>t.length?t.length:e.length,r=[],s=0;s<n;s++)r.push([e[s],t[s]]);return r}(function(e){e.strict=e})(ny||(ny={}));function $Q(){return O(UQ,arguments)}function UQ(e,t){for(var n=e.length>t.length?t.length:e.length,r={},s=0;s<n;s++)r[e[s]]=t[s];return r}function qQ(e,t,n){if(typeof e=="function")return t===void 0?function(r,s){return am(r,s,e)}:function(r){return am(r,t,e)};if(t===void 0||n===void 0)throw new Error("zipWith: Missing arguments in dataFirst function call");return am(e,t,n)}function am(e,t,n){for(var r=e.length>t.length?t.length:e.length,s=[],i=0;i<r;i++)s.push(n(e[i],t[i]));return s}const VQ=Object.freeze(Object.defineProperty({__proto__:null,_setPath:Jh,add:ZH,addProp:tG,allPass:rG,anyPass:iG,ceil:oG,chunk:aG,clamp:lG,clone:hG,compact:pG,concat:gG,get conditional(){return N1},constant:_G,get countBy(){return R1},createPipe:OG,debounce:IG,get difference(){return Ul},get differenceWith(){return ql},divide:PG,doNothing:LG,get drop(){return Vl},dropFirstBy:UG,dropLast:VG,dropLastWhile:HG,dropWhile:JG,get entries(){return D1},equals:QG,evolve:XG,get filter(){return Na},get find(){return Ph},get findIndex(){return jh},get findLast(){return j1},get findLastIndex(){return L1},get first(){return Lh},firstBy:YG,flat:eJ,get flatMap(){return Bh},get flatMapToObj(){return F1},get flatten(){return Ra},get flattenDeep(){return ka},floor:aJ,get forEach(){return Ca},get forEachObj(){return B1},get fromEntries(){return $h},fromKeys:lJ,get fromPairs(){return $1},get groupBy(){return U1},hasAtLeast:zl,hasSubObject:gJ,identity:yJ,get indexBy(){return q1},get intersection(){return Gl},get intersectionWith(){return Jl},invert:_J,isArray:u4,isBoolean:TJ,isDate:EJ,isDeepEqual:r4,get isDefined(){return V1},isEmpty:OJ,isError:IJ,isFunction:NJ,isIncludedIn:RJ,isNil:kJ,isNonNull:CJ,isNonNullish:DJ,isNot:MJ,isNullish:PJ,isNumber:jJ,isObject:o4,isObjectType:LJ,isPlainObject:FJ,isPromise:BJ,isString:a4,isSymbol:$J,isTruthy:LO,join:UJ,get keys(){return Wl},last:VJ,length:HJ,get map(){return Da},mapKeys:JJ,get mapToObj(){return z1},mapValues:QJ,get mapWithFeedback(){return Ma},get maxBy(){return H1},get meanBy(){return G1},merge:KJ,mergeAll:ZJ,mergeDeep:eW,get minBy(){return J1},multiply:tW,noop:rW,nthBy:uW,objOf:aW,omit:fW,omitBy:hW,once:gW,only:mW,get partition(){return W1},pathOr:bW,pick:vW,pickBy:SW,pipe:Zw,piped:TW,product:EW,prop:IW,pullObject:NW,purry:O,randomString:CW,range:PW,rankBy:LW,get reduce(){return Q1},get reject(){return Pa},reverse:BW,round:UW,sample:qW,set:zW,setPath:GW,shuffle:JW,sliceString:QW,get sort(){return X1},get sortBy(){return K1},sortedIndex:YW,get sortedIndexBy(){return Y1},get sortedIndexWith(){return Z1},sortedLastIndex:eQ,get sortedLastIndexBy(){return ey},splice:rQ,splitAt:_4,splitWhen:uQ,stringToPath:cQ,subtract:lQ,sum:dQ,get sumBy(){return ty},swapIndices:pQ,swapProps:yQ,get take(){return Ql},takeFirstBy:vQ,takeLastWhile:SQ,takeWhile:AQ,tap:EQ,times:b4,get toPairs(){return Ia},type:PO,get uniq(){return Xl},uniqBy:NQ,get uniqWith(){return Kl},get unique(){return Yl},uniqueBy:MQ,get uniqueWith(){return Zl},values:FQ,get zip(){return ny},zipObj:$Q,zipWith:qQ},Symbol.toStringTag,{value:"Module"})),p0=Eb(VQ);var N4={},g0={},m0={};Object.defineProperty(m0,"__esModule",{value:!0});m0.default=HQ;let vd;const zQ=new Uint8Array(16);function HQ(){if(!vd&&(vd=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!vd))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return vd(zQ)}var pu={},Co={},y0={};Object.defineProperty(y0,"__esModule",{value:!0});y0.default=void 0;var GQ=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;y0.default=GQ;Object.defineProperty(Co,"__esModule",{value:!0});Co.default=void 0;var JQ=WQ(y0);function WQ(e){return e&&e.__esModule?e:{default:e}}function QQ(e){return typeof e=="string"&&JQ.default.test(e)}var XQ=QQ;Co.default=XQ;Object.defineProperty(pu,"__esModule",{value:!0});pu.default=void 0;pu.unsafeStringify=R4;var KQ=YQ(Co);function YQ(e){return e&&e.__esModule?e:{default:e}}const Dt=[];for(let e=0;e<256;++e)Dt.push((e+256).toString(16).slice(1));function R4(e,t=0){return Dt[e[t+0]]+Dt[e[t+1]]+Dt[e[t+2]]+Dt[e[t+3]]+"-"+Dt[e[t+4]]+Dt[e[t+5]]+"-"+Dt[e[t+6]]+Dt[e[t+7]]+"-"+Dt[e[t+8]]+Dt[e[t+9]]+"-"+Dt[e[t+10]]+Dt[e[t+11]]+Dt[e[t+12]]+Dt[e[t+13]]+Dt[e[t+14]]+Dt[e[t+15]]}function ZQ(e,t=0){const n=R4(e,t);if(!(0,KQ.default)(n))throw TypeError("Stringified UUID is invalid");return n}var eX=ZQ;pu.default=eX;Object.defineProperty(g0,"__esModule",{value:!0});g0.default=void 0;var tX=rX(m0),nX=pu;function rX(e){return e&&e.__esModule?e:{default:e}}let h2,cm,lm=0,fm=0;function sX(e,t,n){let r=t&&n||0;const s=t||new Array(16);e=e||{};let i=e.node||h2,u=e.clockseq!==void 0?e.clockseq:cm;if(i==null||u==null){const h=e.random||(e.rng||tX.default)();i==null&&(i=h2=[h[0]|1,h[1],h[2],h[3],h[4],h[5]]),u==null&&(u=cm=(h[6]<<8|h[7])&16383)}let o=e.msecs!==void 0?e.msecs:Date.now(),a=e.nsecs!==void 0?e.nsecs:fm+1;const c=o-lm+(a-fm)/1e4;if(c<0&&e.clockseq===void 0&&(u=u+1&16383),(c<0||o>lm)&&e.nsecs===void 0&&(a=0),a>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");lm=o,fm=a,cm=u,o+=122192928e5;const l=((o&268435455)*1e4+a)%4294967296;s[r++]=l>>>24&255,s[r++]=l>>>16&255,s[r++]=l>>>8&255,s[r++]=l&255;const d=o/4294967296*1e4&268435455;s[r++]=d>>>8&255,s[r++]=d&255,s[r++]=d>>>24&15|16,s[r++]=d>>>16&255,s[r++]=u>>>8|128,s[r++]=u&255;for(let h=0;h<6;++h)s[r+h]=i[h];return t||(0,nX.unsafeStringify)(s)}var iX=sX;g0.default=iX;var b0={},tu={},Vf={};Object.defineProperty(Vf,"__esModule",{value:!0});Vf.default=void 0;var uX=oX(Co);function oX(e){return e&&e.__esModule?e:{default:e}}function aX(e){if(!(0,uX.default)(e))throw TypeError("Invalid UUID");let t;const n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=t&255,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=t&255,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=t&255,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=t&255,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=t&255,n}var cX=aX;Vf.default=cX;Object.defineProperty(tu,"__esModule",{value:!0});tu.URL=tu.DNS=void 0;tu.default=pX;var lX=pu,fX=dX(Vf);function dX(e){return e&&e.__esModule?e:{default:e}}function hX(e){e=unescape(encodeURIComponent(e));const t=[];for(let n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}const k4="6ba7b810-9dad-11d1-80b4-00c04fd430c8";tu.DNS=k4;const C4="6ba7b811-9dad-11d1-80b4-00c04fd430c8";tu.URL=C4;function pX(e,t,n){function r(s,i,u,o){var a;if(typeof s=="string"&&(s=hX(s)),typeof i=="string"&&(i=(0,fX.default)(i)),((a=i)===null||a===void 0?void 0:a.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let c=new Uint8Array(16+s.length);if(c.set(i),c.set(s,i.length),c=n(c),c[6]=c[6]&15|t,c[8]=c[8]&63|128,u){o=o||0;for(let l=0;l<16;++l)u[o+l]=c[l];return u}return(0,lX.unsafeStringify)(c)}try{r.name=e}catch{}return r.DNS=k4,r.URL=C4,r}var w0={};Object.defineProperty(w0,"__esModule",{value:!0});w0.default=void 0;function gX(e){if(typeof e=="string"){const t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(let n=0;n<t.length;++n)e[n]=t.charCodeAt(n)}return mX(yX(bX(e),e.length*8))}function mX(e){const t=[],n=e.length*32,r="0123456789abcdef";for(let s=0;s<n;s+=8){const i=e[s>>5]>>>s%32&255,u=parseInt(r.charAt(i>>>4&15)+r.charAt(i&15),16);t.push(u)}return t}function D4(e){return(e+64>>>9<<4)+14+1}function yX(e,t){e[t>>5]|=128<<t%32,e[D4(t)-1]=t;let n=1732584193,r=-271733879,s=-1732584194,i=271733878;for(let u=0;u<e.length;u+=16){const o=n,a=r,c=s,l=i;n=Ut(n,r,s,i,e[u],7,-680876936),i=Ut(i,n,r,s,e[u+1],12,-389564586),s=Ut(s,i,n,r,e[u+2],17,606105819),r=Ut(r,s,i,n,e[u+3],22,-1044525330),n=Ut(n,r,s,i,e[u+4],7,-176418897),i=Ut(i,n,r,s,e[u+5],12,1200080426),s=Ut(s,i,n,r,e[u+6],17,-1473231341),r=Ut(r,s,i,n,e[u+7],22,-45705983),n=Ut(n,r,s,i,e[u+8],7,1770035416),i=Ut(i,n,r,s,e[u+9],12,-1958414417),s=Ut(s,i,n,r,e[u+10],17,-42063),r=Ut(r,s,i,n,e[u+11],22,-1990404162),n=Ut(n,r,s,i,e[u+12],7,1804603682),i=Ut(i,n,r,s,e[u+13],12,-40341101),s=Ut(s,i,n,r,e[u+14],17,-1502002290),r=Ut(r,s,i,n,e[u+15],22,1236535329),n=qt(n,r,s,i,e[u+1],5,-165796510),i=qt(i,n,r,s,e[u+6],9,-1069501632),s=qt(s,i,n,r,e[u+11],14,643717713),r=qt(r,s,i,n,e[u],20,-373897302),n=qt(n,r,s,i,e[u+5],5,-701558691),i=qt(i,n,r,s,e[u+10],9,38016083),s=qt(s,i,n,r,e[u+15],14,-660478335),r=qt(r,s,i,n,e[u+4],20,-405537848),n=qt(n,r,s,i,e[u+9],5,568446438),i=qt(i,n,r,s,e[u+14],9,-1019803690),s=qt(s,i,n,r,e[u+3],14,-187363961),r=qt(r,s,i,n,e[u+8],20,1163531501),n=qt(n,r,s,i,e[u+13],5,-1444681467),i=qt(i,n,r,s,e[u+2],9,-51403784),s=qt(s,i,n,r,e[u+7],14,1735328473),r=qt(r,s,i,n,e[u+12],20,-1926607734),n=Vt(n,r,s,i,e[u+5],4,-378558),i=Vt(i,n,r,s,e[u+8],11,-2022574463),s=Vt(s,i,n,r,e[u+11],16,1839030562),r=Vt(r,s,i,n,e[u+14],23,-35309556),n=Vt(n,r,s,i,e[u+1],4,-1530992060),i=Vt(i,n,r,s,e[u+4],11,1272893353),s=Vt(s,i,n,r,e[u+7],16,-155497632),r=Vt(r,s,i,n,e[u+10],23,-1094730640),n=Vt(n,r,s,i,e[u+13],4,681279174),i=Vt(i,n,r,s,e[u],11,-358537222),s=Vt(s,i,n,r,e[u+3],16,-722521979),r=Vt(r,s,i,n,e[u+6],23,76029189),n=Vt(n,r,s,i,e[u+9],4,-640364487),i=Vt(i,n,r,s,e[u+12],11,-421815835),s=Vt(s,i,n,r,e[u+15],16,530742520),r=Vt(r,s,i,n,e[u+2],23,-995338651),n=zt(n,r,s,i,e[u],6,-198630844),i=zt(i,n,r,s,e[u+7],10,1126891415),s=zt(s,i,n,r,e[u+14],15,-1416354905),r=zt(r,s,i,n,e[u+5],21,-57434055),n=zt(n,r,s,i,e[u+12],6,1700485571),i=zt(i,n,r,s,e[u+3],10,-1894986606),s=zt(s,i,n,r,e[u+10],15,-1051523),r=zt(r,s,i,n,e[u+1],21,-2054922799),n=zt(n,r,s,i,e[u+8],6,1873313359),i=zt(i,n,r,s,e[u+15],10,-30611744),s=zt(s,i,n,r,e[u+6],15,-1560198380),r=zt(r,s,i,n,e[u+13],21,1309151649),n=zt(n,r,s,i,e[u+4],6,-145523070),i=zt(i,n,r,s,e[u+11],10,-1120210379),s=zt(s,i,n,r,e[u+2],15,718787259),r=zt(r,s,i,n,e[u+9],21,-343485551),n=Bi(n,o),r=Bi(r,a),s=Bi(s,c),i=Bi(i,l)}return[n,r,s,i]}function bX(e){if(e.length===0)return[];const t=e.length*8,n=new Uint32Array(D4(t));for(let r=0;r<t;r+=8)n[r>>5]|=(e[r/8]&255)<<r%32;return n}function Bi(e,t){const n=(e&65535)+(t&65535);return(e>>16)+(t>>16)+(n>>16)<<16|n&65535}function wX(e,t){return e<<t|e>>>32-t}function v0(e,t,n,r,s,i){return Bi(wX(Bi(Bi(t,e),Bi(r,i)),s),n)}function Ut(e,t,n,r,s,i,u){return v0(t&n|~t&r,e,t,s,i,u)}function qt(e,t,n,r,s,i,u){return v0(t&r|n&~r,e,t,s,i,u)}function Vt(e,t,n,r,s,i,u){return v0(t^n^r,e,t,s,i,u)}function zt(e,t,n,r,s,i,u){return v0(n^(t|~r),e,t,s,i,u)}var vX=gX;w0.default=vX;Object.defineProperty(b0,"__esModule",{value:!0});b0.default=void 0;var xX=M4(tu),SX=M4(w0);function M4(e){return e&&e.__esModule?e:{default:e}}const _X=(0,xX.default)("v3",48,SX.default);var AX=_X;b0.default=AX;var x0={},S0={};Object.defineProperty(S0,"__esModule",{value:!0});S0.default=void 0;const TX=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var EX={randomUUID:TX};S0.default=EX;Object.defineProperty(x0,"__esModule",{value:!0});x0.default=void 0;var p2=P4(S0),OX=P4(m0),IX=pu;function P4(e){return e&&e.__esModule?e:{default:e}}function NX(e,t,n){if(p2.default.randomUUID&&!t&&!e)return p2.default.randomUUID();e=e||{};const r=e.random||(e.rng||OX.default)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(let s=0;s<16;++s)t[n+s]=r[s];return t}return(0,IX.unsafeStringify)(r)}var RX=NX;x0.default=RX;var _0={},A0={};Object.defineProperty(A0,"__esModule",{value:!0});A0.default=void 0;function kX(e,t,n,r){switch(e){case 0:return t&n^~t&r;case 1:return t^n^r;case 2:return t&n^t&r^n&r;case 3:return t^n^r}}function dm(e,t){return e<<t|e>>>32-t}function CX(e){const t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof e=="string"){const u=unescape(encodeURIComponent(e));e=[];for(let o=0;o<u.length;++o)e.push(u.charCodeAt(o))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);const r=e.length/4+2,s=Math.ceil(r/16),i=new Array(s);for(let u=0;u<s;++u){const o=new Uint32Array(16);for(let a=0;a<16;++a)o[a]=e[u*64+a*4]<<24|e[u*64+a*4+1]<<16|e[u*64+a*4+2]<<8|e[u*64+a*4+3];i[u]=o}i[s-1][14]=(e.length-1)*8/Math.pow(2,32),i[s-1][14]=Math.floor(i[s-1][14]),i[s-1][15]=(e.length-1)*8&4294967295;for(let u=0;u<s;++u){const o=new Uint32Array(80);for(let f=0;f<16;++f)o[f]=i[u][f];for(let f=16;f<80;++f)o[f]=dm(o[f-3]^o[f-8]^o[f-14]^o[f-16],1);let a=n[0],c=n[1],l=n[2],d=n[3],h=n[4];for(let f=0;f<80;++f){const p=Math.floor(f/20),m=dm(a,5)+kX(p,c,l,d)+h+t[p]+o[f]>>>0;h=d,d=l,l=dm(c,30)>>>0,c=a,a=m}n[0]=n[0]+a>>>0,n[1]=n[1]+c>>>0,n[2]=n[2]+l>>>0,n[3]=n[3]+d>>>0,n[4]=n[4]+h>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,n[0]&255,n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,n[1]&255,n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,n[2]&255,n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,n[3]&255,n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,n[4]&255]}var DX=CX;A0.default=DX;Object.defineProperty(_0,"__esModule",{value:!0});_0.default=void 0;var MX=j4(tu),PX=j4(A0);function j4(e){return e&&e.__esModule?e:{default:e}}const jX=(0,MX.default)("v5",80,PX.default);var LX=jX;_0.default=LX;var T0={};Object.defineProperty(T0,"__esModule",{value:!0});T0.default=void 0;var FX="00000000-0000-0000-0000-000000000000";T0.default=FX;var E0={};Object.defineProperty(E0,"__esModule",{value:!0});E0.default=void 0;var BX=$X(Co);function $X(e){return e&&e.__esModule?e:{default:e}}function UX(e){if(!(0,BX.default)(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}var qX=UX;E0.default=qX;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"NIL",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"parse",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"v1",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"v3",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"v4",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"v5",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"validate",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"version",{enumerable:!0,get:function(){return u.default}});var t=l(g0),n=l(b0),r=l(x0),s=l(_0),i=l(T0),u=l(E0),o=l(Co),a=l(pu),c=l(Vf);function l(d){return d&&d.__esModule?d:{default:d}}})(N4);var L4={exports:{}},F4={exports:{}};(function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t={rotl:function(n,r){return n<<r|n>>>32-r},rotr:function(n,r){return n<<32-r|n>>>r},endian:function(n){if(n.constructor==Number)return t.rotl(n,8)&16711935|t.rotl(n,24)&4278255360;for(var r=0;r<n.length;r++)n[r]=t.endian(n[r]);return n},randomBytes:function(n){for(var r=[];n>0;n--)r.push(Math.floor(Math.random()*256));return r},bytesToWords:function(n){for(var r=[],s=0,i=0;s<n.length;s++,i+=8)r[i>>>5]|=n[s]<<24-i%32;return r},wordsToBytes:function(n){for(var r=[],s=0;s<n.length*32;s+=8)r.push(n[s>>>5]>>>24-s%32&255);return r},bytesToHex:function(n){for(var r=[],s=0;s<n.length;s++)r.push((n[s]>>>4).toString(16)),r.push((n[s]&15).toString(16));return r.join("")},hexToBytes:function(n){for(var r=[],s=0;s<n.length;s+=2)r.push(parseInt(n.substr(s,2),16));return r},bytesToBase64:function(n){for(var r=[],s=0;s<n.length;s+=3)for(var i=n[s]<<16|n[s+1]<<8|n[s+2],u=0;u<4;u++)s*8+u*6<=n.length*8?r.push(e.charAt(i>>>6*(3-u)&63)):r.push("=");return r.join("")},base64ToBytes:function(n){n=n.replace(/[^A-Z0-9+\/]/ig,"");for(var r=[],s=0,i=0;s<n.length;i=++s%4)i!=0&&r.push((e.indexOf(n.charAt(s-1))&Math.pow(2,-2*i+8)-1)<<i*2|e.indexOf(n.charAt(s))>>>6-i*2);return r}};F4.exports=t})();var VX=F4.exports,ry={utf8:{stringToBytes:function(e){return ry.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(ry.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(e.charCodeAt(n)&255);return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}},g2=ry;/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var zX=function(e){return e!=null&&(B4(e)||HX(e)||!!e._isBuffer)};function B4(e){return!!e.constructor&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function HX(e){return typeof e.readFloatLE=="function"&&typeof e.slice=="function"&&B4(e.slice(0,0))}(function(){var e=VX,t=g2.utf8,n=zX,r=g2.bin,s=function(i,u){i.constructor==String?u&&u.encoding==="binary"?i=r.stringToBytes(i):i=t.stringToBytes(i):n(i)?i=Array.prototype.slice.call(i,0):!Array.isArray(i)&&i.constructor!==Uint8Array&&(i=i.toString());for(var o=e.bytesToWords(i),a=i.length*8,c=1732584193,l=-271733879,d=-1732584194,h=271733878,f=0;f<o.length;f++)o[f]=(o[f]<<8|o[f]>>>24)&16711935|(o[f]<<24|o[f]>>>8)&4278255360;o[a>>>5]|=128<<a%32,o[(a+64>>>9<<4)+14]=a;for(var p=s._ff,m=s._gg,y=s._hh,b=s._ii,f=0;f<o.length;f+=16){var w=c,x=l,v=d,A=h;c=p(c,l,d,h,o[f+0],7,-680876936),h=p(h,c,l,d,o[f+1],12,-389564586),d=p(d,h,c,l,o[f+2],17,606105819),l=p(l,d,h,c,o[f+3],22,-1044525330),c=p(c,l,d,h,o[f+4],7,-176418897),h=p(h,c,l,d,o[f+5],12,1200080426),d=p(d,h,c,l,o[f+6],17,-1473231341),l=p(l,d,h,c,o[f+7],22,-45705983),c=p(c,l,d,h,o[f+8],7,1770035416),h=p(h,c,l,d,o[f+9],12,-1958414417),d=p(d,h,c,l,o[f+10],17,-42063),l=p(l,d,h,c,o[f+11],22,-1990404162),c=p(c,l,d,h,o[f+12],7,1804603682),h=p(h,c,l,d,o[f+13],12,-40341101),d=p(d,h,c,l,o[f+14],17,-1502002290),l=p(l,d,h,c,o[f+15],22,1236535329),c=m(c,l,d,h,o[f+1],5,-165796510),h=m(h,c,l,d,o[f+6],9,-1069501632),d=m(d,h,c,l,o[f+11],14,643717713),l=m(l,d,h,c,o[f+0],20,-373897302),c=m(c,l,d,h,o[f+5],5,-701558691),h=m(h,c,l,d,o[f+10],9,38016083),d=m(d,h,c,l,o[f+15],14,-660478335),l=m(l,d,h,c,o[f+4],20,-405537848),c=m(c,l,d,h,o[f+9],5,568446438),h=m(h,c,l,d,o[f+14],9,-1019803690),d=m(d,h,c,l,o[f+3],14,-187363961),l=m(l,d,h,c,o[f+8],20,1163531501),c=m(c,l,d,h,o[f+13],5,-1444681467),h=m(h,c,l,d,o[f+2],9,-51403784),d=m(d,h,c,l,o[f+7],14,1735328473),l=m(l,d,h,c,o[f+12],20,-1926607734),c=y(c,l,d,h,o[f+5],4,-378558),h=y(h,c,l,d,o[f+8],11,-2022574463),d=y(d,h,c,l,o[f+11],16,1839030562),l=y(l,d,h,c,o[f+14],23,-35309556),c=y(c,l,d,h,o[f+1],4,-1530992060),h=y(h,c,l,d,o[f+4],11,1272893353),d=y(d,h,c,l,o[f+7],16,-155497632),l=y(l,d,h,c,o[f+10],23,-1094730640),c=y(c,l,d,h,o[f+13],4,681279174),h=y(h,c,l,d,o[f+0],11,-358537222),d=y(d,h,c,l,o[f+3],16,-722521979),l=y(l,d,h,c,o[f+6],23,76029189),c=y(c,l,d,h,o[f+9],4,-640364487),h=y(h,c,l,d,o[f+12],11,-421815835),d=y(d,h,c,l,o[f+15],16,530742520),l=y(l,d,h,c,o[f+2],23,-995338651),c=b(c,l,d,h,o[f+0],6,-198630844),h=b(h,c,l,d,o[f+7],10,1126891415),d=b(d,h,c,l,o[f+14],15,-1416354905),l=b(l,d,h,c,o[f+5],21,-57434055),c=b(c,l,d,h,o[f+12],6,1700485571),h=b(h,c,l,d,o[f+3],10,-1894986606),d=b(d,h,c,l,o[f+10],15,-1051523),l=b(l,d,h,c,o[f+1],21,-2054922799),c=b(c,l,d,h,o[f+8],6,1873313359),h=b(h,c,l,d,o[f+15],10,-30611744),d=b(d,h,c,l,o[f+6],15,-1560198380),l=b(l,d,h,c,o[f+13],21,1309151649),c=b(c,l,d,h,o[f+4],6,-145523070),h=b(h,c,l,d,o[f+11],10,-1120210379),d=b(d,h,c,l,o[f+2],15,718787259),l=b(l,d,h,c,o[f+9],21,-343485551),c=c+w>>>0,l=l+x>>>0,d=d+v>>>0,h=h+A>>>0}return e.endian([c,l,d,h])};s._ff=function(i,u,o,a,c,l,d){var h=i+(u&o|~u&a)+(c>>>0)+d;return(h<<l|h>>>32-l)+u},s._gg=function(i,u,o,a,c,l,d){var h=i+(u&a|o&~a)+(c>>>0)+d;return(h<<l|h>>>32-l)+u},s._hh=function(i,u,o,a,c,l,d){var h=i+(u^o^a)+(c>>>0)+d;return(h<<l|h>>>32-l)+u},s._ii=function(i,u,o,a,c,l,d){var h=i+(o^(u|~a))+(c>>>0)+d;return(h<<l|h>>>32-l)+u},s._blocksize=16,s._digestsize=16,L4.exports=function(i,u){if(i==null)throw new Error("Illegal argument "+i);var o=e.wordsToBytes(s(i,u));return u&&u.asBytes?o:u&&u.asString?r.bytesToString(o):e.bytesToHex(o)}})();var GX=L4.exports,JX=U&&U.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),WX=U&&U.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),QX=U&&U.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&JX(t,e,n);return WX(t,e),t},XX=U&&U.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ko,"__esModule",{value:!0});ko.randomId=void 0;const KX=p0,m2=QX(N4),YX=XX(GX);function ZX(e){if(e){const t=(0,YX.default)(e),n=(0,KX.chunk)(t,2).map(r=>parseInt(r.join(""),16));return m2.v4({random:n})}else return m2.v4()}ko.randomId=ZX;var Is={},O0={};Object.defineProperty(O0,"__esModule",{value:!0});O0.mutableFilter=void 0;function eK(e,t){let n=0;for(;!(n>=e.length);){const r=e[n];t(r)?n++:e.splice(n,1)}}O0.mutableFilter=eK;var I0={};Object.defineProperty(I0,"__esModule",{value:!0});I0.outdent=void 0;const tK=2;function nK(e){return e.replace(/\t/g," ".repeat(tK))}function rK(e){let t=0;for(const n of e)if(n===" ")t+=1;else return t;return t}function sK(e){let t=e.split(`
`).map(nK);t[0].trim()===""&&(t=t.slice(1)),t[t.length-1].trim()===""&&(t=t.slice(0,t.length-1));const n=t.map(rK),r=Math.min(...n);return t.map(i=>i.slice(r)).join(`
`)}I0.outdent=sK;var gu={},nu={};Object.defineProperty(nu,"__esModule",{value:!0});nu.MAX=nu.MIN=void 0;nu.MIN=null;nu.MAX=!0;var Un={},xc={};Object.defineProperty(xc,"__esModule",{value:!0});xc.isPlainObject=void 0;function iK(e){if(e===null||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);return t===Object.prototype||t===null}xc.isPlainObject=iK;var N0={};const $4=2047,U4=0xfffffffffffff;function uK({sign:e,exponent:t,mantissa:n}){if(e!==0&&e!==1)throw new Error(`Invalid value for sign: ${e}.`);if(typeof t!="number"||t<0||$4<t)throw new Error(`Invalid value for exponent: ${t}.`);if(typeof n!="number"||n<0||U4<n)throw new Error(`Invalid value for mantissa: ${n}.`);const r=new ArrayBuffer(8),s=new Float64Array(r),i=new Uint8Array(r);return cK(e,i),fK(t,i),hK(n,i),s[0]}function oK(e){if(typeof e!="number")throw new Error(`Value is not of type number: ${e}.`);const t=new ArrayBuffer(8),n=new Float64Array(t),r=new Uint8Array(t);return n[0]=e,{sign:aK(r),exponent:lK(r),mantissa:dK(r)}}function aK(e){return qs(e[7],7)}function cK(e,t){t[7]|=Us(e,7)}function lK(e){let t=0;return t+=Us(e[7]&127,4),t+=qs(e[6],4),t}function fK(e,t){t[7]|=qs(e,4),t[6]|=Us(e&15,4)}function dK(e){let t=0;return t+=Us(e[6]&15,48),t+=Us(e[5],40),t+=Us(e[4],32),t+=Us(e[3],24),t+=Us(e[2],16),t+=Us(e[1],8),t+=e[0],t}function hK(e,t){t[6]|=qs(e,48)&255,t[5]|=qs(e,40)&255,t[4]|=qs(e,32)&255,t[3]|=qs(e,24)&255,t[2]|=qs(e,16)&255,t[1]|=qs(e,8)&255,t[0]|=e&255}function Us(e,t){return e*Math.pow(2,t)}function qs(e,t){return Math.floor(e/Math.pow(2,t))}var pK={MAX_EXPONENT:$4,MAX_MANTISSA:U4,construct:uK,deconstruct:oK};/***
 * @license
 * https://github.com/ealmansi/elen
 * Copyright (c) 2017 Emilio Almansi
 * Distributed under the MIT software license, see the accompanying
 * file LICENSE or http://www.opensource.org/licenses/mit-license.php.
 */const zi=pK,tv=";",q4=">",V4="<";function gK(e){if(typeof e!="number")throw new Error(`Value is not of type number: ${e}.`);const{sign:t,exponent:n,mantissa:r}=zi.deconstruct(e);let s="";return s+=t===1?V4:q4,s+=sy(t===1?zi.MAX_EXPONENT-n:n),s+=sy(t===1?zi.MAX_MANTISSA-r:r),s}function sy(e){let t="";e>0&&(t+=tv);const n=e.toString();return n.length>1&&(t+=sy(n.length)),t+=n,t}function mK(e){if(typeof e!="string")throw new Error(`Value is not of type string: ${e}.`);const{signLength:t,sign:n}=yK(e,0),{exponentLength:r,exponent:s}=bK(e,n,t),{mantissaLength:i,mantissa:u}=wK(e,n,t+r);return ni(e.length===t+r+i,e),zi.construct({sign:n,exponent:s,mantissa:u})}function yK(e,t){if(ni(t<e.length,e),e[t]===q4)return{signLength:1,sign:0};if(e[t]===V4)return{signLength:1,sign:1};ni(!1,e)}function bK(e,t,n){if(ni(n<e.length,e),e[n]==="0")return{exponentLength:1,exponent:t===0?0:zi.MAX_EXPONENT};let r=n,s=0,i,u;for(;e[r]===tv;)s=s+1,r=r+1;for(ni(s!==0,e),u=1;s>0;)i=u,u=Number.parseInt(e.substr(r,u)),ni(u>0,e),r=r+i,s=s-1;return{exponentLength:r-n,exponent:t===0?u:zi.MAX_EXPONENT-u}}function wK(e,t,n){if(ni(n<e.length,e),e[n]==="0")return{mantissaLength:1,mantissa:t===0?0:zi.MAX_MANTISSA};let r=n,s=0,i,u;for(;e[r]===tv;)s=s+1,r=r+1;for(ni(s!==0,e),u=1;s>0;)i=u,u=Number.parseInt(e.substr(r,u)),ni(u>0,e),r=r+i,s=s-1;return{mantissaLength:r-n,mantissa:t===0?u:zi.MAX_MANTISSA-u}}function ni(e,t){if(!e)throw new Error(`Input is not a valid ELEN-encoded number: ${t}.`)}var vK={encode:gK,decode:mK},zf={};Object.defineProperty(zf,"__esModule",{value:!0});zf.compare=void 0;function xK(e,t){return e>t?1:e<t?-1:0}zf.compare=xK;var Hf={};Object.defineProperty(Hf,"__esModule",{value:!0});Hf.UnreachableError=void 0;class SK extends Error{constructor(t,n){super((n+": "||"Unreachable: ")+t)}}Hf.UnreachableError=SK;(function(e){var t=U&&U.__createBinding||(Object.create?function(b,w,x,v){v===void 0&&(v=x);var A=Object.getOwnPropertyDescriptor(w,x);(!A||("get"in A?!w.__esModule:A.writable||A.configurable))&&(A={enumerable:!0,get:function(){return w[x]}}),Object.defineProperty(b,v,A)}:function(b,w,x,v){v===void 0&&(v=x),b[v]=w[x]}),n=U&&U.__setModuleDefault||(Object.create?function(b,w){Object.defineProperty(b,"default",{enumerable:!0,value:w})}:function(b,w){b.default=w}),r=U&&U.__importStar||function(b){if(b&&b.__esModule)return b;var w={};if(b!=null)for(var x in b)x!=="default"&&Object.prototype.hasOwnProperty.call(b,x)&&t(w,b,x);return n(w,b),w};Object.defineProperty(e,"__esModule",{value:!0}),e.decodeTuple=e.encodeTuple=e.decodeValue=e.encodingTypeOf=e.encodeValue=e.encodingRank=e.encodingByte=void 0;const s=r(vK),i=p0,u=xc,o=zf,a=Hf;e.encodingByte={null:"b",object:"c",array:"d",number:"e",string:"f",boolean:"g"},e.encodingRank=new Map((0,i.sortBy)(Object.entries(e.encodingByte),([b,w])=>w).map(([b],w)=>[b,w]));function c(b,w){if(b===null)return e.encodingByte.null;if(b===!0||b===!1)return e.encodingByte.boolean+b;if(typeof b=="string"){for(const x of(w==null?void 0:w.disallow)??[])if(b.includes(x))throw new Error(`Disallowed character found: ${x}.`);return e.encodingByte.string+b}if(typeof b=="number")return e.encodingByte.number+s.encode(b);if(Array.isArray(b))return e.encodingByte.array+f(b,w);if(typeof b=="object")return e.encodingByte.object+m(b,w);throw new a.UnreachableError(b,"Unknown value type")}e.encodeValue=c;function l(b){if(b===null)return"null";if(b===!0||b===!1)return"boolean";if(typeof b=="string")return"string";if(typeof b=="number")return"number";if(Array.isArray(b))return"array";if(typeof b=="object")return"object";throw new a.UnreachableError(b,"Unknown value type")}e.encodingTypeOf=l;const d=(0,i.invert)(e.encodingByte);function h(b,w){const x=d[b[0]],v=b.slice(1);if(x==="null")return null;if(x==="boolean")return JSON.parse(v);if(x==="string")return v;if(x==="number")return s.decode(v);if(x==="array")return p(v,w);if(x==="object")return y(v,w);throw new a.UnreachableError(x,"Invalid encoding byte")}e.decodeValue=h;function f(b,w){const x=(w==null?void 0:w.delimiter)??"\0",v=(w==null?void 0:w.escape)??"",A=new RegExp(`${v}`,"g"),T=new RegExp(`${x}`,"g");return b.map((V,J)=>c(V,w).replace(A,v+v).replace(T,v+x)+x).join("")}e.encodeTuple=f;function p(b,w){if(b==="")return[];const x=(w==null?void 0:w.delimiter)??"\0",v=(w==null?void 0:w.escape)??"",A=new RegExp(`(${v}(${v}|${x})|${x})`,"g"),T=new RegExp(v+v,"g"),V=new RegExp(v+x,"g"),J=[];let Y=0;for(;;){const pe=A.exec(b);if(pe===null)return J;if(pe[0][0]===v)continue;const B=pe.index,ce=b.slice(Y,B);typeof ce!="string"&&console.log(ce);const tt=ce.replace(T,v).replace(V,x),Zn=h(tt,w);J.push(Zn),Y=B+1}}e.decodeTuple=p;function m(b,w){if(!(0,u.isPlainObject)(b))throw new Error("Cannot serialize this object.");const x=Object.entries(b).sort(([v],[A])=>(0,o.compare)(v,A)).filter(([v,A])=>A!==void 0);return f(x,w)}function y(b,w){const x=p(b,w),v={};for(const[A,T]of x)v[A]=T;return v}})(N0);Object.defineProperty(Un,"__esModule",{value:!0});Un.TupleToString=Un.ValueToString=R0=Un.compareTuple=Un.compareValue=void 0;const hm=xc,xd=N0,Xo=zf,_K=Hf;function Qh(e,t){const n=(0,xd.encodingTypeOf)(e),r=(0,xd.encodingTypeOf)(t);if(n===r){if(n==="array")return z4(e,t);if(n==="object")return e===t?0:(0,hm.isPlainObject)(e)?(0,hm.isPlainObject)(t)?AK(e,t):-1:((0,hm.isPlainObject)(t),1);if(n==="boolean")return(0,Xo.compare)(e,t);if(n==="null")return 0;if(n==="number")return(0,Xo.compare)(e,t);if(n==="string")return(0,Xo.compare)(e,t);throw new _K.UnreachableError(n)}return(0,Xo.compare)(xd.encodingRank.get(n),xd.encodingRank.get(r))}Un.compareValue=Qh;function AK(e,t){const n=Object.entries(e).filter(([i,u])=>u!==void 0).sort(([i],[u])=>(0,Xo.compare)(i,u)),r=Object.entries(t).filter(([i,u])=>u!==void 0).sort(([i],[u])=>(0,Xo.compare)(i,u)),s=Math.min(n.length,r.length);for(let i=0;i<s;i++){const[u,o]=n[i],[a,c]=r[i],l=Qh(u,a);if(l===0){const d=Qh(o,c);if(d===0)continue;return d}return l}return n.length>r.length?1:n.length<r.length?-1:0}function z4(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const s=Qh(e[r],t[r]);if(s!==0)return s}return e.length>t.length?1:e.length<t.length?-1:0}var R0=Un.compareTuple=z4;function H4(e){return e===null?"null":JSON.stringify(e)}Un.ValueToString=H4;function TK(e){return`[${e.map(H4).join(",")}]`}Un.TupleToString=TK;var jn={},Hi={};Object.defineProperty(Hi,"__esModule",{value:!0});Hi.binarySearchAssociativeList=Hi.binarySearch=Hi.generalizedBinarySearch=void 0;function nv(e,t){return function(n,r){for(var s=0,i=n.length-1;s<=i;){var u=i+s>>1,o=t(r,e(n[u]));if(o>0)s=u+1;else if(o<0)i=u-1;else return{found:u}}return{closest:s}}}Hi.generalizedBinarySearch=nv;function EK(e,t,n){return nv(r=>r,n)(e,t)}Hi.binarySearch=EK;function OK(e,t,n){return nv(r=>r[0],n)(e,t)}Hi.binarySearchAssociativeList=OK;Object.defineProperty(jn,"__esModule",{value:!0});jn.scan=jn.remove=jn.exists=jn.get=jn.set=void 0;const ja=Hi;function IK(e,t,n){const r=(0,ja.binarySearch)(e,t,n);r.found!==void 0?e.splice(r.found,1,t):e.splice(r.closest,0,t)}jn.set=IK;function NK(e,t,n){const r=(0,ja.binarySearch)(e,t,n);if(r.found!==void 0)return e[r.found]}jn.get=NK;function RK(e,t,n){return(0,ja.binarySearch)(e,t,n).found!==void 0}jn.exists=RK;function kK(e,t,n){let{found:r}=(0,ja.binarySearch)(e,t,n);if(r!==void 0)return e.splice(r,1)[0]}jn.remove=kK;function CK(e,t,n){const r=t.gte||t.gt,s=t.lte||t.lt;if(r!==void 0&&s!==void 0&&n(r,s)>0)throw new Error("Invalid bounds.");let i,u;if(r===void 0)i=0;else{const c=(0,ja.binarySearch)(e,r,n);c.found===void 0?i=c.closest:t.gt?i=c.found+1:i=c.found}if(s===void 0)u=e.length;else{const c=(0,ja.binarySearch)(e,s,n);c.found===void 0?u=c.closest:t.lt?u=c.found:u=c.found+1}const o=t.reverse&&t.limit?Math.max(i,u-t.limit):i,a=!t.reverse&&t.limit?Math.min(i+t.limit,u):u;return t.reverse?e.slice(o,a).reverse():e.slice(o,a)}jn.scan=CK;(function(e){var t=U&&U.__createBinding||(Object.create?function(m,y,b,w){w===void 0&&(w=b);var x=Object.getOwnPropertyDescriptor(y,b);(!x||("get"in x?!y.__esModule:x.writable||x.configurable))&&(x={enumerable:!0,get:function(){return y[b]}}),Object.defineProperty(m,w,x)}:function(m,y,b,w){w===void 0&&(w=b),m[w]=y[b]}),n=U&&U.__setModuleDefault||(Object.create?function(m,y){Object.defineProperty(m,"default",{enumerable:!0,value:y})}:function(m,y){m.default=y}),r=U&&U.__importStar||function(m){if(m&&m.__esModule)return m;var y={};if(m!=null)for(var b in m)b!=="default"&&Object.prototype.hasOwnProperty.call(m,b)&&t(y,m,b);return n(y,m),y};Object.defineProperty(e,"__esModule",{value:!0}),e.scan=e.isTupleWithinBounds=e.getPrefixContainingBounds=e.normalizeTupleBounds=e.MaxTuple=e.remove=e.exists=e.set=void 0;const s=p0,i=nu,u=Un,o=r(jn);function a(m,y){return o.set(m,y,u.compareTuple)}e.set=a;function c(m,y){return o.exists(m,y,u.compareTuple)}e.exists=c;function l(m,y){return o.remove(m,y,u.compareTuple)}e.remove=l,e.MaxTuple=[i.MAX,i.MAX,i.MAX,i.MAX,i.MAX,i.MAX,i.MAX,i.MAX,i.MAX,i.MAX];function d(m){let y,b,w,x;return m.gte?m.prefix?y=[...m.prefix,...m.gte]:y=[...m.gte]:m.gt?m.prefix?b=[...m.prefix,...m.gt]:b=[...m.gt]:m.prefix&&(y=[...m.prefix]),m.lte?m.prefix?w=[...m.prefix,...m.lte]:w=[...m.lte]:m.lt?m.prefix?x=[...m.prefix,...m.lt]:x=[...m.lt]:m.prefix&&(w=[...m.prefix,...e.MaxTuple]),(0,s.omitBy)({gte:y,gt:b,lte:w,lt:x},v=>v===void 0)}e.normalizeTupleBounds=d;function h(m){const y=[],b=m.gt||m.gte||[],w=m.lt||m.lte||[],x=Math.min(b.length,w.length);for(let v=0;v<x&&b[v]===w[v];v++)y.push(b[v]);return y}e.getPrefixContainingBounds=h;function f(m,y){return!(y.gt&&(0,u.compareTuple)(m,y.gt)!==1||y.gte&&(0,u.compareTuple)(m,y.gte)===-1||y.lt&&(0,u.compareTuple)(m,y.lt)!==-1||y.lte&&(0,u.compareTuple)(m,y.lte)===1)}e.isTupleWithinBounds=f;function p(m,y={}){const{limit:b,reverse:w,...x}=y,v=d(x);return o.scan(m,{limit:b,reverse:w,...v},u.compareTuple)}e.scan=p})(gu);Object.defineProperty(Is,"__esModule",{value:!0});Is.ConcurrencyLog=Is.ReadWriteConflictError=void 0;const y2=O0,DK=I0,pm=gu;class G4 extends Error{constructor(t,n,r){const s=(0,DK.outdent)(`
      ReadWriteConflictError: ${t}
      Write to tuple ${n}
      conflicted with a read at the bounds ${JSON.stringify(r)}
    `);super(s)}}Is.ReadWriteConflictError=G4;class MK{constructor(){this.log=[]}read(t,n){this.log.push({type:"read",txId:t,bounds:n})}write(t,n){for(const r of this.log)if(r.type==="read"&&(0,pm.isTupleWithinBounds)(n,r.bounds)){this.log.push({type:"write",tuple:n,txId:t});break}}commit(t){try{const n=[];for(const r of this.log)if(r.type==="read")r.txId===t&&n.push(r.bounds);else if(r.type==="write"){for(const s of n)if((0,pm.isTupleWithinBounds)(r.tuple,s))throw new G4(r.txId,r.tuple,s)}}finally{this.cleanupReads(t),this.cleanupWrites()}}cancel(t){this.cleanupReads(t),this.cleanupWrites()}cleanupReads(t){(0,y2.mutableFilter)(this.log,n=>!(n.txId===t&&n.type==="read"))}cleanupWrites(){const t=[];(0,y2.mutableFilter)(this.log,n=>{if(n.type==="read")return t.push(n.bounds),!0;for(const r of t)if((0,pm.isTupleWithinBounds)(n.tuple,r))return!0;return!1})}}Is.ConcurrencyLog=MK;var k0={},Gf={};Object.defineProperty(Gf,"__esModule",{value:!0});Gf.maybePromiseAll=void 0;function PK(e){return e.some(t=>t instanceof Promise)?Promise.all(e.map(t=>t instanceof Promise?t.catch(n=>console.error(n)):t)):e}Gf.maybePromiseAll=PK;var jK=U&&U.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),LK=U&&U.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),FK=U&&U.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&jK(t,e,n);return LK(t,e),t};Object.defineProperty(k0,"__esModule",{value:!0});k0.AsyncReactivityTracker=void 0;const BK=Gf,b2=FK(gu);class $K{constructor(){this.listeners=new Map}subscribe(t,n){return qK(this.listeners,t,n)}computeReactivityEmits(t){return UK(this.listeners,t)}async emit(t,n){let r=[];for(const[s,i]of t.entries())try{r.push(s(i,n))}catch(u){console.error(u)}return(0,BK.maybePromiseAll)(r)}}k0.AsyncReactivityTracker=$K;function UK(e,t){const n=new Map;for(const[r,s]of e){const i=[],u=[];for(const o of t.set||[])b2.isTupleWithinBounds(o.key,s)&&i.push(o);for(const o of t.remove||[])b2.isTupleWithinBounds(o,s)&&u.push(o);(i.length>0||u.length>0)&&n.set(r,{set:i,remove:u})}return n}function qK(e,t,n){return e.set(n,t),()=>{e.delete(n)}}Object.defineProperty(d0,"__esModule",{value:!0});d0.AsyncTupleDatabase=void 0;const VK=lo,zK=ko,HK=Is,GK=k0;class JK{constructor(t){this.storage=t,this.log=new HK.ConcurrencyLog,this.reactivity=new GK.AsyncReactivityTracker}async scan(t={},n){const{reverse:r,limit:s,...i}=t;return n&&this.log.read(n,i),this.storage.scan({...i,reverse:r,limit:s})}async subscribe(t,n){return this.reactivity.subscribe(t,n)}async commit(t,n){const r=this.reactivity.computeReactivityEmits(t);n&&this.log.commit(n);for(const s of(0,VK.iterateWrittenTuples)(t))this.log.write(n,s);return await this.storage.commit(t),this.reactivity.emit(r,n||(0,zK.randomId)())}async cancel(t){this.log.cancel(t)}async close(){await this.storage.close()}}d0.AsyncTupleDatabase=JK;var js={},Xt={},WK=U&&U.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),QK=U&&U.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),XK=U&&U.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&WK(t,e,n);return QK(t,e),t};Object.defineProperty(Xt,"__esModule",{value:!0});Xt.scan=Xt.exists=Xt.get=Xt.remove=Xt.set=Xt.compareTupleValuePair=void 0;const J4=Un,Jf=XK(jn),KK=gu;function Sc(e,t){return(0,J4.compareTuple)(e.key,t.key)}Xt.compareTupleValuePair=Sc;function C0(e,t){return(0,J4.compareTuple)(e.key,t.key)*-1}function YK(e,t,n,r=!1){return Jf.set(e,{key:t,value:n},r?C0:Sc)}Xt.set=YK;function ZK(e,t,n=!1){return Jf.remove(e,{key:t,value:null},n?C0:Sc)}Xt.remove=ZK;function eY(e,t,n=!1){const r=Jf.get(e,{key:t,value:null},n?C0:Sc);if(r!==void 0)return r.value}Xt.get=eY;function tY(e,t,n=!1){return Jf.exists(e,{key:t,value:null},n?C0:Sc)}Xt.exists=tY;function nY(e){const t=(0,KK.normalizeTupleBounds)(e),{gt:n,lt:r,gte:s,lte:i}=t;return{gt:n?{key:n,value:null}:void 0,gte:s?{key:s,value:null}:void 0,lt:r?{key:r,value:null}:void 0,lte:i?{key:i,value:null}:void 0}}function rY(e,t={}){const{limit:n,reverse:r,...s}=t,i=nY(s);return Jf.scan(e,{limit:n,reverse:r,...i},Sc)}Xt.scan=rY;var ln={};Object.defineProperty(ln,"__esModule",{value:!0});ln.normalizeSubspaceScanArgs=ln.removePrefixFromTupleValuePairs=ln.removePrefixFromTuple=ln.removePrefixFromWriteOps=ln.prependPrefixToWriteOps=ln.prependPrefixToTuple=void 0;const W4=p0,sY=gu;function rv(e,t){return e.length?[...e,...t]:t}ln.prependPrefixToTuple=rv;function iY(e,t){return e.length?t.map(n=>rv(e,n)):t}function uY(e,t){if(!e.length)return t;const{key:n,value:r}=t;return{key:rv(e,n),value:r}}function oY(e,t){return e.length?t.map(n=>uY(e,n)):t}function aY(e,t){if(!e.length)return t;const n=t.set?oY(e,t.set):void 0,r=t.remove?iY(e,t.remove):void 0;return{set:n,remove:r}}ln.prependPrefixToWriteOps=aY;function cY(e,t){if(!e.length)return t;const n=t.set?Q4(e,t.set):void 0,r=t.remove?lY(e,t.remove):void 0;return{set:n,remove:r}}ln.removePrefixFromWriteOps=cY;function sv(e,t){if(!e.length)return t;if(!(0,W4.equals)(t.slice(0,e.length),e))throw new Error("Invalid prefix: "+JSON.stringify({prefix:e,tuple:t}));return t.slice(e.length)}ln.removePrefixFromTuple=sv;function lY(e,t){return e.length?t.map(n=>sv(e,n)):t}function fY(e,t){if(!e.length)return t;const{key:n,value:r}=t;return{key:sv(e,n),value:r}}function Q4(e,t){return e.length?t.map(n=>fY(e,n)):t}ln.removePrefixFromTupleValuePairs=Q4;function dY(e,t){const n=t.prefix?[...e,...t.prefix]:e,r=(0,sY.normalizeTupleBounds)({...t,prefix:n}),{limit:s,reverse:i}=t;return(0,W4.omitBy)({...r,limit:s,reverse:i},u=>u===void 0)}ln.normalizeSubspaceScanArgs=dY;var w2;function K4(){if(w2)return js;w2=1;var e=U&&U.__createBinding||(Object.create?function(d,h,f,p){p===void 0&&(p=f);var m=Object.getOwnPropertyDescriptor(h,f);(!m||("get"in m?!h.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return h[f]}}),Object.defineProperty(d,p,m)}:function(d,h,f,p){p===void 0&&(p=f),d[p]=h[f]}),t=U&&U.__setModuleDefault||(Object.create?function(d,h){Object.defineProperty(d,"default",{enumerable:!0,value:h})}:function(d,h){d.default=h}),n=U&&U.__importStar||function(d){if(d&&d.__esModule)return d;var h={};if(d!=null)for(var f in d)f!=="default"&&Object.prototype.hasOwnProperty.call(d,f)&&e(h,d,f);return t(h,d),h};Object.defineProperty(js,"__esModule",{value:!0}),js.AsyncTupleSubspaceTransaction=js.AsyncTupleRootTransaction=js.AsyncTupleDatabaseClient=void 0;const r=ko,s=n(gu),i=n(Xt),u=ln,o=iv();let a=class X4{constructor(h,f=[]){this.db=h,this.subspacePrefix=f}async scan(h={},f){const p=(0,u.normalizeSubspaceScanArgs)(this.subspacePrefix,h),m=await this.db.scan(p,f);return(0,u.removePrefixFromTupleValuePairs)(this.subspacePrefix,m)}async subscribe(h,f){const p=(0,u.normalizeSubspaceScanArgs)(this.subspacePrefix,h);return this.db.subscribe(p,(m,y)=>f((0,u.removePrefixFromWriteOps)(this.subspacePrefix,m),y))}async commit(h,f){const p=(0,u.prependPrefixToWriteOps)(this.subspacePrefix,h);await this.db.commit(p,f)}async cancel(h){return this.db.cancel(h)}async get(h,f){const p=await this.scan({gte:h,lte:h},f);if(p.length===0)return;if(p.length>1)throw new Error("Get expects only one value.");return p[0].value}async exists(h,f){const p=await this.scan({gte:h,lte:h},f);return p.length===0?!1:p.length>=1}subspace(h){const f=[...this.subspacePrefix,...h];return new X4(this.db,f)}transact(h,f){const p=h||(0,r.randomId)();return new c(this.db,this.subspacePrefix,p,f)}async close(){return this.db.close()}};js.AsyncTupleDatabaseClient=a;class c{constructor(h,f,p,m){this.db=h,this.subspacePrefix=f,this.id=p,this.committed=!1,this.canceled=!1,this.setsDirty=!1,this.removesDirty=!1,this.writes={set:[],remove:[],...m}}cleanWrites(){this.cleanSets(),this.cleanRemoves()}cleanSets(){this.setsDirty&&(this.writes.set=this.writes.set.sort(i.compareTupleValuePair),this.setsDirty=!1)}cleanRemoves(){this.removesDirty&&(this.writes.remove=this.writes.remove.sort(o.compareTuple),this.removesDirty=!1)}checkActive(){if(this.committed)throw new Error("Transaction already committed");if(this.canceled)throw new Error("Transaction already canceled")}async scan(h={}){this.checkActive(),this.cleanWrites();const{limit:f,...p}=(0,u.normalizeSubspaceScanArgs)(this.subspacePrefix,h),m=i.scan(this.writes.set,p),y=s.scan(this.writes.remove,p),b=f?f+y.length:void 0,w=await this.db.scan({...p,limit:b},this.id),x=(0,u.removePrefixFromTupleValuePairs)(this.subspacePrefix,w);for(const{key:v,value:A}of m){const T=(0,u.removePrefixFromTuple)(this.subspacePrefix,v);i.set(x,T,A,p.reverse)}for(const v of y){const A=(0,u.removePrefixFromTuple)(this.subspacePrefix,v);i.remove(x,A,p.reverse)}return f&&x.length>f&&x.splice(f,x.length),x}async get(h){this.checkActive(),this.cleanWrites();const f=(0,u.prependPrefixToTuple)(this.subspacePrefix,h);if(i.exists(this.writes.set,f))return i.get(this.writes.set,f);if(s.exists(this.writes.remove,f))return;const p=await this.db.scan({gte:f,lte:f},this.id);if(p.length===0)return;if(p.length>1)throw new Error("Get expects only one value.");return p[0].value}async exists(h){this.checkActive(),this.cleanWrites();const f=(0,u.prependPrefixToTuple)(this.subspacePrefix,h);if(i.exists(this.writes.set,f))return!0;if(s.exists(this.writes.remove,f))return!1;const p=await this.db.scan({gte:f,lte:f},this.id);return p.length===0?!1:p.length>=1}set(h,f){this.checkActive(),this.cleanRemoves();const p=(0,u.prependPrefixToTuple)(this.subspacePrefix,h);return s.remove(this.writes.remove,p),this.writes.set.push({key:p,value:f}),this.setsDirty=!0,this}remove(h){this.checkActive(),this.cleanSets();const f=(0,u.prependPrefixToTuple)(this.subspacePrefix,h);return i.remove(this.writes.set,f),this.writes.remove.push(f),this.removesDirty=!0,this}write(h){this.checkActive();const{set:f,remove:p}=h;for(const m of p||[])this.remove(m);for(const{key:m,value:y}of f||[])this.set(m,y);return this}async commit(){return this.checkActive(),this.committed=!0,this.db.commit(this.writes,this.id)}async cancel(){return this.checkActive(),this.canceled=!0,this.db.cancel(this.id)}subspace(h){return this.checkActive(),new l(this,h)}}js.AsyncTupleRootTransaction=c;class l{constructor(h,f){this.tx=h,this.subspacePrefix=f}async scan(h={}){const f=(0,u.normalizeSubspaceScanArgs)(this.subspacePrefix,h),p=await this.tx.scan(f);return(0,u.removePrefixFromTupleValuePairs)(this.subspacePrefix,p)}async get(h){const f=(0,u.prependPrefixToTuple)(this.subspacePrefix,h);return this.tx.get(f)}async exists(h){const f=(0,u.prependPrefixToTuple)(this.subspacePrefix,h);return this.tx.exists(f)}set(h,f){const p=(0,u.prependPrefixToTuple)(this.subspacePrefix,h);return this.tx.set(p,f),this}remove(h){const f=(0,u.prependPrefixToTuple)(this.subspacePrefix,h);return this.tx.remove(f),this}write(h){const{set:f,remove:p}=h;for(const m of p||[])this.remove(m);for(const{key:m,value:y}of f||[])this.set(m,y);return this}subspace(h){return new l(this.tx,[...this.subspacePrefix,...h])}}return js.AsyncTupleSubspaceTransaction=l,js}var Y4={};Object.defineProperty(Y4,"__esModule",{value:!0});var Fc={},Wf={};Object.defineProperty(Wf,"__esModule",{value:!0});Wf.isEmptyWrites=void 0;function hY(e){var t,n;return!((t=e.remove)!=null&&t.length||(n=e.set)!=null&&n.length)}Wf.isEmptyWrites=hY;var Qf={};Object.defineProperty(Qf,"__esModule",{value:!0});Qf.Queue=void 0;class pY{enqueue(t){if(this.currentPromise){const r=this.currentPromise.then(t).then(s=>(this.currentPromise===r&&(this.currentPromise=void 0),s));return this.currentPromise=r,r}const n=t();if(n instanceof Promise){const r=n.then(s=>(this.currentPromise===r&&(this.currentPromise=void 0),s));return this.currentPromise=r,r}return n}}Qf.Queue=pY;var v2;function gY(){if(v2)return Fc;v2=1,Object.defineProperty(Fc,"__esModule",{value:!0}),Fc.subscribeQueryAsync=void 0;const e=Wf,t=Qf,n=K4(),r=()=>{throw new Error};async function s(i,u,o){let a=!1;const c=new Set,l=()=>u(m),d=()=>{c.forEach(w=>w()),c.clear()};let h;const f=async w=>{if(a||w===h)return;h=w,d();const x=await l();o(x)},p=new t.Queue,m=new n.AsyncTupleDatabaseClient({scan:async(w,x)=>{const v=await i.subscribe(w,async(T,V)=>p.enqueue(()=>f(V)));return c.add(v),await i.scan(w)},cancel:async w=>{await i.cancel(w)},commit:async(w,x)=>{if(!(0,e.isEmptyWrites)(w))throw new Error("No writing in a subscribeQueryAsync.");await i.commit({},x)},subscribe:r,close:r});return{result:await l(),destroy:()=>{d(),a=!0}}}return Fc.subscribeQueryAsync=s,Fc}var D0={},_c={};Object.defineProperty(_c,"__esModule",{value:!0});_c.retry=void 0;const mY=Is;function yY(e,t){for(;;)try{return t()}catch(n){if(e<=0||!(n instanceof mY.ReadWriteConflictError))throw n;e-=1}}_c.retry=yY;Object.defineProperty(D0,"__esModule",{value:!0});D0.transactionalReadAsync=void 0;const bY=_c;function wY(e=5){return function(t){return function(n,...r){return"transact"in n?(0,bY.retry)(e,()=>{const s=n.transact(),i=t(s,...r);return s.commit(),i}):t(n,...r)}}}D0.transactionalReadAsync=wY;var La={},M0={};Object.defineProperty(M0,"__esModule",{value:!0});M0.retryAsync=void 0;const vY=Is,xY=1e3,SY=10;async function _Y(e,t,n={}){let r=0,s=0;const{exponentialBackoff:i,jitter:u}=n,o=n.backoffBase??SY,a=n.maxDelay??xY;for(;;)try{return s+=1,await t()}catch(c){if(e<=0||!(c instanceof vY.ReadWriteConflictError))throw c;i&&(r=Math.min(o*2**s,a)),u&&(r=AY(0,r||a)),e-=1,r&&await new Promise(d=>setTimeout(d,r))}}M0.retryAsync=_Y;function AY(e,t){return Math.floor(Math.random()*(t-e+1)+e)}Object.defineProperty(La,"__esModule",{value:!0});La.transactionalAsyncQuery=La.transactionalReadWriteAsync=void 0;const TY=M0;function Z4(e=5,t={}){return function(n){return async function(r,...s){return"transact"in r?await(0,TY.retryAsync)(e,async()=>{const i=r.transact(),u=await n(i,...s);return await i.commit(),u},t):n(r,...s)}}}La.transactionalReadWriteAsync=Z4;La.transactionalAsyncQuery=Z4;var Bc={},Ls={},x2;function tI(){if(x2)return Ls;x2=1;var e=U&&U.__createBinding||(Object.create?function(d,h,f,p){p===void 0&&(p=f);var m=Object.getOwnPropertyDescriptor(h,f);(!m||("get"in m?!h.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return h[f]}}),Object.defineProperty(d,p,m)}:function(d,h,f,p){p===void 0&&(p=f),d[p]=h[f]}),t=U&&U.__setModuleDefault||(Object.create?function(d,h){Object.defineProperty(d,"default",{enumerable:!0,value:h})}:function(d,h){d.default=h}),n=U&&U.__importStar||function(d){if(d&&d.__esModule)return d;var h={};if(d!=null)for(var f in d)f!=="default"&&Object.prototype.hasOwnProperty.call(d,f)&&e(h,d,f);return t(h,d),h};Object.defineProperty(Ls,"__esModule",{value:!0}),Ls.TupleSubspaceTransaction=Ls.TupleRootTransaction=Ls.TupleDatabaseClient=void 0;const r=ko,s=n(gu),i=n(Xt),u=ln,o=iv();let a=class eI{constructor(h,f=[]){this.db=h,this.subspacePrefix=f}scan(h={},f){const p=(0,u.normalizeSubspaceScanArgs)(this.subspacePrefix,h),m=this.db.scan(p,f);return(0,u.removePrefixFromTupleValuePairs)(this.subspacePrefix,m)}subscribe(h,f){const p=(0,u.normalizeSubspaceScanArgs)(this.subspacePrefix,h);return this.db.subscribe(p,(m,y)=>f((0,u.removePrefixFromWriteOps)(this.subspacePrefix,m),y))}commit(h,f){const p=(0,u.prependPrefixToWriteOps)(this.subspacePrefix,h);this.db.commit(p,f)}cancel(h){return this.db.cancel(h)}get(h,f){const p=this.scan({gte:h,lte:h},f);if(p.length===0)return;if(p.length>1)throw new Error("Get expects only one value.");return p[0].value}exists(h,f){const p=this.scan({gte:h,lte:h},f);return p.length===0?!1:p.length>=1}subspace(h){const f=[...this.subspacePrefix,...h];return new eI(this.db,f)}transact(h,f){const p=h||(0,r.randomId)();return new c(this.db,this.subspacePrefix,p,f)}close(){return this.db.close()}};Ls.TupleDatabaseClient=a;class c{constructor(h,f,p,m){this.db=h,this.subspacePrefix=f,this.id=p,this.committed=!1,this.canceled=!1,this.setsDirty=!1,this.removesDirty=!1,this.writes={set:[],remove:[],...m}}cleanWrites(){this.cleanSets(),this.cleanRemoves()}cleanSets(){this.setsDirty&&(this.writes.set=this.writes.set.sort(i.compareTupleValuePair),this.setsDirty=!1)}cleanRemoves(){this.removesDirty&&(this.writes.remove=this.writes.remove.sort(o.compareTuple),this.removesDirty=!1)}checkActive(){if(this.committed)throw new Error("Transaction already committed");if(this.canceled)throw new Error("Transaction already canceled")}scan(h={}){this.checkActive(),this.cleanWrites();const{limit:f,...p}=(0,u.normalizeSubspaceScanArgs)(this.subspacePrefix,h),m=i.scan(this.writes.set,p),y=s.scan(this.writes.remove,p),b=f?f+y.length:void 0,w=this.db.scan({...p,limit:b},this.id),x=(0,u.removePrefixFromTupleValuePairs)(this.subspacePrefix,w);for(const{key:v,value:A}of m){const T=(0,u.removePrefixFromTuple)(this.subspacePrefix,v);i.set(x,T,A,p.reverse)}for(const v of y){const A=(0,u.removePrefixFromTuple)(this.subspacePrefix,v);i.remove(x,A,p.reverse)}return f&&x.length>f&&x.splice(f,x.length),x}get(h){this.checkActive(),this.cleanWrites();const f=(0,u.prependPrefixToTuple)(this.subspacePrefix,h);if(i.exists(this.writes.set,f))return i.get(this.writes.set,f);if(s.exists(this.writes.remove,f))return;const p=this.db.scan({gte:f,lte:f},this.id);if(p.length===0)return;if(p.length>1)throw new Error("Get expects only one value.");return p[0].value}exists(h){this.checkActive(),this.cleanWrites();const f=(0,u.prependPrefixToTuple)(this.subspacePrefix,h);if(i.exists(this.writes.set,f))return!0;if(s.exists(this.writes.remove,f))return!1;const p=this.db.scan({gte:f,lte:f},this.id);return p.length===0?!1:p.length>=1}set(h,f){this.checkActive(),this.cleanRemoves();const p=(0,u.prependPrefixToTuple)(this.subspacePrefix,h);return s.remove(this.writes.remove,p),this.writes.set.push({key:p,value:f}),this.setsDirty=!0,this}remove(h){this.checkActive(),this.cleanSets();const f=(0,u.prependPrefixToTuple)(this.subspacePrefix,h);return i.remove(this.writes.set,f),this.writes.remove.push(f),this.removesDirty=!0,this}write(h){this.checkActive();const{set:f,remove:p}=h;for(const m of p||[])this.remove(m);for(const{key:m,value:y}of f||[])this.set(m,y);return this}commit(){return this.checkActive(),this.committed=!0,this.db.commit(this.writes,this.id)}cancel(){return this.checkActive(),this.canceled=!0,this.db.cancel(this.id)}subspace(h){return this.checkActive(),new l(this,h)}}Ls.TupleRootTransaction=c;class l{constructor(h,f){this.tx=h,this.subspacePrefix=f}scan(h={}){const f=(0,u.normalizeSubspaceScanArgs)(this.subspacePrefix,h),p=this.tx.scan(f);return(0,u.removePrefixFromTupleValuePairs)(this.subspacePrefix,p)}get(h){const f=(0,u.prependPrefixToTuple)(this.subspacePrefix,h);return this.tx.get(f)}exists(h){const f=(0,u.prependPrefixToTuple)(this.subspacePrefix,h);return this.tx.exists(f)}set(h,f){const p=(0,u.prependPrefixToTuple)(this.subspacePrefix,h);return this.tx.set(p,f),this}remove(h){const f=(0,u.prependPrefixToTuple)(this.subspacePrefix,h);return this.tx.remove(f),this}write(h){const{set:f,remove:p}=h;for(const m of p||[])this.remove(m);for(const{key:m,value:y}of f||[])this.set(m,y);return this}subspace(h){return new l(this.tx,[...this.subspacePrefix,...h])}}return Ls.TupleSubspaceTransaction=l,Ls}var S2;function EY(){if(S2)return Bc;S2=1,Object.defineProperty(Bc,"__esModule",{value:!0}),Bc.subscribeQuery=void 0;const e=Wf,t=Qf,n=tI(),r=()=>{throw new Error};function s(i,u,o){let a=!1;const c=new Set,l=()=>u(m),d=()=>{c.forEach(w=>w()),c.clear()};let h;const f=w=>{if(a||w===h)return;h=w,d();const x=l();o(x)},p=new t.Queue,m=new n.TupleDatabaseClient({scan:(w,x)=>{const v=i.subscribe(w,(T,V)=>p.enqueue(()=>f(V)));return c.add(v),i.scan(w)},cancel:w=>{i.cancel(w)},commit:(w,x)=>{if(!(0,e.isEmptyWrites)(w))throw new Error("No writing in a subscribeQuery.");i.commit({},x)},subscribe:r,close:r});return{result:l(),destroy:()=>{d(),a=!0}}}return Bc.subscribeQuery=s,Bc}var P0={};Object.defineProperty(P0,"__esModule",{value:!0});P0.transactionalRead=void 0;const OY=_c;function IY(e=5){return function(t){return function(n,...r){return"transact"in n?(0,OY.retry)(e,()=>{const s=n.transact(),i=t(s,...r);return s.commit(),i}):t(n,...r)}}}P0.transactionalRead=IY;var Fa={},j0={};Object.defineProperty(j0,"__esModule",{value:!0});j0.retry=void 0;const NY=Is,RY=1e3,kY=10;function CY(e,t,n={}){let r=0,s=0;const{exponentialBackoff:i,jitter:u}=n,o=n.backoffBase??kY,a=n.maxDelay??RY;for(;;)try{return s+=1,t()}catch(c){if(e<=0||!(c instanceof NY.ReadWriteConflictError))throw c;i&&(r=Math.min(o*2**s,a)),u&&(r=DY(0,r||a)),e-=1,r&&new Promise(d=>setTimeout(d,r))}}j0.retry=CY;function DY(e,t){return Math.floor(Math.random()*(t-e+1)+e)}Object.defineProperty(Fa,"__esModule",{value:!0});Fa.transactionalQuery=Fa.transactionalReadWrite=void 0;const MY=j0;function nI(e=5,t={}){return function(n){return function(r,...s){return"transact"in r?(0,MY.retry)(e,()=>{const i=r.transact(),u=n(i,...s);return i.commit(),u},t):n(r,...s)}}}Fa.transactionalReadWrite=nI;Fa.transactionalQuery=nI;var L0={},F0={},PY=U&&U.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),jY=U&&U.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),LY=U&&U.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&PY(t,e,n);return jY(t,e),t};Object.defineProperty(F0,"__esModule",{value:!0});F0.ReactivityTracker=void 0;const FY=Gf,_2=LY(gu);class BY{constructor(){this.listeners=new Map}subscribe(t,n){return UY(this.listeners,t,n)}computeReactivityEmits(t){return $Y(this.listeners,t)}emit(t,n){let r=[];for(const[s,i]of t.entries())try{r.push(s(i,n))}catch(u){console.error(u)}return(0,FY.maybePromiseAll)(r)}}F0.ReactivityTracker=BY;function $Y(e,t){const n=new Map;for(const[r,s]of e){const i=[],u=[];for(const o of t.set||[])_2.isTupleWithinBounds(o.key,s)&&i.push(o);for(const o of t.remove||[])_2.isTupleWithinBounds(o,s)&&u.push(o);(i.length>0||u.length>0)&&n.set(r,{set:i,remove:u})}return n}function UY(e,t,n){return e.set(n,t),()=>{e.delete(n)}}Object.defineProperty(L0,"__esModule",{value:!0});L0.TupleDatabase=void 0;const qY=lo,VY=ko,zY=Is,HY=F0;class GY{constructor(t){this.storage=t,this.log=new zY.ConcurrencyLog,this.reactivity=new HY.ReactivityTracker}scan(t={},n){const{reverse:r,limit:s,...i}=t;return n&&this.log.read(n,i),this.storage.scan({...i,reverse:r,limit:s})}subscribe(t,n){return this.reactivity.subscribe(t,n)}commit(t,n){const r=this.reactivity.computeReactivityEmits(t);n&&this.log.commit(n);for(const s of(0,qY.iterateWrittenTuples)(t))this.log.write(n,s);return this.storage.commit(t),this.reactivity.emit(r,n||(0,VY.randomId)())}cancel(t){this.log.cancel(t)}close(){this.storage.close()}}L0.TupleDatabase=GY;var rI={};Object.defineProperty(rI,"__esModule",{value:!0});var B0={};Object.defineProperty(B0,"__esModule",{value:!0});B0.transactionalWrite=void 0;const JY=_c;function WY(e=5){return function(t){return function(n,...r){return"set"in n?t(n,...r):(0,JY.retry)(e,()=>{const s=n.transact(),i=t(s,...r);return s.commit(),i})}}}B0.transactionalWrite=WY;var sI={};Object.defineProperty(sI,"__esModule",{value:!0});var $0={};Object.defineProperty($0,"__esModule",{value:!0});$0.namedTupleToObject=void 0;const QY=xc;function XY(e){return(0,QY.isPlainObject)(e)}function KY(e){return e.filter(XY).reduce((n,r)=>Object.assign(n,r),{})}$0.namedTupleToObject=KY;var U0={},YY=U&&U.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),ZY=U&&U.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),eZ=U&&U.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&YY(t,e,n);return ZY(t,e),t};Object.defineProperty(U0,"__esModule",{value:!0});U0.InMemoryTupleStorage=void 0;const gm=eZ(Xt);class tZ{constructor(t){this.data=t||[]}scan(t){return gm.scan(this.data,t)}commit(t){const{set:n,remove:r}=t;for(const s of r||[])gm.remove(this.data,s);for(const{key:s,value:i}of n||[])gm.set(this.data,s,i)}close(){}}U0.InMemoryTupleStorage=tZ;var A2;function iv(){return A2||(A2=1,function(e){var t=U&&U.__createBinding||(Object.create?function(s,i,u,o){o===void 0&&(o=u);var a=Object.getOwnPropertyDescriptor(i,u);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[u]}}),Object.defineProperty(s,o,a)}:function(s,i,u,o){o===void 0&&(o=u),s[o]=i[u]}),n=U&&U.__exportStar||function(s,i){for(var u in s)u!=="default"&&!Object.prototype.hasOwnProperty.call(i,u)&&t(i,s,u)};Object.defineProperty(e,"__esModule",{value:!0}),e.compareTuple=void 0,n(d0,e),n(K4(),e),n(Y4,e),n(gY(),e),n(D0,e),n(La,e),n(EY(),e),n(P0,e),n(Fa,e),n(L0,e),n(tI(),e),n(rI,e),n(B0,e),n(sI,e),n($0,e),n(U0,e),n(nu,e);var r=Un;Object.defineProperty(e,"compareTuple",{enumerable:!0,get:function(){return r.compareTuple}}),n(N0,e)}(om)),om}var ue=iv();function ru(e){return e instanceof Array&&e.length===3&&typeof e[0]=="string"&&typeof e[1]=="string"}function Ns(e){return e instanceof Object&&"mod"in e}function gi(e){return e instanceof Object&&"exists"in e}function Xf(e){return e instanceof Object&&"type"in e&&e.type==="relationshipExists"}function q0(e){return typeof e=="boolean"}class V0{constructor(t){R(this,"data",{});R(this,"triples",{});R(this,"tripleHistory",{});t&&(this.data=t.data??{},this.triples=t.triples.reduce((n,r)=>(n["/"+r.attribute.join("/")]=r,n),{}))}applyTriple(t){const{attribute:n,value:r,timestamp:s,expired:i}=t;let u=i?void 0:r;if(Array.isArray(u)&&(u=[...u]),n[0]==="_collection"){const d="/_collection";return cs.Set(this.data,d,u,s),this.triples[d]=t,this.tripleHistory[d]?this.tripleHistory[d].push(t):this.tripleHistory[d]=[t],!0}const[o,...a]=n,l="/"+a.map(d=>d.toString().replaceAll("/","~")).join("/");this.tripleHistory[l]?this.tripleHistory[l].push(t):this.tripleHistory[l]=[t];for(let d=0;d<a.length;d++)if(typeof a[d]=="number"){const f="/"+a.slice(0,d).join("/");cs.Get(this.data,f)||cs.Set(this.data,f,[],s)}{let d="/";for(let h=0;h<a.length;h++){d+=a[h];const f=cs.Get(this.data,d);if(f&&vs(s,f[1])<0)return!1;d+="/"}}if(u==="{}"){const d=cs.Get(this.data,l);if(d===void 0)u={};else{const h=iI(d,s);h?u=h[0]:u={}}}return cs.Set(this.data,l,u,s),this.triples[l]=t,!0}}function iI(e,t){if(typeof e[0]=="object"&&e[0]!==null){const[n,r]=e;for(const s in n){const i=n[s];iI(i,t)||delete n[s]}return Object.keys(n).length===0&&vs(r,t)===-1?void 0:[n,r]}if(vs(e[1],t)!==-1)return e}var cs;(function(e){function t(o){return o.indexOf("~")===-1?o:o.replace(/~1/g,"/").replace(/~0/g,"~")}function*n(o){if(o==="")throw new Error(`Invalid pointer: "${o}"`);let[a,c]=[0,0];for(let l=0;l<o.length;l++)o.charAt(l)==="/"?(l===0||(c=l,yield t(o.slice(a,c))),a=l+1):c=l;yield t(o.slice(a))}e.Format=n;function r(o,a,c,l){if(a==="")throw new Error(`ValuePointerRootSetError - (${JSON.stringify(o)}, ${a}, ${JSON.stringify([c,l])})`);let[d,h,f]=[null,o,""];for(const p of n(a)){if(c===void 0&&h===void 0)return;h===void 0&&(h={},d[f][0]=h),h[p]===void 0&&(h[p]=[{},void 0]),d=h,h=h[p][0],f=p}d[f]=[c,l]}e.Set=r;function s(o,a){throw new Error("EntityPointer.Delete() is not implemented")}e.Delete=s;function i(o,a){throw new Error("EntityPointer.Has() is not implemented")}e.Has=i;function u(o,a){var d;if(a==="")return o;let c=o,l=!0;for(const h of n(a)){const f=l?c[h]:(d=c[0])==null?void 0:d[h];if(f===void 0)return;c=f,l=!1}return c}e.Get=u})(cs||(cs={}));function uv(e,t){return t.reduce((n,r)=>e.applyTriple(r)||n,!1)}function Ac(e,t){return e.reduce((n,r)=>{const{id:s,timestamp:i}=r;if(t){const[o,a]=i;if(!t.has(a))return n;const c=t.get(a);if(c&&vs(i,[c,a])>0)return n}const u=n.get(s)??new V0;return u.applyTriple(r),n.set(s,u),n},new Map)}function Ba(e,t){return Ac(e).get(t)}function nZ(e,t){return{type:"relationshipExists",relationship:e,query:t}}function rZ(e,t){if(!e&&!t)return 0;if(!e)return-1;if(!t)return 1;let n=e[0],r=t[0];return n instanceof Date&&(n=n.getTime()),r instanceof Date&&(r=r.getTime()),n!==r?ue.encodeValue(n)>ue.encodeValue(r)?1:-1:e[1]!==t[1]?e[1]>t[1]?1:-1:0}function sZ(e){return G0(e)&&Symbol.asyncIterator in e}function iZ(e){return G0(e)&&Symbol.iterator in e}function Kf(e){return G0(e)&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function uZ(e){return e instanceof Promise}function z0(e){return e instanceof Date&&Number.isFinite(e.getTime())}function H0(e){return ArrayBuffer.isView(e)}function uI(e){return e instanceof globalThis.Uint8Array}function G0(e){return e!==null&&typeof e=="object"}function mu(e){return Array.isArray(e)&&!ArrayBuffer.isView(e)}function Xs(e){return e===void 0}function ov(e){return e===null}function av(e){return typeof e=="boolean"}function Mu(e){return typeof e=="number"}function oZ(e){return Number.isInteger(e)}function cv(e){return typeof e=="bigint"}function J0(e){return typeof e=="string"}function aZ(e){return typeof e=="function"}function Pu(e){return typeof e=="symbol"}function oI(e){return cv(e)||av(e)||ov(e)||Mu(e)||J0(e)||Pu(e)||Xs(e)}var fo;(function(e){e.ExactOptionalPropertyTypes=!1,e.AllowArrayObject=!1,e.AllowNaN=!1,e.AllowNullVoid=!1;function t(u,o){return e.ExactOptionalPropertyTypes?o in u:u[o]!==void 0}e.IsExactOptionalProperty=t;function n(u){const o=G0(u);return e.AllowArrayObject?o:o&&!mu(u)}e.IsObjectLike=n;function r(u){return n(u)&&!(u instanceof Date)&&!(u instanceof Uint8Array)}e.IsRecordLike=r;function s(u){return e.AllowNaN?Mu(u):Number.isFinite(u)}e.IsNumberLike=s;function i(u){const o=Xs(u);return e.AllowNullVoid?o||u===null:o}e.IsVoidLike=i})(fo||(fo={}));class cZ extends Kn{constructor(t){super(`Duplicate type kind '${t}' detected`)}}class lZ extends Kn{constructor(t){super(`Duplicate string format '${t}' detected`)}}var T2;(function(e){function t(r,s){if(Mw(r))throw new cZ(r);return Y$(r,s),(i={})=>IO({...i,[z]:r})}e.Type=t;function n(r,s){if(zE(r))throw new lZ(r);return X$(r,s),r}e.Format=n})(T2||(T2={}));class fZ extends Kn{constructor(t){super(`Unable to dereference schema with $id '${t.$id}'`),this.schema=t}}function dZ(e,t){const n=t.find(r=>r.$id===e.$ref);if(n===void 0)throw new fZ(e);return lv(n,t)}function lv(e,t){return e[z]==="This"||e[z]==="Ref"?dZ(e,t):e}class hZ extends Kn{constructor(t){super("Unable to hash value"),this.value=t}}var Jn;(function(e){e[e.Undefined=0]="Undefined",e[e.Null=1]="Null",e[e.Boolean=2]="Boolean",e[e.Number=3]="Number",e[e.String=4]="String",e[e.Object=5]="Object",e[e.Array=6]="Array",e[e.Date=7]="Date",e[e.Uint8Array=8]="Uint8Array",e[e.Symbol=9]="Symbol",e[e.BigInt=10]="BigInt"})(Jn||(Jn={}));let Ko=BigInt("14695981039346656037");const[pZ,gZ]=[BigInt("1099511628211"),BigInt("2")**BigInt("64")],mZ=Array.from({length:256}).map((e,t)=>BigInt(t)),aI=new Float64Array(1),cI=new DataView(aI.buffer),lI=new Uint8Array(aI.buffer);function*yZ(e){const t=e===0?1:Math.ceil(Math.floor(Math.log2(e)+1)/8);for(let n=0;n<t;n++)yield e>>8*(t-1-n)&255}function bZ(e){un(Jn.Array);for(const t of e)$a(t)}function wZ(e){un(Jn.Boolean),un(e?1:0)}function vZ(e){un(Jn.BigInt),cI.setBigInt64(0,e);for(const t of lI)un(t)}function xZ(e){un(Jn.Date),$a(e.getTime())}function SZ(e){un(Jn.Null)}function _Z(e){un(Jn.Number),cI.setFloat64(0,e);for(const t of lI)un(t)}function AZ(e){un(Jn.Object);for(const t of globalThis.Object.getOwnPropertyNames(e).sort())$a(t),$a(e[t])}function TZ(e){un(Jn.String);for(let t=0;t<e.length;t++)for(const n of yZ(e.charCodeAt(t)))un(n)}function EZ(e){un(Jn.Symbol),$a(e.description)}function OZ(e){un(Jn.Uint8Array);for(let t=0;t<e.length;t++)un(e[t])}function IZ(e){return un(Jn.Undefined)}function $a(e){if(mu(e))return bZ(e);if(av(e))return wZ(e);if(cv(e))return vZ(e);if(z0(e))return xZ(e);if(ov(e))return SZ();if(Mu(e))return _Z(e);if(Kf(e))return AZ(e);if(J0(e))return TZ(e);if(Pu(e))return EZ(e);if(uI(e))return OZ(e);if(Xs(e))return IZ();throw new hZ(e)}function un(e){Ko=Ko^mZ[e],Ko=Ko*pZ%gZ}function fI(e){return Ko=BigInt("14695981039346656037"),$a(e),Ko}var E2;(function(e){e[e.ArrayContains=0]="ArrayContains",e[e.ArrayMaxContains=1]="ArrayMaxContains",e[e.ArrayMaxItems=2]="ArrayMaxItems",e[e.ArrayMinContains=3]="ArrayMinContains",e[e.ArrayMinItems=4]="ArrayMinItems",e[e.ArrayUniqueItems=5]="ArrayUniqueItems",e[e.Array=6]="Array",e[e.AsyncIterator=7]="AsyncIterator",e[e.BigIntExclusiveMaximum=8]="BigIntExclusiveMaximum",e[e.BigIntExclusiveMinimum=9]="BigIntExclusiveMinimum",e[e.BigIntMaximum=10]="BigIntMaximum",e[e.BigIntMinimum=11]="BigIntMinimum",e[e.BigIntMultipleOf=12]="BigIntMultipleOf",e[e.BigInt=13]="BigInt",e[e.Boolean=14]="Boolean",e[e.DateExclusiveMaximumTimestamp=15]="DateExclusiveMaximumTimestamp",e[e.DateExclusiveMinimumTimestamp=16]="DateExclusiveMinimumTimestamp",e[e.DateMaximumTimestamp=17]="DateMaximumTimestamp",e[e.DateMinimumTimestamp=18]="DateMinimumTimestamp",e[e.DateMultipleOfTimestamp=19]="DateMultipleOfTimestamp",e[e.Date=20]="Date",e[e.Function=21]="Function",e[e.IntegerExclusiveMaximum=22]="IntegerExclusiveMaximum",e[e.IntegerExclusiveMinimum=23]="IntegerExclusiveMinimum",e[e.IntegerMaximum=24]="IntegerMaximum",e[e.IntegerMinimum=25]="IntegerMinimum",e[e.IntegerMultipleOf=26]="IntegerMultipleOf",e[e.Integer=27]="Integer",e[e.IntersectUnevaluatedProperties=28]="IntersectUnevaluatedProperties",e[e.Intersect=29]="Intersect",e[e.Iterator=30]="Iterator",e[e.Kind=31]="Kind",e[e.Literal=32]="Literal",e[e.Never=33]="Never",e[e.Not=34]="Not",e[e.Null=35]="Null",e[e.NumberExclusiveMaximum=36]="NumberExclusiveMaximum",e[e.NumberExclusiveMinimum=37]="NumberExclusiveMinimum",e[e.NumberMaximum=38]="NumberMaximum",e[e.NumberMinimum=39]="NumberMinimum",e[e.NumberMultipleOf=40]="NumberMultipleOf",e[e.Number=41]="Number",e[e.ObjectAdditionalProperties=42]="ObjectAdditionalProperties",e[e.ObjectMaxProperties=43]="ObjectMaxProperties",e[e.ObjectMinProperties=44]="ObjectMinProperties",e[e.ObjectRequiredProperty=45]="ObjectRequiredProperty",e[e.Object=46]="Object",e[e.Promise=47]="Promise",e[e.RegExp=48]="RegExp",e[e.StringFormatUnknown=49]="StringFormatUnknown",e[e.StringFormat=50]="StringFormat",e[e.StringMaxLength=51]="StringMaxLength",e[e.StringMinLength=52]="StringMinLength",e[e.StringPattern=53]="StringPattern",e[e.String=54]="String",e[e.Symbol=55]="Symbol",e[e.TupleLength=56]="TupleLength",e[e.Tuple=57]="Tuple",e[e.Uint8ArrayMaxByteLength=58]="Uint8ArrayMaxByteLength",e[e.Uint8ArrayMinByteLength=59]="Uint8ArrayMinByteLength",e[e.Uint8Array=60]="Uint8Array",e[e.Undefined=61]="Undefined",e[e.Union=62]="Union",e[e.Void=63]="Void"})(E2||(E2={}));class NZ extends Kn{constructor(t){super("Unknown type"),this.schema=t}}function RZ(e){return e[z]==="Any"||e[z]==="Unknown"}function fe(e){return e!==void 0}function kZ(e,t,n){return!0}function CZ(e,t,n){if(!mu(n)||fe(e.minItems)&&!(n.length>=e.minItems)||fe(e.maxItems)&&!(n.length<=e.maxItems)||!n.every(i=>jt(e.items,t,i))||e.uniqueItems===!0&&!function(){const i=new Set;for(const u of n){const o=fI(u);if(i.has(o))return!1;i.add(o)}return!0}())return!1;if(!(fe(e.contains)||Mu(e.minContains)||Mu(e.maxContains)))return!0;const r=fe(e.contains)?e.contains:kn(),s=n.reduce((i,u)=>jt(r,t,u)?i+1:i,0);return!(s===0||Mu(e.minContains)&&s<e.minContains||Mu(e.maxContains)&&s>e.maxContains)}function DZ(e,t,n){return sZ(n)}function MZ(e,t,n){return!(!cv(n)||fe(e.exclusiveMaximum)&&!(n<e.exclusiveMaximum)||fe(e.exclusiveMinimum)&&!(n>e.exclusiveMinimum)||fe(e.maximum)&&!(n<=e.maximum)||fe(e.minimum)&&!(n>=e.minimum)||fe(e.multipleOf)&&n%e.multipleOf!==BigInt(0))}function PZ(e,t,n){return av(n)}function jZ(e,t,n){return jt(e.returns,t,n.prototype)}function LZ(e,t,n){return!(!z0(n)||fe(e.exclusiveMaximumTimestamp)&&!(n.getTime()<e.exclusiveMaximumTimestamp)||fe(e.exclusiveMinimumTimestamp)&&!(n.getTime()>e.exclusiveMinimumTimestamp)||fe(e.maximumTimestamp)&&!(n.getTime()<=e.maximumTimestamp)||fe(e.minimumTimestamp)&&!(n.getTime()>=e.minimumTimestamp)||fe(e.multipleOfTimestamp)&&n.getTime()%e.multipleOfTimestamp!==0)}function FZ(e,t,n){return aZ(n)}function BZ(e,t,n){return!(!oZ(n)||fe(e.exclusiveMaximum)&&!(n<e.exclusiveMaximum)||fe(e.exclusiveMinimum)&&!(n>e.exclusiveMinimum)||fe(e.maximum)&&!(n<=e.maximum)||fe(e.minimum)&&!(n>=e.minimum)||fe(e.multipleOf)&&n%e.multipleOf!==0)}function $Z(e,t,n){const r=e.allOf.every(s=>jt(s,t,n));if(e.unevaluatedProperties===!1){const s=new RegExp(VS(e)),i=Object.getOwnPropertyNames(n).every(u=>s.test(u));return r&&i}else if(Ft(e.unevaluatedProperties)){const s=new RegExp(VS(e)),i=Object.getOwnPropertyNames(n).every(u=>s.test(u)||jt(e.unevaluatedProperties,t,n[u]));return r&&i}else return r}function UZ(e,t,n){return iZ(n)}function qZ(e,t,n){return n===e.const}function VZ(e,t,n){return!1}function zZ(e,t,n){return!jt(e.not,t,n)}function HZ(e,t,n){return ov(n)}function GZ(e,t,n){return!(!fo.IsNumberLike(n)||fe(e.exclusiveMaximum)&&!(n<e.exclusiveMaximum)||fe(e.exclusiveMinimum)&&!(n>e.exclusiveMinimum)||fe(e.minimum)&&!(n>=e.minimum)||fe(e.maximum)&&!(n<=e.maximum)||fe(e.multipleOf)&&n%e.multipleOf!==0)}function JZ(e,t,n){if(!fo.IsObjectLike(n)||fe(e.minProperties)&&!(Object.getOwnPropertyNames(n).length>=e.minProperties)||fe(e.maxProperties)&&!(Object.getOwnPropertyNames(n).length<=e.maxProperties))return!1;const r=Object.getOwnPropertyNames(e.properties);for(const s of r){const i=e.properties[s];if(e.required&&e.required.includes(s)){if(!jt(i,t,n[s])||(a0(i)||RZ(i))&&!(s in n))return!1}else if(fo.IsExactOptionalProperty(n,s)&&!jt(i,t,n[s]))return!1}if(e.additionalProperties===!1){const s=Object.getOwnPropertyNames(n);return e.required&&e.required.length===r.length&&s.length===r.length?!0:s.every(i=>r.includes(i))}else return typeof e.additionalProperties=="object"?Object.getOwnPropertyNames(n).every(i=>r.includes(i)||jt(e.additionalProperties,t,n[i])):!0}function WZ(e,t,n){return uZ(n)}function QZ(e,t,n){if(!fo.IsRecordLike(n)||fe(e.minProperties)&&!(Object.getOwnPropertyNames(n).length>=e.minProperties)||fe(e.maxProperties)&&!(Object.getOwnPropertyNames(n).length<=e.maxProperties))return!1;const[r,s]=Object.entries(e.patternProperties)[0],i=new RegExp(r),u=Object.entries(n).every(([c,l])=>i.test(c)?jt(s,t,l):!0),o=typeof e.additionalProperties=="object"?Object.entries(n).every(([c,l])=>i.test(c)?!0:jt(e.additionalProperties,t,l)):!0,a=e.additionalProperties===!1?Object.getOwnPropertyNames(n).every(c=>i.test(c)):!0;return u&&o&&a}function XZ(e,t,n){return jt(lv(e,t),t,n)}function KZ(e,t,n){const r=new RegExp(e.source,e.flags);return fe(e.minLength)&&!(n.length>=e.minLength)||fe(e.maxLength)&&!(n.length<=e.maxLength)?!1:r.test(n)}function YZ(e,t,n){return!J0(n)||fe(e.minLength)&&!(n.length>=e.minLength)||fe(e.maxLength)&&!(n.length<=e.maxLength)||fe(e.pattern)&&!new RegExp(e.pattern).test(n)?!1:fe(e.format)?zE(e.format)?K$(e.format)(n):!1:!0}function ZZ(e,t,n){return Pu(n)}function eee(e,t,n){return J0(n)&&new RegExp(e.pattern).test(n)}function tee(e,t,n){return jt(lv(e,t),t,n)}function nee(e,t,n){if(!mu(n)||e.items===void 0&&n.length!==0||n.length!==e.maxItems)return!1;if(!e.items)return!0;for(let r=0;r<e.items.length;r++)if(!jt(e.items[r],t,n[r]))return!1;return!0}function ree(e,t,n){return Xs(n)}function see(e,t,n){return e.anyOf.some(r=>jt(r,t,n))}function iee(e,t,n){return!(!uI(n)||fe(e.maxByteLength)&&!(n.length<=e.maxByteLength)||fe(e.minByteLength)&&!(n.length>=e.minByteLength))}function uee(e,t,n){return!0}function oee(e,t,n){return fo.IsVoidLike(n)}function aee(e,t,n){return Mw(e[z])?Z$(e[z])(e,n):!1}function jt(e,t,n){const r=fe(e.$id)?[...t,e]:t,s=e;switch(s[z]){case"Any":return kZ();case"Array":return CZ(s,r,n);case"AsyncIterator":return DZ(s,r,n);case"BigInt":return MZ(s,r,n);case"Boolean":return PZ(s,r,n);case"Constructor":return jZ(s,r,n);case"Date":return LZ(s,r,n);case"Function":return FZ(s,r,n);case"Integer":return BZ(s,r,n);case"Intersect":return $Z(s,r,n);case"Iterator":return UZ(s,r,n);case"Literal":return qZ(s,r,n);case"Never":return VZ();case"Not":return zZ(s,r,n);case"Null":return HZ(s,r,n);case"Number":return GZ(s,r,n);case"Object":return JZ(s,r,n);case"Promise":return WZ(s,r,n);case"Record":return QZ(s,r,n);case"Ref":return XZ(s,r,n);case"RegExp":return KZ(s,r,n);case"String":return YZ(s,r,n);case"Symbol":return ZZ(s,r,n);case"TemplateLiteral":return eee(s,r,n);case"This":return tee(s,r,n);case"Tuple":return nee(s,r,n);case"Undefined":return ree(s,r,n);case"Union":return see(s,r,n);case"Uint8Array":return iee(s,r,n);case"Unknown":return uee();case"Void":return oee(s,r,n);default:if(!Mw(s[z]))throw new NZ(s);return aee(s,r,n)}}function O2(...e){return e.length===3?jt(e[0],e[1],e[2]):jt(e[0],[],e[1])}class cee extends Kn{constructor(t,n,r){super("Cannot set root value"),this.value=t,this.path=n,this.update=r}}class lee extends Kn{constructor(t,n){super("Cannot delete root value"),this.value=t,this.path=n}}function I2(e){return e.indexOf("~")===-1?e:e.replace(/~1/g,"/").replace(/~0/g,"~")}function*W0(e){if(e==="")return;let[t,n]=[0,0];for(let r=0;r<e.length;r++)e.charAt(r)==="/"?(r===0||(n=r,yield I2(e.slice(t,n))),t=r+1):n=r;yield I2(e.slice(t))}function fee(e,t,n){if(t==="")throw new cee(e,t,n);let[r,s,i]=[null,e,""];for(const u of W0(t))s[u]===void 0&&(s[u]={}),r=s,s=s[u],i=u;r[i]=n}function dI(e,t){if(t==="")throw new lee(e,t);let[n,r,s]=[null,e,""];for(const i of W0(t)){if(r[i]===void 0||r[i]===null)return;n=r,r=r[i],s=i}if(Array.isArray(n)){const i=parseInt(s);n.splice(i,1)}else delete n[s]}function dee(e,t){if(t==="")return!0;let[n,r,s]=[null,e,""];for(const i of W0(t)){if(r[i]===void 0)return!1;n=r,r=r[i],s=i}return Object.getOwnPropertyNames(n).includes(s)}function fv(e,t){if(t==="")return e;let n=e;for(const r of W0(t)){if(n[r]===void 0)return;n=n[r]}return n}const hee=Rt({type:Ke("insert"),path:eu(),value:Bf()}),pee=Rt({type:Ke("update"),path:eu(),value:Bf()}),gee=Rt({type:Ke("delete"),path:eu()});wn([hee,pee,gee]);class hI extends Kn{constructor(t,n){super(n),this.value=t}}class Sd extends hI{constructor(t){super(t,"Cannot diff objects with symbol keys"),this.value=t}}function ef(e,t){return{type:"update",path:e,value:t}}function pI(e,t){return{type:"insert",path:e,value:t}}function gI(e){return{type:"delete",path:e}}function*mee(e,t,n){if(!Kf(n))return yield ef(e,n);const r=[...globalThis.Object.keys(t),...globalThis.Object.getOwnPropertySymbols(t)],s=[...globalThis.Object.keys(n),...globalThis.Object.getOwnPropertySymbols(n)];for(const i of r){if(Pu(i))throw new Sd(i);Xs(n[i])&&s.includes(i)&&(yield ef(`${e}/${globalThis.String(i)}`,void 0))}for(const i of s)if(!(Xs(t[i])||Xs(n[i]))){if(Pu(i))throw new Sd(i);yield*Q0(`${e}/${globalThis.String(i)}`,t[i],n[i])}for(const i of s){if(Pu(i))throw new Sd(i);Xs(t[i])&&(yield pI(`${e}/${globalThis.String(i)}`,n[i]))}for(const i of r.reverse()){if(Pu(i))throw new Sd(i);Xs(n[i])&&!s.includes(i)&&(yield gI(`${e}/${globalThis.String(i)}`))}}function*yee(e,t,n){if(!mu(n))return yield ef(e,n);for(let r=0;r<Math.min(t.length,n.length);r++)yield*Q0(`${e}/${r}`,t[r],n[r]);for(let r=0;r<n.length;r++)r<t.length||(yield pI(`${e}/${r}`,n[r]));for(let r=t.length-1;r>=0;r--)r<n.length||(yield gI(`${e}/${r}`))}function*bee(e,t,n){if(!H0(n)||t.length!==n.length||globalThis.Object.getPrototypeOf(t).constructor.name!==globalThis.Object.getPrototypeOf(n).constructor.name)return yield ef(e,n);for(let r=0;r<Math.min(t.length,n.length);r++)yield*Q0(`${e}/${r}`,t[r],n[r])}function*wee(e,t,n){t!==n&&(yield ef(e,n))}function*Q0(e,t,n){if(Kf(t))return yield*mee(e,t,n);if(mu(t))return yield*yee(e,t,n);if(H0(t))return yield*bee(e,t,n);if(oI(t))return yield*wee(e,t,n);throw new hI(t,"Unable to create diff edits for unknown value")}function mm(e,t){return[...Q0("",e,t)]}function vee(e,t){if(!Kf(t))return!1;const n=[...Object.keys(e),...Object.getOwnPropertySymbols(e)],r=[...Object.keys(t),...Object.getOwnPropertySymbols(t)];return n.length!==r.length?!1:n.every(s=>Yf(e[s],t[s]))}function xee(e,t){return z0(t)&&e.getTime()===t.getTime()}function See(e,t){return!mu(t)||e.length!==t.length?!1:e.every((n,r)=>Yf(n,t[r]))}function _ee(e,t){return!H0(t)||e.length!==t.length||Object.getPrototypeOf(e).constructor.name!==Object.getPrototypeOf(t).constructor.name?!1:e.every((n,r)=>Yf(n,t[r]))}function Aee(e,t){return e===t}function Yf(e,t){if(Kf(e))return vee(e,t);if(z0(e))return xee(e,t);if(H0(e))return _ee(e,t);if(mu(e))return See(e,t);if(oI(e))return Aee(e,t);throw new Error("ValueEquals: Unable to compare value")}function Tee(...e){return O2.apply(O2,e)}function Eee(e,t){return Yf(e,t)}function mI(e){return fI(e)}function Oee(e){return e._diff==="collectionAttribute"}function yI(e,t,n=[]){var o,a,c,l,d,h;if(e===void 0&&t===void 0)return[];const r=(e==null?void 0:e.properties)??{},s=(t==null?void 0:t.properties)??{},i=new Set([...Object.keys(r),...Object.keys(s)]),u=[];for(const f of i){if(!(f in r)){const p=[...n,f];u.push({type:"insert",attribute:p,metadata:{type:s[f].type,options:s[f].options,optional:((o=t==null?void 0:t.optional)==null?void 0:o.includes(f))??!1},isNewCollection:e===void 0});continue}if(!(f in s)){const p=[...n,f];u.push({type:"delete",attribute:p,metadata:{type:r[f].type,options:r[f].options,optional:((a=e==null?void 0:e.optional)==null?void 0:a.includes(f))??!1}});continue}if(f in r&&f in s){if(Eee(r[f].toJSON(),s[f].toJSON())&&(((c=e==null?void 0:e.optional)==null?void 0:c.includes(f))??!1)===(((l=t==null?void 0:t.optional)==null?void 0:l.includes(f))??!1))continue;const p=[...n,f];if(r[f].type==="record"&&s[f].type==="record"){u.push(...yI(r[f],s[f],p));continue}const m={type:"update",attribute:p,changes:{options:{}}};r[f].type!==s[f].type&&(m.changes.type=s[f].type),r[f].type==="set"&&r[f].items.type!==s[f].items.type&&(m.changes.items={type:s[f].items.type});const y=((d=e==null?void 0:e.optional)==null?void 0:d.includes(f))??!1,b=((h=t==null?void 0:t.optional)==null?void 0:h.includes(f))??!1;y!==b&&(m.changes.optional=b),m.changes.options=Iee(r[f].options??{},s[f].options??{}),u.push(m);continue}}return u}function Iee(e,t){var i;const n={};e.nullable!==t.nullable&&(n.nullable=!!t.nullable),e.default!==t.default&&(n.default=t.default);const r=t.enum&&!e.enum,s=e.enum&&t.enum&&!((i=e.enum)!=null&&i.every(u=>{var o;return(o=t.enum)==null?void 0:o.includes(u)}));return(r||s)&&(n.enum=t.enum),n}function Nee(e,t){const n=new Set([...Object.keys(e.collections),...Object.keys(t.collections)]),r=[];for(const i of n){const u=e.collections[i],o=t.collections[i];r.push(...yI(u==null?void 0:u.schema,o==null?void 0:o.schema).map(l=>({_diff:"collectionAttribute",collection:i,...l}))),mm(u==null?void 0:u.rules,o==null?void 0:o.rules).length>0&&r.push({_diff:"collectionRules",collection:i}),mm(u==null?void 0:u.permissions,o==null?void 0:o.permissions).length>0&&r.push({_diff:"collectionPermissions",collection:i})}return mm(e.roles,t.roles).length>0&&r.push({_diff:"roles"}),r}function Ree(e){return e.reduce((t,n)=>{if(!Oee(n))return t;const r=kee.find(s=>s.matchesDiff(n));return r&&t.push({issue:r.description,allowedIf:r.allowedIf,context:n,attributeCure:r.attributeCure}),t},[])}const kee=[{description:"removed an optional attribute",matchesDiff:e=>e.type==="delete"&&e.metadata.optional===!0,allowedIf:"attribute_is_empty",attributeCure:()=>null},{description:"removed a non-optional attribute",matchesDiff:e=>e.type==="delete",allowedIf:"collection_is_empty",attributeCure:(e,t)=>`make '${t.join(".")}' optional`},{description:"changed a attribute from optional to required",matchesDiff:e=>e.type==="update"?e.changes.optional===!1:!1,allowedIf:"attribute_has_no_undefined",attributeCure:()=>null},{description:"changed the type of an attribute",matchesDiff:e=>e.type==="update"?e.changes.type!==void 0:!1,allowedIf:"attribute_is_empty",attributeCure:(e,t)=>`revert the change to '${t.join(".")}' and create a different, optional, attribute with the new type`},{description:"changed the type of a set's items",matchesDiff:e=>e.type==="update"?e.changes.items!==void 0:!1,allowedIf:"attribute_is_empty",attributeCure:(e,t)=>`revert the change to '${t.join(".")}' and create a different, optional, attribute with the new type`},{description:"added an attribute where optional is not set",matchesDiff:e=>e.type==="insert"&&!e.isNewCollection&&e.metadata.optional===!1&&e.metadata.type!=="query",allowedIf:"collection_is_empty",attributeCure:(e,t)=>`make '${t.join(".")}' optional`},{description:"changed an attribute from nullable to non-nullable",matchesDiff:e=>{var t;return e.type==="update"?((t=e.changes.options)==null?void 0:t.nullable)===!1:!1},allowedIf:"attribute_has_no_null",attributeCure:()=>null},{description:"added an enum to an attribute or removed an option from an existing enum",matchesDiff:e=>e.type==="update"?e.changes.options.enum!==void 0:!1,allowedIf:"attribute_satisfies_enum",attributeCure:(e,t,n)=>`revert the change to '${t.join(".")}' and create a different, optional, attribute with the new enum OR ensure all values of '${t.join(".")} are in the new enum: ${n}`}];async function Cee(e,t,n){return await Mee[n](e,t.collection,t.attribute,(t==null?void 0:t.type)==="update"?t.changes.options.enum:void 0)}async function Dee(e,t){const n=Ree(t);return await Promise.all(n.map(async s=>{const i=!await Cee(e,s.context,s.allowedIf),u=Pee[s.allowedIf](s.context.collection,s.context.attribute),o=s.attributeCure(s.context.collection,s.context.attribute);return{...s,violatesExistingData:i,cure:o?o+" or "+u:u}}))}const Mee={never:async()=>!1,collection_is_empty:$ee,attribute_is_empty:Fee,attribute_has_no_undefined:Lee,attribute_has_no_null:Bee,attribute_satisfies_enum:jee},Pee={never:()=>"This edit is never allowed",collection_is_empty:e=>`delete all entities in '${e}' to allow this edit`,attribute_is_empty:(e,t)=>`set all values of '${t.join(".")}' to undefined to allow this edit`,attribute_has_no_undefined:(e,t)=>`ensure all values of '${t.join(".")}' are not undefined to allow this edit`,attribute_has_no_null:(e,t)=>`ensure all values of '${t.join(".")}' are not null to allow this edit`,attribute_satisfies_enum:(e,t)=>`ensure all values of '${t.join(".")}' are in the enum to allow this edit`};async function jee(e,t,n,r){return(await e.fetch(e.db.query(t).select([n.join(".")]).where(n.join("."),"nin",r).build(),{skipRules:!0})).size===0}async function Lee(e,t,n){const r=await e.fetch(e.db.query(t).select([n.join(".")]).build(),{skipRules:!0});return!Array.from(r.values()).some(s=>fv(s,"/"+n.join("/"))===void 0)}async function Fee(e,t,n){const r=await e.fetch(e.db.query(t).select([n.join(".")]).build(),{skipRules:!0});return Array.from(r.values()).every(s=>fv(s,"/"+n.join("/"))===void 0)}async function Bee(e,t,n){return(await e.fetch(e.db.query(t).select([n.join(".")]).where(n.join("."),"=",null).limit(1).build(),{skipRules:!0})).size===0}async function $ee(e,t){return(await e.fetch(e.db.query(t).select([]).limit(1).build(),{skipRules:!0})).size===0}class Oi{constructor({stages:t,limit:n,takeWhile:r}={}){R(this,"limit",1/0);R(this,"stages");R(this,"takeWhileFilter");this.stages=t??[],this.limit=n??1/0,this.takeWhileFilter=r}map(t){return new Oi({stages:this.stages.concat([["map",t]]),limit:this.limit})}tap(t){return new Oi({stages:this.stages.concat([["map",async(n,r)=>(await t(n,r),n)]]),limit:this.limit})}takeWhile(t){return new Oi({takeWhile:t,stages:this.stages,limit:this.limit})}filter(t){return new Oi({stages:this.stages.concat([["filter",t]]),limit:this.limit})}take(t){return new Oi({stages:this.stages,limit:t})}sort(t){return new Oi({stages:this.stages.concat([["aggregate",async n=>n.slice().sort(t),{limit:this.limit,takeWhile:this.takeWhileFilter}]])})}async run(t){this.stages.push(["aggregate",async i=>i,{limit:this.limit,takeWhile:this.takeWhileFilter}]);const n=this.stages.reduce((i,u,o,a)=>{const c=a[o-1];return c&&c[0]==="aggregate"?i.push([u]):i.length===0?i.push([u]):i[i.length-1].push(u),i},[]);async function r(i,u,o){let a=[];const c=Math.min(i.length??1/0,o.limit);e:for(let l=0;l<i.length;l++){let d=i[l];t:for(const h of u){const[f,p]=h;if(f==="map"){d=await p(d,l);continue}if(f==="filter"){if(await p(d,l))continue t;continue e}}if(o.takeWhile&&!o.takeWhile(d,l)||(a.push(d),a.length>=c))break e}return a}let s=t;for(const i of n){const[u,o,a]=i.at(-1),c=i.slice(0,-1);s=await o(await r(s,c,a))}return s}}class bI{constructor(t){R(this,"db");R(this,"cache");this.db=t,this.cache=new Map}static canCacheQuery(t,n){if(t.limit!==void 0||t.where&&t.where.some(i=>!ru(i))||t.include&&Object.keys(t.include).length>0||t.select&&t.select.some(i=>typeof i=="object"))return!1;const s=(t.where??[]).filter(ru).filter(([,,i])=>typeof i=="string"&&i.startsWith("$"));return!(s.length!==1||!["=","<","<=",">",">=","!="].includes(s[0][1])||n&&ua(n,s[0][0].split(".")).type==="set")}async createView(t,n){return new Promise(r=>{const s=this.viewQueryToId(t);kI(this.db,this.db.tripleStore,t,([i,u])=>{this.cache.set(s,{results:i,triples:u}),r()},i=>{console.error("error in view",i),this.cache.delete(s)},{schema:n,skipRules:!0})})}viewQueryToId(t){return mI(t)}async resolveFromCache(t,n,r,s){const{views:i,variableFilters:u}=this.queryToViews(t),o=this.viewQueryToId(i[0]);this.cache.has(o)||await this.createView(i[0],s.schema);const[a,c,l]=u[0],d=l.slice(1),f=CI(t,{systemVars:this.db.systemVars,roles:this.db.sessionRoles},r)[d],p=this.cache.get(o),m=[...p.results.entries()];let y,b;if(["=","<","<=",">",">="].includes(c)&&(y=_d(m,f,([,x])=>x[a],"start",(x,v)=>c==="<"?x<v?0:1:c==="<="?x<=v?0:1:c===">"?x>v?0:-1:c===">="?x>=v?0:-1:x===v?0:x<v?-1:1),b=_d(m,f,([,x])=>x[a],"end",(x,v)=>c==="<"?x<v?0:1:c==="<="?x<=v?0:1:c===">"?x>v?0:-1:c===">="?x>=v?0:-1:x===v?0:x<v?-1:1)),c==="!="){y=_d(m,f,([,v])=>v[a],"start",(v,A)=>v===A?0:v<A?-1:1),b=_d(m,f,([,v])=>v[a],"end",(v,A)=>v===A?0:v<A?-1:1);const x=[...m.slice(0,y+1),...m.slice(b)];return{results:new Map(x),triples:new Map(x.map(([v,A])=>[v,p.triples.get(v)]))}}if(y==null||b==null)throw new BH(`Queries with the operator ${c} in a where clause can't be stored in the query cache. Currently, supported operators are: ${["=","!=","<","<=",">",">="]}`);const w=m.slice(y,b+1);return{results:new Map(w),triples:new Map(w.map(([x,v])=>[x,p.triples.get(x)]))}}queryToViews(t){const n=[],r=t.where?t.where.filter(s=>{if(!(s instanceof Array))return!0;const[i,u,o]=s;return Tc(o)?(n.push([i,u,o]),!1):!0}):void 0;return{views:[{collectionName:t.collectionName,where:r,select:t.select,order:[...n.map(s=>[s[0],"ASC"]),...t.order??[]]}],variableFilters:n}}}function _d(e,t,n,r="start",s=(i,u)=>i<u?-1:i>u?1:0){let i=0,u=e.length-1,o=-1;for(;i<=u;){const a=Math.floor((i+u)/2),c=n(e[a]);s(c,t)===0?(o=a,r==="start"?u=a-1:i=a+1):s(c,t)<0?i=a+1:u=a-1}return o}function Uee(e){return e&&"_collection"in e&&e._collection[0]==null}class kr{constructor(t){R(this,"query");this.query=t}build(){return this.query}select(t){return new kr({...this.query,select:t})}where(...t){return new kr({...this.query,where:$i().where(this.query,...t)})}id(t){const n=[["id","=",t],...(this.query.where??[]).filter(r=>!Array.isArray(r)||r[0]!=="id")];return new kr({...this.query,where:n})}order(...t){return new kr({...this.query,order:$i().order(this.query,...t)})}after(t,n){return new kr({...this.query,after:$i().after(this.query,t,n)})}include(t,n){return new kr({...this.query,include:$i().include(this.query,t,n)})}limit(t){return new kr({...this.query,limit:t})}vars(t){return new kr({...this.query,vars:t})}entityId(t){return this.id(t)}}const $i=()=>({where:(e,...t)=>{let n=[];if(t[0]==null)return e.where??[];if(typeof t[0]=="boolean")n=[t[0]];else if(typeof t[0]=="string")n=[t];else if(t.length===1&&t[0]instanceof Array&&t[0].every(r=>typeof r=="object"))n=t[0];else if(t.every(r=>typeof r=="object"))n=t;else throw new im("where",t);return[...e.where??[],...n]},order:(e,...t)=>{if(!t[0])return;let n=[];if(t.length===2&&t.every(r=>typeof r=="string"))n=[[...t]];else if(t.length===1&&t[0]instanceof Array&&t[0].every(r=>r instanceof Array))n=t[0];else if(t.every(r=>r instanceof Array))n=t;else throw new im("order",t);return[...e.order??[],...n]},include(e,t,n){return{...e.include,[t]:n??null}},after(e,t,n){if(!t)return;if(!e.order)throw new UH(t);const r=e.order[0][0];if(t instanceof Array&&t.length===2)return[t,n??!1];if(typeof t=="object"&&!(t instanceof Array)&&Object.hasOwn(t,"id")&&Object.hasOwn(t,r))return[[t[r],t.id],n??!1];throw new im("after",t)}});function qee(e,t){return e.reduce(async(n,r,s,i)=>await n||await t(r,s,i),Promise.resolve(!1))}function Vee(e,t){return e.reduce(async(n,r,s,i)=>await n&&await t(r,s,i),Promise.resolve(!0))}async function iy(e,t,n,r,s,i,u){if(q0(u))return u;if(Ns(u)){const{mod:o,filters:a}=u;return o==="and"?await Vee(a,c=>iy(e,t,n,r,s,i,c)):o==="or"?await qee(a,c=>iy(e,t,n,r,s,i,c)):!1}if(gi(u))return await zee(e,t,n,r,s,i,u);if(Xf(u))throw new JH("Untranslated exists filter");return Hee(n,s,i,u)}async function zee(e,t,n,r,s,i,u){const{exists:o}=u,a={...o,limit:1},{results:c,triples:l}=await Ua(e,t,n,a,"one",r,s,i.entity);if(!!!c)return!1;for(const h of l.values())for(const f of h)i.existsFilterTriples.push(f);return!0}function Hee(e,t,n,r){const{collectionName:s}=e,{schema:i}=t,{entity:u}=n,[o,a,c]=r,l=i?qa(o.split("."),i,s):void 0;return l&&l.type==="set"?wI(u,o,a,c):vI(u,o,a,c)}function wI(e,t,n,r){const s="/"+t.replaceAll(".","/"),i=cs.Get(e,s);if(Array.isArray(i)&&i[0]===void 0)return!1;const u=dn(i);if(!u)return!1;const o=Object.entries(u).filter(([a,c])=>c);return n==="has"?o.some(([a])=>a===r):n==="!has"?o.every(([a])=>a!==r):o.some(([a])=>xI(n,a,r))}function vI(e,t,n,r){const s=cs.Get(e,"/"+t.replaceAll(".","/")),i=!!s&&s instanceof Array&&s.length===2,u=!!s&&i&&(typeof s[0]!="object"||s[0]===null);if(s&&(!i||!u))return console.warn(`Received an unexpected value at path '${t}' in entity ${JSON.stringify(e)} which could not be interpreted as a register when reading filter ${JSON.stringify([t,n,r])}. This is likely caused by (1) the database not properly loading its schema and attempting to interpret a value that is not a regsiter as a register, (2) a schemaless database attempting to interpret a value that is not properly formatted as a register, or (3) a query with a path that does not lead to a leaf attribute in the entity.`),!1;const[o,a]=s??[void 0,void 0];return xI(n,o,r)}function xI(e,t,n){switch(e){case"=":return t==n;case"!=":return t!==n;case">":return t>n;case">=":return t>=n;case"<":return t<n;case"<=":return t<=n;case"like":return N2(t,n);case"nlike":return!N2(t,n);case"in":return new Set(n).has(t);case"nin":return!new Set(n).has(t);default:throw new Jd(`The operator ${e} is not recognized.`)}}function N2(e,t){return t=t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),t=t.replace(/%/g,".*"),t=t.replace(/_/g,"."),new RegExp(`^${t}$`,"i").test(e)}function SI(e){if(gi(e))return"relational";if(Ns(e)){const{filters:t}=e;if(t.map(r=>SI(r)).includes("relational"))return"relational"}return"basic"}function Gee(e){const{where:t=[]}=e,n=[],r=[];for(let s=0;s<t.length;s++){const i=t[s];SI(i)==="relational"?r.push(s):n.push(s)}return[...n,...r]}function Jee(e){return typeof e=="string"&&e.startsWith("$")}function _I(e,t){const n={};for(const r in e){const s=e[r],i=t[r];if(i===void 0)return;if(typeof s=="object"){const u=_I(s,i);if(u===void 0)return;Object.assign(n,u);continue}if(Jee(s)){const u=s.slice(1);n[u]=i;continue}if(s!==i)return}return n}function Wee(e,t){if(!e)return;const n=e.roles;if(!n)return[];const r=[];for(const[s,i]of Object.entries(n)){const u=_I(i.match,t);u!==void 0&&r.push({key:s,roleVars:u})}return r}function AI(e,t){if(!e)return;const n=e[t];if(n)return n.permissions}function Ur(e,t,n,r={}){let s={...e};Xee(s,t);const i=Qee(s,t),u=Kee(s,t,n,r),o=Yee(s,t,n,r),a=ete(s,t),c=tte(s);return{...s,select:i,include:u,where:o,order:a,after:c,vars:{...s.vars??{}}}}function Qee(e,t,n){if(!e.select)return e.select;if(!t)return[...e.select];for(const r of e.select){const{valid:s,path:i,reason:u}=dv(r,t,e.collectionName,(o,a,c)=>o?o.type==="query"?{valid:!1,reason:"Cannot select into relationships, please use 'include' instead"}:{valid:!0}:{valid:!1,reason:"Path not found"});if(!s)throw new GH(`Select field ${r} is not valid: ${u} at path ${i}`)}return[...e.select]}function uy(e){return e==="_metadata"}function Xee(e,t){const n=e.collectionName;if(!(typeof n=="string"))throw new kh(n,"Collection name must be a string");if(t&&!t[n]&&!uy(n))throw new kh(n,`Collection '${n}' does not exist in the schema`)}function Kee(e,t,n,r){if(!t||!e.include)return e.include;const s={};for(const[i,u]of Object.entries(e.include)){const o=qa(i.split("."),t,e.collectionName);if(o&&o.type==="query"){let a=u;const c=rte({...o.query},a),l={subquery:Ur(c,t,n,r),cardinality:o.cardinality};s[i]=l}else if(u!=null&&u.subquery)s[i]=u;else throw o?new DH(i,e.collectionName):new CH(i,e.collectionName)}return s}function Yee(e,t,n,r){var u;const s=e.where?[...e.where]:[];if(e.entityId&&s.push(["id","=",e.entityId]),t&&!uy(e.collectionName)&&!r.skipRules){const o=Zee(t,e.collectionName);(o==null?void 0:o.length)>0&&s.push(...o);const a=AI(t,e.collectionName);if(a){let c=[],l=!1;if(n.roles)for(const d of n.roles){const h=(u=a[d.key])==null?void 0:u.read;h!=null&&h.filter&&(l=!0,Array.isArray(h.filter)&&c.push(...h.filter))}l||(c=[!1]),s.push(...c)}}const i=nte(t,e.collectionName);return TI(s,o=>{if(i(o),Xf(o)){const{relationship:d,query:h}=o;if(!t)throw new Jd("A schema is required to execute an exists filter");const f=d.split("."),[p,...m]=f,y=m.length>0,b=qa([p],t,e.collectionName);if(!b)throw new Jd(`Could not find property '${d}' in the schema`);if(b.type!=="query")throw new Jd("Cannot execute an exists filter on a non-relation property");const w={...b.query},x=y?[nZ(m.join("."),h)]:h==null?void 0:h.where;return w.where=[...b.query.where??[],...x??[]],{exists:Ur(w,t,n,r)}}if(!Array.isArray(o))return o;let[a,c,l]=o;if(t&&!uy(e.collectionName)){const d=qa([a.split(".")[0]],t,e.collectionName);if(d.type==="query"){const[h,...f]=a.split("."),p={...d.query};return Tc(l)&&(l="$"+Ite(l.slice(1))),p.where=[...p.where,[f.join("."),c,l]],{exists:Ur(p,t,n,r)}}}return[a,c,l instanceof Date?l.toISOString():l]})}function Zee(e,t){var n,r,s;return(r=(n=e==null?void 0:e[t])==null?void 0:n.rules)!=null&&r.read?Object.values(((s=e[t].rules)==null?void 0:s.read)??{}).flatMap(i=>i.filter):[]}function ete(e,t,n){if(!e.order)return e.order;if(!t)return[...e.order];for(const[r,s]of e.order){const{valid:i,path:u,reason:o}=dv(r,t,e.collectionName,(a,c,l)=>a?c===l.length-1&&(a.type==="query"||a.type==="set"||a.type==="record")?{valid:!1,reason:"Order by field is not sortable"}:a.type==="query"&&a.cardinality!=="one"?{valid:!1,reason:"Order by field is a query with cardinality not equal to one"}:{valid:!0}:{valid:!1,reason:"Path not found"});if(!i)throw new zH(`Order by field ${r} is not valid: ${o} at path ${u}`)}return[...e.order]}function tte(e,t,n){if(!e.after)return e.after;if(!e.order||e.order.length===0)throw new F("Cannot use after without an order clause");const[r,s]=e.after;return[[r[0]instanceof Date?r[0].toISOString():r[0],rn(e.collectionName,r[1])],s]}function nte(e,t){return n=>{if(!e||t==="_metadata"||gi(n)||Xf(n)||Ns(n)||q0(n))return!0;const[r,s,i]=n,{valid:u,path:o,reason:a}=dv(r,e,t,(c,l,d)=>c?l===d.length-1&&(c.type==="query"||c.type==="record")?{valid:!1,reason:"Where filter is not operable"}:{valid:!0}:{valid:!1,reason:"Path not found"});if(!u)throw new HH(`Where filter ${JSON.stringify([r,s,i])} is not valid: ${a} at path ${o}`);return!0}}function rte(e,t){if(!t)return e;const n=[...e.where??[],...t.where??[]],r=[...e.select??[],...t.select??[]];return{...e,...t,where:n,select:r}}function TI(e,t){return e.map(n=>Ns(n)?(n.filters=TI(n.filters,t),n):t(n))}function dv(e,t,n,r){let s=eg(t,n);const i=e.split(".");let u=[];for(let o=0;o<i.length;o++){const a=i[o];s=s.get(a),u.push(a);const{valid:c,reason:l}=r(s.current,o,i);if(!c)return{valid:c,path:u.join("."),reason:l}}return{valid:!0}}function EI(e,t){const n={collectionName:e,...t};return new kr(n)}function ste(e){const{where:t,collectionName:n}=e,r=(t??[]).filter(ru).filter(s=>s[0]==="id"&&s[1]==="=");return r.length>0?rn(n,r[0][2]):null}async function ite(e,t,n,r){const{order:s,after:i}=t;if(!(s!=null&&s.length))return;const u=s.length===1,[o,a]=s[0],c=o.split(".");let l=!1,d=!1;if(n){const h=qI(c,n,t.collectionName);for(const f of h){if(!f){d=!0;break}if(f.type==="query"){l=!0;break}}}if(!l&&!d){const[h,f]=i??[void 0,!1],p=u&&a==="ASC"?h:void 0,m=u&&a==="DESC"?h:void 0;r.after=i?!!p||!!m:!0,r.order[0]=!0;const y={direction:a,greaterThanCursor:f?void 0:p,greaterThanOrEqualCursor:f?p:void 0,lessThanCursor:f?void 0:m,lessThanOrEqualCursor:f?m:void 0},b=await e.findValuesInRange([t.collectionName,...c],y),w=new Map,x=new Set;for(let v of b){const A=[v.id,...v.attribute].join("-");if(!w.has(A))w.set(A,v.timestamp),x.add(v.id);else{const T=w.get(A);vs(v.timestamp,T)>0&&(w.set(A,v.timestamp),x.delete(v.id),x.add(v.id))}}return x}}async function ute(e,t,n,r){const{where:s}=t,[i,u,o]=dte(t,n);if(i===-1)return;const a=s[i];if(u==="range"){r.where[i]=!0;let c;const l=fte(t,a[0],i,X0.includes(a[1])?"lt":"gt");return l!==-1&&(c=s[l],r.where[l]=!0),new Set((await cte(e,t,[a,c])).map(d=>d.id))}if(u==="equality")return r.where[i]=!0,new Set((await lte(e,t,a,o)).map(c=>c.id))}const ote=["="],X0=[">",">="],hv=["<","<="],ate=[...X0,...hv];async function cte(e,t,n){const{collectionName:r}=t,[s,i]=n,u=s[0].split("."),o=X0.includes(s[1])?s:i,a=hv.includes(s[1])?s:i,c={greaterThan:(o==null?void 0:o[1])===">"?Qc(o[2]):void 0,greaterThanOrEqual:(o==null?void 0:o[1])===">="?Qc(o[2]):void 0,lessThan:(a==null?void 0:a[1])==="<"?Qc(a[2]):void 0,lessThanOrEqual:(a==null?void 0:a[1])==="<="?Qc(a[2]):void 0};return await e.findValuesInRange([r,...u],c)}function Qc(e){return e instanceof Date?e.toISOString():Array.isArray(e)?JSON.stringify(e.map(Qc)):e}async function lte(e,t,n,r){return(r==null?void 0:r.type)==="query"||(r==null?void 0:r.type)==="record"?[]:(r==null?void 0:r.type)==="set"?await pte(e,t,n):await hte(e,t,n)}function fte(e,t,n,r){const{where:s}=e;if(!s)return-1;for(let i=n+1;i<s.length;i++){const u=s[i];if(q0(u)||gi(u)||Ns(u)||Xf(u))continue;const[o,a,c]=u;if(o===t&&(r==="gt"&&X0.includes(a)||r==="lt"&&hv.includes(a)))return i}return-1}function dte(e,t){const{where:n,collectionName:r}=e;function s(i,u,o){if(!u)return;const a=qa(i.split("."),u,o);if(a&&!(a.type==="query"||a.type==="record"))return a}if(n)for(let i=0;i<n.length;i++){const u=n[i];if(q0(u)||gi(u)||Ns(u)||Xf(u))continue;const[o,a,c]=u;if(ote.includes(a))return[i,"equality",s(o,t,r)];if(ate.includes(a))return[i,"range",s(o,t,r)]}return[-1,void 0,void 0]}async function hte(e,t,n){return await e.findByAVE([[t.collectionName,...n[0].split(".")],n[2]])}async function pte(e,t,n){return await e.findByAVE([[t.collectionName,...n[0].split("."),n[2]],!0])}async function gte(e,t){return Array.from(new Set((await e.findByAVE([["_collection"],t.collectionName])).map(n=>n.id)))}async function mte(e,t,n){const r={where:t.where?new Array(t.where.length).fill(!1):[],order:t.order?new Array(t.order.length).fill(!1):[],after:!t.after},s=ste(t);if(s)return{candidates:[s],fulfilled:r};const i=await ute(e,t,n,r);if(i)return{candidates:Array.from(i),fulfilled:r};const u=await ite(e,t,n,r);return u?{candidates:Array.from(u),fulfilled:r}:{candidates:await gte(e,t),fulfilled:r}}function yte(e,t,n){return!!II(e,t,n).length}function OI(e,t,n){var o;let r=eg(t,n);const s=e.split("."),i=[],u={};for(const a of s)i.push(a),r=r.get(a),((o=r.current)==null?void 0:o.type)==="query"&&(u[i.join(".")]=r.current);return u}function II(e,t,n){return Object.keys(OI(e,t,n))}function bte(e,t,n){const r={};for(const s of e){const i=II(s,t,n);if(!i.length)continue;const u=i.shift();r[u]||(r[u]=new Set);for(let o of i)o=o.slice(u.length+1),r[u].add(o)}return r}function R2(e,t){return Ac(e,t&&t.size>0?t:void 0)}async function wte(e,t){const n=[],r=await e.findAllClientIds(),s=new Map(r.map(i=>[i,t.get(i)??0]));for(const[i,u]of s){const o=await e.findByClientTimestamp(i,"gt",[u,i]);for(const a of o)n.push(a)}return n}async function k2(e,t,n,r,s,i={}){var l,d,h;const u=vte(await mv(e,t,n,s,i)),o=r.reduce((f,p)=>(f.has(p.id)||f.set(p.id,[]),f.get(p.id).push(p),f),new Map),a=[],c=r.reduce((f,p)=>{const[m,y]=p.timestamp;return(!f.has(y)||m<f.get(y)+1)&&f.set(y,Math.max(m-1,0)),f},new Map);for(const f of o.keys()){const p=await t.findByEntity(f),m=(l=R2(p,c).get(f))==null?void 0:l.data,y=R2(p).get(f),b=y==null?void 0:y.data;for(const w of u){if(w.collectionName!==lr(f)[0])continue;const x=!!m&&tf(m,w.where,i.schema&&((d=i.schema[w.collectionName])==null?void 0:d.schema)),v=!!b&&tf(b,w.where,i.schema&&((h=i.schema[w.collectionName])==null?void 0:h.schema));if(!x&&!v)continue;const A=(w.where??[]).filter(Y=>gi(Y));let T=x;if(x&&A.length>0)for(const{exists:Y}of A){const{results:pe}=await Ua(e,t,w,Y,"one",s,i,m);if(pe===null){T=!1;continue}}const V=[];let J=v;if(v&&A.length>0)for(const{exists:Y}of A){const pe=await Ua(e,t,w,Y,"one",s,i,b);if(pe.results===null){J=!1;continue}for(const B of pe.triples.values())for(const ce of B)V.push(ce)}if(!(!T&&!J)){if(!T){if(A.length===0){const Y=o.get(f),pe=new Set(Y.map(ce=>ce.id+JSON.stringify(ce.attribute)+JSON.stringify(ce.timestamp))),B=Object.values(y.triples).flat().filter(ce=>!pe.has(ce.id+JSON.stringify(ce.attribute)+JSON.stringify(ce.timestamp)));for(const ce of B)V.push(ce)}for(const Y of V)a.push(Y)}for(const Y of o.get(f))a.push(Y)}}}return a}function vte(e){const t=[];for(const n of RI(e))t.push(NI(n.slice().reverse()));return t}function NI(e,t=[]){const[n,...r]=e;if(r.length===0)return{...n,where:[...n.where??[],...t]};const s=(n.where??[]).filter(ru).filter(o=>D2(o[2])),i=(n.where??[]).filter(ru).filter(o=>!D2(o[2])),u=NI(r,s.map(Ste));return{...n,where:[...i,...t,{exists:u}]}}function*RI(e,t=[]){yield[...t,e];const n=(e.where??[]).filter(i=>gi(i)),r=Object.values(e.include??{}),s=[...n.map(i=>i.exists),...r.map(i=>i.subquery)];for(const i of s){const u={...e,where:(e.where??[]).filter(o=>!gi(o)||o.exists!==i)};yield*RI(i,[...t,u])}}const xte={"=":"=","!=":"!=","<":">",">":"<","<=":">=",">=":"<=",in:"has",nin:"!has",has:"in","!has":"nin"};function Ste(e){const[t,n,r]=e;if(!Tc(r))throw new F(`Expected filter value to be a relation variable, but got ${r}`);return[r.slice(1),xte[n],"$"+t]}function _te(e){return async t=>{var i;const n=await e.findByEntity(t),r=(i=Ac(n).get(t))==null?void 0:i.data;return[Yo(t),{triples:n,entity:r,relationships:{},existsFilterTriples:[]}]}}function Ate(e,t,n,r,s){const{where:i}=n,u=Gee(n);return async([o,a])=>{const{entity:c}=a;if(!c)return!1;if(!i)return!0;for(const l of u){const d=i[l];if(!await iy(e,t,n,r,s,a,d))return!1}return!0}}function Tte(e){const{order:t,after:n,collectionName:r}=e;let s=!1,i=!1,u=!1;return async([o,{entity:a}])=>{if(!n)return!0;const[c,l]=n;if(s&&u||i)return!0;const[d,h]=t&&t.length>0?t[0]:["id","ASC"],f=a[d][0],[p,m]=c,y=ue.encodeValue(p),b=ue.encodeValue(f);return b===y?(s=!0,rn(r,o)===m&&(u=!0)):(h==="ASC"?b>y:b<y)&&(i=!0),l&&(s&&u||i)}}function Ete(e,t,n,r,s){const{order:i,collectionName:u}=n,{schema:o,skipRules:a,cache:c,stateVector:l}=s,d=o?bte((i??[]).map(h=>h[0]),o,u):{};return async([h,{entity:f,relationships:p,triples:m,existsFilterTriples:y}])=>{if(!Object.keys(d).length)return[h,{entity:f,relationships:p,triples:m,existsFilterTriples:y}];for(const[b,w]of Object.entries(d)){if(p[b])continue;const x=o?qa(b.split("."),o,n.collectionName):void 0;if(!x||(x==null?void 0:x.type)!=="query")throw new F(`Could not find relationship info for ${b} in the schema.`);const v=x.query,A=Array.from(w.values()).reduce((J,Y)=>(J[Y]=null,J),{});let T={...v,include:{...v.include??{},...A}};const V=await Ua(e,t,n,T,x.cardinality,r,s,f);f[b]=V.results,p[b]=Array.from(V.triples.values()).flat()}return[h,{entity:f,relationships:p,triples:m,existsFilterTriples:y}]}}function Ote(e,t,n,r,s){const{include:i}=n,u=Object.entries(i??{});return async([o,{entity:a,relationships:c,triples:l,existsFilterTriples:d}])=>{for(const[h,{subquery:f,cardinality:p}]of u){if(c[h])continue;const m=await Ua(e,t,n,f,p,r,s,a);a[h]=m.results,c[h]=Array.from(m.triples.values()).flat()}return[o,{entity:a,triples:l,relationships:c,existsFilterTriples:d}]}}function Ite(e){const t=e.indexOf(".");if(t===-1)return e;const[n,r]=[e.slice(0,t),e.slice(t+1)],s=parseInt(n);return isNaN(s)?e:`${s+1}.${r}`}async function Ua(e,t,n,r,s,i,u,o){const{schema:a}=u,c=Mte(o,a,n.collectionName);i.queriedDataStack=[...i.queriedDataStack,c];let l={...r,vars:{...n.vars??{},...r.vars??{}}};l=Ur(l,a,{roles:e.sessionRoles},{skipRules:u.skipRules});const d=s==="one"?await gv(e,t,l,i,u):await ri(e,t,l,i,u);return i.queriedDataStack.pop(),d}function mr(){return{queriedDataStack:[]}}function Nte(e){return e==="_collection"}async function ri(e,t,n,r,s={}){var v;const{schema:i,cache:u}=s,o=(v=i==null?void 0:i[n.collectionName])==null?void 0:v.schema;if(u&&bI.canCacheQuery(n,o))return u.resolveFromCache(n,e.systemVars,r,s);const a=await mv(e,t,n,r,s),{order:c,limit:l,select:d,where:h,collectionName:f,after:p}=a,{candidates:m,fulfilled:y}=await mte(t,a,i),b=new Map;let w=new Oi().map(_te(t)).filter(Ate(e,t,a,r,s)).tap(async([A,{triples:T}])=>{b.has(A)?b.set(A,b.get(A).concat(T)):b.set(A,T)}).filter(async([,{entity:A}])=>!Uee(A));c&&!y.order.every(A=>A)&&(w=w.map(Ete(e,t,n,r,s)).sort(([A,{entity:T}],[V,{entity:J}])=>pv(n)(T,J))),p&&!y.after&&(w=w.filter(Tte(n)),y.after=!0),l&&(w=w.take(l)),(!d||d.length>0||n.include&&Object.keys(n.include).length>0)&&(w=w.map(Ote(e,t,n,r,s)).map(async([A,{entity:T,relationships:V,triples:J,existsFilterTriples:Y}])=>{const pe=d||(i&&n.collectionName!=="_metadata"?Object.entries(i[n.collectionName].schema.properties).filter(([tt,Zn])=>Zn.type!=="query").map(([tt])=>tt):Object.keys(T).filter(tt=>!Nte(tt))),B=Object.keys(n.include??{}),ce=pe.concat(B).reduce(Pte(T),{});return[A,{entity:ce,relationships:V,triples:J,existsFilterTriples:Y}]})),w=w.tap(([A,{relationships:T,existsFilterTriples:V}])=>{b.has(A)||b.set(A,[]);for(const J of Object.values(T))b.set(A,b.get(A).concat(J));b.set(A,b.get(A).concat(V))}).map(([A,{entity:T}])=>[A,T]);const x=await w.run(m);return{results:new Map(x),triples:b}}function Rte(e,t){e.order&&t.sort((n,r)=>pv(e)(n[1],r[1]))}function pv(e){return(t,n)=>{var r,s;for(const[i,u]of e.order){const o=(r=C2(t,i.split(".")))==null?void 0:r[0],a=(s=C2(n,i.split(".")))==null?void 0:s[0],c=ue.encodeValue(o??ue.MIN),l=ue.encodeValue(a??ue.MIN),d=c<l?-1:c>l?1:0;if(d!==0)return u==="ASC"?d:d*-1}return 0}}function C2(e,t){return t.reduce((n,r)=>n[r],e)}async function gv(e,t,n,r,s={}){n={...n,limit:1};const i=await ri(e,t,n,r,s),{results:u,triples:o}=i;return{results:[...u.values()][0]??null,triples:o}}function tf(e,t,n){if(!t)return!0;const r=t.filter(ru),s=t.filter(Ns).filter(c=>c.mod==="or"),i=t.filter(Ns).filter(c=>c.mod==="and");return!(!kte(e,r,n)||!s.every(({filters:c})=>c.some(l=>tf(e,[l],n)))||!i.every(({filters:c})=>tf(e,c,n)))}function kte(e,t,n){const r=t.reduce((s,i)=>{const[u,o,a]=i;return s.has(u)?s.get(u).push([o,a]):s.set(u,[[o,a]]),s},new Map);return r.size===0||[...r.entries()].every(([s,i])=>{const u=n&&ua(n,s.split("."));return i.every(([o,a])=>u&&u.type==="set"?wI(e,s,o,a):vI(e,s,o,a))})}function kI(e,t,n,r,s,i={}){const{select:u,order:o,limit:a,include:c}=n,l=mr(),h=(async()=>{let f=new Map,p=new Map,m=()=>{};try{const y=await ri(e,t,n,l,i);f=y.results,p=y.triples;const{where:b}=await mv(e,t,n,l,i);m=t.onWrite(async w=>{var v;try{if(b&&Bte(b,B=>gi(B))||c&&Object.keys(c).length>0||o&&o.some(B=>i.schema&&yte(B[0],i.schema,n.collectionName))){const B=await ri(e,t,n,mr(),{schema:i.schema,skipRules:i.skipRules,cache:i.cache});f=B.results,p=B.triples,await r([new Map([...f].map(([ce,tt])=>[ce,Gi(tt,i.schema,n.collectionName)])),p]);return}const A=Object.values(w).flatMap(B=>B.inserts),T=Object.values(w).flatMap(B=>B.deletes);let V=new Map(f);const J=new Map,Y=new Set([...A,...T].map(({id:B})=>lr(B)).filter(([B,ce])=>B===n.collectionName).map(([B,ce])=>ce));if(!Y.size)return;let pe=!1;for(const B of Y){let tt=function(Do,bu){var Mv;if(!bu.after||!((Mv=bu.order)!=null&&Mv.length))return!0;const Cv=bu.order[0][0],d8=bu.order[0][1],[h8,Dv]=bu.after,[nd,rd]=h8,sd=Do[Cv][0];return d8==="ASC"?sd===nd?Dv?Do.id[0]>=Yo(rd):Do.id[0]>Yo(rd):sd>nd:sd===nd?Dv?Do.id[0]<=Yo(rd):Do.id[0]<Yo(rd):sd<nd};var x=tt;const ce=await t.findByEntity(rn(n.collectionName,B)),Zn=new V0;uv(Zn,ce);const er=Zn.data,td=er._collection&&er._collection[0]===n.collectionName&&tf(er,b??[],i.schema&&((v=i.schema[n.collectionName])==null?void 0:v.schema))&&tt(er,n);let yu=!0;if(o&&a&&V.size>=a){const bu=[...V.values()].at(-1);yu=pv(n)(er,bu)<1}td&&yu?(!V.has(B)||!Yf(V.get(B),er))&&(V.set(B,er),J.set(B,Object.values(Zn.triples)),pe=!0):V.has(B)&&(V.delete(B),J.set(B,Object.values(Zn.triples)),pe=!0)}if(!pe)return;if(o||a){const B=[...V];if(a&&B.length<a){const ce=B.at(B.length-1),tt=ce&&rn(n.collectionName,ce[0]),Zn={...n,limit:a-B.length,after:tt?[[o?ce[1][o[0][0]][0]:tt,tt],!1]:void 0},er=await ri(e,t,Zn,mr(),{schema:i.schema,skipRules:i.skipRules,cache:i.cache});for(const Oc of er.results)B.push(Oc)}o&&Rte(n,B),V=new Map(B.slice(0,a))}f=V,p=J,await r([new Map([...f].map(([B,ce])=>[B,Gi(ce,i.schema,n.collectionName)])),p])}catch(A){console.error(A),s&&await s(A)}}),await r([new Map([...f].map(([w,x])=>[w,Gi(x,i.schema,n.collectionName)])),p])}catch(y){console.error(y),s&&await s(y)}return m})();return async()=>{(await h)()}}function Cte(e,t,n,r,s,i={}){return kI(e,t,n,([u])=>r(u),s,i)}function Dte(e,t,n,r,s,i={}){const o=(async()=>{let a=new Map;try{if(i.stateVector&&i.stateVector.size>0){const l=await wte(t,i.stateVector);a=(await k2(e,t,n,l,mr(),i)).reduce((h,f)=>(h.has(f.id)?h.get(f.id).push(f):h.set(f.id,[f]),h),new Map)}else a=(await ri(e,t,n,mr(),{schema:i.schema,stateVector:i.stateVector,cache:i.cache})).triples;const c=t.onWrite(async l=>{const d=Object.values(l).flatMap(p=>p.inserts),f=(await k2(e,t,n,d,mr(),i)).reduce((p,m)=>(p.has(m.id)?p.get(m.id).push(m):p.set(m.id,[m]),p),new Map);f.size>0&&r(f)});return await r(a),c}catch(c){console.error(c),s&&await s(c)}return()=>{}})();return async()=>{(await o)()}}function Mte(e,t,n){var s;let r={};if(t){const i=(s=t[n])==null?void 0:s.schema;r={...Object.entries(i.properties).reduce((o,[a,c])=>(c.type==="query"||(o[a]=void 0),o),{}),...Gi(e,t,n)}}else r={...dn(e,!0)};return r._collection=n,r}function Pte(e){return(t,n)=>{const r=n.split("."),s=r.pop();let i=t,u=e;for(const o of r)i[o]=i[o]??{},i=i[o],u=e[o][0];return i[s]=u[s],t}}async function mv(e,t,n,r,s){const i=(n.where??[]).filter(ru);for(const a of i){const[c,l,d]=a;Tc(d)&&await jte(d,e,t,r,s)}const u=CI(n,{systemVars:e.systemVars,roles:e.sessionRoles},r),o=n.where?DI(n.where,u):void 0;return{...n,where:o}}function CI(e,t,n){var i,u,o,a,c;const r={...((i=t.systemVars)==null?void 0:i.global)??{},...((u=t.systemVars)==null?void 0:u.session)??{},...e.vars??{},...((n==null?void 0:n.queriedDataStack)??[]).reduce((l,d)=>({...l,...d}),{})},s={global:((o=t.systemVars)==null?void 0:o.global)??{},session:((a=t.systemVars)==null?void 0:a.session)??{},query:e.vars??{},role:e.collectionName==="_metadata"||(c=t.roles)==null?void 0:c.reduce((l,d)=>({...l,...d.roleVars}),{}),...((n==null?void 0:n.queriedDataStack)??[]).reduce((l,d,h,f)=>({...l,[f.length-h]:d}),{})};return{...r,...s}}async function jte(e,t,n,r,s){if(!s.schema)return;const[i,u]=yv(e),o=parseInt(i??"");if(!isNaN(o)){const a=r.queriedDataStack.length-o,c=r.queriedDataStack[a],l=OI(u,s.schema,c._collection),d=Object.entries(l);if(d.length>0){const h=d.at(0),p=d.at(-1)[0],m=h[1],y=p.split(".");if(m.cardinality!=="one")throw new F('Cannot load variables with cardinality "many"');const b=y.slice(1).reverse().reduce((v,A)=>({[A]:v}),null);let w={...m.query};b!==null&&(w.include=b);const{results:x}=await Ua(t,n,{collectionName:c._collection},w,m.cardinality,mr(),s,c);c[y[0]]=dn(x)}}}function Gi(e,t,n){var i;const r=dn(e);delete r._collection;const s=(i=t==null?void 0:t[n])==null?void 0:i.schema;return s?s.convertDBValueToJS(r,t):r}const nf="#";function Lte(e){if(!e)return new YS(e,"id cannot be undefined.");if(String(e).includes(nf))return new YS(e,`Id cannot include ${nf}.`)}function rn(e,t){return`${e}${nf}${t}`}function lr(e){const t=e.split(nf);if(t.length!==2)throw new AH(`Malformed ID: ${e} should only include one separator(${nf})`);return[t[0],t[1]]}function Yo(e){const[t,n]=lr(e);return n}function DI(e,t){return e.map(n=>{if(Ns(n))return{...n,filters:DI(n.filters,t)};if(ru(n)){const r=Fte(n[2],t);return[n[0],n[1],r]}return n})}function Fte(e,t={}){if(!Tc(e))return e;const[n,r]=yv(e);if(n){const s=t[n],i=r.split(".");let u=s;for(const o of i){if(u==null)throw new KS(e);u=u[o]}return u}else{if(r in t)return t[r];throw new KS(e)}}function*MI(e){for(const t of e)Ns(t)?yield*MI(t.filters):yield t}function Bte(e,t){for(const n of MI(e))if(t(n))return!0;return!1}async function PI(e){return e.findByEntity(rn("_metadata","_schema"))}async function oy(e){const t=await PI(e);return{schema:t.length>0?lne(t):void 0,schemaTriples:t}}async function $te(e,t){if(!t)return{successful:!1,issues:[]};const n=await e.transact(async r=>{const s=await r.getSchema();let i=[];if(s){const l=Nee(s,t);if(l.length===0)return{successful:!0,issues:i};if(i=await Dee(r,l),i.length>0&&i.some(d=>d.violatesExistingData))return{successful:!1,issues:i};l.length>0&&e.logger.info(`applying ${l.length} changes to schema`)}const u=await r.storeTx.findByEntity(rn("_metadata","_schema"));await r.storeTx.deleteTriples(u);const o=cne(t),a=await r.storeTx.clock.getNextTimestamp(),c=o.map(([l,d,h])=>({id:l,attribute:d,value:h,timestamp:a,expired:!1}));return await r.storeTx.insertTriples(c),{successful:!0,issues:i}},{dangerouslyBypassSchemaInitialization:!0});return(n==null?void 0:n.output)??{successful:!1,issues:[]}}function Ute(e,t,n){const r=n??console,s=`Found ${t.length} backwards incompatible schema changes.`;t.length>0?r.warn(s):r.info(s),e?r.info("Schema update successful"):(r.error("Schema update failed. Please resolve the following issues:"),t.filter(o=>o.violatesExistingData).reduce((o,a)=>{const c=a.context.collection,l=o.get(c)??[];return o.set(c,[...l,a]),o},new Map).forEach((o,a)=>{r.error(`
Collection: '${a}'`),o.forEach(({issue:c,violatesExistingData:l,context:d,cure:h})=>{l&&r.error(`	'${d.attribute.join(".")}'
		Issue: ${c}
		Fix:   ${h}`)})}),r.info(""))}function qte(e,t,n){var a;if(e==null)throw new RH("Unable to run triple validation due to missing schema. This is unexpected and likely a bug.");const[r,...s]=t;if(r==="_collection"||r==="_metadata")return;const i=e[r];if(!i)throw new dl(r,e);const u=ua(i.schema,s);if(n==="{}"&&["record","set"].includes(u.type))return;const o=c0.includes(u.type);if(!(!o&&["record","set"].includes(u.type)&&((a=u.options)==null?void 0:a.nullable)===!0&&n===null)){if(!o)throw new hr(s,"Cannot set a non-value type to a value. For example, you may be attempting to set a value on a record type.");if(!u.validateTripleValue(n))throw new NH(r,t,n)}}function jI(e,t,n){return e.forEach((r,s)=>{e.set(s,Gi(r,t,n))}),e}function Tc(e){return typeof e=="string"&&e.startsWith("$")}function D2(e){if(!Tc(e))return!1;const[t,n]=yv(e);return t===void 0&&n!=="SESSION_USER_ID"?!0:!isNaN(parseInt(t??""))}const Vte=["global","session","role","query"];function yv(e){const t=e.slice(1).split(".");if(t.length<1)throw new F(`Invalid variable: ${e}`);return t.length===1?[void 0,t[0]]:zte(t[0])?[t[0],t.slice(1).join(".")]:[void 0,t.join(".")]}function zte(e){return Vte.includes(e??"")||!isNaN(parseInt(e??""))}let rf=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,n)=>(n&=63,n<36?t+=n.toString(36):n<62?t+=(n-26).toString(36).toUpperCase():n>62?t+="-":t+="_",t),"");function K0(e,t,n){return`Expected a ${e} value${t.nullable?" or null":""}, but got ${typeof n} instead.`}const Hte=["=","!=","like","nlike","in","nin"];function ay(e={}){if(e&&!Y0(e))throw new l0(e);return{type:"string",supportedOperations:Hte,context:{},options:e,toJSON(){return{type:this.type,options:this.options}},convertInputToDBValue(t){const n=this.validateInput(t);if(n)throw new bc("string",t,n);return t},convertDBValueToJS(t){return t},convertJSONToJS(t){if(e.nullable&&t===null)return null;if(typeof t!="string")throw new wc("string",t);return t},convertJSToJSON(t){return t},defaultInput(){return Z0(e)},validateInput(t){if(!(e.nullable&&t===null)){if(typeof t!="string")return K0("string",e,t);if(e.enum&&!e.enum.includes(t))return Gte(e.enum,t)}},validateTripleValue(t){return typeof t=="string"&&(!e.enum||e.enum.includes(t))||!!e.nullable&&t===null},fromString(t){return t}}}function Gte(e,t){return`Expected a value in the enum [${e.join(", ")}], but got ${t} instead.`}const Jte=/t|\s/i;function Wte(e){const t=e.split(Jte);return t.length===2&&Yte(t[0])&&ene(t[1],!0)}function Qte(e){return e%4===0&&(e%100!==0||e%400===0)}const Xte=/^[\+\-]?([\d]{4,6})-(\d\d)-(\d\d)$/,Kte=[0,31,28,31,30,31,30,31,31,30,31,30,31];function Yte(e){const t=Xte.exec(e);if(!t)return!1;const n=+t[1],r=+t[2],s=+t[3];return r>=1&&r<=12&&s>=1&&s<=(r===2&&Qte(n)?29:Kte[r])}const Zte=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function ene(e,t){const n=Zte.exec(e);if(!n)return!1;const r=+n[1],s=+n[2],i=+n[3],u=n[5];return(r<=23&&s<=59&&i<=59||r===23&&s===59&&i===60)&&(!t||u!=="")}const tne=["=","!=","<",">","<=",">="];function LI(e={}){if(!Y0(e))throw new l0(e);return{type:"date",supportedOperations:tne,context:{},options:e,toJSON(){return{type:this.type,options:this.options}},convertInputToDBValue(t){const n=this.validateInput(t);if(n)throw new bc("date",t,n);return t?new Date(t).toISOString():null},convertDBValueToJS(t){return t?new Date(t):null},convertJSONToJS(t){if(e.nullable&&t===null)return null;if(typeof t!="string")throw new wc("date",t);return new Date(t)},convertJSToJSON(t){return t===null?t:t.toISOString()},defaultInput(){const t=Z0(e);return t==null?t:new Date(t)},validateInput(t){const n=t instanceof Date&&!Number.isNaN(t.getTime()),r=typeof t=="string"&&!Number.isNaN(Date.parse(t)),s=e.nullable&&t===null;if(!(n||r||s))return K0("date",e,t)},validateTripleValue(t){return e.nullable&&t===null?!0:typeof t!="string"?!1:Wte(t)},fromString(t){return new Date(t)}}}function FI(e){const t=(Object.entries(e).filter(([r,s])=>!!s.context.optional).map(([r,s])=>r)||[]).sort();function n(r){return t.includes(r)}return{type:"record",supportedOperations:[],context:{},properties:e,optional:t,toJSON(){const r=Object.fromEntries(Object.entries(e).map(([i,u])=>[i,u.toJSON()])),s={type:this.type,properties:r};return t.length>0&&(s.optional=t),s},convertInputToDBValue(r){const s=this.validateInput(r);if(s)throw new bc("record",JSON.stringify(r),s);return Object.fromEntries(Object.entries(e).filter(([i,u])=>{const o=u.type==="query",a=n(i)&&r[i]===void 0;return!o&&!a}).map(([i,u])=>[i,u.convertInputToDBValue(r[i])]))},convertDBValueToJS(r,s){const i={};for(const u in r)if(Object.prototype.hasOwnProperty.call(r,u)){const o=r[u];if(o===void 0)continue;if(!e[u]){i[u]=o;continue}i[u]=e[u].convertDBValueToJS(o,s)}return i},convertJSONToJS(r,s){if(typeof r!="object")throw new wc("record",r);return Object.fromEntries(Object.entries(r).map(([i,u])=>{const o=e[i];if(!o)throw new F(`Invalid property ${i} for record`);return[i,o.convertJSONToJS(u,s)]}))},convertJSToJSON(r,s){return Object.fromEntries(Object.entries(e).filter(([i,u])=>!(n(i)&&r[i]===void 0)).map(([i,u])=>[i,u.convertJSToJSON(r[i],s)]))},defaultInput(){if(!this.context.optional)return Object.fromEntries(Object.entries(e).map(([r,s])=>[r,s.defaultInput()]).filter(([r,s])=>s!==void 0))},validateInput(r){if(r===null)return"value cannot be null";if(typeof r!="object")return"value must be an object";const s=Object.entries(e).filter(([o,a])=>!n(o)&&a.type!=="query"&&a.defaultInput()===void 0),i=new Set(Object.keys(r)),u=s.filter(([o,a])=>!i.has(o)).map(([o,a])=>o);if(u.length>0)return`missing properties: ${u.join(", ")}`;for(const o in r)if(e[o]){const a=e[o];if(n(o)&&r[o]===void 0)continue;const c=a.validateInput(r[o]);if(c)return`invalid value for ${o} (${c})`}else return`invalid property ${o}`},validateTripleValue(r){return!0}}}const nne=["=","!=","<",">","<=",">=","in","nin"];function BI(e={}){if(e&&!Y0(e))throw new l0(e);return{type:"number",supportedOperations:nne,context:{},options:e,toJSON(){return{type:this.type,options:this.options}},convertInputToDBValue(t){const n=this.validateInput(t);if(n)throw new bc("number",t,n);return t},convertDBValueToJS(t){return t},convertJSONToJS(t){if(e.nullable&&t===null)return null;if(typeof t!="number")throw new wc("number",t);return t},convertJSToJSON(t){return t},defaultInput(){return Z0(e)},validateInput(t){if(!(typeof t=="number"||e.nullable&&t===null))return K0("number",e,t)},validateTripleValue(t){return typeof t=="number"||!!e.nullable&&t===null},fromString(t){return parseFloat(t)}}}const rne=["=","!="];function bv(e={}){if(!Y0(e))throw new l0(e);return{type:"boolean",supportedOperations:rne,context:{},options:e,toJSON(){return{type:this.type,options:this.options}},convertInputToDBValue(t){const n=this.validateInput(t);if(n)throw new bc("boolean",t,n);return t},convertDBValueToJS(t){return t},convertJSONToJS(t){if(e.nullable&&t===null)return null;if(typeof t!="boolean")throw new wc("boolean",t);return t},convertJSToJSON(t){return t},defaultInput(){return Z0(e)},validateInput(t){if(!(typeof t=="boolean"||e.nullable&&t===null))return K0("boolean",e,t)},validateTripleValue(t){return typeof t=="boolean"||!!e.nullable&&t===null},fromString(t){return t==="true"}}}const sne=["=","!=","has","!has"];function $I(e,t={}){var n;if(!c0.includes(e.type))throw new kH(e.type);if((n=e.options)!=null&&n.nullable)throw new qH("Set types cannot contain nullable types");return{type:"set",supportedOperations:sne,context:{},items:e,options:t,toJSON(){return{type:this.type,items:this.items.toJSON(),options:this.options}},convertInputToDBValue(r){const s=this.validateInput(r);if(s)throw new bc(`set<${e.type}>`,r,s);return t.nullable&&r===null?null:[...r.values()].reduce((i,u)=>({...i,[u]:!0}),{})},convertJSONToJS(r){if(t.nullable&&r===null)return null;if(!Array.isArray(r))throw new wc(`set<${this.items.type}>`,r);return new Set(r)},defaultInput(){if(!this.context.optional)return new Set},convertDBValueToJS(r){return t.nullable&&r===null?null:new Set(Object.entries(r).filter(([s,i])=>!!i).map(([s,i])=>this.items.fromString(s)))},convertJSToJSON(r){if(t.nullable&&r===null)return null;if(!(r instanceof Set)&&!(r instanceof Array))throw new VH(`set<${this.items.type}>`,r);return[...r.values()]},validateInput(r){if(t.nullable===!0&&r===null)return;if(!(r instanceof Set)&&!(r instanceof Array))return`Expected Set, got ${ine(r)}`;const s=Array.from(r.values());if(s.includes(null))return"Set cannot contain null values";const i=s.reduce((u,o)=>{if(u)return u;const a=this.items.validateInput(o);if(a)return[o,a]},void 0);if(i)return`Invalid value ${i[0]} for set<${e.type}>. Reason: ${i[1]}.`},validateTripleValue(r){throw new kO("Set validation")}}}function ine(e){return e===null?"null":Array.isArray(e)?"array":e instanceof Set?"set":e instanceof Map?"map":typeof e}class une{constructor(t,n,r){R(this,"changeTracker");R(this,"prefix");R(this,"schema");this.changeTracker=t,this.prefix=n,this.schema=r}add(t){const n=this.schema.items.convertInputToDBValue(t);this.changeTracker.set([...this.prefix.split("/"),n].join("/"),!0)}clear(){UI(this.changeTracker,this.prefix).forEach(n=>{this.changeTracker.set([...this.prefix.split("/"),n].join("/"),!1)})}delete(t){const n=this.schema.items.convertInputToDBValue(t);this.changeTracker.get([...this.prefix.split("/"),n].join("/"))&&this.changeTracker.set([...this.prefix.split("/"),n].join("/"),!1)}}function UI(e,t){const n=e.get(t);if(!n)return new Set;const r=Object.entries(n).filter(([s,i])=>!!i).map(([s,i])=>s);return new Set(r)}function one(e,t,n){const r=UI(e,t),s=new Set([...r].map(u=>n.items.convertDBValueToJS(u))),i=new une(e,t,n);return new Proxy(s,{get(u,o){return typeof u[o]=="function"?function(...a){return i[o]&&i[o](...a),u[o](...a)}:Reflect.get(u,o)}})}function Xc(e,t="many"){return{type:"query",supportedOperations:[],context:{},cardinality:t,query:e,toJSON(){return{type:this.type,query:e,cardinality:t}},convertInputToDBValue(n){throw new F("Invalid Operation - Inserting relational data is not supported")},convertDBValueToJS(n,r){var i;if(!r)throw new F("A schema is required to convert DB value to JS");const s=(i=r==null?void 0:r[e.collectionName])==null?void 0:i.schema;if(!s)throw new dl(e.collectionName,r);if(!n)return n;if(t==="one")return s.convertDBValueToJS(n,r);if(t==="many")return new Map(Array.from(n.entries()).map(([u,o])=>[u,s.convertDBValueToJS(o,r)]));throw new um(t)},convertJSONToJS(n,r){var i;if(!r)throw new F("A schema is required to convert JSON value to JS");const s=(i=r==null?void 0:r[e.collectionName])==null?void 0:i.schema;if(!s)throw new dl(e.collectionName,r);if(!n)return n;if(t==="one")return s.convertJSONToJS(n,r);if(t==="many")return new Map(n.map(([u,o])=>[u,s.convertJSONToJS(o,r)]));throw new um(t)},convertJSToJSON(n,r){var i;if(!r)throw new F("A schema is required to convert JSON value to JS");const s=(i=r==null?void 0:r[e.collectionName])==null?void 0:i.schema;if(!s)throw new dl(e.collectionName,r);if(!n)return n;if(t==="one")return s.convertJSToJSON(n,r);if(t==="many")return Array.from(n.entries()).map(([u,o])=>[u,s.convertJSToJSON(o,r)]);throw new um(t)},defaultInput(){},validateInput(n){},validateTripleValue(n){return!1}}}function Y0(e){return Tee(_H,e)}rt.Readonly(rt.Tuple([rt.Number(),rt.String()]));function Z0(e){let t=e.default;if(t!==void 0){if(typeof t!="object"||t===null)return t;{const{args:n,func:r}=t;if(r==="uuid")return n&&typeof n[0]=="number"?rf(n[0]):rf();if(r==="now")return new Date().toISOString()}}}function Xh(e,t={}){if(!e)throw new LH("Failed to parse this schema definition from its serialized form because it is undefined.");let n;switch(e.type){case"string":n=ay(e.options);break;case"number":n=BI(e.options);break;case"boolean":n=bv(e.options);break;case"date":n=LI(e.options);break;case"set":n=$I(Xh(e.items),e.options);break;case"query":n=Xc(e.query,e.cardinality);break;case"record":const r=e.optional||[];n=FI(Object.fromEntries(Object.entries(e.properties).map(([s,i])=>[s,Xh(i,{optional:r.includes(s)})])));break;default:throw new FH(e.type)}for(const r in t)n.context[r]=t[r];return n}function ua(e,t){if(t.length===0)throw new hr([]);let n=e.properties[t[0]];if(!n)throw new hr(t);for(let r=1;r<t.length;r++){if(!n)throw new hr(t);if(n.type==="query")return n;if(n.type==="set")n=bv();else if(n.type==="record"){const s=t[r];n=n.properties[s]}else throw new hr(t)}if(!n)throw new hr(t);return n}function qI(e,t,n){let r=0,s=eg(t,n);return{next(){if(r>=e.length)return{done:!0,value:s.current};const u=e[r];return s=s.get(u),r++,{done:!1,value:s.current}},[Symbol.iterator](){return this}}}function eg(e,t){var s,i;let n=(s=e[t])==null?void 0:s.schema;const r=u=>{let o=n;if((n==null?void 0:n.type)==="record")o=n.properties[u];else if((n==null?void 0:n.type)==="query"){const{query:a}=n;return eg(e,a.collectionName).get(u)}else o=void 0;return n=o,{get:r,current:n}};return{get:r,current:(i=e[t])==null?void 0:i.schema}}function qa(e,t,n){let r=qI(e,t,n),s=r.next();for(;!s.done;)s=r.next();return s.value}function ane(e,t){return t?t.convertInputToDBValue(e):e}function VI(e){return Object.fromEntries(Object.entries(e).map(([t,n])=>[t,{...n,schema:Xh(n.schema)}]))}function cne(e){const t=wv(e),n=f0(t),r=rn("_metadata","_schema");return[[r,["_collection"],"_metadata"],[r,["_metadata","id"],"_schema"],...n.map(u=>[r,["_metadata",...u[0]],u[1]])]}function lne(e){const t=Ba(e,rn("_metadata","_schema"));if(t)return cy(t.data)}function cy(e){const t=dn(e);delete t._collection,delete t.id;const n=t.version||0,r=t.collections||{};return fne({...t,version:n,collections:r})}function fne(e){if(!e)return;const t=VI(e.collections);return{...e,version:e.version,collections:t}}function wv(e){if(!e)return;const t={};for(const[n,r]of Object.entries(e.collections)){const s=dne(r);t[n]=s}return{...e,version:e.version,collections:t}}function dne(e){const t=e.rules?{rules:e.rules}:{},n=e.permissions?{permissions:e.permissions}:{};return{schema:e.schema.toJSON(),...t,...n}}function hne(e){return e.schema.defaultInput()}function pne(e){if(!e)return;const n=Uo(e).map(r=>JSON.stringify(r)).sort().join("");return gne(n)}function gne(e,t=31,n=1000000009){let r=0;for(let s=0;s<e.length;s++)r=(r*t+e.charCodeAt(s))%n;return r}var tg={},qr={},mne=U&&U.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(r[i]=s[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(qr,"__esModule",{value:!0});qr.EmptyBTree=qr.asSet=qr.simpleComparator=qr.defaultComparator=void 0;function zI(e,t){if(Number.isFinite(e)&&Number.isFinite(t))return e-t;var n=typeof e,r=typeof t;if(n!==r)return n<r?-1:1;if(n==="object"){if(e===null)return t===null?0:-1;if(t===null)return 1;if(e=e.valueOf(),t=t.valueOf(),n=typeof e,r=typeof t,n!==r)return n<r?-1:1}return e<t?-1:e>t?1:e===t?0:Number.isNaN(e)?Number.isNaN(t)?0:-1:Number.isNaN(t)?1:Array.isArray(e)?0:Number.NaN}qr.defaultComparator=zI;function yne(e,t){return e>t?1:e<t?-1:0}qr.simpleComparator=yne;var Rs=function(){function e(t,n,r){this._root=ym,this._size=0,this._maxNodeSize=r>=4?Math.min(r,256):32,this._compare=n||zI,t&&this.setPairs(t)}return Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this._size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isEmpty",{get:function(){return this._size===0},enumerable:!1,configurable:!0}),e.prototype.clear=function(){this._root=ym,this._size=0},e.prototype.forEach=function(t,n){var r=this;return n!==void 0&&(t=t.bind(n)),this.forEachPair(function(s,i){return t(i,s,r)})},e.prototype.forEachPair=function(t,n){var r=this.minKey(),s=this.maxKey();return this.forRange(r,s,!0,t,n)},e.prototype.get=function(t,n){return this._root.get(t,n,this)},e.prototype.set=function(t,n,r){this._root.isShared&&(this._root=this._root.clone());var s=this._root.set(t,n,r,this);return s===!0||s===!1?s:(this._root=new wne([this._root,s]),!0)},e.prototype.has=function(t){return this.forRange(t,t,!0,void 0)!==0},e.prototype.delete=function(t){return this.editRange(t,t,!0,M2)!==0},e.prototype.with=function(t,n,r){var s=this.clone();return s.set(t,n,r)||r?s:this},e.prototype.withPairs=function(t,n){var r=this.clone();return r.setPairs(t,n)!==0||n?r:this},e.prototype.withKeys=function(t,n){for(var r=this.clone(),s=!1,i=0;i<t.length;i++)s=r.set(t[i],void 0,!1)||s;return n&&!s?this:r},e.prototype.without=function(t,n){return this.withoutRange(t,t,!0,n)},e.prototype.withoutKeys=function(t,n){var r=this.clone();return r.deleteKeys(t)||!n?r:this},e.prototype.withoutRange=function(t,n,r,s){var i=this.clone();return i.deleteRange(t,n,r)===0&&s?this:i},e.prototype.filter=function(t,n){var r=this.greedyClone(),s;return r.editAll(function(i,u,o){if(!t(i,u,o))return s=GI}),!s&&n?this:r},e.prototype.mapValues=function(t){var n={},r=this.greedyClone();return r.editAll(function(s,i,u){return n.value=t(i,s,u),n}),r},e.prototype.reduce=function(t,n){for(var r=0,s=n,i=this.entries(this.minKey(),$c),u;!(u=i.next()).done;)s=t(s,u.value,r++,this);return s},e.prototype.entries=function(t,n){var r=this.findPath(t);if(r===void 0)return Fo();var s=r.nodequeue,i=r.nodeindex,u=r.leaf,o=n!==void 0?1:0,a=t===void 0?-1:u.indexOf(t,0,this._compare)-1;return Fo(function(){e:for(;;)switch(o){case 0:if(++a<u.keys.length)return{done:!1,value:[u.keys[a],u.values[a]]};o=2;continue;case 1:if(++a<u.keys.length)return n[0]=u.keys[a],n[1]=u.values[a],{done:!1,value:n};o=2;case 2:for(var c=-1;;){if(++c>=s.length){o=3;continue e}if(++i[c]<s[c].length)break}for(;c>0;c--)s[c-1]=s[c][i[c]].children,i[c-1]=0;u=s[0][i[0]],a=-1,o=n!==void 0?1:0;continue;case 3:return{done:!0,value:void 0}}})},e.prototype.entriesReversed=function(t,n,r){if(t===void 0&&(t=this.maxKey(),r=void 0,t===void 0))return Fo();var s=this.findPath(t)||this.findPath(this.maxKey()),i=s.nodequeue,u=s.nodeindex,o=s.leaf;Mn(!i[0]||o===i[0][u[0]],"wat!");var a=o.indexOf(t,0,this._compare);!r&&a<o.keys.length&&this._compare(o.keys[a],t)<=0&&a++;var c=n!==void 0?1:0;return Fo(function(){e:for(;;)switch(c){case 0:if(--a>=0)return{done:!1,value:[o.keys[a],o.values[a]]};c=2;continue;case 1:if(--a>=0)return n[0]=o.keys[a],n[1]=o.values[a],{done:!1,value:n};c=2;case 2:for(var l=-1;;){if(++l>=i.length){c=3;continue e}if(--u[l]>=0)break}for(;l>0;l--)i[l-1]=i[l][u[l]].children,u[l-1]=i[l-1].length-1;o=i[0][u[0]],a=o.keys.length,c=n!==void 0?1:0;continue;case 3:return{done:!0,value:void 0}}})},e.prototype.findPath=function(t){var n=this._root,r,s;if(n.isLeaf)r=P2,s=P2;else{r=[],s=[];for(var i=0;!n.isLeaf;i++){if(r[i]=n.children,s[i]=t===void 0?0:n.indexOf(t,0,this._compare),s[i]>=r[i].length)return;n=r[i][s[i]]}r.reverse(),s.reverse()}return{nodequeue:r,nodeindex:s,leaf:n}},e.prototype.diffAgainst=function(t,n,r,s){if(t._compare!==this._compare)throw new Error("Tree comparators are not the same.");if(this.isEmpty||t.isEmpty)return this.isEmpty&&t.isEmpty?void 0:this.isEmpty?r===void 0?void 0:e.stepToEnd(e.makeDiffCursor(t),r):n===void 0?void 0:e.stepToEnd(e.makeDiffCursor(this),n);for(var i=this._compare,u=e.makeDiffCursor(this),o=e.makeDiffCursor(t),a=!0,c=!0,l=e.compare(u,o,i);a&&c;){var d=e.compare(u,o,i),h=u.leaf,f=u.internalSpine,p=u.levelIndices,m=o.leaf,y=o.internalSpine,b=o.levelIndices;if(h||m){if(l!==0){if(d===0){if(h&&m&&s){var w=h.values[p[p.length-1]],x=m.values[b[b.length-1]];if(!Object.is(w,x)){var v=s(u.currentKey,w,x);if(v&&v.break)return v.break}}}else if(d>0){if(m&&r){var A=m.values[b[b.length-1]],v=r(o.currentKey,A);if(v&&v.break)return v.break}}else if(n&&h&&l!==0){var w=h.values[p[p.length-1]],v=n(u.currentKey,w);if(v&&v.break)return v.break}}}else if(!h&&!m&&d===0){var T=f.length-1,V=y.length-1,J=f[T][p[T]],Y=y[V][b[V]];if(Y===J){l=0,a=e.step(u,!0),c=e.step(o,!0);continue}}l=d,d<0?a=e.step(u):c=e.step(o)}if(a&&n)return e.finishCursorWalk(u,o,i,n);if(c&&r)return e.finishCursorWalk(o,u,i,r)},e.finishCursorWalk=function(t,n,r,s){var i=e.compare(t,n,r);if(i===0){if(!e.step(t))return}else i<0&&Mn(!1,"cursor walk terminated early");return e.stepToEnd(t,s)},e.stepToEnd=function(t,n){for(var r=!0;r;){var s=t.leaf,i=t.levelIndices,u=t.currentKey;if(s){var o=s.values[i[i.length-1]],a=n(u,o);if(a&&a.break)return a.break}r=e.step(t)}},e.makeDiffCursor=function(t){var n=t._root,r=t.height;return{height:r,internalSpine:[[n]],levelIndices:[0],leaf:void 0,currentKey:n.maxKey()}},e.step=function(t,n){var r=t.internalSpine,s=t.levelIndices,i=t.leaf;if(n===!0||i){var u=s.length;if(n===!0||s[u-1]===0){var o=r.length;if(o===0)return!1;for(var a=o-1,c=a;c>=0;){if(s[c]>0)return c<u-1&&(t.leaf=void 0,s.pop()),c<a&&(t.internalSpine=r.slice(0,c+1)),t.currentKey=r[c][--s[c]].maxKey(),!0;c--}return!1}else{var l=--s[u-1];return t.currentKey=i.keys[l],!0}}else{var d=r.length,h=d-1,f=r[h][s[h]];if(f.isLeaf){t.leaf=f;var l=s[d]=f.values.length-1;t.currentKey=f.keys[l]}else{var p=f.children;r[d]=p;var m=p.length-1;s[d]=m,t.currentKey=p[m].maxKey()}return!0}},e.compare=function(t,n,r){var s=t.height,i=t.currentKey,u=t.levelIndices,o=n.height,a=n.currentKey,c=n.levelIndices,l=r(a,i);if(l!==0)return l;var d=s<o?s:o,h=u.length-(s-d),f=c.length-(o-d);return h-f},e.prototype.keys=function(t){var n=this.entries(t,$c);return Fo(function(){var r=n.next();return r.value&&(r.value=r.value[0]),r})},e.prototype.values=function(t){var n=this.entries(t,$c);return Fo(function(){var r=n.next();return r.value&&(r.value=r.value[1]),r})},Object.defineProperty(e.prototype,"maxNodeSize",{get:function(){return this._maxNodeSize},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this._root.minKey()},e.prototype.maxKey=function(){return this._root.maxKey()},e.prototype.clone=function(){this._root.isShared=!0;var t=new e(void 0,this._compare,this._maxNodeSize);return t._root=this._root,t._size=this._size,t},e.prototype.greedyClone=function(t){var n=new e(void 0,this._compare,this._maxNodeSize);return n._root=this._root.greedyClone(t),n._size=this._size,n},e.prototype.toArray=function(t){t===void 0&&(t=2147483647);var n=this.minKey(),r=this.maxKey();return n!==void 0?this.getRange(n,r,!0,t):[]},e.prototype.keysArray=function(){var t=[];return this._root.forRange(this.minKey(),this.maxKey(),!0,!1,this,0,function(n,r){t.push(n)}),t},e.prototype.valuesArray=function(){var t=[];return this._root.forRange(this.minKey(),this.maxKey(),!0,!1,this,0,function(n,r){t.push(r)}),t},e.prototype.toString=function(){return this.toArray().toString()},e.prototype.setIfNotPresent=function(t,n){return this.set(t,n,!1)},e.prototype.nextHigherPair=function(t,n){return n=n||[],t===void 0?this._root.minPair(n):this._root.getPairOrNextHigher(t,this._compare,!1,n)},e.prototype.nextHigherKey=function(t){var n=this.nextHigherPair(t,$c);return n&&n[0]},e.prototype.nextLowerPair=function(t,n){return n=n||[],t===void 0?this._root.maxPair(n):this._root.getPairOrNextLower(t,this._compare,!1,n)},e.prototype.nextLowerKey=function(t){var n=this.nextLowerPair(t,$c);return n&&n[0]},e.prototype.getPairOrNextLower=function(t,n){return this._root.getPairOrNextLower(t,this._compare,!0,n||[])},e.prototype.getPairOrNextHigher=function(t,n){return this._root.getPairOrNextHigher(t,this._compare,!0,n||[])},e.prototype.changeIfPresent=function(t,n){return this.editRange(t,t,!0,function(r,s){return{value:n}})!==0},e.prototype.getRange=function(t,n,r,s){s===void 0&&(s=67108863);var i=[];return this._root.forRange(t,n,r,!1,this,0,function(u,o){return i.push([u,o]),i.length>s?vne:void 0}),i},e.prototype.setPairs=function(t,n){for(var r=0,s=0;s<t.length;s++)this.set(t[s][0],t[s][1],n)&&r++;return r},e.prototype.forRange=function(t,n,r,s,i){var u=this._root.forRange(t,n,r,!1,this,i||0,s);return typeof u=="number"?u:u.break},e.prototype.editRange=function(t,n,r,s,i){var u=this._root;u.isShared&&(this._root=u=u.clone());try{var o=u.forRange(t,n,r,!0,this,i||0,s);return typeof o=="number"?o:o.break}finally{for(var a=void 0;u.keys.length<=1&&!u.isLeaf;)a||(a=u.isShared),this._root=u=u.keys.length===0?ym:u.children[0];a&&(u.isShared=!0)}},e.prototype.editAll=function(t,n){return this.editRange(this.minKey(),this.maxKey(),!0,t,n)},e.prototype.deleteRange=function(t,n,r){return this.editRange(t,n,r,M2)},e.prototype.deleteKeys=function(t){for(var n=0,r=0;n<t.length;n++)this.delete(t[n])&&r++;return r},Object.defineProperty(e.prototype,"height",{get:function(){for(var t=this._root,n=-1;t;)n++,t=t.isLeaf?void 0:t.children[0];return n},enumerable:!1,configurable:!0}),e.prototype.freeze=function(){var t=this;t.clear=t.set=t.editRange=function(){throw new Error("Attempted to modify a frozen BTree")}},e.prototype.unfreeze=function(){delete this.clear,delete this.set,delete this.editRange},Object.defineProperty(e.prototype,"isFrozen",{get:function(){return this.hasOwnProperty("editRange")},enumerable:!1,configurable:!0}),e.prototype.checkValid=function(){var t=this._root.checkValid(0,this,0);Mn(t===this.size,"size mismatch: counted ",t,"but stored",this.size)},e}();qr.default=Rs;function bne(e){return e}qr.asSet=bne;Symbol&&Symbol.iterator&&(Rs.prototype[Symbol.iterator]=Rs.prototype.entries);Rs.prototype.where=Rs.prototype.filter;Rs.prototype.setRange=Rs.prototype.setPairs;Rs.prototype.add=Rs.prototype.set;function Fo(e){e===void 0&&(e=function(){return{done:!0,value:void 0}});var t={next:e};return Symbol&&Symbol.iterator&&(t[Symbol.iterator]=function(){return this}),t}var HI=function(){function e(t,n){t===void 0&&(t=[]),this.keys=t,this.values=n||Ct,this.isShared=void 0}return Object.defineProperty(e.prototype,"isLeaf",{get:function(){return this.children===void 0},enumerable:!1,configurable:!0}),e.prototype.maxKey=function(){return this.keys[this.keys.length-1]},e.prototype.indexOf=function(t,n,r){for(var s=this.keys,i=0,u=s.length,o=u>>1;i<u;){var a=r(s[o],t);if(a<0)i=o+1;else if(a>0)u=o;else{if(a===0)return o;if(t===t)return s.length;throw new Error("BTree: NaN was used as a key")}o=i+u>>1}return o^n},e.prototype.minKey=function(){return this.keys[0]},e.prototype.minPair=function(t){if(this.keys.length!==0)return t[0]=this.keys[0],t[1]=this.values[0],t},e.prototype.maxPair=function(t){if(this.keys.length!==0){var n=this.keys.length-1;return t[0]=this.keys[n],t[1]=this.values[n],t}},e.prototype.clone=function(){var t=this.values;return new e(this.keys.slice(0),t===Ct?t:t.slice(0))},e.prototype.greedyClone=function(t){return this.isShared&&!t?this:this.clone()},e.prototype.get=function(t,n,r){var s=this.indexOf(t,-1,r._compare);return s<0?n:this.values[s]},e.prototype.getPairOrNextLower=function(t,n,r,s){var i=this.indexOf(t,-1,n),u=i<0?~i-1:r?i:i-1;if(u>=0)return s[0]=this.keys[u],s[1]=this.values[u],s},e.prototype.getPairOrNextHigher=function(t,n,r,s){var i=this.indexOf(t,-1,n),u=i<0?~i:r?i:i+1,o=this.keys;if(u<o.length)return s[0]=o[u],s[1]=this.values[u],s},e.prototype.checkValid=function(t,n,r){var s=this.keys.length,i=this.values.length;return Mn(this.values===Ct?s<=i:s===i,"keys/values length mismatch: depth",t,"with lengths",s,i,"and baseIndex",r),Mn(t==0||s>0,"empty leaf at depth",t,"and baseIndex",r),s},e.prototype.set=function(t,n,r,s){var i=this.indexOf(t,-1,s._compare);if(i<0){if(i=~i,s._size++,this.keys.length<s._maxNodeSize)return this.insertInLeaf(i,t,n,s);var u=this.splitOffRightSide(),o=this;return i>this.keys.length&&(i-=this.keys.length,o=u),o.insertInLeaf(i,t,n,s),u}else return r!==!1&&(n!==void 0&&this.reifyValues(),this.keys[i]=t,this.values[i]=n),!1},e.prototype.reifyValues=function(){return this.values===Ct?this.values=this.values.slice(0,this.keys.length):this.values},e.prototype.insertInLeaf=function(t,n,r,s){if(this.keys.splice(t,0,n),this.values===Ct){for(;Ct.length<s._maxNodeSize;)Ct.push(void 0);if(r===void 0)return!0;this.values=Ct.slice(0,this.keys.length-1)}return this.values.splice(t,0,r),!0},e.prototype.takeFromRight=function(t){var n=this.values;t.values===Ct?n!==Ct&&n.push(void 0):(n=this.reifyValues(),n.push(t.values.shift())),this.keys.push(t.keys.shift())},e.prototype.takeFromLeft=function(t){var n=this.values;t.values===Ct?n!==Ct&&n.unshift(void 0):(n=this.reifyValues(),n.unshift(t.values.pop())),this.keys.unshift(t.keys.pop())},e.prototype.splitOffRightSide=function(){var t=this.keys.length>>1,n=this.keys.splice(t),r=this.values===Ct?Ct:this.values.splice(t);return new e(n,r)},e.prototype.forRange=function(t,n,r,s,i,u,o){var a=i._compare,c,l;if(n===t){if(!r||(l=(c=this.indexOf(t,-1,a))+1,c<0))return u}else c=this.indexOf(t,0,a),l=this.indexOf(n,-1,a),l<0?l=~l:r===!0&&l++;var d=this.keys,h=this.values;if(o!==void 0)for(var f=c;f<l;f++){var p=d[f],m=o(p,h[f],u++);if(m!==void 0){if(s===!0){if(p!==d[f]||this.isShared===!0)throw new Error("BTree illegally changed or cloned in editRange");m.delete?(this.keys.splice(f,1),this.values!==Ct&&this.values.splice(f,1),i._size--,f--,l--):m.hasOwnProperty("value")&&(h[f]=m.value)}if(m.break!==void 0)return m}}else u+=l-c;return u},e.prototype.mergeSibling=function(t,n){if(this.keys.push.apply(this.keys,t.keys),this.values===Ct){if(t.values===Ct)return;this.values=this.values.slice(0,this.keys.length)}this.values.push.apply(this.values,t.reifyValues())},e}(),wne=function(e){mne(t,e);function t(n,r){var s=this;if(!r){r=[];for(var i=0;i<n.length;i++)r[i]=n[i].maxKey()}return s=e.call(this,r)||this,s.children=n,s}return t.prototype.clone=function(){for(var n=this.children.slice(0),r=0;r<n.length;r++)n[r].isShared=!0;return new t(n,this.keys.slice(0))},t.prototype.greedyClone=function(n){if(this.isShared&&!n)return this;for(var r=new t(this.children.slice(0),this.keys.slice(0)),s=0;s<r.children.length;s++)r.children[s]=r.children[s].greedyClone(n);return r},t.prototype.minKey=function(){return this.children[0].minKey()},t.prototype.minPair=function(n){return this.children[0].minPair(n)},t.prototype.maxPair=function(n){return this.children[this.children.length-1].maxPair(n)},t.prototype.get=function(n,r,s){var i=this.indexOf(n,0,s._compare),u=this.children;return i<u.length?u[i].get(n,r,s):void 0},t.prototype.getPairOrNextLower=function(n,r,s,i){var u=this.indexOf(n,0,r),o=this.children;if(u>=o.length)return this.maxPair(i);var a=o[u].getPairOrNextLower(n,r,s,i);return a===void 0&&u>0?o[u-1].maxPair(i):a},t.prototype.getPairOrNextHigher=function(n,r,s,i){var u=this.indexOf(n,0,r),o=this.children,a=o.length;if(!(u>=a)){var c=o[u].getPairOrNextHigher(n,r,s,i);return c===void 0&&u<a-1?o[u+1].minPair(i):c}},t.prototype.checkValid=function(n,r,s){var i=this.keys.length,u=this.children.length;Mn(i===u,"keys/children length mismatch: depth",n,"lengths",i,u,"baseIndex",s),Mn(i>1||n>0,"internal node has length",i,"at depth",n,"baseIndex",s);for(var o=0,a=this.children,c=this.keys,l=0,d=0;d<u;d++)o+=a[d].checkValid(n+1,r,s+o),l+=a[d].keys.length,Mn(o>=l,"wtf",s),Mn(d===0||a[d-1].constructor===a[d].constructor,"type mismatch, baseIndex:",s),a[d].maxKey()!=c[d]&&Mn(!1,"keys[",d,"] =",c[d],"is wrong, should be ",a[d].maxKey(),"at depth",n,"baseIndex",s),d===0||r._compare(c[d-1],c[d])<0||Mn(!1,"sort violation at depth",n,"index",d,"keys",c[d-1],c[d]);var h=l===0;return(h||l>r.maxNodeSize*u)&&Mn(!1,h?"too few":"too many","children (",l,o,") at depth",n,"maxNodeSize:",r.maxNodeSize,"children.length:",u,"baseIndex:",s),o},t.prototype.set=function(n,r,s,i){var u=this.children,o=i._maxNodeSize,a=i._compare,c=Math.min(this.indexOf(n,0,a),u.length-1),l=u[c];if(l.isShared&&(u[c]=l=l.clone()),l.keys.length>=o){var d;c>0&&(d=u[c-1]).keys.length<o&&a(l.keys[0],n)<0?(d.isShared&&(u[c-1]=d=d.clone()),d.takeFromRight(l),this.keys[c-1]=d.maxKey()):(d=u[c+1])!==void 0&&d.keys.length<o&&a(l.maxKey(),n)<0&&(d.isShared&&(u[c+1]=d=d.clone()),d.takeFromLeft(l),this.keys[c]=u[c].maxKey())}var h=l.set(n,r,s,i);if(h===!1)return!1;if(this.keys[c]=l.maxKey(),h===!0)return!0;if(this.keys.length<o)return this.insert(c+1,h),!0;var f=this.splitOffRightSide(),p=this;return a(h.maxKey(),this.maxKey())>0&&(p=f,c-=this.keys.length),p.insert(c+1,h),f},t.prototype.insert=function(n,r){this.children.splice(n,0,r),this.keys.splice(n,0,r.maxKey())},t.prototype.splitOffRightSide=function(){var n=this.children.length>>1;return new t(this.children.splice(n),this.keys.splice(n))},t.prototype.takeFromRight=function(n){this.keys.push(n.keys.shift()),this.children.push(n.children.shift())},t.prototype.takeFromLeft=function(n){this.keys.unshift(n.keys.pop()),this.children.unshift(n.children.pop())},t.prototype.forRange=function(n,r,s,i,u,o,a){var c=u._compare,l=this.keys,d=this.children,h=this.indexOf(n,0,c),f=h,p=Math.min(r===n?h:this.indexOf(r,0,c),l.length-1);if(i){if(f<=p)try{for(;f<=p;f++){d[f].isShared&&(d[f]=d[f].clone());var m=d[f].forRange(n,r,s,i,u,o,a);if(l[f]=d[f].maxKey(),typeof m!="number")return m;o=m}}finally{var y=u._maxNodeSize>>1;for(h>0&&h--,f=p;f>=h;f--)d[f].keys.length<=y&&(d[f].keys.length!==0?this.tryMerge(f,u._maxNodeSize):(l.splice(f,1),d.splice(f,1)));d.length!==0&&d[0].keys.length===0&&Mn(!1,"emptiness bug")}}else for(;f<=p;f++){var m=d[f].forRange(n,r,s,i,u,o,a);if(typeof m!="number")return m;o=m}return o},t.prototype.tryMerge=function(n,r){var s=this.children;return n>=0&&n+1<s.length&&s[n].keys.length+s[n+1].keys.length<=r?(s[n].isShared&&(s[n]=s[n].clone()),s[n].mergeSibling(s[n+1],r),s.splice(n+1,1),this.keys.splice(n+1,1),this.keys[n]=s[n].maxKey(),!0):!1},t.prototype.mergeSibling=function(n,r){var s=this.keys.length;this.keys.push.apply(this.keys,n.keys);var i=n.children;if(this.children.push.apply(this.children,i),n.isShared&&!this.isShared)for(var u=0;u<i.length;u++)i[u].isShared=!0;this.tryMerge(s-1,r)},t}(HI),Ct=[],GI={delete:!0},M2=function(){return GI},vne={break:!0},ym=function(){var e=new HI;return e.isShared=!0,e}(),P2=[],$c=[];function Mn(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!e)throw t.unshift("B+ tree"),new Error(t.join(" "))}qr.EmptyBTree=function(){var e=new Rs;return e.freeze(),e}();var xne=U&&U.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(tg,"__esModule",{value:!0});var Kh=tg.MemoryBTreeStorage=void 0;const bm=xne(qr),j2=nu,wm=Un,L2=bm.default.default?bm.default.default:bm.default;class Sne{constructor(){this.btree=new L2(void 0,wm.compareTuple)}scan(t){const n=(t==null?void 0:t.gte)??(t==null?void 0:t.gt)??j2.MIN,r=(t==null?void 0:t.lte)??(t==null?void 0:t.lt)??j2.MAX,s=[];return this.btree.forRange(n,r,(t==null?void 0:t.lte)!=null,(i,u,o)=>{if(!(t!=null&&t.gt&&(0,wm.compareTuple)(i,t.gt)===0)&&(s.push({key:i,value:u}),(t==null?void 0:t.reverse)!==!0&&s.length>=((t==null?void 0:t.limit)??1/0)))return{break:!0}}),t!=null&&t.reverse&&s.reverse(),t!=null&&t.limit?s.slice(0,t.limit):s}commit(t){const{set:n,remove:r}=t;for(const s of r||[])this.btree.delete(s);for(const{key:s,value:i}of n||[])this.btree.set(s,i,!0)}close(){}wipe(){this.btree=new L2(void 0,wm.compareTuple)}}Kh=tg.MemoryBTreeStorage=Sne;const JI=new Set(["_metadata"]);async function Ad(e,t,n,r,s){if(!r)return;const[i,u]=lr(n);if(JI.has(i))return;const o=e.db.sessionRoles,a=AI(r.collections,i);if(!a)return;let c=[],l=!1;if(o)for(const f of o){const p=a[f.key],m=p==null?void 0:p[s];m&&m.filter&&(l=!0,Array.isArray(m.filter)&&c.push(...m.filter))}if(!l){if(s==="postUpdate")return;c=[!1]}const d=Ur({collectionName:i,where:[["id","=",u],...c]},r.collections,{roles:e.db.sessionRoles},{skipRules:!0}),{results:h}=await gv(e.db,t,d,mr(),{schema:r.collections});if(!h)throw new PH(i,u,s,o??[])}async function vm(e,t,n,r){var c;const[s,i]=lr(n);if(JI.has(s))return;const u=r==null?void 0:r.collections;if(!u)return;const o=r==null?void 0:r.collections[s];if(!o)return;const a=Object.values(((c=o==null?void 0:o.rules)==null?void 0:c.write)??{});if(a.length){const l=a.flatMap(f=>f.filter),d=Ur({collectionName:s,where:[["id","=",i],...l]},u,{roles:e.db.sessionRoles},{skipRules:!1}),{results:h}=await gv(e.db,t,d,mr(),{schema:u});if(!h)throw new RO("Update does not match write rules")}}function _ne(e){const t=Array.from(Ac(e).entries()),n={inserts:[],updates:[],deletes:[]};for(const[r,s]of t){let i="update";"_collection"in s.data&&(s.data._collection[0]===void 0?i="delete":i="insert"),i==="insert"?n.inserts.push([r,s.data]):i==="update"?n.updates.push([r,s.data]):i==="delete"&&n.deletes.push([r,s.data])}return n}async function F2(e,t){const n=Array.from(Ac(e).entries()),r={inserts:[],updates:[],deletes:[]};for(const[s,i]of n){let u="update";"_collection"in i.data&&(i.data._collection[0]===void 0?u="delete":u="insert");const o=Ba(await t.findByEntity(s),s);if(o)switch(u){case"insert":r.inserts.push([s,dn(o.data)]);break;case"update":r.updates.push([s,dn(o.data)]);break;case"delete":const[a,c]=lr(s);r.deletes.push([s,{id:c,_collection:a,...dn(o.data)}]);break}}return r}class B2{constructor(t,n,r,s={}){R(this,"db");R(this,"storeTx");R(this,"hooks");R(this,"options");R(this,"schema");R(this,"_schema");R(this,"_permissionCache",new Map);R(this,"logger");R(this,"PreWriteCheckPermissions",async(t,n)=>{const r=_ne(t);for(const[s,i]of r.updates)await Ad(this,n,s,this.schema,"update")});R(this,"PostCheckWritePermissions",async(t,n)=>{for(const[r,s]of Object.entries(t)){const i=new Set,u=new Set([...s.map(a=>a.id)]),o=new Set;for(const a of s)if(!(o.has(a.id)||i.has(a.id))){if(a.attribute[0]==="_collection"&&a.expired){u.delete(a.id),o.add(a.id);continue}if(a.attribute[0]==="_collection"&&!a.expired){i.add(a.id),u.delete(a.id);continue}}for(const a of u)await vm(this,n,a,this.schema),await Ad(this,n,a,this.schema,"postUpdate");for(const a of i)await vm(this,n,a,this.schema),await Ad(this,n,a,this.schema,"insert");for(const a of o)await vm(this,this.db.tripleStore,a,this.schema),await Ad(this,this.db.tripleStore,a,this.schema,"delete")}});R(this,"ValidateTripleSchema",async t=>{if(this.schema)for(const n of t)n.attribute[0]!=="_metadata"&&n.attribute[0]!=="_collection"&&(n.expired||qte(this.schema.collections,n.attribute,n.value))});R(this,"UpdateLocalSchema",async(t,n)=>{const r=t.filter(({attribute:i})=>i[0]==="_metadata");if(r.length===0)return;if(!this._schema){const{schemaTriples:i}=await oy(n);r.unshift(...i)}this._schema=this._schema??new V0,uv(this._schema,r);const s=dn(this._schema.data);this.schema={version:(s==null?void 0:s.version)??0,collections:(s==null?void 0:s.collections)&&VI(s.collections)}});R(this,"CallBeforeCommitDBHooks",async(t,n)=>{var u;if(!(this.hooks.beforeCommit.length>0||this.hooks.beforeInsert.length>0||this.hooks.beforeUpdate.length>0||this.hooks.beforeDelete.length>0)||!((u=t[Kc])!=null&&u.length))return;const s=t[Kc],i=await F2(s,this.storeTx);if(i.inserts.length)for(const[o,a]of this.hooks.beforeInsert){const c=i.inserts.filter(([l])=>lr(l)[0]===a.collectionName);for(const[l,d]of c)await o({entity:d,tx:this,db:this.db})}if(i.updates.length)for(const[o,a]of this.hooks.beforeUpdate){const c=i.updates.filter(([l])=>lr(l)[0]===a.collectionName);for(const[l,d]of c)await o({entity:d,tx:this,db:this.db})}if(i.deletes.length)for(const[o,a]of this.hooks.beforeDelete){const c=i.deletes.filter(([l])=>lr(l)[0]===a.collectionName);for(const[l,d]of c)await o({entity:d,tx:this,db:this.db})}for(const[o,a]of this.hooks.beforeCommit){const c=i.inserts,l=i.updates,d=i.deletes;!c.length&&!l.length&&!d.length||await o({opSet:{inserts:c,updates:l,deletes:d},tx:this,db:this.db})}});R(this,"CallAfterCommitDBHooks",async(t,n)=>{var u;if(!(this.hooks.afterCommit.length>0||this.hooks.afterInsert.length>0||this.hooks.afterUpdate.length>0||this.hooks.afterDelete.length>0)||!((u=t[Kc])!=null&&u.length))return;const s=t[Kc],i=await F2(s,this.db.tripleStore);if(i.inserts.length)for(const[o,a]of this.hooks.afterInsert){const c=i.inserts.filter(([l])=>lr(l)[0]===a.collectionName);for(const[l,d]of c)await o({entity:d,tx:this,db:this.db})}if(i.updates.length)for(const[o,a]of this.hooks.afterUpdate){const c=i.updates.filter(([l])=>lr(l)[0]===a.collectionName);for(const[l,d]of c)await o({entity:d,tx:this,db:this.db})}if(i.deletes.length)for(const[o,a]of this.hooks.afterDelete){const c=i.deletes.filter(([l])=>lr(l)[0]===a.collectionName);for(const[l,d]of c)await o({entity:d,tx:this,db:this.db})}for(const[o,a]of this.hooks.afterCommit){const c=i.inserts,l=i.updates,d=i.deletes;!c.length&&!l.length&&!d.length||await o({opSet:{inserts:c,updates:l,deletes:d},tx:this,db:this.db})}});R(this,"METADATA_COLLECTION_NAME","_metadata");this.db=t,this.storeTx=n,this.hooks=r,this.options=s,this.logger=s.logger??t.logger,this.schema=s.schema,this.storeTx.beforeInsert(this.ValidateTripleSchema),s!=null&&s.skipRules||(this.storeTx.beforeInsert(this.PreWriteCheckPermissions),this.storeTx.beforeCommit(this.PostCheckWritePermissions)),this.storeTx.beforeInsert(this.UpdateLocalSchema),this.storeTx.beforeCommit(this.CallBeforeCommitDBHooks),this.storeTx.afterCommit(this.CallAfterCommitDBHooks)}async getSchema(){return this.schema}async commit(){await this.storeTx.commit()}async cancel(){await this.storeTx.cancel()}async insert(t,n){var m;if(!t)throw new kh(t,"Collection name must be defined");if(!n)throw new XS("The document being inserted is undefined");if(typeof n!="object"||Array.isArray(n))throw new XS("The document being inserted must be an object.");this.logger.debug("insert START",t,n);const r=(m=await this.getSchema())==null?void 0:m.collections,s=r==null?void 0:r[t],u={...s?hne(s):{},...n},o=ane(u,s==null?void 0:s.schema);!s&&o.id===void 0&&(o.id=rf());const a=Lte(o.id);if(a)throw a;const c=await this.storeTx.getTransactionTimestamp(),l=f0(o),d=rn(t,o.id),h=l.map(([y,b])=>({id:d,attribute:[t,...y],value:b,timestamp:c,expired:!1}));h.push({id:d,attribute:["_collection"],value:t,timestamp:c,expired:!1}),await this.storeTx.insertTriples(h);const f=Ba(h,d);if(!f)throw new Error("Malformed id");const p=Gi(f.data,r,t);return this.logger.debug("insert END",t,p),p}async update(t,n,r){var i;this.logger.debug("update START",t,n);const s=(i=await this.getSchema())==null?void 0:i.collections;await this.updateRaw(t,n,async u=>{const o=new WI(u),a=t==="_metadata"?Yh(o,u):Yh(o,u,s,t);return await r(a),o.getTuples()}),this.logger.debug("update END",t,n)}async updateRaw(t,n,r){this.logger.debug("updateRaw START");const s=rn(t,n),i=await this.storeTx.findByEntity(s),u=Ba(i,s),o=dn(u.data);if(t!=="_metadata"&&!(o!=null&&o._collection))throw new IH(n,t,"Cannot perform an update on an entity that doesn't exist");const a=await r(o);for(const[l,d]of a)if(l.at(0)==="id")throw new NO(`Attempted to update the id of an entity in the ${t} from ${o.id} to ${d}. The 'id' attribute of an entity is immutable and cannot be updated.`);const c=[];for(let l of a){const[d,h]=l,f=[t,...d];(h===void 0||h==="{}")&&await this.storeTx.expireEntityAttributes([{id:s,attribute:f}]),h!==void 0&&c.push([s,f,h])}await this.storeTx.setValues(c),this.logger.debug("updateRaw END",c)}async delete(t,n){if(!t)throw new kh(t,"Collection name must be defined");this.logger.debug("delete START",t,n);const r=rn(t,n);await this.storeTx.expireEntity(r),this.logger.debug("delete END",t,n)}async fetch(t,n={}){var u;const r=(u=await this.getSchema())==null?void 0:u.collections,s=Ur(t,r,{roles:this.db.sessionRoles},{skipRules:n.skipRules}),{results:i}=await ri(this.db,this.storeTx,s,mr(),{schema:r});return jI(i,r,s.collectionName)}query(t,n){return EI(t,n)}async fetchById(t,n,r={}){const s=this.query(t).id(n).build();return this.fetchOne(s,r)}async fetchOne(t,n={}){t={...t,limit:1};const s=[...(await this.fetch(t,n)).values()][0];return s||null}async checkOrCreateSchema(){await this.fetchById(this.METADATA_COLLECTION_NAME,"_schema")||await this.insert(this.METADATA_COLLECTION_NAME,{id:"_schema"})}async createCollection(t){await this.checkOrCreateSchema();const{name:n,schema:r,rules:s,optional:i}=t;await this.update(this.METADATA_COLLECTION_NAME,"_schema",async u=>{u.collections||(u.collections={});const o=i?i.slice().sort():void 0,c={schema:Xh({type:"record",properties:r,optional:o}).toJSON()};s&&(c.rules=s),u.collections[n]=c})}async dropCollection(t){const{name:n}=t;await this.update(this.METADATA_COLLECTION_NAME,"_schema",async r=>{r.collections||(r.collections={}),delete r.collections[n]})}async addAttribute(t){const{collection:n,path:r,attribute:s,optional:i}=t;qc(r),await this.update(this.METADATA_COLLECTION_NAME,"_schema",async u=>{Vc(u.collections,n);const o=r.slice(0,-1),a=r[r.length-1],c=Uc(o,u.collections[n]);qo(c,r),c.properties[a]=s,xm(c,a,i??!1)})}async dropAttribute(t){const{collection:n,path:r}=t;qc(r),await this.update(this.METADATA_COLLECTION_NAME,"_schema",async s=>{Vc(s.collections,n);const i=r.slice(0,-1),u=r[r.length-1],o=Uc(i,s.collections[n]);qo(o,r),delete o.properties[u],xm(o,u,!1)})}async alterAttributeOption(t){const{collection:n,path:r,options:s}=t;qc(r),await this.update(this.METADATA_COLLECTION_NAME,"_schema",async i=>{Vc(i.collections,n);const u=r.slice(0,-1),o=r[r.length-1],a=Uc(u,i.collections[n]);qo(a,r);const c=a.properties[o];if(!c)throw new hr(r,"Could not traverse this path");for(const[l,d]of Object.entries(s))c.options||(c.options={}),c.options[l]=d})}async dropAttributeOption(t){const{collection:n,path:r,option:s}=t;qc(r),await this.update(this.METADATA_COLLECTION_NAME,"_schema",async i=>{Vc(i.collections,n);const u=r.slice(0,-1),o=r[r.length-1],a=Uc(u,i.collections[n]);qo(a,r);const c=a.properties[o];if(!c)throw new hr(r,"Could not traverse this path");c.options&&delete c.options[s]})}async addRule(t){const{collection:n,scope:r,id:s,rule:i}=t;await this.update(this.METADATA_COLLECTION_NAME,"_schema",async u=>{const o=u.collections[n];o.rules||(o.rules={}),o.rules[r]||(o.rules[r]={}),o.rules[r][s]=i})}async dropRule(t){const{collection:n,scope:r,id:s}=t;await this.update(this.METADATA_COLLECTION_NAME,"_schema",async i=>{const u=i.collections[n];delete u.rules[r][s]})}async setAttributeOptional(t){const{collection:n,path:r,optional:s}=t;qc(r),await this.update(this.METADATA_COLLECTION_NAME,"_schema",async i=>{Vc(i.collections,n);const u=r.slice(0,-1),o=r[r.length-1],a=Uc(u,i.collections[n]);if(qo(a,r),!a.properties[o])throw new hr(r,"Could not traverse this path");xm(a,o,s)})}}function xm(e,t,n){if(!e.optional&&n&&(e.optional=[t]),e.optional)if(!e.optional.includes(t)&&n){const r=[];for(let s=0;s<e.optional.length;s++)r.push(e.optional[s]);e.optional=[...r,t].sort()}else e.optional.includes(t)&&!n&&(e.optional=e.optional.filter(r=>r!==t).sort())}function Uc(e,t){return e.reduce((n,r)=>(qo(n,e),n.properties[r]),t.schema)}function qo(e,t){if(!e)throw new hr(t,"Could not traverse this path");if(!e.properties)throw new hr(t,"This path terminated at a non-record type.")}function qc(e){if(e.length===0)throw new hr(e,"The provided path is empty. Paths must be at least one level deep.")}function Vc(e,t){const n=e[t];if(!(n!=null&&n.schema))throw new dl(t,e)}class WI{constructor(t){R(this,"tuplesTracker",{});R(this,"changes",{});this.changes=t}set(t,n){fee(this.changes,t,n);const r=f0(n,t.slice(1).split("/"));for(const s of r){const[i,u]=s;this.tuplesTracker[i.join("/")]=u}}delete(t){dI(this.changes,t)}get(t){return fv(this.changes,t)}has(t){return dee(this.changes,t)}getChanges(){return this.changes}getTuples(){return Object.entries(this.tuplesTracker).map(([t,n])=>[t.split("/"),n])}}function Yh(e,t,n,r,s=""){var a;function i(c){const l=[s,c].join("/");return e.set(l,void 0),dI(t,c),!0}const u=(a=n==null?void 0:n[r])==null?void 0:a.schema,o=Gi(t,n,r);return new Proxy(o,{set:(c,l,d)=>{if(typeof l=="symbol")return!0;const h=[s,l].join("/");if(!u)return d===void 0?i(l):(e.set(h,d),!0);const f=h.slice(1).split("/"),p=ua(u,f);if(!p)throw new jH(h,d);if(p.context.optional&&d===void 0)return i(l);const m=p.convertInputToDBValue(d);return e.set(h,m),!0},deleteProperty:(c,l)=>{if(typeof l=="symbol")return!0;if(u){const h=[s,l].join("/").slice(1).split("/");if(!ua(u,h).context.optional)throw new NO(`Cannot delete property ${l} because it is not optional. Please mark this property optional in your schema. If the property is nullable you may also set it to null.`)}return i(l)},get:(c,l)=>{if(typeof l=="symbol")return;const d=[s,l].join("/"),h=e.get(d);if(h===void 0)return;if(h===null)return null;const f=u&&ua(u,d.slice(1).split("/"));return f&&f.type==="set"?one(e,d,f):typeof h=="object"&&h!==null?Yh(e,h,n,r,d):f?f.convertDBValueToJS(h):h}})}function oa(e,t=[]){const n=e.key.slice(0+((t==null?void 0:t.length)??0)),r=n[0];let s,i,u,o;switch(r){case"EAT":[,s,i,o]=n,u=e.value[0];break;case"AVE":[,i,u,s,o]=n;break;case"clientTimestamp":[,,o,s,i,u]=n;break;default:throw new OH(r)}return{id:s,attribute:i,value:u,timestamp:o,expired:r==="EAT"?e.value[1]:r==="AVE"?!1:e.value.expired}}async function Zf(e,...t){return(await e.scan(...t)).map(oa)}async function QI(e,t,n){return Zf(e,{prefix:["EAT"],gte:[t],lt:[t+ue.MAX],reverse:n==="DESC"})}async function ng(e,[t,n]=[],r){const s={prefix:["EAT"],gte:[t??ue.MIN,n??ue.MIN],lt:[t??ue.MAX,[...n??[],ue.MAX],ue.MAX],reverse:r==="DESC"};return Zf(e,s)}function vv(e,[t,n,r]=[],s){return Zf(e,{prefix:["AVE"],gte:[t??ue.MIN,n??ue.MIN,r??ue.MIN],lt:[[...t??[],...n?[]:[ue.MAX]],n??ue.MAX,ue.MAX],reverse:s==="DESC"})}function XI(e,t,n={}){const r=["AVE",t],s=5,i=n.greaterThanCursor?n.greaterThanCursor:n.greaterThan?[n.greaterThan,ue.MAX]:void 0,u=n.greaterThanOrEqualCursor?n.greaterThanOrEqualCursor:n.greaterThanOrEqual?[n.greaterThanOrEqual,ue.MIN]:void 0,o=n.lessThanCursor?n.lessThanCursor:n.lessThan?[n.lessThan,ue.MIN]:void 0,a=n.lessThanOrEqualCursor?n.lessThanOrEqualCursor:n.lessThanOrEqual?[n.lessThanOrEqual,ue.MAX]:void 0,c={prefix:r,gt:i&&[...i,...new Array(s-r.length-i.length).fill(ue.MAX)],gte:u&&[...u,...new Array(s-r.length-u.length).fill(ue.MIN)],lt:o&&[...o,...new Array(s-r.length-o.length).fill(ue.MIN)],lte:a&&[...a,...new Array(s-r.length-a.length).fill(ue.MAX)],reverse:n.direction==="DESC"};return Zf(e,c)}async function KI(e,t){return ng(e,[t])}async function YI(e,t,n){return ng(e,[t,n])}async function ZI(e,t){return vv(e,[t])}function eN(e){const[t,n,...r]=e.key;return[n,r,e.value]}async function tN(e,t,n,r){if(!r&&!n.startsWith("gt"))return[];let s;switch(n){case"lt":s={lt:[r]};break;case"lte":s={lte:[[...r,ue.MAX]]};break;case"gt":s={gt:[[...r??[],ue.MIN]]};break;case"gte":s={gte:[[...r??[]]]};break;case"eq":s={gte:[r],lt:[[...r,ue.MAX]]};break;default:throw new EH(`Cannot perform a scan with direction ${n}.`)}return await Zf(e,{prefix:["clientTimestamp",t],...s})}async function nN(e,t){var r;return(r=(await e.scan({prefix:["clientTimestamp",t],reverse:!0,limit:1}))[0])==null?void 0:r.key[2]}async function rN(e){const t=new Set;let n=ue.MIN;for(;;){const r=await e.scan({prefix:["clientTimestamp"],gt:[n,ue.MAX,ue.MAX,ue.MAX,ue.MAX],limit:1});if(r.length===0)break;const s=r[0],i=s.key[1];if(!i)throw new Error("Empty client ID found in clientTimestamp index");if(t.has(i))throw new Error("Duplicate client ID found in clientTimestamp index");t.add(s.key[1]),n=i}return Array.from(t)}class Zh{constructor({storage:t,storageScope:n,hooks:r,reactivity:s}){R(this,"storageScope");R(this,"storage");R(this,"hooks");R(this,"reactivity");this.storage=t,this.storageScope=n,this.hooks=r??{beforeCommit:[],beforeInsert:[],beforeScan:[],afterCommit:[]},this.reactivity=s??new sN}getStorageClients(t){return t&&this.storageScope&&this.storageScope[t]?this.storageScope[t].map(n=>this.storage[n]):Object.values(this.storage)}getStorageClientsEntries(t){return t&&this.storageScope&&this.storageScope[t]?this.storageScope[t].map(n=>[n,this.storage[n]]):Object.entries(this.storage)}beforeInsert(t){this.hooks.beforeInsert.push(t)}beforeCommit(t){this.hooks.beforeCommit.push(t)}afterCommit(t){this.hooks.afterCommit.push(t)}beforeScan(t){this.hooks.beforeScan.push(t)}async scan(t,n){const r=this.getStorageClients("read"),s=(i,u)=>R0(i.key,u.key)*(t!=null&&t.reverse?-1:1);return xv(await Promise.all(r.map(i=>i.scan(t,n))),s)}subscribe(t,n){const r=this.getStorageClientsEntries("read").map(([s,i])=>i.subscribe(t,(u,o)=>{const a=this.reactivity.getReactivityId(s,o);if(!a){console.warn("Not tracking reactivity for",s,o);return}this.reactivity.updateCallback(a,n,u,s,o)}));return()=>{Promise.all(r).then(s=>s.forEach(i=>i()))}}async exists(t,n){return(await Promise.all(this.getStorageClients("read").map(r=>r.exists(t,n)))).some(r=>r)}subspace(t){const n=Object.fromEntries(Object.entries(this.storage).map(([r,s])=>[r,s.subspace(t)]));return new Zh({storage:n,storageScope:this.storageScope,hooks:{beforeCommit:[...this.hooks.beforeCommit],beforeInsert:[...this.hooks.beforeInsert],beforeScan:[...this.hooks.beforeScan],afterCommit:[...this.hooks.afterCommit]},reactivity:this.reactivity})}transact(t){return new Ane({scope:t??this.storageScope,store:this,hooks:{beforeCommit:[...this.hooks.beforeCommit],beforeInsert:[...this.hooks.beforeInsert],beforeScan:[...this.hooks.beforeScan],afterCommit:[...this.hooks.afterCommit]}})}async autoTransact(t,n){try{return await ue.transactionalReadWriteAsync(5,{exponentialBackoff:!0,jitter:!0})(t)(n?new Zh({storage:this.storage,storageScope:n,hooks:{beforeCommit:[...this.hooks.beforeCommit],beforeInsert:[...this.hooks.beforeInsert],beforeScan:[...this.hooks.beforeScan],afterCommit:[...this.hooks.afterCommit]},reactivity:this.reactivity}):this)}catch(r){throw r}}async clear(){await this.autoTransact(async t=>{(await t.scan()).forEach(r=>t.remove(r.key))},this.storageScope)}close(){throw new kO("MultiTupleStore.close() method")}}class $2{constructor({txScope:t,hooks:n}){R(this,"txScope");R(this,"hooks");this.txScope=t,this.hooks=n}async scan(t){const n=(r,s)=>R0(r.key,s.key)*(t!=null&&t.reverse?-1:1);return xv(await Promise.all(this.txScope.read.map(r=>r.scan(t))),n)}async exists(t){return(await Promise.all(this.txScope.read.map(n=>n.exists(t)))).some(n=>n)}remove(t){this.txScope.write.forEach(n=>n.remove(t))}async set(t,n){for(const r of this.hooks.beforeInsert)await r({key:t,value:n},this);this.txScope.write.forEach(r=>r.set(t,n))}}function xv(e,t){const n=e.map(()=>0),r=e.reduce((u,o)=>u+o.length,0),s=new Array(r);let i=0;for(;i<r;){let u=null;for(let o=0;o<e.length;o++){const a=e[o][n[o]];if(a){if(u==null){u=o;continue}t(a,e[u][n[u]])<0&&(u=o)}}if(u==null)throw new TH("While merging scan results, could not select a result set to take from. This should never happen.");s[i++]=e[u][n[u]++]}return s}class Ane extends $2{constructor({store:n,scope:r,hooks:s}){const i=Object.entries(n.storage).map(([c,l])=>[c,l.transact()]),u=Object.fromEntries(i),o=(r==null?void 0:r.read)??Object.keys(n.storage),a=(r==null?void 0:r.write)??Object.keys(n.storage);super({txScope:{read:o.map(c=>u[c]),write:a.map(c=>u[c])},hooks:s});R(this,"txs");R(this,"store");R(this,"isCanceled",!1);R(this,"hooks");R(this,"id",Math.random().toString(36).slice(2));for(const[c,l]of i)n.reactivity.trackSubTx(c,l.id,this.id);this.txs=u,this.store=n,this.hooks=s}get writes(){return Object.fromEntries(Object.entries(this.txs).map(([n,r])=>[n,r.writes]))}beforeScan(n){this.hooks.beforeScan.push(n)}async scan(n){for(const s of this.hooks.beforeScan)await s(n,this);const r=(s,i)=>R0(s.key,i.key)*(n!=null&&n.reverse?-1:1);return xv(await Promise.all(this.txScope.read.map(s=>s.scan(n))),r)}withScope(n){const r=n.read??Object.keys(this.store.storage),s=n.write??Object.keys(this.store.storage);return new $2({txScope:{read:r.map(i=>this.txs[i]),write:s.map(i=>this.txs[i])},hooks:this.hooks})}async commit(){if(this.isCanceled){console.warn("Cannot commit already canceled transaction.");return}for(const n of this.hooks.beforeCommit)await n(this);await Promise.all(Object.values(this.txs).map(n=>n.commit()));for(const n of this.hooks.afterCommit)await n(this);this.store.reactivity.emit(this.id)}async cancel(){if(this.isCanceled){console.warn("Attempted to cancel already canceled transaction.");return}await Promise.all(Object.values(this.txs).map(n=>n.cancel())),this.isCanceled=!0}}class sN{constructor(){R(this,"txCallbacks",{});R(this,"subTxReactivityIds",{});R(this,"taskQueue",new Tne)}trackSubTx(t,n,r){this.subTxReactivityIds[`${t}_${n}`]=r}getReactivityId(t,n){return this.subTxReactivityIds[`${t}_${n}`]}updateCallback(t,n,r,s,i){this.txCallbacks[t]||(this.txCallbacks[t]={callbacks:new Set,args:{},subTxs:[]}),this.txCallbacks[t].callbacks.add(n),this.txCallbacks[t].args[s]=r,this.txCallbacks[t].subTxs.push(i)}emit(t){const n=this.txCallbacks[t];if(n){this.taskQueue.schedule(Array.from(n.callbacks),n.args);for(const r of n.subTxs)delete this.subTxReactivityIds[r];delete this.txCallbacks[t]}}}class Tne{constructor(){R(this,"queue",[]);R(this,"isRunning",!1)}async schedule(t,n){if(this.isRunning){setTimeout(()=>{this.queue.push(...t.map(r=>[r,n])),this.run()});return}this.queue.push(...t.map(r=>[r,n])),this.run()}async run(){if(!this.isRunning){for(this.isRunning=!0;this.queue.length;){const t=this.queue.shift();if(!t)break;const[n,r]=t;await n(r)}this.isRunning=!1}}}class Ene{constructor({clientId:t,tick:n}={}){R(this,"clientId");R(this,"tick");this.clientId=t??rf(),this.tick=n??0}async assignToStore(t){const n=await t.findMaxClientTimestamp(this.clientId);n&&this.setTick(n[0]),t.onInsert(r=>{Object.values(r).flat().forEach(({timestamp:i})=>{this.tick<i[0]&&this.setTick(i[0])})})}getCurrentTimestamp(){return new Promise(t=>t([this.tick,this.clientId]))}getNextTimestamp(){const t=[++this.tick,this.clientId];return new Promise(n=>n(t))}setTick(t){return this.tick=t,new Promise(n=>n())}}function Td(e){return Object.fromEntries(Object.entries(e.txs).map(([t,n])=>[t,n.writes.set.filter(r=>r.key[1]==="EAT").map(r=>oa(r,["client"]))]))}class Sv{constructor({tupleTx:t,clock:n,hooks:r}){R(this,"tupleTx");R(this,"txMetadataListeners",new Set);R(this,"assignedTimestamp");R(this,"clock");R(this,"hooks");this.tupleTx=t,this.clock=n,this.hooks=r,this.hooks.beforeCommit.forEach(s=>{this.tupleTx.hooks.beforeCommit.push(i=>{const u=Td(i);return s(u,this)})}),this.hooks.afterCommit.forEach(s=>{this.tupleTx.hooks.afterCommit.push(i=>{const u=Td(i);return s(u,this)})})}async getTransactionTimestamp(){return this.assignedTimestamp||(this.assignedTimestamp=await this.clock.getNextTimestamp()),this.assignedTimestamp}async findByCollection(t,n){return QI(this.tupleTx,t,n)}async findValuesInRange(t,n){return XI(this.tupleTx,t,n)}async findByEAT(t,n){return ng(this.tupleTx,t,n)}findByAVE(t,n){return vv(this.tupleTx,t,n)}async findByEntity(t){return KI(this.tupleTx,t)}async findByEntityAttribute(t,n){return YI(this.tupleTx,t,n)}async findByAttribute(t){return ZI(this.tupleTx,t)}findMaxClientTimestamp(t){return nN(this.tupleTx,t)}findByClientTimestamp(t,n,r){return tN(this.tupleTx,t,n,r)}findAllClientIds(){return rN(this.tupleTx)}async insertTriple(t){await this.insertTriples([t])}async insertTriples(t){if(t.length){for(const n of this.hooks.beforeInsert)await n(t,this);for(const n of t){if(n.value===void 0)throw new ZS(void 0);await this.addTripleToIndex(this.tupleTx,n)}}}async addTripleToIndex(t,n){const{id:r,attribute:s,value:i,timestamp:u,expired:o}=n;t.set(["EAT",r,s,u],[i,o])}async deleteTriple(t){await this.deleteTriples([t])}async deleteTriples(t){const n=this.tupleTx;for(const r of t){const{id:s,attribute:i,value:u,timestamp:o}=r;n.remove(["EAT",s,i,o]),n.remove(["AVE",i,u,s,o]),n.remove(["clientTimestamp",o[1],o,s,i,u])}}async readMetadataTuples(t,n){return(await this.tupleTx.scan({prefix:["metadata",t,...n??[]]})).map(eN)}async updateMetadataTuples(t){for(const[n,r,s]of t)this.tupleTx.set(["metadata",n,...r],s);await Promise.all([...this.txMetadataListeners].map(n=>n({updates:t,deletes:[]})))}async deleteMetadataTuples(t){for(const[n,r]of t)(await this.tupleTx.scan({prefix:["metadata",n,...r??[]]})).forEach(s=>this.tupleTx.remove(s.key));await Promise.all([...this.txMetadataListeners].map(n=>n({updates:[],deletes:t})))}onMetadataChange(t){return this.txMetadataListeners.add(t),()=>{this.txMetadataListeners.delete(t)}}async setValue(t,n,r){return await this.setValues([[t,n,r]])}async setValues(t){if(!t.length)return;const n=await this.getTransactionTimestamp(),r=[];for(const s of t){const[i,u,o]=s;if(o===void 0)throw new ZS(void 0);(await this.findByEntityAttribute(i,u)).filter(({timestamp:l})=>vs(l,n)===1).length===0&&r.push({id:i,attribute:u,value:o,timestamp:n,expired:!1})}await this.insertTriples(r)}async expireEntity(t){var s;const n=await this.findByEntity(t),r=new Map;for(const i of n){const u=JSON.stringify(i.attribute),o=(s=r.get(u))==null?void 0:s.timestamp;(!o||vs(i.timestamp,o)>0)&&r.set(u,i)}await this.expireEntityAttributes([...r.values()].map(({attribute:i,id:u})=>({id:u,attribute:i})))}async expireEntityAttribute(t,n){return this.expireEntityAttributes([{id:t,attribute:n}])}async expireEntityAttributes(t){const n=[];for(const{id:s,attribute:i}of t){const u=await this.findByEntityAttribute(s,i);for(const o of u)n.push(o)}const r=await this.getTransactionTimestamp();await this.deleteTriples(n.filter(s=>vs(s.timestamp,r)===0)),await this.insertTriples(n.map(({id:s,attribute:i})=>({id:s,attribute:i,value:null,timestamp:r,expired:!0})))}async commit(){await this.tupleTx.commit()}async cancel(){await this.tupleTx.cancel()}withScope(t){return new Sv({tupleTx:this.tupleTx.withScope(t),clock:this.clock,hooks:Ch(this.hooks)})}beforeInsert(t){this.hooks.beforeInsert.push(t)}beforeCommit(t){this.tupleTx.hooks.beforeCommit.push(n=>t(Td(n),this))}afterCommit(t){this.tupleTx.hooks.afterCommit.push(n=>t(Td(n),this))}}const One=[async function(t){const n=await t.scan({prefix:["EAV"]});if(n.length===0)return;const r=[];for(const s of n){const[i,u,o,a,c]=s.key,{expired:l}=s.value;r.push({key:["EAT",u,o,c],value:[a,l]})}await t.autoTransact(async s=>{for(const i of n)s.remove(i.key);for(const i of r)await s.set(i.key,i.value)},void 0)}];function Ine(e){return typeof e!="object"?!1:["close","commit","scan"].every(n=>n in e)}async function U2(e){for(const[t,n]of Object.entries(e.writes)){const{set:r=[]}=n;if(r.length===0)continue;const s=e.withScope({read:[t],write:[t]});let i=[];for(const{key:u,value:o}of r.slice()){const[a,c,...l]=u;if(c!=="EAT")continue;const[d,h,f]=l,[p,m]=o;m?i.push(["AVE",h,p,d,f]):s.set(["AVE",h,p,d,f],{expired:m}),s.set(["clientTimestamp",f[1],f,d,h,p],{expired:m})}for(const u of i)s.remove(u)}}class _v{constructor({storage:t,stores:n,tenantId:r,clock:s,reactivity:i,storageScope:u=[],enableGarbageCollection:o=!1}){R(this,"stores");R(this,"storageScope");R(this,"tupleStore");R(this,"clock");R(this,"tenantId");R(this,"hooks");R(this,"reactivity");if(this.hooks={beforeCommit:[],beforeInsert:[],afterCommit:[]},!n&&!t)throw new e2("Must provide either storage or stores");if(n&&t)throw new e2("Cannot provide both storage and stores");this.storageScope=u;let a;if(n)a=n;else{const c=t;a=Ine(c)?{primary:new ue.AsyncTupleDatabaseClient(new ue.AsyncTupleDatabase(c))}:Object.fromEntries(Object.entries(c).map(([l,d])=>[l,new ue.AsyncTupleDatabaseClient(new ue.AsyncTupleDatabase(d))]))}this.stores=a,this.tenantId=r??"client",this.reactivity=i??new sN,this.tupleStore=new Zh({storage:a,reactivity:this.reactivity}).subspace([this.tenantId]),this.clock=s??new Ene,this.clock.assignToStore(this),this.tupleStore.beforeCommit(U2),o&&this.afterCommit(Nne(()=>{this.collectGarbage()},1e3))}async ensureStorageIsMigrated(){for(const t of One)await t(this.tupleStore)}beforeInsert(t){this.hooks.beforeInsert.push(t)}beforeCommit(t){this.hooks.beforeCommit.push(t)}afterCommit(t){this.hooks.afterCommit.push(t)}findByCollection(t,n){return QI(this.tupleStore,t,n)}findByEAT([t,n],r){return ng(this.tupleStore,[t,n],r)}findByAVE([t,n,r],s){return vv(this.tupleStore,[t,n,r],s)}findByEntity(t){return KI(this.tupleStore,t)}findByEntityAttribute(t,n){return YI(this.tupleStore,t,n)}findByAttribute(t){return ZI(this.tupleStore,t)}async findValuesInRange(t,n){return XI(this.tupleStore,t,n)}findMaxClientTimestamp(t){return nN(this.tupleStore,t)}findAllClientIds(){return rN(this.tupleStore)}findByClientTimestamp(t,n,r){return tN(this.tupleStore,t,n,r)}async transact(t,n){let r=!1;const{tx:s,output:i}=await this.tupleStore.autoTransact(async u=>{u.beforeScan(async(c,l)=>{c.prefix[0]!=="EAT"&&await U2(l)});const o=new Sv({tupleTx:u,clock:this.clock,hooks:Ch(this.hooks)});let a;if(r)return{tx:o,output:a};try{a=await t(o)}catch(c){throw c instanceof RO&&(r=!0,await o.cancel()),c}return{tx:o,output:a}},n);return{txId:s.assignedTimestamp?JSON.stringify(s.assignedTimestamp):void 0,output:i}}setStorageScope(t){return new _v({stores:Object.fromEntries(Object.entries(this.stores).filter(([n])=>t.includes(n))),storageScope:t,tenantId:this.tenantId,clock:this.clock,reactivity:this.reactivity})}async setValue(t,n,r){await this.transact(async s=>{await s.setValue(t,n,r)})}async setValues(t){await this.transact(async n=>{await n.setValues(t)})}async expireEntity(t){await this.transact(async n=>{await n.expireEntity(t)})}async expireEntityAttribute(t,n){await this.transact(async r=>{await r.expireEntityAttribute(t,n)})}async expireEntityAttributes(t){await this.transact(async n=>{await n.expireEntityAttributes(t)})}async insertTriple(t){await this.transact(async n=>{await n.insertTriple(t)})}async insertTriples(t){await this.transact(async n=>{await n.insertTriples(t)})}onInsert(t){async function n(s){const i=Object.fromEntries(Object.entries(s).filter(([u,o])=>{const{set:a=[]}=o;return a.length>0}).map(([u,o])=>{const{set:a=[]}=o,c=a.map(l=>oa(l));return[u,c]}));await t(i)}const r=this.tupleStore.subscribe({prefix:["EAT"]},n);return()=>{r()}}onWrite(t){async function n(s){const i=Object.fromEntries(Object.entries(s).filter(([u,o])=>{const{set:a=[],remove:c=[]}=o;return a.length>0||c.length>0}).map(([u,o])=>{const{set:a=[],remove:c=[]}=o,l=a.map(h=>oa(h)),d=c.map(h=>oa({key:h,value:{expired:!1}}));return[u,{inserts:l,deletes:d}]}));await t(i)}return this.tupleStore.subscribe({prefix:["EAT"]},n)}async deleteTriple(t){await this.transact(async n=>{await n.deleteTriples([t])})}async deleteTriples(t){await this.transact(async n=>{await n.deleteTriples(t)})}async readMetadataTuples(t,n){return(await this.tupleStore.scan({prefix:["metadata",t,...n??[]]})).map(eN)}async updateMetadataTuples(t){await this.transact(async n=>{await n.updateMetadataTuples(t)})}async deleteMetadataTuples(t){await this.transact(async n=>{await n.deleteMetadataTuples(t)})}async clear(){await this.tupleStore.clear()}async collectGarbage(){const t=await this.findByEAT([]),n=[];let r=null,s=[];for(let i=t.length-1;i>=0;i--){const u=t[i];if(u.id===r&&ue.compareTuple(u.attribute,s)===0){n.push(u);continue}r=u.id,s=u.attribute}await this.deleteTriples(n)}}function Nne(e,t){let n=!1,r=!1;function s(){r?(e(),r=!1,setTimeout(s,t)):n=!1}return function(){n?r=!0:(e(),n=!0,setTimeout(s,t))}}const Sm=!0,Kc="default";class iN{constructor({schema:t,source:n,sources:r,tenantId:s,migrations:i,clock:u,variables:o,logger:a}={}){R(this,"tripleStore");R(this,"systemVars");R(this,"cache");R(this,"storageReady");R(this,"schemaInitialized");R(this,"isSchemaInitialized",!1);R(this,"ready");R(this,"_schema");R(this,"schema");R(this,"onSchemaChangeCallbacks");R(this,"hooks",{afterCommit:[],afterInsert:[],afterUpdate:[],afterDelete:[],beforeCommit:[],beforeInsert:[],beforeUpdate:[],beforeDelete:[]});R(this,"_pendingSchemaRequest");R(this,"logger");this.logger=a??{info:console.info,warn:console.warn,error:console.error,debug:()=>{},scope:()=>this.logger},this.systemVars={global:o??{},session:{}};const c=r??{[Kc]:n??new Kh};if(Object.keys(c).length===0)throw new t2("No triple stores provided.");if(t&&i)throw new t2("Cannot provide both schema and migrations");const l=t?{...t,version:t.version??0,collections:t.collections}:void 0;this._pendingSchemaRequest=null,this.tripleStore=new _v({storage:c,tenantId:s,clock:u}),this.cache=new bI(this);const d=h=>this.schema=h;this.onSchemaChangeCallbacks=new Set([d]),this.logger.debug("Initializing",{schema:t,migrations:i,tripleStoreSchema:l}),this.storageReady=this.tripleStore.ensureStorageIsMigrated(),this.schemaInitialized=l?this.storageReady.then(()=>{this.setupSchemaListener()}).then(()=>this.initializeDBWithSchema(l)):i?this.storageReady.then(()=>this.initializeDBWithMigrations(i)).then(()=>{this.setupSchemaListener()}):this.storageReady.then(()=>{this.setupSchemaListener()}),this.schemaInitialized.then(()=>this.isSchemaInitialized=!0).catch(()=>{}),this.ready=Promise.all([this.storageReady,this.schemaInitialized]).then(()=>this.logger.debug("Ready"))}get sessionRoles(){const t=this.getSchemaSync(!0);return Wee(t,this.systemVars.session)}getSchemaSync(t=!1){if(!t&&!this.isSchemaInitialized)throw new F("Schema not initialized");return this.schema}initializeDBWithMigrations(t){return t?Array.isArray(t)?this.migrate(t,"up"):this.migrate(t.definitions,"up",t.scopes):Promise.resolve()}initializeDBWithSchema(t){return t?this.overrideSchema(t).then(()=>{}):Promise.resolve()}setupSchemaListener(){return this.tripleStore.tupleStore.subscribe({prefix:["EAT",rn("_metadata","_schema")]},async t=>{Object.values(t).some(s=>{var i;return!!((i=s.remove)!=null&&i.length)})&&(this.schema=void 0,this._schema=void 0);const n=Object.values(t).flatMap(s=>{var i;return((i=s.set)==null?void 0:i.map(u=>oa(u)))??[]});if(!n.length)return;this._schema||await this.loadSchemaData(),uv(this._schema,n);const r=cy(this._schema.data);for(const s of this.onSchemaChangeCallbacks)s(r)})}addTrigger(t,n){switch(t.when){case"afterCommit":this.hooks.afterCommit.push([n,t]);break;case"afterInsert":this.hooks.afterInsert.push([n,t]);break;case"afterUpdate":this.hooks.afterUpdate.push([n,t]);break;case"afterDelete":this.hooks.afterDelete.push([n,t]);break;case"beforeCommit":this.hooks.beforeCommit.push([n,t]);break;case"beforeInsert":this.hooks.beforeInsert.push([n,t]);break;case"beforeUpdate":this.hooks.beforeUpdate.push([n,t]);break;case"beforeDelete":this.hooks.beforeDelete.push([n,t]);break}}withSessionVars(t){return kne(this,t)}async getClientId(){return(await this.tripleStore.clock.getCurrentTimestamp())[1]}async loadSchemaData(){const t=await PI(this.tripleStore);this._schema=Ba(t,rn("_metadata","_schema"))??new V0,t.length&&(this.schema=cy(this._schema.data))}async getSchema(t=!1){return await(t?this.storageReady:this.schemaInitialized),this._pendingSchemaRequest&&await this._pendingSchemaRequest,this._schema||(this._pendingSchemaRequest=this.loadSchemaData(),await this._pendingSchemaRequest,this._pendingSchemaRequest=null),this.schema}async transact(t,n={}){this.logger.debug("transact START",{options:n}),await this.storageReady;const r=await this.getSchema(n.dangerouslyBypassSchemaInitialization);try{const s=await this.tripleStore.transact(async i=>{const u=new B2(this,i,Ch(this.hooks),{schema:r,skipRules:n.skipRules,logger:this.logger.scope("tx")});return await t(u)},n.storeScope);return this.logger.debug("transact RESULT",s),s}catch(s){throw this.logger.error("transact ERROR",s),s}finally{this.logger.debug("transact END")}}updateGlobalVariables(t){this.systemVars.global={...this.systemVars.global,...t}}async overrideSchema(t){const{successful:n,issues:r}=await $te(this,t);return Ute(n,r,this.logger),{successful:n,issues:r}}async fetch(t,n={}){var o;this.logger.debug("fetch START",{query:t}),await this.storageReady;const r=(o=await this.getSchema())==null?void 0:o.collections,s=Ur(t,r,{roles:this.sessionRoles},{skipRules:n.skipRules}),i=n.noCache===void 0?Sm:n.noCache,{results:u}=await ri(this,n.scope?this.tripleStore.setStorageScope(n.scope):this.tripleStore,s,mr(),{schema:r,cache:i?void 0:this.cache,skipRules:n.skipRules});return this.logger.debug("fetch END",{query:t,result:u}),jI(u,r,s.collectionName)}async fetchTriples(t,n={}){var i;await this.storageReady;const r=(i=await this.getSchema())==null?void 0:i.collections,s=Ur(t,r,{roles:this.sessionRoles},{skipRules:n.skipRules});return[...(await ri(this,n.scope?this.tripleStore.setStorageScope(n.scope):this.tripleStore,s,mr(),{schema:r,stateVector:n.stateVector})).triples.values()].flat()}async fetchById(t,n,r={}){const s=this.query(t).id(n).build();return this.fetchOne(s,r)}async fetchOne(t,n={}){t={...t,limit:1};const s=[...(await this.fetch(t,n)).values()][0];return s||null}async insert(t,n,r={}){return this.transact(async s=>await s.insert(t,n),r)}async delete(t,n,r={}){return this.transact(async s=>{await s.delete(t,n)},r)}subscribe(t,n,r,s={}){let i=!1;const o=(async()=>{var h;await this.storageReady;const a=(h=await this.getSchema())==null?void 0:h.collections;let c=Ur(t,a,{roles:this.sessionRoles},{skipRules:s.skipRules});this.logger.debug("subscribe START",{query:t});const l=s.noCache===void 0?Sm:s.noCache;return Cte(this,s.scope?this.tripleStore.setStorageScope(s.scope):this.tripleStore,c,(...f)=>{i||(this.logger.debug("subscribe RESULTS",{query:t,results:f}),n(...f))},(...f)=>{i||r==null||r(...f)},{schema:a,cache:l?void 0:this.cache,skipRules:s.skipRules,stateVector:s.stateVector})})();return async()=>(i=!0,this.logger.debug("subscribe END",{query:t}),(await o)())}subscribeTriples(t,n,r,s={}){const u=(async()=>{var d;await this.storageReady;const o=(d=await this.getSchema())==null?void 0:d.collections;let a=Ur(t,o,{roles:this.sessionRoles},{skipRules:s.skipRules});const c=s.noCache===void 0?Sm:s.noCache;return Dte(this,s.scope?this.tripleStore.setStorageScope(s.scope):this.tripleStore,a,h=>n([...h.values()].flat()),r,{schema:o,skipRules:s.skipRules,stateVector:s.stateVector,cache:c?void 0:this.cache})})();return async()=>(await u)()}async update(t,n,r,s={}){return await this.transact(async i=>{await i.update(t,n,r)},s)}query(t,n){return EI(t,n)}async createCollection(t){await this.transact(async n=>{await n.createCollection(t)})}async dropCollection(t){await this.transact(async n=>{await n.dropCollection(t)})}async addAttribute(t){await this.transact(async n=>{await n.addAttribute(t)})}async dropAttribute(t){await this.transact(async n=>{await n.dropAttribute(t)})}async alterAttributeOption(t){await this.transact(async n=>{await n.alterAttributeOption(t)})}async dropAttributeOption(t){await this.transact(async n=>{await n.dropAttributeOption(t)})}async addRule(t){await this.transact(async n=>{await n.addRule(t)})}async dropRule(t){await this.transact(async n=>{await n.dropRule(t)})}async setAttributeOptional(t){await this.transact(async n=>{await n.setAttributeOptional(t)})}async applySchemaMigration(t,n,r){const s=t[n],{schema:i}=await oy(this.tripleStore);await this.tripleStore.transact(async u=>{const o=new B2(this,u,Ch(this.hooks),{schema:i});for(const a of s)switch(a[0]){case"create_collection":await o.createCollection(a[1]);break;case"drop_collection":await o.dropCollection(a[1]);break;case"add_attribute":await o.addAttribute(a[1]);break;case"drop_attribute":await o.dropAttribute(a[1]);break;case"alter_attribute_option":await o.alterAttributeOption(a[1]);break;case"drop_attribute_option":await o.dropAttributeOption(a[1]);break;case"add_rule":await o.addRule(a[1]);break;case"drop_rule":await o.dropRule(a[1]);break;case"set_attribute_optional":await o.setAttributeOptional(a[1]);break;default:throw new MH(`The operation ${a[0]} is not recognized.`)}await u.insertTriples([{id:rn("_metadata","_schema"),attribute:["_metadata","version"],value:n==="up"?t.version:t.parent,timestamp:await u.clock.getNextTimestamp(),expired:!1}]),n==="up"?await u.updateMetadataTuples([["migrations",[`${t.version}`,"id"],t.version],["migrations",[`${t.version}`,"parent"],t.parent],["migrations",[`${t.version}`,"name"],t.name],["migrations",[`${t.version}`,"applied"],new Date().toISOString()]]):n==="down"&&await u.deleteMetadataTuples([["migrations",[`${t.version}`]]])},r?{read:r,write:r}:void 0)}async migrate(t,n,r){const s=t.sort((i,u)=>(i.version-u.version)*(n==="up"?1:-1));for(const i of s){const{schema:u}=await oy(this.tripleStore),o=(u==null?void 0:u.version)??0;if(Rne(i,n,o))try{await this.applySchemaMigration(i,n,r)}catch(a){throw console.error(`Error applying ${n} migration with verison`,i.version,a),a}else console.info("skipping migration",i)}}async getAppliedMigrations(){const t=await this.tripleStore.readMetadataTuples("migrations");return CO(t).migrations||{}}async getLatestMigrationId(){const t=await this.getAppliedMigrations();return Object.values(t).reduce((r,s)=>Math.max(r||0,s.id),void 0)}async getCollectionStats(){const t=await this.tripleStore.findByAttribute(["_collection"]),n=new Map;for(let r of t){if(r.expired)continue;const s=r.value;n.set(s,(n.get(s)??0)+1)}return n}async clear({full:t}={}){t?await this.tripleStore.clear():await this.tripleStore.transact(async n=>{const s=(await n.findByEntity()).filter(({id:i})=>!i.includes("_metadata"));await n.deleteTriples(s)})}onSchemaChange(t){return this.onSchemaChangeCallbacks.add(t),()=>this.onSchemaChangeCallbacks.delete(t)}}R(iN,"ABORT_TRANSACTION",Symbol("abort transaction"));function Rne(e,t,n){return t==="up"?e.parent===n:e.version===n}function kne(e,t){const n={global:e.systemVars.global,session:t};return new Proxy(e,{get(r,s,i){return s==="systemVars"?n:Reflect.get(r,s,i)},set:Reflect.set,deleteProperty:Reflect.deleteProperty})}const vn=class vn{static Schema(...t){return this.Record(...t)}static get Default(){return{uuid:t=>({func:"uuid",args:t?[t]:null}),now:()=>({func:"now",args:null})}}static Optional(t){return t.context.optional=!0,t}};R(vn,"Id",()=>ay({nullable:!1,default:vn.Default.uuid()})),R(vn,"String",ay),R(vn,"Number",BI),R(vn,"Boolean",bv),R(vn,"Date",LI),R(vn,"Record",FI),R(vn,"Set",$I),R(vn,"Query",Xc),R(vn,"RelationMany",(t,n)=>Xc({collectionName:t,...n},"many")),R(vn,"RelationOne",(t,n)=>Xc({collectionName:t,...n,limit:1},"one")),R(vn,"RelationById",(t,n)=>Xc({collectionName:t,where:[["id","=",n]]},"one"));let Ie=vn;class Cne{constructor(t,n){R(this,"clock");R(this,"scope");R(this,"scopedStore");R(this,"clockReady");R(this,"readyCallbacks");R(this,"assigned");R(this,"clientId");this.scope=t,this.clientId=n||rf(),this.clockReady=new Promise(async(r,s)=>{this.readyCallbacks=[r,s]})}async assignToStore(t){if(this.assigned)return;this.assigned=!0;const[n,r]=this.readyCallbacks;try{this.scopedStore=this.scope?t.setStorageScope([this.scope]):t;const s=await this.scopedStore.readMetadataTuples("clock");if(s.length===0)this.clock=[0,this.clientId],await this.scopedStore.updateMetadataTuples([["clock",["tick"],this.clock[0]],["clock",["clientId"],this.clock[1]]]);else{const{clock:i}=CO(s);this.clock=[i.tick,i.clientId]}n()}catch(s){return console.error(s),r(s)}t.onInsert(async s=>{const u=Object.values(s).flat().reduce((o,a)=>vs(a.timestamp,o)>0?a.timestamp:o,void 0);await this.clockReady,vs(u,this.clock)>0&&(this.clock=[u[0],this.clock[1]],this.scopedStore.updateMetadataTuples([["clock",["tick"],this.clock[0]],["clock",["clientId"],this.clock[1]]]))})}async getCurrentTimestamp(){return await this.clockReady,this.clock}async getNextTimestamp(){const[t,n]=await this.getCurrentTimestamp();return[t+1,n]}async setTick(t){await this.clockReady,this.clock=[t,this.clock[1]],this.scopedStore.updateMetadataTuples([["clock",["tick"],t]])}}function q2(e,t){const n=Dne(e);return n?((t==null?void 0:t.split("."))??[]).reduce((i,u)=>{if(i&&i[u])return i[u]},n)["x-triplit-user-id"]:void 0}function Dne(e){var t=e.split(".")[1],n=t.replace(/-/g,"+").replace(/_/g,"/"),r=decodeURIComponent(atob(n).split("").map(function(s){return"%"+("00"+s.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(r)}class Mne extends F{constructor(t,...n){super(...n),this.name="UnrecognizedFetchPolicyError",this.baseMessage="The fetch policy "+t+" is not recognized.",this.status=se["Bad Request"]}}class Pne extends F{constructor(...t){super(...t),this.name="MissingConnectionInformationError",this.baseMessage="Missing connection information. A token and server must be provided.",this.status=se["Internal Server Error"]}}class V2 extends F{constructor(t,...n){super(...n),this.name="RemoteSyncFailedError",this.baseMessage="Remote sync failed for query: "+JSON.stringify(t,null,2),this.status=se["Internal Server Error"]}}class Ed extends F{constructor(t,...n){super(...n),this.name="RemoteFetchFailedError",this.baseMessage="Remote fetch failed for query: "+JSON.stringify(t,null,2),this.status=se["Internal Server Error"]}}var Av={},rg={};const ly=(e,t)=>t.some(n=>e instanceof n);let z2,H2;function jne(){return z2||(z2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Lne(){return H2||(H2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const uN=new WeakMap,fy=new WeakMap,oN=new WeakMap,_m=new WeakMap,sg=new WeakMap;function Fne(e){const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("success",i),e.removeEventListener("error",u)},i=()=>{n(xs(e.result)),s()},u=()=>{r(e.error),s()};e.addEventListener("success",i),e.addEventListener("error",u)});return t.then(n=>{n instanceof IDBCursor&&uN.set(n,e)}).catch(()=>{}),sg.set(t,e),t}function Bne(e){if(fy.has(e))return;const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",u),e.removeEventListener("abort",u)},i=()=>{n(),s()},u=()=>{r(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",i),e.addEventListener("error",u),e.addEventListener("abort",u)});fy.set(e,t)}let dy={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return fy.get(e);if(t==="objectStoreNames")return e.objectStoreNames||oN.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xs(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function aN(e){dy=e(dy)}function $ne(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(hl(this),t,...n);return oN.set(r,t.sort?t.sort():[t]),xs(r)}:Lne().includes(e)?function(...t){return e.apply(hl(this),t),xs(uN.get(this))}:function(...t){return xs(e.apply(hl(this),t))}}function Une(e){return typeof e=="function"?$ne(e):(e instanceof IDBTransaction&&Bne(e),ly(e,jne())?new Proxy(e,dy):e)}function xs(e){if(e instanceof IDBRequest)return Fne(e);if(_m.has(e))return _m.get(e);const t=Une(e);return t!==e&&(_m.set(e,t),sg.set(t,e)),t}const hl=e=>sg.get(e);function qne(e,t,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const u=indexedDB.open(e,t),o=xs(u);return r&&u.addEventListener("upgradeneeded",a=>{r(xs(u.result),a.oldVersion,a.newVersion,xs(u.transaction),a)}),n&&u.addEventListener("blocked",a=>n(a.oldVersion,a.newVersion,a)),o.then(a=>{i&&a.addEventListener("close",()=>i()),s&&a.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}function Vne(e,{blocked:t}={}){const n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",r=>t(r.oldVersion,r)),xs(n).then(()=>{})}const zne=["get","getKey","getAll","getAllKeys","count"],Hne=["put","add","delete","clear"],Am=new Map;function G2(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Am.get(t))return Am.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,s=Hne.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||zne.includes(n)))return;const i=async function(u,...o){const a=this.transaction(u,s?"readwrite":"readonly");let c=a.store;return r&&(c=c.index(o.shift())),(await Promise.all([c[n](...o),s&&a.done]))[0]};return Am.set(t,i),i}aN(e=>({...e,get:(t,n,r)=>G2(t,n)||e.get(t,n,r),has:(t,n)=>!!G2(t,n)||e.has(t,n)}));const Gne=["continue","continuePrimaryKey","advance"],J2={},hy=new WeakMap,cN=new WeakMap,Jne={get(e,t){if(!Gne.includes(t))return e[t];let n=J2[t];return n||(n=J2[t]=function(...r){hy.set(this,cN.get(this)[t](...r))}),n}};async function*Wne(...e){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...e)),!t)return;t=t;const n=new Proxy(t,Jne);for(cN.set(n,t),sg.set(n,hl(t));t;)yield n,t=await(hy.get(n)||t.continue()),hy.delete(n)}function W2(e,t){return t===Symbol.asyncIterator&&ly(e,[IDBIndex,IDBObjectStore,IDBCursor])||t==="iterate"&&ly(e,[IDBIndex,IDBObjectStore])}aN(e=>({...e,get(t,n,r){return W2(t,n)?Wne:e.get(t,n,r)},has(t,n){return W2(t,n)||e.has(t,n)}}));const Qne=Object.freeze(Object.defineProperty({__proto__:null,deleteDB:Vne,openDB:qne,unwrap:hl,wrap:xs},Symbol.toStringTag,{value:"Module"})),Xne=Eb(Qne);Object.defineProperty(rg,"__esModule",{value:!0});rg.IndexedDbTupleStorage=void 0;const Kne=Xne,Tu=N0,Yne=1,Tm="tupledb";class Zne{constructor(t){this.dbName=t,this.db=(0,Kne.openDB)(t,Yne,{upgrade(n){n.createObjectStore(Tm)}})}async scan(t){const r=(await this.db).transaction(Tm,"readonly",{durability:"relaxed"}),s=r.store,i=(t==null?void 0:t.gt)||(t==null?void 0:t.gte),u=!!(t!=null&&t.gte),o=(t==null?void 0:t.lt)||(t==null?void 0:t.lte),a=!!(t!=null&&t.lte);let c;o?i?c=IDBKeyRange.bound((0,Tu.encodeTuple)(i),(0,Tu.encodeTuple)(o),!u,!a):c=IDBKeyRange.upperBound((0,Tu.encodeTuple)(o),!a):i?c=IDBKeyRange.lowerBound((0,Tu.encodeTuple)(i),!u):c=null;const l=t!=null&&t.reverse?"prev":"next",d=(t==null?void 0:t.limit)||1/0;let h=[];for await(const f of s.iterate(c,l))if(h.push({key:(0,Tu.decodeTuple)(f.key),value:f.value}),h.length>=d)break;return await r.done,h}async commit(t){const r=(await this.db).transaction(Tm,"readwrite",{durability:"relaxed"});for(const{key:s,value:i}of t.set||[])r.store.put(i,(0,Tu.encodeTuple)(s));for(const s of t.remove||[])r.store.delete((0,Tu.encodeTuple)(s));await r.done}async close(){(await this.db).close()}}rg.IndexedDbTupleStorage=Zne;Object.defineProperty(Av,"__esModule",{value:!0});var py=Av.CachedIndexedDbStorage=void 0;const ere=rg,tre=tg;class nre{constructor(t,n={cache:!0}){this.dbName=t,this.options=n,this._cacheReadyForReads=!1,this._indexedDB=new ere.IndexedDbTupleStorage(t),this._cache=new tre.MemoryBTreeStorage,n.cache&&this.initializeCacheFromIndexedDB()}async initializeCacheFromIndexedDB(){const t=await this._indexedDB.scan();this._cache.commit({set:t}),this._cacheReadyForReads=!0}async scan(t){return this.options.cache&&this._cacheReadyForReads?this._cache.scan(t):this._indexedDB.scan(t)}async commit(t){this.options.cache?(this._cache.commit(t),await this._indexedDB.commit(t)):await this._indexedDB.commit(t)}async close(){this._cache&&this._cache.close(),await this._indexedDB.close()}}py=Av.CachedIndexedDbStorage=nre;var gy=function(e,t){return gy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},gy(e,t)};function ig(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");gy(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function my(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function yy(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),s,i=[],u;try{for(;(t===void 0||t-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(o){u={error:o}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(u)throw u.error}}return i}function by(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}function si(e){return typeof e=="function"}function lN(e){var t=function(r){Error.call(r),r.stack=new Error().stack},n=e(t);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Em=lN(function(e){return function(n){e(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,s){return s+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function wy(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var ug=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,n,r,s,i;if(!this.closed){this.closed=!0;var u=this._parentage;if(u)if(this._parentage=null,Array.isArray(u))try{for(var o=my(u),a=o.next();!a.done;a=o.next()){var c=a.value;c.remove(this)}}catch(m){t={error:m}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}else u.remove(this);var l=this.initialTeardown;if(si(l))try{l()}catch(m){i=m instanceof Em?m.errors:[m]}var d=this._finalizers;if(d){this._finalizers=null;try{for(var h=my(d),f=h.next();!f.done;f=h.next()){var p=f.value;try{Q2(p)}catch(m){i=i??[],m instanceof Em?i=by(by([],yy(i)),yy(m.errors)):i.push(m)}}}catch(m){r={error:m}}finally{try{f&&!f.done&&(s=h.return)&&s.call(h)}finally{if(r)throw r.error}}}if(i)throw new Em(i)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)Q2(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}},e.prototype._hasParent=function(t){var n=this._parentage;return n===t||Array.isArray(n)&&n.includes(t)},e.prototype._addParent=function(t){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t},e.prototype._removeParent=function(t){var n=this._parentage;n===t?this._parentage=null:Array.isArray(n)&&wy(n,t)},e.prototype.remove=function(t){var n=this._finalizers;n&&wy(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),fN=ug.EMPTY;function dN(e){return e instanceof ug||e&&"closed"in e&&si(e.remove)&&si(e.add)&&si(e.unsubscribe)}function Q2(e){si(e)?e():e.unsubscribe()}var hN={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},pN={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout.apply(void 0,by([e,t],yy(n)))},clearTimeout:function(e){var t=pN.delegate;return((t==null?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function rre(e){pN.setTimeout(function(){throw e})}function X2(){}function Wd(e){e()}var gN=function(e){ig(t,e);function t(n){var r=e.call(this)||this;return r.isStopped=!1,n?(r.destination=n,dN(n)&&n.add(r)):r.destination=ore,r}return t.create=function(n,r,s){return new vy(n,r,s)},t.prototype.next=function(n){this.isStopped||this._next(n)},t.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(n){this.destination.next(n)},t.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(ug),sre=Function.prototype.bind;function Om(e,t){return sre.call(e,t)}var ire=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var n=this.partialObserver;if(n.next)try{n.next(t)}catch(r){Od(r)}},e.prototype.error=function(t){var n=this.partialObserver;if(n.error)try{n.error(t)}catch(r){Od(r)}else Od(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(n){Od(n)}},e}(),vy=function(e){ig(t,e);function t(n,r,s){var i=e.call(this)||this,u;if(si(n)||!n)u={next:n??void 0,error:r??void 0,complete:s??void 0};else{var o;i&&hN.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=function(){return i.unsubscribe()},u={next:n.next&&Om(n.next,o),error:n.error&&Om(n.error,o),complete:n.complete&&Om(n.complete,o)}):u=n}return i.destination=new ire(u),i}return t}(gN);function Od(e){rre(e)}function ure(e){throw e}var ore={closed:!0,next:X2,error:ure,complete:X2},are=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function cre(e){return e}function lre(e){return e.length===0?cre:e.length===1?e[0]:function(n){return e.reduce(function(r,s){return s(r)},n)}}var K2=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(t,n,r){var s=this,i=dre(t)?t:new vy(t,n,r);return Wd(function(){var u=s,o=u.operator,a=u.source;i.add(o?o.call(i,a):a?s._subscribe(i):s._trySubscribe(i))}),i},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){t.error(n)}},e.prototype.forEach=function(t,n){var r=this;return n=Y2(n),new n(function(s,i){var u=new vy({next:function(o){try{t(o)}catch(a){i(a),u.unsubscribe()}},error:i,complete:s});r.subscribe(u)})},e.prototype._subscribe=function(t){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(t)},e.prototype[are]=function(){return this},e.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return lre(t)(this)},e.prototype.toPromise=function(t){var n=this;return t=Y2(t),new t(function(r,s){var i;n.subscribe(function(u){return i=u},function(u){return s(u)},function(){return r(i)})})},e.create=function(t){return new e(t)},e}();function Y2(e){var t;return(t=e??hN.Promise)!==null&&t!==void 0?t:Promise}function fre(e){return e&&si(e.next)&&si(e.error)&&si(e.complete)}function dre(e){return e&&e instanceof gN||fre(e)&&dN(e)}var hre=lN(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),xy=function(e){ig(t,e);function t(){var n=e.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return t.prototype.lift=function(n){var r=new Z2(this,this);return r.operator=n,r},t.prototype._throwIfClosed=function(){if(this.closed)throw new hre},t.prototype.next=function(n){var r=this;Wd(function(){var s,i;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var u=my(r.currentObservers),o=u.next();!o.done;o=u.next()){var a=o.value;a.next(n)}}catch(c){s={error:c}}finally{try{o&&!o.done&&(i=u.return)&&i.call(u)}finally{if(s)throw s.error}}}})},t.prototype.error=function(n){var r=this;Wd(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var s=r.observers;s.length;)s.shift().error(n)}})},t.prototype.complete=function(){var n=this;Wd(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(n){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,n)},t.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},t.prototype._innerSubscribe=function(n){var r=this,s=this,i=s.hasError,u=s.isStopped,o=s.observers;return i||u?fN:(this.currentObservers=null,o.push(n),new ug(function(){r.currentObservers=null,wy(o,n)}))},t.prototype._checkFinalizedStatuses=function(n){var r=this,s=r.hasError,i=r.thrownError,u=r.isStopped;s?n.error(i):u&&n.complete()},t.prototype.asObservable=function(){var n=new K2;return n.source=this,n},t.create=function(n,r){return new Z2(n,r)},t}(K2),Z2=function(e){ig(t,e);function t(n,r){var s=e.call(this)||this;return s.destination=n,s.source=r,s}return t.prototype.next=function(n){var r,s;(s=(r=this.destination)===null||r===void 0?void 0:r.next)===null||s===void 0||s.call(r,n)},t.prototype.error=function(n){var r,s;(s=(r=this.destination)===null||r===void 0?void 0:r.error)===null||s===void 0||s.call(r,n)},t.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},t.prototype._subscribe=function(n){var r,s;return(s=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&s!==void 0?s:fN},t}(xy);const pre=1024*1024/2;class gre{constructor(t={}){R(this,"options");R(this,"ws");R(this,"connectionListeners",new Set);this.options=t,this.options.messagePayloadSizeLimit=this.options.messagePayloadSizeLimit==null?pre:this.options.messagePayloadSizeLimit}get isOpen(){return!!this.ws&&this.ws.readyState===this.ws.OPEN}get connectionStatus(){return this.ws?mN(this.ws):"CLOSED"}onOpen(t){this.ws&&(this.ws.onopen=t)}sendMessage(t){if(!this.ws||!this.isOpen)return;const n=JSON.stringify(t),r=mre(n);if(this.options.messagePayloadSizeLimit&&r>this.options.messagePayloadSizeLimit){const s=yre(n,Math.ceil(r/this.options.messagePayloadSizeLimit)),i=(Math.random()+1).toString(36).substring(7);for(let u=0;u<s.length;u++)this.ws.send(JSON.stringify({type:"CHUNK",payload:{data:s[u],total:s.length,index:u,id:i}}));return}this.ws.send(JSON.stringify(t))}connect(t){this.ws&&this.isOpen&&this.close();const{token:n,clientId:r,schema:s,syncSchema:i,server:u,secure:o}=t,a=[];if(!n||!r||!u){n||a.push("token"),r||a.push("clientId"),u||a.push("server"),console.warn(`Missing required params: [${a.join(", ")}]. Skipping sync connection.`);return}const c=new URLSearchParams;s&&c.set("schema",s.toString()),c.set("sync-schema",String(i)),c.set("client",r),c.set("token",n);const l=`${o?"wss":"ws"}://${u}?${c.toString()}`;this.ws=new WebSocket(l),this.ws.onconnectionchange=d=>{this.connectionListeners.forEach(h=>h(d))}}onMessage(t){this.ws&&(this.ws.onmessage=t)}onError(t){this.ws&&(this.ws.onerror=t)}close(t){this.ws&&this.ws.close(1e3,JSON.stringify(t))}onClose(t){this.ws&&(this.ws.onclose=t)}onConnectionChange(t){return this.connectionListeners.add(t),()=>{this.connectionListeners.delete(t)}}}function mre(e){var t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);t+=r<128?1:r<2048?2:r<65536?3:4}return t}function yre(e,t){let n=[];const r=Math.ceil(e.length/t);for(let s=0;s<e.length;s+=r)n.push(e.slice(s,s+r));return n}function mN(e){switch(e.readyState){case e.CONNECTING:return"CONNECTING";case e.OPEN:return"OPEN";case e.CLOSING:return"CLOSING";case e.CLOSED:default:return"CLOSED"}}var g3;if(typeof WebSocket<"u"&&typeof self<"u"&&((g3=Object.getOwnPropertyDescriptor(self,"WebSocket"))!=null&&g3.writable)){var bre=new Proxy(WebSocket,{construct:function(e,t){const n=new e(...t);function r(){n.dispatchEvent(new Event("connectionchange")),n.onconnectionchange&&typeof n.onconnectionchange=="function"&&n.onconnectionchange(mN(n))}setTimeout(function(){r()},0);const s=()=>{r()},i=()=>{r(),n.removeEventListener("open",s),n.removeEventListener("close",i)};return n.addEventListener("open",s),n.addEventListener("close",i),n}});WebSocket=bre}const e3="query-state";class wre{constructor(t,n){R(this,"transport");R(this,"queries",new Map);R(this,"reconnectTimeoutDelay",250);R(this,"reconnectTimeout");R(this,"client");R(this,"syncOptions");R(this,"connectionChangeHandlers",new Set);R(this,"queryFulfillmentCallbacks");R(this,"txCommits$",new xy);R(this,"txFailures$",new xy);R(this,"messageReceivedSubscribers",new Set);R(this,"messageSentSubscribers",new Set);R(this,"awaitingAck",new Set);R(this,"logger");R(this,"commitCallbacks",new Map);R(this,"failureCallbacks",new Map);this.client=t,this.logger=n.logger,this.syncOptions=n,this.syncOptions.secure=n.secure??!0,this.syncOptions.syncSchema=n.syncSchema??!1,this.transport=n.transport??new gre,this.txCommits$.subscribe(s=>{const i=this.commitCallbacks.get(s);if(i){for(const u of i)u();this.commitCallbacks.delete(s),this.failureCallbacks.delete(s)}}),this.txFailures$.subscribe(({txId:s,error:i})=>{const u=this.failureCallbacks.get(s);if(u)for(const o of u)o(i)}),this.queryFulfillmentCallbacks=new Map;const r=vre(()=>this.signalOutboxTriples(),100);this.db.tripleStore.setStorageScope(["outbox"]).onInsert(s=>{var i;(i=s.outbox)!=null&&i.length&&r()})}get token(){return this.syncOptions.token}get db(){return this.client.db}get httpUri(){return this.syncOptions.server?`${this.syncOptions.secure?"https":"http"}://${this.syncOptions.server}`:void 0}onSyncMessageReceived(t){return this.messageReceivedSubscribers.add(t),()=>{this.messageReceivedSubscribers.delete(t)}}onSyncMessageSent(t){return this.messageSentSubscribers.add(t),()=>{this.messageSentSubscribers.delete(t)}}async getConnectionParams(){var r;const t=await this.db.getClientId(),n=pne((r=wv(await this.db.getSchema()))==null?void 0:r.collections);return{clientId:t,schema:n,syncSchema:this.syncOptions.syncSchema,token:this.syncOptions.token,server:this.syncOptions.server,secure:this.syncOptions.secure}}async getQueryState(t){const n=await this.db.tripleStore.readMetadataTuples(e3,[t]);return n.length===0?void 0:JSON.parse(n[0][2])}async isFirstTimeFetchingQuery(t){await this.db.ready;const n=this.getQueryHash(t);return await this.getQueryState(n)===void 0}async setQueryState(t,n){await this.db.tripleStore.updateMetadataTuples([[e3,[t],JSON.stringify(n)]])}getQueryHash(t){const{id:n,...r}=t;return mI(r).toString()}subscribe(t,n){const r=this.getQueryHash(t);return this.getQueryState(r).then(s=>{this.sendMessage({type:"CONNECT_QUERY",payload:{id:r,params:t,state:s}}),this.queries.set(r,{params:t,fulfilled:!1}),this.onQueryFulfilled(r,i=>{const{triples:u}=i;if(u.length>0){const o=this.triplesToStateVector(u),a=new Map((s??[]).map(([c,l])=>[l,c]));o.forEach(([c,l])=>{const d=a.get(l);(!d||c>d)&&a.set(l,c)}),this.setQueryState(r,[...a.entries()].map(([c,l])=>[l,c]))}this.queries.set(r,{params:t,fulfilled:!0}),n&&n()})}),()=>{this.disconnectQuery(r)}}triplesToStateVector(t){const n=new Map;return t.forEach(r=>{const[s,i]=r.timestamp,u=n.get(i);(!u||s>u)&&n.set(i,s)}),[...n.entries()].map(([r,s])=>[s,r])}onQueryFulfilled(t,n){this.queryFulfillmentCallbacks.set(t,n)}hasQueryBeenFulfilled(t){var n;return((n=this.queries.get(t))==null?void 0:n.fulfilled)??!1}disconnectQuery(t){this.sendMessage({type:"DISCONNECT_QUERY",payload:{id:t}}),this.queries.delete(t)}onTxCommit(t,n){var r;return this.commitCallbacks.has(t)?(r=this.commitCallbacks.get(t))==null||r.add(n):this.commitCallbacks.set(t,new Set([n])),()=>{var s;(s=this.commitCallbacks.get(t))==null||s.delete(n)}}onTxFailure(t,n){var r;return this.failureCallbacks.has(t)?(r=this.failureCallbacks.get(t))==null||r.add(n):this.failureCallbacks.set(t,new Set([n])),()=>{var s;(s=this.failureCallbacks.get(t))==null||s.delete(n)}}signalOutboxTriples(){this.sendMessage({type:"TRIPLES_PENDING",payload:{}})}async connect(){this.transport.connectionStatus!=="CLOSED"&&this.closeConnection({type:"CONNECTION_OVERRIDE",retry:!1});const t=await this.getConnectionParams();this.transport.connect(t),this.transport.onMessage(async n=>{const r=JSON.parse(n.data);this.logger.debug("received",r);for(const s of this.messageReceivedSubscribers)s(r);if(r.type==="ERROR"&&await this.handleErrorMessage(r),r.type==="TRIPLES"){const{payload:s}=r,i=s.triples,u=s.forQueries;for(const o of u){const a=this.queryFulfillmentCallbacks.get(o);a&&a(s)}i.length!==0&&await this.db.transact(async o=>{await o.storeTx.withScope({read:["cache"],write:["cache"]}).insertTriples(i)},{skipRules:!0})}if(r.type==="TRIPLES_ACK"){const{payload:s}=r,{txIds:i,failedTxIds:u}=s;try{const o=new Set(u);await this.db.tripleStore.transact(async c=>{const l=c.withScope({read:["outbox"],write:["outbox"]}),d=c.withScope({read:["cache"],write:["cache"]});for(const h of i){const f=JSON.parse(h),p=await l.findByClientTimestamp(await this.db.getClientId(),"eq",f);p.length>0&&(await d.insertTriples(p),await l.deleteTriples(p))}});for(const c of i)this.txCommits$.next(c);(await this.getTriplesToSend(this.db.tripleStore.setStorageScope(["outbox"]))).filter(c=>!o.has(JSON.stringify(c.timestamp))).length&&this.signalOutboxTriples()}finally{for(const o of i)this.awaitingAck.delete(o);for(const o of u)this.awaitingAck.delete(o)}}if(r.type==="TRIPLES_REQUEST"){const s=await this.getTriplesToSend(this.db.tripleStore.setStorageScope(["outbox"]));this.sendTriples(s)}if(r.type==="CLOSE"){const{payload:s}=r;this.logger.info(`Closing connection${s!=null&&s.message?`: ${s.message}`:"."}`);const{type:i,retry:u}=s;this.closeConnection({type:i,retry:u})}}),this.transport.onOpen(async()=>{this.logger.info("sync connection has opened"),this.resetReconnectTimeout(),!!(await this.getTriplesToSend(this.db.tripleStore.setStorageScope(["outbox"]))).length&&this.signalOutboxTriples();for(const[s,i]of this.queries)this.getQueryState(s).then(u=>{this.sendMessage({type:"CONNECT_QUERY",payload:{id:s,params:i.params,state:u}})})}),this.transport.onClose(n=>{if(this.awaitingAck=new Set,n.reason){let s,i;try{const{type:u,retry:o}=JSON.parse(n.reason);s=u,i=o}catch{s="UNKNOWN",i=!0}if(s==="SCHEMA_MISMATCH"&&this.logger.error("The server has closed the connection because the client schema does not match the server schema. Please update your client schema."),!i){this.logger.warn("Connection will not automatically retry.");return}}const r=this.connect.bind(this);this.reconnectTimeout=setTimeout(r,this.reconnectTimeoutDelay),this.reconnectTimeoutDelay=Math.min(3e4,this.reconnectTimeoutDelay*2)}),this.transport.onError(n=>{this.logger.error("transport error",n),this.transport.close()}),this.transport.onConnectionChange(n=>{for(const r of this.connectionChangeHandlers)r(n)})}get connectionStatus(){return this.transport.connectionStatus}updateConnection(t){Object.keys(t).some(r=>this.syncOptions[r]!==t[r])&&(this.disconnect(),this.syncOptions={...this.syncOptions,...t},this.connect())}disconnect(){this.closeConnection({type:"MANUAL_DISCONNECT",retry:!1})}async handleErrorMessage(t){const{error:n,metadata:r}=t.payload;switch(this.logger.error(n.name,r),n.name){case"MalformedMessagePayloadError":case"UnrecognizedMessageTypeError":this.logger.warn("You sent a malformed message to the server. This might occur if your client is not up to date with the server. Please ensure your client is updated.");break;case"TriplesInsertError":const s=(r==null?void 0:r.failures)??[];for(const u of s){const{txId:o,error:a}=u;this.txFailures$.next({txId:o,error:a})}case"QuerySyncError":const i=r==null?void 0:r.queryKey;i&&this.disconnectQuery(i)}}sendTriples(t){const n=this.syncOptions.syncSchema?t:t.filter(({id:r})=>!r.includes("_metadata#_schema"));n.length!==0&&(n.forEach(r=>this.awaitingAck.add(JSON.stringify(r.timestamp))),this.sendMessage({type:"TRIPLES",payload:{triples:n}}))}sendMessage(t){this.transport.sendMessage(t),this.logger.debug("sent",t);for(const n of this.messageSentSubscribers)n(t)}async retry(t){const n=JSON.parse(t),r=await this.db.tripleStore.setStorageScope(["outbox"]).findByClientTimestamp(await this.db.getClientId(),"eq",n);r.length>0&&this.sendTriples(r)}async rollback(t){const n=Array.isArray(t)?t:[t];await this.db.transact(async r=>{const s=r.storeTx.withScope({read:["outbox"],write:["outbox"]});for(const i of n){const u=JSON.parse(i),o=await s.findByClientTimestamp(await this.db.getClientId(),"eq",u);await s.deleteTriples(o)}},{skipRules:!0})}onConnectionStatusChange(t,n=!1){return this.connectionChangeHandlers.add(t),n&&t(this.transport.connectionStatus),()=>{this.connectionChangeHandlers.delete(t)}}closeConnection(t){this.transport&&this.transport.close(t)}resetReconnectTimeout(){clearTimeout(this.reconnectTimeout),this.reconnectTimeoutDelay=250}async syncQuery(t){try{const n=await this.getRemoteTriples(t);await this.db.transact(async r=>{await r.storeTx.withScope({read:["cache"],write:["cache"]}).insertTriples(n)},{skipRules:!0})}catch(n){throw n instanceof F?n:n instanceof Error?new V2(t,n.message):new V2(t,"An unknown error occurred.")}}async fetchQuery(t){var n;try{const r=await this.getRemoteTriples(t),s=Ac(r),i=(n=await this.db.getSchema())==null?void 0:n.collections;return new Map([...s].map(([u,o])=>[Yo(u),Gi(o.data,i)]))}catch(r){throw r instanceof F?r:r instanceof Error?new Ed(t,r.message):new Ed(t,"An unknown error occurred.")}}async getRemoteTriples(t){const n=await this.fetchFromServer("/queryTriples",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:t})});if(!n.ok){let r;try{r=await n.json()}catch{throw new Ed(t,`The server responded with an error: ${await n.text()}`)}const s=r.message??JSON.stringify(r);throw new Ed(t,s)}return await n.json()}fetchFromServer(t,n){if(!this.httpUri||!this.token){const r=[];throw this.httpUri||r.push("No server specified."),this.token||r.push("No token specified."),new Pne(r.join(" "))}return fetch(`${this.httpUri}${t}`,{...n,headers:{Authorization:`Bearer ${this.token}`,...n==null?void 0:n.headers}})}async getTriplesToSend(t){return(await t.findByEntity()).filter(n=>this.shouldSendTriple(n))}shouldSendTriple(t){return!this.awaitingAck.has(JSON.stringify(t.timestamp))&&(this.syncOptions.syncSchema||!t.id.includes("_metadata#_schema"))}}function vre(e,t){let n=!1,r=!1;function s(){r?(e(),r=!1,setTimeout(s,t)):n=!1}return function(){n?r=!0:(e(),n=!0,setTimeout(s,t))}}function xre(e,t){const n={collectionName:e,...t};return new Nr(n)}class Nr{constructor(t){R(this,"query");this.query=t}build(){return this.query}select(t){return new Nr({...this.query,select:t})}where(...t){return new Nr({...this.query,where:$i().where(this.query,...t)})}id(t){const n=[["id","=",t],...(this.query.where??[]).filter(r=>!Array.isArray(r)||r[0]!=="id")];return new Nr({...this.query,where:n})}order(...t){return new Nr({...this.query,order:$i().order(this.query,...t)})}after(t,n){return new Nr({...this.query,after:$i().after(this.query,t,n)})}include(t,n){return new Nr({...this.query,include:$i().include(this.query,t,n)})}limit(t){return new Nr({...this.query,limit:t})}vars(t){return new Nr({...this.query,vars:t})}entityId(t){return this.id(t)}syncStatus(t){return new Nr({...this.query,syncStatus:t})}}function Sre(e,t){const n={collectionName:e,...t};return new kr(n)}function _re(e){try{const t=JSON.parse(e);return F.fromJson(t)}catch{return new F(`Failed to parse remote error response: ${e}`)}}class Are{constructor(t){R(this,"options");this.options=t}async schema(){var t,n;return this.options.schema||await((n=(t=this.options).schemaFactory)==null?void 0:n.call(t))}updateOptions(t){this.options={...this.options,...t}}async sendRequest(t,n,r,s={isFile:!1}){if(!this.options.server)throw new F("No server url provided");if(!this.options.token)throw new F("No token provided");const i={Authorization:"Bearer "+this.options.token,"Content-Type":"application/json"},u=JSON.stringify(r);let o;s.isFile&&(o=new FormData,o.append("data",u),delete i["Content-Type"]);const a=await fetch(this.options.server+t,{method:n,headers:i,body:s.isFile?o:u});return a.ok?{data:await a.json(),error:void 0}:{data:void 0,error:_re(await a.text())}}async fetch(t){const{data:n,error:r}=await this.sendRequest("/fetch","POST",{query:t});if(r)throw r;return t3(t,n.result,await this.schema())}async queryTriples(t){const{data:n,error:r}=await this.sendRequest("/queryTriples","POST",{query:t});if(r)throw r;return n}async fetchOne(t){t={...t,limit:1};const{data:n,error:r}=await this.sendRequest("/fetch","POST",{query:t});if(r)throw r;const i=[...t3(t,n.result,await this.schema()).values()][0];return i||null}async fetchById(t,n){const r=this.query(t).id(n).build();return this.fetchOne(r)}async insert(t,n){var a;const r=await this.schema(),s=(a=r==null?void 0:r[t])==null?void 0:a.schema,i=s?Object.fromEntries(Object.entries(n).map(([c,l])=>[c,s.properties[c].convertJSToJSON(l,r)])):n,{data:u,error:o}=await this.sendRequest("/insert","POST",{collectionName:t,entity:i});if(o)throw o;return u}async bulkInsert(t){const n=await this.schema(),r=n?Object.fromEntries(Object.entries(t).map(([u,o])=>[u,o==null?void 0:o.map(a=>Object.fromEntries(Object.entries(a).map(([c,l])=>{var d;return[c,(d=n[u])==null?void 0:d.schema.properties[c].convertJSToJSON(l,n)]})))])):t,{data:s,error:i}=await this.sendRequest("/bulk-insert-file","POST",r,{isFile:!0});if(i)throw i;return s}async insertTriples(t){const{data:n,error:r}=await this.sendRequest("/insert-triples","POST",{triples:t});if(r)throw r;return n}async deleteTriples(t){const{data:n,error:r}=await this.sendRequest("/delete-triples","POST",{entityAttributes:t});if(r)throw r;return n}async update(t,n,r){var m;const s=await this.schema();(m=s==null?void 0:s[t])==null||m.schema;const i=this.query(t).id(n).build(),u=await this.queryTriples(i),o=Ba(u,rn(t,n)),a=dn(o==null?void 0:o.data),c=new WI(a),l=Yh(c,a,s,t);await r(l);const h=c.getTuples().map(y=>y[1]===void 0?["delete",y[0]]:["set",y[0],y[1]]),{data:f,error:p}=await this.sendRequest("/update","POST",{collectionName:t,entityId:n,patches:h});if(p)throw p;return f}async delete(t,n){const{data:r,error:s}=await this.sendRequest("/delete","POST",{collectionName:t,entityId:n});if(s)throw s;return r}query(t){return Sre(t)}}function t3(e,t,n){return new Map(t.map(r=>[r[0],Tre(e,r[1],n)]))}function Tre(e,t,n){var o;const{include:r,collectionName:s}=e,i=(o=n==null?void 0:n[s])==null?void 0:o.schema;return i?i.convertJSONToJS(t,n):t}class Ere{constructor(){this.keyToValue=new Map,this.valueToKey=new Map}set(t,n){this.keyToValue.set(t,n),this.valueToKey.set(n,t)}getByKey(t){return this.keyToValue.get(t)}getByValue(t){return this.valueToKey.get(t)}clear(){this.keyToValue.clear(),this.valueToKey.clear()}}class yN{constructor(t){this.generateIdentifier=t,this.kv=new Ere}register(t,n){this.kv.getByValue(t)||(n||(n=this.generateIdentifier(t)),this.kv.set(n,t))}clear(){this.kv.clear()}getIdentifier(t){return this.kv.getByValue(t)}getValue(t){return this.kv.getByKey(t)}}class Ore extends yN{constructor(){super(t=>t.name),this.classToAllowedProps=new Map}register(t,n){typeof n=="object"?(n.allowProps&&this.classToAllowedProps.set(t,n.allowProps),super.register(t,n.identifier)):super.register(t,n)}getAllowedProps(t){return this.classToAllowedProps.get(t)}}function Ire(e){if("values"in Object)return Object.values(e);const t=[];for(const n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t}function Nre(e,t){const n=Ire(e);if("find"in n)return n.find(t);const r=n;for(let s=0;s<r.length;s++){const i=r[s];if(t(i))return i}}function Va(e,t){Object.entries(e).forEach(([n,r])=>t(r,n))}function Qd(e,t){return e.indexOf(t)!==-1}function n3(e,t){for(let n=0;n<e.length;n++){const r=e[n];if(t(r))return r}}class Rre{constructor(){this.transfomers={}}register(t){this.transfomers[t.name]=t}findApplicable(t){return Nre(this.transfomers,n=>n.isApplicable(t))}findByName(t){return this.transfomers[t]}}const kre=e=>Object.prototype.toString.call(e).slice(8,-1),bN=e=>typeof e>"u",Cre=e=>e===null,sf=e=>typeof e!="object"||e===null||e===Object.prototype?!1:Object.getPrototypeOf(e)===null?!0:Object.getPrototypeOf(e)===Object.prototype,Sy=e=>sf(e)&&Object.keys(e).length===0,su=e=>Array.isArray(e),Dre=e=>typeof e=="string",Mre=e=>typeof e=="number"&&!isNaN(e),Pre=e=>typeof e=="boolean",jre=e=>e instanceof RegExp,uf=e=>e instanceof Map,of=e=>e instanceof Set,wN=e=>kre(e)==="Symbol",Lre=e=>e instanceof Date&&!isNaN(e.valueOf()),Fre=e=>e instanceof Error,r3=e=>typeof e=="number"&&isNaN(e),Bre=e=>Pre(e)||Cre(e)||bN(e)||Mre(e)||Dre(e)||wN(e),$re=e=>typeof e=="bigint",Ure=e=>e===1/0||e===-1/0,qre=e=>ArrayBuffer.isView(e)&&!(e instanceof DataView),Vre=e=>e instanceof URL,vN=e=>e.replace(/\./g,"\\."),Im=e=>e.map(String).map(vN).join("."),pl=e=>{const t=[];let n="";for(let s=0;s<e.length;s++){let i=e.charAt(s);if(i==="\\"&&e.charAt(s+1)==="."){n+=".",s++;continue}if(i==="."){t.push(n),n="";continue}n+=i}const r=n;return t.push(r),t};function ns(e,t,n,r){return{isApplicable:e,annotation:t,transform:n,untransform:r}}const xN=[ns(bN,"undefined",()=>null,()=>{}),ns($re,"bigint",e=>e.toString(),e=>typeof BigInt<"u"?BigInt(e):(console.error("Please add a BigInt polyfill."),e)),ns(Lre,"Date",e=>e.toISOString(),e=>new Date(e)),ns(Fre,"Error",(e,t)=>{const n={name:e.name,message:e.message};return t.allowedErrorProps.forEach(r=>{n[r]=e[r]}),n},(e,t)=>{const n=new Error(e.message);return n.name=e.name,n.stack=e.stack,t.allowedErrorProps.forEach(r=>{n[r]=e[r]}),n}),ns(jre,"regexp",e=>""+e,e=>{const t=e.slice(1,e.lastIndexOf("/")),n=e.slice(e.lastIndexOf("/")+1);return new RegExp(t,n)}),ns(of,"set",e=>[...e.values()],e=>new Set(e)),ns(uf,"map",e=>[...e.entries()],e=>new Map(e)),ns(e=>r3(e)||Ure(e),"number",e=>r3(e)?"NaN":e>0?"Infinity":"-Infinity",Number),ns(e=>e===0&&1/e===-1/0,"number",()=>"-0",Number),ns(Vre,"URL",e=>e.toString(),e=>new URL(e))];function og(e,t,n,r){return{isApplicable:e,annotation:t,transform:n,untransform:r}}const SN=og((e,t)=>wN(e)?!!t.symbolRegistry.getIdentifier(e):!1,(e,t)=>["symbol",t.symbolRegistry.getIdentifier(e)],e=>e.description,(e,t,n)=>{const r=n.symbolRegistry.getValue(t[1]);if(!r)throw new Error("Trying to deserialize unknown symbol");return r}),zre=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,Uint8ClampedArray].reduce((e,t)=>(e[t.name]=t,e),{}),_N=og(qre,e=>["typed-array",e.constructor.name],e=>[...e],(e,t)=>{const n=zre[t[1]];if(!n)throw new Error("Trying to deserialize unknown typed array");return new n(e)});function AN(e,t){return e!=null&&e.constructor?!!t.classRegistry.getIdentifier(e.constructor):!1}const TN=og(AN,(e,t)=>["class",t.classRegistry.getIdentifier(e.constructor)],(e,t)=>{const n=t.classRegistry.getAllowedProps(e.constructor);if(!n)return{...e};const r={};return n.forEach(s=>{r[s]=e[s]}),r},(e,t,n)=>{const r=n.classRegistry.getValue(t[1]);if(!r)throw new Error("Trying to deserialize unknown class - check https://github.com/blitz-js/superjson/issues/116#issuecomment-773996564");return Object.assign(Object.create(r.prototype),e)}),EN=og((e,t)=>!!t.customTransformerRegistry.findApplicable(e),(e,t)=>["custom",t.customTransformerRegistry.findApplicable(e).name],(e,t)=>t.customTransformerRegistry.findApplicable(e).serialize(e),(e,t,n)=>{const r=n.customTransformerRegistry.findByName(t[1]);if(!r)throw new Error("Trying to deserialize unknown custom value");return r.deserialize(e)}),Hre=[TN,SN,EN,_N],s3=(e,t)=>{const n=n3(Hre,s=>s.isApplicable(e,t));if(n)return{value:n.transform(e,t),type:n.annotation(e,t)};const r=n3(xN,s=>s.isApplicable(e,t));if(r)return{value:r.transform(e,t),type:r.annotation}},ON={};xN.forEach(e=>{ON[e.annotation]=e});const Gre=(e,t,n)=>{if(su(t))switch(t[0]){case"symbol":return SN.untransform(e,t,n);case"class":return TN.untransform(e,t,n);case"custom":return EN.untransform(e,t,n);case"typed-array":return _N.untransform(e,t,n);default:throw new Error("Unknown transformation: "+t)}else{const r=ON[t];if(!r)throw new Error("Unknown transformation: "+t);return r.untransform(e,n)}},Zo=(e,t)=>{const n=e.keys();for(;t>0;)n.next(),t--;return n.next().value};function IN(e){if(Qd(e,"__proto__"))throw new Error("__proto__ is not allowed as a property");if(Qd(e,"prototype"))throw new Error("prototype is not allowed as a property");if(Qd(e,"constructor"))throw new Error("constructor is not allowed as a property")}const Jre=(e,t)=>{IN(t);for(let n=0;n<t.length;n++){const r=t[n];if(of(e))e=Zo(e,+r);else if(uf(e)){const s=+r,i=+t[++n]==0?"key":"value",u=Zo(e,s);switch(i){case"key":e=u;break;case"value":e=e.get(u);break}}else e=e[r]}return e},_y=(e,t,n)=>{if(IN(t),t.length===0)return n(e);let r=e;for(let i=0;i<t.length-1;i++){const u=t[i];if(su(r)){const o=+u;r=r[o]}else if(sf(r))r=r[u];else if(of(r)){const o=+u;r=Zo(r,o)}else if(uf(r)){if(i===t.length-2)break;const a=+u,c=+t[++i]==0?"key":"value",l=Zo(r,a);switch(c){case"key":r=l;break;case"value":r=r.get(l);break}}}const s=t[t.length-1];if(su(r)?r[+s]=n(r[+s]):sf(r)&&(r[s]=n(r[s])),of(r)){const i=Zo(r,+s),u=n(i);i!==u&&(r.delete(i),r.add(u))}if(uf(r)){const i=+t[t.length-2],u=Zo(r,i);switch(+s==0?"key":"value"){case"key":{const a=n(u);r.set(a,r.get(u)),a!==u&&r.delete(u);break}case"value":{r.set(u,n(r.get(u)));break}}}return e};function Ay(e,t,n=[]){if(!e)return;if(!su(e)){Va(e,(i,u)=>Ay(i,t,[...n,...pl(u)]));return}const[r,s]=e;s&&Va(s,(i,u)=>{Ay(i,t,[...n,...pl(u)])}),t(r,n)}function Wre(e,t,n){return Ay(t,(r,s)=>{e=_y(e,s,i=>Gre(i,r,n))}),e}function Qre(e,t){function n(r,s){const i=Jre(e,pl(s));r.map(pl).forEach(u=>{e=_y(e,u,()=>i)})}if(su(t)){const[r,s]=t;r.forEach(i=>{e=_y(e,pl(i),()=>e)}),s&&Va(s,n)}else Va(t,n);return e}const Xre=(e,t)=>sf(e)||su(e)||uf(e)||of(e)||AN(e,t);function Kre(e,t,n){const r=n.get(e);r?r.push(t):n.set(e,[t])}function Yre(e,t){const n={};let r;return e.forEach(s=>{if(s.length<=1)return;t||(s=s.map(o=>o.map(String)).sort((o,a)=>o.length-a.length));const[i,...u]=s;i.length===0?r=u.map(Im):n[Im(i)]=u.map(Im)}),r?Sy(n)?[r]:[r,n]:Sy(n)?void 0:n}const NN=(e,t,n,r,s=[],i=[],u=new Map)=>{const o=Bre(e);if(!o){Kre(e,s,t);const f=u.get(e);if(f)return r?{transformedValue:null}:f}if(!Xre(e,n)){const f=s3(e,n),p=f?{transformedValue:f.value,annotations:[f.type]}:{transformedValue:e};return o||u.set(e,p),p}if(Qd(i,e))return{transformedValue:null};const a=s3(e,n),c=(a==null?void 0:a.value)??e,l=su(c)?[]:{},d={};Va(c,(f,p)=>{if(p==="__proto__"||p==="constructor"||p==="prototype")throw new Error(`Detected property ${p}. This is a prototype pollution risk, please remove it from your object.`);const m=NN(f,t,n,r,[...s,p],[...i,e],u);l[p]=m.transformedValue,su(m.annotations)?d[p]=m.annotations:sf(m.annotations)&&Va(m.annotations,(y,b)=>{d[vN(p)+"."+b]=y})});const h=Sy(d)?{transformedValue:l,annotations:a?[a.type]:void 0}:{transformedValue:l,annotations:a?[a.type,d]:d};return o||u.set(e,h),h};function RN(e){return Object.prototype.toString.call(e).slice(8,-1)}function i3(e){return RN(e)==="Array"}function Zre(e){if(RN(e)!=="Object")return!1;const t=Object.getPrototypeOf(e);return!!t&&t.constructor===Object&&t===Object.prototype}function ese(e,t,n,r,s){const i={}.propertyIsEnumerable.call(r,t)?"enumerable":"nonenumerable";i==="enumerable"&&(e[t]=n),s&&i==="nonenumerable"&&Object.defineProperty(e,t,{value:n,enumerable:!1,writable:!0,configurable:!0})}function Ty(e,t={}){if(i3(e))return e.map(s=>Ty(s,t));if(!Zre(e))return e;const n=Object.getOwnPropertyNames(e),r=Object.getOwnPropertySymbols(e);return[...n,...r].reduce((s,i)=>{if(i3(t.props)&&!t.props.includes(i))return s;const u=e[i],o=Ty(u,t);return ese(s,i,o,e,t.nonenumerable),s},{})}class Me{constructor({dedupe:t=!1}={}){this.classRegistry=new Ore,this.symbolRegistry=new yN(n=>n.description??""),this.customTransformerRegistry=new Rre,this.allowedErrorProps=[],this.dedupe=t}serialize(t){const n=new Map,r=NN(t,n,this,this.dedupe),s={json:r.transformedValue};r.annotations&&(s.meta={...s.meta,values:r.annotations});const i=Yre(n,this.dedupe);return i&&(s.meta={...s.meta,referentialEqualities:i}),s}deserialize(t){const{json:n,meta:r}=t;let s=Ty(n);return r!=null&&r.values&&(s=Wre(s,r.values,this)),r!=null&&r.referentialEqualities&&(s=Qre(s,r.referentialEqualities)),s}stringify(t){return JSON.stringify(this.serialize(t))}parse(t){return this.deserialize(JSON.parse(t))}registerClass(t,n){this.classRegistry.register(t,n)}registerSymbol(t,n){this.symbolRegistry.register(t,n)}registerCustom(t,n){this.customTransformerRegistry.register({name:n,...t})}allowErrorProps(...t){this.allowedErrorProps.push(...t)}}Me.defaultInstance=new Me;Me.serialize=Me.defaultInstance.serialize.bind(Me.defaultInstance);Me.deserialize=Me.defaultInstance.deserialize.bind(Me.defaultInstance);Me.stringify=Me.defaultInstance.stringify.bind(Me.defaultInstance);Me.parse=Me.defaultInstance.parse.bind(Me.defaultInstance);Me.registerClass=Me.defaultInstance.registerClass.bind(Me.defaultInstance);Me.registerSymbol=Me.defaultInstance.registerSymbol.bind(Me.defaultInstance);Me.registerCustom=Me.defaultInstance.registerCustom.bind(Me.defaultInstance);Me.allowErrorProps=Me.defaultInstance.allowErrorProps.bind(Me.defaultInstance);const Nm=["error","warn","info","debug"];class Tv{constructor(t){R(this,"onLog");R(this,"logScope");R(this,"levelIndex");this.logScope=t.scope,this.onLog=t.onLog??(()=>{}),this.level=t.level??"info",this.levelIndex=Nm.indexOf(this.level)}set level(t){this.levelIndex=Nm.indexOf(t)}get level(){return Nm[this.levelIndex]}constructLogObj(t,n,...r){const s={args:r.map(Me.serialize),scope:this.logScope,message:n,timestamp:Date.now(),level:t};return this.onLog(s),s}scope(t){return new Tv({scope:t,onLog:this.onLog,level:this.level})}info(t,...n){const r=this.constructLogObj("info",t,...n);this.levelIndex<2||console.info(`%c${r.scope}`,"color: #888",t,n)}warn(t,...n){const r=this.constructLogObj("warn",t,...n);this.levelIndex<1||console.warn(r.scope,t,n)}error(t,...n){const r=n.length===1&&n[0]instanceof F?n[0].toJSON():n,s=this.constructLogObj("error",t,...n);console.error(s.scope,s.message,r)}debug(t,...n){const r=this.constructLogObj("debug",t,...n);if(!(this.levelIndex<3)){if(r.scope==="sync"){if(r.message==="sent"){console.debug("%c OUT ","background: #228; color: #51acff",n[0].type,n[0].payload);return}if(r.message==="received"){console.debug("%c IN ","background: #ccc; color: #333",n[0].type,n[0].payload);return}}console.debug(`%c${r.scope}`,"color: rgba(255,255,200,0.5)",r.message,n)}}}const Eu=!0;function u3(e){const{syncStatus:t}=e;if(!t)return["cache","outbox"];switch(t){case"all":return["cache","outbox"];case"confirmed":return["cache"];case"pending":return["outbox"]}}function tse(e){if(typeof e=="object"&&("cache"in e||"outbox"in e)){if(!("cache"in e)||!("outbox"in e))throw new Error("Must define both outbox and client.");return e}if(e==="memory")return{cache:new Kh,outbox:new Kh};if(e==="indexeddb")return{cache:new py("triplit-cache"),outbox:new py("triplit-outbox")}}const nse="memory",rse={policy:"local-first"};class sse{constructor(t){R(this,"db");R(this,"syncEngine");R(this,"authOptions");R(this,"remote");R(this,"http");R(this,"defaultFetchOptions");R(this,"logger");R(this,"logs",[]);const{schema:n,token:r,claimsPath:s,serverUrl:i,syncSchema:u,transport:o,migrations:a,clientId:c,variables:l,storage:d,defaultQueryOptions:h,logger:f,logLevel:p="info"}=t??{};this.logger=f??new Tv({scope:"client",level:p,onLog:p==="debug"?x=>this.logs.push(x):()=>{}});const m=(t==null?void 0:t.autoConnect)??!0,y=new Cne("cache",c);this.authOptions={token:r,claimsPath:s};const b=n?{collections:n,version:0}:void 0;this.db=new iN({clock:y,schema:b,migrations:a?{definitions:a,scopes:["cache"]}:void 0,variables:l,sources:tse(d??nse),logger:this.logger.scope("db")}),this.defaultFetchOptions={fetch:rse,...h};const w={syncSchema:u,transport:o,logger:this.logger.scope("sync"),...i?o3(i):{}};if(this.http=this.remote=new Are({server:i,token:r,schemaFactory:async()=>{var x;return(x=await this.db.getSchema())==null?void 0:x.collections}}),this.db.onSchemaChange(x=>{this.http.updateOptions({schema:x==null?void 0:x.collections})}),this.authOptions.token){w.token=this.authOptions.token;const x=q2(this.authOptions.token,this.authOptions.claimsPath);this.db=this.db.withSessionVars({SESSION_USER_ID:x})}this.syncEngine=new wre(this,w),this.db.ready.then(()=>{m&&this.syncEngine.connect()})}async getSchema(){return wv(await this.db.getSchema())}async transact(t){this.logger.debug("transact START");const n=await this.db.transact(t,{skipRules:Eu,storeScope:{read:["outbox","cache"],write:["outbox"]}});return this.logger.debug("transact END",n),n}query(t){return xre(t)}async fetch(t,n){t=Rm(t);const r={...this.defaultFetchOptions.fetch,...n??{}};if(r.policy==="local-only")return this.fetchLocal(t,r);if(r.policy==="local-first"){const s=await this.fetchLocal(t,r);if(s.size>0)return s;try{await this.syncEngine.syncQuery(t)}catch(i){Id(i)}return this.fetchLocal(t,r)}if(r.policy==="remote-first"){try{await this.syncEngine.syncQuery(t)}catch(s){Id(s)}return this.fetchLocal(t,r)}if(r.policy==="remote-only")return this.syncEngine.fetchQuery(t);if(r.policy==="local-and-remote"){const s=r.timeout??0;return await Promise.race([this.syncEngine.syncQuery(t),new Promise(i=>setTimeout(i,s))]).catch(Id),this.fetchLocal(t,r)}throw new Mne(r.policy)}async fetchLocal(t,n){const r=u3(t);this.logger.debug("fetchLocal START",t,r);const s=await this.db.fetch(t,{scope:r,skipRules:Eu,...n??{}});return this.logger.debug("fetchLocal END",s),s}async fetchById(t,n,r){this.logger.debug("fetchById START",t,n,r);const s=this.query(t).id(n).build(),i=await this.fetchOne(s,r);return this.logger.debug("fetchById END",t,n,r),i}clear(t={}){return this.db.clear(t)}async fetchOne(t,n){t=Rm(t),t={...t,limit:1};const s=[...(await this.fetch(t,n)).values()][0];return s||null}async insert(t,n){this.logger.debug("insert START",t,n);const r=await this.db.insert(t,n,{skipRules:Eu,storeScope:{read:["outbox","cache"],write:["outbox"]}});return this.logger.debug("insert END",r),r}async update(t,n,r){this.logger.debug("update START",t,n);const s=await this.db.update(t,n,r,{skipRules:Eu,storeScope:{read:["outbox","cache"],write:["outbox"]}});return this.logger.debug("update END",s),s}async updateRaw(t,n,r){this.logger.debug("updateRaw START",t,n);const s=await this.db.transact(async i=>{await i.updateRaw(t,n,r)},{skipRules:!0,storeScope:{read:["outbox","cache"],write:["outbox"]}});return this.logger.debug("updateRaw END",s),s}async delete(t,n){this.logger.debug("delete START",t,n);const r=await this.db.delete(t,n,{skipRules:Eu,storeScope:{read:["outbox","cache"],write:["outbox"]}});return this.logger.debug("delete END",r),r}subscribe(t,n,r,s){let i=!1;const u={localOnly:!1,...s??{}};t=Rm(t);const o=u3(t);if(this.logger.debug("subscribe start",t,o),u.localOnly)try{return this.db.subscribe(t,y=>n(y,{hasRemoteFulfilled:!1}),r,{scope:o,skipRules:Eu,...u})}catch(y){return r?r(y):Id(y),()=>{}}let a=()=>{},c=()=>{},l=!1,d=null,h;const f=n,p=r;n=(y,b)=>{i||f(y,b)},r=p?y=>{i||p(y)}:void 0;const m=y=>{h=y,this.logger.debug("subscribe RESULTS",h),n(h,{hasRemoteFulfilled:l})};if(a=this.db.subscribe(t,m,r,{scope:o,skipRules:Eu,...u}),o.includes("cache")){const y=()=>{l=!0,d!==null&&clearTimeout(d),d=setTimeout(()=>{var b;m(h),(b=u.onRemoteFulfilled)==null||b.call(u)},250)};c=this.syncEngine.subscribe(t,y)}return()=>{i=!0,a(),c()}}subscribeWithPagination(t,n,r,s){const i={},u=t.limit;let o=(d,h)=>{n(d,{...h,hasNextPage:!1,hasPreviousPage:!1})};i.nextPage=()=>{console.warn("There is no limit set on the query, so nextPage() is a no-op")},i.prevPage=()=>{console.warn("There is no limit set on the query, so prevPage() is a no-op")};let a,c,l="forward";return t.limit&&(t={...t},t.limit=u+1+(t.after?1:0),o=(d,h)=>{var T,V,J;const f=(V=(T=t.order)==null?void 0:T[0])==null?void 0:V[0];if(!f)throw new F("No cursor attribute found in query order");let p=Array.from(d.entries());const m=p.at(0),y=!!t.after&&!!m&&rZ(t.after[0],[m[1][f],m[0]])>-1,b=d.size>=t.limit,w=l==="reversed"?b:y,x=l==="forward"?b:y;p=p.slice(y?1:0,b?-1:void 0);const v=p.at(0),A=p.at(u-1);a=v?[v[1][f],v[0]]:void 0,c=A?[A[1][f],A[0]]:void 0,l==="reversed"&&(p=p.reverse()),!w&&t.after?((J=i.unsubscribe)==null||J.call(i),t={...t},t.after=void 0,t.limit=u+1,l==="reversed"&&(t.order=km(t.order)),l="forward",i.unsubscribe=this.subscribe(t,o,r,s)):n(new Map(p),{...h,hasNextPage:x,hasPreviousPage:w})},i.nextPage=()=>{var d;(d=i.unsubscribe)==null||d.call(i),t={...t},l==="reversed"?(t.order=km(t.order),t.after=a?[a,!0]:void 0):(t.after||(t.limit=t.limit+1),t.after=c?[c,!0]:void 0),l="forward",i.unsubscribe=this.subscribe(t,o,r,s)},i.prevPage=()=>{var d;(d=i.unsubscribe)==null||d.call(i),t={...t},l==="forward"?(t.order=km(t.order),t.after=a?[a,!0]:void 0):t.after=c?[c,!0]:void 0,l="reversed",i.unsubscribe=this.subscribe(t,o,r,s)}),i.unsubscribe=this.subscribe(t,o,r,s),i}subscribeWithExpand(t,n,r,s){const i={};let u=(o,a)=>{n(o,{...a,hasMore:!1})};if(i.loadMore=()=>{console.warn("There is no limit set on the query, so loadMore is a no-op")},t.limit){const o=t.limit;t={...t},t.limit=t.limit+1,u=(a,c)=>{const l=a.size>=t.limit;let d=Array.from(a.entries());l&&(d=d.slice(0,-1)),n(new Map(d),{hasRemoteFulfilled:c.hasRemoteFulfilled,hasMore:l})},i.loadMore=a=>{var c;(c=i.unsubscribe)==null||c.call(i),t={...t},t.limit=(t.limit??1)+(a??o),i.unsubscribe=this.subscribe(t,u,r,s)}}return i.unsubscribe=this.subscribe(t,u,r,s),i}updateOptions(t){const{token:n,serverUrl:r}=t,s=t.hasOwnProperty("token"),i=t.hasOwnProperty("serverUrl");let u={};if(s){this.authOptions={...this.authOptions,token:n};const{claimsPath:o}=this.authOptions,a=n?q2(n,o):void 0;this.db=this.db.withSessionVars({SESSION_USER_ID:a}),u={...u,token:n}}if(i){const{server:o,secure:a}=r?o3(r):{server:void 0,secure:void 0};u={...u,server:o,secure:a}}(s||i)&&(this.syncEngine.updateConnection(u),this.http.updateOptions(u))}updateToken(t){this.updateOptions({token:t})}updateServerUrl(t){this.updateOptions({serverUrl:t})}onTxCommitRemote(...t){return this.syncEngine.onTxCommit(...t)}onTxFailureRemote(t,n){return this.syncEngine.onTxFailure(t,n)}onConnectionStatusChange(...t){return this.syncEngine.onConnectionStatusChange(...t)}connect(){return this.syncEngine.connect()}disconnect(){return this.syncEngine.disconnect()}get token(){return this.syncEngine.token}onSyncMessageReceived(...t){return this.syncEngine.onSyncMessageReceived(...t)}onSyncMessageSent(...t){return this.syncEngine.onSyncMessageSent(...t)}retry(...t){return this.syncEngine.retry(...t)}rollback(...t){return this.syncEngine.rollback(...t)}get connectionStatus(){return this.syncEngine.connectionStatus}isFirstTimeFetchingQuery(...t){return this.syncEngine.isFirstTimeFetchingQuery(...t)}}function Rm(e){return{id:Math.random().toString().slice(2),...e}}function o3(e){const t=new URL(e),n=t.protocol==="https:";return{server:t.host,secure:n}}function Id(e){e instanceof F?console.warn(e.toJSON()):console.warn(e)}function km(e){if(e)return e.map(t=>[t[0],t[1]==="ASC"?"DESC":"ASC"])}const ise={recipes:{schema:Ie.Schema({id:Ie.Id(),slug:Ie.String(),title:Ie.String(),cook_time:Ie.Number(),prep_time:Ie.Number(),serves:Ie.Number(),ingredients:Ie.Optional(Ie.String()),method_steps:Ie.Optional(Ie.String()),tags:Ie.Optional(Ie.String()),shortlisted:Ie.Optional(Ie.Boolean())})},tag_options:{schema:Ie.Schema({id:Ie.Id(),name:Ie.Optional(Ie.String()),options:Ie.Optional(Ie.String())})},plan:{schema:Ie.Schema({id:Ie.Id(),date:Ie.Number(),planned_meals:Ie.Optional(Ie.String())})}},Ss=new sse({storage:"indexeddb",schema:ise,serverUrl:"https://912d44e1-48a6-46b7-b6b9-7bc0fcd59a81.triplit.io",token:"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJ4LXRyaXBsaXQtdG9rZW4tdHlwZSI6ImFub24iLCJ4LXRyaXBsaXQtcHJvamVjdC1pZCI6IjkxMmQ0NGUxLTQ4YTYtNDZiNy1iNmI5LTdiYzBmY2Q1OWE4MSIsImlhdCI6MTcyMTU2ODg2OX0.mLTejtnhczt5RxdYK1cnnNbeQ7vevO5z7oQD23MJA6AIfiyYS9S5F1il5PcCyLwJyObGomOJE9qIJbfwoHsBzs1QQEg3HOjgMBJAIRhbaWhOJn1BZZ8h2eaZWKpwBQuUpHi37-T0uTnABP7WUTZEFshHWEv5JlUYczehBvUFA8AulNjZDJJrJuEqHNgL3e0OaUZbstWArftiJpoR0htiZ7_HzFRHm5nivgsVO5zSBVeURM5Eygf67N6y6krLxK7jNHIjP0EbFu2DvC2nB9wrfjebChf-x6FRDFZpnMsrMuGn9-gWoyTapMjm-q4br1Sns7oIFbKKhJI1-9LzqifwYaflWrwLEroXvkoG9fJwJConmEPE9HWR20s_75wH7B7-g3ihgHP9I820qQ1WpWuVCF6xIIG3_RwDgt-T_b08HPMAQdo5H5fHxcxSeY-pSua1TUKFeDZjKNdtZhexWfHxAGJP9gKdS2sTY4pz43dRKvIahUGRsoQ5jOMv0jONsT2z8iMnXPsmOiyLZd36Ba6FKaltJBgpoM22GkdsMFd8OIYAa-ROjgKkF1ku2WX78V53AkdAEika26-zdNv3LAK1b40tebvt58imnmR2H2PPx62wAWgsXTTuMSVhm4dMDb1zeKGXOsQCHkNUw-DsgY-3bvj0-TMG8WPU3GPpvBIj_l8",logLevel:"debug"});typeof window<"u"&&(window.client=Ss);async function use(){const e=Ss.query("recipes").build(),t=await Ss.fetch(e);return console.log("do_get_recipes result: ",t),t}async function ose(){const e=Ss.query("tag_options").build(),t=await Ss.fetch(e);return console.log("do_get_tagoptions result: ",t),t}async function ase(e){const t={...e.id!==""?{id:e.id}:{},slug:e.slug,title:e.title,cook_time:e.cook_time,prep_time:e.prep_time,serves:e.serves,tags:e.tags,ingredients:e.ingredients,method_steps:e.method_steps};return console.log("do_save_recipe obj: ",t),await Ss.insert("recipes",t)}async function cse(e,t){console.log(Ss);const n=Ss.query("plan").where([["date",">=",e],["date","<=",t]]).build(),r=await Ss.fetch(n,{policy:"local-and-remote"});return console.log("do_get_plan result: ",r),r}async function lse(e){return await Ss.transact(async t=>{for(const n of e){console.log("do_save_plan day: ",{id:n.date.toString(),...n});const r=await t.insert("plan",{id:n.date.toString(),...n});console.log("do_save_plan result: ",r)}}),e}class kN extends S{constructor(t){super(),this[0]=t}}class fse extends S{constructor(t){super(),this[0]=t}}let dse=class extends S{constructor(t,n){super(),this.recipes=t,this.tag_options=n}};class CN extends S{constructor(t,n,r,s,i,u,o,a,c){super(),this.id=t,this.title=n,this.slug=r,this.cook_time=s,this.prep_time=i,this.serves=u,this.tags=o,this.ingredients=a,this.method_steps=c}}class hse extends S{constructor(t,n,r){super(),this.id=t,this.name=n,this.options=r}}class gl extends S{constructor(t){super(),this.step_text=t}}class aa extends S{constructor(t,n){super(),this.name=t,this.value=n}}class ep extends S{constructor(t,n,r,s){super(),this.name=t,this.ismain=n,this.quantity=r,this.units=s}}function pse(e,t){return t.withFields({recipes:(()=>{let n=t.recipes,r=K(n,u=>[u.id,u]),s=gn(r),i=Ck(s,gn(g([[e.id,e]])));return Ji(i)})()})}function gse(e){return mo(g([["name",Br(Fe(e.name,""))],["quantity",Br(Fe(e.quantity,""))],["units",Br(Fe(e.units,""))],["ismain",Br(t_(Fe(e.ismain,!1)))]]))}function mse(e){let n=pn(e),r=K(n,s=>[M(s[0]),gse(s[1])]);return mo(r)}function yse(e){return mo(g([["step_text",Br(e.step_text)]]))}function bse(e){let n=pn(e),r=K(n,s=>[M(s[0]),yse(s[1])]);return mo(r)}function wse(e){return mo(g([["name",Br(e.name)],["value",Br(e.value)]]))}function vse(e){let n=pn(e),r=K(n,s=>[M(s[0]),wse(s[1])]);return mo(r)}function xse(e){let t=r=>{let s=ye(r),i=Q(s,u=>hf(u,Py(ye)));return Ef(i,Of)};return V3((r,s,i)=>new hse(r,s,i),Fr("id",ye),ke("name",ye),ke("options",t))(e)}function Ey(){return mn(e=>{let t=ose(),n=$r(t,Wi),r=$r(n,Ga(ye,xse)),s=$r(r,u=>Q(u,Ji)),i=$r(s,u=>Q(u,o=>new fse(o)));_p(i,u=>Q(u,e))})}function DN(e){let t=ye(e);return Q(t,n=>n==="True"||n==="true"?!0:n==="1")}function Ev(e){let n=ye(e),r=Q(n,fr);return Dy(r,s=>po(s,i=>g([new gs("a stringed int","something else",g([""]))])))}function Sse(e){let t=Ga(Ev,_R((s,i,u,o)=>new ep(s,i,u,o),Fr("name",ye),Fr("ismain",DN),Fr("quantity",ye),Fr("units",ye))),n=ye(e),r=Q(n,s=>hf(s,t));return Ef(r,Of)}function _se(e){let t=Ga(Ev,q3((s,i)=>new aa(s,i),ke("name",ye),ke("value",ye))),n=ye(e),r=Q(n,s=>hf(s,t));return Ef(r,Of)}function Ase(e){let t=Ga(Ev,SR(s=>new gl(s),ke("step_text",ye))),n=ye(e),r=Q(n,s=>hf(s,t));return Ef(r,Of)}function Tse(e){return AR((n,r,s,i,u,o,a,c,l)=>new CN(n,r,s,i,u,o,a,c,l),Fr("id",ye),ke("title",ye),ke("slug",ye),ke("cook_time",el),ke("prep_time",el),ke("serves",el),Fr("tags",_se),Fr("ingredients",Sse),Fr("method_steps",Ase))(e)}function MN(){return mn(e=>{let t=use(),n=$r(t,Ga(ye,Tse)),r=$r(n,i=>Q(i,Ji)),s=$r(r,i=>Q(i,u=>new kN(u)));_p(s,i=>Q(i,e))})}class PN extends S{constructor(t){super(),this[0]=t}}class jN extends S{}class LN extends S{constructor(t){super(),this[0]=t}}class Ov extends S{constructor(t){super(),this.url=t}}function Ese(e,t){if(Wi(t),t instanceof PN){let n=t[0];return[new Ov(n),j()]}else return t instanceof jN?[e,mn(n=>{let r=f$(e.url),s=$r(r,i=>Q(i,u=>new LN(u)));_p(s,i=>Q(i,n))})]:[e,j()]}function Ose(e){return qn(g([eo(g([_("grid grid-cols-12 col-start-[main-start] grid-rows-[fit-content(65px)] gap-y-2")]),g([au("Import Recipe","underline-yellow"),yo(g([_("flex flex-col justify-start items-middle col-span-1 col-start-12 text-base md:text-lg mt-4")]),g([wt(g([bt("/"),_("text-center")]),g([tn("🏠")])),Hr(g([ut("submit"),_("text-center"),me("form","import-recipe-form")]),g([tn("📩")]))])),Jy(g([ze("import-recipe-form"),_("subgrid-cols grid-rows-[1fr,1fr,5fr] gap-y-2 col-span-full"),eb(new jN)]),g([Jt(g([_("col-span-full my-1 mb-6 pt-1 pb-2 px-2 mr-1 border-ecru-white-950 border-[1px] rounded-[1px] sm:row-span-2 sm:col-span-5 [box-shadow:1px_1px_0_#fce68b]")]),g([Sl(g([_("mx-2 px-1 font-mono italic")]),g([tn("URL to import")])),P(g([_("justify-self-start col-span-4")]),g([jr(g([On("url"),ut("url"),_("input-base input-outline input-focus text-base w-full box-border"),Tt(e.url),Wt(t=>new PN(t)),ze("url")]))]))]))]))]))]))}function Ise(e,t){let n=gn(t);return r=>fn(e(r),s=>{let i=Tn(n,s);if(i.isOk()){let u=i[0];return u(r)}else{let u=(()=>{let a=e_(n),c=K(a,Zd);return ba(c," | ")})(),o=(()=>{let a=e(zr(void 0));return!a.isOk()&&a[0].atLeastLength(1)&&a[0].head instanceof gs?a[0].head.path:g([])})();return new ne(g([new gs(u,Zd(e),o)]))}})}function Nse(e){return Ise(ye,K(e,t=>U8(t,n=>r=>new H(n))))}class ed extends S{constructor(t,n){super(),this.date=t,this.planned_meals=n}}class Rse extends S{constructor(t,n){super(),this.date=t,this.planned_meals=n}}class FN extends S{constructor(t,n,r){super(),this.for=t,this.title=n,this.complete=r}}class BN extends S{constructor(t,n,r){super(),this[0]=t,this[1]=n,this[2]=r}}class $N extends S{constructor(t,n,r){super(),this[0]=t,this[1]=n,this[2]=r}}class kse extends S{constructor(t){super(),this[0]=t}}class Iv extends S{constructor(t,n){super(),this[0]=t,this[1]=n}}class Cse extends S{constructor(t){super(),this[0]=t}}class UN extends S{}let tp=class extends S{constructor(t,n,r){super(),this.plan_week=t,this.recipe_list=n,this.start_date=r}};class Ec extends S{}class Nv extends S{}function Dse(e,t,n,r){return Mk(e,t,s=>new ed(t,(()=>{if(s instanceof k){let i=s[0];if(r===""){let u=i.planned_meals;return ma(u,o=>!Le(o.for,n))}else{let u=i.planned_meals;return K(u,o=>Le(o.for,n)?o.withFields({title:new k(r)}):o)}}else return g([new FN(n,new k(r),new X)])})()))}function Mse(e,t,n,r){return Si(e,t,s=>new ed(t,(()=>{let i=s.planned_meals;return K(i,u=>Le(u.for,n)?u.withFields({complete:new k(r)}):u)})()))}function qN(e){let t=(()=>{let c=pn(e),l=K(c,d=>$8(d,h=>Ti(h)));return gn(l)})(),n=(()=>{let c=Tn(t,new Sa),l=Q(c,d=>_i(d.date));return Se(l,"")})(),r=(()=>{let c=Tn(t,new bf),l=Q(c,d=>_i(d.date));return Se(l,"")})(),s=(()=>{let c=Tn(t,new wf),l=Q(c,d=>_i(d.date));return Se(l,"")})(),i=(()=>{let c=Tn(t,new vf),l=Q(c,d=>_i(d.date));return Se(l,"")})(),u=(()=>{let c=Tn(t,new xf),l=Q(c,d=>_i(d.date));return Se(l,"")})(),o=(()=>{let c=Tn(t,new Sf),l=Q(c,d=>_i(d.date));return Se(l,"")})(),a=(()=>{let c=Tn(t,new Yy),l=Q(c,d=>_i(d.date));return Se(l,"")})();return qn(g([P(g([_("subgrid-cols md:col-start-1 row-start-1 subgrid-rows col-span-full md:row-span-full md:col-span-1 sticky left-[-.25rem] top-[-.25rem] outline outline-1 outline-ecru-white-50 border  border-ecru-white-50 bg-ecru-white-50 min-h-full min-w-full")]),g([P(g([_("md:row-start-2 md:col-start-1 font-mono col-start-2 flex justify-center items-center border border-ecru-white-950 [box-shadow:1px_1px_0_#ff776a] sticky left-0 top-0 bg-ecru-white-50")]),g([rs(g([_("mx-2 ")]),g([G("Lunch")]))])),P(g([_("md:row-start-3 md:col-start-1 font-mono col-start-3 flex justify-center items-center border border-ecru-white-950  [box-shadow:1px_1px_0_#ff776a] sticky left-0 top-0 bg-ecru-white-50")]),g([rs(g([_("mx-2 ")]),g([G("Dinner")]))]))])),P(g([_("md:col-start-2 md:row-start-1 font-mono row-start-2 border border-ecru-white-950 flex justify-center items-center shadow-orange")]),g([rs(g([En(g([["--shortMon","'Mon "+n+"'"],["--longMon","'Monday "+n+"'"]])),_("text-center  before:content-[var(--shortMon)] before:sm:content-[var(--longMon)]")]),g([]))])),P(g([_("md:col-start-3 md:row-start-1 font-mono row-start-3  border border-ecru-white-950   flex justify-center items-center [box-shadow:1px_1px_0_#ff776a]")]),g([rs(g([En(g([["--shortTue","'Tue "+r+"'"],["--longTue","'Tuesday "+r+"'"]])),_("text-center  before:content-[var(--shortTue)] before:sm:content-[var(--longTue)]")]),g([]))])),P(g([_("md:col-start-4 md:row-start-1 font-mono row-start-4  border border-ecru-white-950   flex justify-center items-center [box-shadow:1px_1px_0_#ff776a]")]),g([rs(g([En(g([["--shortWed","'Wed "+s+"'"],["--longWed","'Wednesday "+s+"'"]])),_("text-center  before:content-[var(--shortWed)] before:sm:content-[var(--longWed)]")]),g([]))])),P(g([_("md:col-start-5 md:row-start-1 font-mono row-start-5  border border-ecru-white-950   flex justify-center items-center [box-shadow:1px_1px_0_#ff776a]")]),g([rs(g([En(g([["--shortThu","'Thu "+i+"'"],["--longThu","'Thursday "+i+"'"]])),_("text-center  before:content-[var(--shortThu)] before:sm:content-[var(--longThu)]")]),g([]))])),P(g([_("md:col-start-6 md:row-start-1 font-mono row-start-6  border border-ecru-white-950   flex justify-center items-center [box-shadow:1px_1px_0_#ff776a]")]),g([rs(g([En(g([["--shortFri","'Fri "+u+"'"],["--longFri","'Friday "+u+"'"]])),_("text-center  before:content-[var(--shortFri)] before:sm:content-[var(--longFri)]")]),g([]))])),P(g([_("md:col-start-7 md:row-start-1 font-mono row-start-7  border border-ecru-white-950  flex justify-center items-center [box-shadow:1px_1px_0_#ff776a]")]),g([rs(g([En(g([["--shortSat","'Sat "+o+"'"],["--longSat","'Saturday "+o+"'"]])),_("text-center  before:content-[var(--shortSat)] before:sm:content-[var(--longSat)]")]),g([]))])),P(g([_("md:col-start-8 md:row-start-1 font-mono row-start-8 border border-ecru-white-950   flex justify-center items-center [box-shadow:1px_1px_0_#ff776a]")]),g([rs(g([En(g([["--shortSun","'Sun "+a+"'"],["--longSun","'Sunday "+a+"'"]])),_("text-center  before:content-[var(--shortSun)] before:sm:content-[var(--longSun)]")]),g([]))]))]))}function Pse(e,t){let n=t.title,r=t.complete;return P(g([_("flex justify-center w-11/12 h-11/12 flex-col justify-between m-1 sm:m-2 overflow-hidden")]),g([rs(g([_("text-xl text-wrap"),En(g([["text-decoration",wa(Fe(r,!1),"line-through",()=>"none")]]))]),g([G(Fe(n,""))])),P(g([_("flex justify-end place-self-start sm:mx-2")]),g([jr(g([ut("checkbox"),B_(s=>new $N(e,t.for,s)),s_(Fe(t.complete,!1))]))]))]))}function a3(e,t,n){let r=n instanceof Ec?"col-start-2 md:row-start-2":"col-start-3 md:row-start-3",s=wa(Le(e.planned_meals,g([])),Nn(),()=>{let i=ma(e.planned_meals,o=>Le(o.for,n)),u=K(i,o=>Pse(e.date,o));return qn(u)});return P(g([_(`flex outline-1 outline-ecru-white-950 outline outline-offset-[-1px]
                row-start-[var(--dayPlacement)]
                md:col-start-[var(--dayPlacement)] 
                snap-start scroll-p-[-40px] `+r),En(g([["--dayPlacement",M(t+2)]]))]),g([s]))}function jse(e){let t=Sp(e.start_date,new _f),n=s=>Se(Tn(e.plan_week,s),new ed(s,g([]))),r=gn(g([[t,n(t)],[_e(t,1,new qe),n(_e(t,1,new qe))],[_e(t,2,new qe),n(_e(t,2,new qe))],[_e(t,3,new qe),n(_e(t,3,new qe))],[_e(t,4,new qe),n(_e(t,4,new qe))],[_e(t,5,new qe),n(_e(t,5,new qe))],[_e(t,6,new qe),n(_e(t,6,new qe))]]));return qn(g([eo(g([_("grid grid-cols-12 col-start-[main-start] grid-rows-[fit-content(65px)] gap-y-2")]),g([au("Week of "+NA(t),"underline-orange"),yo(g([_("flex flex-col justify-start items-middle col-span-1 col-start-12 text-base md:text-lg mt-4")]),g([wt(g([bt("/"),_("text-center")]),g([G("🏠")])),wt(g([bt("/planner/edit"),_("text-center")]),g([G("✏️")])),P(g([_("flex flex-row justify-evenly px-1")]),g([wt(g([bt("/planner?date="+oh(_e(t,-1,new _a))),_("text-center")]),g([G("⬅️")])),wt(g([bt("/planner?date="+oh(_e(t,1,new _a))),_("text-center")]),g([G("➡️")]))]))]))])),eo(g([ze("active-week"),_(`mb-2 text-sm p-1 min-h-[70vh]
            overflow-x-hidden overflow-y-scroll md:overflow-x-scroll md:overflow-y-hidden snap-mandatory snap-always
            col-span-full row-start-2 grid gap-1 
            grid-cols-[minmax(0,15%)_minmax(0,45%)_minmax(0,45%)] grid-rows-[fit-content(10%)_repeat(7,20%)]
            snap-y scroll-pt-[9%]
            md:col-start-[full-start] md:col-end-[full-end]
            md:text-base md:grid-cols-[fit-content(10%)_repeat(7,_15vw)] md:grid-rows-[fit-content(20%)_minmax(20vh,1fr)_minmax(20vh,1fr)]
            md:snap-x md:scroll-pl-[9%] md:scroll-pt-0
            xl:grid-cols-[fit-content(10%)_repeat(7,_11.5vw)]`)]),g([qN(r),qn((()=>{let s=Ji(r),i=gr(s,(u,o)=>El(u.date,o.date));return Yu(i,(u,o)=>a3(u,o,new Ec))})()),qn((()=>{let s=Ji(r),i=gr(s,(u,o)=>El(u.date,o.date));return Yu(i,(u,o)=>a3(u,o,new Nv))})())]))]))}function Cm(e,t,n,r){return P(g([_("flex justify-center w-11/12 h-11/12 flex-col justify-between m-1 sm:m-2 overflow-hidden")]),g([CM(g([DM(r),MM(n),Jr("typeahead-change",s=>{let i=s,u=ke("detail",ye)(i);return Q(u,o=>new BN(e,t,o))})]))]))}function c3(e,t,n,r){let s=n instanceof Ec?"col-start-2 md:row-start-2":"col-start-3 md:row-start-3",i=wa(Le(e.planned_meals,g([])),Cm(e.date,n,"",r),()=>wa(Le(ma(e.planned_meals,u=>Le(u.for,n)),g([])),Cm(e.date,n,"",r),()=>{let u=ma(e.planned_meals,a=>Le(a.for,n)),o=K(u,a=>Cm(e.date,n,Fe(a.title,""),r));return qn(o)}));return P(g([_(`flex outline-1 outline-ecru-white-950 outline outline-offset-[-1px]
                row-start-[var(--dayPlacement)]
                md:col-start-[var(--dayPlacement)] 
                snap-start scroll-p-[-40px] `+s),En(g([["--dayPlacement",M(t+2)]]))]),g([i]))}function Lse(e){let t=Sp(e.start_date,new _f),n=s=>Se(Tn(e.plan_week,s),new ed(s,g([]))),r=gn(g([[t,n(t)],[_e(t,1,new qe),n(_e(t,1,new qe))],[_e(t,2,new qe),n(_e(t,2,new qe))],[_e(t,3,new qe),n(_e(t,3,new qe))],[_e(t,4,new qe),n(_e(t,4,new qe))],[_e(t,5,new qe),n(_e(t,5,new qe))],[_e(t,6,new qe),n(_e(t,6,new qe))]]));return qn(g([eo(g([_("grid grid-cols-12 col-start-[main-start] grid-rows-[fit-content(65px)] gap-y-2")]),g([au("Week of "+NA(t),"underline-orange"),yo(g([_("flex flex-col justify-start items-middle col-span-1 col-start-12 text-base md:text-lg mt-4")]),g([wt(g([bt("/"),_("text-center")]),g([G("🏠")])),P(g([_("flex flex-row justify-evenly px-1")]),g([wt(g([bt("/planner/"),_("text-center")]),g([G("❎")])),Hr(g([ut("submit"),me("form","active-week"),_("")]),g([G("💾")]))])),P(g([_("flex flex-row justify-evenly px-1")]),g([wt(g([bt("/planner/edit?date="+oh(_e(t,-1,new _a))),_("text-center")]),g([G("⬅️")])),wt(g([bt("/planner/edit?date="+oh(_e(t,1,new _a))),_("text-center")]),g([G("➡️")]))]))]))])),Jy(g([ze("active-week"),_(`mb-2 text-sm p-1 min-h-[70vh]
            overflow-x-hidden overflow-y-scroll md:overflow-x-scroll md:overflow-y-hidden snap-mandatory snap-always  
            col-span-full row-start-2 grid gap-1 
            grid-cols-[minmax(0,15%)_minmax(0,45%)_minmax(0,45%)] grid-rows-[fit-content(10%)_repeat(7,20%)]
            snap-y scroll-pt-[9%]
            md:col-start-[full-start] md:col-end-[full-end]
            md:text-base md:grid-cols-[fit-content(10%)_repeat(7,_15vw)] md:grid-rows-[fit-content(20%)_minmax(20vh,1fr)_minmax(20vh,1fr)]
            md:snap-x md:scroll-pl-[9%] md:scroll-pt-0
            xl:grid-cols-[fit-content(10%)_repeat(7,_11.5vw)]`),eb(new UN)]),g([qN(r),qn((()=>{let s=Ji(r),i=gr(s,(u,o)=>El(u.date,o.date));return Yu(i,(u,o)=>c3(u,o,new Ec,e.recipe_list))})()),qn((()=>{let s=Ji(r),i=gr(s,(u,o)=>El(u.date,o.date));return Yu(i,(u,o)=>c3(u,o,new Nv,e.recipe_list))})())]))]))}function Fse(e){let n=el(e);return Q(n,r=>C_(r))}function Bse(e){let n=ye(e),r=Q(n,fr);return Q(r,s=>C_(Se(s,0)))}function $se(e){let t=Py(V3((s,i,u)=>new FN(s,i,u),ke("for",Nse(g([["lunch",new Ec],["dinner",new Nv]]))),Fr("title",ye),Fr("complete",DN))),n=ye(e),r=Q(n,s=>hf(s,t));return Ef(r,Of)}function Use(e){return q3((n,r)=>new ed(n,r),ke("date",Fse),ke("planned_meals",$se))(e)}function VN(e){return mn(t=>{let n=cse(zm(e),zm(_e(e,1,new _a))),r=$r(n,Ga(Bse,Use)),s=$r(r,i=>Q(i,u=>new Iv(u,e)));_p(s,i=>Q(i,t))})}function qse(e){return mo(g([["title",Br(Fe(e.title,""))],["for",Br(e.for instanceof Ec?"lunch":"dinner")],["complete",Br(t_(Fe(e.complete,!1)))]]))}function Vse(e){return r5(e,qse)}function zse(e){return new Rse(zm(e.date),Nd(Vse(e.planned_meals)))}function l3(e){return mn(t=>{lse(K(Ji(e),zse));let n=(()=>{let i=e_(e),u=gr(i,El);return x3(u)})(),r=Se(n,Ei()),s=new Cse(r);return t(s)})}function Hse(e,t){if(Wi(t),t instanceof BN){let n=t[0],r=t[1],s=t[2],i=Dse(e.plan_week,n,r,s);return[e.withFields({plan_week:i}),j()]}else if(t instanceof $N){let n=t[0],r=t[1],s=t[2],i=Mse(e.plan_week,n,r,s);return[e.withFields({plan_week:i}),l3(i)]}else{if(t instanceof UN)return[e,l3(e.plan_week)];if(t instanceof kse){let n=t[0];return[e.withFields({start_date:n}),VN(n)]}else return t instanceof Iv?[e,j()]:[e,j()]}}function Er(e,t){return t===""?e:W(t,e)}function Gse(e){return Yd(e)!==e}function Jse(e,t,n,r){for(;;){let s=e,i=t,u=n,o=r;if(s.hasLength(0)&&u==="")return Pt(o);if(s.hasLength(0))return Pt(Er(o,u));if(s.atLeastLength(1)&&s.head===`
`)e=s.tail,t=!1,n="",r=Er(o,u);else if(s.atLeastLength(1)&&s.head==="	")e=s.tail,t=!1,n="",r=Er(o,u);else if(s.atLeastLength(1)&&s.head==="!")e=s.tail,t=!1,n="",r=Er(o,u);else if(s.atLeastLength(1)&&s.head==="?")e=s.tail,t=!1,n="",r=Er(o,u);else if(s.atLeastLength(1)&&s.head==="#")e=s.tail,t=!1,n="",r=Er(o,u);else if(s.atLeastLength(1)&&s.head===".")e=s.tail,t=!1,n="",r=Er(o,u);else if(s.atLeastLength(1)&&s.head==="-")e=s.tail,t=!1,n="",r=Er(o,u);else if(s.atLeastLength(1)&&s.head==="_")e=s.tail,t=!1,n="",r=Er(o,u);else if(s.atLeastLength(1)&&s.head===" ")e=s.tail,t=!1,n="",r=Er(o,u);else{let a=s.head,c=s.tail,l=Gse(a);l?l&&i?(e=c,t=i,n=u+a,r=o):(e=c,t=!0,n=a,r=Er(o,u)):(e=c,t=!1,n=u+a,r=o)}}}function Wse(e){let n=df(e);return Jse(n,!1,"",g([]))}function Qse(e){let n=Wse(e),r=ba(n,"-");return Yd(r)}class zN extends S{constructor(t){super(),this[0]=t}}class HN extends S{constructor(t){super(),this[0]=t}}class GN extends S{constructor(t){super(),this[0]=t}}class JN extends S{constructor(t){super(),this[0]=t}}class WN extends S{constructor(t){super(),this[0]=t}}class QN extends S{constructor(t){super(),this[0]=t}}class XN extends S{constructor(t){super(),this[0]=t}}class KN extends S{constructor(t){super(),this[0]=t}}class YN extends S{constructor(t,n){super(),this[0]=t,this[1]=n}}class ZN extends S{constructor(t,n){super(),this[0]=t,this[1]=n}}class e8 extends S{constructor(t,n){super(),this[0]=t,this[1]=n}}class t8 extends S{constructor(t,n){super(),this[0]=t,this[1]=n}}class n8 extends S{constructor(t,n){super(),this[0]=t,this[1]=n}}class r8 extends S{constructor(t,n){super(),this[0]=t,this[1]=n}}class s8 extends S{constructor(t){super(),this[0]=t}}class i8 extends S{constructor(t){super(),this[0]=t}}class u8 extends S{constructor(t,n){super(),this[0]=t,this[1]=n}}class o8 extends S{constructor(t){super(),this[0]=t}}class a8 extends S{constructor(t){super(),this[0]=t}}class c8 extends S{constructor(t){super(),this[0]=t}}class l8 extends S{constructor(t){super(),this[0]=t}}class Xse extends S{constructor(t,n,r,s,i,u,o,a,c){super(),this.id=t,this.title=n,this.slug=r,this.cook_time=s,this.prep_time=i,this.serves=u,this.tags=o,this.ingredients=a,this.method_steps=c}}function Kse(e){let t=new Xse(Fe(e.id,""),e.title,e.slug,e.cook_time,e.prep_time,e.serves,(()=>{let n=e.tags,r=hg(n,vse);return Nd(r)})(),(()=>{let n=e.ingredients,r=hg(n,mse);return Nd(r)})(),(()=>{let n=e.method_steps,r=hg(n,bse);return Nd(r)})());return mn(n=>{ase(t);let r=new l8(e);return n(r)})}function Yse(e,t){if(t instanceof zN){let n=t[0];if(e instanceof k){let r=e[0];return[new k(r.withFields({title:n})),j()]}else return[e,j()]}else if(t instanceof HN){let n=t[0];if(e instanceof k){let r=e[0];return[new k(r.withFields({prep_time:(()=>{let i=fr(n),u=Q(i,o=>o*60+Ln(r.prep_time,60));return Se(u,0)})()})),j()]}else return[e,j()]}else if(t instanceof GN){let n=t[0];if(e instanceof k){let r=e[0];return[new k(r.withFields({prep_time:(()=>{let i=fr(n),u=Q(i,o=>r.prep_time-Ln(r.prep_time,60)+o);return Se(u,0)})()})),j()]}else return[e,j()]}else if(t instanceof JN){let n=t[0];if(e instanceof k){let r=e[0];return[new k(r.withFields({cook_time:(()=>{let i=fr(n),u=Q(i,o=>o*60+Ln(r.cook_time,60));return Se(u,0)})()})),j()]}else return[e,j()]}else if(t instanceof WN){let n=t[0];if(e instanceof k){let r=e[0];return[new k(r.withFields({cook_time:(()=>{let i=fr(n),u=Q(i,o=>r.cook_time-Ln(r.cook_time,60)+o);return Se(u,0)})()})),j()]}else return[e,j()]}else if(t instanceof QN){let n=t[0];if(e instanceof k){let r=e[0];return[new k(r.withFields({serves:(()=>{let i=fr(n);return Se(i,0)})()})),j()]}else return[e,j()]}else if(t instanceof YN){let n=t[0],r=t[1];if(e instanceof k){let s=e[0];return[new k(s.withFields({tags:(()=>{let i=s.tags;return We(i,u=>Si(u,n,o=>new aa(r,"")))})()})),j()]}else return[e,j()]}else if(t instanceof ZN){let n=t[0],r=t[1];if(e instanceof k){let s=e[0];return[new k(s.withFields({tags:(()=>{let i=s.tags;return We(i,u=>Si(u,n,o=>o.withFields({value:r})))})()})),j()]}else return[e,j()]}else if(t instanceof XN)if(e instanceof k){let n=e[0];return[new k(n.withFields({tags:(()=>{let r=n.tags;if(r instanceof k){let s=r[0];return new k(Ys(s,fg(s),new aa("","")))}else return new k(gn(g([[0,new aa("","")]])))})()})),j()]}else return[e,j()];else if(t instanceof KN){let n=t[0];if(e instanceof k){let r=e[0];return[new k(r.withFields({tags:(()=>{let s=r.tags,i=We(s,u=>dg(u,g([n])));return We(i,yg)})()})),j()]}else return[e,j()]}else if(t instanceof e8){let n=t[0],r=t[1];if(e instanceof k){let s=e[0];return[new k(s.withFields({ingredients:(()=>{let i=s.ingredients;return We(i,u=>Si(u,n,o=>o.withFields({name:new k(r)})))})()})),j()]}else return[e,j()]}else if(t instanceof t8){let n=t[0],r=t[1];if(e instanceof k){let s=e[0];return[new k(s.withFields({ingredients:(()=>{let i=s.ingredients;return We(i,u=>Si(u,n,o=>o.withFields({ismain:new k(r)})))})()})),j()]}else return[e,j()]}else if(t instanceof n8){let n=t[0],r=t[1];if(e instanceof k){let s=e[0];return[new k(s.withFields({ingredients:(()=>{let i=s.ingredients;return We(i,u=>Si(u,n,o=>o.withFields({quantity:new k(r)})))})()})),j()]}else return[e,j()]}else if(t instanceof r8){let n=t[0],r=t[1];if(e instanceof k){let s=e[0];return[new k(s.withFields({ingredients:(()=>{let i=s.ingredients;return We(i,u=>Si(u,n,o=>o.withFields({units:new k(r)})))})()})),j()]}else return[e,j()]}else if(t instanceof s8)if(e instanceof k){let n=e[0];return[new k(n.withFields({ingredients:(()=>{let r=n.ingredients;if(r instanceof k){let s=r[0];return new k(Ys(s,fg(s),new ep(new X,new X,new X,new X)))}else return new k(gn(g([[0,new ep(new X,new X,new X,new X)]])))})()})),j()]}else return[e,j()];else if(t instanceof i8){let n=t[0];if(e instanceof k){let r=e[0];return[new k(r.withFields({ingredients:(()=>{let s=r.ingredients,i=We(s,u=>dg(u,g([n])));return We(i,yg)})()})),j()]}else return[e,j()]}else if(t instanceof o8)if(e instanceof k){let n=e[0];return[new k(n.withFields({method_steps:(()=>{let r=n.method_steps;if(r instanceof k){let s=r[0];return new k(Ys(s,fg(s),new gl("")))}else return new k(gn(g([[0,new gl("")]])))})()})),j()]}else return[e,j()];else if(t instanceof a8){let n=t[0];if(e instanceof k){let r=e[0];return[new k(r.withFields({method_steps:(()=>{let s=r.method_steps,i=We(s,u=>dg(u,g([n])));return We(i,yg)})()})),j()]}else return[e,j()]}else if(t instanceof u8){let n=t[0],r=t[1];if(e instanceof k){let s=e[0];return[new k(s.withFields({method_steps:(()=>{let i=s.method_steps;return We(i,u=>Si(u,n,o=>new gl(r)))})()})),j()]}else return[e,j()]}else if(t instanceof c8){let n=t[0];return[new k(n),Kse(n.withFields({slug:Qse(n.title)}))]}else{let n=t[0];return[new k(n),j()]}}function Zse(e,t){if(t instanceof kN){let n=t[0];return[e.withFields({recipes:n}),j()]}else{let n=t[0];return[e.withFields({tag_options:n}),j()]}}function eie(e){return P(g([_("col-span-full flex flex-wrap items-baseline justify-start my-1 text-base")]),g([P(g([_("text-xl flex flex-nowrap gap-1 my-1 ml-2 items-baseline")]),g([wt(g([bt(tr("/recipes/",e.slug))]),g([Rr(g([]),g([G(e.title)])),Rr(g([_("text-sm")]),g([G(" • "),e.prep_time+e.cook_time>59?G((()=>{let n=bl(e.prep_time+e.cook_time,60),r=Se(n,0);return M(r)})()+"h"):Nn(),G((()=>{let t=Ln(e.prep_time+e.cook_time,60);return M(t)})()),G("m")]))]))]))]))}function tie(e){return eo(g([_("grid grid-cols-12 col-start-[main-start] grid-rows-[fit-content(100px)_fit-content(100px)_1fr]")]),g([au("Recipe List","underline-green"),yo(g([_("flex flex-col justify-start items-middle col-span-1 col-start-12 text-base md:text-lg mt-4")]),g([wt(g([bt("/"),_("text-center")]),g([G("🏠")]))])),P(g([_("contents")]),K(e.recipes,eie))]))}function nie(e){let t=(()=>{let n=e.ismain;return n instanceof k&&n[0]?" font-bold":""})();return P(g([_("flex justify-start col-span-6 items-baseline")]),g([P(g([_("flex-grow-[2] text-left flex justify-start"+t)]),g([Fe(We(e.name,n=>G(n)),Nn())])),P(g([_("col-span-1 text-sm")]),g([Fe(We(e.quantity,n=>G(n)),Nn())])),P(g([_("col-span-1 text-sm")]),g([Fe(We(e.units,n=>G(n)),Nn())]))]))}function rie(e){return p_(g([_("w-full justify-self-start list-decimal text-left ml-8 pr-2")]),g([G(e.step_text)]))}function sie(e){return P(g([_("flex")]),g([P(g([_("font-mono bg-ecru-white-100 border border-ecru-white-950 px-1 text-xs")]),g([G(e.name)])),P(g([_("font-mono bg-ecru-white-50 border border-l-0 border-ecru-white-950  px-1 text-xs")]),g([G(e.value)]))]))}function iie(e){return eo(g([_("grid grid-cols-12 col-start-[main-start] grid-rows-[fit-content(100px)_fit-content(100px)_1fr] gap-y-2")]),g([au(e.title,"underline-green"),Jt(g([_("sm:mt-4 lg:mx-4 row-start-2 col-start-9 col-span-4 sm:row-start-1 sm:col-span-3 sm:col-start-9")]),g([Jt(g([_("flex flex-wrap justify-between items-baseline mb-2")]),g([Vi(g([ta("prep_time"),_("font-mono ")]),g([G("Prep:")])),P(g([_("text-base")]),g([G((e.prep_time>59?(()=>{let n=bl(e.prep_time,60),r=Se(n,0),s=M(r);return Kd(s,"0","")})()+"h ":"")+(()=>{let t=Ln(e.prep_time,60);return M(t)})()+"m")]))])),Jt(g([_("flex flex-wrap justify-between items-baseline mb-2")]),g([Vi(g([ta("cook_time"),_("font-mono ")]),g([G("Cook:")])),P(g([_("text-base")]),g([G((e.cook_time>59?(()=>{let n=bl(e.cook_time,60),r=Se(n,0),s=M(r);return Kd(s,"0","")})()+"h ":"")+(()=>{let t=Ln(e.cook_time,60);return M(t)})()+"m")]))])),Jt(g([_("flex flex-wrap justify-between items-baseline mb-2")]),g([Vi(g([ta("cook_time"),_("font-mono ")]),g([G("Serves:")])),P(g([_("mr-2 sm:mr-4 text-base")]),g([G(M(e.serves))]))]))])),yo(g([_("flex flex-col justify-start items-middle col-span-1 col-start-12 text-base md:text-lg mt-4")]),g([wt(g([bt("/"),_("text-center")]),g([G("🏠")])),wt(g([bt("/recipes/"+e.slug+"/edit"),_("text-center")]),g([G("✏️")]))])),Jt(g([_("col-span-7 row-start-2 content-start sm:col-span-full flex flex-wrap gap-1 items-baseline mx-1 gap-3")]),g([(()=>{let t=e.tags;if(t instanceof k){let n=t[0],r=(()=>{let i=pn(n),u=gr(i,(o,a)=>Ui(Ae(o),Ae(a)));return K(u,o=>[M(Ae(o)),sie(It(o))])})();return Vu(s=>P(g([_("contents")]),s),r)}else return Nn()})()])),Jt(g([_("col-span-full text-base my-1 mb-6 pt-1 pb-2 px-2 border-ecru-white-950 border-[1px] rounded-[1px] sm:row-span-2 sm:col-span-5 [box-shadow:1px_1px_0_#a3d2ab] mr-1")]),g([Sl(g([_("mx-2 px-1 text-lg font-mono ")]),g([G("Ingredients")])),(()=>{let t=e.ingredients;if(t instanceof k){let n=t[0],r=(()=>{let i=pn(n),u=gr(i,(o,a)=>Ui(Ae(o),Ae(a)));return K(u,o=>[M(Ae(o)),nie(It(o))])})();return Vu(s=>P(g([_("contents")]),s),r)}else return Nn()})()])),Jt(g([_("flex justify-start flex-wrap col-span-full my-1 mb-6 pt-1 mr-1 sm:mr-2 ml-1 pb-2 px-2 border-ecru-white-950 border-[1px] rounded-[1px] sm:row-span-2 sm:col-span-7 [box-shadow:1px_1px_0_#a3d2ab]")]),g([Sl(g([_("mx-2 px-1 font-mono ")]),g([G("Method")])),O5(g([_("flex flex-wrap w-full mb-1 list-decimal marker:text-sm marker:font-mono text-base items-baseline col-span-full")]),g([(()=>{let t=e.method_steps;if(t instanceof k){let n=t[0],r=(()=>{let i=pn(n),u=gr(i,(o,a)=>Ui(Ae(o),Ae(a)));return K(u,o=>[M(Ae(o)),rie(It(o))])})();return Vu(s=>P(g([_("contents")]),s),r)}else return Nn()})()]))]))]))}function uie(e){if(e instanceof k){let t=e[0];return iie(t)}else return au("Recipe not found","")}function f3(e,t,n){let r=ku((o,a)=>new YN(o,a)),s=ku((o,a)=>new ZN(o,a)),i=K(e,o=>o.name),u=Fe(n,new aa("",""));return Jt(g([ze("tag-input-"+M(t)),_("flex col-span-6 sm:col-span-4 min-w-0")]),g([sh(g([En(g([(()=>{let o=_s(u.name);return o>0?["width",M(o+1)+"ch"]:["width","5ch"]})()])),_("inline bg-ecru-white-100 col-span-4 row-span-1 pl-1 p-0 text-xs font-mono custom-select"),ze("tag-name-selector"),On("tag-name-"+M(t)),Tt(u.name),Wt(r(t))]),g([Go(g([_("text-xs font-mono custom-select input-focus bg-ecru-white-100"),me("hidden",""),Jv(!0),Tt(""),Ho(Bv(u.name))]),""),qn(K(i,o=>Go(g([Tt(o),Ho(o===u.name),_("text-xs font-mono custom-select input-focus bg-ecru-white-50")]),o)))])),sh(g([En(g([(()=>{let o=_s(u.value);return o>0?["width",M(o+1)+"ch"]:["width","5ch"]})()])),_("inline bg-ecru-white-50 col-span-4 row-span-1 pl-1 p-0 text-xs font-mono custom-select"),Wt(s(t)),Tt(u.value)]),g([Go(g([_("text-xs font-mono custom-select input-focus bg-ecru-white-50"),me("hidden",""),Jv(!0),Tt(""),Ho(Bv(u.value))]),""),(()=>{let o=h=>h.name===u.name,a=h=>K(h.options,f=>Go(g([Tt(f),Ho(f===u.value),_("text-xs font-mono custom-select input-focus bg-ecru-white-50")]),f)),c=op(e,o),l=Q(c,a),d=Se(l,g([Nn()]));return qn(d)})()])),Hr(g([_("col-span-1 mb-1 text-ecru-white-950 text-xs"),ze("remove-tag-input"),ut("button"),Ts(new KN(t))]),g([G("➖")])),Hr(g([_("col-span-1 mb-1 text-ecru-white-950 text-xs"),ze("add-tag-input"),ut("button"),Ts(new XN(t))]),g([G("➕")]))]))}function Dm(e,t){let n=ku((u,o)=>new e8(u,o)),r=ku((u,o)=>new t8(u,o)),s=ku((u,o)=>new n8(u,o)),i=ku((u,o)=>new r8(u,o));return P(g([_("my-0.5 w-full flex justify-between items-baseline  text-base")]),g([jr(g([me("aria-label","Enter ingredient name"),On("ingredient-name-"+M(e)),ut("text"),pg("Ingredient"),_("w-[16ch] xxs:w-[23ch] xs:w-[28ch] sm:w-[16ch] md:w-[23ch] lg:w-[28ch] text-base input-base input-focus bg-ecru-white-100"),Tt((()=>{if(t instanceof k){let u=t[0];return Fe(u.name,"")}else return""})()),Wt(n(e))])),P(g([_("flex justify-end gap-1 items-baseline")]),g([jr(g([me("aria-label","Enter ingredient quanitity"),On("ingredient-qty-"+M(e)),ut("text"),pg("Qty"),_("pt-0.5 w-[4ch] text-sm input-focus bg-ecru-white-100"),Tt((()=>{if(t instanceof k){let u=t[0];return Fe(u.quantity,"")}else return""})()),Wt(s(e))])),jr(g([me("aria-label","Enter ingredient units"),On("ingredient-units-"+M(e)),ut("text"),pg("Units"),_("pt-0.5 w-[5ch] text-sm mr-0 input-focus bg-ecru-white-100"),Tt((()=>{if(t instanceof k){let u=t[0];return Fe(u.units,"")}else return""})()),Wt(i(e))])),P(g([_("flex text-xs items-baseline")]),g([Vi(g([_("ingredient-toggle"),me("aria-label","Toggle main ingredient")]),g([jr(g([s_((()=>{if(t instanceof k){let u=t[0];return Fe(u.ismain,!1)}else return!1})()),On("`ingredient-main-"+M(e)),ut("checkbox"),B_(r(e))])),Rr(g([]),g([]))])),Hr(g([_("text-ecru-white-950"),ut("button"),ze("remove-ingredient-input"),Ts(new i8(e))]),g([G("➖")])),Hr(g([_("text-ecru-white-950"),ut("button"),ze("add-ingredient-input"),Ts(new s8(e))]),g([G("➕")]))]))]))]))}function oie(e,t){let n=ku((r,s)=>new u8(r,s));return P(g([_("flex w-full items-baseline col-span-full px-1 mb-1 text-base")]),g([Vi(g([_("font-mono text-sm")]),g([G((()=>{let r=e+1;return M(r)})()+".")])),Wy(g([On("method-step-"+M(e)),ze("method-step-"+M(e)),_("mx-3 bg-ecru-white-100 w-full input-focus text-base resize-none"),me("rows","3"),Wt(n(e))]),t instanceof k?t[0].step_text:""),Hr(g([_("text-ecru-white-950 text-xs"),ut("button"),ze("remove-ingredient-input"),Ts(new a8(e))]),g([G("➖")])),Hr(g([_("text-ecru-white-950 text-xs"),ut("button"),ze("add-ingredient-input"),Ts(new o8(e))]),g([G("➕")]))]))}function f8(e,t){return Jy(g([_("grid grid-cols-12 col-start-[main-start] grid-rows-[fit-content(100px)_fit-content(100px)_1fr] gap-y-2"),ze("create_recipe_form"),eb(new c8(e))]),g([P(g([_("inline-block mt-4 mb-2 sm:mb-4 mr-2 col-start-1 col-span-11 sm:col-start-1 sm:col-span-8")]),g([Wy(g([ze("page-title-input"),On("title"),_("[field-sizing:_content;] placeholder:underline-blue underline-blue min-h-[56px] max-h-[140px] overflow-x-hidden px-0 pb-1 ml-2 input-base w-full input-focus font-transitional resize-none font-bold italic text-ecru-white-950  text-7xl bg-ecru-white-100"),_((()=>{let n=_s(e.title);return n>38?"text-4xl":n>17?"text-5.5xl":"text-7xl"})()),me("title","recipe title"),Wt(n=>new zN(n))]),e.title)])),Jt(g([_("mt-0 sm:mt-4 sm:mx-4 row-start-2 col-span-5 col-start-8 sm:row-start-1 sm:col-span-3 sm:col-start-9")]),g([Jt(g([_("flex flex-wrap justify-between items-baseline mb-2")]),g([Vi(g([_("justify-self-start font-mono "),ta("prep_time")]),g([G("Prep:")])),P(g([_("justify-self-start")]),g([P(g([_("after:content-['h'] after:text-base inline-block")]),g([jr(g([ze("prep_time_hrs"),_("bg-ecru-white-100 input-base input-focus pr-0.5 mr-0.5 w-[2ch] text-right text-base"),ut("number"),On("prep_time_hrs"),me("title","prep time in hours"),Tt((()=>{let n=bl(e.prep_time,60),r=Se(n,0),s=M(r);return Kd(s,"0","")})()),Wt(n=>new HN(n))]))])),P(g([_("after:content-['m'] after:text-base inline-block")]),g([jr(g([ze("prep_time_mins"),_("bg-ecru-white-100 input-base input-focus pr-0.5 mr-0.5 w-[3ch] text-right text-base"),ut("number"),On("prep_time_mins"),me("title","prep time in minutes"),Tt((()=>{let n=Ln(e.prep_time,60);return M(n)})()),Wt(n=>new GN(n))]))]))]))])),Jt(g([_("flex flex-wrap justify-between items-baseline mb-2")]),g([Vi(g([_("justify-self-start font-mono "),ta("prep_time")]),g([G("Cook:")])),P(g([_("justify-self-start")]),g([P(g([_("after:content-['h'] after:text-base inline-block")]),g([jr(g([ze("cook_time_hrs"),_("bg-ecru-white-100 input-base input-focus pr-0.5 w-[2ch] text-right text-base"),ut("number"),On("cook_time_hrs"),me("title","cook time in hours"),Tt((()=>{let n=bl(e.cook_time,60),r=Se(n,0),s=M(r);return Kd(s,"0","")})()),Wt(n=>new JN(n))]))])),P(g([_("after:content-['m'] after:text-base inline-block")]),g([jr(g([ze("cook_time_mins"),_("bg-ecru-white-100 input-base input-focus pr-0.5 w-[3ch] text-right text-base"),ut("number"),On("cook_time_mins"),me("title","cook time in minutes"),Tt((()=>{let n=Ln(e.cook_time,60);return M(n)})()),Wt(n=>new WN(n))]))]))]))])),Jt(g([_("flex flex-wrap justify-between items-baseline mb-2")]),g([Vi(g([_("justify-self-start font-mono "),ta("serves")]),g([G("Serves:")])),jr(g([ze("serves"),_("pr-0.5 mr-2 sm:mr-4  justify-self-start col-span-3 input-base input-focus w-[3ch] text-right text-base bg-ecru-white-100"),ut("number"),On("serves"),Tt((()=>{let n=e.serves;return M(n)})()),Wt(n=>new QN(n))]))]))])),yo(g([_("flex flex-col justify-start items-middle col-span-1 col-start-12 text-sm sm:text-base md:text-lg my-4 text-center")]),g([wt(g([bt("/"),_("text-center")]),g([G("🏠")])),wt(g([bt("/recipes/"+e.slug),_("text-center")]),g([G("❎")])),Hr(g([ut("submit"),_("")]),g([G("💾")]))])),Jt(g([_("col-span-7 row-start-2 content-start sm:col-span-full flex flex-wrap gap-1 items-baseline mx-1 gap-3")]),g([(()=>{let n=e.tags;if(n instanceof k){let r=n[0],s=(()=>{let u=pn(r),o=gr(u,(a,c)=>Ui(Ae(a),Ae(c)));return K(o,a=>[M(Ae(a)),f3(t,Ae(a),new k(It(a)))])})();return Vu(i=>P(g([_("contents")]),i),s)}else return f3(t,0,new X)})()])),Jt(g([_("col-span-full my-1 mb-6 pt-1 pb-2 px-2 mr-1 border-ecru-white-950 border-[1px] rounded-[1px] sm:row-span-2 sm:col-span-5 [box-shadow:1px_1px_0_#9edef1]")]),g([Sl(g([_("mx-2 px-1 font-mono ")]),g([G("Ingredients")])),(()=>{let n=e.ingredients;if(n instanceof k){let r=n[0],s=(()=>{let u=pn(r),o=gr(u,(a,c)=>Ui(Ae(a),Ae(c)));return K(o,a=>[M(Ae(a)),Dm(Ae(a),new k(It(a)))])})();return Vu(i=>P(g([_("contents")]),i),s)}else return Dm(0,new X)})()])),Jt(g([_("col-span-full my-1 mb-6 pt-1 pb-2 px-2 ml-1 mr-1 border-ecru-white-950 border-[1px] rounded-[1px] sm:row-span-2 sm:col-span-7 [box-shadow:1px_1px_0_#9edef1]")]),g([Sl(g([_("mx-2 px-1 font-mono ")]),g([G("Method")])),(()=>{let n=e.method_steps;if(n instanceof k){let r=n[0],s=(()=>{let u=pn(r),o=gr(u,(a,c)=>Ui(Ae(a),Ae(c)));return K(o,a=>[M(Ae(a)),oie(Ae(a),new k(It(a)))])})();return Vu(i=>P(g([_("contents")]),i),s)}else return Dm(0,new X)})()]))]))}function aie(e,t){if(e instanceof k){let n=e[0];return f8(n,t)}else return au("Recipe not found","")}class cie extends S{constructor(t,n,r,s,i){super(),this.current_route=t,this.current_recipe=n,this.recipes=r,this.planner=s,this.import_url=i}}class np extends S{}class ml extends S{constructor(t){super(),this.slug=t}}class Pr extends S{constructor(t){super(),this[0]=t}}class rp extends S{}class ca extends S{constructor(t){super(),this.start_date=t}}class ju extends S{constructor(t){super(),this.start_date=t}}class lie extends S{}class Lu extends S{constructor(t){super(),this.slug=t}}class Xd extends S{constructor(t){super(),this.recipe=t}}class Ve extends S{constructor(t){super(),this[0]=t}}class la extends S{constructor(t){super(),this[0]=t}}class Ri extends S{constructor(t){super(),this[0]=t}}class ea extends S{constructor(t){super(),this[0]=t}}class Oy extends S{constructor(t){super(),this[0]=t}}function d3(e,t){return Iy(op(e.recipes.recipes,n=>n.slug===t))}function fie(e,t){if(Wi(t),t instanceof Ve&&t[0]instanceof rp)return[e.withFields({current_route:new rp}),Hy(g([is(MN(),n=>new Ri(n)),is(Ey(),n=>new Ri(n))]))];if(t instanceof Ve&&t[0]instanceof ml){let n=t[0].slug;return[e.withFields({current_route:new ml(n),current_recipe:d3(e,n)}),j()]}else{if(t instanceof Ve&&t[0]instanceof Pr&&t[0][0]instanceof Lu&&t[0][0].slug==="")return[e.withFields({current_route:new Pr(new Lu("")),current_recipe:new k(new CN(new X,"New Recipe","",0,0,0,new k(gn(g([[0,new aa("","")]]))),new k(gn(g([[0,new ep(new X,new X,new X,new X)]]))),new k(gn(g([[0,new gl("")]])))))}),is(Ey(),n=>new Ri(n))];if(t instanceof Ve&&t[0]instanceof Pr&&t[0][0]instanceof Lu){let n=t[0][0].slug;return[e.withFields({current_route:new Pr(new Lu(n)),current_recipe:d3(e,n)}),j()]}else if(t instanceof Ve&&t[0]instanceof Pr&&t[0][0]instanceof Xd){let n=t[0][0].recipe;return[e.withFields({current_route:new Pr(new Xd(n)),current_recipe:new k(n)}),j()]}else if(t instanceof Ve&&t[0]instanceof ca){let n=t[0].start_date;return[e.withFields({current_route:new ca(n)}),is(VN(Sp(n,new _f)),r=>new ea(r))]}else if(t instanceof Ve&&t[0]instanceof ju){let n=t[0].start_date;return[e.withFields({current_route:new ju(n)}),j()]}else if(t instanceof Ve){let n=t[0];return[e.withFields({current_route:n,current_recipe:new X}),j()]}else if(t instanceof Ri){let n=t[0],r=Zse(e.recipes,n),s=r[0],i=r[1];return[e.withFields({recipes:s,planner:new tp(e.planner.plan_week,K(s.recipes,u=>u.title),e.planner.start_date)}),is(i,u=>new Ri(u))]}else if(t instanceof la&&t[0]instanceof l8){let n=t[0][0];return[e.withFields({recipes:pse(n,e.recipes)}),mn(r=>{let s=new Ve(new ml(n.slug));return r(s)})]}else if(t instanceof la){let n=t[0],r=Yse(e.current_recipe,n),s=r[0],i=r[1];return[e.withFields({current_recipe:s}),is(i,u=>new la(u))]}else if(t instanceof ea&&t[0]instanceof Iv){let n=t[0][0],r=t[0][1];return[e.withFields({current_route:new ca(r),planner:e.planner.withFields({plan_week:n})}),j()]}else if(t instanceof ea){let n=t[0],r=Hse(e.planner,n),s=r[0],i=r[1];return[e.withFields({planner:s}),is(i,u=>new ea(u))]}else if(t instanceof Oy&&t[0]instanceof LN){let n=t[0][0];return[e.withFields({current_recipe:new k(n)}),mn(r=>{let s=new Ve(new Pr(new Xd(n)));return r(s)})]}else{let n=t[0],r=Ese(e.import_url,n),s=r[0],i=r[1];return[e.withFields({import_url:s}),is(i,u=>new Oy(u))]}}}function h3(e){let t=e.query,n=Fk(e.path);if(t instanceof k&&n.hasLength(2)&&n.head==="planner"&&n.tail.head==="edit"){let r=t[0],s=Gv(r);if(s.isOk()&&s[0].hasLength(1)&&s[0].head[0]==="date"){let i=s[0].head[1];return new Ve(new ju(Se(mx(i),Ei())))}else return new Ve(new ju(Ei()))}else if(t instanceof k&&n.hasLength(1)&&n.head==="planner"){let r=t[0],s=Gv(r);if(s.isOk()&&s[0].hasLength(1)&&s[0].head[0]==="date"){let i=s[0].head[1];return new Ve(new ca(Se(mx(i),Ei())))}else return new Ve(new ju(Ei()))}else{if(n.hasLength(2)&&n.head==="recipes"&&n.tail.head==="new")return new Ve(new Pr(new Lu("")));if(n.hasLength(3)&&n.head==="recipes"&&n.tail.tail.head==="edit"){let r=n.tail.head;return new Ve(new Pr(new Lu(r)))}else if(n.hasLength(2)&&n.head==="recipes"){let r=n.tail.head;return new Ve(new ml(r))}else return n.hasLength(1)&&n.head==="recipes"?new Ve(new rp):n.hasLength(2)&&n.head==="planner"&&n.tail.head==="edit"?new Ve(new ju(Ei())):n.hasLength(1)&&n.head==="planner"?new Ve(new ca(Ei())):n.hasLength(1)&&n.head==="import"?new Ve(new lie):new Ve(new np)}}function die(e){let t=(()=>{let n=R5(),r=Q(n,h3);return Q(r,s=>s instanceof Ve?s[0]:new np)})();return[new cie(Se(t,new np),new X,new dse(g([]),g([])),new tp(fp(),g([]),Sp(Ei(),new _f)),new Ov("")),Hy(g([C5(h3),is(MN(),n=>new Ri(n)),is(Ey(),n=>new Ri(n))]))]}function hie(e){return E5(g([_(`grid ml-1 mr-2 gap-2
    2xl:grid-cols-[[start]_1fr_[full-start]_3fr_[main-start]_105ch_[main-end]_3fr_[full-end]_1fr_[end]]
    xl:grid-cols-[[start]_1fr_[full-start]_3fr_[main-start]_95ch_[main-end]_3fr_[full-end]_1fr_[end]]
    lg:grid-cols-[[start]_1fr_[full-start]_3fr_[main-start]_85ch_[main-end]_3fr_[full-end]_1fr_[end]]
    md:grid-cols-[[start_full-start]_1fr_[main-start]_70ch_[main-end]_1fr_[full-end_end]]
    grid-cols-[[start_full-start_main-start]_100%_[main-end_full-end_end]]
    min-h-[90vh]
    bg-ecru-white-50  text-ecru-white-950 font-old-style text-lg`)]),g([e]))}function pie(){return eo(g([_("grid-cols-12 col-start-[main-start]")]),g([au("Mealstack","text-9xl placeholder:underline-pink underline-pink col-span-full xxs:col-span-11"),yo(g([_("subgrid-cols my-6 gap-y-12 col-span-full text-6xl mx-2 font-mono")]),g([wt(g([_("flex items-baseline col-span-full sm:col-span-6 justify-between pr-4"),bt("/planner")]),g([Rr(g([_("underline-orange")]),g([G("Plan")])),Rr(g([_("text-5xl")]),g([G("📅")]))])),wt(g([_("flex items-baseline col-span-full sm:col-span-6 justify-between pr-4"),bt("/recipes")]),g([Rr(g([_("underline-green")]),g([G("List  ")])),Rr(g([_("text-5xl")]),g([G("📑")]))])),wt(g([_("flex items-baseline col-span-full sm:col-span-6 justify-between pr-4"),bt("/recipes/new")]),g([Rr(g([_("underline-blue")]),g([G("New")])),Rr(g([_("text-5xl")]),g([G("📝")]))])),wt(g([_("flex items-baseline col-span-full sm:col-span-6 justify-between pr-4"),bt("/import")]),g([Rr(g([_("underline-yellow")]),g([G("Import")])),Rr(g([_("text-5xl")]),g([G("📩")]))]))]))]))}function gie(e){let t=(()=>{let n=e.current_route;if(n instanceof np)return pie();if(n instanceof rp)return us(tie(e.recipes),r=>new Ri(r));if(n instanceof ml)return us(uie(e.current_recipe),r=>new la(r));if(n instanceof Pr&&n[0]instanceof Lu)return us(aie(e.current_recipe,e.recipes.tag_options),r=>new la(r));if(n instanceof Pr&&n[0]instanceof Xd){let r=n[0].recipe;return us(f8(r,e.recipes.tag_options),s=>new la(s))}else if(n instanceof ca){let r=n.start_date;return us(jse(new tp(e.planner.plan_week,K(e.recipes.recipes,s=>s.title),r)),s=>new ea(s))}else if(n instanceof ju){let r=n.start_date;return us(Lse(new tp(e.planner.plan_week,K(e.recipes.recipes,s=>s.title),r)),s=>new ea(s))}else return us(Ose(new Ov(e.import_url.url)),r=>new Oy(r))})();return hie(t)}function mie(){let e=TM("main");if(!e.isOk())throw sn("assignment_no_match","app",35,"main","Assignment pattern did not match",{value:e});let t=e[0];w5($M(),"type-ahead");let n=f_(die,fie,gie),r=_M(n,t),s=h_(r,"#app",void 0);return fM(s,t),t}mie();
