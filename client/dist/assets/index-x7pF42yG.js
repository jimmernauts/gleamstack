var R8=Object.defineProperty;var Gx=e=>{throw TypeError(e)};var k8=(e,t,n)=>t in e?R8(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var k=(e,t,n)=>k8(e,typeof t!="symbol"?t+"":t,n),pg=(e,t,n)=>t.has(e)||Gx("Cannot "+n);var B=(e,t,n)=>(pg(e,t,"read from private field"),n?n.call(e):t.get(e)),Be=(e,t,n)=>t.has(e)?Gx("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),oe=(e,t,n,r)=>(pg(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Rr=(e,t,n)=>(pg(e,t,"access private method"),n);var Jx=(e,t,n,r)=>({set _(s){oe(e,t,s,n)},get _(){return B(e,t,r)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const u of i.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();class S{withFields(t){let n=Object.keys(this).map(r=>r in t?t[r]:this[r]);return new this.constructor(...n)}}class Ke{static fromArray(t,n){let r=n||new O3;for(let s=t.length-1;s>=0;--s)r=new I3(t[s],r);return r}[Symbol.iterator](){return new C8(this)}toArray(){return[...this]}atLeastLength(t){for(let n of this){if(t<=0)return!0;t--}return t<=0}hasLength(t){for(let n of this){if(t<=0)return!1;t--}return t===0}countLength(){let t=0;for(let n of this)t++;return t}}function J(e,t){return new I3(e,t)}function p(e,t){return Ke.fromArray(e,t)}var Hu;class C8{constructor(t){Be(this,Hu);oe(this,Hu,t)}next(){if(B(this,Hu)instanceof O3)return{done:!0};{let{head:t,tail:n}=B(this,Hu);return oe(this,Hu,n),{value:t,done:!1}}}}Hu=new WeakMap;let O3=class extends Ke{};class I3 extends Ke{constructor(t,n){super(),this.head=t,this.tail=n}}class xa{constructor(t){if(!(t instanceof Uint8Array))throw"BitArray can only be constructed from a Uint8Array";this.buffer=t}get length(){return this.buffer.length}byteAt(t){return this.buffer[t]}floatAt(t){return M8(this.buffer.slice(t,t+8))}intFromSlice(t,n){return D8(this.buffer.slice(t,n))}binaryFromSlice(t,n){return new xa(this.buffer.slice(t,n))}sliceAfter(t){return new xa(this.buffer.slice(t))}}class N3{constructor(t){this.value=t}}function D8(e){e=e.reverse();let t=0;for(let n=e.length-1;n>=0;n--)t=t*256+e[n];return t}function M8(e){return new Float64Array(e.reverse().buffer)[0]}class hf extends S{static isResult(t){return t instanceof hf}}class z extends hf{constructor(t){super(),this[0]=t}isOk(){return!0}}let K=class extends hf{constructor(t){super(),this[0]=t}isOk(){return!1}};function Le(e,t){let n=[e,t];for(;n.length;){let r=n.pop(),s=n.pop();if(r===s)continue;if(!Wx(r)||!Wx(s)||!q8(r,s)||j8(r,s)||L8(r,s)||F8(r,s)||$8(r,s)||B8(r,s)||U8(r,s))return!1;const u=Object.getPrototypeOf(r);if(u!==null&&typeof u.equals=="function")try{if(r.equals(s))continue;return!1}catch{}let[o,a]=P8(r);for(let c of o(r))n.push(a(r,c),a(s,c))}return!0}function P8(e){if(e instanceof Map)return[t=>t.keys(),(t,n)=>t.get(n)];{let t=e instanceof globalThis.Error?["message"]:[];return[n=>[...t,...Object.keys(n)],(n,r)=>n[r]]}}function j8(e,t){return e instanceof Date&&(e>t||e<t)}function L8(e,t){return e.buffer instanceof ArrayBuffer&&e.BYTES_PER_ELEMENT&&!(e.byteLength===t.byteLength&&e.every((n,r)=>n===t[r]))}function F8(e,t){return Array.isArray(e)&&e.length!==t.length}function $8(e,t){return e instanceof Map&&e.size!==t.size}function B8(e,t){return e instanceof Set&&(e.size!=t.size||[...e].some(n=>!t.has(n)))}function U8(e,t){return e instanceof RegExp&&(e.source!==t.source||e.flags!==t.flags)}function Wx(e){return typeof e=="object"&&e!==null}function q8(e,t){return typeof e!="object"&&typeof t!="object"&&(!e||!t)||[Promise,WeakSet,WeakMap,Function].some(r=>e instanceof r)?!1:e.constructor===t.constructor}function Vn(e,t){return t===0?0:e%t}function so(e,t){return Math.trunc(V8(e,t))}function V8(e,t){return t===0?0:e/t}function ln(e,t,n,r,s,i){let u=new globalThis.Error(s);u.gleam_error=e,u.module=t,u.line=n,u.fn=r;for(let o in i)u[o]=i[o];return u}let E=class extends S{constructor(t){super(),this[0]=t}},Q=class extends S{};function Um(e,t){if(e instanceof E){let n=e[0];return new z(n)}else return new K(t)}function Ly(e){if(e.isOk()){let t=e[0];return new E(t)}else return new Q}function Se(e,t){return e instanceof E?e[0]:t}function Qe(e,t){if(e instanceof E){let n=e[0];return new E(t(n))}else return new Q}function z8(e,t){return e instanceof E?e:t}class H8 extends S{constructor(t,n){super(),this.error=t,this.byte_index=n}}let G8=class extends S{constructor(t,n){super(),this.case_insensitive=t,this.multi_line=n}};function J8(e,t){return xk(e,t)}function W8(e,t){return wk(e,t)}class Ys extends S{}class Xo extends S{}class xl extends S{}function ss(e){return rk(e)}function Q8(e){return bk(e)}function X8(e){return-1*e}function K8(e){return e>=0?ev(e):0-ev(X8(e))}function Y8(e){return K8(e)}function Z8(e){return e>=0?e:e*-1}function pr(e){return tk(e)}function D(e){return nk(e)}function Fy(e){return e}function Wi(e,t){return e===t?new Xo:e<t?new Ys:new xl}function ap(e,t){return e<t?e:t}function cp(e,t){return e>t?e:t}function eR(e,t,n){let s=ap(e,n);return cp(s,t)}function tR(e){let t=i_()*Fy(e),n=Q8(t);return Y8(n)}function vl(e,t){{let n=t;return e*n<0&&Vn(e,n)!==0?new z(so(e,n)-1):new z(so(e,n))}}function Te(e){return e[0]}function It(e){return e[1]}function nR(e,t){let n=e[0],r=e[1];return[t(n),r]}function Cu(e,t){return[e,t]}let $y=class extends S{constructor(t){super(),this[0]=t}},nl=class extends S{constructor(t){super(),this[0]=t}};class gt extends S{}class Mi extends S{}function rR(e,t){for(;;){let n=e,r=t;if(n.atLeastLength(1))e=n.tail,t=r+1;else return r}}function R3(e){return rR(e,0)}function tn(e,t){for(;;){let n=e,r=t;if(n.hasLength(0))return r;{let s=n.head;e=n.tail,t=J(s,r)}}}function jt(e){return tn(e,p([]))}function k3(e){return Le(e,p([]))}function Qx(e,t){for(;;){let n=e,r=t;if(n.hasLength(0))return!1;if(n.atLeastLength(1)&&Le(n.head,r))return n.head,!0;e=n.tail,t=r}}function By(e){if(e.hasLength(0))return new K(void 0);{let t=e.head;return new z(t)}}function sR(e){return(t,n)=>{let r=On(t,e(n));if(r.isOk()){let s=r[0];return xr(t,e(n),J(n,s))}else return xr(t,e(n),p([n]))}}function iR(e,t,n){for(;;){let r=e,s=t,i=n;if(r.hasLength(0))return jt(i);{let u=r.head,o=r.tail,a=s(u)?J(u,i):i;e=o,t=s,n=a}}}function io(e,t){return iR(e,t,p([]))}function uR(e,t,n){for(;;){let r=e,s=t,i=n;if(r.hasLength(0))return jt(i);{let u=r.head,o=r.tail,a=(()=>{let c=s(u);if(c.isOk()){let l=c[0];return J(l,i)}else return i})();e=o,t=s,n=a}}}function C3(e,t){return uR(e,t,p([]))}function oR(e,t,n){for(;;){let r=e,s=t,i=n;if(r.hasLength(0))return jt(i);{let u=r.head;e=r.tail,t=s,n=J(s(u),i)}}}function X(e,t){return oR(e,t,p([]))}function aR(e,t,n,r){for(;;){let s=e,i=t,u=n,o=r;if(s.hasLength(0))return jt(o);{let a=s.head,c=s.tail,l=J(i(a,u),o);e=c,t=i,n=u+1,r=l}}}function uo(e,t){return aR(e,t,0,p([]))}function cR(e,t,n){for(;;){let r=e,s=t,i=n;if(r.hasLength(0))return new z(jt(i));{let u=r.head,o=r.tail,a=s(u);if(a.isOk()){let c=a[0];e=o,t=s,n=J(c,i)}else{let c=a[0];return new K(c)}}}}function D3(e,t){return cR(e,t,p([]))}function lR(e,t){for(;;){let n=e,r=t;if(r<=0)return n;if(n.hasLength(0))return p([]);e=n.tail,t=r-1}}function fR(e,t,n){for(;;){let r=e,s=t,i=n;if(s<=0)return jt(i);if(r.hasLength(0))return jt(i);{let o=r.head;e=r.tail,t=s-1,n=J(o,i)}}}function M3(e,t){return fR(e,t,p([]))}function dR(e,t){for(;;){let n=e,r=t;if(n.hasLength(0))return r;{let s=n.head;e=n.tail,t=J(s,r)}}}function lp(e,t){return dR(jt(e),t)}function fp(e,t){return J(t,e)}function hR(e,t){for(;;){let n=e,r=t;if(n.hasLength(0))return r;{let s=n.head;e=n.tail,t=J(s,r)}}}function P3(e,t){for(;;){let n=e,r=t;if(n.hasLength(0))return jt(r);{let s=n.head;e=n.tail,t=hR(s,r)}}}function Is(e){return P3(e,p([]))}function qm(e){return P3(e,p([]))}function Ja(e,t){let n=X(e,t);return Is(n)}function Bn(e,t,n){for(;;){let r=e,s=t,i=n;if(r.hasLength(0))return s;{let u=r.head;e=r.tail,t=i(s,u),n=i}}}function pR(e,t){return Bn(e,Xa(),sR(t))}function dp(e,t,n){if(e.hasLength(0))return t;{let r=e.head,s=e.tail;return n(dp(s,t,n),r)}}function gR(e,t,n,r){for(;;){let s=e,i=t,u=n,o=r;if(s.hasLength(0))return i;{let a=s.head;e=s.tail,t=u(i,a,o),n=u,r=o+1}}}function mR(e,t,n){return gR(e,t,n,0)}function j3(e,t,n){for(;;){let r=e,s=t,i=n;if(r.hasLength(0))return s;{let u=r.head,o=r.tail,a=i(s,u);if(a instanceof $y){let c=a[0];e=o,t=c,n=i}else return a[0]}}}function hp(e,t){for(;;){let n=e,r=t;if(n.hasLength(0))return new K(void 0);{let s=n.head,i=n.tail;if(r(s))return new z(s);e=i,t=r}}}function yR(e,t,n,r,s,i){for(;;){let u=e,o=t,a=n,c=r,l=s,d=i,h=J(l,a);if(u.hasLength(0))return c instanceof gt?J(tn(h,p([])),d):J(h,d);{let f=u.head,g=u.tail,m=o(l,f);if(m instanceof xl&&c instanceof Mi)e=g,t=o,n=h,r=c,s=f,i=d;else if(m instanceof Ys&&c instanceof gt)e=g,t=o,n=h,r=c,s=f,i=d;else if(m instanceof Xo&&c instanceof gt)e=g,t=o,n=h,r=c,s=f,i=d;else if(m instanceof xl&&c instanceof gt){let y=c instanceof gt?J(tn(h,p([])),d):J(h,d);if(g.hasLength(0))return J(p([f]),y);{let b=g.head,w=g.tail,v=(()=>{let x=o(f,b);return x instanceof Ys?new gt:x instanceof Xo?new gt:new Mi})();e=w,t=o,n=p([f]),r=v,s=b,i=y}}else if(m instanceof Ys&&c instanceof Mi){let y=c instanceof gt?J(tn(h,p([])),d):J(h,d);if(g.hasLength(0))return J(p([f]),y);{let b=g.head,w=g.tail,v=(()=>{let x=o(f,b);return x instanceof Ys?new gt:x instanceof Xo?new gt:new Mi})();e=w,t=o,n=p([f]),r=v,s=b,i=y}}else{let y=c instanceof gt?J(tn(h,p([])),d):J(h,d);if(g.hasLength(0))return J(p([f]),y);{let b=g.head,w=g.tail,v=(()=>{let x=o(f,b);return x instanceof Ys?new gt:x instanceof Xo?new gt:new Mi})();e=w,t=o,n=p([f]),r=v,s=b,i=y}}}}}function bR(e,t,n,r){for(;;){let s=e,i=t,u=n,o=r;if(s.hasLength(0))return tn(i,o);if(i.hasLength(0))return tn(s,o);{let a=s.head,c=s.tail,l=i.head,d=i.tail,h=u(a,l);h instanceof Ys?(e=c,t=i,n=u,r=J(a,o)):(h instanceof xl,e=s,t=d,n=u,r=J(l,o))}}}function wR(e,t,n){for(;;){let r=e,s=t,i=n;if(r.hasLength(0))return tn(i,p([]));if(r.hasLength(1)){let u=r.head;return tn(J(tn(u,p([])),i),p([]))}else{let u=r.head,o=r.tail.head,a=r.tail.tail,c=bR(u,o,s,p([]));e=a,t=s,n=J(c,i)}}}function xR(e,t,n,r){for(;;){let s=e,i=t,u=n,o=r;if(s.hasLength(0))return tn(i,o);if(i.hasLength(0))return tn(s,o);{let a=s.head,c=s.tail,l=i.head,d=i.tail,h=u(a,l);h instanceof Ys?(e=s,t=d,n=u,r=J(l,o)):(h instanceof xl,e=c,t=i,n=u,r=J(a,o))}}}function vR(e,t,n){for(;;){let r=e,s=t,i=n;if(r.hasLength(0))return tn(i,p([]));if(r.hasLength(1)){let u=r.head;return tn(J(tn(u,p([])),i),p([]))}else{let u=r.head,o=r.tail.head,a=r.tail.tail,c=xR(u,o,s,p([]));e=a,t=s,n=J(c,i)}}}function SR(e,t,n){for(;;){let r=e,s=t,i=n;if(r.hasLength(0))return p([]);if(r.hasLength(1)&&s instanceof gt)return r.head;if(r.hasLength(1)&&s instanceof Mi){let u=r.head;return tn(u,p([]))}else s instanceof gt?(e=wR(r,i,p([])),t=new Mi,n=i):(e=vR(r,i,p([])),t=new gt,n=i)}}function wr(e,t){if(e.hasLength(0))return p([]);if(e.hasLength(1)){let n=e.head;return p([n])}else{let n=e.head,r=e.tail.head,s=e.tail.tail,i=(()=>{let o=t(n,r);return o instanceof Ys?new gt:o instanceof Xo?new gt:new Mi})(),u=yR(s,t,p([n]),i,r,p([]));return SR(u,new gt,t)}}function L3(e,t,n){if(e.hasLength(0))return p([[t,n]]);if(e.atLeastLength(1)&&Le(e.head[0],t)){e.head[0];let r=e.tail;return J([t,n],r)}else{let r=e.head,s=e.tail;return J(r,L3(s,t,n))}}function _R(e){return!!e.isOk()}function ne(e,t){if(e.isOk()){let n=e[0];return new z(t(n))}else{let n=e[0];return new K(n)}}function Wa(e,t){if(e.isOk()){let n=e[0];return new z(n)}else{let n=e[0];return new K(t(n))}}function AR(e){if(e.isOk())return e[0];{let t=e[0];return new K(t)}}function Nn(e,t){if(e.isOk()){let n=e[0];return t(n)}else{let n=e[0];return new K(n)}}function F3(e,t){return Nn(e,t)}function we(e,t){return e.isOk()?e[0]:t}class rl extends S{}class va extends S{constructor(t,n){super(),this[0]=t,this[1]=n}}let pp=class extends S{constructor(t){super(),this.continuation=t}};class $3 extends S{constructor(t,n){super(),this.element=t,this.accumulator=n}}function TR(){return new rl}function B3(e,t){return()=>{let n=t(e);if(n instanceof $3){let r=n.element,s=n.accumulator;return new va(r,B3(s,t))}else return new rl}}function ER(e,t){let r=B3(e,t);return new pp(r)}function OR(e){return ER(void 0,t=>new $3(e(),void 0))}function U3(e){return OR(()=>e)}function IR(e,t,n){for(;;){let r=e,s=t,i=n,u=r();if(u instanceof va){let o=u[0];e=u[1],t=s,n=s(i,o)}else return i}}function NR(e,t,n){let r=e.continuation;return IR(r,n,t)}function q3(e){let n=NR(e,p([]),(r,s)=>J(s,r));return jt(n)}function V3(e,t){return()=>{if(t>0){let r=e();if(r instanceof rl)return new rl;{let s=r[0],i=r[1];return new va(s,V3(i,t-1))}}else return new rl}}function z3(e,t){let n=e.continuation,r=V3(n,t);return new pp(r)}function H3(e,t){let n=e();if(n instanceof va){let r=n[0],s=n[1];return new va(r,()=>H3(s,t))}else return t()}function G3(e,t){let n=()=>H3(e.continuation,t.continuation);return new pp(n)}function RR(e){let t=()=>new va(e(),TR);return new pp(t)}function J3(e){return RR(()=>e)}function kR(e,t){return ok(e,t)}function W3(e){return lk(e)}function gp(e){return e}function CR(e,t){return kR(e,gp(t))}function Qa(e){return e}function DR(e,t){return ak(e,t)}function Xx(e){return e===""}function Sr(e){return ik(e)}function rh(e,t,n){let s=gp(e),i=sk(s,t,n);return Qa(i)}function sh(e){return uk(e)}function ir(e,t){let r=gp(e),s=CR(r,t);return Qa(s)}function So(e){let n=W3(e);return Qa(n)}function Q3(e,t){let n=U3(e),r=z3(n,t),s=q3(r);return So(s)}function Sl(e,t){return ck(e,t)}function MR(e){return pk(e)}function Kx(e,t,n){let s=yf(e),i=lR(s,t),u=M3(i,n);return So(u)}function Uy(e,t,n){if(n<0)return"";if(t<0){let i=Sr(e)+t;return i<0?"":Kx(e,i,n)}else return Kx(e,t,n)}function X3(e,t){if(t==="")return yf(e);{let r=gp(e),s=DR(r,t);return X(s,Qa)}}function PR(e,t){let n=Sr(t),r=so(e,n),s=Vn(e,n),i=U3(t),u=z3(i,r);return G3(u,J3(Uy(t,0,s)))}function Ei(e,t,n){let r=Sr(e),s=t-r,i=PR(s,n),u=G3(i,J3(e)),o=q3(u);return So(o)}function K3(e){let t=ci(e);return Qa(t)}class ni extends S{constructor(t,n,r){super(),this.expected=t,this.found=n,this.path=r}}function Jr(e){return e}function Y3(e){return e}function pf(e){return o_(e)}function qy(e){return Ok(e)}function Z3(e){return Ik(e)}function jR(e){return Nk(e)}function LR(e){return t=>a_(t,e)}function Vy(e){return t=>{if(e.hasLength(0))return new K(p([new ni("another type",pf(t),p([]))]));{let n=e.head,r=e.tail,s=n(t);if(s.isOk()){let i=s[0];return new z(i)}else return Vy(r)(t)}}}function gg(e){return e.isOk()?p([]):e[0]}function _l(e,t){let n=Jr(t),r=Vy(p([Pt,i=>ne(qy(i),D)])),s=(()=>{let i=r(n);if(i.isOk())return i[0];{let u=p(["<",pf(n),">"]),o=W3(u);return Qa(o)}})();return e.withFields({path:J(s,e.path)})}function zy(e){return t=>Nn(jR(t),n=>{let s=D3(n,e);return Al(s,i=>_l(i,"*"))})}function Al(e,t){return Wa(e,n=>X(n,t))}function Pt(e){return Ek(e)}function Qt(e,t){return n=>{let r=new ni("field","nothing",p([]));return Nn(c_(n,e),s=>{let u=Um(s,p([r])),o=Nn(u,t);return Al(o,a=>_l(a,e))})}}function FR(e,t){return n=>Nn(c_(n,e),r=>{if(r instanceof Q)return new z(new Q);{let i=r[0],u=a_(i,t);return Al(u,o=>_l(o,e))}})}function mp(e,t){return n=>Nn(Rk(n),r=>Nn((()=>{let i=rn(r);return D3(i,u=>{let o=u[0],a=u[1];return Nn((()=>{let c=e(o);return Al(c,l=>_l(l,"keys"))})(),c=>Nn((()=>{let l=t(a);return Al(l,d=>_l(d,"values"))})(),l=>new z([c,l])))})})(),s=>new z(kn(s))))}function $R(e,t,n,r){return s=>{let i=t(s),u=n(s),o=r(s);if(i.isOk()&&u.isOk()&&o.isOk()){let a=i[0],c=u[0],l=o[0];return new z(e(a,c,l))}else{let a=i,c=u,l=o;return new K(Is(p([gg(a),gg(c),gg(l)])))}}}const Yx=new WeakMap,mg=new DataView(new ArrayBuffer(8));let yg=0;function Vm(e){const t=Yx.get(e);if(t!==void 0)return t;const n=yg++;return yg===2147483647&&(yg=0),Yx.set(e,n),n}function zm(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}function Hy(e){let t=0;const n=e.length;for(let r=0;r<n;r++)t=Math.imul(31,t)+e.charCodeAt(r)|0;return t}function e_(e){mg.setFloat64(0,e);const t=mg.getInt32(0),n=mg.getInt32(4);return Math.imul(73244475,t>>16^t)^n}function BR(e){return Hy(e.toString())}function UR(e){const t=Object.getPrototypeOf(e);if(t!==null&&typeof t.hashCode=="function")try{const r=e.hashCode(e);if(typeof r=="number")return r}catch{}if(e instanceof Promise||e instanceof WeakSet||e instanceof WeakMap)return Vm(e);if(e instanceof Date)return e_(e.getTime());let n=0;if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),Array.isArray(e)||e instanceof Uint8Array)for(let r=0;r<e.length;r++)n=Math.imul(31,n)+lr(e[r])|0;else if(e instanceof Set)e.forEach(r=>{n=n+lr(r)|0});else if(e instanceof Map)e.forEach((r,s)=>{n=n+zm(lr(r),lr(s))|0});else{const r=Object.keys(e);for(let s=0;s<r.length;s++){const i=r[s],u=e[i];n=n+zm(lr(u),Hy(i))|0}}return n}function lr(e){if(e===null)return 1108378658;if(e===void 0)return 1108378659;if(e===!0)return 1108378657;if(e===!1)return 1108378656;switch(typeof e){case"number":return e_(e);case"string":return Hy(e);case"bigint":return BR(e);case"object":return UR(e);case"symbol":return Vm(e);case"function":return Vm(e);default:return 0}}const vs=5,Gy=Math.pow(2,vs),qR=Gy-1,VR=Gy/2,zR=Gy/4,bn=0,ws=1,zn=2,oo=3,Jy={type:zn,bitmap:0,array:[]};function gf(e,t){return e>>>t&qR}function yp(e,t){return 1<<gf(e,t)}function HR(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),e=e+(e>>4)&252645135,e+=e>>8,e+=e>>16,e&127}function Wy(e,t){return HR(e&t-1)}function yr(e,t,n){const r=e.length,s=new Array(r);for(let i=0;i<r;++i)s[i]=e[i];return s[t]=n,s}function GR(e,t,n){const r=e.length,s=new Array(r+1);let i=0,u=0;for(;i<t;)s[u++]=e[i++];for(s[u++]=n;i<r;)s[u++]=e[i++];return s}function Hm(e,t){const n=e.length,r=new Array(n-1);let s=0,i=0;for(;s<t;)r[i++]=e[s++];for(++s;s<n;)r[i++]=e[s++];return r}function t_(e,t,n,r,s,i){const u=lr(t);if(u===r)return{type:oo,hash:u,array:[{type:bn,k:t,v:n},{type:bn,k:s,v:i}]};const o={val:!1};return mf(Qy(Jy,e,u,t,n,o),e,r,s,i,o)}function mf(e,t,n,r,s,i){switch(e.type){case ws:return JR(e,t,n,r,s,i);case zn:return Qy(e,t,n,r,s,i);case oo:return WR(e,t,n,r,s,i)}}function JR(e,t,n,r,s,i){const u=gf(n,t),o=e.array[u];if(o===void 0)return i.val=!0,{type:ws,size:e.size+1,array:yr(e.array,u,{type:bn,k:r,v:s})};if(o.type===bn)return Le(r,o.k)?s===o.v?e:{type:ws,size:e.size,array:yr(e.array,u,{type:bn,k:r,v:s})}:(i.val=!0,{type:ws,size:e.size,array:yr(e.array,u,t_(t+vs,o.k,o.v,n,r,s))});const a=mf(o,t+vs,n,r,s,i);return a===o?e:{type:ws,size:e.size,array:yr(e.array,u,a)}}function Qy(e,t,n,r,s,i){const u=yp(n,t),o=Wy(e.bitmap,u);if(e.bitmap&u){const a=e.array[o];if(a.type!==bn){const l=mf(a,t+vs,n,r,s,i);return l===a?e:{type:zn,bitmap:e.bitmap,array:yr(e.array,o,l)}}const c=a.k;return Le(r,c)?s===a.v?e:{type:zn,bitmap:e.bitmap,array:yr(e.array,o,{type:bn,k:r,v:s})}:(i.val=!0,{type:zn,bitmap:e.bitmap,array:yr(e.array,o,t_(t+vs,c,a.v,n,r,s))})}else{const a=e.array.length;if(a>=VR){const c=new Array(32),l=gf(n,t);c[l]=Qy(Jy,t+vs,n,r,s,i);let d=0,h=e.bitmap;for(let f=0;f<32;f++){if(h&1){const g=e.array[d++];c[f]=g}h=h>>>1}return{type:ws,size:a+1,array:c}}else{const c=GR(e.array,o,{type:bn,k:r,v:s});return i.val=!0,{type:zn,bitmap:e.bitmap|u,array:c}}}}function WR(e,t,n,r,s,i){if(n===e.hash){const u=Xy(e,r);if(u!==-1)return e.array[u].v===s?e:{type:oo,hash:n,array:yr(e.array,u,{type:bn,k:r,v:s})};const o=e.array.length;return i.val=!0,{type:oo,hash:n,array:yr(e.array,o,{type:bn,k:r,v:s})}}return mf({type:zn,bitmap:yp(e.hash,t),array:[e]},t,n,r,s,i)}function Xy(e,t){const n=e.array.length;for(let r=0;r<n;r++)if(Le(t,e.array[r].k))return r;return-1}function ih(e,t,n,r){switch(e.type){case ws:return QR(e,t,n,r);case zn:return XR(e,t,n,r);case oo:return KR(e,r)}}function QR(e,t,n,r){const s=gf(n,t),i=e.array[s];if(i!==void 0){if(i.type!==bn)return ih(i,t+vs,n,r);if(Le(r,i.k))return i}}function XR(e,t,n,r){const s=yp(n,t);if(!(e.bitmap&s))return;const i=Wy(e.bitmap,s),u=e.array[i];if(u.type!==bn)return ih(u,t+vs,n,r);if(Le(r,u.k))return u}function KR(e,t){const n=Xy(e,t);if(!(n<0))return e.array[n]}function Ky(e,t,n,r){switch(e.type){case ws:return YR(e,t,n,r);case zn:return ZR(e,t,n,r);case oo:return ek(e,r)}}function YR(e,t,n,r){const s=gf(n,t),i=e.array[s];if(i===void 0)return e;let u;if(i.type===bn){if(!Le(i.k,r))return e}else if(u=Ky(i,t+vs,n,r),u===i)return e;if(u===void 0){if(e.size<=zR){const o=e.array,a=new Array(e.size-1);let c=0,l=0,d=0;for(;c<s;){const h=o[c];h!==void 0&&(a[l]=h,d|=1<<c,++l),++c}for(++c;c<o.length;){const h=o[c];h!==void 0&&(a[l]=h,d|=1<<c,++l),++c}return{type:zn,bitmap:d,array:a}}return{type:ws,size:e.size-1,array:yr(e.array,s,u)}}return{type:ws,size:e.size,array:yr(e.array,s,u)}}function ZR(e,t,n,r){const s=yp(n,t);if(!(e.bitmap&s))return e;const i=Wy(e.bitmap,s),u=e.array[i];if(u.type!==bn){const o=Ky(u,t+vs,n,r);return o===u?e:o!==void 0?{type:zn,bitmap:e.bitmap,array:yr(e.array,i,o)}:e.bitmap===s?void 0:{type:zn,bitmap:e.bitmap^s,array:Hm(e.array,i)}}return Le(r,u.k)?e.bitmap===s?void 0:{type:zn,bitmap:e.bitmap^s,array:Hm(e.array,i)}:e}function ek(e,t){const n=Xy(e,t);if(n<0)return e;if(e.array.length!==1)return{type:oo,hash:e.hash,array:Hm(e.array,n)}}function n_(e,t){if(e===void 0)return;const n=e.array,r=n.length;for(let s=0;s<r;s++){const i=n[s];if(i!==void 0){if(i.type===bn){t(i.v,i.k);continue}n_(i,t)}}}let Qi=class Oi{static fromObject(t){const n=Object.keys(t);let r=Oi.new();for(let s=0;s<n.length;s++){const i=n[s];r=r.set(i,t[i])}return r}static fromMap(t){let n=Oi.new();return t.forEach((r,s)=>{n=n.set(s,r)}),n}static new(){return new Oi(void 0,0)}constructor(t,n){this.root=t,this.size=n}get(t,n){if(this.root===void 0)return n;const r=ih(this.root,0,lr(t),t);return r===void 0?n:r.v}set(t,n){const r={val:!1},s=this.root===void 0?Jy:this.root,i=mf(s,0,lr(t),t,n,r);return i===this.root?this:new Oi(i,r.val?this.size+1:this.size)}delete(t){if(this.root===void 0)return this;const n=Ky(this.root,0,lr(t),t);return n===this.root?this:n===void 0?Oi.new():new Oi(n,this.size-1)}has(t){return this.root===void 0?!1:ih(this.root,0,lr(t),t)!==void 0}entries(){if(this.root===void 0)return[];const t=[];return this.forEach((n,r)=>t.push([r,n])),t}forEach(t){n_(this.root,t)}hashCode(){let t=0;return this.forEach((n,r)=>{t=t+zm(lr(n),lr(r))|0}),t}equals(t){if(!(t instanceof Oi)||this.size!==t.size)return!1;let n=!0;return this.forEach((r,s)=>{n=n&&Le(t.get(s,!r),r)}),n}};const Yy=void 0,Zx={};function tk(e){return/^[-+]?(\d+)$/.test(e)?new z(parseInt(e)):new K(Yy)}function nk(e){return e.toString()}function rk(e){const t=e.toString();return t.indexOf(".")>=0?t:t+".0"}function sk(e,t,n){return typeof e.replaceAll<"u"?e.replaceAll(t,n):e.replace(new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g"),n)}function ik(e){if(e==="")return 0;const t=r_(e);if(t){let n=0;for(const r of t)n++;return n}else return e.match(/./gsu).length}function yf(e){const t=r_(e);return t?Ke.fromArray(Array.from(t).map(n=>n.segment)):Ke.fromArray(e.match(/./gsu))}function r_(e){if(Intl&&Intl.Segmenter)return new Intl.Segmenter().segment(e)[Symbol.iterator]()}function uk(e){return e.toLowerCase()}function ok(e,t){return e+t}function ak(e,t){return Ke.fromArray(e.split(t))}function ck(e,t){const n=e[Symbol.iterator]();let r=n.next().value||"",s=n.next();for(;!s.done;)r=r+t+s.value,s=n.next();return r}function lk(e){let t="";for(const n of e)t=t+n;return t}function fk(e,t){return e.indexOf(t)>=0}const s_=[" ","	",`
`,"\v","\f","\r","","\u2028","\u2029"].join(),dk=new RegExp(`^([${s_}]*)`,"g"),hk=new RegExp(`([${s_}]*)$`,"g");function pk(e){return gk(mk(e))}function gk(e){return e.replace(dk,"")}function mk(e){return e.replace(hk,"")}function yk(e){var t;typeof process=="object"&&((t=process.stderr)!=null&&t.write)?process.stderr.write(e+`
`):typeof Deno=="object"?Deno.stderr.writeSync(new TextEncoder().encode(e+`
`)):console.log(e)}function bk(e){return Math.floor(e)}function ev(e){return Math.round(e)}function i_(){const e=Math.random();return e===1?i_():e}function wk(e,t){return e.lastIndex=0,e.test(t)}function xk(e,t){try{let n="gu";return t.case_insensitive&&(n+="i"),t.multi_line&&(n+="m"),new z(new RegExp(e,n))}catch(n){const r=(n.columnNumber||0)|0;return new K(new H8(n.message,r))}}function vk(){return Qi.new()}function bg(e){return e.size}function rn(e){return Ke.fromArray(e.entries())}function Sk(e,t){return t.delete(e)}function u_(e,t){const n=e.get(t,Zx);return n===Zx?new K(Yy):new z(n)}function _k(e,t,n){return n.set(e,t)}function tv(e){return decodeURIComponent((e||"").replace("+"," "))}function Ak(e){try{const t=[];for(const n of e.split("&")){const[r,s]=n.split("=");r&&t.push([tv(r),tv(s)])}return new z(Ke.fromArray(t))}catch{return new K(Yy)}}function o_(e){if(typeof e=="string")return"String";if(typeof e=="boolean")return"Bool";if(e instanceof hf)return"Result";if(e instanceof Ke)return"List";if(e instanceof xa)return"BitArray";if(e instanceof Qi)return"Dict";if(Number.isInteger(e))return"Int";if(Array.isArray(e))return`Tuple of ${e.length} elements`;if(typeof e=="number")return"Float";if(e===null)return"Null";if(e===void 0)return"Nil";{const t=typeof e;return t.charAt(0).toUpperCase()+t.slice(1)}}function Xi(e,t){return Tk(e,o_(t))}function Tk(e,t){return new K(Ke.fromArray([new ni(e,t,Ke.fromArray([]))]))}function Ek(e){return typeof e=="string"?new z(e):Xi("String",e)}function Ok(e){return Number.isInteger(e)?new z(e):Xi("Int",e)}function Ik(e){return typeof e=="boolean"?new z(e):Xi("Bool",e)}function Nk(e){return Array.isArray(e)?new z(Ke.fromArray(e)):e instanceof Ke?new z(e):Xi("List",e)}function Rk(e){if(e instanceof Qi)return new z(e);if(e instanceof Map||e instanceof WeakMap)return new z(Qi.fromMap(e));if(e==null||typeof e!="object")return Xi("Dict",e);const t=Object.getPrototypeOf(e);return t===Object.prototype||t===null?new z(Qi.fromObject(e)):Xi("Dict",e)}function a_(e,t){if(e==null||e instanceof Q)return new z(new Q);e instanceof E&&(e=e[0]);const n=t(e);return n.isOk()?new z(new E(n[0])):n}function c_(e,t){const n=()=>Xi("Dict",e);if(e instanceof Qi||e instanceof WeakMap||e instanceof Map){const r=u_(e,t);return new z(r.isOk()?new E(r[0]):new Q)}else return e===null?n():Object.getPrototypeOf(e)==Object.prototype?nv(e,t,()=>new z(new Q)):nv(e,t,n)}function nv(e,t,n){try{return t in e?new z(new E(e[t])):n()}catch{return n()}}function ci(e){const t=typeof e;if(e===!0)return"True";if(e===!1)return"False";if(e===null)return"//js(null)";if(e===void 0)return"Nil";if(t==="string")return kk(e);if(t==="bigint"||t==="number")return e.toString();if(Array.isArray(e))return`#(${e.map(ci).join(", ")})`;if(e instanceof Ke)return Pk(e);if(e instanceof N3)return Lk(e);if(e instanceof xa)return jk(e);if(e instanceof S)return Mk(e);if(e instanceof Qi)return Ck(e);if(e instanceof Set)return`//js(Set(${[...e].map(ci).join(", ")}))`;if(e instanceof RegExp)return`//js(${e})`;if(e instanceof Date)return`//js(Date("${e.toISOString()}"))`;if(e instanceof Function){const n=[];for(const r of Array(e.length).keys())n.push(String.fromCharCode(r+97));return`//fn(${n.join(", ")}) { ... }`}return Dk(e)}function kk(e){let t='"';for(let n=0;n<e.length;n++){let r=e[n];switch(r){case`
`:t+="\\n";break;case"\r":t+="\\r";break;case"	":t+="\\t";break;case"\f":t+="\\f";break;case"\\":t+="\\\\";break;case'"':t+='\\"';break;default:r<" "||r>"~"&&r<" "?t+="\\u{"+r.charCodeAt(0).toString(16).toUpperCase().padStart(4,"0")+"}":t+=r}}return t+='"',t}function Ck(e){let t="dict.from_list([",n=!0;return e.forEach((r,s)=>{n||(t=t+", "),t=t+"#("+ci(s)+", "+ci(r)+")",n=!1}),t+"])"}function Dk(e){var i,u;const t=((u=(i=Object.getPrototypeOf(e))==null?void 0:i.constructor)==null?void 0:u.name)||"Object",n=[];for(const o of Object.keys(e))n.push(`${ci(o)}: ${ci(e[o])}`);const r=n.length?" "+n.join(", ")+" ":"";return`//js(${t==="Object"?"":t+" "}{${r}})`}function Mk(e){const t=Object.keys(e).map(n=>{const r=ci(e[n]);return isNaN(parseInt(n))?`${n}: ${r}`:r}).join(", ");return t?`${e.constructor.name}(${t})`:e.constructor.name}function Pk(e){return`[${e.toArray().map(ci).join(", ")}]`}function jk(e){return`<<${Array.from(e.buffer).join(", ")}>>`}function Lk(e){return`//utfcodepoint(${String.fromCodePoint(e.value)})`}function Xa(){return vk()}function On(e,t){return u_(e,t)}function xr(e,t,n){return _k(t,n,e)}function Fk(e,t){for(;;){let n=e,r=t;if(n.hasLength(0))return r;{let s=n.head;e=n.tail,t=xr(r,s[0],s[1])}}}function kn(e){return Fk(e,Xa())}function l_(e,t){for(;;){let n=e,r=t;if(n.hasLength(0))return r;{let s=n.head;e=n.tail,t=J(s,r)}}}function $k(e,t){for(;;){let n=e,r=t;if(n.hasLength(0))return l_(r,p([]));{let s=n.head;e=n.tail,t=J(s[0],r)}}}function Bk(e){let t=rn(e);return $k(t,p([]))}function Uk(e){return Bk(e)}function qk(e,t){for(;;){let n=e,r=t;if(n.hasLength(0))return l_(r,p([]));{let s=n.head;e=n.tail,t=J(s[1],r)}}}function Vk(e){let t=rn(e);return qk(t,p([]))}function Wr(e){return Vk(e)}function zk(e,t){return xr(e,t[0],t[1])}function Hk(e,t){for(;;){let n=e,r=t;if(n.hasLength(0))return r;{let s=n.head;e=n.tail,t=zk(r,s)}}}function Gk(e,t){let r=rn(t);return Hk(r,e)}function Jk(e,t){return Gk(e,t)}function Wk(e,t){return Sk(t,e)}function wg(e,t){for(;;){let n=e,r=t;if(r.hasLength(0))return n;{let s=r.head,i=r.tail;e=Wk(n,s),t=i}}}function Qk(e,t,n){let s=On(e,t),i=Ly(s),u=n(i);return(o=>xr(e,t,o))(u)}function Xk(e,t,n){for(;;){let r=e,s=t,i=n;if(r.hasLength(0))return s;{let u=r.head[0],o=r.head[1];e=r.tail,t=i(s,u,o),n=i}}}function Kk(e,t,n){let s=rn(e);return Xk(s,t,n)}function Yk(e,t){let n=(s,i,u)=>xr(s,i,e(i,u));return Kk(t,Xa(),n)}function Zk(e,t){return Yk(t,e)}function li(e){let n=K3(e);return yk(n),e}class e5 extends S{constructor(t,n,r,s,i,u,o){super(),this.scheme=t,this.userinfo=n,this.host=r,this.port=s,this.path=i,this.query=u,this.fragment=o}}function rv(e){return Ak(e)}function t5(e,t){for(;;){let n=e,r=t;if(n.hasLength(0))return jt(r);{let s=n.head,i=n.tail,u=s===""||s==="."?r:s===".."&&r.hasLength(0)?p([]):s===".."&&r.atLeastLength(1)?r.tail:J(s,r);e=i,t=u}}}function n5(e){return t5(e,p([]))}function r5(e){return n5(X3(e,"/"))}function Zy(e){return e?1:0}function f_(e){return e?"True":"False"}function Sa(e,t,n){return e?t:n()}function s5(e){return JSON.stringify(e)}function i5(e){return Object.fromEntries(e)}function u5(e){return e.toArray()}function o5(){return null}function a5(e){try{const t=JSON.parse(e);return new z(t)}catch(t){return new K(c5(t,e))}}function c5(e,t){return l5(e)?new d_:f5(e,t)}function l5(e){return/((unexpected (end|eof))|(end of data)|(unterminated string)|(json( parse error|\.parse)\: expected '(\:|\}|\])'))/i.test(e.message)}function f5(e,t){let n=[d5,h5,g5,p5];for(let r of n){let s=r(e,t);if(s)return s}return new Ka("",0)}function d5(e){const n=/unexpected token '(.)', ".+" is not valid JSON/i.exec(e.message);if(!n)return null;const r=bp(n[1]);return new Ka(r,-1)}function h5(e){const n=/unexpected token (.) in JSON at position (\d+)/i.exec(e.message);if(!n)return null;const r=bp(n[1]),s=Number(n[2]);return new Ka(r,s)}function p5(e,t){const r=/(unexpected character|expected .*) at line (\d+) column (\d+)/i.exec(e.message);if(!r)return null;const s=Number(r[2]),i=Number(r[3]),u=m5(s,i,t),o=bp(t[u]);return new Ka(o,u)}function g5(e){const n=/unexpected (identifier|token) "(.)"/i.exec(e.message);if(!n)return null;const r=bp(n[2]);return new Ka(r,0)}function bp(e){return"0x"+e.charCodeAt(0).toString(16).toUpperCase()}function m5(e,t,n){if(e===1)return t-1;let r=1,s=0;return n.split("").find((i,u)=>(i===`
`&&(r+=1),r===e?(s=u+t,!0):!1)),s}class d_ extends S{}class Ka extends S{constructor(t,n){super(),this.byte=t,this.position=n}}class y5 extends S{constructor(t,n){super(),this.byte=t,this.position=n}}class b5 extends S{constructor(t){super(),this[0]=t}}function w5(e,t){return F3(a5(e),n=>{let r=t(n);return Wa(r,s=>new b5(s))})}function h_(e,t){return w5(e,t)}function Dd(e){return s5(e)}function Vr(e){return e}function x5(){return o5()}function xg(e,t){if(e instanceof E){let n=e[0];return t(n)}else return x5()}function _o(e){return i5(e)}function v5(e){return u5(e)}function S5(e,t){let r=X(e,t);return v5(r)}class bf extends S{constructor(t){super(),this.all=t}}function sn(e){return new bf(p([(t,n)=>e(t)]))}function _5(e,t){return new bf(p([(n,r)=>r(e,t)]))}function P(){return new bf(p([]))}function eb(e){return new bf(Bn(e,p([]),(t,n)=>{let r=n.all;return lp(t,r)}))}function ls(e,t){return new bf(X(e.all,n=>(r,s)=>n(i=>r(t(i)),s)))}let uh=class extends S{constructor(t){super(),this.content=t}},nt=class extends S{constructor(t,n,r,s,i,u,o){super(),this.key=t,this.namespace=n,this.tag=r,this.attrs=s,this.children=i,this.self_closing=u,this.void=o}},Ko=class extends S{constructor(t){super(),this.subtree=t}};class Tl extends S{constructor(t,n){super(),this.elements=t,this.key=n}}class oh extends S{constructor(t,n,r){super(),this[0]=t,this[1]=n,this.as_property=r}}let p_=class extends S{constructor(t,n){super(),this[0]=t,this[1]=n}};function de(e,t){return new oh(e,Jr(t),!1)}function wf(e,t){return new oh(e,Jr(t),!0)}function A5(e,t){return new p_("on"+e,t)}function T5(e,t){if(e instanceof oh){let n=e[0],r=e[1],s=e.as_property;return new oh(n,r,s)}else{let n=e[0],r=e[1];return new p_(n,s=>ne(r(s),t))}}function In(e){return de("style",Bn(e,"",(t,n)=>{let r=n[0],s=n[1];return t+r+":"+s+";"}))}function _(e){return de("class",e)}function E5(){return _("")}function O5(e){return de("class",(()=>{let n=C3(e,r=>r[1]?new z(r[0]):new K(void 0));return Sl(n," ")})())}function je(e){return de("id",e)}function We(e){return de("type",e)}function ut(e){return de("value",e)}function g_(e){return wf("checked",e)}function vg(e){return de("placeholder",e)}function Yo(e){return wf("selected",e)}function sv(e){return wf("disabled",e)}function Jt(e){return de("name",e)}function Pi(e){return de("for",e)}function yt(e){return de("href",e)}function Fe(e,t,n){return e==="area"?new nt("","",e,t,p([]),!1,!0):e==="base"?new nt("","",e,t,p([]),!1,!0):e==="br"?new nt("","",e,t,p([]),!1,!0):e==="col"?new nt("","",e,t,p([]),!1,!0):e==="embed"?new nt("","",e,t,p([]),!1,!0):e==="hr"?new nt("","",e,t,p([]),!1,!0):e==="img"?new nt("","",e,t,p([]),!1,!0):e==="input"?new nt("","",e,t,p([]),!1,!0):e==="link"?new nt("","",e,t,p([]),!1,!0):e==="meta"?new nt("","",e,t,p([]),!1,!0):e==="param"?new nt("","",e,t,p([]),!1,!0):e==="source"?new nt("","",e,t,p([]),!1,!0):e==="track"?new nt("","",e,t,p([]),!1,!0):e==="wbr"?new nt("","",e,t,p([]),!1,!0):new nt("","",e,t,n,!1,!1)}function Md(e,t){if(e instanceof nt){let n=e.namespace,r=e.tag,s=e.attrs,i=e.children,u=e.self_closing,o=e.void;return new nt(t,n,r,s,i,u,o)}else if(e instanceof Ko){let n=e.subtree;return new Ko(()=>Md(n(),t))}else if(e instanceof Tl){let r=e.elements,s=uo(r,(i,u)=>{if(i instanceof nt){let o=i.key,a=o===""?t+"-"+D(u):t+"-"+o;return Md(i,a)}else return Md(i,t)});return new Tl(s,t)}else return e}function Xu(e,t){return e(X(t,n=>{let r=n[0],s=n[1];return Md(s,r)}))}function L(e){return new uh(e)}function Cn(){return new uh("")}function I5(e){return dp(e,p([]),(t,n)=>{if(n instanceof Tl){let r=n.elements;return lp(r,t)}else return J(n,t)})}function un(e){let t=I5(e);return new Tl(t,"")}function fs(e,t){if(e instanceof uh){let n=e.content;return new uh(n)}else if(e instanceof Ko){let n=e.subtree;return new Ko(()=>fs(n(),t))}else if(e instanceof nt){let n=e.key,r=e.namespace,s=e.tag,i=e.attrs,u=e.children,o=e.self_closing,a=e.void;return new Ko(()=>new nt(n,r,s,X(i,c=>T5(c,t)),X(u,c=>fs(c,t)),o,a))}else{let n=e.elements,r=e.key;return new Ko(()=>new Tl(X(n,s=>fs(s,t)),r))}}let N5=class extends S{constructor(t){super(),this.dict=t}};function R5(e,t){let n=e.dict,r=On(n,t);return _R(r)}const k5=void 0;function C5(e){let t=Bn(e,Xa(),(n,r)=>xr(n,r,k5));return new N5(t)}let m_=class extends S{constructor(t){super(),this[0]=t}};class ju extends S{constructor(t){super(),this[0]=t}}class y_ extends S{}class b_ extends S{constructor(t){super(),this[0]=t}}function iv(e,t,n,r=!1){let s,i=[{prev:e,next:t,parent:e.parentNode}];for(;i.length;){let{prev:u,next:o,parent:a}=i.pop();if(o.subtree!==void 0&&(o=o.subtree()),o.content!==void 0)if(u)if(u.nodeType===Node.TEXT_NODE)u.textContent!==o.content&&(u.textContent=o.content),s??(s=u);else{const c=document.createTextNode(o.content);a.replaceChild(c,u),s??(s=c)}else{const c=document.createTextNode(o.content);a.appendChild(c),s??(s=c)}else if(o.tag!==void 0){const c=D5({prev:u,next:o,dispatch:n,stack:i,isComponent:r});u?u!==c&&a.replaceChild(c,u):a.appendChild(c),s??(s=c)}else o.elements!==void 0?wp(o,c=>{i.unshift({prev:u,next:c,parent:a}),u=u==null?void 0:u.nextSibling}):o.subtree!==void 0&&i.push({prev:u,next:o,parent:a})}return s}function D5({prev:e,next:t,dispatch:n,stack:r}){const s=t.namespace||"http://www.w3.org/1999/xhtml",i=e&&e.nodeType===Node.ELEMENT_NODE&&e.localName===t.tag&&e.namespaceURI===(t.namespace||"http://www.w3.org/1999/xhtml"),u=i?e:s?document.createElementNS(s,t.tag):document.createElement(t.tag);let o;if(sl.has(u))o=sl.get(u);else{const w=new Map;sl.set(u,w),o=w}const a=i?new Set(o.keys()):null,c=i?new Set(Array.from(e.attributes,w=>w.name)):null;let l=null,d=null,h=null;for(const w of t.attrs){const v=w[0],x=w[1];if(w.as_property)u[v]!==x&&(u[v]=x),i&&c.delete(v);else if(v.startsWith("on")){const A=v.slice(2),T=n(x);o.has(A)||u.addEventListener(A,il),o.set(A,T),i&&a.delete(A)}else if(v.startsWith("data-lustre-on-")){const A=v.slice(15),T=n(M5);o.has(A)||u.addEventListener(A,il),o.set(A,T),u.setAttribute(v,x)}else v==="class"?l=l===null?x:l+" "+x:v==="style"?d=d===null?x:d+x:v==="dangerous-unescaped-html"?h=x:(u.getAttribute(v)!==x&&u.setAttribute(v,x),(v==="value"||v==="selected")&&(u[v]=x),i&&c.delete(v))}if(l!==null&&(u.setAttribute("class",l),i&&c.delete("class")),d!==null&&(u.setAttribute("style",d),i&&c.delete("style")),i){for(const w of c)u.removeAttribute(w);for(const w of a)o.delete(w),u.removeEventListener(w,il)}if(t.key!==void 0&&t.key!=="")u.setAttribute("data-lustre-key",t.key);else if(h!==null)return u.innerHTML=h,u;let f=u.firstChild,g=null,m=null,y=null,b=t.children[Symbol.iterator]().next().value;i&&b!==void 0&&b.key!==void 0&&b.key!==""&&(g=new Set,m=uv(e),y=uv(t));for(const w of t.children)wp(w,v=>{v.key!==void 0&&g!==null?f=P5(f,v,u,r,y,m,g):(r.unshift({prev:f,next:v,parent:u}),f=f==null?void 0:f.nextSibling)});for(;f;){const w=f.nextSibling;u.removeChild(f),f=w}return u}const sl=new WeakMap;function il(e){const t=e.currentTarget;if(!sl.has(t)){t.removeEventListener(e.type,il);return}const n=sl.get(t);if(!n.has(e.type)){t.removeEventListener(e.type,il);return}n.get(e.type)(e)}function M5(e){const t=e.currentTarget,n=t.getAttribute(`data-lustre-on-${e.type}`),r=JSON.parse(t.getAttribute("data-lustre-data")||"{}"),s=JSON.parse(t.getAttribute("data-lustre-include")||"[]");switch(e.type){case"input":case"change":s.push("target.value");break}return{tag:n,data:s.reduce((i,u)=>{var a;const o=u.split(".");for(let c=0,l=i,d=e;c<o.length;c++)c===o.length-1?l[o[c]]=d[o[c]]:(l[a=o[c]]??(l[a]={}),d=d[o[c]],l=l[o[c]]);return i},{data:r})}}function uv(e){const t=new Map;if(e)for(const n of e.children)wp(n,r=>{var i;const s=(r==null?void 0:r.key)||((i=r==null?void 0:r.getAttribute)==null?void 0:i.call(r,"data-lustre-key"));s&&t.set(s,r)});return t}function P5(e,t,n,r,s,i,u){for(;e&&!s.has(e.getAttribute("data-lustre-key"));){const a=e.nextSibling;n.removeChild(e),e=a}if(i.size===0)return wp(t,a=>{r.unshift({prev:e,next:a,parent:n}),e=e==null?void 0:e.nextSibling}),e;if(u.has(t.key))return console.warn(`Duplicate key found in Lustre vnode: ${t.key}`),r.unshift({prev:null,next:t,parent:n}),e;u.add(t.key);const o=i.get(t.key);if(!o&&!e)return r.unshift({prev:null,next:t,parent:n}),e;if(!o&&e!==null){const a=document.createTextNode("");return n.insertBefore(a,e),r.unshift({prev:a,next:t,parent:n}),e}return!o||o===e?(r.unshift({prev:e,next:t,parent:n}),e=e==null?void 0:e.nextSibling,e):(n.insertBefore(o,e),r.unshift({prev:o,next:t,parent:n}),e)}function wp(e,t){if(e.elements!==void 0)for(const n of e.elements)t(n);else t(e)}var Fr,Js,ds,Ws,ma,Qs,ya,Gu,Xn,Pd,Gm,w_,x_;const Ux=class Ux{constructor([t,n],r,s,i=document.body,u=!1){Be(this,Xn);Be(this,Fr,null);Be(this,Js,[]);Be(this,ds,[]);Be(this,Ws,!1);Be(this,ma,!1);Be(this,Qs,null);Be(this,ya,null);Be(this,Gu,null);oe(this,Qs,t),oe(this,ya,r),oe(this,Gu,s),oe(this,Fr,i),oe(this,ds,n.all.toArray()),oe(this,Ws,!0),oe(this,ma,u),window.requestAnimationFrame(()=>Rr(this,Xn,Pd).call(this))}static start(t,n,r,s,i){if(!xp())return new K(new tb);const u=n instanceof HTMLElement?n:document.querySelector(n);if(!u)return new K(new q5(n));const o=new Ux(r(t),s,i,u);return new z(a=>o.send(a))}send(t){switch(!0){case t instanceof ju:{B(this,Js).push(t[0]),Rr(this,Xn,Pd).call(this);return}case t instanceof y_:{Rr(this,Xn,x_).call(this);return}case t instanceof m_:{Rr(this,Xn,w_).call(this,t[0]);return}default:return}}emit(t,n){B(this,Fr).dispatchEvent(new CustomEvent(t,{bubbles:!0,detail:n,composed:!0}))}};Fr=new WeakMap,Js=new WeakMap,ds=new WeakMap,Ws=new WeakMap,ma=new WeakMap,Qs=new WeakMap,ya=new WeakMap,Gu=new WeakMap,Xn=new WeakSet,Pd=function(){if(Rr(this,Xn,Gm).call(this),B(this,Ws)){const t=B(this,Gu).call(this,B(this,Qs)),n=r=>s=>{const i=r(s);i instanceof z&&this.send(new ju(i[0]))};oe(this,Ws,!1),oe(this,Fr,iv(B(this,Fr),t,n,B(this,ma)))}},Gm=function(t=0){for(;B(this,Js).length;){const[n,r]=B(this,ya).call(this,B(this,Qs),B(this,Js).shift());B(this,Ws)||oe(this,Ws,B(this,Qs)!==n),oe(this,Qs,n),oe(this,ds,B(this,ds).concat(r.all.toArray()))}for(;B(this,ds).length;)B(this,ds).shift()(n=>this.send(new ju(n)),(n,r)=>this.emit(n,r));B(this,Js).length&&(t<5?Rr(this,Xn,Gm).call(this,++t):window.requestAnimationFrame(()=>Rr(this,Xn,Pd).call(this)))},w_=function(t){switch(!0){case t instanceof b_:{const n=B(this,Gu).call(this,t[0]),r=s=>i=>{const u=s(i);u instanceof z&&this.send(new ju(u[0]))};oe(this,Js,[]),oe(this,ds,[]),oe(this,Ws,!1),oe(this,Fr,iv(B(this,Fr),n,r,B(this,ma)))}}},x_=function(){B(this,Fr).remove(),oe(this,Fr,null),oe(this,Qs,null),oe(this,Js,[]),oe(this,ds,[]),oe(this,Ws,!1),oe(this,ya,()=>{}),oe(this,Gu,()=>{})};let ah=Ux;const j5=(e,t,n)=>ah.start(n,t,e.init,e.update,e.view),xp=()=>globalThis.window&&window.document,L5=e=>e.preventDefault();function F5({init:e,update:t,view:n,on_attribute_change:r},s){if(!xp())return new K(new tb);if(!s.includes("-"))return new K(new B5(s));if(window.customElements.get(s))return new K(new U5(s));const i=$5(e,t,n,r);window.customElements.define(s,i);for(const u of document.querySelectorAll(s)){const o=new i;for(const a of u.attributes)o.setAttribute(a.name,a.value);u.replaceWith(o)}return new z(void 0)}function $5(e,t,n,r){var s,i,u,o;return o=class extends HTMLElement{constructor(){var l;super();Be(this,s,document.createElement("div"));Be(this,i,null);Be(this,u,null);k(this,"slotContent",[]);oe(this,u,this.attachShadow({mode:"closed"})),(l=r[0])==null||l.forEach((d,h)=>{Object.defineProperty(this,h,{get(){return this[`_${h}`]||this.getAttribute(h)},set(f){const g=this[h],m=d(f);m instanceof z&&!Le(g,f)&&(B(this,i)?B(this,i).send(new ju(m[0])):window.requestAnimationFrame(()=>B(this,i).send(new ju(m[0])))),this[`_${h}`]=f}})})}static get observedAttributes(){var l;return((l=r[0])==null?void 0:l.entries().map(([d,h])=>d))??[]}connectedCallback(){for(const l of document.querySelectorAll("link"))l.rel==="stylesheet"&&B(this,u).appendChild(l.cloneNode(!0));for(const l of document.querySelectorAll("style"))B(this,u).appendChild(l.cloneNode(!0));oe(this,i,new ah(e(),t,n,B(this,s),!0)),B(this,u).append(B(this,s))}attributeChangedCallback(l,d,h){this[l]=h}disconnectedCallback(){B(this,i).send(new y_)}get adoptedStyleSheets(){return B(this,u).adoptedStyleSheets}set adoptedStyleSheets(l){B(this,u).adoptedStyleSheets=l}},s=new WeakMap,i=new WeakMap,u=new WeakMap,o}class v_ extends S{constructor(t,n,r,s){super(),this.init=t,this.update=n,this.view=r,this.on_attribute_change=s}}class B5 extends S{constructor(t){super(),this.name=t}}class U5 extends S{constructor(t){super(),this.name=t}}class q5 extends S{constructor(t){super(),this.selector=t}}let tb=class extends S{};function S_(e,t,n){return new v_(e,t,n,new Q)}function V5(e,t,n,r){return new v_(e,t,n,new E(r))}function __(e){return new ju(e)}function A_(e,t,n){return Sa(!xp(),new K(new tb),()=>j5(e,t,n))}function on(e){return L(e)}function z5(e,t){return Fe("h1",e,t)}function as(e,t){return Fe("h2",e,t)}function H5(e,t){return Fe("main",e,t)}function Ao(e,t){return Fe("nav",e,t)}function ao(e,t){return Fe("section",e,t)}function j(e,t){return Fe("div",e,t)}function T_(e,t){return Fe("li",e,t)}function G5(e,t){return Fe("ol",e,t)}function J5(e,t){return Fe("ul",e,t)}function bt(e,t){return Fe("a",e,t)}function Wt(e,t){return Fe("span",e,t)}function _r(e,t){return Fe("button",e,t)}function _t(e,t){return Fe("fieldset",e,t)}function nb(e,t){return Fe("form",e,t)}function Fn(e){return Fe("input",e,p([]))}function gs(e,t){return Fe("label",e,t)}function El(e,t){return Fe("legend",e,t)}function Zo(e,t){return Fe("option",e,p([L(t)]))}function ch(e,t){return Fe("select",e,t)}function rb(e,t){return Fe("textarea",e,p([L(t)]))}function W5(e,t){return Fe("details",e,t)}function Q5(e,t){return Fe("summary",e,t)}const X5={handle_external_links:!1,handle_internal_links:!0};var T3;const ov=(T3=window==null?void 0:window.location)==null?void 0:T3.href,K5=()=>ov?new z(Jm(new URL(ov))):new K(void 0),Y5=(e,t=X5)=>{document.body.addEventListener("click",n=>{const r=E_(n.target);if(r)try{const s=new URL(r.href),i=Jm(s),u=s.host!==window.location.host;return!t.handle_external_links&&u||!t.handle_internal_links&&!u?void 0:(n.preventDefault(),u||(window.history.pushState({},"",r.href),window.requestAnimationFrame(()=>{var o;s.hash&&((o=document.getElementById(s.hash.slice(1)))==null||o.scrollIntoView())})),e(i))}catch{return}}),window.addEventListener("popstate",n=>{n.preventDefault();const r=new URL(window.location.href),s=Jm(r);window.requestAnimationFrame(()=>{var i;r.hash&&((i=document.getElementById(r.hash.slice(1)))==null||i.scrollIntoView())}),e(s)})},E_=e=>e.tagName==="BODY"?null:e.tagName==="A"?e:E_(e.parentElement),Jm=e=>new e5(e.protocol?new E(e.protocol):new Q,new Q,e.host?new E(e.host):new Q,e.port?new E(Number(e.port)):new Q,e.pathname,e.search?new E(e.search.slice(1)):new Q,e.hash?new E(e.hash.slice(1)):new Q);function Z5(e){return sn(t=>Sa(!xp(),void 0,()=>Y5(n=>{let s=e(n);return t(s)})))}function Lu(e){return t=>n=>e(t,n)}function av(e,t){return e(t)}class O_ extends S{constructor(t){super(),this.run=t}}class ms extends S{constructor(t,n){super(),this[0]=t,this[1]=n}}class Ol extends S{}class lh extends S{constructor(t){super(),this[0]=t}}class Il extends S{}class cv extends S{constructor(t,n,r){super(),this.span=t,this.lexeme=n,this.value=r}}class Wm extends S{constructor(t,n,r,s){super(),this.row_start=t,this.col_start=n,this.row_end=r,this.col_end=s}}class lv extends S{constructor(t,n,r){super(),this.row=t,this.col=n,this.lexeme=r}}class eC extends S{constructor(t){super(),this.matchers=t}}let Wc=class extends S{constructor(t,n,r,s,i){super(),this.source=t,this.tokens=n,this.current=r,this.row=s,this.col=i}};function I_(e){return new eC(t=>e)}function fv(e){return new O_((t,n,r)=>{let s=e(n,r),i=ne(s,u=>new ms(u,t));return we(i,new Il)})}function N_(e){return new O_(e)}function dv(e,t,n,r){return j3(r,new Il,(s,i)=>{let u=i.run(e,t,n);if(u instanceof ms){let o=u;return new nl(o)}else{if(u instanceof Ol)return new nl(new Ol);if(u instanceof lh){let o=u;return new nl(o)}else return new $y(new Il)}})}function tC(e,t){return t===`
`?1:e+1}function nC(e,t){return t===`
`?e+1:e}function rC(e,t,n){for(;;){let r=e,s=t,i=n,u=r.matchers(s),o=i.source,a=i.current;if(o.hasLength(0)&&a[2]==="")return new z(jt(i.tokens));if(o.hasLength(0)){let c=a[0],l=a[1],d=a[2],h=dv(s,d,"",u);if(h instanceof Il)return new K(new lv(c,l,d));if(h instanceof Ol)return new K(new lv(c,l,d));if(h instanceof lh)return new z(jt(i.tokens));{let f=h[0],g=new Wm(c,l,i.row,i.col),m=new cv(g,d,f);return new z(jt(J(m,i.tokens)))}}else{let c=o.head,l=o.tail,d=a[0],h=a[1],f=a[2],g=nC(i.row,c),m=tC(i.col,c),y=dv(s,f,c,u);if(y instanceof ms){let b=y[0],w=y[1],v=new Wm(d,h,i.row,i.col),x=new cv(v,f,b);e=r,t=w,n=new Wc(l,J(x,i.tokens),[i.row,i.col,c],g,m)}else if(y instanceof Ol)e=r,t=s,n=new Wc(l,i.tokens,[d,h,f+c],g,m);else if(y instanceof lh){let b=y[0];e=r,t=b,n=new Wc(l,i.tokens,[i.row,i.col,c],g,m)}else e=r,t=s,n=new Wc(l,i.tokens,[d,h,f+c],g,m)}}}function R_(e,t){let n=yf(e),r=new Wc(n,p([]),[1,1,""],1,1);return(s=>rC(t,void 0,s))(r)}let lu=class extends S{constructor(t){super(),this[0]=t}};class wn extends S{constructor(t,n,r){super(),this[0]=t,this[1]=n,this[2]=r}}class Qr extends S{constructor(t,n){super(),this[0]=t,this[1]=n}}let sC=class extends S{constructor(t,n,r,s){super(),this.src=t,this.idx=n,this.pos=r,this.ctx=s}};class an extends S{constructor(t){super(),this[0]=t}}class k_ extends S{}class C_ extends S{constructor(t,n){super(),this[0]=t,this.got=n}}class iC extends S{constructor(t){super(),this[0]=t}}class uC extends S{constructor(t,n,r){super(),this.pos=t,this.problem=n,this.context=r}}class fh extends S{}class Qm extends S{constructor(t,n){super(),this[0]=t,this[1]=n}}class oC extends S{constructor(t,n){super(),this[0]=t,this[1]=n}}function _a(e,t){let n=t[0];return n(e)}function vp(e){let t=On(e.src,e.idx);if(t.isOk()){let n=t[0].span,r=t[0].value;return[new E(r),e.withFields({idx:e.idx+1,pos:n})]}else return[new Q,e]}function Nt(e){return new lu(t=>new wn(new an(!1),e,t))}function ri(e){return Nt(e)}function hv(e){return new lu(t=>{let n=_a(t,e);if(n instanceof wn){let r=n[1],s=n[2];return new wn(new an(!1),r,s)}else{let r=n[1];return new Qr(new an(!1),r)}})}function pv(e,t){let n=e[0],r=t[0];return new an(n||r)}function Ne(e,t){return new lu(n=>{let r=_a(n,e);if(r instanceof wn){let s=r[0],i=r[1],u=r[2],o=_a(u,t(i));if(o instanceof wn){let a=o[0],c=o[1],l=o[2];return new wn(pv(s,a),c,l)}else{let a=o[0],c=o[1];return new Qr(pv(s,a),c)}}else{let s=r[0],i=r[1];return new Qr(s,i)}})}function Ss(e,t){return Ne(e,t)}function D_(e,t){return Ne(e,n=>Nt(t(n)))}function Sp(e){return new lu(t=>{let n=vp(t),r=n[0],s=n[1],i=Qe(r,e);if(r instanceof E&&i instanceof E&&i[0]){let u=r[0];return _a(s,Ne(Sp(e),o=>Nt(J(u,o))))}else return r instanceof E&&i instanceof E&&!i[0]?new wn(new an(!1),p([]),t):new wn(new an(!1),p([]),t)})}function To(e,t){return t===0?Nt(p([])):Ne(e,n=>Ne(To(e,t-1),r=>Nt(J(n,r))))}function Nl(e,t){return new Qm(new fh,new uC(e.pos,t,e.ctx))}function eu(e){return new lu(t=>{let n=vp(t);if(n[0]instanceof E&&Le(e,n[0][0])){n[0][0];let r=n[1];return new wn(new an(!0),void 0,r)}else if(n[0]instanceof E){let r=n[0][0],s=n[1];return new Qr(new an(!1),Nl(s,new C_(K3(e),r)))}else{let r=n[1];return new Qr(new an(!1),Nl(r,new k_))}})}function sb(){return new lu(e=>{let t=vp(e);if(t[0]instanceof E){let n=t[0][0],r=t[1];return new Qr(new an(!1),Nl(r,new iC(n)))}else return new wn(new an(!1),void 0,e)})}function Aa(e,t){return new lu(n=>{let r=vp(n),s=r[0],i=r[1],u=Qe(s,t);if(s instanceof E&&u instanceof E&&u[0]){let o=s[0];return new wn(new an(!1),o,i)}else if(s instanceof E&&u instanceof E&&!u[0]){let o=s[0];return new Qr(new an(!1),Nl(i,new C_(e,o)))}else return new Qr(new an(!1),Nl(i,new k_))})}function aC(e,t){return Ne(Aa(e,t),n=>Ne(Sp(t),r=>Nt(J(n,r))))}function M_(e,t){for(;;){let n=e,r=t;if(n instanceof fh)return r;if(n instanceof Qm&&n[0]instanceof fh){let s=n[1];return J(s,r)}else if(n instanceof Qm){let s=n[0],i=n[1];e=s,t=J(i,r)}else{let s=n[0],i=n[1];e=s,t=M_(i,r)}}}function P_(e,t){let n=mR(e,Xa(),(i,u,o)=>xr(i,o,u)),r=new sC(n,0,new Wm(1,1,1,1),p([])),s=_a(r,t);if(s instanceof wn){let i=s[1];return new z(i)}else{let i=s[1];return new K(M_(i,p([])))}}function cC(e,t){if(e instanceof wn){let n=e[0],r=e[1],s=e[2];return new wn(n,r,s)}else{let n=e[0],r=e[1];return new Qr(n,new oC(t,r))}}function Ns(e){return new lu(t=>{let n=new Qr(new an(!1),new fh);return j3(e,n,(r,s)=>{if(r instanceof wn)return new nl(r);if(r instanceof Qr&&r[0]instanceof an&&r[0][0])return new nl(r);{let i=r[1],u=_a(t,s),o=cC(u,i);return new $y(o)}})})}function lC(e){return Ns(p([D_(e,t=>new E(t)),Nt(new Q)]))}class Ya extends S{constructor(t){super(),this[0]=t}}class j_ extends S{}class xf extends S{}class L_ extends S{}class fC extends S{constructor(t){super(),this[0]=t}}function dC(){let e=new G8(!1,!0),t=J8("^[0-9]+$",e);if(!t.isOk())throw ln("assignment_no_match","rada/date/parse",14,"lexer","Assignment pattern did not match",{value:t});let n=t[0],r=s=>W8(n,s);return I_(p([N_((s,i,u)=>i===""?new lh(s):i==="W"?new ms(new j_,s):i==="T"?new ms(new L_,s):i==="-"?new ms(new xf,s):r(i)?new ms(new Ya(i),s):new ms(new fC(i),s))]))}class F_ extends S{constructor(t,n){super(),this[0]=t,this[1]=n}}let Ku=class extends S{constructor(t){super(),this[0]=t}};class vf extends S{constructor(t){super(),this[0]=t}}class ib extends S{}class _p extends S{}let ub=class extends S{constructor(t){super(),this[0]=t}};function hC(e){return e instanceof vf}function pC(e){return t=>t instanceof vf?t[0]===e:!1}function gv(e){return e instanceof ub}function Xm(e){return e instanceof ib}function Qc(e){if(e.hasLength(0))return"";{let t=e.head,n=e.tail;return t instanceof vf?t[0]+Qc(n):t instanceof ib||t instanceof _p?"'"+Qc(n):t[0]+Qc(n)}}function gC(){return Ne(Aa("Expecting an Alpha token",hC),e=>{if(!(e instanceof vf))throw ln("assignment_no_match","rada/date/pattern",170,"","Assignment pattern did not match",{value:e});let t=e[0];return Ne(Sp(pC(t)),n=>Nt(new F_(t,R3(n)+1)))})}function mC(){let e=eu(new _p);return Ss(e,t=>ri(new Ku("'")))}function yC(){return Ne(Aa("Expecting an Text token",gv),e=>Ne(Sp(gv),t=>{let n=(()=>{let r=X(J(e,t),s=>{if(!(s instanceof ub))throw ln("assignment_no_match","rada/date/pattern",216,"","Assignment pattern did not match",{value:s});return s[0]});return So(r)})();return Nt(new Ku(n))}))}function Km(e){return Ns(p([Ne(aC("Expecting a non-Quote",t=>!Xm(t)),t=>{let n=Qc(t);return Km(e+n)}),(()=>{let t=eu(new _p);return Ss(t,n=>Km(e+"'"))})(),ri(e)]))}function bC(){return Ne(Aa("Expecting an Quote",Xm),e=>Ne(Km(""),t=>Ne(Ns(p([(()=>{let n=Aa("Expecting an Quote",Xm);return D_(n,r=>{})})(),sb()])),n=>Nt(new Ku(t)))))}function wC(e){return Bn(e,p([]),(t,n)=>{if(n instanceof Ku&&t.atLeastLength(1)&&t.head instanceof Ku){let r=n[0],s=t.head[0],i=t.tail;return J(new Ku(r+s),i)}else return J(n,t)})}function $_(e){return Ns(p([(()=>{let t=Ns(p([gC(),yC(),mC(),bC()]));return Ss(t,n=>$_(J(n,e)))})(),ri(wC(e))]))}function xC(e){let t=(()=>{let u=yf("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ");return C5(u)})(),n=i=>R5(t,i),r=I_(p([fv((i,u)=>n(i)?new z(new vf(i)):new K(void 0)),N_((i,u,o)=>u==="'"?o==="'"?new Ol:new ms(new ib,i):u==="''"?new ms(new _p,i):new Il),fv((i,u)=>i===""?new K(void 0):new z(new ub(i)))])),s=R_(e,r);if(s.isOk()){let i=s[0],u=P_(i,$_(p([])));return we(u,p([new Ku(e)]))}else return p([])}function vC(){let e=new Date;return[e.getFullYear(),e.getMonth()+1,e.getDate()]}class Eo extends S{}class Za extends S{}class ec extends S{}class tc extends S{}class nc extends S{}class rc extends S{}class sc extends S{}class ic extends S{}class uc extends S{}class oc extends S{}class ac extends S{}class SC extends S{}class Ta extends S{}class Sf extends S{}class _f extends S{}class Af extends S{}class Tf extends S{}class Ef extends S{}class ob extends S{}class st extends S{constructor(t){super(),this[0]=t}}class _C extends S{constructor(t,n){super(),this.year=t,this.ordinal_day=n}}class AC extends S{constructor(t,n,r){super(),this.year=t,this.month=n,this.day=r}}class TC extends S{constructor(t,n,r){super(),this.week_year=t,this.week_number=n,this.weekday=r}}class EC extends S{constructor(t,n,r,s,i){super(),this.month_name=t,this.month_name_short=n,this.weekday_name=r,this.weekday_name_short=s,this.day_with_suffix=i}}class B_ extends S{constructor(t,n){super(),this[0]=t,this[1]=n}}class U_ extends S{constructor(t,n){super(),this[0]=t,this[1]=n}}class q_ extends S{constructor(t){super(),this[0]=t}}class OC extends S{}class mv extends S{}class Ea extends S{}class qe extends S{}class IC extends S{}class NC extends S{}class RC extends S{}class kC extends S{}class Of extends S{}class CC extends S{}class DC extends S{}class MC extends S{}class PC extends S{}class jC extends S{}class LC extends S{}function V_(e){return new st(e)}function Ym(e){return e[0]}function yv(e,t){return Uy(e,-1*t,t)}function ul(e,t){return Uy(e,0,t)}function Zm(e){return e instanceof Eo?"January":e instanceof Za?"February":e instanceof ec?"March":e instanceof tc?"April":e instanceof nc?"May":e instanceof rc?"June":e instanceof sc?"July":e instanceof ic?"August":e instanceof uc?"September":e instanceof oc?"October":e instanceof ac?"November":"December"}function bv(e){return e instanceof Ta?"Monday":e instanceof Sf?"Tuesday":e instanceof _f?"Wednesday":e instanceof Af?"Thursday":e instanceof Tf?"Friday":e instanceof Ef?"Saturday":"Sunday"}function Ap(){return Aa("Expecting digit",e=>e instanceof Ya)}function FC(){return Ne(lC(eu(new xf)),e=>{let t=(()=>{let r=Qe(e,s=>"-");return Se(r,"")})();return Ne((()=>{let n=Ap();return To(n,4)})(),n=>{let r=(()=>{let u=X(n,o=>{if(!(o instanceof Ya))throw ln("assignment_no_match","rada/date",1091,"","Assignment pattern did not match",{value:o});return o[0]});return So(u)})(),s=pr(t+r);if(!s.isOk())throw ln("assignment_no_match","rada/date",1096,"","Assignment pattern did not match",{value:s});let i=s[0];return Nt(i)})})}function $C(){return Ne((()=>{let e=Ap();return To(e,3)})(),e=>{let t=(()=>{let s=X(e,i=>{if(!(i instanceof Ya))throw ln("assignment_no_match","rada/date",1109,"","Assignment pattern did not match",{value:i});return i[0]});return So(s)})(),n=pr(t);if(!n.isOk())throw ln("assignment_no_match","rada/date",1114,"","Assignment pattern did not match",{value:n});let r=n[0];return Nt(r)})}function wv(){return Ne($C(),e=>Nt(new q_(e)))}function e1(){return Ne((()=>{let e=Ap();return To(e,2)})(),e=>{let t=(()=>{let s=X(e,i=>{if(!(i instanceof Ya))throw ln("assignment_no_match","rada/date",1127,"","Assignment pattern did not match",{value:i});return i[0]});return So(s)})(),n=pr(t);if(!n.isOk())throw ln("assignment_no_match","rada/date",1132,"","Assignment pattern did not match",{value:n});let r=n[0];return Nt(r)})}function xv(e){return Ne(e1(),t=>{let n=Zy(e);return Ne(Ns(p([(()=>{let r=To(eu(new xf),n);return Ss(r,s=>e1())})(),(()=>{let r=sb();return Ss(r,s=>ri(1))})()])),r=>Nt(new B_(t,r)))})}function BC(){return Ne((()=>{let e=Ap();return To(e,1)})(),e=>{if(!e.hasLength(1)||!(e.head instanceof Ya))throw ln("assignment_no_match","rada/date",1143,"","Assignment pattern did not match",{value:e});let t=e.head[0],n=pr(t);if(!n.isOk())throw ln("assignment_no_match","rada/date",1145,"","Assignment pattern did not match",{value:n});let r=n[0];return Nt(r)})}function vv(e){return Ne(eu(new j_),t=>Ne(e1(),n=>{let r=Zy(e);return Ne(Ns(p([(()=>{let s=To(eu(new xf),r);return Ss(s,i=>BC())})(),ri(1)])),s=>Nt(new U_(n,s)))}))}function UC(){return Ns(p([(()=>{let e=eu(new xf);return Ss(e,t=>Ns(p([hv(wv()),xv(!0),vv(!0)])))})(),hv(xv(!1)),wv(),vv(!1),ri(new q_(1))]))}function Rl(e,t){let n=e[0],r=t[0];return Wi(n,r)}function Tp(e){return e instanceof Eo?1:e instanceof Za?2:e instanceof ec?3:e instanceof tc?4:e instanceof nc?5:e instanceof rc?6:e instanceof sc?7:e instanceof ic?8:e instanceof uc?9:e instanceof oc?10:e instanceof ac?11:12}function qC(e){return so(Tp(e)+2,3)}function Fi(e){let t=cp(1,e);return t===1?new Eo:t===2?new Za:t===3?new ec:t===4?new tc:t===5?new nc:t===6?new rc:t===7?new sc:t===8?new ic:t===9?new uc:t===10?new oc:t===11?new ac:new SC}function VC(e){let t=e*3-2;return Fi(t)}function zC(e){return e instanceof Ta?1:e instanceof Sf?2:e instanceof _f?3:e instanceof Af?4:e instanceof Tf?5:e instanceof Ef?6:7}function z_(e){let t=cp(1,e);return t===1?new Ta:t===2?new Sf:t===3?new _f:t===4?new Af:t===5?new Tf:t===6?new Ef:new ob}function Sv(e,t){let n=e<0?"-":"",r=(()=>{let i=Z8(e),u=D(i);return Ei(u,t,"0")})();return n+r}function ol(e,t){return(e>0&&t<0||e<0&&t>0)&&Vn(e,t)!==0?so(e,t)-1:so(e,t)}function fu(e){let t=e-1,n=ol(t,4)-ol(t,100)+ol(t,400);return 365*t+n}function H_(e){return new st(fu(e)+1)}function si(e,t){let n=Vn(e,t);return n>0&&t<0||n<0&&t>0?n+t:n}function Ep(e){return si(e,4)===0&&si(e,100)!==0||si(e,400)===0}function co(e){let t=e[0],n=si(t,7);return n===0?7:n}function G_(e){let t=fu(e)+4;return t-co(new st(t))}function HC(e){let t=co(H_(e));return t===4||t===3&&Ep(e)}function ki(e){let n=co(e);return z_(n)}function GC(e){let t=si(e,100),n=t<20?t:si(t,10),r=ap(n,4);return r===1?"st":r===2?"nd":r===3?"rd":"th"}function J_(e){return D(e)+GC(e)}function JC(){return new EC(Zm,e=>{let n=Zm(e);return ul(n,3)},bv,e=>{let n=bv(e);return ul(n,3)},J_)}function Ai(e,t){return si(co(t)+7-zC(e),7)}function kl(e,t){return t instanceof Eo?31:t instanceof Za?Ep(e)?29:28:t instanceof ec?31:t instanceof tc?30:t instanceof nc?31:t instanceof rc?30:t instanceof sc||t instanceof ic?31:t instanceof uc?30:t instanceof oc?31:t instanceof ac?30:31}function WC(e,t,n){for(;;){let r=e,s=t,i=n,u=kl(r,s),o=Tp(s);if(o<12&&i>u)e=r,t=Fi(o+1),n=i-u;else return new AC(r,s,i)}}function Op(e,t){let n=Zy(Ep(e));return t instanceof Eo?0:t instanceof Za?31:t instanceof ec?59+n:t instanceof tc?90+n:t instanceof nc?120+n:t instanceof rc?151+n:t instanceof sc?181+n:t instanceof ic?212+n:t instanceof uc?243+n:t instanceof oc?273+n:t instanceof ac?304+n:334+n}function _v(e,t){return new st(fu(e)+Op(e,t)+1)}function QC(e,t,n){return new st(fu(e)+Op(e,t)+eR(n,1,kl(e,t)))}function Ci(){let e=vC(),t=e[0],n=e[1],r=e[2];return QC(t,Fi(n),r)}function cd(e,t){return[ol(e,t),si(e,t)]}function Yu(e){let t=e[0],n=cd(t,146097),r=n[0],s=n[1],i=cd(s,36524),u=i[0],o=i[1],a=cd(o,1461),c=a[0],l=a[1],d=cd(l,365),h=d[0],f=d[1],g=f===0?0:1;return r*400+u*100+c*4+h+g}function W_(e){let t=e[0],n=Yu(e);return new _C(n,t-fu(n))}function ab(e){let t=W_(e);return WC(t.year,new Eo,t.ordinal_day)}function Q_(e){let t=e[0],n=co(e),r=Yu(new st(t+(4-n))),s=G_(r)+1;return new TC(r,1+so(t-s,7),z_(n))}function Sg(e){return W_(e).ordinal_day}function Zu(e){return ab(e).month}function Av(e){let n=Zu(e);return Tp(n)}function Go(e){let n=Zu(e);return qC(n)}function jd(e){return ab(e).day}function Tv(e){return Q_(e).week_year}function Ev(e){return Q_(e).week_number}function XC(e,t,n,r){for(;;){let s=e,i=t,u=n,o=r;if(u==="y")if(o===2){let c=Yu(s),l=D(c),d=Ei(l,2,"0");return yv(d,2)}else{let c=Yu(s);return Sv(c,o)}else if(u==="Y")if(o===2){let c=Tv(s),l=D(c),d=Ei(l,2,"0");return yv(d,2)}else{let c=Tv(s);return Sv(c,o)}else if(u==="Q")if(o===1){let c=Go(s);return D(c)}else if(o===2){let c=Go(s);return D(c)}else if(o===3){let c=Go(s),l=D(c);return(d=>"Q"+d)(l)}else if(o===4){let c=Go(s);return J_(c)}else if(o===5){let c=Go(s);return D(c)}else return"";else if(u==="M")if(o===1){let c=Av(s);return D(c)}else if(o===2){let c=Av(s),l=D(c);return Ei(l,2,"0")}else if(o===3){let c=Zu(s);return i.month_name_short(c)}else if(o===4){let c=Zu(s);return i.month_name(c)}else if(o===5){let c=Zu(s),l=i.month_name_short(c);return ul(l,1)}else return"";else if(u==="w")if(o===1){let c=Ev(s);return D(c)}else if(o===2){let c=Ev(s),l=D(c);return Ei(l,2,"0")}else return"";else if(u==="d")if(o===1){let c=jd(s);return D(c)}else if(o===2){let c=jd(s),l=D(c);return Ei(l,2,"0")}else if(o===3){let c=jd(s);return i.day_with_suffix(c)}else return"";else if(u==="D")if(o===1){let c=Sg(s);return D(c)}else if(o===2){let c=Sg(s),l=D(c);return Ei(l,2,"0")}else if(o===3){let c=Sg(s),l=D(c);return Ei(l,3,"0")}else return"";else if(u==="E")if(o===1){let c=ki(s);return i.weekday_name_short(c)}else if(o===2){let c=ki(s);return i.weekday_name_short(c)}else if(o===3){let c=ki(s);return i.weekday_name_short(c)}else if(o===4){let c=ki(s);return i.weekday_name(c)}else if(o===5){let c=ki(s),l=i.weekday_name_short(c);return ul(l,1)}else if(o===6){let c=ki(s),l=i.weekday_name_short(c);return ul(l,2)}else return"";else if(u==="e")if(o===1){let c=co(s);return D(c)}else if(o===2){let c=co(s);return D(c)}else e=s,t=i,n="E",r=o;else return""}}function KC(e,t,n){return Bn(t,"",(r,s)=>{if(s instanceof F_){let i=s[0],u=s[1];return XC(n,e,i,u)+r}else return s[0]+r})}function YC(e,t,n){let r=(()=>{let i=xC(n);return jt(i)})();return KC(t,r,e)}function ZC(e,t){return YC(e,JC(),t)}function oa(e){return ZC(e,"yyyy-MM-dd")}function Ae(e,t,n){for(;;){let r=e,s=t,i=n,u=r[0];if(i instanceof OC)e=r,t=12*s,n=new mv;else if(i instanceof mv){let o=ab(r),a=12*(o.year-1)+(Tp(o.month)-1)+s,c=ol(a,12)+1,l=Fi(si(a,12)+1);return new st(fu(c)+Op(c,l)+ap(o.day,kl(c,l)))}else return i instanceof Ea?new st(u+7*s):new st(u+s)}}function Ip(e,t){let n=e[0];return t instanceof IC?H_(Yu(e)):t instanceof NC?_v(Yu(e),(()=>{let r=Go(e);return VC(r)})()):t instanceof RC?_v(Yu(e),Zu(e)):t instanceof kC?new st(n-Ai(new Ta,e)):t instanceof Of?new st(n-Ai(new Ta,e)):t instanceof CC?new st(n-Ai(new Sf,e)):t instanceof DC?new st(n-Ai(new _f,e)):t instanceof MC?new st(n-Ai(new Af,e)):t instanceof PC?new st(n-Ai(new Tf,e)):t instanceof jC?new st(n-Ai(new Ef,e)):t instanceof LC?new st(n-Ai(new ob,e)):e}function Cl(e,t,n){return t<=e&&e<=n}function eD(e,t){let n=Ep(e)?366:365;return Cl(t,1,n)?new z(new st(fu(e)+t)):new K("Invalid ordinal date: "+("ordinal-day "+D(t)+" is out of range")+(" (1 to "+D(n)+")")+(" for "+D(e))+("; received (year "+D(e)+", ordinal-day "+D(t)+")"))}function tD(e,t,n){let r=Cl(t,1,12),s=Cl(n,1,kl(e,Fi(t)));return r?r&&!s?new K("Invalid date: "+("day "+D(n)+" is out of range")+(" (1 to "+D(kl(e,Fi(t)))+")")+(" for "+(()=>{let u=Fi(t);return Zm(u)})())+(t===2&&n===29?" ("+D(e)+" is not a leap year)":"")+("; received (year "+D(e)+", month "+D(t)+", day "+D(n)+")")):new z(new st(fu(e)+Op(e,Fi(t))+n)):new K("Invalid date: "+("month "+D(t)+" is out of range")+" (1 to 12)"+("; received (year "+D(e)+", month "+D(t)+", day "+D(n)+")"))}function nD(e,t,n){let r=HC(e)?53:52,s=Cl(t,1,r),i=Cl(n,1,7);return s?s&&!i?new K("Invalid week date: "+("weekday "+D(n)+" is out of range")+" (1 to 7)"+("; received (year "+D(e)+", week "+D(t)+", weekday "+D(n)+")")):new z(new st(G_(e)+(t-1)*7+n)):new K("Invalid week date: "+("week "+D(t)+" is out of range")+(" (1 to "+D(r)+")")+(" for "+D(e))+("; received (year "+D(e)+", week "+D(t)+", weekday "+D(n)+")"))}function rD(e,t){if(t instanceof B_){let n=t[0],r=t[1];return tD(e,n,r)}else if(t instanceof U_){let n=t[0],r=t[1];return nD(e,n,r)}else{let n=t[0];return eD(e,n)}}function sD(){return Ne(FC(),e=>Ne(UC(),t=>Nt(rD(e,t))))}function Ov(e){let t=R_(e,dC());if(!t.isOk())throw ln("assignment_no_match","rada/date",950,"from_iso_string","Assignment pattern did not match",{value:t});let n=t[0],r=P_(n,(()=>{let s=sD();return Ss(s,i=>Ns(p([(()=>{let u=sb();return Ss(u,o=>ri(i))})(),(()=>{let u=eu(new L_);return Ss(u,o=>ri(new K("Expected a date only, not a date and time")))})(),ri(new K("Expected a date only"))])))})());if(r.isOk()&&r[0].isOk()){let s=r[0][0];return new z(s)}else if(r.isOk()&&!r[0].isOk()){let s=r[0][0];return new K(s)}else return new K("Expected a date in ISO 8601 format")}function iD(e,t){return _5(e,t)}function Xr(e,t){return A5(e,t)}function Kr(e){return Xr("click",t=>new z(e))}function uD(e){return Xr("keydown",t=>{let n=t,r=Qt("key",Pt)(n);return ne(r,e)})}function oD(e){return Xr("focus",t=>new z(e))}function aD(e){let t=e;return Qt("target",Qt("value",Pt))(t)}function At(e){return Xr("input",t=>{let n=aD(t);return ne(n,e)})}function cD(e){let t=e;return Qt("target",Qt("checked",Z3))(t)}function X_(e){return Xr("change",t=>{let n=cD(t);return ne(n,e)})}function cb(e){return Xr("submit",t=>(L5(t),new z(e)))}const lD=function(){let e=0;const t={};return function(n){return t[n]??(t[n]=(e++).toString().padStart(4,"0")),`css-${t[n]}`}}();function fD(){const e=new Error;if(!e.stack)throw new Error("Unable to find the stacktrace and to infer the className");const n=(e.stack??"").split(`
`),r=n.findIndex(u=>u.includes("LustreClientApplication")),s=r===-1?n.length:r;return n.slice(1,s).join(`
`)}function K_(e,t){const n=["string","number","boolean"];if(n.includes(typeof e)||n.includes(typeof t))return e===t;for(const r in e)if(!(r in t)||!K_(e[r],t[r]))return!1;return!0}function dD(){return!(typeof window>"u"||typeof document>"u")}class hD extends S{}class Dl{constructor(t){this.promise=t}static wrap(t){return t instanceof Promise?new Dl(t):t}static unwrap(t){return t instanceof Dl?t.promise:t}}function br(e,t){return e.then(n=>Dl.wrap(t(Dl.unwrap(n))))}function Np(e,t){return br(e,r=>(t(r),r))}function Y_(e,t,n){e.setAttribute(t,n)}function pD(e,t){e.appendChild(t)}function gD(e,t){e.appendChild(t)}function mD(e,t){const n=t instanceof Z_?"open":"closed";return e.attachShadow({mode:n})}class Z_ extends S{}let yD=class extends S{},bD=class extends S{};class wD extends S{constructor(t){super(),this.root=t}}class xD extends S{constructor(t){super(),this.stylesheet=t}}function vD(e){return new xD(new wD(e))}function eA(e){return e instanceof yD?"node":e instanceof bD?"document":"shadow-root"}let SD=class{static for(t){switch(eA(t)){case"node":return new _D;case"document":return new AD;case"shadow-root":return new TD(t.root)}}};var Ju,df;class lb{constructor(){Be(this,Ju);Be(this,df);oe(this,Ju,new Map),oe(this,df,0)}insertRule(t){const n=Jx(this,df)._++;return B(this,Ju).set(n,t),n}deleteRule(t){B(this,Ju).delete(t)}buildRules(){return[...B(this,Ju).values()].join(`

`)}}Ju=new WeakMap,df=new WeakMap;var Wu;class _D extends lb{constructor(){super();Be(this,Wu);oe(this,Wu,document.createElement("style")),B(this,Wu).setAttribute("class","sketch-stylesheet"),document.head.appendChild(B(this,Wu))}render(){const n=this.buildRules();B(this,Wu).innerHTML=n}}Wu=new WeakMap;var ba;class AD extends lb{constructor(){super();Be(this,ba);oe(this,ba,new CSSStyleSheet),document.adoptedStyleSheets.push(B(this,ba))}render(){const n=this.buildRules();B(this,ba).replaceSync(n)}}ba=new WeakMap;var wa;class TD extends lb{constructor(n){super();Be(this,wa);oe(this,wa,new CSSStyleSheet),n.adoptedStyleSheets.push(B(this,wa))}render(){const n=this.buildRules();B(this,wa).replaceSync(n)}}wa=new WeakMap;let aa;var Qu,_n,Xs,Ks,vo,t1,tA;const qx=class qx{constructor(t){Be(this,vo);Be(this,Qu);Be(this,_n);Be(this,Xs);Be(this,Ks);oe(this,Qu,new Map),oe(this,_n,new Map),oe(this,Xs,new Map),oe(this,Ks,SD.for(t.stylesheet))}static create(t){const n=eA(t.stylesheet);return["document","shadow-root"].includes(n)&&!dD()?new K(new hD):new qx(t)}prepare(){oe(this,Xs,B(this,_n)),oe(this,_n,new Map)}diff(){const t=new Set;for(const n of B(this,_n).keys())t.add(n);for(const n of B(this,Xs).keys())t.add(n);t.forEach(n=>{if(B(this,_n).has(n)){const r=B(this,_n).get(n);return(r==null?void 0:r.indexRules)!==null?void 0:Rr(this,vo,t1).call(this,r)}if(B(this,Xs).has(n))return Rr(this,vo,tA).call(this,B(this,Xs).get(n))}),B(this,Ks).render()}persist(t,n){const r=B(this,Qu).get(t);if(r)return{name:r.name,className:t};const s=B(this,_n).get(t);if(s)return{name:s.name,className:t};const i=B(this,Xs).get(t);if(i&&K_(n,i.previousStyles))return B(this,_n).set(t,i),{name:i.name,className:t}}store(t,n){B(this,_n).set(t,n)}memoize({className:t}){if(B(this,Qu).has(t))return;const n=B(this,_n).get(t);B(this,Qu).set(t,n),B(this,_n).delete(t),n.indexRules===null&&Rr(this,vo,t1).call(this,n)}};Qu=new WeakMap,_n=new WeakMap,Xs=new WeakMap,Ks=new WeakMap,vo=new WeakSet,t1=function(t){const n=[],{definitions:r}=t;n.push(B(this,Ks).insertRule(r.class_def));for(const s of r.selectors_def)n.push(B(this,Ks).insertRule(s));for(const s of r.medias_def)n.push(B(this,Ks).insertRule(s));t.indexRules=n},tA=function(t){var n;(n=t.indexRules)==null||n.forEach(r=>{B(this,Ks).deleteRule(r)})};let dh=qx;function ED(e){const t=dh.create(e);return t instanceof dh&&(aa=t),new z(t)}function OD(e){aa=e,aa.prepare()}function ID(e){return e.diff(),new z(null)}let Iv=!1;const ND="Sketch lifecycles setup is missing.",RD=`If you're not using lustre, you should use directly the lifecycle functions:
  - create_cache (https://hexdocs.pm/sketch/sketch.html#create_cache)
  - prepare (https://hexdocs.pm/sketch/sketch.html#prepare)
  - render (https://hexdocs.pm/sketch/sketch.html#render)

// main.gleam
// Assuming your framework have a lifecycle, here's a fictive example.

import sketch
import sketch/options as sketch_options

pub fn main() {
  let assert Ok(cache) = sketch.create_cache()
  start_app()
  |> add_before_render(fn () { sketch.prepare(cache) })
  |> add_after_render(fn () { sketch.render(cache) })
}
`,kD=`// main.gleam
// If you're using lustre, initialize Sketch in your main().

import sketch/lustre as sketch_lustre
import sketch/options as sketch_options

pub fn main() {
  let assert Ok(cache) =
    sketch_options.node()
    |> sketch_lustre.setup()

  let assert Ok(_) =
    view
    |> sketch_lustre.compose(cache)
    |> lustre.simple(init, update, _)
    |> lustre.start("#app", Nil)

}
`,CD={setup(){if(Iv)return;const e="Meanwhile, styles won’t apply, but will not block your render.",t="More informations on https://hexdocs.pm/sketch.";console.warn(ND),console.warn(kD),console.warn(RD),console.warn(e),console.warn(t),Iv=!0}};function nA(e){return Q3(" ",e)}function n1(e,t,n,r){let s=nA(n),i=Se(r,""),u=J(s+"."+e+i+" {",t),o=Sl(u,`
`);return ir(o,`
`+s+"}")}class rA extends S{constructor(t){super(),this.class_name=t}}class sA extends S{constructor(t,n){super(),this.query=t,this.styles=n}}class DD extends S{constructor(t,n){super(),this.pseudo_selector=t,this.styles=n}}let fb=class extends S{constructor(t,n,r){super(),this.key=t,this.value=n,this.important=r}};class MD extends S{constructor(t,n,r,s,i){super(),this.properties=t,this.medias=n,this.classes=r,this.pseudo_selectors=s,this.indent=i}}class PD extends S{constructor(t,n,r){super(),this.query=t,this.properties=n,this.pseudo_selectors=r}}class jD extends S{constructor(t,n){super(),this.pseudo_selector=t,this.properties=n}}class LD extends S{constructor(t,n,r,s){super(),this.class_def=t,this.medias_def=n,this.selectors_def=r,this.name=s}}function FD(e,t,n,r){let s=nA(e),i=r?" !important":"";return s+t+": "+n+i+";"}function $D(e){return new MD(p([]),p([]),p([]),p([]),e)}function BD(e,t){let n=J(t,e.classes);return e.withFields({classes:n})}function UD(e,t){if(!(t instanceof fb))throw ln("assignment_no_match","sketch/internals/style",77,"handle_property","Assignment pattern did not match",{value:t});let n=t.key,r=t.value,s=t.important,i=FD(e.indent,n,r,s),u=J(i,e.properties);return e.withFields({properties:u})}function Nv(e,t,n){return X(n,r=>n1(e,r.properties,t,new E(r.pseudo_selector)))}function qD(e,t){let n=t.properties,r=t.medias,s=t.classes,i=t.pseudo_selectors,u=n1(e,n,0,new Q),o=X(r,l=>{let d=l.query,h=l.properties,f=l.pseudo_selectors,g=Nv(e,2,f),m=p([d+" {",n1(e,h,2,new Q)]),y=(w=>fp(p([g,p(["}"])]),w))(m),b=Is(y);return Sl(b,`
`)}),a=Nv(e,0,i),c=MR(Sl(s," ")+" "+e);return new LD(u,o,a,c)}function VD(e,t){if(!(t instanceof sA))throw ln("assignment_no_match","sketch/internals/style",84,"handle_media","Assignment pattern did not match",{value:t});let n=t.query,r=t.styles,s=db(r,e.indent+2),i=new PD(n,s.properties,s.pseudo_selectors),u=(o=>fp(e.medias,o))(i);return(o=>e.withFields({medias:o}))(u)}function db(e,t){return dp(e,$D(t),(n,r)=>{if(r instanceof rA){let s=r.class_name;return BD(n,s)}else return r instanceof fb?UD(n,r):r instanceof sA?VD(n,r):zD(n,r)})}function zD(e,t){if(!(t instanceof DD))throw ln("assignment_no_match","sketch/internals/style",96,"handle_pseudo_selector","Assignment pattern did not match",{value:t});let n=t.pseudo_selector,r=t.styles,s=db(r,e.indent+2),i=new jD(n,s.properties),u=(a=>fp(s.pseudo_selectors,a))(i),o=lp(u,e.pseudo_selectors);return(a=>e.withFields({pseudo_selectors:a}))(o)}function iA(e,t){if(!aa)return CD.setup(),{name:"",className:""};const n=t??fD(),r=aa.persist(n);if(r)return r;const s=lD(n),i=db(e,2),{name:u,...o}=qD(s,i);return aa.store(n,{name:u,definitions:o,previousStyles:e,indexRules:null}),{name:u,className:n}}function uA({name:e}){return e}class oA extends S{constructor(t){super(),this[0]=t}}class HD extends S{constructor(t){super(),this[0]=t}}class GD extends S{constructor(t){super(),this[0]=t}}class JD extends S{constructor(t){super(),this[0]=t}}class WD extends S{constructor(t){super(),this[0]=t}}class QD extends S{constructor(t){super(),this[0]=t}}class XD extends S{constructor(t){super(),this[0]=t}}class KD extends S{constructor(t){super(),this[0]=t}}class aA extends S{constructor(t){super(),this[0]=t}}function He(e){return new oA(Fy(e))}function YD(e){return new aA(Fy(e))}function Ps(e){if(e instanceof oA){let t=e[0];return ir(ss(t),"px")}else if(e instanceof HD){let t=e[0];return ir(ss(t),"pt")}else if(e instanceof aA){let t=e[0];return ir(ss(t),"%")}else if(e instanceof GD){let t=e[0];return ir(ss(t),"vh")}else if(e instanceof JD){let t=e[0];return ir(ss(t),"vw")}else if(e instanceof WD){let t=e[0];return ir(ss(t),"em")}else if(e instanceof QD){let t=e[0];return ir(ss(t),"rem")}else if(e instanceof XD){let t=e[0];return ir(ss(t),"lh")}else if(e instanceof KD){let t=e[0];return ir(ss(t),"rlh")}else{let t=e[0];return ir(ss(t),"ch")}}let cA=class extends S{constructor(t){super(),this.internal=t}};function lA(e){return X(e,t=>t.internal)}function N(e,t){return new cA(new fb(e,t,!1))}function hb(e){return N("width",Ps(e))}function ZD(e){return N("width",e)}function e9(e){return N("max-width",e)}function t9(e){return N("max-height",e)}function cc(e){return N("color",e)}function lc(e){return N("font-family",e)}function Rp(e){return N("font-size",Ps(e))}function n9(e){return N("line-height",e)}function pb(e){return N("white-space",e)}function fA(e){return N("word-break",e)}function du(e){return N("display",e)}function dA(e){return N("z-index",D(e))}function Oo(e){return N("background",e)}function gb(e){return N("position",e)}function r9(e){return N("outline",e)}function hA(e){return N("gap",Ps(e))}function pA(e){return N("grid-column",e)}function mb(e){return N("grid-template-columns",e)}function yb(e){return N("align-items",e)}function gA(e){return N("justify-content",e)}function s9(e){return N("justify-self",e)}function mA(e){return N("appearance",e)}function yA(e){return N("top",Ps(e))}function bA(e){return N("bottom",Ps(e))}function wA(e){return N("right",Ps(e))}function i9(e){return N("left",Ps(e))}function u9(e){return N("box-shadow",e)}function bb(e){return N("overflow",e)}function o9(e){return N("overflow-y",e)}function a9(e){return N("flex-direction",e)}function wb(e){return N("border",e)}function xA(e){return N("border-bottom",e)}function vA(e){return N("border-right",e)}function SA(e){return N("border-radius",Ps(e))}function If(e){return N("padding",Ps(e))}function c9(e){return N("padding",e)}function l9(e){return N("margin",Ps(e))}function kp(e){let n=uA(e),r=new rA(n);return new cA(r)}function $e(e){let n=lA(e);return iA(n)}function f9(e,t){let r=lA(t);return iA(r,e)}function Me(e){let n=uA(e),r=X3(n," "),s=X(r,i=>[i,!0]);return O5(s)}function d9(e){return ED(e)}function h9(e,t){return n=>{OD(t);let r=e(n);return ID(t),r}}class p9 extends S{constructor(t){super(),this[0]=t}}class g9 extends S{constructor(t){super(),this[0]=t}}function _A(){try{return globalThis.Storage&&globalThis.localStorage instanceof globalThis.Storage?new z(globalThis.localStorage):new K(null)}catch{return new K(null)}}function m9(e,t){return b9(e.getItem(t))}function y9(e,t,n){try{return e.setItem(t,n),new z(null)}catch{return new K(null)}}function b9(e){return e!==null?new z(e):new K(null)}class Nf extends S{constructor(t,n,r,s,i,u,o,a,c,l,d,h,f,g,m,y,b,w,v){super(),this.background=t,this.shadow=n,this.primary=r,this.editor_fg=s,this.editor_bg=i,this.gutter=u,this.syntax_comment=o,this.button=a,this.function=c,this.nil=l,this.bool=d,this.constant=h,this.bit_array=f,this.utf_codepoint=g,this.string=m,this.number=y,this.custom_type=b,this.regex=w,this.date=v}}class Cp extends S{}class Dp extends S{}class Mp extends S{}class Pp extends S{}class hh extends S{}function AA(e){return e instanceof Cp?"Ayu Dark":e instanceof Dp?"Ayu Light":e instanceof Mp?"Catpuccin Light":e instanceof Pp?"Catpuccin Frappé":"Gleam"}function TA(e){return e==="Ayu Dark"?new Cp:e==="Ayu Light"?new Dp:e==="Catpuccin Light"?new Mp:e==="Catpuccin Frappé"?new Pp:e==="Gleam"?new hh:new hh}function w9(){return p([new Cp,new Dp,new Mp,new Pp,new hh])}const EA="lustre-debugger-color";function x9(){let e=_A(),t=Nn(e,r=>m9(r,EA)),n=ne(t,TA);return we(n,new hh)}function v9(e){return sn(t=>{Nn(_A(),n=>{let r=AA(e);return y9(n,EA,r)})})}const lt=new Nf("#111","#333","#ffcc66","#cccac2","#242936","#8a919966","#b8cfe680","#ffd173","#ffd173","#ffad66","#dfbfff","#ffad66","#d5ff80","#f28779","#d5ff80","#5ccfe6","#73d0ff","#95e6cb","#dfbfff");function S9(){let e=$e(p([N("--background",lt.background),N("--shadow",lt.shadow),N("--primary",lt.primary),N("--editor-fg",lt.editor_fg),N("--editor-bg",lt.editor_bg),N("--gutter",lt.gutter),N("--syntax-comment",lt.syntax_comment),N("--button",lt.button),N("--function",lt.function),N("--nil",lt.nil),N("--bool",lt.bool),N("--constant",lt.constant),N("--bit-array",lt.bit_array),N("--utfcodepoint",lt.utf_codepoint),N("--string",lt.string),N("--number",lt.number),N("--custom-type",lt.custom_type),N("--regex",lt.regex),N("--date",lt.date)]));return Me(e)}const ft=new Nf("white","#ccc","#ffd596","#5c6166","#f8f9fa","#8a919966","#787b8099","#F2AE49","#F2AE49","#fa8d3e","#a37acc","#fa8d3e","#86b300","#f07171","#86b300","#55b4d4","#399ee6","#4cbf43","#a37acc");function _9(){let e=$e(p([N("--background",ft.background),N("--shadow",ft.shadow),N("--primary",ft.primary),N("--editor-fg",ft.editor_fg),N("--editor-bg",ft.editor_bg),N("--gutter",ft.gutter),N("--syntax-comment",ft.syntax_comment),N("--button",ft.button),N("--function",ft.function),N("--nil",ft.nil),N("--bool",ft.bool),N("--constant",ft.constant),N("--bit-array",ft.bit_array),N("--utfcodepoint",ft.utf_codepoint),N("--string",ft.string),N("--number",ft.number),N("--custom-type",ft.custom_type),N("--regex",ft.regex),N("--date",ft.date)]));return Me(e)}const dt=new Nf("#e6e9ef","#dce0e8","#dc8a78","#4c4f69","#eff1f5","#dce0e8","#6c6f85","#dd7878","#ea76cb","#8839ef","#d20f39","#8839ef","#40a02b","#fe640b","#40a02b","#04a5e5","#7287fd","#179299","#d20f39");function A9(){let e=$e(p([N("--background",dt.background),N("--shadow",dt.shadow),N("--primary",dt.primary),N("--editor-fg",dt.editor_fg),N("--editor-bg",dt.editor_bg),N("--gutter",dt.gutter),N("--syntax-comment",dt.syntax_comment),N("--button",dt.button),N("--function",dt.function),N("--nil",dt.nil),N("--bool",dt.bool),N("--constant",dt.constant),N("--bit-array",dt.bit_array),N("--utfcodepoint",dt.utf_codepoint),N("--string",dt.string),N("--number",dt.number),N("--custom-type",dt.custom_type),N("--regex",dt.regex),N("--date",dt.date)]));return Me(e)}const ht=new Nf("#292c3c","#232634","#f2d5cf","#c6d0f5","#303446","#232634","#a5adce","#eebebe","#f4b8e4","#ca9ee6","#e78284","#ca9ee6","#a6d189","#ef9f76","#a6d189","#99d1db","#babbf1","#81c8be","#e78284");function T9(){let e=$e(p([N("--background",ht.background),N("--shadow",ht.shadow),N("--primary",ht.primary),N("--editor-fg",ht.editor_fg),N("--editor-bg",ht.editor_bg),N("--gutter",ht.gutter),N("--syntax-comment",ht.syntax_comment),N("--button",ht.button),N("--function",ht.function),N("--nil",ht.nil),N("--bool",ht.bool),N("--constant",ht.constant),N("--bit-array",ht.bit_array),N("--utfcodepoint",ht.utf_codepoint),N("--string",ht.string),N("--number",ht.number),N("--custom-type",ht.custom_type),N("--regex",ht.regex),N("--date",ht.date)]));return Me(e)}const pt=new Nf("#2f2f2f","#2f2f2f","#ffaff3","#fefefc","#292d3e","#8a919966","#848484","#ffaff3","#ffd596","#d4d4d4","#ff6262","#d4d4d4","#c8ffa7","#c8ffa7","#c8ffa7","#a6f0fc","#9ce7ff","#fdffab","#ffddfa");function E9(){let e=$e(p([N("--background",pt.background),N("--shadow",pt.shadow),N("--primary",pt.primary),N("--editor-fg",pt.editor_fg),N("--editor-bg",pt.editor_bg),N("--gutter",pt.gutter),N("--syntax-comment",pt.syntax_comment),N("--button",pt.button),N("--function",pt.function),N("--nil",pt.nil),N("--bool",pt.bool),N("--constant",pt.constant),N("--bit-array",pt.bit_array),N("--utfcodepoint",pt.utf_codepoint),N("--string",pt.string),N("--number",pt.number),N("--custom-type",pt.custom_type),N("--regex",pt.regex),N("--date",pt.date)]));return Me(e)}function O9(e){return e instanceof Dp?_9():e instanceof Cp?S9():e instanceof Mp?A9():e instanceof Pp?T9():E9()}class I9 extends S{constructor(t,n,r){super(),this.index=t,this.model=n,this.msg=r}}class OA extends S{}class IA extends S{constructor(t){super(),this[0]=t}}class N9 extends S{constructor(t){super(),this[0]=t}}class NA extends S{constructor(t){super(),this[0]=t}}class RA extends S{constructor(t,n){super(),this[0]=t,this[1]=n}}class R9 extends S{constructor(t,n,r){super(),this[0]=t,this[1]=n,this[2]=r}}class kA extends S{constructor(t,n){super(),this[0]=t,this[1]=n}}class CA extends S{constructor(t){super(),this[0]=t}}class k9 extends S{constructor(t,n,r,s){super(),this.count=t,this.steps=n,this.dispatcher=r,this.selected_step=s}}function C9(){return new k9(1,p([]),new Q,new Q)}function D9(e,t){return e.withFields({dispatcher:new E(t)})}function ld(e,t,n){let s=hp(e,a=>Te(a)===t),i=we(s,[t,C9()]),u=It(i),o=n(u);return(a=>L3(e,t,a))(o)}function DA(e,t){let r=hp(e,s=>Te(s)===t);return ne(r,It)}function M9(e){return e.withFields({selected_step:new Q})}function P9(e,t){return e.withFields({selected_step:t})}function j9(e,t,n){let r=e.count,s=e.steps,i=new I9(D(r),t,n);return e.withFields({count:r+1,steps:J(i,s)})}let L9=class extends S{constructor(t,n,r,s,i){super(),this.debuggers=t,this.color_scheme=n,this.frozen=r,this.opened=s,this.selected_debugger=i}};function F9(e,t){let n=z8(e.selected_debugger,new E(t));return e.withFields({selected_debugger:n})}function $9(e){return io(e.debuggers,t=>{let n=It(t).steps;return!k3(n)})}function MA(e){return document.createElement(e)}function B9(){return document.body}class xb extends S{}class ph extends S{constructor(t){super(),this[0]=t}}class vb extends S{constructor(t){super(),this[0]=t}}class Sb extends S{constructor(t){super(),this[0]=t}}class _b extends S{constructor(t){super(),this[0]=t}}class Ab extends S{constructor(t){super(),this[0]=t}}class Tb extends S{constructor(t){super(),this[0]=t}}class Eb extends S{constructor(t){super(),this[0]=t}}class Ob extends S{constructor(t){super(),this[0]=t}}class Ib extends S{constructor(t,n){super(),this[0]=t,this[1]=n}}class Nb extends S{constructor(t){super(),this[0]=t}}class Rb extends S{constructor(t){super(),this[0]=t}}class kb extends S{constructor(t){super(),this[0]=t}}class Cb extends S{constructor(t){super(),this[0]=t}}class Db extends S{constructor(t){super(),this[0]=t}}class U9 extends S{constructor(t,n){super(),this[0]=t,this[1]=n}}function Rs(e){const t=typeof e;if(e===!0)return new ph("True");if(e===!1)return new ph("False");if(e===null)return new vb("//js(null)");if(e===void 0)return new xb;if(t==="string")return new Ab(JSON.stringify(e));if(t==="bigint"||t==="number")return new Tb(e.toString());if(Array.isArray(e))return new Eb(Ke.fromArray(e.map(Rs)));if(e instanceof Ke)return H9(e);if(e instanceof N3)return J9(e);if(e instanceof xa)return G9(e);if(e instanceof S)return z9(e);if(e instanceof Qi)return q9(e);if(e instanceof Set)return Rb(Ke.fromArray([...e].map(Rs)));if(e instanceof RegExp)return new kb(`//js(${e})`);if(e instanceof Date)return new Cb(`//js(Date("${e.toISOString()}"))`);if(e instanceof Function){const n=[];for(const r of Array(e.length).keys())n.push(String.fromCharCode(r+97));return new Db(`//fn(${n.join(", ")}) { ... }`)}return V9(e)}function q9(e){const t=[];return e.forEach((n,r)=>t.push([Rs(r),Rs(n)])),new Nb(Ke.fromArray(t))}function V9(e){var s,i;const t=((i=(s=Object.getPrototypeOf(e))==null?void 0:s.constructor)==null?void 0:i.name)||"Object",n=[];for(const u of Object.keys(e))n.push([Rs(u),Rs(e[u])]);const r=t==="Object"?"":t+" ";return new U9(r,Ke.fromArray(n))}function z9(e){const t=Ke.fromArray(Object.keys(e).map(n=>{const r=Rs(e[n]);return isNaN(parseInt(n))?[new E(n+": "),r]:[new Q,r]}));return new Ib(e.constructor.name,t)}function H9(e){return new Ob(Ke.fromArray(e.toArray().map(Rs)))}function G9(e){return new Sb(`<<${Array.from(e.buffer).join(", ")}>>`)}function J9(e){return new _b(`//utfcodepoint(${String.fromCodePoint(e.value)})`)}function W9(e){const t=new CSSStyleSheet;t.replace(e),document.adoptedStyleSheets.push(t)}function Q9(e,t,n){return e.withFields({update:n(e.update),init:t(e.init)})}const X9=`@font-face {
  font-family: 'Lexend';
  src: url(data:application/font-woff2;charset=utf-8;base64,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) format('woff2'),
        url(data:application/font-woff;charset=utf-8;base64,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) format('woff');
  font-weight: normal;
  font-style: normal;
}`;function K9(e){let t=MA("div"),n=mD(t,new Z_);return pD(B9(),t),Y_(t,"class","tardis"),gD(n,e),n}function Y9(){let e=MA("div");return Y_(e,"id","tardis-start"),e}function Z9(){W9(X9);let e=Y9(),t=K9(e),n=Y3(Jr(e));return[t,n]}function eM(e){return t=>n=>{let r=t(n),i=Te(r),u=Jr(i);return e(u,Jr("Init")),r}}function tM(e){return t=>(n,r)=>{let s=t(n,r),u=Te(s),o=Jr(u);return e(o,Jr(r)),s}}function nM(e,t){return n=>{let s=(u=>new RA(t,u))(u=>sn(o=>{let c=Jr(u),l=new b_(c),d=new m_(l);return Y3(n)(d)})),i=__(s);return e(i)}}function rM(e,t){return(n,r)=>{let i=(o=>new R9(t,o,r))(n),u=__(i);return e(u)}}function PA(){return $e(p([dA(1000001),du("flex"),a9("column"),gb("fixed"),bA(He(12)),wA(He(12)),Oo("var(--background)"),SA(He(10)),u9("0px 0px 5px 1px var(--shadow)"),bb("hidden"),wb("2px solid var(--primary)"),cc("var(--editor-fg)"),hb(He(1e3)),e9("calc(100vw - 24px)"),t9("min(1200px, calc(100vh - 24px))")]))}function sM(){let e=PA();return Me(e)}function iM(){let e=p([kp(PA()),hb(He(400)),gA("center")]),t=$e(e);return Me(t)}function jA(){return $e(p([du("grid"),pA("1 / 4"),mb("subgrid"),gb("sticky"),yA(He(0))]))}function Rv(){let e=jA();return Me(e)}function uM(){let e=$e(p([kp(jA()),xA("2px solid var(--primary)")]));return Me(e)}function LA(){return $e(p([Oo("var(--background)"),If(He(12)),du("flex"),yb("center"),gA("space-between"),lc("Lexend")]))}function oM(){let e=LA();return Me(e)}function aM(){let e=p([kp(LA())]),t=$e(e);return Me(t)}function cM(){let e=$e(p([du("grid"),mb("auto 2fr 3fr"),lc("monospace"),o9("auto"),ZD("100%"),pb("pre-wrap"),Rp(He(10))]));return Me(e)}function FA(){return $e(p([du("grid"),pA("1 / 4"),mb("subgrid"),Oo("var(--editor-bg)"),Rp(He(14)),xA("1px solid var(--gutter)")]))}function lM(){let e=FA();return Me(e)}function fM(){let e=p([kp(FA()),Oo("var(--shadow)")]),t=$e(e);return Me(t)}function dM(){let e=$e(p([c9("9px 9px"),s9("end"),vA("1px solid var(--gutter)"),lc("Lexend"),cc("var(--syntax-comment)")]));return Me(e)}function hM(){let e=$e(p([bb("hidden"),fA("break-all"),If(He(9)),vA("1px solid var(--gutter)")]));return Me(e)}function pM(){let e=$e(p([bb("hidden"),fA("break-all"),If(He(6))]));return Me(e)}function gM(){let e=$e(p([du("flex"),hA(He(12)),yb("center"),pb("nowrap")]));return Me(e)}function mM(){let e=$e(p([mA("none"),wb("none"),Oo("none"),lc("Lexend"),N("cursor","pointer"),cc("var(--button)")]));return Me(e)}function yM(){let e=p([cc("var(--bool)"),pb("pre")]),t=$e(e);return Me(t)}function Oa(){let e=p([du("flex")]),t=$e(e);return Me(t)}function bM(){let e=$e(p([du("flex"),yb("center"),hA(He(18))]));return Me(e)}function $A(e){let t="syntax-"+e,n=f9(t,p([cc(e)]));return Me(n)}function _g(){let e=$e(p([Rp(He(14)),lc("Lexend"),Oo("var(--background)"),If(He(9))]));return Me(e)}function Mb(){let e=$e(p([mA("none"),Oo("transparent"),If(He(6)),l9(He(0)),hb(YD(100)),Rp(He(12)),lc("inherit"),n9("inherit"),cc("var(--primary)"),wb("1px solid var(--primary)"),SA(He(5)),r9("none")]));return Me(e)}function wM(){let e=$e(p([gb("fixed"),yA(He(0)),bA(He(0)),wA(He(0)),i9(He(0)),dA(1e6)]));return Me(e)}function Je(e,t,n,r){let s=Q3(" ",e),i=$A(r);return Sr(t)===0?j(p([i]),p([on(s+n)])):j(p([Oa()]),p([j(p([yM()]),p([on(s+t)])),j(p([i]),p([on(n)]))]))}function xM(e,t){let n=t.count;return e?e&&n===1?Rv():uM():Rv()}function vM(e,t){return j(p([xM(e,t)]),p([j(p([_g()]),p([on("Step")])),j(p([_g()]),p([on("Msg")])),j(p([_g()]),p([on("Model")]))]))}function Du(e){if(e instanceof xb)return 1;if(e instanceof ph)return 1;if(e instanceof vb)return 1;if(e instanceof Sb)return 1;if(e instanceof _b)return 1;if(e instanceof Ab)return 1;if(e instanceof Tb)return 1;if(e instanceof kb)return 1;if(e instanceof Cb)return 1;if(e instanceof Db)return 1;if(e instanceof Eb){let t=e[0],n=X(t,Du);return Bn(n,2,(r,s)=>r+s)}else if(e instanceof Ob){let t=e[0],n=X(t,Du);return Bn(n,2,(r,s)=>r+s)}else if(e instanceof Ib){let t=e[1],n=X(t,r=>Du(It(r)));return Bn(n,2,(r,s)=>r+s)}else if(e instanceof Nb){let t=e[0],n=X(t,r=>Du(It(r)));return Bn(n,2,(r,s)=>r+s)}else if(e instanceof Rb){let t=e[0],n=X(t,r=>Du(r));return Bn(n,2,(r,s)=>r+s)}else{let t=e[1],n=X(t,r=>Du(It(r)));return Bn(n,2,(r,s)=>r+s)}}function kv(e,t){return e?t:""}function SM(e,t,n){return Is(p([p([Je(n,t,"#(","var(--editor-fg)")]),Ja(e,r=>fi(r,n+2,"")),p([Je(n,t,")","var(--editor-fg)")])]))}function fi(e,t,n){if(e instanceof xb)return p([Je(t,n,"Nil","var(--nil)")]);if(e instanceof ph){let r=e[0];return p([Je(t,n,r,"var(--bool)")])}else if(e instanceof vb){let r=e[0];return p([Je(t,n,r,"var(--constant)")])}else if(e instanceof Sb){let r=e[0];return p([Je(t,n,r,"var(--bit-array)")])}else if(e instanceof _b){let r=e[0];return p([Je(t,n,r,"var(--utfcodepoint)")])}else if(e instanceof Ab){let r=e[0];return p([Je(t,n,r,"var(--string)")])}else if(e instanceof Tb){let r=e[0];return p([Je(t,n,r,"var(--number)")])}else if(e instanceof kb){let r=e[0];return p([Je(t,n,r,"var(--regex)")])}else if(e instanceof Cb){let r=e[0];return p([Je(t,n,r,"var(--date)")])}else if(e instanceof Db){let r=e[0];return p([Je(t,n,r,"var(--function)")])}else if(e instanceof Eb){let r=e[0];return SM(r,n,t)}else if(e instanceof Ob){let r=e[0];return TM(r,n,t)}else if(e instanceof Ib){let r=e[0],s=e[1];return EM(r,s,n,t)}else if(e instanceof Nb){let r=e[0];return OM(r,n,t)}else if(e instanceof Rb){let r=e[0];return IM(r,n,t)}else{let r=e[0],s=e[1];return NM(r,s,n,t)}}function _M(e,t,n){let r=n.index,s=n.model,i=n.msg,u=Se(t,"")===r?fM():lM();return j(p([u,Kr(new kA(e,n))]),p([j(p([dM()]),p([on(r)])),j(p([hM()]),fi(Rs(i),0,"")),j(p([pM()]),fi(Rs(s),0,""))]))}function AM(e,t,n){let r=n.selected_step;return e?Xu(s=>j(p([cM()]),s),(()=>{let s=n.steps,i=M3(s,100),u=X(i,o=>[o.index,_M(t,r,o)]);return fp(u,["header",vM(e,n)])})()):Cn()}function TM(e,t,n){let r=Je(n,t,"[","var(--editor-fg)"),s=u=>Je(u,"","]","var(--editor-fg)");return k3(e)?p([j(p([Oa()]),p([r,s(0)]))]):Is(p([p([r]),Ja(e,u=>fi(u,n+2,"")),p([s(n)])]))}function EM(e,t,n,r){let s=o=>{let a=kv(o,"(");return Je(r,n,e+a,"var(--custom-type)")},i=(o,a)=>{let c=kv(a,")");return Je(o,"",c,"var(--custom-type)")},u=o=>{let a=o?[r,r+2]:[0,0],c=a[0],l=a[1];return Is(p([p([s(!0)]),Ja(t,d=>{let h=Se(Te(d),"");return fi(It(d),l,h)}),p([i(c,!0)])]))};return t.atLeastLength(2)?u(!0):t.atLeastLength(1)?Bn(t,0,(c,l)=>c>2?c:Du(It(l))+c)>2?u(!0):p([j(p([Oa()]),u(!1))]):p([j(p([Oa()]),p([s(!1),i(0,!1)]))])}function OM(e,t,n){return Is(p([p([Je(n,t,"//js dict.from_list([","var(--editor-fg)")]),Ja(e,r=>p([j(p([Oa()]),Is(p([fi(Te(r),n+2,"#("),fi(It(r),0,", "),p([j(p([$A("var(--bool)")]),p([on(")")]))]),p([on(",")])])))])),p([Je(n,"","])","var(--editor-fg)")])]))}function IM(e,t,n){return Is(p([p([Je(n,t,"//js Set(","var(--editor-fg)")]),Ja(e,r=>fi(r,n+2,"")),p([Je(n,t,")","var(--editor-fg)")])]))}function NM(e,t,n,r){return Is(p([p([Je(r,n,e+" {","var(--editor-fg)")]),Ja(t,s=>fi(It(s),r+2,"")),p([Je(r,n,"}","var(--editor-fg)")])]))}class RM extends S{constructor(t){super(),this.dispatch=t}}class kM extends S{constructor(t){super(),this[0]=t}}function CM(e,t){return ne(e,n=>{let r=t[0][0];return r(Jr(n)),n})}function DM(e,t){let r=A_(t,e,void 0);return Wa(r,s=>new g9(s))}function MM(e){let t=d9(vD(e));return Wa(t,n=>(li("Unable to start sketch. Check your configuration."),li(n),new p9(n)))}function PM(e){let t=x9(),n=(r=>new L9(p([]),r,!1,!1,new Q))(t);return Cu(n,P())}function jM(e,t){if(t instanceof OA)return[e.withFields({opened:!e.opened}),P()];if(t instanceof CA){let n=t[0],r=(()=>{let o=e.debuggers,a=C3(o,c=>{let l=It(c),d=By(l.steps);return Nn(d,h=>{let f=l.dispatcher,g=Qe(f,m=>av(m,h.model));return Um(g,void 0)})});return eb(a)})(),s=e.debuggers,i=ld(s,n,M9),u=(o=>e.withFields({frozen:!1,debuggers:o}))(i);return Cu(u,r)}else if(t instanceof IA){let n=t[0],r=e.withFields({color_scheme:n});return Cu(r,v9(n))}else if(t instanceof RA){let n=t[0],r=t[1],s=e.debuggers,i=ld(s,n,o=>D9(o,r)),u=(o=>e.withFields({debuggers:o}))(i);return Cu(u,P())}else if(t instanceof kA){let n=t[0],r=t[1],s=new E(r.index),i=(()=>{let c=e.debuggers,l=DA(c,n),d=Nn(l,h=>{let f=h.dispatcher,g=Qe(f,m=>av(m,r.model));return Um(g,void 0)});return we(d,P())})(),u=e.debuggers,o=ld(u,n,c=>P9(c,s)),a=(c=>e.withFields({frozen:!0,debuggers:c}))(o);return Cu(a,i)}else if(t instanceof N9){let n=t[0];return li(n),[e,P()]}else if(t instanceof NA){let n=t[0],r=e.withFields({selected_debugger:new E(n)});return Cu(r,P())}else{let n=t[0],r=t[1],s=t[2],i=e.debuggers,u=ld(i,n,c=>j9(c,r,s)),o=(c=>e.withFields({debuggers:c}))(u),a=F9(o,n);return Cu(a,P())}}function LM(e){return e?[sM(),aM(),"Close"]:[iM(),oM(),"Open"]}function FM(e){let t=TA(e);return new IA(t)}function $M(e){return new NA(e)}function BM(e){return e.opened?ch(p([At(FM),Mb()]),X(w9(),n=>{let r=AA(n),s=Le(e.color_scheme,n);return Zo(p([ut(r),Yo(s)]),r)})):Cn()}function UM(e){let t=e.frozen,n=e.selected_debugger;if(t&&n instanceof E){let r=n[0];return _r(p([Mb(),Kr(new CA(r))]),p([on("Restart")]))}else return Cn()}function qM(e){let t=O9(e.color_scheme),n=LM(e.opened),r=n[0],s=n[1],i=n[2],u=e.frozen?wM():E5(),o=(()=>{let a=e.selected_debugger,c=Se(a,"");return(l=>DA(e.debuggers,l))(c)})();return j(p([_("debugger_"),t,u]),p([j(p([r]),p([j(p([s]),p([j(p([Oa(),bM()]),p([j(p([]),p([on("Debugger")])),BM(e),UM(e)])),(()=>{if(o.isOk()){let a=o[0];return j(p([gM()]),p([ch(p([At($M),Mb()]),X($9(e),c=>{let l=c[0],d=Le(e.selected_debugger,new E(l));return Zo(p([ut(l),Yo(d)]),l)})),j(p([]),p([on(D(a.count-1)+" Steps")])),_r(p([mM(),Kr(new OA)]),p([on(i)]))]))}else return Cn()})()])),(()=>{let a=e.selected_debugger;if(o.isOk()&&a instanceof E){let c=o[0],l=a[0];return AM(e.opened,l,c)}else return Cn()})()]))]))}function VM(){let e=Z9(),t=e[0],n=e[1],r=MM(t),s=ne(r,o=>h9(qM,o)),i=ne(s,o=>S_(PM,jM,o)),u=Nn(i,o=>DM(n,o));return ne(u,o=>new RM(o))}function zM(e,t){let n=t[0][1];return Q9(e,eM(n),tM(n))}function HM(e,t){let n=e.dispatch,r=nM(n,t),s=rM(n,t);return new kM([r,s])}function GM(e){let t=VM();return ne(t,n=>HM(n,e))}function hu(e,t){return j(p([_("mt-4 flex col-start-1 col-span-11"),_((()=>{let n=Sr(e);return n>38?"text-4xl":n>18?"text-5.5xl":n===18?"text-6xl":"text-7xl"})()),_(t)]),p([z5(p([je("title"),_("min-h-[56px] max-h-[140px] overflow-hidden px-0 pb-1 w-full font-transitional font-bold italic text-ecru-white-950")]),p([L(e)]))]))}function JM(e,t){return globalThis.setTimeout(t,e)}function Ii(e,t,n){let r=(()=>{let i=On(e,t);return Ly(i)})();if(r instanceof E){let i=r[0],u=n(i);return(o=>xr(e,t,o))(u)}else return e}function Ag(e){let n=rn(e),r=wr(n,(i,u)=>Wi(Te(i),Te(u))),s=uo(r,(i,u)=>[u,It(i)]);return kn(s)}function WM(e,t){for(;;){let n=e,r=t;if(n.hasLength(0))return new Q;if(n.atLeastLength(1)&&r===0){let s=n.head;return new E(s)}else e=n.tail,t=r-1}}function Ni(e){let n=jd(e);return D(n)}function BA(e){let t=Ni(e);return ki(e),(()=>{let s=Zu(e);return(i=>i instanceof Eo?"January":i instanceof Za?"February":i instanceof ec?"March":i instanceof tc?"April":i instanceof nc?"May":i instanceof rc?"June":i instanceof sc?"July":i instanceof ic?"August":i instanceof uc?"September":i instanceof oc?"October":i instanceof ac?"November":"December")(s)})()+" "+t}function QM(e,t){return sn(n=>{JM(e,()=>n(t))})}function XM(e,t){let r=ne(e,s=>Wa(s,t));return AR(r)}function KM(e){if(e instanceof d_)return p([new ni("end of input","something else",p([""]))]);if(e instanceof Ka){let t=e.byte,n=e.position;return p([new ni("unexpected byte",t,p([D(n)]))])}else if(e instanceof y5){let t=e.byte,n=e.position;return p([new ni("unexpected sequence",t,p([D(n)]))])}else return e[0]}let YM=class extends S{constructor(t,n,r,s,i,u,o){super(),this.elem_id=t,this.search_items=n,this.search_term=r,this.found_items=s,this.is_open=i,this.is_focused=u,this.hovered_item=o}};class UA extends S{constructor(t){super(),this[0]=t}}class qA extends S{constructor(t){super(),this[0]=t}}class VA extends S{constructor(t){super(),this[0]=t}}class zA extends S{constructor(t){super(),this[0]=t}}class r1 extends S{constructor(t){super(),this[0]=t}}class s1 extends S{constructor(t){super(),this[0]=t}}class HA extends S{constructor(t){super(),this[0]=t}}class ZM extends S{constructor(t){super(),this[0]=t}}class GA extends S{}class Ld extends S{}class e7 extends S{}function t7(e){return Fe("type-ahead",e,p([]))}function n7(e){return wf("recipe-titles",e)}function r7(e){return wf("search-term",e)}function s7(e){let t=D(tR(999999));return[new YM(t,p([]),"",p([]),!1,!1,new Q),P()]}function i7(e,t){if(li(t),t instanceof qA){let n=t[0];return[e.withFields({search_term:n}),P()]}else if(t instanceof UA){let n=t[0];return[e.withFields({search_items:n,found_items:n}),P()]}else if(t instanceof VA){let n=t[0];return[e.withFields({search_term:n,found_items:Sr(n)<3?e.search_items:io(e.search_items,s=>fk(sh(s),sh(n))),is_open:!Qx(e.search_items,n)}),P()]}else if(t instanceof r1){let n=t[0];return[e,iD("typeahead-change",Vr(n))]}else if(t instanceof s1){let n=t[0];return[e.withFields({is_open:!1}),sn(r=>{let s=new r1(n);return r(s)})]}else{if(t instanceof GA)return[e.withFields({is_focused:!0,is_open:!Qx(e.search_items,e.search_term)}),P()];if(t instanceof Ld)return[e,QM(100,new Ld)];if(t instanceof e7)return[e.withFields({is_open:!1,is_focused:!1,hovered_item:new Q}),P()];if(t instanceof zA){let n=t[0],r=e.is_focused,s=e.is_open;if(r){if(n==="ArrowDown"&&r&&s)return[e.withFields({hovered_item:(()=>{let i=e.hovered_item,u=R3(e.found_items);if(i instanceof Q)return new E(0);{let o=i[0],a=u;return new E(ap(o+1,a))}})()}),P()];if(n==="ArrowDown"&&r&&!s)return[e.withFields({is_open:!0}),P()];if(n==="ArrowUp"&&r&&s)return[e.withFields({hovered_item:(()=>{let i=e.hovered_item;if(i instanceof Q)return new Q;{let u=i[0];return new E(cp(0,u-1))}})()}),P()];if(n==="Enter"&&r){let i=e.hovered_item,u=e.is_open;if(i instanceof Q&&!u)return[e.withFields({is_open:!0}),P()];if(i instanceof E&&u){let o=i[0];return[e.withFields({is_open:!1,hovered_item:new Q}),sn(a=>{let c=new s1(Se(WM(e.found_items,o),""));return a(c)})]}else return[e,P()]}else return n==="Escape"&&r&&s?[e.withFields({is_open:!1,hovered_item:new Q}),sn(i=>{let u=new Ld;return i(u)})]:[e,P()]}else return[e,P()]}else if(t instanceof HA){let n=t[0];return[e.withFields({hovered_item:new E(n)}),P()]}else return[e.withFields({hovered_item:new Q}),P()]}}function u7(){return kn(p([["recipe-titles",e=>{let t=e,n=zy(Pt)(t);return ne(n,r=>new UA(r))}],["search-term",e=>{let n=Pt(e);return ne(n,r=>new qA(r))}]]))}function Cv(e){let n=Pt(e),r=ne(n,pr);return F3(r,s=>Wa(s,i=>p([new ni("a stringed int","something else",p([""]))])))}function o7(e,t,n){return T_(p([de("role","option"),de("data-index",D(n)),_(Le(e.hovered_item,new E(n))?"bg-ecru-white-100":""),_("px-1"),Kr(new s1(t)),Xr("mouseover",r=>{let s=r,i=Qt("target",Qt("dataset",Qt("index",Cv)))(s);return ne(i,u=>new HA(u))}),Xr("mouseout",r=>{let s=r,i=Qt("target",Qt("dataset",Qt("index",Cv)))(s);return ne(i,u=>new ZM(u))})]),p([L(t)]))}function a7(e){return un(p([rb(p([je("meal-input-"+e.elem_id),In(p([["field-sizing","content"],["overflow-x","hidden"],["width","100%"],["font-family","Charter, 'Bitstream Charter', 'Sitka Text', Cambria, serif"],["font-size","clamp(1.125rem, calc(1.125rem + ((1.25 - 1.125) * ((100vw - 20rem) / (96 - 20)))), 1.25rem)"],["line-height","1.6"],["color","rgb(47 40 27)"],["background-color","rgb(241 241 227)"],["border-width","0px"],["border-bottom-width","0px"],["padding-top","0px"],["padding-bottom","0px"],["line-height","inherit"],["resize","none"]])),_((()=>{let t=Sr(e.search_term);return t>38?"text-base":t>17?"text-lg":"text-xl"})()),ut(e.search_term),de("autocapitalize","none"),de("autocomplete","off"),de("aria-autocomplete","list"),de("role","combobox"),Jt("meal-input"),At(t=>new VA(t)),Xr("change",t=>{let n=t,r=Qt("target",Qt("value",Pt))(n);return ne(r,s=>new r1(s))}),uD(t=>new zA(t)),oD(new GA),Xr("blur",t=>new z(new Ld))]),""),J5(p([je("search-results-"+e.elem_id),_("font-mono bg-ecru-white-50 border border-ecru-white-950 text-xs"),de("role","listbox"),In(e.is_open?p([["display","block"]]):p([["display","none"]])),de("aria-expanded",e.is_open?"true":"false")]),(()=>{let t=e.found_items,n=X(t,r=>r);return uo(n,(r,s)=>o7(e,r,s))})())]))}function c7(){return V5(s7,i7,a7,u7())}var U=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function l7(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Pb(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var JA={},jb=class WA{constructor(t,n=new Map,r=0){this.prefix=t,this._existing=n,this.counter=r}clone(){const{prefix:t,_existing:n,counter:r}=this;return new WA(t,new Map(n),r)}getId(t){const n=t&&this._existing.get(t);if(n)return n;const r=this.prefix+this.counter;return this.counter++,t&&this._existing.set(t,r),r}hasId(t){return this._existing.has(t)}getOldIds(){return[...this._existing.keys()]}};(function(e,t){if(e.setImmediate)return;var n=1,r={},s=!1,i=e.document,u;function o(w){typeof w!="function"&&(w=new Function(""+w));for(var v=new Array(arguments.length-1),x=0;x<v.length;x++)v[x]=arguments[x+1];var A={callback:w,args:v};return r[n]=A,u(n),n++}function a(w){delete r[w]}function c(w){var v=w.callback,x=w.args;switch(x.length){case 0:v();break;case 1:v(x[0]);break;case 2:v(x[0],x[1]);break;case 3:v(x[0],x[1],x[2]);break;default:v.apply(t,x);break}}function l(w){if(s)setTimeout(l,0,w);else{var v=r[w];if(v){s=!0;try{c(v)}finally{a(w),s=!1}}}}function d(){u=function(w){process.nextTick(function(){l(w)})}}function h(){if(e.postMessage&&!e.importScripts){var w=!0,v=e.onmessage;return e.onmessage=function(){w=!1},e.postMessage("","*"),e.onmessage=v,w}}function f(){var w="setImmediate$"+Math.random()+"$",v=function(x){x.source===e&&typeof x.data=="string"&&x.data.indexOf(w)===0&&l(+x.data.slice(w.length))};e.addEventListener?e.addEventListener("message",v,!1):e.attachEvent("onmessage",v),u=function(x){e.postMessage(w+x,"*")}}function g(){var w=new MessageChannel;w.port1.onmessage=function(v){var x=v.data;l(x)},u=function(v){w.port2.postMessage(v)}}function m(){var w=i.documentElement;u=function(v){var x=i.createElement("script");x.onreadystatechange=function(){l(v),x.onreadystatechange=null,w.removeChild(x),x=null},w.appendChild(x)}}function y(){u=function(w){setTimeout(l,0,w)}}var b=Object.getPrototypeOf&&Object.getPrototypeOf(e);b=b&&b.setTimeout?b:e,{}.toString.call(e.process)==="[object process]"?d():h()?f():e.MessageChannel?g():i&&"onreadystatechange"in i.createElement("script")?m():y(),b.setImmediate=o,b.clearImmediate=a})(typeof self>"u"?U:self);/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */const Tg=self.crypto||self.msCrypto;var jp=class{constructor(t){if(!(Tg&&Tg.subtle))throw new Error("crypto.subtle not found.");if(t==="sha256")this.algorithm={name:"SHA-256"};else if(t==="sha1")this.algorithm={name:"SHA-1"};else throw new Error(`Unsupported algorithm "${t}".`);this._content=""}update(t){this._content+=t}async digest(){const t=new TextEncoder().encode(this._content),n=new Uint8Array(await Tg.subtle.digest(this.algorithm,t));let r="";for(let s=0;s<n.length;++s)r+=n[s].toString(16).padStart(2,"0");return r}};/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */var QA=class{constructor(t){this.current=t.sort(),this.done=!1,this.dir=new Map;for(let n=0;n<t.length;++n)this.dir.set(t[n],!0)}hasNext(){return!this.done}next(){const{current:t,dir:n}=this,r=t.slice();let s=null,i=0;const u=t.length;for(let o=0;o<u;++o){const a=t[o],c=n.get(a);(s===null||a>s)&&(c&&o>0&&a>t[o-1]||!c&&o<u-1&&a>t[o+1])&&(s=a,i=o)}if(s===null)this.done=!0;else{const o=n.get(s)?i-1:i+1;t[i]=t[o],t[o]=s;for(const a of t)a>s&&n.set(a,!n.get(a))}return r}};/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */const f7="http://www.w3.org/1999/02/22-rdf-syntax-ns#",Eg=f7+"langString",Og="http://www.w3.org/2001/XMLSchema#string",kr="NamedNode",Au="BlankNode",Fd="Literal",Dv="DefaultGraph",ca={};(()=>{const e="(?:<([^:]+:[^>]*)>)",n="A-Za-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�"+"_",r=n+"0-9-·̀-ͯ‿-⁀",i="(_:(?:["+n+"0-9])(?:(?:["+r+".])*(?:["+r+"]))?)",u='"([^"\\\\]*(?:\\\\.[^"\\\\]*)*)"',o="(?:\\^\\^"+e+")",c="(?:"+u+"(?:"+o+"|"+"(?:@([a-zA-Z]+(?:-[a-zA-Z0-9]+)*))"+")?)",l="[ \\t]+",d="[ \\t]*",h="(?:"+e+"|"+i+")"+l,f=e+l,g="(?:"+e+"|"+i+"|"+c+")"+d,m="(?:\\.|(?:(?:"+e+"|"+i+")"+d+"\\.))";ca.eoln=/(?:\r\n)|(?:\n)|(?:\r)/g,ca.empty=new RegExp("^"+d+"$"),ca.quad=new RegExp("^"+d+h+f+g+m+d+"$")})();var Lb=class $d{static parse(t){const n=[],r={},s=t.split(ca.eoln);let i=0;for(const u of s){if(i++,ca.empty.test(u))continue;const o=u.match(ca.quad);if(o===null)throw new Error("N-Quads parse error on line "+i+".");const a={subject:null,predicate:null,object:null,graph:null};if(o[1]!==void 0?a.subject={termType:kr,value:o[1]}:a.subject={termType:Au,value:o[2]},a.predicate={termType:kr,value:o[3]},o[4]!==void 0?a.object={termType:kr,value:o[4]}:o[5]!==void 0?a.object={termType:Au,value:o[5]}:(a.object={termType:Fd,value:void 0,datatype:{termType:kr}},o[7]!==void 0?a.object.datatype.value=o[7]:o[8]!==void 0?(a.object.datatype.value=Eg,a.object.language=o[8]):a.object.datatype.value=Og,a.object.value=m7(o[6])),o[9]!==void 0?a.graph={termType:kr,value:o[9]}:o[10]!==void 0?a.graph={termType:Au,value:o[10]}:a.graph={termType:Dv,value:""},!(a.graph.value in r))r[a.graph.value]=[a],n.push(a);else{let c=!0;const l=r[a.graph.value];for(const d of l)if(d7(d,a)){c=!1;break}c&&(l.push(a),n.push(a))}}return n}static serialize(t){Array.isArray(t)||(t=$d.legacyDatasetToQuads(t));const n=[];for(const r of t)n.push($d.serializeQuad(r));return n.sort().join("")}static serializeQuadComponents(t,n,r,s){let i="";return t.termType===kr?i+=`<${t.value}>`:i+=`${t.value}`,i+=` <${n.value}> `,r.termType===kr?i+=`<${r.value}>`:r.termType===Au?i+=r.value:(i+=`"${p7(r.value)}"`,r.datatype.value===Eg?r.language&&(i+=`@${r.language}`):r.datatype.value!==Og&&(i+=`^^<${r.datatype.value}>`)),s.termType===kr?i+=` <${s.value}>`:s.termType===Au&&(i+=` ${s.value}`),i+=` .
`,i}static serializeQuad(t){return $d.serializeQuadComponents(t.subject,t.predicate,t.object,t.graph)}static legacyDatasetToQuads(t){const n=[],r={"blank node":Au,IRI:kr,literal:Fd};for(const s in t)t[s].forEach(u=>{const o={};for(const a in u){const c=u[a],l={termType:r[c.type],value:c.value};l.termType===Fd&&(l.datatype={termType:kr},"datatype"in c&&(l.datatype.value=c.datatype),"language"in c?("datatype"in c||(l.datatype.value=Eg),l.language=c.language):"datatype"in c||(l.datatype.value=Og)),o[a]=l}s==="@default"?o.graph={termType:Dv,value:""}:o.graph={termType:s.startsWith("_:")?Au:kr,value:s},n.push(o)});return n}};function d7(e,t){return!(e.subject.termType===t.subject.termType&&e.object.termType===t.object.termType)||!(e.subject.value===t.subject.value&&e.predicate.value===t.predicate.value&&e.object.value===t.object.value)?!1:e.object.termType!==Fd?!0:e.object.datatype.termType===t.object.datatype.termType&&e.object.language===t.object.language&&e.object.datatype.value===t.object.datatype.value}const h7=/["\\\n\r]/g;function p7(e){return e.replace(h7,function(t){switch(t){case'"':return'\\"';case"\\":return"\\\\";case`
`:return"\\n";case"\r":return"\\r"}})}const g7=/(?:\\([tbnrf"'\\]))|(?:\\u([0-9A-Fa-f]{4}))|(?:\\U([0-9A-Fa-f]{8}))/g;function m7(e){return e.replace(g7,function(t,n,r,s){if(n)switch(n){case"t":return"	";case"b":return"\b";case"n":return`
`;case"r":return"\r";case"f":return"\f";case'"':return'"';case"'":return"'";case"\\":return"\\"}if(r)return String.fromCharCode(parseInt(r,16));if(s)throw new Error("Unsupported U escape")})}/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */const Mv=jb,y7=jp,b7=QA,Pv=Lb;var XA=class{constructor({createMessageDigest:t=()=>new y7("sha256"),canonicalIdMap:n=new Map,maxDeepIterations:r=1/0}={}){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new Mv("_:c14n",n),this.createMessageDigest=t,this.maxDeepIterations=r,this.quads=null,this.deepIterations=null}async main(t){this.deepIterations=new Map,this.quads=t;for(const a of t)this._addBlankNodeQuadInfo({quad:a,component:a.subject}),this._addBlankNodeQuadInfo({quad:a,component:a.object}),this._addBlankNodeQuadInfo({quad:a,component:a.graph});const n=new Map,r=[...this.blankNodeInfo.keys()];let s=0;for(const a of r)++s%100===0&&await this._yield(),await this._hashAndTrackBlankNode({id:a,hashToBlankNodes:n});const i=[...n.keys()].sort(),u=[];for(const a of i){const c=n.get(a);if(c.length>1){u.push(c);continue}const l=c[0];this.canonicalIssuer.getId(l)}for(const a of u){const c=[];for(const l of a){if(this.canonicalIssuer.hasId(l))continue;const d=new Mv("_:b");d.getId(l);const h=await this.hashNDegreeQuads(l,d);c.push(h)}c.sort(w7);for(const l of c){const d=l.issuer.getOldIds();for(const h of d)this.canonicalIssuer.getId(h)}}const o=[];for(const a of this.quads){const c=Pv.serializeQuadComponents(this._componentWithCanonicalId(a.subject),a.predicate,this._componentWithCanonicalId(a.object),this._componentWithCanonicalId(a.graph));o.push(c)}return o.sort(),o.join("")}async hashFirstDegreeQuads(t){const n=[],r=this.blankNodeInfo.get(t),s=r.quads;for(const u of s){const o={subject:null,predicate:u.predicate,object:null,graph:null};o.subject=this.modifyFirstDegreeComponent(t,u.subject,"subject"),o.object=this.modifyFirstDegreeComponent(t,u.object,"object"),o.graph=this.modifyFirstDegreeComponent(t,u.graph,"graph"),n.push(Pv.serializeQuad(o))}n.sort();const i=this.createMessageDigest();for(const u of n)i.update(u);return r.hash=await i.digest(),r.hash}async hashRelatedBlankNode(t,n,r,s){let i;this.canonicalIssuer.hasId(t)?i=this.canonicalIssuer.getId(t):r.hasId(t)?i=r.getId(t):i=this.blankNodeInfo.get(t).hash;const u=this.createMessageDigest();return u.update(s),s!=="g"&&u.update(this.getRelatedPredicate(n)),u.update(i),u.digest()}async hashNDegreeQuads(t,n){const r=this.deepIterations.get(t)||0;if(r>this.maxDeepIterations)throw new Error(`Maximum deep iterations (${this.maxDeepIterations}) exceeded.`);this.deepIterations.set(t,r+1);const s=this.createMessageDigest(),i=await this.createHashToRelated(t,n),u=[...i.keys()].sort();for(const o of u){s.update(o);let a="",c;const l=new b7(i.get(o));let d=0;for(;l.hasNext();){const h=l.next();++d%3===0&&await this._yield();let f=n.clone(),g="";const m=[];let y=!1;for(const b of h)if(this.canonicalIssuer.hasId(b)?g+=this.canonicalIssuer.getId(b):(f.hasId(b)||m.push(b),g+=f.getId(b)),a.length!==0&&g>a){y=!0;break}if(!y){for(const b of m){const w=await this.hashNDegreeQuads(b,f);if(g+=f.getId(b),g+=`<${w.hash}>`,f=w.issuer,a.length!==0&&g>a){y=!0;break}}y||(a.length===0||g<a)&&(a=g,c=f)}}s.update(a),n=c}return{hash:await s.digest(),issuer:n}}modifyFirstDegreeComponent(t,n){return n.termType!=="BlankNode"?n:{termType:"BlankNode",value:n.value===t?"_:a":"_:z"}}getRelatedPredicate(t){return`<${t.predicate.value}>`}async createHashToRelated(t,n){const r=new Map,s=this.blankNodeInfo.get(t).quads;let i=0;for(const u of s)++i%100===0&&await this._yield(),await Promise.all([this._addRelatedBlankNodeHash({quad:u,component:u.subject,position:"s",id:t,issuer:n,hashToRelated:r}),this._addRelatedBlankNodeHash({quad:u,component:u.object,position:"o",id:t,issuer:n,hashToRelated:r}),this._addRelatedBlankNodeHash({quad:u,component:u.graph,position:"g",id:t,issuer:n,hashToRelated:r})]);return r}async _hashAndTrackBlankNode({id:t,hashToBlankNodes:n}){const r=await this.hashFirstDegreeQuads(t),s=n.get(r);s?s.push(t):n.set(r,[t])}_addBlankNodeQuadInfo({quad:t,component:n}){if(n.termType!=="BlankNode")return;const r=n.value,s=this.blankNodeInfo.get(r);s?s.quads.add(t):this.blankNodeInfo.set(r,{quads:new Set([t]),hash:null})}async _addRelatedBlankNodeHash({quad:t,component:n,position:r,id:s,issuer:i,hashToRelated:u}){if(!(n.termType==="BlankNode"&&n.value!==s))return;const o=n.value,a=await this.hashRelatedBlankNode(o,t,i,r),c=u.get(a);c?c.push(o):u.set(a,[o])}_componentWithCanonicalId(t){return t.termType==="BlankNode"&&!t.value.startsWith(this.canonicalIssuer.prefix)?{termType:"BlankNode",value:this.canonicalIssuer.getId(t.value)}:t}async _yield(){return new Promise(t=>setImmediate(t))}};function w7(e,t){return e.hash<t.hash?-1:e.hash>t.hash?1:0}/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */const x7=jp,v7=XA;var S7=class extends v7{constructor(){super(),this.name="URGNA2012",this.createMessageDigest=()=>new x7("sha1")}modifyFirstDegreeComponent(t,n,r){return n.termType!=="BlankNode"?n:r==="graph"?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:n.value===t?"_:a":"_:z"}}getRelatedPredicate(t){return t.predicate.value}async createHashToRelated(t,n){const r=new Map,s=this.blankNodeInfo.get(t).quads;let i=0;for(const u of s){let o,a;if(u.subject.termType==="BlankNode"&&u.subject.value!==t)a=u.subject.value,o="p";else if(u.object.termType==="BlankNode"&&u.object.value!==t)a=u.object.value,o="r";else continue;++i%100===0&&await this._yield();const c=await this.hashRelatedBlankNode(a,u,n,o),l=r.get(c);l?l.push(a):r.set(c,[a])}return r}};/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */const jv=jb,_7=jp,A7=QA,Lv=Lb;var KA=class{constructor({createMessageDigest:t=()=>new _7("sha256"),canonicalIdMap:n=new Map,maxDeepIterations:r=1/0}={}){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new jv("_:c14n",n),this.createMessageDigest=t,this.maxDeepIterations=r,this.quads=null,this.deepIterations=null}main(t){this.deepIterations=new Map,this.quads=t;for(const o of t)this._addBlankNodeQuadInfo({quad:o,component:o.subject}),this._addBlankNodeQuadInfo({quad:o,component:o.object}),this._addBlankNodeQuadInfo({quad:o,component:o.graph});const n=new Map,r=[...this.blankNodeInfo.keys()];for(const o of r)this._hashAndTrackBlankNode({id:o,hashToBlankNodes:n});const s=[...n.keys()].sort(),i=[];for(const o of s){const a=n.get(o);if(a.length>1){i.push(a);continue}const c=a[0];this.canonicalIssuer.getId(c)}for(const o of i){const a=[];for(const c of o){if(this.canonicalIssuer.hasId(c))continue;const l=new jv("_:b");l.getId(c);const d=this.hashNDegreeQuads(c,l);a.push(d)}a.sort(T7);for(const c of a){const l=c.issuer.getOldIds();for(const d of l)this.canonicalIssuer.getId(d)}}const u=[];for(const o of this.quads){const a=Lv.serializeQuadComponents(this._componentWithCanonicalId({component:o.subject}),o.predicate,this._componentWithCanonicalId({component:o.object}),this._componentWithCanonicalId({component:o.graph}));u.push(a)}return u.sort(),u.join("")}hashFirstDegreeQuads(t){const n=[],r=this.blankNodeInfo.get(t),s=r.quads;for(const u of s){const o={subject:null,predicate:u.predicate,object:null,graph:null};o.subject=this.modifyFirstDegreeComponent(t,u.subject,"subject"),o.object=this.modifyFirstDegreeComponent(t,u.object,"object"),o.graph=this.modifyFirstDegreeComponent(t,u.graph,"graph"),n.push(Lv.serializeQuad(o))}n.sort();const i=this.createMessageDigest();for(const u of n)i.update(u);return r.hash=i.digest(),r.hash}hashRelatedBlankNode(t,n,r,s){let i;this.canonicalIssuer.hasId(t)?i=this.canonicalIssuer.getId(t):r.hasId(t)?i=r.getId(t):i=this.blankNodeInfo.get(t).hash;const u=this.createMessageDigest();return u.update(s),s!=="g"&&u.update(this.getRelatedPredicate(n)),u.update(i),u.digest()}hashNDegreeQuads(t,n){const r=this.deepIterations.get(t)||0;if(r>this.maxDeepIterations)throw new Error(`Maximum deep iterations (${this.maxDeepIterations}) exceeded.`);this.deepIterations.set(t,r+1);const s=this.createMessageDigest(),i=this.createHashToRelated(t,n),u=[...i.keys()].sort();for(const o of u){s.update(o);let a="",c;const l=new A7(i.get(o));for(;l.hasNext();){const d=l.next();let h=n.clone(),f="";const g=[];let m=!1;for(const y of d)if(this.canonicalIssuer.hasId(y)?f+=this.canonicalIssuer.getId(y):(h.hasId(y)||g.push(y),f+=h.getId(y)),a.length!==0&&f>a){m=!0;break}if(!m){for(const y of g){const b=this.hashNDegreeQuads(y,h);if(f+=h.getId(y),f+=`<${b.hash}>`,h=b.issuer,a.length!==0&&f>a){m=!0;break}}m||(a.length===0||f<a)&&(a=f,c=h)}}s.update(a),n=c}return{hash:s.digest(),issuer:n}}modifyFirstDegreeComponent(t,n){return n.termType!=="BlankNode"?n:{termType:"BlankNode",value:n.value===t?"_:a":"_:z"}}getRelatedPredicate(t){return`<${t.predicate.value}>`}createHashToRelated(t,n){const r=new Map,s=this.blankNodeInfo.get(t).quads;for(const i of s)this._addRelatedBlankNodeHash({quad:i,component:i.subject,position:"s",id:t,issuer:n,hashToRelated:r}),this._addRelatedBlankNodeHash({quad:i,component:i.object,position:"o",id:t,issuer:n,hashToRelated:r}),this._addRelatedBlankNodeHash({quad:i,component:i.graph,position:"g",id:t,issuer:n,hashToRelated:r});return r}_hashAndTrackBlankNode({id:t,hashToBlankNodes:n}){const r=this.hashFirstDegreeQuads(t),s=n.get(r);s?s.push(t):n.set(r,[t])}_addBlankNodeQuadInfo({quad:t,component:n}){if(n.termType!=="BlankNode")return;const r=n.value,s=this.blankNodeInfo.get(r);s?s.quads.add(t):this.blankNodeInfo.set(r,{quads:new Set([t]),hash:null})}_addRelatedBlankNodeHash({quad:t,component:n,position:r,id:s,issuer:i,hashToRelated:u}){if(!(n.termType==="BlankNode"&&n.value!==s))return;const o=n.value,a=this.hashRelatedBlankNode(o,t,i,r),c=u.get(a);c?c.push(o):u.set(a,[o])}_componentWithCanonicalId({component:t}){return t.termType==="BlankNode"&&!t.value.startsWith(this.canonicalIssuer.prefix)?{termType:"BlankNode",value:this.canonicalIssuer.getId(t.value)}:t}};function T7(e,t){return e.hash<t.hash?-1:e.hash>t.hash?1:0}/*!
 * Copyright (c) 2016-2021 Digital Bazaar, Inc. All rights reserved.
 */const E7=jp,O7=KA;var I7=class extends O7{constructor(){super(),this.name="URGNA2012",this.createMessageDigest=()=>new E7("sha1")}modifyFirstDegreeComponent(t,n,r){return n.termType!=="BlankNode"?n:r==="graph"?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:n.value===t?"_:a":"_:z"}}getRelatedPredicate(t){return t.predicate.value}createHashToRelated(t,n){const r=new Map,s=this.blankNodeInfo.get(t).quads;for(const i of s){let u,o;if(i.subject.termType==="BlankNode"&&i.subject.value!==t)o=i.subject.value,u="p";else if(i.object.termType==="BlankNode"&&i.object.value!==t)o=i.object.value,u="r";else continue;const a=this.hashRelatedBlankNode(o,i,n,u),c=r.get(a);c?c.push(o):r.set(a,[o])}return r}};const N7={},R7=Object.freeze(Object.defineProperty({__proto__:null,default:N7},Symbol.toStringTag,{value:"Module"})),k7=Pb(R7);(function(e){const t=XA,n=S7,r=KA,s=I7;let i;try{i=k7}catch{}function u(o){return Array.isArray(o)?o:e.NQuads.legacyDatasetToQuads(o)}e.NQuads=Lb,e.IdentifierIssuer=jb,e._rdfCanonizeNative=function(o){return o&&(i=o),i},e.canonize=async function(o,a){const c=u(o);if(a.useNative){if(!i)throw new Error("rdf-canonize-native not available");if(a.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "useNative".');return new Promise((l,d)=>i.canonize(c,a,(h,f)=>h?d(h):l(f)))}if(a.algorithm==="URDNA2015")return new t(a).main(c);if(a.algorithm==="URGNA2012"){if(a.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "URGNA2012".');return new n(a).main(c)}throw"algorithm"in a?new Error("Invalid RDF Dataset Canonicalization algorithm: "+a.algorithm):new Error("No RDF Dataset Canonicalization algorithm specified.")},e._canonizeSync=function(o,a){const c=u(o);if(a.useNative){if(!i)throw new Error("rdf-canonize-native not available");if(a.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "useNative".');return i.canonizeSync(c,a)}if(a.algorithm==="URDNA2015")return new r(a).main(c);if(a.algorithm==="URGNA2012"){if(a.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "URGNA2012".');return new s(a).main(c)}throw"algorithm"in a?new Error("Invalid RDF Dataset Canonicalization algorithm: "+a.algorithm):new Error("No RDF Dataset Canonicalization algorithm specified.")}})(JA);var Fb=JA;const Ar={};var Yn=Ar;Ar.isArray=Array.isArray;Ar.isBoolean=e=>typeof e=="boolean"||Object.prototype.toString.call(e)==="[object Boolean]";Ar.isDouble=e=>Ar.isNumber(e)&&(String(e).indexOf(".")!==-1||Math.abs(e)>=1e21);Ar.isEmptyObject=e=>Ar.isObject(e)&&Object.keys(e).length===0;Ar.isNumber=e=>typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]";Ar.isNumeric=e=>!isNaN(parseFloat(e))&&isFinite(e);Ar.isObject=e=>Object.prototype.toString.call(e)==="[object Object]";Ar.isString=e=>typeof e=="string"||Object.prototype.toString.call(e)==="[object String]";Ar.isUndefined=e=>typeof e>"u";const lo=Yn,di={};var vi=di;di.isSubject=e=>lo.isObject(e)&&!("@value"in e||"@set"in e||"@list"in e)?Object.keys(e).length>1||!("@id"in e):!1;di.isSubjectReference=e=>lo.isObject(e)&&Object.keys(e).length===1&&"@id"in e;di.isValue=e=>lo.isObject(e)&&"@value"in e;di.isList=e=>lo.isObject(e)&&"@list"in e;di.isGraph=e=>lo.isObject(e)&&"@graph"in e&&Object.keys(e).filter(t=>t!=="@id"&&t!=="@index").length===1;di.isSimpleGraph=e=>di.isGraph(e)&&!("@id"in e);di.isBlankNode=e=>{if(lo.isObject(e)){if("@id"in e){const t=e["@id"];return!lo.isString(t)||t.indexOf("_:")===0}return Object.keys(e).length===0||!("@value"in e||"@set"in e||"@list"in e)}return!1};var Or=class extends Error{constructor(t="An unspecified JSON-LD error occurred.",n="jsonld.Error",r={}){super(t),this.name=n,this.message=t,this.details=r}};const Ml=vi,Yt=Yn,YA=Fb.IdentifierIssuer,C7=Or,D7=/^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$/,M7=/(?:<[^>]*?>|"[^"]*?"|[^,])+/g,P7=/\s*<([^>]*?)>\s*(?:;\s*(.*))?/,j7=/(.*?)=(?:(?:"([^"]*?)")|([^"]*?))\s*(?:(?:;\s*)|$)/g,L7=/^@[a-zA-Z]+$/,Fv={headers:{accept:"application/ld+json, application/json"}},xe={};var Ir=xe;xe.IdentifierIssuer=YA;xe.REGEX_BCP47=D7;xe.REGEX_KEYWORD=L7;xe.clone=function(e){if(e&&typeof e=="object"){let t;if(Yt.isArray(e)){t=[];for(let n=0;n<e.length;++n)t[n]=xe.clone(e[n])}else if(e instanceof Map){t=new Map;for(const[n,r]of e)t.set(n,xe.clone(r))}else if(e instanceof Set){t=new Set;for(const n of e)t.add(xe.clone(n))}else if(Yt.isObject(e)){t={};for(const n in e)t[n]=xe.clone(e[n])}else t=e.toString();return t}return e};xe.asArray=function(e){return Array.isArray(e)?e:[e]};xe.buildHeaders=(e={})=>{if(Object.keys(e).some(n=>n.toLowerCase()==="accept"))throw new RangeError('Accept header may not be specified; only "'+Fv.headers.accept+'" is supported.');return Object.assign({Accept:Fv.headers.accept},e)};xe.parseLinkHeader=e=>{const t={},n=e.match(M7);for(let r=0;r<n.length;++r){let s=n[r].match(P7);if(!s)continue;const i={target:s[1]},u=s[2];for(;s=j7.exec(u);)i[s[1]]=s[2]===void 0?s[3]:s[2];const o=i.rel||"";Array.isArray(t[o])?t[o].push(i):t.hasOwnProperty(o)?t[o]=[t[o],i]:t[o]=i}return t};xe.validateTypeValue=(e,t)=>{if(!Yt.isString(e)&&!(Yt.isArray(e)&&e.every(n=>Yt.isString(n)))){if(t&&Yt.isObject(e))switch(Object.keys(e).length){case 0:return;case 1:if("@default"in e&&xe.asArray(e["@default"]).every(n=>Yt.isString(n)))return}throw new C7('Invalid JSON-LD syntax; "@type" value must a string, an array of strings, an empty object, or a default object.',"jsonld.SyntaxError",{code:"invalid type value",value:e})}};xe.hasProperty=(e,t)=>{if(e.hasOwnProperty(t)){const n=e[t];return!Yt.isArray(n)||n.length>0}return!1};xe.hasValue=(e,t,n)=>{if(xe.hasProperty(e,t)){let r=e[t];const s=Ml.isList(r);if(Yt.isArray(r)||s){s&&(r=r["@list"]);for(let i=0;i<r.length;++i)if(xe.compareValues(n,r[i]))return!0}else if(!Yt.isArray(n))return xe.compareValues(n,r)}return!1};xe.addValue=(e,t,n,r)=>{if(r=r||{},"propertyIsArray"in r||(r.propertyIsArray=!1),"valueIsArray"in r||(r.valueIsArray=!1),"allowDuplicate"in r||(r.allowDuplicate=!0),"prependValue"in r||(r.prependValue=!1),r.valueIsArray)e[t]=n;else if(Yt.isArray(n)){n.length===0&&r.propertyIsArray&&!e.hasOwnProperty(t)&&(e[t]=[]),r.prependValue&&(n=n.concat(e[t]),e[t]=[]);for(let s=0;s<n.length;++s)xe.addValue(e,t,n[s],r)}else if(e.hasOwnProperty(t)){const s=!r.allowDuplicate&&xe.hasValue(e,t,n);!Yt.isArray(e[t])&&(!s||r.propertyIsArray)&&(e[t]=[e[t]]),s||(r.prependValue?e[t].unshift(n):e[t].push(n))}else e[t]=r.propertyIsArray?[n]:n};xe.getValues=(e,t)=>[].concat(e[t]||[]);xe.removeProperty=(e,t)=>{delete e[t]};xe.removeValue=(e,t,n,r)=>{r=r||{},"propertyIsArray"in r||(r.propertyIsArray=!1);const s=xe.getValues(e,t).filter(i=>!xe.compareValues(i,n));s.length===0?xe.removeProperty(e,t):s.length===1&&!r.propertyIsArray?e[t]=s[0]:e[t]=s};xe.relabelBlankNodes=(e,t)=>{t=t||{};const n=t.issuer||new YA("_:b");return Bd(n,e)};xe.compareValues=(e,t)=>e===t||Ml.isValue(e)&&Ml.isValue(t)&&e["@value"]===t["@value"]&&e["@type"]===t["@type"]&&e["@language"]===t["@language"]&&e["@index"]===t["@index"]?!0:Yt.isObject(e)&&"@id"in e&&Yt.isObject(t)&&"@id"in t?e["@id"]===t["@id"]:!1;xe.compareShortestLeast=(e,t)=>e.length<t.length?-1:t.length<e.length?1:e===t?0:e<t?-1:1;function Bd(e,t){if(Yt.isArray(t))for(let n=0;n<t.length;++n)t[n]=Bd(e,t[n]);else if(Ml.isList(t))t["@list"]=Bd(e,t["@list"]);else if(Yt.isObject(t)){Ml.isBlankNode(t)&&(t["@id"]=e.getId(t["@id"]));const n=Object.keys(t).sort();for(let r=0;r<n.length;++r){const s=n[r];s!=="@id"&&(t[s]=Bd(e,t[s]))}}return t}const Cr="http://www.w3.org/1999/02/22-rdf-syntax-ns#",Cc="http://www.w3.org/2001/XMLSchema#";var $b={LINK_HEADER_REL:"http://www.w3.org/ns/json-ld#context",LINK_HEADER_CONTEXT:"http://www.w3.org/ns/json-ld#context",RDF:Cr,RDF_LIST:Cr+"List",RDF_FIRST:Cr+"first",RDF_REST:Cr+"rest",RDF_NIL:Cr+"nil",RDF_TYPE:Cr+"type",RDF_PLAIN_LITERAL:Cr+"PlainLiteral",RDF_XML_LITERAL:Cr+"XMLLiteral",RDF_JSON_LITERAL:Cr+"JSON",RDF_OBJECT:Cr+"object",RDF_LANGSTRING:Cr+"langString",XSD:Cc,XSD_BOOLEAN:Cc+"boolean",XSD_DOUBLE:Cc+"double",XSD_INTEGER:Cc+"integer",XSD_STRING:Cc+"string"},Ig,$v;function ZA(){return $v||($v=1,Ig=class{constructor(){this._requests={}}wrapLoader(t){const n=this;return n._loader=t,function(){return n.add.apply(n,arguments)}}async add(t){let n=this._requests[t];if(n)return Promise.resolve(n);n=this._requests[t]=this._loader(t);try{return await n}finally{delete this._requests[t]}}}),Ig}const Lp=Yn,Zt={};var pu=Zt;Zt.parsers={simple:{keys:["href","scheme","authority","path","query","fragment"],regex:/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/},full:{keys:["href","protocol","scheme","authority","auth","user","password","hostname","port","path","directory","file","query","fragment"],regex:/^(([a-zA-Z][a-zA-Z0-9+-.]*):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:(((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}};Zt.parse=(e,t)=>{const n={},r=Zt.parsers[t||"full"],s=r.regex.exec(e);let i=r.keys.length;for(;i--;)n[r.keys[i]]=s[i]===void 0?null:s[i];return(n.scheme==="https"&&n.port==="443"||n.scheme==="http"&&n.port==="80")&&(n.href=n.href.replace(":"+n.port,""),n.authority=n.authority.replace(":"+n.port,""),n.port=null),n.normalizedPath=Zt.removeDotSegments(n.path),n};Zt.prependBase=(e,t)=>{if(e===null||Zt.isAbsolute(t))return t;(!e||Lp.isString(e))&&(e=Zt.parse(e||""));const n=Zt.parse(t),r={protocol:e.protocol||""};if(n.authority!==null)r.authority=n.authority,r.path=n.path,r.query=n.query;else if(r.authority=e.authority,n.path==="")r.path=e.path,n.query!==null?r.query=n.query:r.query=e.query;else{if(n.path.indexOf("/")===0)r.path=n.path;else{let i=e.path;i=i.substr(0,i.lastIndexOf("/")+1),(i.length>0||e.authority)&&i.substr(-1)!=="/"&&(i+="/"),i+=n.path,r.path=i}r.query=n.query}n.path!==""&&(r.path=Zt.removeDotSegments(r.path));let s=r.protocol;return r.authority!==null&&(s+="//"+r.authority),s+=r.path,r.query!==null&&(s+="?"+r.query),n.fragment!==null&&(s+="#"+n.fragment),s===""&&(s="./"),s};Zt.removeBase=(e,t)=>{if(e===null)return t;(!e||Lp.isString(e))&&(e=Zt.parse(e||""));let n="";if(e.href!==""?n+=(e.protocol||"")+"//"+(e.authority||""):t.indexOf("//")&&(n+="//"),t.indexOf(n)!==0)return t;const r=Zt.parse(t.substr(n.length)),s=e.normalizedPath.split("/"),i=r.normalizedPath.split("/"),u=r.fragment||r.query?0:1;for(;s.length>0&&i.length>u&&s[0]===i[0];)s.shift(),i.shift();let o="";if(s.length>0){s.pop();for(let a=0;a<s.length;++a)o+="../"}return o+=i.join("/"),r.query!==null&&(o+="?"+r.query),r.fragment!==null&&(o+="#"+r.fragment),o===""&&(o="./"),o};Zt.removeDotSegments=e=>{if(e.length===0)return"";const t=e.split("/"),n=[];for(;t.length>0;){const r=t.shift(),s=t.length===0;if(r==="."){s&&n.push("");continue}if(r===".."){n.pop(),s&&n.push("");continue}n.push(r)}return e[0]==="/"&&n.length>0&&n[0]!==""&&n.unshift(""),n.length===1&&n[0]===""?"/":n.join("/")};const F7=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^\s]*$/;Zt.isAbsolute=e=>Lp.isString(e)&&F7.test(e);Zt.isRelative=e=>Lp.isString(e);const{parseLinkHeader:$7,buildHeaders:B7}=Ir,{LINK_HEADER_CONTEXT:U7}=$b,Dc=Or,q7=ZA(),{prependBase:V7}=pu,z7=/(^|(\r\n))link:/i;var H7=({secure:e,headers:t={},xhr:n}={headers:{}})=>{return t=B7(t),new q7().wrapLoader(s);async function s(i){if(i.indexOf("http:")!==0&&i.indexOf("https:")!==0)throw new Dc('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:i});if(e&&i.indexOf("https")!==0)throw new Dc(`URL could not be dereferenced; secure mode is enabled and the URL's scheme is not "https".`,"jsonld.InvalidUrl",{code:"loading document failed",url:i});let u;try{u=await G7(n,i,t)}catch(d){throw new Dc("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:i,cause:d})}if(u.status>=400)throw new Dc("URL could not be dereferenced: "+u.statusText,"jsonld.LoadDocumentError",{code:"loading document failed",url:i,httpStatusCode:u.status});let o={contextUrl:null,documentUrl:i,document:u.response},a=null;const c=u.getResponseHeader("Content-Type");let l;if(z7.test(u.getAllResponseHeaders())&&(l=u.getResponseHeader("Link")),l&&c!=="application/ld+json"){const d=$7(l),h=d[U7];if(Array.isArray(h))throw new Dc("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:i});h&&(o.contextUrl=h.target),a=d.alternate,a&&a.type=="application/ld+json"&&!(c||"").match(/^application\/(\w*\+)?json$/)&&(o=await s(V7(i,a.target)))}return o}};function G7(e,t,n){e=e||XMLHttpRequest;const r=new e;return new Promise((s,i)=>{r.onload=()=>s(r),r.onerror=u=>i(u),r.open("GET",t,!0);for(const u in n)r.setRequestHeader(u,n[u]);r.send()})}const J7=H7,Bb={};var W7=Bb;Bb.setupDocumentLoaders=function(e){typeof XMLHttpRequest<"u"&&(e.documentLoaders.xhr=J7,e.useDocumentLoader("xhr"))};Bb.setupGlobals=function(e){typeof globalThis.JsonLdProcessor>"u"&&Object.defineProperty(globalThis,"JsonLdProcessor",{writable:!0,enumerable:!1,configurable:!0,value:e.JsonLdProcessor})};var Ng,Bv;function Q7(){return Bv||(Bv=1,Ng=function(e){e.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next)yield t.value}}),Ng}var X7=be;be.Node=fo;be.create=be;function be(e){var t=this;if(t instanceof be||(t=new be),t.tail=null,t.head=null,t.length=0,e&&typeof e.forEach=="function")e.forEach(function(s){t.push(s)});else if(arguments.length>0)for(var n=0,r=arguments.length;n<r;n++)t.push(arguments[n]);return t}be.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,n=e.prev;return t&&(t.prev=n),n&&(n.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=n),e.list.length--,e.next=null,e.prev=null,e.list=null,t};be.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}};be.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}};be.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)Y7(this,arguments[e]);return this.length};be.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)Z7(this,arguments[e]);return this.length};be.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}};be.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}};be.prototype.forEach=function(e,t){t=t||this;for(var n=this.head,r=0;n!==null;r++)e.call(t,n.value,r,this),n=n.next};be.prototype.forEachReverse=function(e,t){t=t||this;for(var n=this.tail,r=this.length-1;n!==null;r--)e.call(t,n.value,r,this),n=n.prev};be.prototype.get=function(e){for(var t=0,n=this.head;n!==null&&t<e;t++)n=n.next;if(t===e&&n!==null)return n.value};be.prototype.getReverse=function(e){for(var t=0,n=this.tail;n!==null&&t<e;t++)n=n.prev;if(t===e&&n!==null)return n.value};be.prototype.map=function(e,t){t=t||this;for(var n=new be,r=this.head;r!==null;)n.push(e.call(t,r.value,this)),r=r.next;return n};be.prototype.mapReverse=function(e,t){t=t||this;for(var n=new be,r=this.tail;r!==null;)n.push(e.call(t,r.value,this)),r=r.prev;return n};be.prototype.reduce=function(e,t){var n,r=this.head;if(arguments.length>1)n=t;else if(this.head)r=this.head.next,n=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=0;r!==null;s++)n=e(n,r.value,s),r=r.next;return n};be.prototype.reduceReverse=function(e,t){var n,r=this.tail;if(arguments.length>1)n=t;else if(this.tail)r=this.tail.prev,n=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=this.length-1;r!==null;s--)n=e(n,r.value,s),r=r.prev;return n};be.prototype.toArray=function(){for(var e=new Array(this.length),t=0,n=this.head;n!==null;t++)e[t]=n.value,n=n.next;return e};be.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,n=this.tail;n!==null;t++)e[t]=n.value,n=n.prev;return e};be.prototype.slice=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var n=new be;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var r=0,s=this.head;s!==null&&r<e;r++)s=s.next;for(;s!==null&&r<t;r++,s=s.next)n.push(s.value);return n};be.prototype.sliceReverse=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var n=new be;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var r=this.length,s=this.tail;s!==null&&r>t;r--)s=s.prev;for(;s!==null&&r>e;r--,s=s.prev)n.push(s.value);return n};be.prototype.splice=function(e,t,...n){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var r=0,s=this.head;s!==null&&r<e;r++)s=s.next;for(var i=[],r=0;s&&r<t;r++)i.push(s.value),s=this.removeNode(s);s===null&&(s=this.tail),s!==this.head&&s!==this.tail&&(s=s.prev);for(var r=0;r<n.length;r++)s=K7(this,s,n[r]);return i};be.prototype.reverse=function(){for(var e=this.head,t=this.tail,n=e;n!==null;n=n.prev){var r=n.prev;n.prev=n.next,n.next=r}return this.head=t,this.tail=e,this};function K7(e,t,n){var r=t===e.head?new fo(n,null,t,e):new fo(n,t,t.next,e);return r.next===null&&(e.tail=r),r.prev===null&&(e.head=r),e.length++,r}function Y7(e,t){e.tail=new fo(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function Z7(e,t){e.head=new fo(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function fo(e,t,n,r){if(!(this instanceof fo))return new fo(e,t,n,r);this.list=r,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}try{Q7()(be)}catch{}const eP=X7,Mu=Symbol("max"),zs=Symbol("length"),Uo=Symbol("lengthCalculator"),al=Symbol("allowStale"),Fu=Symbol("maxAge"),Vs=Symbol("dispose"),Uv=Symbol("noDisposeOnSet"),St=Symbol("lruList"),Pr=Symbol("cache"),e6=Symbol("updateAgeOnGet"),Rg=()=>1;class tP{constructor(t){if(typeof t=="number"&&(t={max:t}),t||(t={}),t.max&&(typeof t.max!="number"||t.max<0))throw new TypeError("max must be a non-negative number");this[Mu]=t.max||1/0;const n=t.length||Rg;if(this[Uo]=typeof n!="function"?Rg:n,this[al]=t.stale||!1,t.maxAge&&typeof t.maxAge!="number")throw new TypeError("maxAge must be a number");this[Fu]=t.maxAge||0,this[Vs]=t.dispose,this[Uv]=t.noDisposeOnSet||!1,this[e6]=t.updateAgeOnGet||!1,this.reset()}set max(t){if(typeof t!="number"||t<0)throw new TypeError("max must be a non-negative number");this[Mu]=t||1/0,Mc(this)}get max(){return this[Mu]}set allowStale(t){this[al]=!!t}get allowStale(){return this[al]}set maxAge(t){if(typeof t!="number")throw new TypeError("maxAge must be a non-negative number");this[Fu]=t,Mc(this)}get maxAge(){return this[Fu]}set lengthCalculator(t){typeof t!="function"&&(t=Rg),t!==this[Uo]&&(this[Uo]=t,this[zs]=0,this[St].forEach(n=>{n.length=this[Uo](n.value,n.key),this[zs]+=n.length})),Mc(this)}get lengthCalculator(){return this[Uo]}get length(){return this[zs]}get itemCount(){return this[St].length}rforEach(t,n){n=n||this;for(let r=this[St].tail;r!==null;){const s=r.prev;qv(this,t,r,n),r=s}}forEach(t,n){n=n||this;for(let r=this[St].head;r!==null;){const s=r.next;qv(this,t,r,n),r=s}}keys(){return this[St].toArray().map(t=>t.key)}values(){return this[St].toArray().map(t=>t.value)}reset(){this[Vs]&&this[St]&&this[St].length&&this[St].forEach(t=>this[Vs](t.key,t.value)),this[Pr]=new Map,this[St]=new eP,this[zs]=0}dump(){return this[St].map(t=>gh(this,t)?!1:{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}).toArray().filter(t=>t)}dumpLru(){return this[St]}set(t,n,r){if(r=r||this[Fu],r&&typeof r!="number")throw new TypeError("maxAge must be a number");const s=r?Date.now():0,i=this[Uo](n,t);if(this[Pr].has(t)){if(i>this[Mu])return la(this,this[Pr].get(t)),!1;const a=this[Pr].get(t).value;return this[Vs]&&(this[Uv]||this[Vs](t,a.value)),a.now=s,a.maxAge=r,a.value=n,this[zs]+=i-a.length,a.length=i,this.get(t),Mc(this),!0}const u=new nP(t,n,i,s,r);return u.length>this[Mu]?(this[Vs]&&this[Vs](t,n),!1):(this[zs]+=u.length,this[St].unshift(u),this[Pr].set(t,this[St].head),Mc(this),!0)}has(t){if(!this[Pr].has(t))return!1;const n=this[Pr].get(t).value;return!gh(this,n)}get(t){return kg(this,t,!0)}peek(t){return kg(this,t,!1)}pop(){const t=this[St].tail;return t?(la(this,t),t.value):null}del(t){la(this,this[Pr].get(t))}load(t){this.reset();const n=Date.now();for(let r=t.length-1;r>=0;r--){const s=t[r],i=s.e||0;if(i===0)this.set(s.k,s.v);else{const u=i-n;u>0&&this.set(s.k,s.v,u)}}}prune(){this[Pr].forEach((t,n)=>kg(this,n,!1))}}const kg=(e,t,n)=>{const r=e[Pr].get(t);if(r){const s=r.value;if(gh(e,s)){if(la(e,r),!e[al])return}else n&&(e[e6]&&(r.value.now=Date.now()),e[St].unshiftNode(r));return s.value}},gh=(e,t)=>{if(!t||!t.maxAge&&!e[Fu])return!1;const n=Date.now()-t.now;return t.maxAge?n>t.maxAge:e[Fu]&&n>e[Fu]},Mc=e=>{if(e[zs]>e[Mu])for(let t=e[St].tail;e[zs]>e[Mu]&&t!==null;){const n=t.prev;la(e,t),t=n}},la=(e,t)=>{if(t){const n=t.value;e[Vs]&&e[Vs](n.key,n.value),e[zs]-=n.length,e[Pr].delete(n.key),e[St].removeNode(t)}};class nP{constructor(t,n,r,s,i){this.key=t,this.value=n,this.length=r,this.now=s,this.maxAge=i||0}}const qv=(e,t,n,r)=>{let s=n.value;gh(e,s)&&(la(e,n),e[al]||(s=void 0)),s&&t.call(r,s.value,s.key,e)};var t6=tP;const rP=t6,sP=10;var iP=class{constructor({document:t}){this.document=t,this.cache=new rP({max:sP})}getProcessed(t){return this.cache.get(t)}setProcessed(t,n){this.cache.set(t,n)}};const{isArray:i1,isObject:cl,isString:mh}=Yn,{asArray:uP}=Ir,{prependBase:u1}=pu,Xc=Or,Vv=iP,zv=10;var oP=class{constructor({sharedCache:t}){this.perOpCache=new Map,this.sharedCache=t}async resolve({activeCtx:t,context:n,documentLoader:r,base:s,cycles:i=new Set}){n&&cl(n)&&n["@context"]&&(n=n["@context"]),n=uP(n);const u=[];for(const o of n){if(mh(o)){let l=this._get(o);l||(l=await this._resolveRemoteContext({activeCtx:t,url:o,documentLoader:r,base:s,cycles:i})),i1(l)?u.push(...l):u.push(l);continue}if(o===null){u.push(new Vv({document:null}));continue}cl(o)||aP(n);const a=JSON.stringify(o);let c=this._get(a);c||(c=new Vv({document:o}),this._cacheResolvedContext({key:a,resolved:c,tag:"static"})),u.push(c)}return u}_get(t){let n=this.perOpCache.get(t);if(!n){const r=this.sharedCache.get(t);r&&(n=r.get("static"),n&&this.perOpCache.set(t,n))}return n}_cacheResolvedContext({key:t,resolved:n,tag:r}){if(this.perOpCache.set(t,n),r!==void 0){let s=this.sharedCache.get(t);s||(s=new Map,this.sharedCache.set(t,s)),s.set(r,n)}return n}async _resolveRemoteContext({activeCtx:t,url:n,documentLoader:r,base:s,cycles:i}){n=u1(s,n);const{context:u,remoteDoc:o}=await this._fetchContext({activeCtx:t,url:n,documentLoader:r,cycles:i});s=o.documentUrl||n,o1({context:u,base:s});const a=await this.resolve({activeCtx:t,context:u,documentLoader:r,base:s,cycles:i});return this._cacheResolvedContext({key:n,resolved:a,tag:o.tag}),a}async _fetchContext({activeCtx:t,url:n,documentLoader:r,cycles:s}){if(s.size>zv)throw new Xc("Maximum number of @context URLs exceeded.","jsonld.ContextUrlError",{code:t.processingMode==="json-ld-1.0"?"loading remote context failed":"context overflow",max:zv});if(s.has(n))throw new Xc("Cyclical @context URLs detected.","jsonld.ContextUrlError",{code:t.processingMode==="json-ld-1.0"?"recursive context inclusion":"context overflow",url:n});s.add(n);let i,u;try{u=await r(n),i=u.document||null,mh(i)&&(i=JSON.parse(i))}catch(o){throw new Xc("Dereferencing a URL did not result in a valid JSON-LD object. Possible causes are an inaccessible URL perhaps due to a same-origin policy (ensure the server uses CORS if you are using client-side JavaScript), too many redirects, a non-JSON response, or more than one HTTP Link Header was provided for a remote context.","jsonld.InvalidUrl",{code:"loading remote context failed",url:n,cause:o})}if(!cl(i))throw new Xc("Dereferencing a URL did not result in a JSON object. The response was valid JSON, but it was not a JSON object.","jsonld.InvalidUrl",{code:"invalid remote context",url:n});return"@context"in i?i={"@context":i["@context"]}:i={"@context":{}},u.contextUrl&&(i1(i["@context"])||(i["@context"]=[i["@context"]]),i["@context"].push(u.contextUrl)),{context:i,remoteDoc:u}}};function aP(e){throw new Xc("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:e})}function o1({context:e,base:t}){if(!e)return;const n=e["@context"];if(mh(n)){e["@context"]=u1(t,n);return}if(i1(n)){for(let r=0;r<n.length;++r){const s=n[r];if(mh(s)){n[r]=u1(t,s);continue}cl(s)&&o1({context:{"@context":s},base:t})}return}if(cl(n))for(const r in n)o1({context:n[r],base:t})}var cP=Fb.NQuads;const Ub=Or,{isArray:lP}=Yn,{asArray:n6}=Ir,Hn={};var Rf=Hn;Hn.defaultEventHandler=null;Hn.setupEventHandler=({options:e={}})=>{const t=[].concat(e.safe?Hn.safeEventHandler:[],e.eventHandler?n6(e.eventHandler):[],Hn.defaultEventHandler?Hn.defaultEventHandler:[]);return t.length===0?null:t};Hn.handleEvent=({event:e,options:t})=>{r6({event:e,handlers:t.eventHandler})};function r6({event:e,handlers:t}){let n=!0;for(let r=0;n&&r<t.length;++r){n=!1;const s=t[r];if(lP(s))n=r6({event:e,handlers:s});else if(typeof s=="function")s({event:e,next:()=>{n=!0}});else if(typeof s=="object")e.code in s?s[e.code]({event:e,next:()=>{n=!0}}):n=!0;else throw new Ub("Invalid event handler.","jsonld.InvalidEventHandler",{event:e})}return n}const fP=new Set(["empty object","free-floating scalar","invalid @language value","invalid property","null @id value","null @value value","object with only @id","object with only @language","object with only @list","object with only @value","relative @id reference","relative @type reference","relative @vocab reference","reserved @id value","reserved @reverse value","reserved term","blank node predicate","relative graph reference","relative object reference","relative predicate reference","relative subject reference","rdfDirection not set"]);Hn.safeEventHandler=function({event:t,next:n}){if(t.level==="warning"&&fP.has(t.code))throw new Ub("Safe mode validation error.","jsonld.ValidationError",{event:t});n()};Hn.logEventHandler=function({event:t,next:n}){console.log(`EVENT: ${t.message}`,{event:t}),n()};Hn.logWarningEventHandler=function({event:t,next:n}){t.level==="warning"&&console.warn(`WARNING: ${t.message}`,{event:t}),n()};Hn.unhandledEventHandler=function({event:t}){throw new Ub("No handler for event.","jsonld.UnhandledEvent",{event:t})};Hn.setDefaultEventHandler=function({eventHandler:e}={}){Hn.defaultEventHandler=e?n6(e):null};const Hv=Ir,ee=Or,{isArray:s6,isObject:ji,isString:Tn,isUndefined:dP}=Yn,{isAbsolute:eo,isRelative:hP,prependBase:ll}=pu,{handleEvent:fa}=Rf,{REGEX_BCP47:pP,REGEX_KEYWORD:Ud,asArray:i6,compareShortestLeast:gP}=Ir,fd=new Map,mP=1e4,Pe={};var Io=Pe;Pe.process=async({activeCtx:e,localCtx:t,options:n,propagate:r=!0,overrideProtected:s=!1,cycles:i=new Set})=>{if(ji(t)&&"@context"in t&&s6(t["@context"])&&(t=t["@context"]),i6(t).length===0)return e;const o=[],a=[({event:h,next:f})=>{o.push(h),f()}];n.eventHandler&&a.push(n.eventHandler);const c=n;n={...n,eventHandler:a};const l=await n.contextResolver.resolve({activeCtx:e,context:t,documentLoader:n.documentLoader,base:n.base});ji(l[0].document)&&typeof l[0].document["@propagate"]=="boolean"&&(r=l[0].document["@propagate"]);let d=e;!r&&!d.previousContext&&(d=d.clone(),d.previousContext=e);for(const h of l){let{document:f}=h;if(e=d,f===null){if(!s&&Object.keys(e.protected).length!==0)throw new ee("Tried to nullify a context with protected terms outside of a term definition.","jsonld.SyntaxError",{code:"invalid context nullification"});d=e=Pe.getInitialContext(n).clone();continue}const g=h.getProcessed(e);if(g){if(c.eventHandler)for(const y of g.events)fa({event:y,options:c});d=e=g.context;continue}if(ji(f)&&"@context"in f&&(f=f["@context"]),!ji(f))throw new ee("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:f});d=d.clone();const m=new Map;if("@version"in f){if(f["@version"]!==1.1)throw new ee("Unsupported JSON-LD version: "+f["@version"],"jsonld.UnsupportedVersion",{code:"invalid @version value",context:f});if(e.processingMode&&e.processingMode==="json-ld-1.0")throw new ee("@version: "+f["@version"]+" not compatible with "+e.processingMode,"jsonld.ProcessingModeConflict",{code:"processing mode conflict",context:f});d.processingMode="json-ld-1.1",d["@version"]=f["@version"],m.set("@version",!0)}if(d.processingMode=d.processingMode||e.processingMode,"@base"in f){let y=f["@base"];if(!(y===null||eo(y)))if(hP(y))y=ll(d["@base"],y);else throw new ee('Invalid JSON-LD syntax; the value of "@base" in a @context must be an absolute IRI, a relative IRI, or null.',"jsonld.SyntaxError",{code:"invalid base IRI",context:f});d["@base"]=y,m.set("@base",!0)}if("@vocab"in f){const y=f["@vocab"];if(y===null)delete d["@vocab"];else if(Tn(y)){if(!eo(y)&&Pe.processingMode(d,1))throw new ee('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be an absolute IRI.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:f});{const b=ea(d,y,{vocab:!0,base:!0},void 0,void 0,n);eo(b)||n.eventHandler&&fa({event:{type:["JsonLdEvent"],code:"relative @vocab reference",level:"warning",message:"Relative @vocab reference found.",details:{vocab:b}},options:n}),d["@vocab"]=b}}else throw new ee('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:f});m.set("@vocab",!0)}if("@language"in f){const y=f["@language"];if(y===null)delete d["@language"];else if(Tn(y))y.match(pP)||n.eventHandler&&fa({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:y}},options:n}),d["@language"]=y.toLowerCase();else throw new ee('Invalid JSON-LD syntax; the value of "@language" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid default language",context:f});m.set("@language",!0)}if("@direction"in f){const y=f["@direction"];if(e.processingMode==="json-ld-1.0")throw new ee("Invalid JSON-LD syntax; @direction not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context member",context:f});if(y===null)delete d["@direction"];else{if(y!=="ltr"&&y!=="rtl")throw new ee('Invalid JSON-LD syntax; the value of "@direction" in a @context must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:f});d["@direction"]=y}m.set("@direction",!0)}if("@propagate"in f){const y=f["@propagate"];if(e.processingMode==="json-ld-1.0")throw new ee("Invalid JSON-LD syntax; @propagate not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:f});if(typeof y!="boolean")throw new ee("Invalid JSON-LD syntax; @propagate value must be a boolean.","jsonld.SyntaxError",{code:"invalid @propagate value",context:t});m.set("@propagate",!0)}if("@import"in f){const y=f["@import"];if(e.processingMode==="json-ld-1.0")throw new ee("Invalid JSON-LD syntax; @import not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:f});if(!Tn(y))throw new ee("Invalid JSON-LD syntax; @import must be a string.","jsonld.SyntaxError",{code:"invalid @import value",context:t});const b=await n.contextResolver.resolve({activeCtx:e,context:y,documentLoader:n.documentLoader,base:n.base});if(b.length!==1)throw new ee("Invalid JSON-LD syntax; @import must reference a single context.","jsonld.SyntaxError",{code:"invalid remote context",context:t});const w=b[0].getProcessed(e);if(w)f=w;else{const v=b[0].document;if("@import"in v)throw new ee("Invalid JSON-LD syntax: imported context must not include @import.","jsonld.SyntaxError",{code:"invalid context entry",context:t});for(const x in v)f.hasOwnProperty(x)||(f[x]=v[x]);b[0].setProcessed(e,f)}m.set("@import",!0)}m.set("@protected",f["@protected"]||!1);for(const y in f)if(Pe.createTermDefinition({activeCtx:d,localCtx:f,term:y,defined:m,options:n,overrideProtected:s}),ji(f[y])&&"@context"in f[y]){const b=f[y]["@context"];let w=!0;if(Tn(b)){const v=ll(n.base,b);i.has(v)?w=!1:i.add(v)}if(w)try{await Pe.process({activeCtx:d.clone(),localCtx:f[y]["@context"],overrideProtected:!0,options:n,cycles:i})}catch{throw new ee("Invalid JSON-LD syntax; invalid scoped context.","jsonld.SyntaxError",{code:"invalid scoped context",context:f[y]["@context"],term:y})}}h.setProcessed(e,{context:d,events:o})}return d};Pe.createTermDefinition=({activeCtx:e,localCtx:t,term:n,defined:r,options:s,overrideProtected:i=!1})=>{if(r.has(n)){if(r.get(n))return;throw new ee("Cyclical context definition detected.","jsonld.CyclicalContext",{code:"cyclic IRI mapping",context:t,term:n})}r.set(n,!1);let u;if(t.hasOwnProperty(n)&&(u=t[n]),n==="@type"&&ji(u)&&(u["@container"]||"@set")==="@set"&&Pe.processingMode(e,1.1)){const f=["@container","@id","@protected"],g=Object.keys(u);if(g.length===0||g.some(m=>!f.includes(m)))throw new ee("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:t,term:n})}else{if(Pe.isKeyword(n))throw new ee("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:t,term:n});if(n.match(Ud)){s.eventHandler&&fa({event:{type:["JsonLdEvent"],code:"reserved term",level:"warning",message:'Terms beginning with "@" are reserved for future use and dropped.',details:{term:n}},options:s});return}else if(n==="")throw new ee("Invalid JSON-LD syntax; a term cannot be an empty string.","jsonld.SyntaxError",{code:"invalid term definition",context:t})}const o=e.mappings.get(n);e.mappings.has(n)&&e.mappings.delete(n);let a=!1;if((Tn(u)||u===null)&&(a=!0,u={"@id":u}),!ji(u))throw new ee("Invalid JSON-LD syntax; @context term values must be strings or objects.","jsonld.SyntaxError",{code:"invalid term definition",context:t});const c={};e.mappings.set(n,c),c.reverse=!1;const l=["@container","@id","@language","@reverse","@type"];Pe.processingMode(e,1.1)&&l.push("@context","@direction","@index","@nest","@prefix","@protected");for(const f in u)if(!l.includes(f))throw new ee("Invalid JSON-LD syntax; a term definition must not contain "+f,"jsonld.SyntaxError",{code:"invalid term definition",context:t});const d=n.indexOf(":");if(c._termHasColon=d>0,"@reverse"in u){if("@id"in u)throw new ee("Invalid JSON-LD syntax; a @reverse term definition must not contain @id.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});if("@nest"in u)throw new ee("Invalid JSON-LD syntax; a @reverse term definition must not contain @nest.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});const f=u["@reverse"];if(!Tn(f))throw new ee("Invalid JSON-LD syntax; a @context @reverse value must be a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(f.match(Ud)){s.eventHandler&&fa({event:{type:["JsonLdEvent"],code:"reserved @reverse value",level:"warning",message:'@reverse values beginning with "@" are reserved for future use and dropped.',details:{reverse:f}},options:s}),o?e.mappings.set(n,o):e.mappings.delete(n);return}const g=ea(e,f,{vocab:!0,base:!1},t,r,s);if(!eo(g))throw new ee("Invalid JSON-LD syntax; a @context @reverse value must be an absolute IRI or a blank node identifier.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});c["@id"]=g,c.reverse=!0}else if("@id"in u){let f=u["@id"];if(f&&!Tn(f))throw new ee("Invalid JSON-LD syntax; a @context @id value must be an array of strings or a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(f===null)c["@id"]=null;else if(!Pe.isKeyword(f)&&f.match(Ud)){s.eventHandler&&fa({event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:'@id values beginning with "@" are reserved for future use and dropped.',details:{id:f}},options:s}),o?e.mappings.set(n,o):e.mappings.delete(n);return}else if(f!==n){if(f=ea(e,f,{vocab:!0,base:!1},t,r,s),!eo(f)&&!Pe.isKeyword(f))throw new ee("Invalid JSON-LD syntax; a @context @id value must be an absolute IRI, a blank node identifier, or a keyword.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(n.match(/(?::[^:])|\//)){const g=new Map(r).set(n,!0);if(ea(e,n,{vocab:!0,base:!1},t,g,s)!==f)throw new ee("Invalid JSON-LD syntax; term in form of IRI must expand to definition.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t})}c["@id"]=f,c._prefix=a&&!c._termHasColon&&f.match(/[:\/\?#\[\]@]$/)!==null}}if(!("@id"in c))if(c._termHasColon){const f=n.substr(0,d);if(t.hasOwnProperty(f)&&Pe.createTermDefinition({activeCtx:e,localCtx:t,term:f,defined:r,options:s}),e.mappings.has(f)){const g=n.substr(d+1);c["@id"]=e.mappings.get(f)["@id"]+g}else c["@id"]=n}else if(n==="@type")c["@id"]=n;else{if(!("@vocab"in e))throw new ee("Invalid JSON-LD syntax; @context terms must define an @id.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t,term:n});c["@id"]=e["@vocab"]+n}if((u["@protected"]===!0||r.get("@protected")===!0&&u["@protected"]!==!1)&&(e.protected[n]=!0,c.protected=!0),r.set(n,!0),"@type"in u){let f=u["@type"];if(!Tn(f))throw new ee("Invalid JSON-LD syntax; an @context @type value must be a string.","jsonld.SyntaxError",{code:"invalid type mapping",context:t});if(f==="@json"||f==="@none"){if(Pe.processingMode(e,1))throw new ee(`Invalid JSON-LD syntax; an @context @type value must not be "${f}" in JSON-LD 1.0 mode.`,"jsonld.SyntaxError",{code:"invalid type mapping",context:t})}else if(f!=="@id"&&f!=="@vocab"){if(f=ea(e,f,{vocab:!0,base:!1},t,r,s),!eo(f))throw new ee("Invalid JSON-LD syntax; an @context @type value must be an absolute IRI.","jsonld.SyntaxError",{code:"invalid type mapping",context:t});if(f.indexOf("_:")===0)throw new ee("Invalid JSON-LD syntax; an @context @type value must be an IRI, not a blank node identifier.","jsonld.SyntaxError",{code:"invalid type mapping",context:t})}c["@type"]=f}if("@container"in u){const f=Tn(u["@container"])?[u["@container"]]:u["@container"]||[],g=["@list","@set","@index","@language"];let m=!0;const y=f.includes("@set");if(Pe.processingMode(e,1.1)){if(g.push("@graph","@id","@type"),f.includes("@list")){if(f.length!==1)throw new ee("Invalid JSON-LD syntax; @context @container with @list must have no other values","jsonld.SyntaxError",{code:"invalid container mapping",context:t})}else if(f.includes("@graph")){if(f.some(b=>b!=="@graph"&&b!=="@id"&&b!=="@index"&&b!=="@set"))throw new ee("Invalid JSON-LD syntax; @context @container with @graph must have no other values other than @id, @index, and @set","jsonld.SyntaxError",{code:"invalid container mapping",context:t})}else m&=f.length<=(y?2:1);if(f.includes("@type")&&(c["@type"]=c["@type"]||"@id",!["@id","@vocab"].includes(c["@type"])))throw new ee("Invalid JSON-LD syntax; container: @type requires @type to be @id or @vocab.","jsonld.SyntaxError",{code:"invalid type mapping",context:t})}else m&=!s6(u["@container"]),m&=f.length<=1;if(m&=f.every(b=>g.includes(b)),m&=!(y&&f.includes("@list")),!m)throw new ee("Invalid JSON-LD syntax; @context @container value must be one of the following: "+g.join(", "),"jsonld.SyntaxError",{code:"invalid container mapping",context:t});if(c.reverse&&!f.every(b=>["@index","@set"].includes(b)))throw new ee("Invalid JSON-LD syntax; @context @container value for a @reverse type definition must be @index or @set.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});c["@container"]=f}if("@index"in u){if(!("@container"in u)||!c["@container"].includes("@index"))throw new ee(`Invalid JSON-LD syntax; @index without @index in @container: "${u["@index"]}" on term "${n}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:t});if(!Tn(u["@index"])||u["@index"].indexOf("@")===0)throw new ee(`Invalid JSON-LD syntax; @index must expand to an IRI: "${u["@index"]}" on term "${n}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:t});c["@index"]=u["@index"]}if("@context"in u&&(c["@context"]=u["@context"]),"@language"in u&&!("@type"in u)){let f=u["@language"];if(f!==null&&!Tn(f))throw new ee("Invalid JSON-LD syntax; @context @language value must be a string or null.","jsonld.SyntaxError",{code:"invalid language mapping",context:t});f!==null&&(f=f.toLowerCase()),c["@language"]=f}if("@prefix"in u){if(n.match(/:|\//))throw new ee("Invalid JSON-LD syntax; @context @prefix used on a compact IRI term","jsonld.SyntaxError",{code:"invalid term definition",context:t});if(Pe.isKeyword(c["@id"]))throw new ee("Invalid JSON-LD syntax; keywords may not be used as prefixes","jsonld.SyntaxError",{code:"invalid term definition",context:t});if(typeof u["@prefix"]=="boolean")c._prefix=u["@prefix"]===!0;else throw new ee("Invalid JSON-LD syntax; @context value for @prefix must be boolean","jsonld.SyntaxError",{code:"invalid @prefix value",context:t})}if("@direction"in u){const f=u["@direction"];if(f!==null&&f!=="ltr"&&f!=="rtl")throw new ee('Invalid JSON-LD syntax; @direction value must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:t});c["@direction"]=f}if("@nest"in u){const f=u["@nest"];if(!Tn(f)||f!=="@nest"&&f.indexOf("@")===0)throw new ee("Invalid JSON-LD syntax; @context @nest value must be a string which is not a keyword other than @nest.","jsonld.SyntaxError",{code:"invalid @nest value",context:t});c["@nest"]=f}// disallow aliasing @context and @preserve
const h=c["@id"];if(h==="@context"||h==="@preserve")throw new ee("Invalid JSON-LD syntax; @context and @preserve cannot be aliased.","jsonld.SyntaxError",{code:"invalid keyword alias",context:t});if(o&&o.protected&&!i&&(e.protected[n]=!0,c.protected=!0,!a1(o,c)))throw new ee("Invalid JSON-LD syntax; tried to redefine a protected term.","jsonld.SyntaxError",{code:"protected term redefinition",context:t,term:n})};Pe.expandIri=(e,t,n,r)=>ea(e,t,n,void 0,void 0,r);function ea(e,t,n,r,s,i){if(t===null||!Tn(t)||Pe.isKeyword(t))return t;if(t.match(Ud))return null;if(r&&r.hasOwnProperty(t)&&s.get(t)!==!0&&Pe.createTermDefinition({activeCtx:e,localCtx:r,term:t,defined:s,options:i}),n=n||{},n.vocab){const o=e.mappings.get(t);if(o===null)return null;if(ji(o)&&"@id"in o)return o["@id"]}const u=t.indexOf(":");if(u>0){const o=t.substr(0,u),a=t.substr(u+1);if(o==="_"||a.indexOf("//")===0)return t;r&&r.hasOwnProperty(o)&&Pe.createTermDefinition({activeCtx:e,localCtx:r,term:o,defined:s,options:i});const c=e.mappings.get(o);if(c&&c._prefix)return c["@id"]+a;if(eo(t))return t}if(n.vocab&&"@vocab"in e)t=e["@vocab"]+t;else if(n.base){let o,a;"@base"in e?e["@base"]?(a=ll(i.base,e["@base"]),o=ll(a,t)):(a=e["@base"],o=t):(a=i.base,o=ll(i.base,t)),t=o}return t}Pe.getInitialContext=e=>{const t=JSON.stringify({processingMode:e.processingMode}),n=fd.get(t);if(n)return n;const r={processingMode:e.processingMode,mappings:new Map,inverse:null,getInverse:s,clone:o,revertToPreviousContext:a,protected:{}};return fd.size===mP&&fd.clear(),fd.set(t,r),r;function s(){const c=this;if(c.inverse)return c.inverse;const l=c.inverse={},d=c.fastCurieMap={},h={},f=(c["@language"]||"@none").toLowerCase(),g=c["@direction"],m=c.mappings,y=[...m.keys()].sort(gP);for(const b of y){const w=m.get(b);if(w===null)continue;let v=w["@container"]||"@none";if(v=[].concat(v).sort().join(""),w["@id"]===null)continue;const x=i6(w["@id"]);for(const A of x){let T=l[A];const V=Pe.isKeyword(A);if(T)!V&&!w._termHasColon&&h[A].push(b);else if(l[A]=T={},!V&&!w._termHasColon){h[A]=[b];const W={iri:A,terms:h[A]};A[0]in d?d[A[0]].push(W):d[A[0]]=[W]}if(T[v]||(T[v]={"@language":{},"@type":{},"@any":{}}),T=T[v],u(b,T["@any"],"@none"),w.reverse)u(b,T["@type"],"@reverse");else if(w["@type"]==="@none")u(b,T["@any"],"@none"),u(b,T["@language"],"@none"),u(b,T["@type"],"@none");else if("@type"in w)u(b,T["@type"],w["@type"]);else if("@language"in w&&"@direction"in w){const W=w["@language"],te=w["@direction"];W&&te?u(b,T["@language"],`${W}_${te}`.toLowerCase()):W?u(b,T["@language"],W.toLowerCase()):te?u(b,T["@language"],`_${te}`):u(b,T["@language"],"@null")}else"@language"in w?u(b,T["@language"],(w["@language"]||"@null").toLowerCase()):"@direction"in w?w["@direction"]?u(b,T["@language"],`_${w["@direction"]}`):u(b,T["@language"],"@none"):g?(u(b,T["@language"],`_${g}`),u(b,T["@language"],"@none"),u(b,T["@type"],"@none")):(u(b,T["@language"],f),u(b,T["@language"],"@none"),u(b,T["@type"],"@none"))}}for(const b in d)i(d,b,1);return l}function i(c,l,d){const h=c[l],f=c[l]={};let g,m;for(const y of h)g=y.iri,d>=g.length?m="":m=g[d],m in f?f[m].push(y):f[m]=[y];for(const y in f)y!==""&&i(f,y,d+1)}function u(c,l,d){l.hasOwnProperty(d)||(l[d]=c)}function o(){const c={};return c.mappings=Hv.clone(this.mappings),c.clone=this.clone,c.inverse=null,c.getInverse=this.getInverse,c.protected=Hv.clone(this.protected),this.previousContext&&(c.previousContext=this.previousContext.clone()),c.revertToPreviousContext=this.revertToPreviousContext,"@base"in this&&(c["@base"]=this["@base"]),"@language"in this&&(c["@language"]=this["@language"]),"@vocab"in this&&(c["@vocab"]=this["@vocab"]),c}function a(){return this.previousContext?this.previousContext.clone():this}};Pe.getContextValue=(e,t,n)=>{if(t===null)return n==="@context"?void 0:null;if(e.mappings.has(t)){const r=e.mappings.get(t);if(dP(n))return r;if(r.hasOwnProperty(n))return r[n]}if(n==="@language"&&n in e||n==="@direction"&&n in e)return e[n];if(n!=="@context")return null};Pe.processingMode=(e,t)=>t.toString()>="1.1"?!e.processingMode||e.processingMode>="json-ld-"+t.toString():e.processingMode==="json-ld-1.0";Pe.isKeyword=e=>{if(!Tn(e)||e[0]!=="@")return!1;switch(e){case"@base":case"@container":case"@context":case"@default":case"@direction":case"@embed":case"@explicit":case"@graph":case"@id":case"@included":case"@index":case"@json":case"@language":case"@list":case"@nest":case"@none":case"@omitDefault":case"@prefix":case"@preserve":case"@protected":case"@requireAll":case"@reverse":case"@set":case"@type":case"@value":case"@version":case"@vocab":return!0}return!1};function a1(e,t){if(!(e&&typeof e=="object")||!(t&&typeof t=="object"))return e===t;const n=Array.isArray(e);if(n!==Array.isArray(t))return!1;if(n){if(e.length!==t.length)return!1;for(let i=0;i<e.length;++i)if(!a1(e[i],t[i]))return!1;return!0}const r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(const i in e){let u=e[i],o=t[i];if(i==="@container"&&Array.isArray(u)&&Array.isArray(o)&&(u=u.slice().sort(),o=o.slice().sort()),!a1(u,o))return!1}return!0}const Ue=Or,{isArray:gr,isObject:ur,isEmptyObject:c1,isString:Gt,isUndefined:yh}=Yn,{isList:Cg,isValue:l1,isGraph:yP,isSubject:bP}=vi,{expandIri:it,getContextValue:Un,isKeyword:f1,process:fl,processingMode:qd}=Io,{isAbsolute:Vd}=pu,{REGEX_BCP47:u6,REGEX_KEYWORD:wP,addValue:jn,asArray:Mr,getValues:xP,validateTypeValue:vP}=Ir,{handleEvent:fr}=Rf,$i={};var SP=$i;$i.expand=async({activeCtx:e,activeProperty:t=null,element:n,options:r={},insideList:s=!1,insideIndex:i=!1,typeScopedContext:u=null})=>{if(n==null)return null;if(t==="@default"&&(r=Object.assign({},r,{isFrame:!1})),!gr(n)&&!ur(n))return!s&&(t===null||it(e,t,{vocab:!0},r)==="@graph")?(r.eventHandler&&fr({event:{type:["JsonLdEvent"],code:"free-floating scalar",level:"warning",message:"Dropping free-floating scalar not in a list.",details:{value:n}},options:r}),null):c6({activeCtx:e,activeProperty:t,value:n,options:r});if(gr(n)){let g=[];const m=Un(e,t,"@container")||[];s=s||m.includes("@list");for(let y=0;y<n.length;++y){let b=await $i.expand({activeCtx:e,activeProperty:t,element:n[y],options:r,insideIndex:i,typeScopedContext:u});s&&gr(b)&&(b={"@list":b}),b!==null&&(gr(b)?g=g.concat(b):g.push(b))}return g}const o=it(e,t,{vocab:!0},r),a=Un(e,t,"@context");u=u||(e.previousContext?e:null);let c=Object.keys(n).sort(),l=!i;if(l&&u&&c.length<=2&&!c.includes("@context"))for(const g of c){const m=it(u,g,{vocab:!0},r);if(m==="@value"){l=!1,e=u;break}if(m==="@id"&&c.length===1){l=!1;break}}l&&(e=e.revertToPreviousContext()),yh(a)||(e=await fl({activeCtx:e,localCtx:a,propagate:!0,overrideProtected:!0,options:r})),"@context"in n&&(e=await fl({activeCtx:e,localCtx:n["@context"],options:r})),u=e;let d=null;for(const g of c)if(it(e,g,{vocab:!0},r)==="@type"){d=d||g;const y=n[g],b=Array.isArray(y)?y.length>1?y.slice().sort():y:[y];for(const w of b){const v=Un(u,w,"@context");yh(v)||(e=await fl({activeCtx:e,localCtx:v,options:r,propagate:!1}))}}let h={};await a6({activeCtx:e,activeProperty:t,expandedActiveProperty:o,element:n,expandedParent:h,options:r,insideList:s,typeKey:d,typeScopedContext:u}),c=Object.keys(h);let f=c.length;if("@value"in h){if("@type"in h&&("@language"in h||"@direction"in h))throw new Ue('Invalid JSON-LD syntax; an element containing "@value" may not contain both "@type" and either "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:h});let g=f-1;if("@type"in h&&(g-=1),"@index"in h&&(g-=1),"@language"in h&&(g-=1),"@direction"in h&&(g-=1),g!==0)throw new Ue('Invalid JSON-LD syntax; an element containing "@value" may only have an "@index" property and either "@type" or either or both "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:h});const m=h["@value"]===null?[]:Mr(h["@value"]),y=xP(h,"@type");if(!(qd(e,1.1)&&y.includes("@json")&&y.length===1))if(m.length===0)r.eventHandler&&fr({event:{type:["JsonLdEvent"],code:"null @value value",level:"warning",message:"Dropping null @value value.",details:{value:h}},options:r}),h=null;else{if(!m.every(b=>Gt(b)||c1(b))&&"@language"in h)throw new Ue("Invalid JSON-LD syntax; only strings may be language-tagged.","jsonld.SyntaxError",{code:"invalid language-tagged value",element:h});if(!y.every(b=>Vd(b)&&!(Gt(b)&&b.indexOf("_:")===0)||c1(b)))throw new Ue('Invalid JSON-LD syntax; an element containing "@value" and "@type" must have an absolute IRI for the value of "@type".',"jsonld.SyntaxError",{code:"invalid typed value",element:h})}}else if("@type"in h&&!gr(h["@type"]))h["@type"]=[h["@type"]];else if("@set"in h||"@list"in h){if(f>1&&!(f===2&&"@index"in h))throw new Ue('Invalid JSON-LD syntax; if an element has the property "@set" or "@list", then it can have at most one other property that is "@index".',"jsonld.SyntaxError",{code:"invalid set or list object",element:h});"@set"in h&&(h=h["@set"],c=Object.keys(h),f=c.length)}else f===1&&"@language"in h&&(r.eventHandler&&fr({event:{type:["JsonLdEvent"],code:"object with only @language",level:"warning",message:"Dropping object with only @language.",details:{value:h}},options:r}),h=null);return ur(h)&&!r.keepFreeFloatingNodes&&!s&&(t===null||o==="@graph"||(Un(e,t,"@container")||[]).includes("@graph"))&&(h=o6({value:h,count:f,options:r})),h};function o6({value:e,count:t,options:n}){if(t===0||"@value"in e||"@list"in e||t===1&&"@id"in e){if(n.eventHandler){let r,s;t===0?(r="empty object",s="Dropping empty object."):"@value"in e?(r="object with only @value",s="Dropping object with only @value."):"@list"in e?(r="object with only @list",s="Dropping object with only @list."):t===1&&"@id"in e&&(r="object with only @id",s="Dropping object with only @id."),fr({event:{type:["JsonLdEvent"],code:r,level:"warning",message:s,details:{value:e}},options:n})}return null}return e}async function a6({activeCtx:e,activeProperty:t,expandedActiveProperty:n,element:r,expandedParent:s,options:i={},insideList:u,typeKey:o,typeScopedContext:a}){const c=Object.keys(r).sort(),l=[];let d;const h=r[o]&&it(e,gr(r[o])?r[o][0]:r[o],{vocab:!0},{...i,typeExpansion:!0})==="@json";for(const f of c){let g=r[f],m;if(f==="@context")continue;const y=it(e,f,{vocab:!0},i);if(y===null||!(Vd(y)||f1(y))){i.eventHandler&&fr({event:{type:["JsonLdEvent"],code:"invalid property",level:"warning",message:"Dropping property that did not expand into an absolute IRI or keyword.",details:{property:f,expandedProperty:y}},options:i});continue}if(f1(y)){if(n==="@reverse")throw new Ue("Invalid JSON-LD syntax; a keyword cannot be used as a @reverse property.","jsonld.SyntaxError",{code:"invalid reverse property map",value:g});if(y in s&&y!=="@included"&&y!=="@type")throw new Ue("Invalid JSON-LD syntax; colliding keywords detected.","jsonld.SyntaxError",{code:"colliding keywords",keyword:y})}if(y==="@id"){if(!Gt(g)){if(!i.isFrame)throw new Ue('Invalid JSON-LD syntax; "@id" value must a string.',"jsonld.SyntaxError",{code:"invalid @id value",value:g});if(ur(g)){if(!c1(g))throw new Ue('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:g})}else if(gr(g)){if(!g.every(x=>Gt(x)))throw new Ue('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:g})}else throw new Ue('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:g})}jn(s,"@id",Mr(g).map(x=>{if(Gt(x)){const A=it(e,x,{base:!0},i);return i.eventHandler&&(A===null?fr(x===null?{event:{type:["JsonLdEvent"],code:"null @id value",level:"warning",message:"Null @id found.",details:{id:x}},options:i}:{event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:"Reserved @id found.",details:{id:x}},options:i}):Vd(A)||fr({event:{type:["JsonLdEvent"],code:"relative @id reference",level:"warning",message:"Relative @id reference found.",details:{id:x,expandedId:A}},options:i})),A}return x}),{propertyIsArray:i.isFrame});continue}if(y==="@type"){ur(g)&&(g=Object.fromEntries(Object.entries(g).map(([x,A])=>[it(a,x,{vocab:!0}),Mr(A).map(T=>it(a,T,{base:!0,vocab:!0},{...i,typeExpansion:!0}))]))),vP(g,i.isFrame),jn(s,"@type",Mr(g).map(x=>{if(Gt(x)){const A=it(a,x,{base:!0,vocab:!0},{...i,typeExpansion:!0});return A!=="@json"&&!Vd(A)&&i.eventHandler&&fr({event:{type:["JsonLdEvent"],code:"relative @type reference",level:"warning",message:"Relative @type reference found.",details:{type:x}},options:i}),A}return x}),{propertyIsArray:!!i.isFrame});continue}if(y==="@included"&&qd(e,1.1)){const x=Mr(await $i.expand({activeCtx:e,activeProperty:t,element:g,options:i}));if(!x.every(A=>bP(A)))throw new Ue("Invalid JSON-LD syntax; values of @included must expand to node objects.","jsonld.SyntaxError",{code:"invalid @included value",value:g});jn(s,"@included",x,{propertyIsArray:!0});continue}if(y==="@graph"&&!(ur(g)||gr(g)))throw new Ue('Invalid JSON-LD syntax; "@graph" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid @graph value",value:g});if(y==="@value"){d=g,h&&qd(e,1.1)?s["@value"]=g:jn(s,"@value",g,{propertyIsArray:i.isFrame});continue}if(y==="@language"){if(g===null)continue;if(!Gt(g)&&!i.isFrame)throw new Ue('Invalid JSON-LD syntax; "@language" value must be a string.',"jsonld.SyntaxError",{code:"invalid language-tagged string",value:g});g=Mr(g).map(x=>Gt(x)?x.toLowerCase():x);for(const x of g)Gt(x)&&!x.match(u6)&&i.eventHandler&&fr({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:x}},options:i});jn(s,"@language",g,{propertyIsArray:i.isFrame});continue}if(y==="@direction"){if(!Gt(g)&&!i.isFrame)throw new Ue('Invalid JSON-LD syntax; "@direction" value must be a string.',"jsonld.SyntaxError",{code:"invalid base direction",value:g});g=Mr(g);for(const x of g)if(Gt(x)&&x!=="ltr"&&x!=="rtl")throw new Ue('Invalid JSON-LD syntax; "@direction" must be "ltr" or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",value:g});jn(s,"@direction",g,{propertyIsArray:i.isFrame});continue}if(y==="@index"){if(!Gt(g))throw new Ue('Invalid JSON-LD syntax; "@index" value must be a string.',"jsonld.SyntaxError",{code:"invalid @index value",value:g});jn(s,"@index",g);continue}if(y==="@reverse"){if(!ur(g))throw new Ue('Invalid JSON-LD syntax; "@reverse" value must be an object.',"jsonld.SyntaxError",{code:"invalid @reverse value",value:g});if(m=await $i.expand({activeCtx:e,activeProperty:"@reverse",element:g,options:i}),"@reverse"in m)for(const A in m["@reverse"])jn(s,A,m["@reverse"][A],{propertyIsArray:!0});let x=s["@reverse"]||null;for(const A in m){if(A==="@reverse")continue;x===null&&(x=s["@reverse"]={}),jn(x,A,[],{propertyIsArray:!0});const T=m[A];for(let V=0;V<T.length;++V){const W=T[V];if(l1(W)||Cg(W))throw new Ue('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:m});jn(x,A,W,{propertyIsArray:!0})}}continue}if(y==="@nest"){l.push(f);continue}let b=e;const w=Un(e,f,"@context");yh(w)||(b=await fl({activeCtx:e,localCtx:w,propagate:!0,overrideProtected:!0,options:i}));const v=Un(e,f,"@container")||[];if(v.includes("@language")&&ur(g)){const x=Un(b,f,"@direction");m=_P(b,g,x,i)}else if(v.includes("@index")&&ur(g)){const x=v.includes("@graph"),A=Un(b,f,"@index")||"@index",T=A!=="@index"&&it(e,A,{vocab:!0},i);m=await Dg({activeCtx:b,options:i,activeProperty:f,value:g,asGraph:x,indexKey:A,propertyIndex:T})}else if(v.includes("@id")&&ur(g)){const x=v.includes("@graph");m=await Dg({activeCtx:b,options:i,activeProperty:f,value:g,asGraph:x,indexKey:"@id"})}else if(v.includes("@type")&&ur(g))m=await Dg({activeCtx:b.revertToPreviousContext(),options:i,activeProperty:f,value:g,asGraph:!1,indexKey:"@type"});else{const x=y==="@list";if(x||y==="@set"){let A=t;x&&n==="@graph"&&(A=null),m=await $i.expand({activeCtx:b,activeProperty:A,element:g,options:i,insideList:x})}else Un(e,f,"@type")==="@json"?m={"@type":"@json","@value":g}:m=await $i.expand({activeCtx:b,activeProperty:f,element:g,options:i,insideList:!1})}if(!(m===null&&y!=="@value")){if(y!=="@list"&&!Cg(m)&&v.includes("@list")&&(m={"@list":Mr(m)}),v.includes("@graph")&&!v.some(x=>x==="@id"||x==="@index")){if(m=Mr(m),i.isFrame||(m=m.filter(x=>{const A=Object.keys(x).length;return o6({value:x,count:A,options:i})!==null})),m.length===0)continue;m=m.map(x=>({"@graph":Mr(x)}))}if(b.mappings.has(f)&&b.mappings.get(f).reverse){const x=s["@reverse"]=s["@reverse"]||{};m=Mr(m);for(let A=0;A<m.length;++A){const T=m[A];if(l1(T)||Cg(T))throw new Ue('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:m});jn(x,y,T,{propertyIsArray:!0})}continue}jn(s,y,m,{propertyIsArray:!0})}}if("@value"in s&&!(s["@type"]==="@json"&&qd(e,1.1))){if((ur(d)||gr(d))&&!i.isFrame)throw new Ue('Invalid JSON-LD syntax; "@value" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid value object value",value:d})}for(const f of l){const g=gr(r[f])?r[f]:[r[f]];for(const m of g){if(!ur(m)||Object.keys(m).some(y=>it(e,y,{vocab:!0},i)==="@value"))throw new Ue("Invalid JSON-LD syntax; nested value must be a node object.","jsonld.SyntaxError",{code:"invalid @nest value",value:m});await a6({activeCtx:e,activeProperty:t,expandedActiveProperty:n,element:m,expandedParent:s,options:i,insideList:u,typeScopedContext:a,typeKey:o})}}}function c6({activeCtx:e,activeProperty:t,value:n,options:r}){if(n==null)return null;const s=it(e,t,{vocab:!0},r);if(s==="@id")return it(e,n,{base:!0},r);if(s==="@type")return it(e,n,{vocab:!0,base:!0},{...r,typeExpansion:!0});const i=Un(e,t,"@type");if((i==="@id"||s==="@graph")&&Gt(n)){const o=it(e,n,{base:!0},r);return o===null&&n.match(wP)&&r.eventHandler&&fr({event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:"Reserved @id found.",details:{id:t}},options:r}),{"@id":o}}if(i==="@vocab"&&Gt(n))return{"@id":it(e,n,{vocab:!0,base:!0},r)};if(f1(s))return n;const u={};if(i&&!["@id","@vocab","@none"].includes(i))u["@type"]=i;else if(Gt(n)){const o=Un(e,t,"@language");o!==null&&(u["@language"]=o);const a=Un(e,t,"@direction");a!==null&&(u["@direction"]=a)}return["boolean","number","string"].includes(typeof n)||(n=n.toString()),u["@value"]=n,u}function _P(e,t,n,r){const s=[],i=Object.keys(t).sort();for(const u of i){const o=it(e,u,{vocab:!0},r);let a=t[u];gr(a)||(a=[a]);for(const c of a){if(c===null)continue;if(!Gt(c))throw new Ue("Invalid JSON-LD syntax; language map values must be strings.","jsonld.SyntaxError",{code:"invalid language map value",languageMap:t});const l={"@value":c};o!=="@none"&&(u.match(u6)||r.eventHandler&&fr({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:u}},options:r}),l["@language"]=u.toLowerCase()),n&&(l["@direction"]=n),s.push(l)}}return s}async function Dg({activeCtx:e,options:t,activeProperty:n,value:r,asGraph:s,indexKey:i,propertyIndex:u}){const o=[],a=Object.keys(r).sort(),c=i==="@type";for(let l of a){if(c){const f=Un(e,l,"@context");yh(f)||(e=await fl({activeCtx:e,localCtx:f,propagate:!1,options:t}))}let d=r[l];gr(d)||(d=[d]),d=await $i.expand({activeCtx:e,activeProperty:n,element:d,options:t,insideList:!1,insideIndex:!0});let h;u?l==="@none"?h="@none":h=c6({activeCtx:e,activeProperty:i,value:l,options:t}):h=it(e,l,{vocab:!0},t),i==="@id"?l=it(e,l,{base:!0},t):c&&(l=h);for(let f of d){if(s&&!yP(f)&&(f={"@graph":[f]}),i==="@type")h==="@none"||(f["@type"]?f["@type"]=[l].concat(f["@type"]):f["@type"]=[l]);else{if(l1(f)&&!["@language","@type","@index"].includes(i))throw new Ue(`Invalid JSON-LD syntax; Attempt to add illegal key to value object: "${i}".`,"jsonld.SyntaxError",{code:"invalid value object",value:f});u?h!=="@none"&&jn(f,u,h,{propertyIsArray:!0,prependValue:!0}):h!=="@none"&&!(i in f)&&(f[i]=l)}o.push(f)}}return o}const{isKeyword:l6}=Io,cs=vi,Mg=Yn,hs=Ir,AP=Or,pn={};var Fp=pn;pn.createMergedNodeMap=(e,t)=>{t=t||{};const n=t.issuer||new hs.IdentifierIssuer("_:b"),r={"@default":{}};return pn.createNodeMap(e,r,"@default",n),pn.mergeNodeMaps(r)};pn.createNodeMap=(e,t,n,r,s,i)=>{if(Mg.isArray(e)){for(const c of e)pn.createNodeMap(c,t,n,r,void 0,i);return}if(!Mg.isObject(e)){i&&i.push(e);return}if(cs.isValue(e)){if("@type"in e){let c=e["@type"];c.indexOf("_:")===0&&(e["@type"]=c=r.getId(c))}i&&i.push(e);return}else if(i&&cs.isList(e)){const c=[];pn.createNodeMap(e["@list"],t,n,r,s,c),i.push({"@list":c});return}if("@type"in e){const c=e["@type"];for(const l of c)l.indexOf("_:")===0&&r.getId(l)}Mg.isUndefined(s)&&(s=cs.isBlankNode(e)?r.getId(e["@id"]):e["@id"]),i&&i.push({"@id":s});const u=t[n],o=u[s]=u[s]||{};o["@id"]=s;const a=Object.keys(e).sort();for(let c of a){if(c==="@id")continue;if(c==="@reverse"){const d={"@id":s},h=e["@reverse"];for(const f in h){const g=h[f];for(const m of g){let y=m["@id"];cs.isBlankNode(m)&&(y=r.getId(y)),pn.createNodeMap(m,t,n,r,y),hs.addValue(u[y],f,d,{propertyIsArray:!0,allowDuplicate:!1})}}continue}if(c==="@graph"){s in t||(t[s]={}),pn.createNodeMap(e[c],t,s,r);continue}if(c==="@included"){pn.createNodeMap(e[c],t,n,r);continue}if(c!=="@type"&&l6(c)){if(c==="@index"&&c in o&&(e[c]!==o[c]||e[c]["@id"]!==o[c]["@id"]))throw new AP("Invalid JSON-LD syntax; conflicting @index property detected.","jsonld.SyntaxError",{code:"conflicting indexes",subject:o});o[c]=e[c];continue}const l=e[c];if(c.indexOf("_:")===0&&(c=r.getId(c)),l.length===0){hs.addValue(o,c,[],{propertyIsArray:!0});continue}for(let d of l)if(c==="@type"&&(d=d.indexOf("_:")===0?r.getId(d):d),cs.isSubject(d)||cs.isSubjectReference(d)){if("@id"in d&&!d["@id"])continue;const h=cs.isBlankNode(d)?r.getId(d["@id"]):d["@id"];hs.addValue(o,c,{"@id":h},{propertyIsArray:!0,allowDuplicate:!1}),pn.createNodeMap(d,t,n,r,h)}else if(cs.isValue(d))hs.addValue(o,c,d,{propertyIsArray:!0,allowDuplicate:!1});else if(cs.isList(d)){const h=[];pn.createNodeMap(d["@list"],t,n,r,s,h),d={"@list":h},hs.addValue(o,c,d,{propertyIsArray:!0,allowDuplicate:!1})}else pn.createNodeMap(d,t,n,r,s),hs.addValue(o,c,d,{propertyIsArray:!0,allowDuplicate:!1})}};pn.mergeNodeMapGraphs=e=>{const t={};for(const n of Object.keys(e).sort())for(const r of Object.keys(e[n]).sort()){const s=e[n][r];r in t||(t[r]={"@id":r});const i=t[r];for(const u of Object.keys(s).sort())if(l6(u)&&u!=="@type")i[u]=hs.clone(s[u]);else for(const o of s[u])hs.addValue(i,u,hs.clone(o),{propertyIsArray:!0,allowDuplicate:!1})}return t};pn.mergeNodeMaps=e=>{const t=e["@default"],n=Object.keys(e).sort();for(const r of n){if(r==="@default")continue;const s=e[r];let i=t[r];i?"@graph"in i||(i["@graph"]=[]):t[r]=i={"@id":r,"@graph":[]};const u=i["@graph"];for(const o of Object.keys(s).sort()){const a=s[o];cs.isSubjectReference(a)||u.push(a)}}return t};const{isSubjectReference:TP}=vi,{createMergedNodeMap:EP}=Fp,f6={};var OP=f6;f6.flatten=e=>{const t=EP(e),n=[],r=Object.keys(t).sort();for(let s=0;s<r.length;++s){const i=t[r[s]];TP(i)||n.push(i)}return n};const d1=Or,Pg=vi,Kc=Yn,{REGEX_BCP47:Gv,addValue:Jv}=Ir,{handleEvent:Wv}=Rf,{RDF_LIST:IP,RDF_FIRST:jg,RDF_REST:Lg,RDF_NIL:Fg,RDF_TYPE:NP,RDF_JSON_LITERAL:RP,XSD_BOOLEAN:Qv,XSD_DOUBLE:Xv,XSD_INTEGER:Kv,XSD_STRING:$g}=$b,d6={};var kP=d6;d6.fromRDF=async(e,t)=>{const{useRdfType:n=!1,useNativeTypes:r=!1,rdfDirection:s=null}=t,i={},u={"@default":i},o={};if(s){if(s==="compound-literal")throw new d1("Unsupported rdfDirection value.","jsonld.InvalidRdfDirection",{value:s});if(s!=="i18n-datatype")throw new d1("Unknown rdfDirection value.","jsonld.InvalidRdfDirection",{value:s})}for(const l of e){const d=l.graph.termType==="DefaultGraph"?"@default":l.graph.value;d in u||(u[d]={}),d!=="@default"&&!(d in i)&&(i[d]={"@id":d});const h=u[d],f=l.subject.value,g=l.predicate.value,m=l.object;f in h||(h[f]={"@id":f});const y=h[f],b=m.termType.endsWith("Node");if(b&&!(m.value in h)&&(h[m.value]={"@id":m.value}),g===NP&&!n&&b){Jv(y,"@type",m.value,{propertyIsArray:!0});continue}const w=CP(m,r,s,t);if(Jv(y,g,w,{propertyIsArray:!0}),b)if(m.value===Fg){const v=h[m.value];"usages"in v||(v.usages=[]),v.usages.push({node:y,property:g,value:w})}else m.value in o?o[m.value]=!1:o[m.value]={node:y,property:g,value:w}}for(const l in u){const d=u[l];if(!(Fg in d))continue;const h=d[Fg];if(h.usages){for(let f of h.usages){let g=f.node,m=f.property,y=f.value;const b=[],w=[];let v=Object.keys(g).length;for(;m===Lg&&Kc.isObject(o[g["@id"]])&&Kc.isArray(g[jg])&&g[jg].length===1&&Kc.isArray(g[Lg])&&g[Lg].length===1&&(v===3||v===4&&Kc.isArray(g["@type"])&&g["@type"].length===1&&g["@type"][0]===IP)&&(b.push(g[jg][0]),w.push(g["@id"]),f=o[g["@id"]],g=f.node,m=f.property,y=f.value,v=Object.keys(g).length,!!Pg.isBlankNode(g)););delete y["@id"],y["@list"]=b.reverse();for(const x of w)delete d[x]}delete h.usages}}const a=[],c=Object.keys(i).sort();for(const l of c){const d=i[l];if(l in u){const h=d["@graph"]=[],f=u[l],g=Object.keys(f).sort();for(const m of g){const y=f[m];Pg.isSubjectReference(y)||h.push(y)}}Pg.isSubjectReference(d)||a.push(d)}return a};function CP(e,t,n,r){if(e.termType.endsWith("Node"))return{"@id":e.value};const s={"@value":e.value};if(e.language)e.language.match(Gv)||r.eventHandler&&Wv({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:e.language}},options:r}),s["@language"]=e.language;else{let i=e.datatype.value;if(i||(i=$g),i===RP){i="@json";try{s["@value"]=JSON.parse(s["@value"])}catch(u){throw new d1("JSON literal could not be parsed.","jsonld.InvalidJsonLiteral",{code:"invalid JSON literal",value:s["@value"],cause:u})}}if(t){if(i===Qv)s["@value"]==="true"?s["@value"]=!0:s["@value"]==="false"&&(s["@value"]=!1);else if(Kc.isNumeric(s["@value"]))if(i===Kv){const u=parseInt(s["@value"],10);u.toFixed(0)===s["@value"]&&(s["@value"]=u)}else i===Xv&&(s["@value"]=parseFloat(s["@value"]));[Qv,Kv,Xv,$g].includes(i)||(s["@type"]=i)}else if(n==="i18n-datatype"&&i.startsWith("https://www.w3.org/ns/i18n#")){const[,u,o]=i.split(/[#_]/);u.length>0&&(s["@language"]=u,u.match(Gv)||r.eventHandler&&Wv({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:u}},options:r})),s["@direction"]=o}else i!==$g&&(s["@type"]=i)}return s}var DP=function e(t){return t===null||typeof t!="object"||t.toJSON!=null?JSON.stringify(t):Array.isArray(t)?"["+t.reduce((n,r,s)=>{const i=s===0?"":",",u=r===void 0||typeof r=="symbol"?null:r;return n+i+e(u)},"")+"]":"{"+Object.keys(t).sort().reduce((n,r,s)=>{if(t[r]===void 0||typeof t[r]=="symbol")return n;const i=n.length===0?"":",";return n+i+e(r)+":"+e(t[r])},"")+"}"};const{createNodeMap:MP}=Fp,{isKeyword:PP}=Io,Yv=vi,jP=DP,Zv=Or,Pc=Yn,LP=Ir,{handleEvent:to}=Rf,{RDF_FIRST:FP,RDF_REST:$P,RDF_NIL:BP,RDF_TYPE:UP,RDF_JSON_LITERAL:qP,RDF_LANGSTRING:VP,XSD_BOOLEAN:zP,XSD_DOUBLE:eS,XSD_INTEGER:HP,XSD_STRING:GP}=$b,{isAbsolute:bh}=pu,h6={};var JP=h6;h6.toRDF=(e,t)=>{const n=new LP.IdentifierIssuer("_:b"),r={"@default":{}};MP(e,r,"@default",n);const s=[],i=Object.keys(r).sort();for(const u of i){let o;if(u==="@default")o={termType:"DefaultGraph",value:""};else if(bh(u))u.startsWith("_:")?o={termType:"BlankNode"}:o={termType:"NamedNode"},o.value=u;else{t.eventHandler&&to({event:{type:["JsonLdEvent"],code:"relative graph reference",level:"warning",message:"Relative graph reference found.",details:{graph:u}},options:t});continue}WP(s,r[u],o,n,t)}return s};function WP(e,t,n,r,s){const i=Object.keys(t).sort();for(const u of i){const o=t[u],a=Object.keys(o).sort();for(let c of a){const l=o[c];if(c==="@type")c=UP;else if(PP(c))continue;for(const d of l){const h={termType:u.startsWith("_:")?"BlankNode":"NamedNode",value:u};if(!bh(u)){s.eventHandler&&to({event:{type:["JsonLdEvent"],code:"relative subject reference",level:"warning",message:"Relative subject reference found.",details:{subject:u}},options:s});continue}const f={termType:c.startsWith("_:")?"BlankNode":"NamedNode",value:c};if(!bh(c)){s.eventHandler&&to({event:{type:["JsonLdEvent"],code:"relative predicate reference",level:"warning",message:"Relative predicate reference found.",details:{predicate:c}},options:s});continue}if(f.termType==="BlankNode"&&!s.produceGeneralizedRdf){s.eventHandler&&to({event:{type:["JsonLdEvent"],code:"blank node predicate",level:"warning",message:"Dropping blank node predicate.",details:{property:r.getOldIds().find(m=>r.getId(m)===c)}},options:s});continue}const g=h1(d,r,e,n,s.rdfDirection,s);g&&e.push({subject:h,predicate:f,object:g,graph:n})}}}}function QP(e,t,n,r,s,i){const u={termType:"NamedNode",value:FP},o={termType:"NamedNode",value:$P},a={termType:"NamedNode",value:BP},c=e.pop(),l=c?{termType:"BlankNode",value:t.getId()}:a;let d=l;for(const h of e){const f=h1(h,t,n,r,s,i),g={termType:"BlankNode",value:t.getId()};n.push({subject:d,predicate:u,object:f,graph:r}),n.push({subject:d,predicate:o,object:g,graph:r}),d=g}if(c){const h=h1(c,t,n,r,s,i);n.push({subject:d,predicate:u,object:h,graph:r}),n.push({subject:d,predicate:o,object:a,graph:r})}return l}function h1(e,t,n,r,s,i){const u={};if(Yv.isValue(e)){u.termType="Literal",u.value=void 0,u.datatype={termType:"NamedNode"};let o=e["@value"];const a=e["@type"]||null;if(a==="@json")u.value=jP(o),u.datatype.value=qP;else if(Pc.isBoolean(o))u.value=o.toString(),u.datatype.value=a||zP;else if(Pc.isDouble(o)||a===eS)Pc.isDouble(o)||(o=parseFloat(o)),u.value=o.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),u.datatype.value=a||eS;else if(Pc.isNumber(o))u.value=o.toFixed(0),u.datatype.value=a||HP;else if("@direction"in e&&s==="i18n-datatype"){const c=(e["@language"]||"").toLowerCase(),l=e["@direction"],d=`https://www.w3.org/ns/i18n#${c}_${l}`;u.datatype.value=d,u.value=o}else{if("@direction"in e&&s==="compound-literal")throw new Zv("Unsupported rdfDirection value.","jsonld.InvalidRdfDirection",{value:s});if("@direction"in e&&s)throw new Zv("Unknown rdfDirection value.","jsonld.InvalidRdfDirection",{value:s});"@language"in e?("@direction"in e&&!s&&i.eventHandler&&to({event:{type:["JsonLdEvent"],code:"rdfDirection not set",level:"warning",message:"rdfDirection not set for @direction.",details:{object:u.value}},options:i}),u.value=o,u.datatype.value=a||VP,u.language=e["@language"]):("@direction"in e&&!s&&i.eventHandler&&to({event:{type:["JsonLdEvent"],code:"rdfDirection not set",level:"warning",message:"rdfDirection not set for @direction.",details:{object:u.value}},options:i}),u.value=o,u.datatype.value=a||GP)}}else if(Yv.isList(e)){const o=QP(e["@list"],t,n,r,s,i);u.termType=o.termType,u.value=o.value}else{const o=Pc.isObject(e)?e["@id"]:e;u.termType=o.startsWith("_:")?"BlankNode":"NamedNode",u.value=o}return u.termType==="NamedNode"&&!bh(u.value)?(i.eventHandler&&to({event:{type:["JsonLdEvent"],code:"relative object reference",level:"warning",message:"Relative object reference found.",details:{object:u.value}},options:i}),null):u}const{isKeyword:p1}=Io,ar=vi,ke=Yn,Tt=Ir,tS=pu,dl=Or,{createNodeMap:XP,mergeNodeMapGraphs:KP}=Fp,dr={};var YP=dr;dr.frameMergedOrDefault=(e,t,n)=>{const r={options:n,embedded:!1,graph:"@default",graphMap:{"@default":{}},subjectStack:[],link:{},bnodeMap:{}},s=new Tt.IdentifierIssuer("_:b");XP(e,r.graphMap,"@default",s),n.merged&&(r.graphMap["@merged"]=KP(r.graphMap),r.graph="@merged"),r.subjects=r.graphMap[r.graph];const i=[];dr.frame(r,Object.keys(r.subjects).sort(),t,i),n.pruneBlankNodeIdentifiers&&(n.bnodesToClear=Object.keys(r.bnodeMap).filter(u=>r.bnodeMap[u].length===1));// remove @preserve from results
return n.link={},zd(i,n)};dr.frame=(e,t,n,r,s=null)=>{p6(n),n=n[0];const i=e.options,u={embed:dd(n,i,"embed"),explicit:dd(n,i,"explicit"),requireAll:dd(n,i,"requireAll")};e.link.hasOwnProperty(e.graph)||(e.link[e.graph]={});const o=e.link[e.graph],a=ej(e,t,n,u),c=Object.keys(a).sort();for(const l of c){const d=a[l];if(s===null?e.uniqueEmbeds={[e.graph]:{}}:e.uniqueEmbeds[e.graph]=e.uniqueEmbeds[e.graph]||{},u.embed==="@link"&&l in o){Tu(r,s,o[l]);continue}const h={"@id":l};if(l.indexOf("_:")===0&&Tt.addValue(e.bnodeMap,l,h,{propertyIsArray:!0}),o[l]=h,(u.embed==="@first"||u.embed==="@last")&&e.is11)throw new dl("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:n});if(!(!e.embedded&&e.uniqueEmbeds[e.graph].hasOwnProperty(l))){if(e.embedded&&(u.embed==="@never"||ZP(d,e.graph,e.subjectStack))){Tu(r,s,h);continue}if(e.embedded&&(u.embed=="@first"||u.embed=="@once")&&e.uniqueEmbeds[e.graph].hasOwnProperty(l)){Tu(r,s,h);continue}if(u.embed==="@last"&&l in e.uniqueEmbeds[e.graph]&&tj(e,l),e.uniqueEmbeds[e.graph][l]={parent:r,property:s},e.subjectStack.push({subject:d,graph:e.graph}),l in e.graphMap){let f=!1,g=null;"@graph"in n?(g=n["@graph"][0],f=!(l==="@merged"||l==="@default"),ke.isObject(g)||(g={})):(f=e.graph!=="@merged",g={}),f&&dr.frame({...e,graph:l,embedded:!1},Object.keys(e.graphMap[l]).sort(),[g],h,"@graph")}"@included"in n&&dr.frame({...e,embedded:!1},t,n["@included"],h,"@included");for(const f of Object.keys(d).sort()){if(p1(f)){if(h[f]=Tt.clone(d[f]),f==="@type")for(const g of d["@type"])g.indexOf("_:")===0&&Tt.addValue(e.bnodeMap,g,h,{propertyIsArray:!0});continue}if(!(u.explicit&&!(f in n)))for(const g of d[f]){const m=f in n?n[f]:nS(u);if(ar.isList(g)){const y=n[f]&&n[f][0]&&n[f][0]["@list"]?n[f][0]["@list"]:nS(u),b={"@list":[]};Tu(h,f,b);const w=g["@list"];for(const v of w)ar.isSubjectReference(v)?dr.frame({...e,embedded:!0},[v["@id"]],y,b,"@list"):Tu(b,"@list",Tt.clone(v))}else ar.isSubjectReference(g)?dr.frame({...e,embedded:!0},[g["@id"]],m,h,f):g1(m[0],g)&&Tu(h,f,Tt.clone(g))}}for(const f of Object.keys(n).sort()){if(f==="@type"){if(!ke.isObject(n[f][0])||!("@default"in n[f][0]))continue}else if(p1(f))continue;const g=n[f][0]||{};if(!dd(g,i,"omitDefault")&&!(f in h)){let y="@null";"@default"in g&&(y=Tt.clone(g["@default"])),ke.isArray(y)||(y=[y]),h[f]=[{"@preserve":y}]}}for(const f of Object.keys(n["@reverse"]||{}).sort()){const g=n["@reverse"][f];for(const m of Object.keys(e.subjects))Tt.getValues(e.subjects[m],f).some(b=>b["@id"]===l)&&(h["@reverse"]=h["@reverse"]||{},Tt.addValue(h["@reverse"],f,[],{propertyIsArray:!0}),dr.frame({...e,embedded:!0},[m],g,h["@reverse"][f],s))}Tu(r,s,h),e.subjectStack.pop()}}};dr.cleanupNull=(e,t)=>{if(ke.isArray(e))return e.map(r=>dr.cleanupNull(r,t)).filter(r=>r);if(e==="@null")return null;if(ke.isObject(e)){if("@id"in e){const n=e["@id"];if(t.link.hasOwnProperty(n)){const r=t.link[n].indexOf(e);if(r!==-1)return t.link[n][r];t.link[n].push(e)}else t.link[n]=[e]}for(const n in e)e[n]=dr.cleanupNull(e[n],t)}return e};function nS(e){const t={};for(const n in e)e[n]!==void 0&&(t["@"+n]=[e[n]]);return[t]}function ZP(e,t,n){for(let r=n.length-1;r>=0;--r){const s=n[r];if(s.graph===t&&s.subject["@id"]===e["@id"])return!0}return!1}function dd(e,t,n){const r="@"+n;let s=r in e?e[r][0]:t[n];if(n==="embed"){if(s===!0)s="@once";else if(s===!1)s="@never";else if(s!=="@always"&&s!=="@never"&&s!=="@link"&&s!=="@first"&&s!=="@last"&&s!=="@once")throw new dl("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:e})}return s}function p6(e){if(!ke.isArray(e)||e.length!==1||!ke.isObject(e[0]))throw new dl("Invalid JSON-LD syntax; a JSON-LD frame must be a single object.","jsonld.SyntaxError",{frame:e});if("@id"in e[0]){for(const t of Tt.asArray(e[0]["@id"]))if(!(ke.isObject(t)||tS.isAbsolute(t))||ke.isString(t)&&t.indexOf("_:")===0)throw new dl("Invalid JSON-LD syntax; invalid @id in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:e})}if("@type"in e[0]){for(const t of Tt.asArray(e[0]["@type"]))if(!(ke.isObject(t)||tS.isAbsolute(t)||t==="@json")||ke.isString(t)&&t.indexOf("_:")===0)throw new dl("Invalid JSON-LD syntax; invalid @type in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:e})}}function ej(e,t,n,r){const s={};for(const i of t){const u=e.graphMap[e.graph][i];g6(e,u,n,r)&&(s[i]=u)}return s}function g6(e,t,n,r){let s=!0,i=!1;for(const u in n){let o=!1;const a=Tt.getValues(t,u),c=Tt.getValues(n,u).length===0;if(u==="@id"){if(ke.isEmptyObject(n["@id"][0]||{})?o=!0:n["@id"].length>=0&&(o=n["@id"].includes(a[0])),!r.requireAll)return o}else if(u==="@type"){if(s=!1,c){if(a.length>0)return!1;o=!0}else if(n["@type"].length===1&&ke.isEmptyObject(n["@type"][0]))o=a.length>0;else for(const l of n["@type"])ke.isObject(l)&&"@default"in l?o=!0:o=o||a.some(d=>d===l);if(!r.requireAll)return o}else{if(p1(u))continue;{const l=Tt.getValues(n,u)[0];let d=!1;if(l&&(p6([l]),d="@default"in l),s=!1,a.length===0&&d)continue;if(a.length>0&&c)return!1;if(l===void 0){if(a.length>0)return!1;o=!0}else if(ar.isList(l)){const h=l["@list"][0];if(ar.isList(a[0])){const f=a[0]["@list"];ar.isValue(h)?o=f.some(g=>g1(h,g)):(ar.isSubject(h)||ar.isSubjectReference(h))&&(o=f.some(g=>rS(e,h,g,r)))}}else ar.isValue(l)?o=a.some(h=>g1(l,h)):ar.isSubjectReference(l)?o=a.some(h=>rS(e,l,h,r)):ke.isObject(l)?o=a.length>0:o=!1}}if(!o&&r.requireAll)return!1;i=i||o}return s||i}function tj(e,t){const n=e.uniqueEmbeds[e.graph],r=n[t],s=r.parent,i=r.property,u={"@id":t};if(ke.isArray(s)){for(let a=0;a<s.length;++a)if(Tt.compareValues(s[a],u)){s[a]=u;break}}else{const a=ke.isArray(s[i]);Tt.removeValue(s,i,u,{propertyIsArray:a}),Tt.addValue(s,i,u,{propertyIsArray:a})}const o=a=>{const c=Object.keys(n);for(const l of c)l in n&&ke.isObject(n[l].parent)&&n[l].parent["@id"]===a&&(delete n[l],o(l))};o(t)}/**
 * Removes the @preserve keywords from expanded result of framing.
 *
 * @param input the framed, framed output.
 * @param options the framing options used.
 *
 * @return the resulting output.
 */function zd(e,t){if(ke.isArray(e))return e.map(n=>zd(n,t));if(ke.isObject(e)){// remove @preserve
if("@preserve"in e)return e["@preserve"][0];if(ar.isValue(e))return e;if(ar.isList(e))return e["@list"]=zd(e["@list"],t),e;if("@id"in e){const n=e["@id"];if(t.link.hasOwnProperty(n)){const r=t.link[n].indexOf(e);if(r!==-1)return t.link[n][r];t.link[n].push(e)}else t.link[n]=[e]}for(const n in e){if(n==="@id"&&t.bnodesToClear.includes(e[n])){delete e["@id"];continue}e[n]=zd(e[n],t)}}return e}function Tu(e,t,n){ke.isObject(e)?Tt.addValue(e,t,n,{propertyIsArray:!0}):e.push(n)}function rS(e,t,n,r){if(!("@id"in n))return!1;const s=e.subjects[n["@id"]];return s&&g6(e,s,t,r)}function g1(e,t){const n=t["@value"],r=t["@type"],s=t["@language"],i=e["@value"]?ke.isArray(e["@value"])?e["@value"]:[e["@value"]]:[],u=e["@type"]?ke.isArray(e["@type"])?e["@type"]:[e["@type"]]:[],o=e["@language"]?ke.isArray(e["@language"])?e["@language"]:[e["@language"]]:[];return i.length===0&&u.length===0&&o.length===0?!0:!(!(i.includes(n)||ke.isEmptyObject(i[0]))||!(!r&&u.length===0||u.includes(r)||r&&ke.isEmptyObject(u[0]))||!(!s&&o.length===0||o.includes(s)||s&&ke.isEmptyObject(o[0])))}const qb=Or,{isArray:Ti,isObject:Bi,isString:m6,isUndefined:Bg}=Yn,{isList:m1,isValue:Zs,isGraph:y6,isSimpleGraph:sS,isSubjectReference:Ug}=vi,{expandIri:b6,getContextValue:hn,isKeyword:w6,process:qg,processingMode:nj}=Io,{removeBase:iS,prependBase:rj}=pu,{REGEX_KEYWORD:sj,addValue:Pn,asArray:hd,compareShortestLeast:ij}=Ir,ae={};var uj=ae;ae.compact=async({activeCtx:e,activeProperty:t=null,element:n,options:r={}})=>{if(Ti(n)){let i=[];for(let u=0;u<n.length;++u){const o=await ae.compact({activeCtx:e,activeProperty:t,element:n[u],options:r});o!==null&&i.push(o)}return r.compactArrays&&i.length===1&&(hn(e,t,"@container")||[]).length===0&&(i=i[0]),i}const s=hn(e,t,"@context");if(Bg(s)||(e=await qg({activeCtx:e,localCtx:s,propagate:!0,overrideProtected:!0,options:r})),Bi(n)){if(r.link&&"@id"in n&&r.link.hasOwnProperty(n["@id"])){const h=r.link[n["@id"]];for(let f=0;f<h.length;++f)if(h[f].expanded===n)return h[f].compacted}if(Zs(n)||Ug(n)){const h=ae.compactValue({activeCtx:e,activeProperty:t,value:n,options:r});return r.link&&Ug(n)&&(r.link.hasOwnProperty(n["@id"])||(r.link[n["@id"]]=[]),r.link[n["@id"]].push({expanded:n,compacted:h})),h}if(m1(n)&&(hn(e,t,"@container")||[]).includes("@list"))return ae.compact({activeCtx:e,activeProperty:t,element:n["@list"],options:r});const i=t==="@reverse",u={},o=e;!Zs(n)&&!Ug(n)&&(e=e.revertToPreviousContext());const a=hn(o,t,"@context");Bg(a)||(e=await qg({activeCtx:e,localCtx:a,propagate:!0,overrideProtected:!0,options:r})),r.link&&"@id"in n&&(r.link.hasOwnProperty(n["@id"])||(r.link[n["@id"]]=[]),r.link[n["@id"]].push({expanded:n,compacted:u}));let c=n["@type"]||[];c.length>1&&(c=Array.from(c).sort());const l=e;for(const h of c){const f=ae.compactIri({activeCtx:l,iri:h,relativeTo:{vocab:!0}}),g=hn(o,f,"@context");Bg(g)||(e=await qg({activeCtx:e,localCtx:g,options:r,propagate:!1}))}const d=Object.keys(n).sort();for(const h of d){const f=n[h];if(h==="@id"){let g=hd(f).map(y=>ae.compactIri({activeCtx:e,iri:y,relativeTo:{vocab:!1},base:r.base}));g.length===1&&(g=g[0]);const m=ae.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}});u[m]=g;continue}if(h==="@type"){let g=hd(f).map(v=>ae.compactIri({activeCtx:o,iri:v,relativeTo:{vocab:!0}}));g.length===1&&(g=g[0]);const m=ae.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}}),w=(hn(e,m,"@container")||[]).includes("@set")&&nj(e,1.1)||Ti(g)&&f.length===0;Pn(u,m,g,{propertyIsArray:w});continue}if(h==="@reverse"){const g=await ae.compact({activeCtx:e,activeProperty:"@reverse",element:f,options:r});for(const m in g)if(e.mappings.has(m)&&e.mappings.get(m).reverse){const y=g[m],w=(hn(e,m,"@container")||[]).includes("@set")||!r.compactArrays;Pn(u,m,y,{propertyIsArray:w}),delete g[m]}if(Object.keys(g).length>0){const m=ae.compactIri({activeCtx:e,iri:h,relativeTo:{vocab:!0}});Pn(u,m,g)}continue}if(h==="@preserve"){const g=await ae.compact({activeCtx:e,activeProperty:t,element:f,options:r});Ti(g)&&g.length===0||Pn(u,h,g);continue}if(h==="@index"){if((hn(e,t,"@container")||[]).includes("@index"))continue;const m=ae.compactIri({activeCtx:e,iri:h,relativeTo:{vocab:!0}});Pn(u,m,f);continue}if(h!=="@graph"&&h!=="@list"&&h!=="@included"&&w6(h)){const g=ae.compactIri({activeCtx:e,iri:h,relativeTo:{vocab:!0}});Pn(u,g,f);continue}if(!Ti(f))throw new qb("JSON-LD expansion error; expanded value must be an array.","jsonld.SyntaxError");if(f.length===0){const g=ae.compactIri({activeCtx:e,iri:h,value:f,relativeTo:{vocab:!0},reverse:i}),m=e.mappings.has(g)?e.mappings.get(g)["@nest"]:null;let y=u;m&&(uS(e,m,r),Bi(u[m])||(u[m]={}),y=u[m]),Pn(y,g,f,{propertyIsArray:!0})}for(const g of f){const m=ae.compactIri({activeCtx:e,iri:h,value:g,relativeTo:{vocab:!0},reverse:i}),y=e.mappings.has(m)?e.mappings.get(m)["@nest"]:null;let b=u;y&&(uS(e,y,r),Bi(u[y])||(u[y]={}),b=u[y]);const w=hn(e,m,"@container")||[],v=y6(g),x=m1(g);let A;x?A=g["@list"]:v&&(A=g["@graph"]);let T=await ae.compact({activeCtx:e,activeProperty:m,element:x||v?A:g,options:r});if(x)if(Ti(T)||(T=[T]),!w.includes("@list"))T={[ae.compactIri({activeCtx:e,iri:"@list",relativeTo:{vocab:!0}})]:T},"@index"in g&&(T[ae.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=g["@index"]);else{Pn(b,m,T,{valueIsArray:!0,allowDuplicate:!0});continue}if(v)if(w.includes("@graph")&&(w.includes("@id")||w.includes("@index")&&sS(g))){let V;b.hasOwnProperty(m)?V=b[m]:b[m]=V={};const W=(w.includes("@id")?g["@id"]:g["@index"])||ae.compactIri({activeCtx:e,iri:"@none",relativeTo:{vocab:!0}});Pn(V,W,T,{propertyIsArray:!r.compactArrays||w.includes("@set")})}else w.includes("@graph")&&sS(g)?(Ti(T)&&T.length>1&&(T={"@included":T}),Pn(b,m,T,{propertyIsArray:!r.compactArrays||w.includes("@set")})):(Ti(T)&&T.length===1&&r.compactArrays&&(T=T[0]),T={[ae.compactIri({activeCtx:e,iri:"@graph",relativeTo:{vocab:!0}})]:T},"@id"in g&&(T[ae.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}})]=g["@id"]),"@index"in g&&(T[ae.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=g["@index"]),Pn(b,m,T,{propertyIsArray:!r.compactArrays||w.includes("@set")}));else if(w.includes("@language")||w.includes("@index")||w.includes("@id")||w.includes("@type")){let V;b.hasOwnProperty(m)?V=b[m]:b[m]=V={};let W;if(w.includes("@language"))Zs(T)&&(T=T["@value"]),W=g["@language"];else if(w.includes("@index")){const te=hn(e,m,"@index")||"@index",_e=ae.compactIri({activeCtx:e,iri:te,relativeTo:{vocab:!0}});if(te==="@index")W=g["@index"],delete T[_e];else{let H;if([W,...H]=hd(T[te]||[]),!m6(W))W=null;else switch(H.length){case 0:delete T[te];break;case 1:T[te]=H[0];break;default:T[te]=H;break}}}else if(w.includes("@id")){const te=ae.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}});W=T[te],delete T[te]}else if(w.includes("@type")){const te=ae.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}});let _e;switch([W,..._e]=hd(T[te]||[]),_e.length){case 0:delete T[te];break;case 1:T[te]=_e[0];break;default:T[te]=_e;break}Object.keys(T).length===1&&"@id"in g&&(T=await ae.compact({activeCtx:e,activeProperty:m,element:{"@id":g["@id"]},options:r}))}W||(W=ae.compactIri({activeCtx:e,iri:"@none",relativeTo:{vocab:!0}})),Pn(V,W,T,{propertyIsArray:w.includes("@set")})}else{const V=!r.compactArrays||w.includes("@set")||w.includes("@list")||Ti(T)&&T.length===0||h==="@list"||h==="@graph";Pn(b,m,T,{propertyIsArray:V})}}}return u}return n};ae.compactIri=({activeCtx:e,iri:t,value:n=null,relativeTo:r={vocab:!1},reverse:s=!1,base:i=null})=>{if(t===null)return t;e.isPropertyTermScoped&&e.previousContext&&(e=e.previousContext);const u=e.getInverse();if(w6(t)&&t in u&&"@none"in u[t]&&"@type"in u[t]["@none"]&&"@none"in u[t]["@none"]["@type"])return u[t]["@none"]["@type"]["@none"];if(r.vocab&&t in u){const d=e["@language"]||"@none",h=[];Bi(n)&&"@index"in n&&!("@graph"in n)&&h.push("@index","@index@set"),Bi(n)&&"@preserve"in n&&(n=n["@preserve"][0]),y6(n)?("@index"in n&&h.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in n&&h.push("@graph@id","@graph@id@set"),h.push("@graph","@graph@set","@set"),"@index"in n||h.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in n||h.push("@graph@id","@graph@id@set")):Bi(n)&&!Zs(n)&&h.push("@id","@id@set","@type","@set@type");let f="@language",g="@null";if(s)f="@type",g="@reverse",h.push("@set");else if(m1(n)){"@index"in n||h.push("@list");const y=n["@list"];if(y.length===0)f="@any",g="@none";else{let b=y.length===0?d:null,w=null;for(let v=0;v<y.length;++v){const x=y[v];let A="@none",T="@none";if(Zs(x))if("@direction"in x){const V=(x["@language"]||"").toLowerCase(),W=x["@direction"];A=`${V}_${W}`}else"@language"in x?A=x["@language"].toLowerCase():"@type"in x?T=x["@type"]:A="@null";else T="@id";if(b===null?b=A:A!==b&&Zs(x)&&(b="@none"),w===null?w=T:T!==w&&(w="@none"),b==="@none"&&w==="@none")break}b=b||"@none",w=w||"@none",w!=="@none"?(f="@type",g=w):g=b}}else{if(Zs(n))if("@language"in n&&!("@index"in n)){h.push("@language","@language@set"),g=n["@language"];const y=n["@direction"];y&&(g=`${g}_${y}`)}else"@direction"in n&&!("@index"in n)?g=`_${n["@direction"]}`:"@type"in n&&(f="@type",g=n["@type"]);else f="@type",g="@id";h.push("@set")}h.push("@none"),Bi(n)&&!("@index"in n)&&h.push("@index","@index@set"),Zs(n)&&Object.keys(n).length===1&&h.push("@language","@language@set");const m=oj(e,t,n,h,f,g);if(m!==null)return m}if(r.vocab&&"@vocab"in e){const d=e["@vocab"];if(t.indexOf(d)===0&&t!==d){const h=t.substr(d.length);if(!e.mappings.has(h))return h}}let o=null;const a=[];let c=e.fastCurieMap;const l=t.length-1;for(let d=0;d<l&&t[d]in c;++d)c=c[t[d]],""in c&&a.push(c[""][0]);for(let d=a.length-1;d>=0;--d){const h=a[d],f=h.terms;for(const g of f){const m=g+":"+t.substr(h.iri.length);e.mappings.get(g)._prefix&&(!e.mappings.has(m)||n===null&&e.mappings.get(m)["@id"]===t)&&(o===null||ij(m,o)<0)&&(o=m)}}if(o!==null)return o;for(const[d,h]of e.mappings)if(h&&h._prefix&&t.startsWith(d+":"))throw new qb(`Absolute IRI "${t}" confused with prefix "${d}".`,"jsonld.SyntaxError",{code:"IRI confused with prefix",context:e});if(!r.vocab)if("@base"in e)if(e["@base"]){const d=iS(rj(i,e["@base"]),t);return sj.test(d)?`./${d}`:d}else return t;else return iS(i,t);return t};ae.compactValue=({activeCtx:e,activeProperty:t,value:n,options:r})=>{if(Zs(n)){const o=hn(e,t,"@type"),a=hn(e,t,"@language"),c=hn(e,t,"@direction"),l=hn(e,t,"@container")||[],d="@index"in n&&!l.includes("@index");if(!d&&o!=="@none"&&(n["@type"]===o||"@language"in n&&n["@language"]===a&&"@direction"in n&&n["@direction"]===c||"@language"in n&&n["@language"]===a||"@direction"in n&&n["@direction"]===c))return n["@value"];const h=Object.keys(n).length,f=h===1||h===2&&"@index"in n&&!d,g="@language"in e,m=m6(n["@value"]),y=e.mappings.has(t)&&e.mappings.get(t)["@language"]===null;if(f&&o!=="@none"&&(!g||!m||y))return n["@value"];const b={};return d&&(b[ae.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=n["@index"]),"@type"in n?b[ae.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}})]=ae.compactIri({activeCtx:e,iri:n["@type"],relativeTo:{vocab:!0}}):"@language"in n&&(b[ae.compactIri({activeCtx:e,iri:"@language",relativeTo:{vocab:!0}})]=n["@language"]),"@direction"in n&&(b[ae.compactIri({activeCtx:e,iri:"@direction",relativeTo:{vocab:!0}})]=n["@direction"]),b[ae.compactIri({activeCtx:e,iri:"@value",relativeTo:{vocab:!0}})]=n["@value"],b}const s=b6(e,t,{vocab:!0},r),i=hn(e,t,"@type"),u=ae.compactIri({activeCtx:e,iri:n["@id"],relativeTo:{vocab:i==="@vocab"},base:r.base});return i==="@id"||i==="@vocab"||s==="@graph"?u:{[ae.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}})]:u}};function oj(e,t,n,r,s,i){i===null&&(i="@null");const u=[];if((i==="@id"||i==="@reverse")&&Bi(n)&&"@id"in n){i==="@reverse"&&u.push("@reverse");const a=ae.compactIri({activeCtx:e,iri:n["@id"],relativeTo:{vocab:!0}});e.mappings.has(a)&&e.mappings.get(a)&&e.mappings.get(a)["@id"]===n["@id"]?u.push.apply(u,["@vocab","@id"]):u.push.apply(u,["@id","@vocab"])}else{u.push(i);const a=u.find(c=>c.includes("_"));a&&u.push(a.replace(/^[^_]+_/,"_"))}u.push("@none");const o=e.inverse[t];for(const a of r){if(!(a in o))continue;const c=o[a][s];for(const l of u)if(l in c)return c[l]}return null}function uS(e,t,n){if(b6(e,t,{vocab:!0},n)!=="@nest")throw new qb("JSON-LD compact error; nested property must have an @nest value resolving to @nest.","jsonld.SyntaxError",{code:"invalid @nest value"})}var Vg,oS;function aj(){return oS||(oS=1,Vg=e=>{class t{toString(){return"[object JsonLdProcessor]"}}return Object.defineProperty(t,"prototype",{writable:!1,enumerable:!1}),Object.defineProperty(t.prototype,"constructor",{writable:!0,enumerable:!1,configurable:!0,value:t}),t.compact=function(n,r){return arguments.length<2?Promise.reject(new TypeError("Could not compact, too few arguments.")):e.compact(n,r)},t.expand=function(n){return arguments.length<1?Promise.reject(new TypeError("Could not expand, too few arguments.")):e.expand(n)},t.flatten=function(n){return arguments.length<1?Promise.reject(new TypeError("Could not flatten, too few arguments.")):e.flatten(n)},t}),Vg}/**
 * A JavaScript implementation of the JSON-LD API.
 *
 * @author Dave Longley
 *
 * @license BSD 3-Clause License
 * Copyright (c) 2011-2022 Digital Bazaar, Inc.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * Redistributions of source code must retain the above copyright notice,
 * this list of conditions and the following disclaimer.
 *
 * Redistributions in binary form must reproduce the above copyright
 * notice, this list of conditions and the following disclaimer in the
 * documentation and/or other materials provided with the distribution.
 *
 * Neither the name of the Digital Bazaar, Inc. nor the names of its
 * contributors may be used to endorse or promote products derived from
 * this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
 * IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED
 * TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A
 * PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
 * TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
 * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */const aS=Fb,cS=W7,Ri=Ir,$s=oP,zg=Ri.IdentifierIssuer,is=Or,cj=t6,pd=cP,{expand:lj}=SP,{flatten:fj}=OP,{fromRDF:dj}=kP,{toRDF:hj}=JP,{frameMergedOrDefault:pj,cleanupNull:gj}=YP,{isArray:qo,isObject:Eu,isString:us}=Yn,{isSubjectReference:mj}=vi,{expandIri:yj,getInitialContext:gd,process:lS,processingMode:Hg}=Io,{compact:bj,compactIri:wj}=uj,{createNodeMap:xj,createMergedNodeMap:vj,mergeNodeMaps:Sj}=Fp,{logEventHandler:_j,logWarningEventHandler:Aj,safeEventHandler:Tj,setDefaultEventHandler:Ej,setupEventHandler:Oj,strictEventHandler:Ij,unhandledEventHandler:Nj}=Rf,x6=function(e){const t={},r=new cj({max:100});e.compact=async function(i,u,o){if(arguments.length<2)throw new TypeError("Could not compact, too few arguments.");if(u===null)throw new is("The compaction context must not be null.","jsonld.CompactError",{code:"invalid local context"});if(i===null)return null;o=s(o,{base:us(i)?i:"",compactArrays:!0,compactToRelative:!0,graph:!1,skipExpansion:!1,link:!1,issuer:new zg("_:b"),contextResolver:new $s({sharedCache:r})}),o.link&&(o.skipExpansion=!0),o.compactToRelative||delete o.base;let a;o.skipExpansion?a=i:a=await e.expand(i,o);const c=await e.processContext(gd(o),u,o);let l=await bj({activeCtx:c,element:a,options:o});o.compactArrays&&!o.graph&&qo(l)?l.length===1?l=l[0]:l.length===0&&(l={}):o.graph&&Eu(l)&&(l=[l]),Eu(u)&&"@context"in u&&(u=u["@context"]),u=Ri.clone(u),qo(u)||(u=[u]);const d=u;u=[];for(let f=0;f<d.length;++f)(!Eu(d[f])||Object.keys(d[f]).length>0)&&u.push(d[f]);const h=u.length>0;if(u.length===1&&(u=u[0]),qo(l)){const f=wj({activeCtx:c,iri:"@graph",relativeTo:{vocab:!0}}),g=l;l={},h&&(l["@context"]=u),l[f]=g}else if(Eu(l)&&h){const f=l;l={"@context":u};for(const g in f)l[g]=f[g]}return l},e.expand=async function(i,u){if(arguments.length<1)throw new TypeError("Could not expand, too few arguments.");u=s(u,{keepFreeFloatingNodes:!1,contextResolver:new $s({sharedCache:r})});const o={},a=[];if("expandContext"in u){const h=Ri.clone(u.expandContext);Eu(h)&&"@context"in h?o.expandContext=h:o.expandContext={"@context":h},a.push(o.expandContext)}let c;if(!us(i))o.input=Ri.clone(i);else{const h=await e.get(i,u);c=h.documentUrl,o.input=h.document,h.contextUrl&&(o.remoteContext={"@context":h.contextUrl},a.push(o.remoteContext))}"base"in u||(u.base=c||"");let l=gd(u);for(const h of a)l=await lS({activeCtx:l,localCtx:h,options:u});let d=await lj({activeCtx:l,element:o.input,options:u});return Eu(d)&&"@graph"in d&&Object.keys(d).length===1?d=d["@graph"]:d===null&&(d=[]),qo(d)||(d=[d]),d},e.flatten=async function(i,u,o){if(arguments.length<1)return new TypeError("Could not flatten, too few arguments.");typeof u=="function"?u=null:u=u||null,o=s(o,{base:us(i)?i:"",contextResolver:new $s({sharedCache:r})});const a=await e.expand(i,o),c=fj(a);return u===null?c:(o.graph=!0,o.skipExpansion=!0,await e.compact(c,u,o))},e.frame=async function(i,u,o){if(arguments.length<2)throw new TypeError("Could not frame, too few arguments.");if(o=s(o,{base:us(i)?i:"",embed:"@once",explicit:!1,requireAll:!1,omitDefault:!1,bnodesToClear:[],contextResolver:new $s({sharedCache:r})}),us(u)){const y=await e.get(u,o);if(u=y.document,y.contextUrl){let b=u["@context"];b?qo(b)?b.push(y.contextUrl):b=[b,y.contextUrl]:b=y.contextUrl,u["@context"]=b}}const a=u?u["@context"]||{}:{},c=await e.processContext(gd(o),a,o);o.hasOwnProperty("omitGraph")||(o.omitGraph=Hg(c,1.1)),o.hasOwnProperty("pruneBlankNodeIdentifiers")||(o.pruneBlankNodeIdentifiers=Hg(c,1.1));const l=await e.expand(i,o),d={...o};d.isFrame=!0,d.keepFreeFloatingNodes=!0;const h=await e.expand(u,d),f=Object.keys(u).map(y=>yj(c,y,{vocab:!0}));d.merged=!f.includes("@graph"),d.is11=Hg(c,1.1);const g=pj(l,h,d);d.graph=!o.omitGraph,d.skipExpansion=!0,d.link={},d.framing=!0;let m=await e.compact(g,a,d);return d.link={},m=gj(m,d),m},e.link=async function(i,u,o){const a={};return u&&(a["@context"]=u),a["@embed"]="@link",e.frame(i,a,o)},e.normalize=e.canonize=async function(i,u){if(arguments.length<1)throw new TypeError("Could not canonize, too few arguments.");if(u=s(u,{base:us(i)?i:null,algorithm:"URDNA2015",skipExpansion:!1,safe:!0,contextResolver:new $s({sharedCache:r})}),"inputFormat"in u){if(u.inputFormat!=="application/n-quads"&&u.inputFormat!=="application/nquads")throw new is("Unknown canonicalization input format.","jsonld.CanonizeError");const c=pd.parse(i);return aS.canonize(c,u)}const o={...u};delete o.format,o.produceGeneralizedRdf=!1;const a=await e.toRDF(i,o);return aS.canonize(a,u)},e.fromRDF=async function(i,u){if(arguments.length<1)throw new TypeError("Could not convert from RDF, too few arguments.");u=s(u,{format:us(i)?"application/n-quads":void 0});const{format:o}=u;let{rdfParser:a}=u;if(o){if(a=a||t[o],!a)throw new is("Unknown input format.","jsonld.UnknownFormat",{format:o})}else a=()=>i;const c=await a(i);return dj(c,u)},e.toRDF=async function(i,u){if(arguments.length<1)throw new TypeError("Could not convert to RDF, too few arguments.");u=s(u,{base:us(i)?i:"",skipExpansion:!1,contextResolver:new $s({sharedCache:r})});let o;u.skipExpansion?o=i:o=await e.expand(i,u);const a=hj(o,u);if(u.format){if(u.format==="application/n-quads"||u.format==="application/nquads")return pd.serialize(a);throw new is("Unknown output format.","jsonld.UnknownFormat",{format:u.format})}return a},e.createNodeMap=async function(i,u){if(arguments.length<1)throw new TypeError("Could not create node map, too few arguments.");u=s(u,{base:us(i)?i:"",contextResolver:new $s({sharedCache:r})});const o=await e.expand(i,u);return vj(o,u)},e.merge=async function(i,u,o){if(arguments.length<1)throw new TypeError("Could not merge, too few arguments.");if(!qo(i))throw new TypeError('Could not merge, "docs" must be an array.');typeof u=="function"?u=null:u=u||null,o=s(o,{contextResolver:new $s({sharedCache:r})});const a=await Promise.all(i.map(y=>{const b={...o};return e.expand(y,b)}));let c=!0;"mergeNodes"in o&&(c=o.mergeNodes);const l=o.issuer||new zg("_:b"),d={"@default":{}};for(let y=0;y<a.length;++y){const b=Ri.relabelBlankNodes(a[y],{issuer:new zg("_:b"+y+"-")}),w=c||y===0?d:{"@default":{}};if(xj(b,w,"@default",l),w!==d)for(const v in w){const x=w[v];if(!(v in d)){d[v]=x;continue}const A=d[v];for(const T in x)T in A||(A[T]=x[T])}}const h=Sj(d),f=[],g=Object.keys(h).sort();for(let y=0;y<g.length;++y){const b=h[g[y]];mj(b)||f.push(b)}return u===null?f:(o.graph=!0,o.skipExpansion=!0,await e.compact(f,u,o))},Object.defineProperty(e,"documentLoader",{get:()=>e._documentLoader,set:i=>e._documentLoader=i}),e.documentLoader=async i=>{throw new is("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",url:i})},e.get=async function(i,u){let o;typeof u.documentLoader=="function"?o=u.documentLoader:o=e.documentLoader;const a=await o(i);try{if(!a.document)throw new is("No remote document found at the given URL.","jsonld.NullRemoteDocument");us(a.document)&&(a.document=JSON.parse(a.document))}catch(c){throw new is("Could not retrieve a JSON-LD document from the URL.","jsonld.LoadDocumentError",{code:"loading document failed",cause:c,remoteDoc:a})}return a},e.processContext=async function(i,u,o){return o=s(o,{base:"",contextResolver:new $s({sharedCache:r})}),u===null?gd(o):(u=Ri.clone(u),Eu(u)&&"@context"in u||(u={"@context":u}),lS({activeCtx:i,localCtx:u,options:o}))},e.getContextValue=Io.getContextValue,e.documentLoaders={},e.useDocumentLoader=function(i){if(!(i in e.documentLoaders))throw new is('Unknown document loader type: "'+i+'"',"jsonld.UnknownDocumentLoader",{type:i});e.documentLoader=e.documentLoaders[i].apply(e,Array.prototype.slice.call(arguments,1))},e.registerRDFParser=function(i,u){t[i]=u},e.unregisterRDFParser=function(i){delete t[i]},e.registerRDFParser("application/n-quads",pd.parse),e.registerRDFParser("application/nquads",pd.parse),e.url=pu,e.logEventHandler=_j,e.logWarningEventHandler=Aj,e.safeEventHandler=Tj,e.setDefaultEventHandler=Ej,e.strictEventHandler=Ij,e.unhandledEventHandler=Nj,e.util=Ri,Object.assign(e,Ri),e.promises=e,e.RequestQueue=ZA(),e.JsonLdProcessor=aj()(e),cS.setupGlobals(e),cS.setupDocumentLoaders(e);function s(i,{documentLoader:u=e.documentLoader,...o}){if(i&&"compactionMap"in i)throw new is('"compactionMap" not supported.',"jsonld.OptionsError");if(i&&"expansionMap"in i)throw new is('"expansionMap" not supported.',"jsonld.OptionsError");return Object.assign({},{documentLoader:u},o,i,{eventHandler:Oj({options:i})})}return e},Vb=function(){return x6(function(){return Vb()})};x6(Vb);var Rj=Vb;const kj=l7(Rj),Cj=new RegExp("([\\p{Ll}\\d])(\\p{Lu})","gu"),Dj=new RegExp("(\\p{Lu})([\\p{Lu}][\\p{Ll}])","gu"),Mj=new RegExp("(\\d)\\p{Ll}|(\\p{L})\\d","u"),Pj=/[^\p{L}\d]+/giu,fS="$1\0$2",dS="";function v6(e){let t=e.trim();t=t.replace(Cj,fS).replace(Dj,fS),t=t.replace(Pj,"\0");let n=0,r=t.length;for(;t.charAt(n)==="\0";)n++;if(n===r)return[];for(;t.charAt(r-1)==="\0";)r--;return t.slice(n,r).split(/\0/g)}function jj(e){const t=v6(e);for(let n=0;n<t.length;n++){const r=t[n],s=Mj.exec(r);if(s){const i=s.index+(s[1]??s[2]).length;t.splice(n,1,r.slice(0,i),r.slice(i))}}return t}function Lj(e,t){const[n,r,s]=Bj(e,t);return n+r.map($j(t==null?void 0:t.locale)).join((t==null?void 0:t.delimiter)??" ")+s}function Fj(e,t){return Lj(e,{delimiter:"-",...t})}function $j(e){return e===!1?t=>t.toLowerCase():t=>t.toLocaleLowerCase(e)}function Bj(e,t={}){const n=t.split??(t.separateNumbers?jj:v6),r=t.prefixCharacters??dS,s=t.suffixCharacters??dS;let i=0,u=e.length;for(;i<e.length;){const o=e.charAt(i);if(!r.includes(o))break;i++}for(;u>i;){const o=u-1,a=e.charAt(o);if(!s.includes(a))break;u=o}return[e.slice(0,i),n(e.slice(i,u)),e.slice(u)]}var Yc={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.toSeconds=e.end=e.parse=e.pattern=void 0;var t="\\d+",n="".concat(t,"(?:[\\.,]").concat(t,")?"),r="(".concat(t,"Y)?(").concat(t,"M)?(").concat(t,"W)?(").concat(t,"D)?"),s="T(".concat(n,"H)?(").concat(n,"M)?(").concat(n,"S)?"),i="P(?:".concat(r,"(?:").concat(s,")?)"),u=["years","months","weeks","days","hours","minutes","seconds"],o=Object.freeze({years:0,months:0,weeks:0,days:0,hours:0,minutes:0,seconds:0});e.pattern=new RegExp(i);var a=function(d){var h=d.replace(/,/g,".").match(e.pattern);if(!h)throw new RangeError("invalid duration: ".concat(d));var f=h.slice(1);if(f.filter(function(g){return g!=null}).length===0)throw new RangeError("invalid duration: ".concat(d));if(f.filter(function(g){return/\./.test(g||"")}).length>1)throw new RangeError("only the smallest unit can be fractional");return f.reduce(function(g,m,y){return g[u[y]]=parseFloat(m||"0")||0,g},{})};e.parse=a;var c=function(d,h){h===void 0&&(h=new Date);var f=Object.assign({},o,d),g=h.getTime(),m=new Date(g);m.setFullYear(m.getFullYear()+f.years),m.setMonth(m.getMonth()+f.months),m.setDate(m.getDate()+f.days);var y=f.hours*3600*1e3,b=f.minutes*60*1e3;return m.setMilliseconds(m.getMilliseconds()+f.seconds*1e3+y+b),m.setDate(m.getDate()+f.weeks*7),m};e.end=c;var l=function(d,h){h===void 0&&(h=new Date);var f=Object.assign({},o,d),g=h.getTime(),m=new Date(g),y=(0,e.end)(f,m),b=h.getTimezoneOffset(),w=y.getTimezoneOffset(),v=(b-w)*60,x=(y.getTime()-m.getTime())/1e3;return x+v};e.toSeconds=l,e.default={end:e.end,toSeconds:e.toSeconds,pattern:e.pattern,parse:e.parse}})(Yc);const wh=Symbol("changed"),Jo=Symbol("classList"),$r=Symbol("CustomElements"),md=Symbol("content"),Gg=Symbol("dataset"),Ou=Symbol("doctype"),y1=Symbol("DOMParser"),Z=Symbol("end"),jc=Symbol("EventTarget"),Hd=Symbol("globals"),Br=Symbol("image"),fc=Symbol("mime"),Ui=Symbol("MutationObserver"),F=Symbol("next"),S6=Symbol("ownerElement"),Et=Symbol("prev"),Xt=Symbol("private"),Vo=Symbol("sheet"),An=Symbol("start"),Jg=Symbol("style"),hl=Symbol("upgrade"),Re=Symbol("value");var _6=new Uint16Array('ᵁ<Õıʊҝջאٵ۞ޢߖࠏ੊ઑඡ๭༉༦჊ረዡᐕᒝᓃᓟᔥ\0\0\0\0\0\0ᕫᛍᦍᰒᷝ὾⁠↰⊍⏀⏻⑂⠤⤒ⴈ⹈⿎〖㊺㘹㞬㣾㨨㩱㫠㬮ࠀEMabcfglmnoprstu\\bfms¦³¹ÈÏlig耻Æ䃆P耻&䀦cute耻Á䃁reve;䄂Āiyx}rc耻Â䃂;䐐r;쀀𝔄rave耻À䃀pha;䎑acr;䄀d;橓Āgp¡on;䄄f;쀀𝔸plyFunction;恡ing耻Å䃅Ācs¾Ãr;쀀𝒜ign;扔ilde耻Ã䃃ml耻Ä䃄ЀaceforsuåûþėĜĢħĪĀcrêòkslash;或Ŷöø;櫧ed;挆y;䐑ƀcrtąċĔause;戵noullis;愬a;䎒r;쀀𝔅pf;쀀𝔹eve;䋘còēmpeq;扎܀HOacdefhilorsuōőŖƀƞƢƵƷƺǜȕɳɸɾcy;䐧PY耻©䂩ƀcpyŝŢźute;䄆Ā;iŧŨ拒talDifferentialD;慅leys;愭ȀaeioƉƎƔƘron;䄌dil耻Ç䃇rc;䄈nint;戰ot;䄊ĀdnƧƭilla;䂸terDot;䂷òſi;䎧rcleȀDMPTǇǋǑǖot;抙inus;抖lus;投imes;抗oĀcsǢǸkwiseContourIntegral;戲eCurlyĀDQȃȏoubleQuote;思uote;怙ȀlnpuȞȨɇɕonĀ;eȥȦ户;橴ƀgitȯȶȺruent;扡nt;戯ourIntegral;戮ĀfrɌɎ;愂oduct;成nterClockwiseContourIntegral;戳oss;樯cr;쀀𝒞pĀ;Cʄʅ拓ap;才րDJSZacefiosʠʬʰʴʸˋ˗ˡ˦̳ҍĀ;oŹʥtrahd;椑cy;䐂cy;䐅cy;䐏ƀgrsʿ˄ˇger;怡r;憡hv;櫤Āayː˕ron;䄎;䐔lĀ;t˝˞戇a;䎔r;쀀𝔇Āaf˫̧Ācm˰̢riticalȀADGT̖̜̀̆cute;䂴oŴ̋̍;䋙bleAcute;䋝rave;䁠ilde;䋜ond;拄ferentialD;慆Ѱ̽\0\0\0͔͂\0Ѕf;쀀𝔻ƀ;DE͈͉͍䂨ot;惜qual;扐blèCDLRUVͣͲ΂ϏϢϸontourIntegraìȹoɴ͹\0\0ͻ»͉nArrow;懓Āeo·ΤftƀARTΐΖΡrrow;懐ightArrow;懔eåˊngĀLRΫτeftĀARγιrrow;柸ightArrow;柺ightArrow;柹ightĀATϘϞrrow;懒ee;抨pɁϩ\0\0ϯrrow;懑ownArrow;懕erticalBar;戥ǹABLRTaВЪаўѿͼrrowƀ;BUНОТ憓ar;椓pArrow;懵reve;䌑eft˒к\0ц\0ѐightVector;楐eeVector;楞ectorĀ;Bљњ憽ar;楖ightǔѧ\0ѱeeVector;楟ectorĀ;BѺѻ懁ar;楗eeĀ;A҆҇护rrow;憧ĀctҒҗr;쀀𝒟rok;䄐ࠀNTacdfglmopqstuxҽӀӄӋӞӢӧӮӵԡԯԶՒ՝ՠեG;䅊H耻Ð䃐cute耻É䃉ƀaiyӒӗӜron;䄚rc耻Ê䃊;䐭ot;䄖r;쀀𝔈rave耻È䃈ement;戈ĀapӺӾcr;䄒tyɓԆ\0\0ԒmallSquare;旻erySmallSquare;斫ĀgpԦԪon;䄘f;쀀𝔼silon;䎕uĀaiԼՉlĀ;TՂՃ橵ilde;扂librium;懌Āci՗՚r;愰m;橳a;䎗ml耻Ë䃋Āipժկsts;戃onentialE;慇ʀcfiosօֈ֍ֲ׌y;䐤r;쀀𝔉lledɓ֗\0\0֣mallSquare;旼erySmallSquare;斪Ͱֺ\0ֿ\0\0ׄf;쀀𝔽All;戀riertrf;愱cò׋؀JTabcdfgorstר׬ׯ׺؀ؒؖ؛؝أ٬ٲcy;䐃耻>䀾mmaĀ;d׷׸䎓;䏜reve;䄞ƀeiy؇،ؐdil;䄢rc;䄜;䐓ot;䄠r;쀀𝔊;拙pf;쀀𝔾eater̀EFGLSTصلَٖٛ٦qualĀ;Lؾؿ扥ess;招ullEqual;执reater;檢ess;扷lantEqual;橾ilde;扳cr;쀀𝒢;扫ЀAacfiosuڅڋږڛڞڪھۊRDcy;䐪Āctڐڔek;䋇;䁞irc;䄤r;愌lbertSpace;愋ǰگ\0ڲf;愍izontalLine;攀Āctۃۅòکrok;䄦mpńېۘownHumðįqual;扏܀EJOacdfgmnostuۺ۾܃܇܎ܚܞܡܨ݄ݸދޏޕcy;䐕lig;䄲cy;䐁cute耻Í䃍Āiyܓܘrc耻Î䃎;䐘ot;䄰r;愑rave耻Ì䃌ƀ;apܠܯܿĀcgܴܷr;䄪inaryI;慈lieóϝǴ݉\0ݢĀ;eݍݎ戬Āgrݓݘral;戫section;拂isibleĀCTݬݲomma;恣imes;恢ƀgptݿރވon;䄮f;쀀𝕀a;䎙cr;愐ilde;䄨ǫޚ\0ޞcy;䐆l耻Ï䃏ʀcfosuެ޷޼߂ߐĀiyޱ޵rc;䄴;䐙r;쀀𝔍pf;쀀𝕁ǣ߇\0ߌr;쀀𝒥rcy;䐈kcy;䐄΀HJacfosߤߨ߽߬߱ࠂࠈcy;䐥cy;䐌ppa;䎚Āey߶߻dil;䄶;䐚r;쀀𝔎pf;쀀𝕂cr;쀀𝒦րJTaceflmostࠥࠩࠬࡐࡣ঳সে্਷ੇcy;䐉耻<䀼ʀcmnpr࠷࠼ࡁࡄࡍute;䄹bda;䎛g;柪lacetrf;愒r;憞ƀaeyࡗ࡜ࡡron;䄽dil;䄻;䐛Āfsࡨ॰tԀACDFRTUVarࡾࢩࢱࣦ࣠ࣼयज़ΐ४Ānrࢃ࢏gleBracket;柨rowƀ;BR࢙࢚࢞憐ar;懤ightArrow;懆eiling;挈oǵࢷ\0ࣃbleBracket;柦nǔࣈ\0࣒eeVector;楡ectorĀ;Bࣛࣜ懃ar;楙loor;挊ightĀAV࣯ࣵrrow;憔ector;楎Āerँगeƀ;AVउऊऐ抣rrow;憤ector;楚iangleƀ;BEतथऩ抲ar;槏qual;抴pƀDTVषूौownVector;楑eeVector;楠ectorĀ;Bॖॗ憿ar;楘ectorĀ;B॥०憼ar;楒ightáΜs̀EFGLSTॾঋকঝঢভqualGreater;拚ullEqual;扦reater;扶ess;檡lantEqual;橽ilde;扲r;쀀𝔏Ā;eঽা拘ftarrow;懚idot;䄿ƀnpw৔ਖਛgȀLRlr৞৷ਂਐeftĀAR০৬rrow;柵ightArrow;柷ightArrow;柶eftĀarγਊightáοightáϊf;쀀𝕃erĀLRਢਬeftArrow;憙ightArrow;憘ƀchtਾੀੂòࡌ;憰rok;䅁;扪Ѐacefiosuਗ਼੝੠੷੼અઋ઎p;椅y;䐜Ādl੥੯iumSpace;恟lintrf;愳r;쀀𝔐nusPlus;戓pf;쀀𝕄cò੶;䎜ҀJacefostuણધભીଔଙඑ඗ඞcy;䐊cute;䅃ƀaey઴હાron;䅇dil;䅅;䐝ƀgswે૰଎ativeƀMTV૓૟૨ediumSpace;怋hiĀcn૦૘ë૙eryThiî૙tedĀGL૸ଆreaterGreateòٳessLesóੈLine;䀊r;쀀𝔑ȀBnptଢନଷ଺reak;恠BreakingSpace;䂠f;愕ڀ;CDEGHLNPRSTV୕ୖ୪୼஡௫ఄ౞಄ದ೘ൡඅ櫬Āou୛୤ngruent;扢pCap;扭oubleVerticalBar;戦ƀlqxஃஊ஛ement;戉ualĀ;Tஒஓ扠ilde;쀀≂̸ists;戄reater΀;EFGLSTஶஷ஽௉௓௘௥扯qual;扱ullEqual;쀀≧̸reater;쀀≫̸ess;批lantEqual;쀀⩾̸ilde;扵umpń௲௽ownHump;쀀≎̸qual;쀀≏̸eĀfsఊధtTriangleƀ;BEచఛడ拪ar;쀀⧏̸qual;括s̀;EGLSTవశ఼ౄోౘ扮qual;扰reater;扸ess;쀀≪̸lantEqual;쀀⩽̸ilde;扴estedĀGL౨౹reaterGreater;쀀⪢̸essLess;쀀⪡̸recedesƀ;ESಒಓಛ技qual;쀀⪯̸lantEqual;拠ĀeiಫಹverseElement;戌ghtTriangleƀ;BEೋೌ೒拫ar;쀀⧐̸qual;拭ĀquೝഌuareSuĀbp೨೹setĀ;E೰ೳ쀀⊏̸qual;拢ersetĀ;Eഃആ쀀⊐̸qual;拣ƀbcpഓതൎsetĀ;Eഛഞ쀀⊂⃒qual;抈ceedsȀ;ESTലള഻െ抁qual;쀀⪰̸lantEqual;拡ilde;쀀≿̸ersetĀ;E൘൛쀀⊃⃒qual;抉ildeȀ;EFT൮൯൵ൿ扁qual;扄ullEqual;扇ilde;扉erticalBar;戤cr;쀀𝒩ilde耻Ñ䃑;䎝܀Eacdfgmoprstuvලෂ෉෕ෛ෠෧෼ขภยา฿ไlig;䅒cute耻Ó䃓Āiy෎ීrc耻Ô䃔;䐞blac;䅐r;쀀𝔒rave耻Ò䃒ƀaei෮ෲ෶cr;䅌ga;䎩cron;䎟pf;쀀𝕆enCurlyĀDQฎบoubleQuote;怜uote;怘;橔Āclวฬr;쀀𝒪ash耻Ø䃘iŬื฼de耻Õ䃕es;樷ml耻Ö䃖erĀBP๋๠Āar๐๓r;怾acĀek๚๜;揞et;掴arenthesis;揜Ҁacfhilors๿ງຊຏຒດຝະ໼rtialD;戂y;䐟r;쀀𝔓i;䎦;䎠usMinus;䂱Āipຢອncareplanåڝf;愙Ȁ;eio຺ູ໠໤檻cedesȀ;EST່້໏໚扺qual;檯lantEqual;扼ilde;找me;怳Ādp໩໮uct;戏ortionĀ;aȥ໹l;戝Āci༁༆r;쀀𝒫;䎨ȀUfos༑༖༛༟OT耻"䀢r;쀀𝔔pf;愚cr;쀀𝒬؀BEacefhiorsu༾གྷཇའཱིྦྷྪྭ႖ႩႴႾarr;椐G耻®䂮ƀcnrཎནབute;䅔g;柫rĀ;tཛྷཝ憠l;椖ƀaeyཧཬཱron;䅘dil;䅖;䐠Ā;vླྀཹ愜erseĀEUྂྙĀlq྇ྎement;戋uilibrium;懋pEquilibrium;楯r»ཹo;䎡ghtЀACDFTUVa࿁࿫࿳ဢဨၛႇϘĀnr࿆࿒gleBracket;柩rowƀ;BL࿜࿝࿡憒ar;懥eftArrow;懄eiling;按oǵ࿹\0စbleBracket;柧nǔည\0နeeVector;楝ectorĀ;Bဝသ懂ar;楕loor;挋Āerိ၃eƀ;AVဵံြ抢rrow;憦ector;楛iangleƀ;BEၐၑၕ抳ar;槐qual;抵pƀDTVၣၮၸownVector;楏eeVector;楜ectorĀ;Bႂႃ憾ar;楔ectorĀ;B႑႒懀ar;楓Āpuႛ႞f;愝ndImplies;楰ightarrow;懛ĀchႹႼr;愛;憱leDelayed;槴ڀHOacfhimoqstuფჱჷჽᄙᄞᅑᅖᅡᅧᆵᆻᆿĀCcჩხHcy;䐩y;䐨FTcy;䐬cute;䅚ʀ;aeiyᄈᄉᄎᄓᄗ檼ron;䅠dil;䅞rc;䅜;䐡r;쀀𝔖ortȀDLRUᄪᄴᄾᅉownArrow»ОeftArrow»࢚ightArrow»࿝pArrow;憑gma;䎣allCircle;战pf;쀀𝕊ɲᅭ\0\0ᅰt;戚areȀ;ISUᅻᅼᆉᆯ斡ntersection;抓uĀbpᆏᆞsetĀ;Eᆗᆘ抏qual;抑ersetĀ;Eᆨᆩ抐qual;抒nion;抔cr;쀀𝒮ar;拆ȀbcmpᇈᇛሉላĀ;sᇍᇎ拐etĀ;Eᇍᇕqual;抆ĀchᇠህeedsȀ;ESTᇭᇮᇴᇿ扻qual;檰lantEqual;扽ilde;承Tháྌ;我ƀ;esሒሓሣ拑rsetĀ;Eሜም抃qual;抇et»ሓրHRSacfhiorsሾቄ቉ቕ቞ቱቶኟዂወዑORN耻Þ䃞ADE;愢ĀHc቎ቒcy;䐋y;䐦Ābuቚቜ;䀉;䎤ƀaeyብቪቯron;䅤dil;䅢;䐢r;쀀𝔗Āeiቻ኉ǲኀ\0ኇefore;戴a;䎘Ācn኎ኘkSpace;쀀  Space;怉ldeȀ;EFTካኬኲኼ戼qual;扃ullEqual;扅ilde;扈pf;쀀𝕋ipleDot;惛Āctዖዛr;쀀𝒯rok;䅦ૡዷጎጚጦ\0ጬጱ\0\0\0\0\0ጸጽ፷ᎅ\0᏿ᐄᐊᐐĀcrዻጁute耻Ú䃚rĀ;oጇገ憟cir;楉rǣጓ\0጖y;䐎ve;䅬Āiyጞጣrc耻Û䃛;䐣blac;䅰r;쀀𝔘rave耻Ù䃙acr;䅪Ādiፁ፩erĀBPፈ፝Āarፍፐr;䁟acĀekፗፙ;揟et;掵arenthesis;揝onĀ;P፰፱拃lus;抎Āgp፻፿on;䅲f;쀀𝕌ЀADETadps᎕ᎮᎸᏄϨᏒᏗᏳrrowƀ;BDᅐᎠᎤar;椒ownArrow;懅ownArrow;憕quilibrium;楮eeĀ;AᏋᏌ报rrow;憥ownáϳerĀLRᏞᏨeftArrow;憖ightArrow;憗iĀ;lᏹᏺ䏒on;䎥ing;䅮cr;쀀𝒰ilde;䅨ml耻Ü䃜ҀDbcdefosvᐧᐬᐰᐳᐾᒅᒊᒐᒖash;披ar;櫫y;䐒ashĀ;lᐻᐼ抩;櫦Āerᑃᑅ;拁ƀbtyᑌᑐᑺar;怖Ā;iᑏᑕcalȀBLSTᑡᑥᑪᑴar;戣ine;䁼eparator;杘ilde;所ThinSpace;怊r;쀀𝔙pf;쀀𝕍cr;쀀𝒱dash;抪ʀcefosᒧᒬᒱᒶᒼirc;䅴dge;拀r;쀀𝔚pf;쀀𝕎cr;쀀𝒲Ȁfiosᓋᓐᓒᓘr;쀀𝔛;䎞pf;쀀𝕏cr;쀀𝒳ҀAIUacfosuᓱᓵᓹᓽᔄᔏᔔᔚᔠcy;䐯cy;䐇cy;䐮cute耻Ý䃝Āiyᔉᔍrc;䅶;䐫r;쀀𝔜pf;쀀𝕐cr;쀀𝒴ml;䅸ЀHacdefosᔵᔹᔿᕋᕏᕝᕠᕤcy;䐖cute;䅹Āayᕄᕉron;䅽;䐗ot;䅻ǲᕔ\0ᕛoWidtè૙a;䎖r;愨pf;愤cr;쀀𝒵௡ᖃᖊᖐ\0ᖰᖶᖿ\0\0\0\0ᗆᗛᗫᙟ᙭\0ᚕ᚛ᚲᚹ\0ᚾcute耻á䃡reve;䄃̀;Ediuyᖜᖝᖡᖣᖨᖭ戾;쀀∾̳;房rc耻â䃢te肻´̆;䐰lig耻æ䃦Ā;r²ᖺ;쀀𝔞rave耻à䃠ĀepᗊᗖĀfpᗏᗔsym;愵èᗓha;䎱ĀapᗟcĀclᗤᗧr;䄁g;樿ɤᗰ\0\0ᘊʀ;adsvᗺᗻᗿᘁᘇ戧nd;橕;橜lope;橘;橚΀;elmrszᘘᘙᘛᘞᘿᙏᙙ戠;榤e»ᘙsdĀ;aᘥᘦ戡ѡᘰᘲᘴᘶᘸᘺᘼᘾ;榨;榩;榪;榫;榬;榭;榮;榯tĀ;vᙅᙆ戟bĀ;dᙌᙍ抾;榝Āptᙔᙗh;戢»¹arr;捼Āgpᙣᙧon;䄅f;쀀𝕒΀;Eaeiop዁ᙻᙽᚂᚄᚇᚊ;橰cir;橯;扊d;手s;䀧roxĀ;e዁ᚒñᚃing耻å䃥ƀctyᚡᚦᚨr;쀀𝒶;䀪mpĀ;e዁ᚯñʈilde耻ã䃣ml耻ä䃤Āciᛂᛈoninôɲnt;樑ࠀNabcdefiklnoprsu᛭ᛱᜰ᜼ᝃᝈ᝸᝽០៦ᠹᡐᜍ᤽᥈ᥰot;櫭Ācrᛶ᜞kȀcepsᜀᜅᜍᜓong;扌psilon;䏶rime;怵imĀ;e᜚᜛戽q;拍Ŷᜢᜦee;抽edĀ;gᜬᜭ挅e»ᜭrkĀ;t፜᜷brk;掶Āoyᜁᝁ;䐱quo;怞ʀcmprtᝓ᝛ᝡᝤᝨausĀ;eĊĉptyv;榰séᜌnoõēƀahwᝯ᝱ᝳ;䎲;愶een;扬r;쀀𝔟g΀costuvwឍឝឳេ៕៛៞ƀaiuបពរðݠrc;旯p»፱ƀdptឤឨឭot;樀lus;樁imes;樂ɱឹ\0\0ើcup;樆ar;昅riangleĀdu៍្own;施p;斳plus;樄eåᑄåᒭarow;植ƀako៭ᠦᠵĀcn៲ᠣkƀlst៺֫᠂ozenge;槫riangleȀ;dlr᠒᠓᠘᠝斴own;斾eft;旂ight;斸k;搣Ʊᠫ\0ᠳƲᠯ\0ᠱ;斒;斑4;斓ck;斈ĀeoᠾᡍĀ;qᡃᡆ쀀=⃥uiv;쀀≡⃥t;挐Ȁptwxᡙᡞᡧᡬf;쀀𝕓Ā;tᏋᡣom»Ꮜtie;拈؀DHUVbdhmptuvᢅᢖᢪᢻᣗᣛᣬ᣿ᤅᤊᤐᤡȀLRlrᢎᢐᢒᢔ;敗;敔;敖;敓ʀ;DUduᢡᢢᢤᢦᢨ敐;敦;敩;敤;敧ȀLRlrᢳᢵᢷᢹ;敝;敚;敜;教΀;HLRhlrᣊᣋᣍᣏᣑᣓᣕ救;敬;散;敠;敫;敢;敟ox;槉ȀLRlrᣤᣦᣨᣪ;敕;敒;攐;攌ʀ;DUduڽ᣷᣹᣻᣽;敥;敨;攬;攴inus;抟lus;択imes;抠ȀLRlrᤙᤛᤝ᤟;敛;敘;攘;攔΀;HLRhlrᤰᤱᤳᤵᤷ᤻᤹攂;敪;敡;敞;攼;攤;攜Āevģ᥂bar耻¦䂦Ȁceioᥑᥖᥚᥠr;쀀𝒷mi;恏mĀ;e᜚᜜lƀ;bhᥨᥩᥫ䁜;槅sub;柈Ŭᥴ᥾lĀ;e᥹᥺怢t»᥺pƀ;Eeįᦅᦇ;檮Ā;qۜۛೡᦧ\0᧨ᨑᨕᨲ\0ᨷᩐ\0\0᪴\0\0᫁\0\0ᬡᬮ᭍᭒\0᯽\0ᰌƀcpr᦭ᦲ᧝ute;䄇̀;abcdsᦿᧀᧄ᧊᧕᧙戩nd;橄rcup;橉Āau᧏᧒p;橋p;橇ot;橀;쀀∩︀Āeo᧢᧥t;恁îړȀaeiu᧰᧻ᨁᨅǰ᧵\0᧸s;橍on;䄍dil耻ç䃧rc;䄉psĀ;sᨌᨍ橌m;橐ot;䄋ƀdmnᨛᨠᨦil肻¸ƭptyv;榲t脀¢;eᨭᨮ䂢räƲr;쀀𝔠ƀceiᨽᩀᩍy;䑇ckĀ;mᩇᩈ朓ark»ᩈ;䏇r΀;Ecefms᩟᩠ᩢᩫ᪤᪪᪮旋;槃ƀ;elᩩᩪᩭ䋆q;扗eɡᩴ\0\0᪈rrowĀlr᩼᪁eft;憺ight;憻ʀRSacd᪒᪔᪖᪚᪟»ཇ;擈st;抛irc;抚ash;抝nint;樐id;櫯cir;槂ubsĀ;u᪻᪼晣it»᪼ˬ᫇᫔᫺\0ᬊonĀ;eᫍᫎ䀺Ā;qÇÆɭ᫙\0\0᫢aĀ;t᫞᫟䀬;䁀ƀ;fl᫨᫩᫫戁îᅠeĀmx᫱᫶ent»᫩eóɍǧ᫾\0ᬇĀ;dኻᬂot;橭nôɆƀfryᬐᬔᬗ;쀀𝕔oäɔ脀©;sŕᬝr;愗Āaoᬥᬩrr;憵ss;朗Ācuᬲᬷr;쀀𝒸Ābpᬼ᭄Ā;eᭁᭂ櫏;櫑Ā;eᭉᭊ櫐;櫒dot;拯΀delprvw᭠᭬᭷ᮂᮬᯔ᯹arrĀlr᭨᭪;椸;椵ɰ᭲\0\0᭵r;拞c;拟arrĀ;p᭿ᮀ憶;椽̀;bcdosᮏᮐᮖᮡᮥᮨ截rcap;橈Āauᮛᮞp;橆p;橊ot;抍r;橅;쀀∪︀Ȁalrv᮵ᮿᯞᯣrrĀ;mᮼᮽ憷;椼yƀevwᯇᯔᯘqɰᯎ\0\0ᯒreã᭳uã᭵ee;拎edge;拏en耻¤䂤earrowĀlrᯮ᯳eft»ᮀight»ᮽeäᯝĀciᰁᰇoninôǷnt;戱lcty;挭ঀAHabcdefhijlorstuwz᰸᰻᰿ᱝᱩᱵᲊᲞᲬᲷ᳻᳿ᴍᵻᶑᶫᶻ᷆᷍rò΁ar;楥Ȁglrs᱈ᱍ᱒᱔ger;怠eth;愸òᄳhĀ;vᱚᱛ怐»ऊūᱡᱧarow;椏aã̕Āayᱮᱳron;䄏;䐴ƀ;ao̲ᱼᲄĀgrʿᲁr;懊tseq;橷ƀglmᲑᲔᲘ耻°䂰ta;䎴ptyv;榱ĀirᲣᲨsht;楿;쀀𝔡arĀlrᲳᲵ»ࣜ»သʀaegsv᳂͸᳖᳜᳠mƀ;oș᳊᳔ndĀ;ș᳑uit;晦amma;䏝in;拲ƀ;io᳧᳨᳸䃷de脀÷;o᳧ᳰntimes;拇nø᳷cy;䑒cɯᴆ\0\0ᴊrn;挞op;挍ʀlptuwᴘᴝᴢᵉᵕlar;䀤f;쀀𝕕ʀ;emps̋ᴭᴷᴽᵂqĀ;d͒ᴳot;扑inus;戸lus;戔quare;抡blebarwedgåúnƀadhᄮᵝᵧownarrowóᲃarpoonĀlrᵲᵶefôᲴighôᲶŢᵿᶅkaro÷གɯᶊ\0\0ᶎrn;挟op;挌ƀcotᶘᶣᶦĀryᶝᶡ;쀀𝒹;䑕l;槶rok;䄑Ādrᶰᶴot;拱iĀ;fᶺ᠖斿Āah᷀᷃ròЩaòྦangle;榦Āci᷒ᷕy;䑟grarr;柿ऀDacdefglmnopqrstuxḁḉḙḸոḼṉṡṾấắẽỡἪἷὄ὎὚ĀDoḆᴴoôᲉĀcsḎḔute耻é䃩ter;橮ȀaioyḢḧḱḶron;䄛rĀ;cḭḮ扖耻ê䃪lon;払;䑍ot;䄗ĀDrṁṅot;扒;쀀𝔢ƀ;rsṐṑṗ檚ave耻è䃨Ā;dṜṝ檖ot;檘Ȁ;ilsṪṫṲṴ檙nters;揧;愓Ā;dṹṺ檕ot;檗ƀapsẅẉẗcr;䄓tyƀ;svẒẓẕ戅et»ẓpĀ1;ẝẤĳạả;怄;怅怃ĀgsẪẬ;䅋p;怂ĀgpẴẸon;䄙f;쀀𝕖ƀalsỄỎỒrĀ;sỊị拕l;槣us;橱iƀ;lvỚớở䎵on»ớ;䏵ȀcsuvỪỳἋἣĀioữḱrc»Ḯɩỹ\0\0ỻíՈantĀglἂἆtr»ṝess»Ṻƀaeiἒ἖Ἒls;䀽st;扟vĀ;DȵἠD;橸parsl;槥ĀDaἯἳot;打rr;楱ƀcdiἾὁỸr;愯oô͒ĀahὉὋ;䎷耻ð䃰Āmrὓὗl耻ë䃫o;悬ƀcipὡὤὧl;䀡sôծĀeoὬὴctatioîՙnentialåչৡᾒ\0ᾞ\0ᾡᾧ\0\0ῆῌ\0ΐ\0ῦῪ \0 ⁚llingdotseñṄy;䑄male;晀ƀilrᾭᾳ῁lig;耀ﬃɩᾹ\0\0᾽g;耀ﬀig;耀ﬄ;쀀𝔣lig;耀ﬁlig;쀀fjƀaltῙ῜ῡt;晭ig;耀ﬂns;斱of;䆒ǰ΅\0ῳf;쀀𝕗ĀakֿῷĀ;vῼ´拔;櫙artint;樍Āao‌⁕Ācs‑⁒α‚‰‸⁅⁈\0⁐β•‥‧‪‬\0‮耻½䂽;慓耻¼䂼;慕;慙;慛Ƴ‴\0‶;慔;慖ʴ‾⁁\0\0⁃耻¾䂾;慗;慜5;慘ƶ⁌\0⁎;慚;慝8;慞l;恄wn;挢cr;쀀𝒻ࢀEabcdefgijlnorstv₂₉₟₥₰₴⃰⃵⃺⃿℃ℒℸ̗ℾ⅒↞Ā;lٍ₇;檌ƀcmpₐₕ₝ute;䇵maĀ;dₜ᳚䎳;檆reve;䄟Āiy₪₮rc;䄝;䐳ot;䄡Ȁ;lqsؾق₽⃉ƀ;qsؾٌ⃄lanô٥Ȁ;cdl٥⃒⃥⃕c;檩otĀ;o⃜⃝檀Ā;l⃢⃣檂;檄Ā;e⃪⃭쀀⋛︀s;檔r;쀀𝔤Ā;gٳ؛mel;愷cy;䑓Ȁ;Eajٚℌℎℐ;檒;檥;檤ȀEaesℛℝ℩ℴ;扩pĀ;p℣ℤ檊rox»ℤĀ;q℮ℯ檈Ā;q℮ℛim;拧pf;쀀𝕘Āci⅃ⅆr;愊mƀ;el٫ⅎ⅐;檎;檐茀>;cdlqr׮ⅠⅪⅮⅳⅹĀciⅥⅧ;檧r;橺ot;拗Par;榕uest;橼ʀadelsↄⅪ←ٖ↛ǰ↉\0↎proø₞r;楸qĀlqؿ↖lesó₈ií٫Āen↣↭rtneqq;쀀≩︀Å↪ԀAabcefkosy⇄⇇⇱⇵⇺∘∝∯≨≽ròΠȀilmr⇐⇔⇗⇛rsðᒄf»․ilôکĀdr⇠⇤cy;䑊ƀ;cwࣴ⇫⇯ir;楈;憭ar;意irc;䄥ƀalr∁∎∓rtsĀ;u∉∊晥it»∊lip;怦con;抹r;쀀𝔥sĀew∣∩arow;椥arow;椦ʀamopr∺∾≃≞≣rr;懿tht;戻kĀlr≉≓eftarrow;憩ightarrow;憪f;쀀𝕙bar;怕ƀclt≯≴≸r;쀀𝒽asè⇴rok;䄧Ābp⊂⊇ull;恃hen»ᱛૡ⊣\0⊪\0⊸⋅⋎\0⋕⋳\0\0⋸⌢⍧⍢⍿\0⎆⎪⎴cute耻í䃭ƀ;iyݱ⊰⊵rc耻î䃮;䐸Ācx⊼⊿y;䐵cl耻¡䂡ĀfrΟ⋉;쀀𝔦rave耻ì䃬Ȁ;inoܾ⋝⋩⋮Āin⋢⋦nt;樌t;戭fin;槜ta;愩lig;䄳ƀaop⋾⌚⌝ƀcgt⌅⌈⌗r;䄫ƀelpܟ⌏⌓inåގarôܠh;䄱f;抷ed;䆵ʀ;cfotӴ⌬⌱⌽⍁are;愅inĀ;t⌸⌹戞ie;槝doô⌙ʀ;celpݗ⍌⍐⍛⍡al;抺Āgr⍕⍙eróᕣã⍍arhk;樗rod;樼Ȁcgpt⍯⍲⍶⍻y;䑑on;䄯f;쀀𝕚a;䎹uest耻¿䂿Āci⎊⎏r;쀀𝒾nʀ;EdsvӴ⎛⎝⎡ӳ;拹ot;拵Ā;v⎦⎧拴;拳Ā;iݷ⎮lde;䄩ǫ⎸\0⎼cy;䑖l耻ï䃯̀cfmosu⏌⏗⏜⏡⏧⏵Āiy⏑⏕rc;䄵;䐹r;쀀𝔧ath;䈷pf;쀀𝕛ǣ⏬\0⏱r;쀀𝒿rcy;䑘kcy;䑔Ѐacfghjos␋␖␢␧␭␱␵␻ppaĀ;v␓␔䎺;䏰Āey␛␠dil;䄷;䐺r;쀀𝔨reen;䄸cy;䑅cy;䑜pf;쀀𝕜cr;쀀𝓀஀ABEHabcdefghjlmnoprstuv⑰⒁⒆⒍⒑┎┽╚▀♎♞♥♹♽⚚⚲⛘❝❨➋⟀⠁⠒ƀart⑷⑺⑼rò৆òΕail;椛arr;椎Ā;gঔ⒋;檋ar;楢ॣ⒥\0⒪\0⒱\0\0\0\0\0⒵Ⓔ\0ⓆⓈⓍ\0⓹ute;䄺mptyv;榴raîࡌbda;䎻gƀ;dlࢎⓁⓃ;榑åࢎ;檅uo耻«䂫rЀ;bfhlpst࢙ⓞⓦⓩ⓫⓮⓱⓵Ā;f࢝ⓣs;椟s;椝ë≒p;憫l;椹im;楳l;憢ƀ;ae⓿─┄檫il;椙Ā;s┉┊檭;쀀⪭︀ƀabr┕┙┝rr;椌rk;杲Āak┢┬cĀek┨┪;䁻;䁛Āes┱┳;榋lĀdu┹┻;榏;榍Ȁaeuy╆╋╖╘ron;䄾Ādi═╔il;䄼ìࢰâ┩;䐻Ȁcqrs╣╦╭╽a;椶uoĀ;rนᝆĀdu╲╷har;楧shar;楋h;憲ʀ;fgqs▋▌উ◳◿扤tʀahlrt▘▤▷◂◨rrowĀ;t࢙□aé⓶arpoonĀdu▯▴own»њp»०eftarrows;懇ightƀahs◍◖◞rrowĀ;sࣴࢧarpoonó྘quigarro÷⇰hreetimes;拋ƀ;qs▋ও◺lanôবʀ;cdgsব☊☍☝☨c;檨otĀ;o☔☕橿Ā;r☚☛檁;檃Ā;e☢☥쀀⋚︀s;檓ʀadegs☳☹☽♉♋pproøⓆot;拖qĀgq♃♅ôউgtò⒌ôছiíলƀilr♕࣡♚sht;楼;쀀𝔩Ā;Eজ♣;檑š♩♶rĀdu▲♮Ā;l॥♳;楪lk;斄cy;䑙ʀ;achtੈ⚈⚋⚑⚖rò◁orneòᴈard;楫ri;旺Āio⚟⚤dot;䅀ustĀ;a⚬⚭掰che»⚭ȀEaes⚻⚽⛉⛔;扨pĀ;p⛃⛄檉rox»⛄Ā;q⛎⛏檇Ā;q⛎⚻im;拦Ѐabnoptwz⛩⛴⛷✚✯❁❇❐Ānr⛮⛱g;柬r;懽rëࣁgƀlmr⛿✍✔eftĀar০✇ightá৲apsto;柼ightá৽parrowĀlr✥✩efô⓭ight;憬ƀafl✶✹✽r;榅;쀀𝕝us;樭imes;樴š❋❏st;戗áፎƀ;ef❗❘᠀旊nge»❘arĀ;l❤❥䀨t;榓ʀachmt❳❶❼➅➇ròࢨorneòᶌarĀ;d྘➃;業;怎ri;抿̀achiqt➘➝ੀ➢➮➻quo;怹r;쀀𝓁mƀ;egল➪➬;檍;檏Ābu┪➳oĀ;rฟ➹;怚rok;䅂萀<;cdhilqrࠫ⟒☹⟜⟠⟥⟪⟰Āci⟗⟙;檦r;橹reå◲mes;拉arr;楶uest;橻ĀPi⟵⟹ar;榖ƀ;ef⠀भ᠛旃rĀdu⠇⠍shar;楊har;楦Āen⠗⠡rtneqq;쀀≨︀Å⠞܀Dacdefhilnopsu⡀⡅⢂⢎⢓⢠⢥⢨⣚⣢⣤ઃ⣳⤂Dot;戺Ȁclpr⡎⡒⡣⡽r耻¯䂯Āet⡗⡙;時Ā;e⡞⡟朠se»⡟Ā;sျ⡨toȀ;dluျ⡳⡷⡻owîҌefôएðᏑker;斮Āoy⢇⢌mma;権;䐼ash;怔asuredangle»ᘦr;쀀𝔪o;愧ƀcdn⢯⢴⣉ro耻µ䂵Ȁ;acdᑤ⢽⣀⣄sôᚧir;櫰ot肻·Ƶusƀ;bd⣒ᤃ⣓戒Ā;uᴼ⣘;横ţ⣞⣡p;櫛ò−ðઁĀdp⣩⣮els;抧f;쀀𝕞Āct⣸⣽r;쀀𝓂pos»ᖝƀ;lm⤉⤊⤍䎼timap;抸ఀGLRVabcdefghijlmoprstuvw⥂⥓⥾⦉⦘⧚⧩⨕⨚⩘⩝⪃⪕⪤⪨⬄⬇⭄⭿⮮ⰴⱧⱼ⳩Āgt⥇⥋;쀀⋙̸Ā;v⥐௏쀀≫⃒ƀelt⥚⥲⥶ftĀar⥡⥧rrow;懍ightarrow;懎;쀀⋘̸Ā;v⥻ే쀀≪⃒ightarrow;懏ĀDd⦎⦓ash;抯ash;抮ʀbcnpt⦣⦧⦬⦱⧌la»˞ute;䅄g;쀀∠⃒ʀ;Eiop඄⦼⧀⧅⧈;쀀⩰̸d;쀀≋̸s;䅉roø඄urĀ;a⧓⧔普lĀ;s⧓ସǳ⧟\0⧣p肻 ଷmpĀ;e௹ఀʀaeouy⧴⧾⨃⨐⨓ǰ⧹\0⧻;橃on;䅈dil;䅆ngĀ;dൾ⨊ot;쀀⩭̸p;橂;䐽ash;怓΀;Aadqsxஒ⨩⨭⨻⩁⩅⩐rr;懗rĀhr⨳⨶k;椤Ā;oᏲᏰot;쀀≐̸uiöୣĀei⩊⩎ar;椨í஘istĀ;s஠டr;쀀𝔫ȀEest௅⩦⩹⩼ƀ;qs஼⩭௡ƀ;qs஼௅⩴lanô௢ií௪Ā;rஶ⪁»ஷƀAap⪊⪍⪑rò⥱rr;憮ar;櫲ƀ;svྍ⪜ྌĀ;d⪡⪢拼;拺cy;䑚΀AEadest⪷⪺⪾⫂⫅⫶⫹rò⥦;쀀≦̸rr;憚r;急Ȁ;fqs఻⫎⫣⫯tĀar⫔⫙rro÷⫁ightarro÷⪐ƀ;qs఻⪺⫪lanôౕĀ;sౕ⫴»శiíౝĀ;rవ⫾iĀ;eచథiäඐĀpt⬌⬑f;쀀𝕟膀¬;in⬙⬚⬶䂬nȀ;Edvஉ⬤⬨⬮;쀀⋹̸ot;쀀⋵̸ǡஉ⬳⬵;拷;拶iĀ;vಸ⬼ǡಸ⭁⭃;拾;拽ƀaor⭋⭣⭩rȀ;ast୻⭕⭚⭟lleì୻l;쀀⫽⃥;쀀∂̸lint;樔ƀ;ceಒ⭰⭳uåಥĀ;cಘ⭸Ā;eಒ⭽ñಘȀAait⮈⮋⮝⮧rò⦈rrƀ;cw⮔⮕⮙憛;쀀⤳̸;쀀↝̸ghtarrow»⮕riĀ;eೋೖ΀chimpqu⮽⯍⯙⬄୸⯤⯯Ȁ;cerല⯆ഷ⯉uå൅;쀀𝓃ortɭ⬅\0\0⯖ará⭖mĀ;e൮⯟Ā;q൴൳suĀbp⯫⯭å೸åഋƀbcp⯶ⰑⰙȀ;Ees⯿ⰀഢⰄ抄;쀀⫅̸etĀ;eഛⰋqĀ;qണⰀcĀ;eലⰗñസȀ;EesⰢⰣൟⰧ抅;쀀⫆̸etĀ;e൘ⰮqĀ;qൠⰣȀgilrⰽⰿⱅⱇìௗlde耻ñ䃱çృiangleĀlrⱒⱜeftĀ;eచⱚñదightĀ;eೋⱥñ೗Ā;mⱬⱭ䎽ƀ;esⱴⱵⱹ䀣ro;愖p;怇ҀDHadgilrsⲏⲔⲙⲞⲣⲰⲶⳓⳣash;抭arr;椄p;쀀≍⃒ash;抬ĀetⲨⲬ;쀀≥⃒;쀀>⃒nfin;槞ƀAetⲽⳁⳅrr;椂;쀀≤⃒Ā;rⳊⳍ쀀<⃒ie;쀀⊴⃒ĀAtⳘⳜrr;椃rie;쀀⊵⃒im;쀀∼⃒ƀAan⳰⳴ⴂrr;懖rĀhr⳺⳽k;椣Ā;oᏧᏥear;椧ቓ᪕\0\0\0\0\0\0\0\0\0\0\0\0\0ⴭ\0ⴸⵈⵠⵥ⵲ⶄᬇ\0\0ⶍⶫ\0ⷈⷎ\0ⷜ⸙⸫⸾⹃Ācsⴱ᪗ute耻ó䃳ĀiyⴼⵅrĀ;c᪞ⵂ耻ô䃴;䐾ʀabios᪠ⵒⵗǈⵚlac;䅑v;樸old;榼lig;䅓Ācr⵩⵭ir;榿;쀀𝔬ͯ⵹\0\0⵼\0ⶂn;䋛ave耻ò䃲;槁Ābmⶈ෴ar;榵Ȁacitⶕ⶘ⶥⶨrò᪀Āir⶝ⶠr;榾oss;榻nå๒;槀ƀaeiⶱⶵⶹcr;䅍ga;䏉ƀcdnⷀⷅǍron;䎿;榶pf;쀀𝕠ƀaelⷔ⷗ǒr;榷rp;榹΀;adiosvⷪⷫⷮ⸈⸍⸐⸖戨rò᪆Ȁ;efmⷷⷸ⸂⸅橝rĀ;oⷾⷿ愴f»ⷿ耻ª䂪耻º䂺gof;抶r;橖lope;橗;橛ƀclo⸟⸡⸧ò⸁ash耻ø䃸l;折iŬⸯ⸴de耻õ䃵esĀ;aǛ⸺s;樶ml耻ö䃶bar;挽ૡ⹞\0⹽\0⺀⺝\0⺢⺹\0\0⻋ຜ\0⼓\0\0⼫⾼\0⿈rȀ;astЃ⹧⹲຅脀¶;l⹭⹮䂶leìЃɩ⹸\0\0⹻m;櫳;櫽y;䐿rʀcimpt⺋⺏⺓ᡥ⺗nt;䀥od;䀮il;怰enk;怱r;쀀𝔭ƀimo⺨⺰⺴Ā;v⺭⺮䏆;䏕maô੶ne;明ƀ;tv⺿⻀⻈䏀chfork»´;䏖Āau⻏⻟nĀck⻕⻝kĀ;h⇴⻛;愎ö⇴sҀ;abcdemst⻳⻴ᤈ⻹⻽⼄⼆⼊⼎䀫cir;樣ir;樢Āouᵀ⼂;樥;橲n肻±ຝim;樦wo;樧ƀipu⼙⼠⼥ntint;樕f;쀀𝕡nd耻£䂣Ԁ;Eaceinosu່⼿⽁⽄⽇⾁⾉⾒⽾⾶;檳p;檷uå໙Ā;c໎⽌̀;acens່⽙⽟⽦⽨⽾pproø⽃urlyeñ໙ñ໎ƀaes⽯⽶⽺pprox;檹qq;檵im;拨iíໟmeĀ;s⾈ຮ怲ƀEas⽸⾐⽺ð⽵ƀdfp໬⾙⾯ƀals⾠⾥⾪lar;挮ine;挒urf;挓Ā;t໻⾴ï໻rel;抰Āci⿀⿅r;쀀𝓅;䏈ncsp;怈̀fiopsu⿚⋢⿟⿥⿫⿱r;쀀𝔮pf;쀀𝕢rime;恗cr;쀀𝓆ƀaeo⿸〉〓tĀei⿾々rnionóڰnt;樖stĀ;e【】䀿ñἙô༔઀ABHabcdefhilmnoprstux぀けさすムㄎㄫㅇㅢㅲㆎ㈆㈕㈤㈩㉘㉮㉲㊐㊰㊷ƀartぇおがròႳòϝail;検aròᱥar;楤΀cdenqrtとふへみわゔヌĀeuねぱ;쀀∽̱te;䅕iãᅮmptyv;榳gȀ;del࿑らるろ;榒;榥å࿑uo耻»䂻rր;abcfhlpstw࿜ガクシスゼゾダッデナp;極Ā;f࿠ゴs;椠;椳s;椞ë≝ð✮l;楅im;楴l;憣;憝Āaiパフil;椚oĀ;nホボ戶aló༞ƀabrョリヮrò៥rk;杳ĀakンヽcĀekヹ・;䁽;䁝Āes㄂㄄;榌lĀduㄊㄌ;榎;榐Ȁaeuyㄗㄜㄧㄩron;䅙Ādiㄡㄥil;䅗ì࿲âヺ;䑀Ȁclqsㄴㄷㄽㅄa;椷dhar;楩uoĀ;rȎȍh;憳ƀacgㅎㅟངlȀ;ipsླྀㅘㅛႜnåႻarôྩt;断ƀilrㅩဣㅮsht;楽;쀀𝔯ĀaoㅷㆆrĀduㅽㅿ»ѻĀ;l႑ㆄ;楬Ā;vㆋㆌ䏁;䏱ƀgns㆕ㇹㇼht̀ahlrstㆤㆰ㇂㇘㇤㇮rrowĀ;t࿜ㆭaéトarpoonĀduㆻㆿowîㅾp»႒eftĀah㇊㇐rrowó࿪arpoonóՑightarrows;應quigarro÷ニhreetimes;拌g;䋚ingdotseñἲƀahm㈍㈐㈓rò࿪aòՑ;怏oustĀ;a㈞㈟掱che»㈟mid;櫮Ȁabpt㈲㈽㉀㉒Ānr㈷㈺g;柭r;懾rëဃƀafl㉇㉊㉎r;榆;쀀𝕣us;樮imes;樵Āap㉝㉧rĀ;g㉣㉤䀩t;榔olint;樒arò㇣Ȁachq㉻㊀Ⴜ㊅quo;怺r;쀀𝓇Ābu・㊊oĀ;rȔȓƀhir㊗㊛㊠reåㇸmes;拊iȀ;efl㊪ၙᠡ㊫方tri;槎luhar;楨;愞ൡ㋕㋛㋟㌬㌸㍱\0㍺㎤\0\0㏬㏰\0㐨㑈㑚㒭㒱㓊㓱\0㘖\0\0㘳cute;䅛quï➺Ԁ;Eaceinpsyᇭ㋳㋵㋿㌂㌋㌏㌟㌦㌩;檴ǰ㋺\0㋼;檸on;䅡uåᇾĀ;dᇳ㌇il;䅟rc;䅝ƀEas㌖㌘㌛;檶p;檺im;择olint;樓iíሄ;䑁otƀ;be㌴ᵇ㌵担;橦΀Aacmstx㍆㍊㍗㍛㍞㍣㍭rr;懘rĀhr㍐㍒ë∨Ā;oਸ਼਴t耻§䂧i;䀻war;椩mĀin㍩ðnuóñt;朶rĀ;o㍶⁕쀀𝔰Ȁacoy㎂㎆㎑㎠rp;景Āhy㎋㎏cy;䑉;䑈rtɭ㎙\0\0㎜iäᑤaraì⹯耻­䂭Āgm㎨㎴maƀ;fv㎱㎲㎲䏃;䏂Ѐ;deglnprካ㏅㏉㏎㏖㏞㏡㏦ot;橪Ā;q኱ኰĀ;E㏓㏔檞;檠Ā;E㏛㏜檝;檟e;扆lus;樤arr;楲aròᄽȀaeit㏸㐈㐏㐗Āls㏽㐄lsetmé㍪hp;樳parsl;槤Ādlᑣ㐔e;挣Ā;e㐜㐝檪Ā;s㐢㐣檬;쀀⪬︀ƀflp㐮㐳㑂tcy;䑌Ā;b㐸㐹䀯Ā;a㐾㐿槄r;挿f;쀀𝕤aĀdr㑍ЂesĀ;u㑔㑕晠it»㑕ƀcsu㑠㑹㒟Āau㑥㑯pĀ;sᆈ㑫;쀀⊓︀pĀ;sᆴ㑵;쀀⊔︀uĀbp㑿㒏ƀ;esᆗᆜ㒆etĀ;eᆗ㒍ñᆝƀ;esᆨᆭ㒖etĀ;eᆨ㒝ñᆮƀ;afᅻ㒦ְrť㒫ֱ»ᅼaròᅈȀcemt㒹㒾㓂㓅r;쀀𝓈tmîñiì㐕aræᆾĀar㓎㓕rĀ;f㓔ឿ昆Āan㓚㓭ightĀep㓣㓪psiloîỠhé⺯s»⡒ʀbcmnp㓻㕞ሉ㖋㖎Ҁ;Edemnprs㔎㔏㔑㔕㔞㔣㔬㔱㔶抂;櫅ot;檽Ā;dᇚ㔚ot;櫃ult;櫁ĀEe㔨㔪;櫋;把lus;檿arr;楹ƀeiu㔽㕒㕕tƀ;en㔎㕅㕋qĀ;qᇚ㔏eqĀ;q㔫㔨m;櫇Ābp㕚㕜;櫕;櫓c̀;acensᇭ㕬㕲㕹㕻㌦pproø㋺urlyeñᇾñᇳƀaes㖂㖈㌛pproø㌚qñ㌗g;晪ڀ123;Edehlmnps㖩㖬㖯ሜ㖲㖴㗀㗉㗕㗚㗟㗨㗭耻¹䂹耻²䂲耻³䂳;櫆Āos㖹㖼t;檾ub;櫘Ā;dሢ㗅ot;櫄sĀou㗏㗒l;柉b;櫗arr;楻ult;櫂ĀEe㗤㗦;櫌;抋lus;櫀ƀeiu㗴㘉㘌tƀ;enሜ㗼㘂qĀ;qሢ㖲eqĀ;q㗧㗤m;櫈Ābp㘑㘓;櫔;櫖ƀAan㘜㘠㘭rr;懙rĀhr㘦㘨ë∮Ā;oਫ਩war;椪lig耻ß䃟௡㙑㙝㙠ዎ㙳㙹\0㙾㛂\0\0\0\0\0㛛㜃\0㜉㝬\0\0\0㞇ɲ㙖\0\0㙛get;挖;䏄rë๟ƀaey㙦㙫㙰ron;䅥dil;䅣;䑂lrec;挕r;쀀𝔱Ȁeiko㚆㚝㚵㚼ǲ㚋\0㚑eĀ4fኄኁaƀ;sv㚘㚙㚛䎸ym;䏑Ācn㚢㚲kĀas㚨㚮pproø዁im»ኬsðኞĀas㚺㚮ð዁rn耻þ䃾Ǭ̟㛆⋧es膀×;bd㛏㛐㛘䃗Ā;aᤏ㛕r;樱;樰ƀeps㛡㛣㜀á⩍Ȁ;bcf҆㛬㛰㛴ot;挶ir;櫱Ā;o㛹㛼쀀𝕥rk;櫚á㍢rime;怴ƀaip㜏㜒㝤dåቈ΀adempst㜡㝍㝀㝑㝗㝜㝟ngleʀ;dlqr㜰㜱㜶㝀㝂斵own»ᶻeftĀ;e⠀㜾ñम;扜ightĀ;e㊪㝋ñၚot;旬inus;樺lus;樹b;槍ime;樻ezium;揢ƀcht㝲㝽㞁Āry㝷㝻;쀀𝓉;䑆cy;䑛rok;䅧Āio㞋㞎xô᝷headĀlr㞗㞠eftarro÷ࡏightarrow»ཝऀAHabcdfghlmoprstuw㟐㟓㟗㟤㟰㟼㠎㠜㠣㠴㡑㡝㡫㢩㣌㣒㣪㣶ròϭar;楣Ācr㟜㟢ute耻ú䃺òᅐrǣ㟪\0㟭y;䑞ve;䅭Āiy㟵㟺rc耻û䃻;䑃ƀabh㠃㠆㠋ròᎭlac;䅱aòᏃĀir㠓㠘sht;楾;쀀𝔲rave耻ù䃹š㠧㠱rĀlr㠬㠮»ॗ»ႃlk;斀Āct㠹㡍ɯ㠿\0\0㡊rnĀ;e㡅㡆挜r»㡆op;挏ri;旸Āal㡖㡚cr;䅫肻¨͉Āgp㡢㡦on;䅳f;쀀𝕦̀adhlsuᅋ㡸㡽፲㢑㢠ownáᎳarpoonĀlr㢈㢌efô㠭ighô㠯iƀ;hl㢙㢚㢜䏅»ᏺon»㢚parrows;懈ƀcit㢰㣄㣈ɯ㢶\0\0㣁rnĀ;e㢼㢽挝r»㢽op;挎ng;䅯ri;旹cr;쀀𝓊ƀdir㣙㣝㣢ot;拰lde;䅩iĀ;f㜰㣨»᠓Āam㣯㣲rò㢨l耻ü䃼angle;榧ހABDacdeflnoprsz㤜㤟㤩㤭㦵㦸㦽㧟㧤㧨㧳㧹㧽㨁㨠ròϷarĀ;v㤦㤧櫨;櫩asèϡĀnr㤲㤷grt;榜΀eknprst㓣㥆㥋㥒㥝㥤㦖appá␕othinçẖƀhir㓫⻈㥙opô⾵Ā;hᎷ㥢ïㆍĀiu㥩㥭gmá㎳Ābp㥲㦄setneqĀ;q㥽㦀쀀⊊︀;쀀⫋︀setneqĀ;q㦏㦒쀀⊋︀;쀀⫌︀Āhr㦛㦟etá㚜iangleĀlr㦪㦯eft»थight»ၑy;䐲ash»ံƀelr㧄㧒㧗ƀ;beⷪ㧋㧏ar;抻q;扚lip;拮Ābt㧜ᑨaòᑩr;쀀𝔳tré㦮suĀbp㧯㧱»ജ»൙pf;쀀𝕧roð໻tré㦴Ācu㨆㨋r;쀀𝓋Ābp㨐㨘nĀEe㦀㨖»㥾nĀEe㦒㨞»㦐igzag;榚΀cefoprs㨶㨻㩖㩛㩔㩡㩪irc;䅵Ādi㩀㩑Ābg㩅㩉ar;機eĀ;qᗺ㩏;扙erp;愘r;쀀𝔴pf;쀀𝕨Ā;eᑹ㩦atèᑹcr;쀀𝓌ૣណ㪇\0㪋\0㪐㪛\0\0㪝㪨㪫㪯\0\0㫃㫎\0㫘ៜ៟tré៑r;쀀𝔵ĀAa㪔㪗ròσrò৶;䎾ĀAa㪡㪤ròθrò৫að✓is;拻ƀdptឤ㪵㪾Āfl㪺ឩ;쀀𝕩imåឲĀAa㫇㫊ròώròਁĀcq㫒ីr;쀀𝓍Āpt៖㫜ré។Ѐacefiosu㫰㫽㬈㬌㬑㬕㬛㬡cĀuy㫶㫻te耻ý䃽;䑏Āiy㬂㬆rc;䅷;䑋n耻¥䂥r;쀀𝔶cy;䑗pf;쀀𝕪cr;쀀𝓎Ācm㬦㬩y;䑎l耻ÿ䃿Ԁacdefhiosw㭂㭈㭔㭘㭤㭩㭭㭴㭺㮀cute;䅺Āay㭍㭒ron;䅾;䐷ot;䅼Āet㭝㭡træᕟa;䎶r;쀀𝔷cy;䐶grarr;懝pf;쀀𝕫cr;쀀𝓏Ājn㮅㮇;怍j;怌'.split("").map(e=>e.charCodeAt(0))),A6=new Uint16Array("Ȁaglq	\x1Bɭ\0\0p;䀦os;䀧t;䀾t;䀼uot;䀢".split("").map(e=>e.charCodeAt(0))),Wg;const Uj=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),b1=(Wg=String.fromCodePoint)!==null&&Wg!==void 0?Wg:function(e){let t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|e&1023),t+=String.fromCharCode(e),t};function qj(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=Uj.get(e))!==null&&t!==void 0?t:e}var Ot;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(Ot||(Ot={}));const Vj=32;var qi;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(qi||(qi={}));function w1(e){return e>=Ot.ZERO&&e<=Ot.NINE}function zj(e){return e>=Ot.UPPER_A&&e<=Ot.UPPER_F||e>=Ot.LOWER_A&&e<=Ot.LOWER_F}function Hj(e){return e>=Ot.UPPER_A&&e<=Ot.UPPER_Z||e>=Ot.LOWER_A&&e<=Ot.LOWER_Z||w1(e)}function Gj(e){return e===Ot.EQUALS||Hj(e)}var vt;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(vt||(vt={}));var ys;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(ys||(ys={}));class T6{constructor(t,n,r){this.decodeTree=t,this.emitCodePoint=n,this.errors=r,this.state=vt.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=ys.Strict}startEntity(t){this.decodeMode=t,this.state=vt.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,n){switch(this.state){case vt.EntityStart:return t.charCodeAt(n)===Ot.NUM?(this.state=vt.NumericStart,this.consumed+=1,this.stateNumericStart(t,n+1)):(this.state=vt.NamedEntity,this.stateNamedEntity(t,n));case vt.NumericStart:return this.stateNumericStart(t,n);case vt.NumericDecimal:return this.stateNumericDecimal(t,n);case vt.NumericHex:return this.stateNumericHex(t,n);case vt.NamedEntity:return this.stateNamedEntity(t,n)}}stateNumericStart(t,n){return n>=t.length?-1:(t.charCodeAt(n)|Vj)===Ot.LOWER_X?(this.state=vt.NumericHex,this.consumed+=1,this.stateNumericHex(t,n+1)):(this.state=vt.NumericDecimal,this.stateNumericDecimal(t,n))}addToNumericResult(t,n,r,s){if(n!==r){const i=r-n;this.result=this.result*Math.pow(s,i)+parseInt(t.substr(n,i),s),this.consumed+=i}}stateNumericHex(t,n){const r=n;for(;n<t.length;){const s=t.charCodeAt(n);if(w1(s)||zj(s))n+=1;else return this.addToNumericResult(t,r,n,16),this.emitNumericEntity(s,3)}return this.addToNumericResult(t,r,n,16),-1}stateNumericDecimal(t,n){const r=n;for(;n<t.length;){const s=t.charCodeAt(n);if(w1(s))n+=1;else return this.addToNumericResult(t,r,n,10),this.emitNumericEntity(s,2)}return this.addToNumericResult(t,r,n,10),-1}emitNumericEntity(t,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===Ot.SEMI)this.consumed+=1;else if(this.decodeMode===ys.Strict)return 0;return this.emitCodePoint(qj(this.result),this.consumed),this.errors&&(t!==Ot.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,n){const{decodeTree:r}=this;let s=r[this.treeIndex],i=(s&qi.VALUE_LENGTH)>>14;for(;n<t.length;n++,this.excess++){const u=t.charCodeAt(n);if(this.treeIndex=Jj(r,s,this.treeIndex+Math.max(1,i),u),this.treeIndex<0)return this.result===0||this.decodeMode===ys.Attribute&&(i===0||Gj(u))?0:this.emitNotTerminatedNamedEntity();if(s=r[this.treeIndex],i=(s&qi.VALUE_LENGTH)>>14,i!==0){if(u===Ot.SEMI)return this.emitNamedEntityData(this.treeIndex,i,this.consumed+this.excess);this.decodeMode!==ys.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:n,decodeTree:r}=this,s=(r[n]&qi.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,s,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,n,r){const{decodeTree:s}=this;return this.emitCodePoint(n===1?s[t]&~qi.VALUE_LENGTH:s[t+1],r),n===3&&this.emitCodePoint(s[t+2],r),r}end(){var t;switch(this.state){case vt.NamedEntity:return this.result!==0&&(this.decodeMode!==ys.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case vt.NumericDecimal:return this.emitNumericEntity(0,2);case vt.NumericHex:return this.emitNumericEntity(0,3);case vt.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case vt.EntityStart:return 0}}}function E6(e){let t="";const n=new T6(e,r=>t+=b1(r));return function(s,i){let u=0,o=0;for(;(o=s.indexOf("&",o))>=0;){t+=s.slice(u,o),n.startEntity(i);const c=n.write(s,o+1);if(c<0){u=o+n.end();break}u=o+c,o=c===0?u+1:u}const a=t+s.slice(u);return t="",a}}function Jj(e,t,n,r){const s=(t&qi.BRANCH_LENGTH)>>7,i=t&qi.JUMP_TABLE;if(s===0)return i!==0&&r===i?n:-1;if(i){const a=r-i;return a<0||a>=s?-1:e[n+a]-1}let u=n,o=u+s-1;for(;u<=o;){const a=u+o>>>1,c=e[a];if(c<r)u=a+1;else if(c>r)o=a-1;else return e[a+s]}return-1}E6(_6);E6(A6);var Y;(function(e){e[e.Tab=9]="Tab",e[e.NewLine=10]="NewLine",e[e.FormFeed=12]="FormFeed",e[e.CarriageReturn=13]="CarriageReturn",e[e.Space=32]="Space",e[e.ExclamationMark=33]="ExclamationMark",e[e.Number=35]="Number",e[e.Amp=38]="Amp",e[e.SingleQuote=39]="SingleQuote",e[e.DoubleQuote=34]="DoubleQuote",e[e.Dash=45]="Dash",e[e.Slash=47]="Slash",e[e.Zero=48]="Zero",e[e.Nine=57]="Nine",e[e.Semi=59]="Semi",e[e.Lt=60]="Lt",e[e.Eq=61]="Eq",e[e.Gt=62]="Gt",e[e.Questionmark=63]="Questionmark",e[e.UpperA=65]="UpperA",e[e.LowerA=97]="LowerA",e[e.UpperF=70]="UpperF",e[e.LowerF=102]="LowerF",e[e.UpperZ=90]="UpperZ",e[e.LowerZ=122]="LowerZ",e[e.LowerX=120]="LowerX",e[e.OpeningSquareBracket=91]="OpeningSquareBracket"})(Y||(Y={}));var C;(function(e){e[e.Text=1]="Text",e[e.BeforeTagName=2]="BeforeTagName",e[e.InTagName=3]="InTagName",e[e.InSelfClosingTag=4]="InSelfClosingTag",e[e.BeforeClosingTagName=5]="BeforeClosingTagName",e[e.InClosingTagName=6]="InClosingTagName",e[e.AfterClosingTagName=7]="AfterClosingTagName",e[e.BeforeAttributeName=8]="BeforeAttributeName",e[e.InAttributeName=9]="InAttributeName",e[e.AfterAttributeName=10]="AfterAttributeName",e[e.BeforeAttributeValue=11]="BeforeAttributeValue",e[e.InAttributeValueDq=12]="InAttributeValueDq",e[e.InAttributeValueSq=13]="InAttributeValueSq",e[e.InAttributeValueNq=14]="InAttributeValueNq",e[e.BeforeDeclaration=15]="BeforeDeclaration",e[e.InDeclaration=16]="InDeclaration",e[e.InProcessingInstruction=17]="InProcessingInstruction",e[e.BeforeComment=18]="BeforeComment",e[e.CDATASequence=19]="CDATASequence",e[e.InSpecialComment=20]="InSpecialComment",e[e.InCommentLike=21]="InCommentLike",e[e.BeforeSpecialS=22]="BeforeSpecialS",e[e.BeforeSpecialT=23]="BeforeSpecialT",e[e.SpecialStartSequence=24]="SpecialStartSequence",e[e.InSpecialTag=25]="InSpecialTag",e[e.InEntity=26]="InEntity"})(C||(C={}));function qs(e){return e===Y.Space||e===Y.NewLine||e===Y.Tab||e===Y.FormFeed||e===Y.CarriageReturn}function yd(e){return e===Y.Slash||e===Y.Gt||qs(e)}function Wj(e){return e>=Y.LowerA&&e<=Y.LowerZ||e>=Y.UpperA&&e<=Y.UpperZ}var qr;(function(e){e[e.NoValue=0]="NoValue",e[e.Unquoted=1]="Unquoted",e[e.Single=2]="Single",e[e.Double=3]="Double"})(qr||(qr={}));const kt={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97])};class O6{constructor({xmlMode:t=!1,decodeEntities:n=!0},r){this.cbs=r,this.state=C.Text,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=C.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.xmlMode=t,this.decodeEntities=n,this.entityDecoder=new T6(t?A6:_6,(s,i)=>this.emitCodePoint(s,i))}reset(){this.state=C.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=C.Text,this.currentSequence=void 0,this.running=!0,this.offset=0}write(t){this.offset+=this.buffer.length,this.buffer=t,this.parse()}end(){this.running&&this.finish()}pause(){this.running=!1}resume(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()}stateText(t){t===Y.Lt||!this.decodeEntities&&this.fastForwardTo(Y.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=C.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&t===Y.Amp&&this.startEntity()}stateSpecialStartSequence(t){const n=this.sequenceIndex===this.currentSequence.length;if(!(n?yd(t):(t|32)===this.currentSequence[this.sequenceIndex]))this.isSpecial=!1;else if(!n){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=C.InTagName,this.stateInTagName(t)}stateInSpecialTag(t){if(this.sequenceIndex===this.currentSequence.length){if(t===Y.Gt||qs(t)){const n=this.index-this.currentSequence.length;if(this.sectionStart<n){const r=this.index;this.index=n,this.cbs.ontext(this.sectionStart,n),this.index=r}this.isSpecial=!1,this.sectionStart=n+2,this.stateInClosingTagName(t);return}this.sequenceIndex=0}(t|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===kt.TitleEnd?this.decodeEntities&&t===Y.Amp&&this.startEntity():this.fastForwardTo(Y.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(t===Y.Lt)}stateCDATASequence(t){t===kt.Cdata[this.sequenceIndex]?++this.sequenceIndex===kt.Cdata.length&&(this.state=C.InCommentLike,this.currentSequence=kt.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=C.InDeclaration,this.stateInDeclaration(t))}fastForwardTo(t){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===t)return!0;return this.index=this.buffer.length+this.offset-1,!1}stateInCommentLike(t){t===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===kt.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=C.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):t!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}isTagStartChar(t){return this.xmlMode?!yd(t):Wj(t)}startSpecial(t,n){this.isSpecial=!0,this.currentSequence=t,this.sequenceIndex=n,this.state=C.SpecialStartSequence}stateBeforeTagName(t){if(t===Y.ExclamationMark)this.state=C.BeforeDeclaration,this.sectionStart=this.index+1;else if(t===Y.Questionmark)this.state=C.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(t)){const n=t|32;this.sectionStart=this.index,this.xmlMode?this.state=C.InTagName:n===kt.ScriptEnd[2]?this.state=C.BeforeSpecialS:n===kt.TitleEnd[2]?this.state=C.BeforeSpecialT:this.state=C.InTagName}else t===Y.Slash?this.state=C.BeforeClosingTagName:(this.state=C.Text,this.stateText(t))}stateInTagName(t){yd(t)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=C.BeforeAttributeName,this.stateBeforeAttributeName(t))}stateBeforeClosingTagName(t){qs(t)||(t===Y.Gt?this.state=C.Text:(this.state=this.isTagStartChar(t)?C.InClosingTagName:C.InSpecialComment,this.sectionStart=this.index))}stateInClosingTagName(t){(t===Y.Gt||qs(t))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=C.AfterClosingTagName,this.stateAfterClosingTagName(t))}stateAfterClosingTagName(t){(t===Y.Gt||this.fastForwardTo(Y.Gt))&&(this.state=C.Text,this.sectionStart=this.index+1)}stateBeforeAttributeName(t){t===Y.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=C.InSpecialTag,this.sequenceIndex=0):this.state=C.Text,this.sectionStart=this.index+1):t===Y.Slash?this.state=C.InSelfClosingTag:qs(t)||(this.state=C.InAttributeName,this.sectionStart=this.index)}stateInSelfClosingTag(t){t===Y.Gt?(this.cbs.onselfclosingtag(this.index),this.state=C.Text,this.sectionStart=this.index+1,this.isSpecial=!1):qs(t)||(this.state=C.BeforeAttributeName,this.stateBeforeAttributeName(t))}stateInAttributeName(t){(t===Y.Eq||yd(t))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=this.index,this.state=C.AfterAttributeName,this.stateAfterAttributeName(t))}stateAfterAttributeName(t){t===Y.Eq?this.state=C.BeforeAttributeValue:t===Y.Slash||t===Y.Gt?(this.cbs.onattribend(qr.NoValue,this.sectionStart),this.sectionStart=-1,this.state=C.BeforeAttributeName,this.stateBeforeAttributeName(t)):qs(t)||(this.cbs.onattribend(qr.NoValue,this.sectionStart),this.state=C.InAttributeName,this.sectionStart=this.index)}stateBeforeAttributeValue(t){t===Y.DoubleQuote?(this.state=C.InAttributeValueDq,this.sectionStart=this.index+1):t===Y.SingleQuote?(this.state=C.InAttributeValueSq,this.sectionStart=this.index+1):qs(t)||(this.sectionStart=this.index,this.state=C.InAttributeValueNq,this.stateInAttributeValueNoQuotes(t))}handleInAttributeValue(t,n){t===n||!this.decodeEntities&&this.fastForwardTo(n)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(n===Y.DoubleQuote?qr.Double:qr.Single,this.index+1),this.state=C.BeforeAttributeName):this.decodeEntities&&t===Y.Amp&&this.startEntity()}stateInAttributeValueDoubleQuotes(t){this.handleInAttributeValue(t,Y.DoubleQuote)}stateInAttributeValueSingleQuotes(t){this.handleInAttributeValue(t,Y.SingleQuote)}stateInAttributeValueNoQuotes(t){qs(t)||t===Y.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(qr.Unquoted,this.index),this.state=C.BeforeAttributeName,this.stateBeforeAttributeName(t)):this.decodeEntities&&t===Y.Amp&&this.startEntity()}stateBeforeDeclaration(t){t===Y.OpeningSquareBracket?(this.state=C.CDATASequence,this.sequenceIndex=0):this.state=t===Y.Dash?C.BeforeComment:C.InDeclaration}stateInDeclaration(t){(t===Y.Gt||this.fastForwardTo(Y.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=C.Text,this.sectionStart=this.index+1)}stateInProcessingInstruction(t){(t===Y.Gt||this.fastForwardTo(Y.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=C.Text,this.sectionStart=this.index+1)}stateBeforeComment(t){t===Y.Dash?(this.state=C.InCommentLike,this.currentSequence=kt.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=C.InDeclaration}stateInSpecialComment(t){(t===Y.Gt||this.fastForwardTo(Y.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=C.Text,this.sectionStart=this.index+1)}stateBeforeSpecialS(t){const n=t|32;n===kt.ScriptEnd[3]?this.startSpecial(kt.ScriptEnd,4):n===kt.StyleEnd[3]?this.startSpecial(kt.StyleEnd,4):(this.state=C.InTagName,this.stateInTagName(t))}stateBeforeSpecialT(t){const n=t|32;n===kt.TitleEnd[3]?this.startSpecial(kt.TitleEnd,4):n===kt.TextareaEnd[3]?this.startSpecial(kt.TextareaEnd,4):(this.state=C.InTagName,this.stateInTagName(t))}startEntity(){this.baseState=this.state,this.state=C.InEntity,this.entityStart=this.index,this.entityDecoder.startEntity(this.xmlMode?ys.Strict:this.baseState===C.Text||this.baseState===C.InSpecialTag?ys.Legacy:ys.Attribute)}stateInEntity(){const t=this.entityDecoder.write(this.buffer,this.index-this.offset);t>=0?(this.state=this.baseState,t===0&&(this.index=this.entityStart)):this.index=this.offset+this.buffer.length-1}cleanup(){this.running&&this.sectionStart!==this.index&&(this.state===C.Text||this.state===C.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===C.InAttributeValueDq||this.state===C.InAttributeValueSq||this.state===C.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}shouldContinue(){return this.index<this.buffer.length+this.offset&&this.running}parse(){for(;this.shouldContinue();){const t=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case C.Text:{this.stateText(t);break}case C.SpecialStartSequence:{this.stateSpecialStartSequence(t);break}case C.InSpecialTag:{this.stateInSpecialTag(t);break}case C.CDATASequence:{this.stateCDATASequence(t);break}case C.InAttributeValueDq:{this.stateInAttributeValueDoubleQuotes(t);break}case C.InAttributeName:{this.stateInAttributeName(t);break}case C.InCommentLike:{this.stateInCommentLike(t);break}case C.InSpecialComment:{this.stateInSpecialComment(t);break}case C.BeforeAttributeName:{this.stateBeforeAttributeName(t);break}case C.InTagName:{this.stateInTagName(t);break}case C.InClosingTagName:{this.stateInClosingTagName(t);break}case C.BeforeTagName:{this.stateBeforeTagName(t);break}case C.AfterAttributeName:{this.stateAfterAttributeName(t);break}case C.InAttributeValueSq:{this.stateInAttributeValueSingleQuotes(t);break}case C.BeforeAttributeValue:{this.stateBeforeAttributeValue(t);break}case C.BeforeClosingTagName:{this.stateBeforeClosingTagName(t);break}case C.AfterClosingTagName:{this.stateAfterClosingTagName(t);break}case C.BeforeSpecialS:{this.stateBeforeSpecialS(t);break}case C.BeforeSpecialT:{this.stateBeforeSpecialT(t);break}case C.InAttributeValueNq:{this.stateInAttributeValueNoQuotes(t);break}case C.InSelfClosingTag:{this.stateInSelfClosingTag(t);break}case C.InDeclaration:{this.stateInDeclaration(t);break}case C.BeforeDeclaration:{this.stateBeforeDeclaration(t);break}case C.BeforeComment:{this.stateBeforeComment(t);break}case C.InProcessingInstruction:{this.stateInProcessingInstruction(t);break}case C.InEntity:{this.stateInEntity();break}}this.index++}this.cleanup()}finish(){this.state===C.InEntity&&(this.entityDecoder.end(),this.state=this.baseState),this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const t=this.buffer.length+this.offset;this.sectionStart>=t||(this.state===C.InCommentLike?this.currentSequence===kt.CdataEnd?this.cbs.oncdata(this.sectionStart,t,0):this.cbs.oncomment(this.sectionStart,t,0):this.state===C.InTagName||this.state===C.BeforeAttributeName||this.state===C.BeforeAttributeValue||this.state===C.AfterAttributeName||this.state===C.InAttributeName||this.state===C.InAttributeValueSq||this.state===C.InAttributeValueDq||this.state===C.InAttributeValueNq||this.state===C.InClosingTagName||this.cbs.ontext(this.sectionStart,t))}emitCodePoint(t,n){this.baseState!==C.Text&&this.baseState!==C.InSpecialTag?(this.sectionStart<this.entityStart&&this.cbs.onattribdata(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+n,this.index=this.sectionStart-1,this.cbs.onattribentity(t)):(this.sectionStart<this.entityStart&&this.cbs.ontext(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+n,this.index=this.sectionStart-1,this.cbs.ontextentity(t,this.sectionStart))}}const zo=new Set(["input","option","optgroup","select","button","datalist","textarea"]),Ie=new Set(["p"]),hS=new Set(["thead","tbody"]),pS=new Set(["dd","dt"]),gS=new Set(["rt","rp"]),Qj=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",Ie],["h1",Ie],["h2",Ie],["h3",Ie],["h4",Ie],["h5",Ie],["h6",Ie],["select",zo],["input",zo],["output",zo],["button",zo],["datalist",zo],["textarea",zo],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",pS],["dt",pS],["address",Ie],["article",Ie],["aside",Ie],["blockquote",Ie],["details",Ie],["div",Ie],["dl",Ie],["fieldset",Ie],["figcaption",Ie],["figure",Ie],["footer",Ie],["form",Ie],["header",Ie],["hr",Ie],["main",Ie],["nav",Ie],["ol",Ie],["pre",Ie],["section",Ie],["table",Ie],["ul",Ie],["rt",gS],["rp",gS],["tbody",hS],["tfoot",hS]]),Xj=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),mS=new Set(["math","svg"]),yS=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),Kj=/\s|\//;let $p=class{constructor(t,n={}){var r,s,i,u,o,a;this.options=n,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=t??{},this.htmlMode=!this.options.xmlMode,this.lowerCaseTagNames=(r=n.lowerCaseTags)!==null&&r!==void 0?r:this.htmlMode,this.lowerCaseAttributeNames=(s=n.lowerCaseAttributeNames)!==null&&s!==void 0?s:this.htmlMode,this.recognizeSelfClosing=(i=n.recognizeSelfClosing)!==null&&i!==void 0?i:!this.htmlMode,this.tokenizer=new((u=n.Tokenizer)!==null&&u!==void 0?u:O6)(this.options,this),this.foreignContext=[!this.htmlMode],(a=(o=this.cbs).onparserinit)===null||a===void 0||a.call(o,this)}ontext(t,n){var r,s;const i=this.getSlice(t,n);this.endIndex=n-1,(s=(r=this.cbs).ontext)===null||s===void 0||s.call(r,i),this.startIndex=n}ontextentity(t,n){var r,s;this.endIndex=n-1,(s=(r=this.cbs).ontext)===null||s===void 0||s.call(r,b1(t)),this.startIndex=n}isVoidElement(t){return this.htmlMode&&Xj.has(t)}onopentagname(t,n){this.endIndex=n;let r=this.getSlice(t,n);this.lowerCaseTagNames&&(r=r.toLowerCase()),this.emitOpenTag(r)}emitOpenTag(t){var n,r,s,i;this.openTagStart=this.startIndex,this.tagname=t;const u=this.htmlMode&&Qj.get(t);if(u)for(;this.stack.length>0&&u.has(this.stack[0]);){const o=this.stack.shift();(r=(n=this.cbs).onclosetag)===null||r===void 0||r.call(n,o,!0)}this.isVoidElement(t)||(this.stack.unshift(t),this.htmlMode&&(mS.has(t)?this.foreignContext.unshift(!0):yS.has(t)&&this.foreignContext.unshift(!1))),(i=(s=this.cbs).onopentagname)===null||i===void 0||i.call(s,t),this.cbs.onopentag&&(this.attribs={})}endOpenTag(t){var n,r;this.startIndex=this.openTagStart,this.attribs&&((r=(n=this.cbs).onopentag)===null||r===void 0||r.call(n,this.tagname,this.attribs,t),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""}onopentagend(t){this.endIndex=t,this.endOpenTag(!1),this.startIndex=t+1}onclosetag(t,n){var r,s,i,u,o,a,c,l;this.endIndex=n;let d=this.getSlice(t,n);if(this.lowerCaseTagNames&&(d=d.toLowerCase()),this.htmlMode&&(mS.has(d)||yS.has(d))&&this.foreignContext.shift(),this.isVoidElement(d))this.htmlMode&&d==="br"&&((u=(i=this.cbs).onopentagname)===null||u===void 0||u.call(i,"br"),(a=(o=this.cbs).onopentag)===null||a===void 0||a.call(o,"br",{},!0),(l=(c=this.cbs).onclosetag)===null||l===void 0||l.call(c,"br",!1));else{const h=this.stack.indexOf(d);if(h!==-1)for(let f=0;f<=h;f++){const g=this.stack.shift();(s=(r=this.cbs).onclosetag)===null||s===void 0||s.call(r,g,f!==h)}else this.htmlMode&&d==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=n+1}onselfclosingtag(t){this.endIndex=t,this.recognizeSelfClosing||this.foreignContext[0]?(this.closeCurrentTag(!1),this.startIndex=t+1):this.onopentagend(t)}closeCurrentTag(t){var n,r;const s=this.tagname;this.endOpenTag(t),this.stack[0]===s&&((r=(n=this.cbs).onclosetag)===null||r===void 0||r.call(n,s,!t),this.stack.shift())}onattribname(t,n){this.startIndex=t;const r=this.getSlice(t,n);this.attribname=this.lowerCaseAttributeNames?r.toLowerCase():r}onattribdata(t,n){this.attribvalue+=this.getSlice(t,n)}onattribentity(t){this.attribvalue+=b1(t)}onattribend(t,n){var r,s;this.endIndex=n,(s=(r=this.cbs).onattribute)===null||s===void 0||s.call(r,this.attribname,this.attribvalue,t===qr.Double?'"':t===qr.Single?"'":t===qr.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""}getInstructionName(t){const n=t.search(Kj);let r=n<0?t:t.substr(0,n);return this.lowerCaseTagNames&&(r=r.toLowerCase()),r}ondeclaration(t,n){this.endIndex=n;const r=this.getSlice(t,n);if(this.cbs.onprocessinginstruction){const s=this.getInstructionName(r);this.cbs.onprocessinginstruction(`!${s}`,`!${r}`)}this.startIndex=n+1}onprocessinginstruction(t,n){this.endIndex=n;const r=this.getSlice(t,n);if(this.cbs.onprocessinginstruction){const s=this.getInstructionName(r);this.cbs.onprocessinginstruction(`?${s}`,`?${r}`)}this.startIndex=n+1}oncomment(t,n,r){var s,i,u,o;this.endIndex=n,(i=(s=this.cbs).oncomment)===null||i===void 0||i.call(s,this.getSlice(t,n-r)),(o=(u=this.cbs).oncommentend)===null||o===void 0||o.call(u),this.startIndex=n+1}oncdata(t,n,r){var s,i,u,o,a,c,l,d,h,f;this.endIndex=n;const g=this.getSlice(t,n-r);!this.htmlMode||this.options.recognizeCDATA?((i=(s=this.cbs).oncdatastart)===null||i===void 0||i.call(s),(o=(u=this.cbs).ontext)===null||o===void 0||o.call(u,g),(c=(a=this.cbs).oncdataend)===null||c===void 0||c.call(a)):((d=(l=this.cbs).oncomment)===null||d===void 0||d.call(l,`[CDATA[${g}]]`),(f=(h=this.cbs).oncommentend)===null||f===void 0||f.call(h)),this.startIndex=n+1}onend(){var t,n;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(let r=0;r<this.stack.length;r++)this.cbs.onclosetag(this.stack[r],!0)}(n=(t=this.cbs).onend)===null||n===void 0||n.call(t)}reset(){var t,n,r,s;(n=(t=this.cbs).onreset)===null||n===void 0||n.call(t),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(s=(r=this.cbs).onparserinit)===null||s===void 0||s.call(r,this),this.buffers.length=0,this.foreignContext.length=0,this.foreignContext.unshift(!this.htmlMode),this.bufferOffset=0,this.writeIndex=0,this.ended=!1}parseComplete(t){this.reset(),this.end(t)}getSlice(t,n){for(;t-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();let r=this.buffers[0].slice(t-this.bufferOffset,n-this.bufferOffset);for(;n-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),r+=this.buffers[0].slice(0,n-this.bufferOffset);return r}shiftBuffer(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()}write(t){var n,r;if(this.ended){(r=(n=this.cbs).onerror)===null||r===void 0||r.call(n,new Error(".write() after done!"));return}this.buffers.push(t),this.tokenizer.running&&(this.tokenizer.write(t),this.writeIndex++)}end(t){var n,r;if(this.ended){(r=(n=this.cbs).onerror)===null||r===void 0||r.call(n,new Error(".end() after done!"));return}t&&this.write(t),this.ended=!0,this.tokenizer.end()}pause(){this.tokenizer.pause()}resume(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()}parseChunk(t){this.write(t)}done(t){this.end(t)}};var ye;(function(e){e.Root="root",e.Text="text",e.Directive="directive",e.Comment="comment",e.Script="script",e.Style="style",e.Tag="tag",e.CDATA="cdata",e.Doctype="doctype"})(ye||(ye={}));function I6(e){return e.type===ye.Tag||e.type===ye.Script||e.type===ye.Style}const N6=ye.Root,R6=ye.Text,k6=ye.Directive,C6=ye.Comment,D6=ye.Script,M6=ye.Style,P6=ye.Tag,j6=ye.CDATA,L6=ye.Doctype;var Yj=Object.freeze({__proto__:null,CDATA:j6,Comment:C6,Directive:k6,Doctype:L6,get ElementType(){return ye},Root:N6,Script:D6,Style:M6,Tag:P6,Text:R6,isTag:I6});let F6=class{constructor(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}get parentNode(){return this.parent}set parentNode(t){this.parent=t}get previousSibling(){return this.prev}set previousSibling(t){this.prev=t}get nextSibling(){return this.next}set nextSibling(t){this.next=t}cloneNode(t=!1){return z6(this,t)}};class zb extends F6{constructor(t){super(),this.data=t}get nodeValue(){return this.data}set nodeValue(t){this.data=t}}let x1=class extends zb{constructor(){super(...arguments),this.type=ye.Text}get nodeType(){return 3}},$6=class extends zb{constructor(){super(...arguments),this.type=ye.Comment}get nodeType(){return 8}};class B6 extends zb{constructor(t,n){super(n),this.name=t,this.type=ye.Directive}get nodeType(){return 1}}class Hb extends F6{constructor(t){super(),this.children=t}get firstChild(){var t;return(t=this.children[0])!==null&&t!==void 0?t:null}get lastChild(){return this.children.length>0?this.children[this.children.length-1]:null}get childNodes(){return this.children}set childNodes(t){this.children=t}}class U6 extends Hb{constructor(){super(...arguments),this.type=ye.CDATA}get nodeType(){return 4}}let v1=class extends Hb{constructor(){super(...arguments),this.type=ye.Root}get nodeType(){return 9}},q6=class extends Hb{constructor(t,n,r=[],s=t==="script"?ye.Script:t==="style"?ye.Style:ye.Tag){super(r),this.name=t,this.attribs=n,this.type=s}get nodeType(){return 1}get tagName(){return this.name}set tagName(t){this.name=t}get attributes(){return Object.keys(this.attribs).map(t=>{var n,r;return{name:t,value:this.attribs[t],namespace:(n=this["x-attribsNamespace"])===null||n===void 0?void 0:n[t],prefix:(r=this["x-attribsPrefix"])===null||r===void 0?void 0:r[t]}})}};function Wn(e){return I6(e)}function Bp(e){return e.type===ye.CDATA}function ho(e){return e.type===ye.Text}function Gb(e){return e.type===ye.Comment}function Zj(e){return e.type===ye.Directive}function V6(e){return e.type===ye.Root}function tu(e){return Object.prototype.hasOwnProperty.call(e,"children")}function z6(e,t=!1){let n;if(ho(e))n=new x1(e.data);else if(Gb(e))n=new $6(e.data);else if(Wn(e)){const r=t?Qg(e.children):[],s=new q6(e.name,{...e.attribs},r);r.forEach(i=>i.parent=s),e.namespace!=null&&(s.namespace=e.namespace),e["x-attribsNamespace"]&&(s["x-attribsNamespace"]={...e["x-attribsNamespace"]}),e["x-attribsPrefix"]&&(s["x-attribsPrefix"]={...e["x-attribsPrefix"]}),n=s}else if(Bp(e)){const r=t?Qg(e.children):[],s=new U6(r);r.forEach(i=>i.parent=s),n=s}else if(V6(e)){const r=t?Qg(e.children):[],s=new v1(r);r.forEach(i=>i.parent=s),e["x-mode"]&&(s["x-mode"]=e["x-mode"]),n=s}else if(Zj(e)){const r=new B6(e.name,e.data);e["x-name"]!=null&&(r["x-name"]=e["x-name"],r["x-publicId"]=e["x-publicId"],r["x-systemId"]=e["x-systemId"]),n=r}else throw new Error(`Not implemented yet: ${e.type}`);return n.startIndex=e.startIndex,n.endIndex=e.endIndex,e.sourceCodeLocation!=null&&(n.sourceCodeLocation=e.sourceCodeLocation),n}function Qg(e){const t=e.map(n=>z6(n,!0));for(let n=1;n<t.length;n++)t[n].prev=t[n-1],t[n-1].next=t[n];return t}const bS={withStartIndices:!1,withEndIndices:!1,xmlMode:!1};class Pl{constructor(t,n,r){this.dom=[],this.root=new v1(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof n=="function"&&(r=n,n=bS),typeof t=="object"&&(n=t,t=void 0),this.callback=t??null,this.options=n??bS,this.elementCB=r??null}onparserinit(t){this.parser=t}onreset(){this.dom=[],this.root=new v1(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null}onend(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))}onerror(t){this.handleCallback(t)}onclosetag(){this.lastNode=null;const t=this.tagStack.pop();this.options.withEndIndices&&(t.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(t)}onopentag(t,n){const r=this.options.xmlMode?ye.Tag:void 0,s=new q6(t,n,void 0,r);this.addNode(s),this.tagStack.push(s)}ontext(t){const{lastNode:n}=this;if(n&&n.type===ye.Text)n.data+=t,this.options.withEndIndices&&(n.endIndex=this.parser.endIndex);else{const r=new x1(t);this.addNode(r),this.lastNode=r}}oncomment(t){if(this.lastNode&&this.lastNode.type===ye.Comment){this.lastNode.data+=t;return}const n=new $6(t);this.addNode(n),this.lastNode=n}oncommentend(){this.lastNode=null}oncdatastart(){const t=new x1(""),n=new U6([t]);this.addNode(n),t.parent=n,this.lastNode=t}oncdataend(){this.lastNode=null}onprocessinginstruction(t,n){const r=new B6(t,n);this.addNode(r)}handleCallback(t){if(typeof this.callback=="function")this.callback(t,this.dom);else if(t)throw t}addNode(t){const n=this.tagStack[this.tagStack.length-1],r=n.children[n.children.length-1];this.options.withStartIndices&&(t.startIndex=this.parser.startIndex),this.options.withEndIndices&&(t.endIndex=this.parser.endIndex),n.children.push(t),r&&(t.prev=r,r.next=t),t.parent=n,this.lastNode=null}}const wS=/["&'<>$\x80-\uFFFF]/g,eL=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]),tL=String.prototype.codePointAt!=null?(e,t)=>e.codePointAt(t):(e,t)=>(e.charCodeAt(t)&64512)===55296?(e.charCodeAt(t)-55296)*1024+e.charCodeAt(t+1)-56320+65536:e.charCodeAt(t);function H6(e){let t="",n=0,r;for(;(r=wS.exec(e))!==null;){const s=r.index,i=e.charCodeAt(s),u=eL.get(i);u!==void 0?(t+=e.substring(n,s)+u,n=s+1):(t+=`${e.substring(n,s)}&#x${tL(e,s).toString(16)};`,n=wS.lastIndex+=+((i&64512)===55296))}return t+e.substr(n)}function G6(e,t){return function(r){let s,i=0,u="";for(;s=e.exec(r);)i!==s.index&&(u+=r.substring(i,s.index)),u+=t.get(s[0].charCodeAt(0)),i=s.index+1;return u+r.substring(i)}}const nL=G6(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),rL=G6(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]])),sL=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),iL=new Map(["definitionURL","attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),uL=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function oL(e){return e.replace(/"/g,"&quot;")}function aL(e,t){var n;if(!e)return;const r=((n=t.encodeEntities)!==null&&n!==void 0?n:t.decodeEntities)===!1?oL:t.xmlMode||t.encodeEntities!=="utf8"?H6:nL;return Object.keys(e).map(s=>{var i,u;const o=(i=e[s])!==null&&i!==void 0?i:"";return t.xmlMode==="foreign"&&(s=(u=iL.get(s))!==null&&u!==void 0?u:s),!t.emptyAttrs&&!t.xmlMode&&o===""?s:`${s}="${r(o)}"`}).join(" ")}const xS=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function Jb(e,t={}){const n="length"in e?e:[e];let r="";for(let s=0;s<n.length;s++)r+=cL(n[s],t);return r}function cL(e,t){switch(e.type){case N6:return Jb(e.children,t);case L6:case k6:return hL(e);case C6:return mL(e);case j6:return gL(e);case D6:case M6:case P6:return dL(e,t);case R6:return pL(e,t)}}const lL=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),fL=new Set(["svg","math"]);function dL(e,t){var n;t.xmlMode==="foreign"&&(e.name=(n=sL.get(e.name))!==null&&n!==void 0?n:e.name,e.parent&&lL.has(e.parent.name)&&(t={...t,xmlMode:!1})),!t.xmlMode&&fL.has(e.name)&&(t={...t,xmlMode:"foreign"});let r=`<${e.name}`;const s=aL(e.attribs,t);return s&&(r+=` ${s}`),e.children.length===0&&(t.xmlMode?t.selfClosingTags!==!1:t.selfClosingTags&&xS.has(e.name))?(t.xmlMode||(r+=" "),r+="/>"):(r+=">",e.children.length>0&&(r+=Jb(e.children,t)),(t.xmlMode||!xS.has(e.name))&&(r+=`</${e.name}>`)),r}function hL(e){return`<${e.data}>`}function pL(e,t){var n;let r=e.data||"";return((n=t.encodeEntities)!==null&&n!==void 0?n:t.decodeEntities)!==!1&&!(!t.xmlMode&&e.parent&&uL.has(e.parent.name))&&(r=t.xmlMode||t.encodeEntities!=="utf8"?H6(r):rL(r)),r}function gL(e){return`<![CDATA[${e.children[0].data}]]>`}function mL(e){return`<!--${e.data}-->`}function J6(e,t){return Jb(e,t)}function yL(e,t){return tu(e)?e.children.map(n=>J6(n,t)).join(""):""}function Gd(e){return Array.isArray(e)?e.map(Gd).join(""):Wn(e)?e.name==="br"?`
`:Gd(e.children):Bp(e)?Gd(e.children):ho(e)?e.data:""}function xh(e){return Array.isArray(e)?e.map(xh).join(""):tu(e)&&!Gb(e)?xh(e.children):ho(e)?e.data:""}function S1(e){return Array.isArray(e)?e.map(S1).join(""):tu(e)&&(e.type===ye.Tag||Bp(e))?S1(e.children):ho(e)?e.data:""}function W6(e){return tu(e)?e.children:[]}function Q6(e){return e.parent||null}function bL(e){const t=Q6(e);if(t!=null)return W6(t);const n=[e];let{prev:r,next:s}=e;for(;r!=null;)n.unshift(r),{prev:r}=r;for(;s!=null;)n.push(s),{next:s}=s;return n}function wL(e,t){var n;return(n=e.attribs)===null||n===void 0?void 0:n[t]}function xL(e,t){return e.attribs!=null&&Object.prototype.hasOwnProperty.call(e.attribs,t)&&e.attribs[t]!=null}function vL(e){return e.name}function SL(e){let{next:t}=e;for(;t!==null&&!Wn(t);)({next:t}=t);return t}function _L(e){let{prev:t}=e;for(;t!==null&&!Wn(t);)({prev:t}=t);return t}function kf(e){if(e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e.parent){const t=e.parent.children,n=t.lastIndexOf(e);n>=0&&t.splice(n,1)}e.next=null,e.prev=null,e.parent=null}function AL(e,t){const n=t.prev=e.prev;n&&(n.next=t);const r=t.next=e.next;r&&(r.prev=t);const s=t.parent=e.parent;if(s){const i=s.children;i[i.lastIndexOf(e)]=t,e.parent=null}}function TL(e,t){if(kf(t),t.next=null,t.parent=e,e.children.push(t)>1){const n=e.children[e.children.length-2];n.next=t,t.prev=n}else t.prev=null}function EL(e,t){kf(t);const{parent:n}=e,r=e.next;if(t.next=r,t.prev=e,e.next=t,t.parent=n,r){if(r.prev=t,n){const s=n.children;s.splice(s.lastIndexOf(r),0,t)}}else n&&n.children.push(t)}function OL(e,t){if(kf(t),t.parent=e,t.prev=null,e.children.unshift(t)!==1){const n=e.children[1];n.prev=t,t.next=n}else t.next=null}function IL(e,t){kf(t);const{parent:n}=e;if(n){const r=n.children;r.splice(r.indexOf(e),0,t)}e.prev&&(e.prev.next=t),t.parent=n,t.prev=e.prev,t.next=e,e.prev=t}function Up(e,t,n=!0,r=1/0){return X6(e,Array.isArray(t)?t:[t],n,r)}function X6(e,t,n,r){const s=[],i=[t],u=[0];for(;;){if(u[0]>=i[0].length){if(u.length===1)return s;i.shift(),u.shift();continue}const o=i[0][u[0]++];if(e(o)&&(s.push(o),--r<=0))return s;n&&tu(o)&&o.children.length>0&&(u.unshift(0),i.unshift(o.children))}}function NL(e,t){return t.find(e)}function Wb(e,t,n=!0){let r=null;for(let s=0;s<t.length&&!r;s++){const i=t[s];if(Wn(i))e(i)?r=i:n&&i.children.length>0&&(r=Wb(e,i.children,!0));else continue}return r}function K6(e,t){return t.some(n=>Wn(n)&&(e(n)||K6(e,n.children)))}function RL(e,t){const n=[],r=[t],s=[0];for(;;){if(s[0]>=r[0].length){if(r.length===1)return n;r.shift(),s.shift();continue}const i=r[0][s[0]++];Wn(i)&&(e(i)&&n.push(i),i.children.length>0&&(s.unshift(0),r.unshift(i.children)))}}const vh={tag_name(e){return typeof e=="function"?t=>Wn(t)&&e(t.name):e==="*"?Wn:t=>Wn(t)&&t.name===e},tag_type(e){return typeof e=="function"?t=>e(t.type):t=>t.type===e},tag_contains(e){return typeof e=="function"?t=>ho(t)&&e(t.data):t=>ho(t)&&t.data===e}};function Y6(e,t){return typeof t=="function"?n=>Wn(n)&&t(n.attribs[e]):n=>Wn(n)&&n.attribs[e]===t}function kL(e,t){return n=>e(n)||t(n)}function Z6(e){const t=Object.keys(e).map(n=>{const r=e[n];return Object.prototype.hasOwnProperty.call(vh,n)?vh[n](r):Y6(n,r)});return t.length===0?null:t.reduce(kL)}function CL(e,t){const n=Z6(e);return n?n(t):!0}function DL(e,t,n,r=1/0){const s=Z6(e);return s?Up(s,t,n,r):[]}function ML(e,t,n=!0){return Array.isArray(t)||(t=[t]),Wb(Y6("id",e),t,n)}function dc(e,t,n=!0,r=1/0){return Up(vh.tag_name(e),t,n,r)}function PL(e,t,n=!0,r=1/0){return Up(vh.tag_type(e),t,n,r)}function jL(e){let t=e.length;for(;--t>=0;){const n=e[t];if(t>0&&e.lastIndexOf(n,t-1)>=0){e.splice(t,1);continue}for(let r=n.parent;r;r=r.parent)if(e.includes(r)){e.splice(t,1);break}}return e}var cr;(function(e){e[e.DISCONNECTED=1]="DISCONNECTED",e[e.PRECEDING=2]="PRECEDING",e[e.FOLLOWING=4]="FOLLOWING",e[e.CONTAINS=8]="CONTAINS",e[e.CONTAINED_BY=16]="CONTAINED_BY"})(cr||(cr={}));function eT(e,t){const n=[],r=[];if(e===t)return 0;let s=tu(e)?e:e.parent;for(;s;)n.unshift(s),s=s.parent;for(s=tu(t)?t:t.parent;s;)r.unshift(s),s=s.parent;const i=Math.min(n.length,r.length);let u=0;for(;u<i&&n[u]===r[u];)u++;if(u===0)return cr.DISCONNECTED;const o=n[u-1],a=o.children,c=n[u],l=r[u];return a.indexOf(c)>a.indexOf(l)?o===t?cr.FOLLOWING|cr.CONTAINED_BY:cr.FOLLOWING:o===e?cr.PRECEDING|cr.CONTAINS:cr.PRECEDING}function LL(e){return e=e.filter((t,n,r)=>!r.includes(t,n+1)),e.sort((t,n)=>{const r=eT(t,n);return r&cr.PRECEDING?-1:r&cr.FOLLOWING?1:0}),e}function Qb(e){const t=Sh(qL,e);return t?t.name==="feed"?FL(t):$L(t):null}function FL(e){var t;const n=e.children,r={type:"atom",items:dc("entry",n).map(u=>{var o;const{children:a}=u,c={media:tT(a)};En(c,"id","id",a),En(c,"title","title",a);const l=(o=Sh("link",a))===null||o===void 0?void 0:o.attribs.href;l&&(c.link=l);const d=Vi("summary",a)||Vi("content",a);d&&(c.description=d);const h=Vi("updated",a);return h&&(c.pubDate=new Date(h)),c})};En(r,"id","id",n),En(r,"title","title",n);const s=(t=Sh("link",n))===null||t===void 0?void 0:t.attribs.href;s&&(r.link=s),En(r,"description","subtitle",n);const i=Vi("updated",n);return i&&(r.updated=new Date(i)),En(r,"author","email",n,!0),r}function $L(e){var t,n;const r=(n=(t=Sh("channel",e.children))===null||t===void 0?void 0:t.children)!==null&&n!==void 0?n:[],s={type:e.name.substr(0,3),id:"",items:dc("item",e.children).map(u=>{const{children:o}=u,a={media:tT(o)};En(a,"id","guid",o),En(a,"title","title",o),En(a,"link","link",o),En(a,"description","description",o);const c=Vi("pubDate",o)||Vi("dc:date",o);return c&&(a.pubDate=new Date(c)),a})};En(s,"title","title",r),En(s,"link","link",r),En(s,"description","description",r);const i=Vi("lastBuildDate",r);return i&&(s.updated=new Date(i)),En(s,"author","managingEditor",r,!0),s}const BL=["url","type","lang"],UL=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function tT(e){return dc("media:content",e).map(t=>{const{attribs:n}=t,r={medium:n.medium,isDefault:!!n.isDefault};for(const s of BL)n[s]&&(r[s]=n[s]);for(const s of UL)n[s]&&(r[s]=parseInt(n[s],10));return n.expression&&(r.expression=n.expression),r})}function Sh(e,t){return dc(e,t,!0,1)[0]}function Vi(e,t,n=!1){return xh(dc(e,t,n,1)).trim()}function En(e,t,n,r,s=!1){const i=Vi(n,r,s);i&&(e[t]=i)}function qL(e){return e==="rss"||e==="feed"||e==="rdf:RDF"}var Xb=Object.freeze({__proto__:null,get DocumentPosition(){return cr},append:EL,appendChild:TL,compareDocumentPosition:eT,existsOne:K6,filter:Up,find:X6,findAll:RL,findOne:Wb,findOneChild:NL,getAttributeValue:wL,getChildren:W6,getElementById:ML,getElements:DL,getElementsByTagName:dc,getElementsByTagType:PL,getFeed:Qb,getInnerHTML:yL,getName:vL,getOuterHTML:J6,getParent:Q6,getSiblings:bL,getText:Gd,hasAttrib:xL,hasChildren:tu,innerText:S1,isCDATA:Bp,isComment:Gb,isDocument:V6,isTag:Wn,isText:ho,nextElementSibling:SL,prepend:IL,prependChild:OL,prevElementSibling:_L,removeElement:kf,removeSubsets:jL,replaceElement:AL,testElement:CL,textContent:xh,uniqueSort:LL});function nT(e,t){const n=new Pl(void 0,t);return new $p(n,t).end(e),n.root}function rT(e,t){return nT(e,t).children}function VL(e,t,n){const r=new Pl(s=>e(s,r.root),t,n);return new $p(r,t)}function zL(e,t,n){const r=new Pl(e,t,n);return new $p(r,t)}const HL={xmlMode:!0};function GL(e,t=HL){return Qb(rT(e,t))}var JL=Object.freeze({__proto__:null,DefaultHandler:Pl,DomHandler:Pl,DomUtils:Xb,ElementType:Yj,Parser:$p,get QuoteType(){return qr},Tokenizer:O6,createDocumentStream:VL,createDomStream:zL,getFeed:Qb,parseDOM:rT,parseDocument:nT,parseFeed:GL});const nu=-1,me=1,Mt=2,nn=3,hi=4,pi=8,$u=9,Ia=10,ii=11,WL=new Set(["ARTICLE","ASIDE","BLOCKQUOTE","BODY","BR","BUTTON","CANVAS","CAPTION","COL","COLGROUP","DD","DIV","DL","DT","EMBED","FIELDSET","FIGCAPTION","FIGURE","FOOTER","FORM","H1","H2","H3","H4","H5","H6","LI","UL","OL","P"]),QL=-1,XL=1,KL=4,YL=8,ZL=128,eF=1,vS=2,SS=4,tF=8,nF=16,rF=32,_h="http://www.w3.org/2000/svg",{assign:sF,create:iF,defineProperties:uF,entries:oF,getOwnPropertyDescriptors:Pue,keys:aF,setPrototypeOf:xn}=Object,no=String,Gn=e=>e.nodeType===me?e[Z]:e,ru=({ownerDocument:e})=>e[fc].ignoreCase,Gr=(e,t)=>{e[F]=t,t[Et]=e},sT=(e,t,n)=>{Gr(e,t),Gr(Gn(t),n)},cF=(e,t,n,r)=>{Gr(e,t),Gr(Gn(n),r)},qp=(e,t,n)=>{Gr(e,t),Gr(t,n)},_1=({localName:e,ownerDocument:t})=>t[fc].ignoreCase?e.toUpperCase():e,iT=(e,t)=>{e&&(e[F]=t),t&&(t[Et]=e)},zi=new WeakMap;let Vp=!1;const ta=new WeakMap,po=new WeakMap,zp=(e,t,n,r)=>{Vp&&po.has(e)&&e.attributeChangedCallback&&e.constructor.observedAttributes.includes(t)&&e.attributeChangedCallback(t,n,r)},uT=(e,t)=>n=>{if(po.has(n)){const r=po.get(n);r.connected!==t&&n.isConnected===t&&(r.connected=t,e in n&&n[e]())}},_S=uT("connectedCallback",!0),A1=e=>{if(Vp){_S(e),zi.has(e)&&(e=zi.get(e).shadowRoot);let{[F]:t,[Z]:n}=e;for(;t!==n;)t.nodeType===me&&_S(t),t=t[F]}},AS=uT("disconnectedCallback",!1),lF=e=>{if(Vp){AS(e),zi.has(e)&&(e=zi.get(e).shadowRoot);let{[F]:t,[Z]:n}=e;for(;t!==n;)t.nodeType===me&&AS(t),t=t[F]}};class fF{constructor(t){this.ownerDocument=t,this.registry=new Map,this.waiting=new Map,this.active=!1}define(t,n,r={}){const{ownerDocument:s,registry:i,waiting:u}=this;if(i.has(t))throw new Error("unable to redefine "+t);if(ta.has(n))throw new Error("unable to redefine the same class: "+n);this.active=Vp=!0;const{extends:o}=r;ta.set(n,{ownerDocument:s,options:{is:o?t:""},localName:o||t});const a=o?c=>c.localName===o&&c.getAttribute("is")===t:c=>c.localName===t;if(i.set(t,{Class:n,check:a}),u.has(t)){for(const c of u.get(t))c(n);u.delete(t)}s.querySelectorAll(o?`${o}[is="${t}"]`:t).forEach(this.upgrade,this)}upgrade(t){if(po.has(t))return;const{ownerDocument:n,registry:r}=this,s=t.getAttribute("is")||t.localName;if(r.has(s)){const{Class:i,check:u}=r.get(s);if(u(t)){const{attributes:o,isConnected:a}=t;for(const l of o)t.removeAttributeNode(l);const c=oF(t);for(const[l]of c)delete t[l];xn(t,i.prototype),n[hl]={element:t,values:c},new i(n,s),po.set(t,{connected:a});for(const l of o)t.setAttributeNode(l);a&&t.connectedCallback&&t.connectedCallback()}}}whenDefined(t){const{registry:n,waiting:r}=this;return new Promise(s=>{n.has(t)?s(n.get(t).Class):(r.has(t)||r.set(t,[]),r.get(t).push(s))})}get(t){const n=this.registry.get(t);return n&&n.Class}getName(t){if(ta.has(t)){const{localName:n}=ta.get(t);return n}return null}}const{Parser:dF}=JL,Iu=(e,t,n)=>{const r=e[Z];return t.parentNode=e,sT(r[Et],t,r),n&&t.nodeType===me&&A1(t),t},hF=(e,t,n,r,s)=>{n[Re]=r,n.ownerElement=e,qp(t[Et],n,t),n.name==="class"&&(e.className=r),s&&zp(e,n.name,null,r)},oT=(e,t,n)=>{const{active:r,registry:s}=e[$r];let i=e,u=null,o=!1;const a=new dF({onprocessinginstruction(c,l){c.toLowerCase()==="!doctype"&&(e.doctype=l.slice(c.length).trim())},onopentag(c,l){let d=!0;if(t){if(u)i=Iu(i,e.createElementNS(_h,c),r),i.ownerSVGElement=u,d=!1;else if(c==="svg"||c==="SVG")u=e.createElementNS(_h,c),i=Iu(i,u,r),d=!1;else if(r){const f=c.includes("-")?c:l.is||"";if(f&&s.has(f)){const{Class:g}=s.get(f);i=Iu(i,new g,r),delete l.is,d=!1}}}d&&(i=Iu(i,e.createElement(c),!1));let h=i[Z];for(const f of aF(l))hF(i,h,e.createAttribute(f),l[f],r)},oncomment(c){Iu(i,e.createComment(c),r)},ontext(c){o?Iu(i,e.createCDATASection(c),r):Iu(i,e.createTextNode(c),r)},oncdatastart(){o=!0},oncdataend(){o=!1},onclosetag(){t&&i===u&&(u=null),i=i.parentNode}},{lowerCaseAttributeNames:!1,decodeEntities:!0,xmlMode:!t});return a.write(n),a.end(),e},Ah=new Map,xt=(e,t)=>{for(const n of[].concat(e))Ah.set(n,t),Ah.set(n.toUpperCase(),t)},pF=globalThis.performance,aT=({[F]:e,[Z]:t},n)=>{for(;e!==t;){switch(e.nodeType){case Mt:cT(e,n);break;case nn:case pi:case hi:lT(e,n);break;case me:dT(e,n),e=Gn(e);break;case Ia:fT(e,n);break}e=e[F]}const r=n.length-1,s=n[r];typeof s=="number"&&s<0?n[r]+=nu:n.push(nu)},cT=(e,t)=>{t.push(Mt,e.name);const n=e[Re].trim();n&&t.push(n)},lT=(e,t)=>{const n=e[Re];n.trim()&&t.push(e.nodeType,n)},gF=(e,t)=>{t.push(e.nodeType),aT(e,t)},fT=({name:e,publicId:t,systemId:n},r)=>{r.push(Ia,e),t&&r.push(t),n&&r.push(n)},dT=(e,t)=>{t.push(me,e.localName),aT(e,t)},hT=(e,t,n,r,s,i)=>({type:e,target:t,addedNodes:n,removedNodes:r,attributeName:s,oldValue:i}),TS=(e,t,n,r,s,i)=>{if(!r||r.includes(n)){const{callback:u,records:o,scheduled:a}=e;o.push(hT("attributes",t,[],[],n,s?i:void 0)),a||(e.scheduled=!0,Promise.resolve().then(()=>{e.scheduled=!1,u(o.splice(0),e)}))}},Kb=(e,t,n)=>{const{ownerDocument:r}=e,{active:s,observers:i}=r[Ui];if(s){for(const u of i)for(const[o,{childList:a,subtree:c,attributes:l,attributeFilter:d,attributeOldValue:h}]of u.nodes)if(a){if(c&&(o===r||o.contains(e))||!c&&o.children.includes(e)){TS(u,e,t,d,h,n);break}}else if(l&&o===e){TS(u,e,t,d,h,n);break}}},pl=(e,t)=>{const{ownerDocument:n}=e,{active:r,observers:s}=n[Ui];if(r){for(const i of s)for(const[u,{subtree:o,childList:a,characterData:c}]of i.nodes)if(a&&(t&&(u===t||o&&u.contains(t))||!t&&(o&&(u===n||u.contains(e))||!o&&u[c?"childNodes":"children"].includes(e)))){const{callback:l,records:d,scheduled:h}=i;d.push(hT("childList",u,t?[]:[e],t?[e]:[])),h||(i.scheduled=!0,Promise.resolve().then(()=>{i.scheduled=!1,l(d.splice(0),i)}));break}}};class mF{constructor(t){const n=new Set;this.observers=n,this.active=!1,this.class=class{constructor(s){this.callback=s,this.nodes=new Map,this.records=[],this.scheduled=!1}disconnect(){this.records.splice(0),this.nodes.clear(),n.delete(this),t[Ui].active=!!n.size}observe(s,i={subtree:!1,childList:!1,attributes:!1,attributeFilter:null,attributeOldValue:!1,characterData:!1}){("attributeOldValue"in i||"attributeFilter"in i)&&(i.attributes=!0),i.childList=!!i.childList,i.subtree=!!i.subtree,this.nodes.set(s,i),n.add(this),t[Ui].active=!0}takeRecords(){return this.records.splice(0)}}}}const yF=new Set(["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","class","contenteditable","controls","default","defer","disabled","draggable","formnovalidate","hidden","id","ismap","itemscope","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected","style","truespeed"]),T1=(e,t)=>{const{[Re]:n,name:r}=t;t.ownerElement=e,qp(e,t,e[F]),r==="class"&&(e.className=n),Kb(e,r,null),zp(e,r,null,n)},ES=(e,t)=>{const{[Re]:n,name:r}=t;Gr(t[Et],t[F]),t.ownerElement=t[Et]=t[F]=null,r==="class"&&(e[Jo]=null),Kb(e,r,n),zp(e,r,n,null)},ve={get(e,t){return e.hasAttribute(t)},set(e,t,n){n?e.setAttribute(t,""):e.removeAttribute(t)}},Hi={get(e,t){return parseFloat(e.getAttribute(t)||0)},set(e,t,n){e.setAttribute(t,n)}},M={get(e,t){return e.getAttribute(t)||""},set(e,t,n){e.setAttribute(t,n)}},Jd=new WeakMap;function bF(e,t){return typeof t=="function"?t.call(e.target,e):t.handleEvent(e),e._stopImmediatePropagationFlag}function wF({currentTarget:e,target:t}){const n=Jd.get(e);if(n&&n.has(this.type)){const r=n.get(this.type);e===t?this.eventPhase=this.AT_TARGET:this.eventPhase=this.BUBBLING_PHASE,this.currentTarget=e,this.target=t;for(const[s,i]of r)if(i&&i.once&&r.delete(s),bF(this,s))break;return delete this.currentTarget,delete this.target,this.cancelBubble}}class Yb{constructor(){Jd.set(this,new Map)}_getParent(){return null}addEventListener(t,n,r){const s=Jd.get(this);s.has(t)||s.set(t,new Map),s.get(t).set(n,r)}removeEventListener(t,n){const r=Jd.get(this);if(r.has(t)){const s=r.get(t);s.delete(n)&&!s.size&&r.delete(t)}}dispatchEvent(t){let n=this;for(t.eventPhase=t.CAPTURING_PHASE;n;)n.dispatchEvent&&t._path.push({currentTarget:n,target:this}),n=t.bubbles&&n._getParent&&n._getParent();return t._path.some(wF,t),t._path=[],t.eventPhase=t.NONE,!t.defaultPrevented}}class bs extends Array{item(t){return t<this.length?this[t]:null}}const OS=({parentNode:e})=>{let t=0;for(;e;)t++,e=e.parentNode;return t};let No=class extends Yb{static get ELEMENT_NODE(){return me}static get ATTRIBUTE_NODE(){return Mt}static get TEXT_NODE(){return nn}static get CDATA_SECTION_NODE(){return hi}static get COMMENT_NODE(){return pi}static get DOCUMENT_NODE(){return $u}static get DOCUMENT_FRAGMENT_NODE(){return ii}static get DOCUMENT_TYPE_NODE(){return Ia}constructor(t,n,r){super(),this.ownerDocument=t,this.localName=n,this.nodeType=r,this.parentNode=null,this[F]=null,this[Et]=null}get ELEMENT_NODE(){return me}get ATTRIBUTE_NODE(){return Mt}get TEXT_NODE(){return nn}get CDATA_SECTION_NODE(){return hi}get COMMENT_NODE(){return pi}get DOCUMENT_NODE(){return $u}get DOCUMENT_FRAGMENT_NODE(){return ii}get DOCUMENT_TYPE_NODE(){return Ia}get baseURI(){const t=this.nodeType===$u?this:this.ownerDocument;if(t){const n=t.querySelector("base");if(n)return n.getAttribute("href");const{location:r}=t.defaultView;if(r)return r.href}return null}get isConnected(){return!1}get nodeName(){return this.localName}get parentElement(){return null}get previousSibling(){return null}get previousElementSibling(){return null}get nextSibling(){return null}get nextElementSibling(){return null}get childNodes(){return new bs}get firstChild(){return null}get lastChild(){return null}get nodeValue(){return null}set nodeValue(t){}get textContent(){return null}set textContent(t){}normalize(){}cloneNode(){return null}contains(){return!1}insertBefore(t,n){return t}appendChild(t){return t}replaceChild(t,n){return n}removeChild(t){return t}toString(){return""}hasChildNodes(){return!!this.lastChild}isSameNode(t){return this===t}compareDocumentPosition(t){let n=0;if(this!==t){let r=OS(this),s=OS(t);if(r<s)n+=SS,this.contains(t)&&(n+=nF);else if(s<r)n+=vS,t.contains(this)&&(n+=tF);else if(r&&s){const{childNodes:i}=this.parentNode;i.indexOf(this)<i.indexOf(t)?n+=SS:n+=vS}(!r||!s)&&(n+=rF,n+=eF)}return n}isEqualNode(t){if(this===t)return!0;if(this.nodeType===t.nodeType){switch(this.nodeType){case $u:case ii:{const n=this.childNodes,r=t.childNodes;return n.length===r.length&&n.every((s,i)=>s.isEqualNode(r[i]))}}return this.toString()===t.toString()}return!1}_getParent(){return this.parentNode}getRootNode(){let t=this;for(;t.parentNode;)t=t.parentNode;return t}};const{replace:xF}="",vF=/[<>&\xA0]/g,SF={" ":"&#160;","&":"&amp;","<":"&lt;",">":"&gt;"},_F=e=>SF[e],Zb=e=>xF.call(e,vF,_F),AF=/"/g;let Cf=class pT extends No{constructor(t,n,r=""){super(t,n,Mt),this.ownerElement=null,this.name=no(n),this[Re]=no(r),this[wh]=!1}get value(){return this[Re]}set value(t){const{[Re]:n,name:r,ownerElement:s}=this;this[Re]=no(t),this[wh]=!0,s&&(Kb(s,r,n),zp(s,r,n,this[Re]))}cloneNode(){const{ownerDocument:t,name:n,[Re]:r}=this;return new pT(t,n,r)}toString(){const{name:t,[Re]:n}=this;if(yF.has(t)&&!n)return ru(this)?t:`${t}=""`;const r=(ru(this)?n:Zb(n)).replace(AF,"&quot;");return`${t}="${r}"`}toJSON(){const t=[];return cT(this,t),t}};const gT=({ownerDocument:e,parentNode:t})=>{for(;t;){if(t===e)return!0;t=t.parentNode||t.host}return!1},mT=({parentNode:e})=>{if(e)switch(e.nodeType){case $u:case ii:return null}return e},jl=({[Et]:e})=>{switch(e?e.nodeType:0){case nu:return e[An];case nn:case pi:case hi:return e}return null},ro=e=>{const t=Gn(e)[F];return t&&(t.nodeType===nu?null:t)},ew=e=>{let t=ro(e);for(;t&&t.nodeType!==me;)t=ro(t);return t},yT=e=>{let t=jl(e);for(;t&&t.nodeType!==me;)t=jl(t);return t},tw=(e,t)=>{const n=e.createDocumentFragment();return n.append(...t),n},bT=(e,t)=>{const{ownerDocument:n,parentNode:r}=e;r&&r.insertBefore(tw(n,t),e)},wT=(e,t)=>{const{ownerDocument:n,parentNode:r}=e;r&&r.insertBefore(tw(n,t),Gn(e)[F])},nw=(e,t)=>{const{ownerDocument:n,parentNode:r}=e;r&&(t.includes(e)&&nw(e,[e=e.cloneNode()]),r.insertBefore(tw(n,t),e),e.remove())},xT=(e,t,n)=>{const{parentNode:r,nodeType:s}=t;(e||n)&&(iT(e,n),t[Et]=null,Gn(t)[F]=null),r&&(t.parentNode=null,pl(t,r),s===me&&lF(t))};let Df=class extends No{constructor(t,n,r,s){super(t,n,r),this[Re]=no(s)}get isConnected(){return gT(this)}get parentElement(){return mT(this)}get previousSibling(){return jl(this)}get nextSibling(){return ro(this)}get previousElementSibling(){return yT(this)}get nextElementSibling(){return ew(this)}before(...t){bT(this,t)}after(...t){wT(this,t)}replaceWith(...t){nw(this,t)}remove(){xT(this[Et],this,this[F])}get data(){return this[Re]}set data(t){this[Re]=no(t),pl(this,this.parentNode)}get nodeValue(){return this.data}set nodeValue(t){this.data=t}get textContent(){return this.data}set textContent(t){this.data=t}get length(){return this.data.length}substringData(t,n){return this.data.substr(t,n)}appendData(t){this.data+=t}insertData(t,n){const{data:r}=this;this.data=r.slice(0,t)+n+r.slice(t)}deleteData(t,n){const{data:r}=this;this.data=r.slice(0,t)+r.slice(t+n)}replaceData(t,n,r){const{data:s}=this;this.data=s.slice(0,t)+r+s.slice(t+n)}toJSON(){const t=[];return lT(this,t),t}},rw=class vT extends Df{constructor(t,n=""){super(t,"#cdatasection",hi,n)}cloneNode(){const{ownerDocument:t,[Re]:n}=this;return new vT(t,n)}toString(){return`<![CDATA[${this[Re]}]]>`}},sw=class ST extends Df{constructor(t,n=""){super(t,"#comment",pi,n)}cloneNode(){const{ownerDocument:t,[Re]:n}=this;return new ST(t,n)}toString(){return`<!--${this[Re]}-->`}};function TF(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var EF={trueFunc:function(){return!0},falseFunc:function(){return!1}},ce=TF(EF),re;(function(e){e.Attribute="attribute",e.Pseudo="pseudo",e.PseudoElement="pseudo-element",e.Tag="tag",e.Universal="universal",e.Adjacent="adjacent",e.Child="child",e.Descendant="descendant",e.Parent="parent",e.Sibling="sibling",e.ColumnCombinator="column-combinator"})(re||(re={}));var mt;(function(e){e.Any="any",e.Element="element",e.End="end",e.Equals="equals",e.Exists="exists",e.Hyphen="hyphen",e.Not="not",e.Start="start"})(mt||(mt={}));const IS=/^[^\\#]?(?:\\(?:[\da-f]{1,6}\s?|.)|[\w\-\u00b0-\uFFFF])+/,OF=/\\([\da-f]{1,6}\s?|(\s)|.)/gi,IF=new Map([[126,mt.Element],[94,mt.Start],[36,mt.End],[42,mt.Any],[33,mt.Not],[124,mt.Hyphen]]),NF=new Set(["has","not","matches","is","where","host","host-context"]);function RF(e){switch(e.type){case re.Adjacent:case re.Child:case re.Descendant:case re.Parent:case re.Sibling:case re.ColumnCombinator:return!0;default:return!1}}const kF=new Set(["contains","icontains"]);function CF(e,t,n){const r=parseInt(t,16)-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,r&1023|56320)}function Lc(e){return e.replace(OF,CF)}function Xg(e){return e===39||e===34}function NS(e){return e===32||e===9||e===10||e===12||e===13}function _T(e){const t=[],n=AT(t,`${e}`,0);if(n<e.length)throw new Error(`Unmatched selector: ${e.slice(n)}`);return t}function AT(e,t,n){let r=[];function s(h){const f=t.slice(n+h).match(IS);if(!f)throw new Error(`Expected name, found ${t.slice(n)}`);const[g]=f;return n+=h+g.length,Lc(g)}function i(h){for(n+=h;n<t.length&&NS(t.charCodeAt(n));)n++}function u(){n+=1;const h=n;let f=1;for(;f>0&&n<t.length;n++)t.charCodeAt(n)===40&&!o(n)?f++:t.charCodeAt(n)===41&&!o(n)&&f--;if(f)throw new Error("Parenthesis not matched");return Lc(t.slice(h,n-1))}function o(h){let f=0;for(;t.charCodeAt(--h)===92;)f++;return(f&1)===1}function a(){if(r.length>0&&RF(r[r.length-1]))throw new Error("Did not expect successive traversals.")}function c(h){if(r.length>0&&r[r.length-1].type===re.Descendant){r[r.length-1].type=h;return}a(),r.push({type:h})}function l(h,f){r.push({type:re.Attribute,name:h,action:f,value:s(1),namespace:null,ignoreCase:"quirks"})}function d(){if(r.length&&r[r.length-1].type===re.Descendant&&r.pop(),r.length===0)throw new Error("Empty sub-selector");e.push(r)}if(i(0),t.length===n)return n;e:for(;n<t.length;){const h=t.charCodeAt(n);switch(h){case 32:case 9:case 10:case 12:case 13:{(r.length===0||r[0].type!==re.Descendant)&&(a(),r.push({type:re.Descendant})),i(1);break}case 62:{c(re.Child),i(1);break}case 60:{c(re.Parent),i(1);break}case 126:{c(re.Sibling),i(1);break}case 43:{c(re.Adjacent),i(1);break}case 46:{l("class",mt.Element);break}case 35:{l("id",mt.Equals);break}case 91:{i(1);let f,g=null;t.charCodeAt(n)===124?f=s(1):t.startsWith("*|",n)?(g="*",f=s(2)):(f=s(0),t.charCodeAt(n)===124&&t.charCodeAt(n+1)!==61&&(g=f,f=s(1))),i(0);let m=mt.Exists;const y=IF.get(t.charCodeAt(n));if(y){if(m=y,t.charCodeAt(n+1)!==61)throw new Error("Expected `=`");i(2)}else t.charCodeAt(n)===61&&(m=mt.Equals,i(1));let b="",w=null;if(m!=="exists"){if(Xg(t.charCodeAt(n))){const A=t.charCodeAt(n);let T=n+1;for(;T<t.length&&(t.charCodeAt(T)!==A||o(T));)T+=1;if(t.charCodeAt(T)!==A)throw new Error("Attribute value didn't end");b=Lc(t.slice(n+1,T)),n=T+1}else{const A=n;for(;n<t.length&&(!NS(t.charCodeAt(n))&&t.charCodeAt(n)!==93||o(n));)n+=1;b=Lc(t.slice(A,n))}i(0);const x=t.charCodeAt(n)|32;x===115?(w=!1,i(1)):x===105&&(w=!0,i(1))}if(t.charCodeAt(n)!==93)throw new Error("Attribute selector didn't terminate");n+=1;const v={type:re.Attribute,name:f,action:m,value:b,namespace:g,ignoreCase:w};r.push(v);break}case 58:{if(t.charCodeAt(n+1)===58){r.push({type:re.PseudoElement,name:s(2).toLowerCase(),data:t.charCodeAt(n)===40?u():null});continue}const f=s(1).toLowerCase();let g=null;if(t.charCodeAt(n)===40)if(NF.has(f)){if(Xg(t.charCodeAt(n+1)))throw new Error(`Pseudo-selector ${f} cannot be quoted`);if(g=[],n=AT(g,t,n+1),t.charCodeAt(n)!==41)throw new Error(`Missing closing parenthesis in :${f} (${t})`);n+=1}else{if(g=u(),kF.has(f)){const m=g.charCodeAt(0);m===g.charCodeAt(g.length-1)&&Xg(m)&&(g=g.slice(1,-1))}g=Lc(g)}r.push({type:re.Pseudo,name:f,data:g});break}case 44:{d(),r=[],i(1);break}default:{if(t.startsWith("/*",n)){const m=t.indexOf("*/",n+2);if(m<0)throw new Error("Comment was not terminated");n=m+2,r.length===0&&i(0);break}let f=null,g;if(h===42)n+=1,g="*";else if(h===124){if(g="",t.charCodeAt(n+1)===124){c(re.ColumnCombinator),i(2);break}}else if(IS.test(t.slice(n)))g=s(0);else break e;t.charCodeAt(n)===124&&t.charCodeAt(n+1)!==124&&(f=g,t.charCodeAt(n+1)===42?(g="*",n+=2):g=s(1)),r.push(g==="*"?{type:re.Universal,namespace:f}:{type:re.Tag,name:g,namespace:f})}}}return d(),n}const TT=new Map([[re.Universal,50],[re.Tag,30],[re.Attribute,1],[re.Pseudo,0]]);function iw(e){return!TT.has(e.type)}const DF=new Map([[mt.Exists,10],[mt.Equals,8],[mt.Not,7],[mt.Start,6],[mt.End,6],[mt.Any,5]]);function MF(e){const t=e.map(ET);for(let n=1;n<e.length;n++){const r=t[n];if(!(r<0))for(let s=n-1;s>=0&&r<t[s];s--){const i=e[s+1];e[s+1]=e[s],e[s]=i,t[s+1]=t[s],t[s]=r}}}function ET(e){var t,n;let r=(t=TT.get(e.type))!==null&&t!==void 0?t:-1;return e.type===re.Attribute?(r=(n=DF.get(e.action))!==null&&n!==void 0?n:4,e.action===mt.Equals&&e.name==="id"&&(r=9),e.ignoreCase&&(r>>=1)):e.type===re.Pseudo&&(e.data?e.name==="has"||e.name==="contains"?r=0:Array.isArray(e.data)?(r=Math.min(...e.data.map(s=>Math.min(...s.map(ET)))),r<0&&(r=0)):r=2:r=3),r}const PF=/[-[\]{}()*+?.,\\^$|#\s]/g;function RS(e){return e.replace(PF,"\\$&")}const jF=new Set(["accept","accept-charset","align","alink","axis","bgcolor","charset","checked","clear","codetype","color","compact","declare","defer","dir","direction","disabled","enctype","face","frame","hreflang","http-equiv","lang","language","link","media","method","multiple","nohref","noresize","noshade","nowrap","readonly","rel","rev","rules","scope","scrolling","selected","shape","target","text","type","valign","valuetype","vlink"]);function Nu(e,t){return typeof e.ignoreCase=="boolean"?e.ignoreCase:e.ignoreCase==="quirks"?!!t.quirksMode:!t.xmlMode&&jF.has(e.name)}const LF={equals(e,t,n){const{adapter:r}=n,{name:s}=t;let{value:i}=t;return Nu(t,n)?(i=i.toLowerCase(),u=>{const o=r.getAttributeValue(u,s);return o!=null&&o.length===i.length&&o.toLowerCase()===i&&e(u)}):u=>r.getAttributeValue(u,s)===i&&e(u)},hyphen(e,t,n){const{adapter:r}=n,{name:s}=t;let{value:i}=t;const u=i.length;return Nu(t,n)?(i=i.toLowerCase(),function(a){const c=r.getAttributeValue(a,s);return c!=null&&(c.length===u||c.charAt(u)==="-")&&c.substr(0,u).toLowerCase()===i&&e(a)}):function(a){const c=r.getAttributeValue(a,s);return c!=null&&(c.length===u||c.charAt(u)==="-")&&c.substr(0,u)===i&&e(a)}},element(e,t,n){const{adapter:r}=n,{name:s,value:i}=t;if(/\s/.test(i))return ce.falseFunc;const u=new RegExp(`(?:^|\\s)${RS(i)}(?:$|\\s)`,Nu(t,n)?"i":"");return function(a){const c=r.getAttributeValue(a,s);return c!=null&&c.length>=i.length&&u.test(c)&&e(a)}},exists(e,{name:t},{adapter:n}){return r=>n.hasAttrib(r,t)&&e(r)},start(e,t,n){const{adapter:r}=n,{name:s}=t;let{value:i}=t;const u=i.length;return u===0?ce.falseFunc:Nu(t,n)?(i=i.toLowerCase(),o=>{const a=r.getAttributeValue(o,s);return a!=null&&a.length>=u&&a.substr(0,u).toLowerCase()===i&&e(o)}):o=>{var a;return!!(!((a=r.getAttributeValue(o,s))===null||a===void 0)&&a.startsWith(i))&&e(o)}},end(e,t,n){const{adapter:r}=n,{name:s}=t;let{value:i}=t;const u=-i.length;return u===0?ce.falseFunc:Nu(t,n)?(i=i.toLowerCase(),o=>{var a;return((a=r.getAttributeValue(o,s))===null||a===void 0?void 0:a.substr(u).toLowerCase())===i&&e(o)}):o=>{var a;return!!(!((a=r.getAttributeValue(o,s))===null||a===void 0)&&a.endsWith(i))&&e(o)}},any(e,t,n){const{adapter:r}=n,{name:s,value:i}=t;if(i==="")return ce.falseFunc;if(Nu(t,n)){const u=new RegExp(RS(i),"i");return function(a){const c=r.getAttributeValue(a,s);return c!=null&&c.length>=i.length&&u.test(c)&&e(a)}}return u=>{var o;return!!(!((o=r.getAttributeValue(u,s))===null||o===void 0)&&o.includes(i))&&e(u)}},not(e,t,n){const{adapter:r}=n,{name:s}=t;let{value:i}=t;return i===""?u=>!!r.getAttributeValue(u,s)&&e(u):Nu(t,n)?(i=i.toLowerCase(),u=>{const o=r.getAttributeValue(u,s);return(o==null||o.length!==i.length||o.toLowerCase()!==i)&&e(u)}):u=>r.getAttributeValue(u,s)!==i&&e(u)}},FF=new Set([9,10,12,13,32]),kS=48,$F=57;function BF(e){if(e=e.trim().toLowerCase(),e==="even")return[2,0];if(e==="odd")return[2,1];let t=0,n=0,r=i(),s=u();if(t<e.length&&e.charAt(t)==="n"&&(t++,n=r*(s??1),o(),t<e.length?(r=i(),o(),s=u()):r=s=0),s===null||t<e.length)throw new Error(`n-th rule couldn't be parsed ('${e}')`);return[n,r*s];function i(){return e.charAt(t)==="-"?(t++,-1):(e.charAt(t)==="+"&&t++,1)}function u(){const a=t;let c=0;for(;t<e.length&&e.charCodeAt(t)>=kS&&e.charCodeAt(t)<=$F;)c=c*10+(e.charCodeAt(t)-kS),t++;return t===a?null:c}function o(){for(;t<e.length&&FF.has(e.charCodeAt(t));)t++}}function UF(e){const t=e[0],n=e[1]-1;if(n<0&&t<=0)return ce.falseFunc;if(t===-1)return i=>i<=n;if(t===0)return i=>i===n;if(t===1)return n<0?ce.trueFunc:i=>i>=n;const r=Math.abs(t),s=(n%r+r)%r;return t>1?i=>i>=n&&i%r===s:i=>i<=n&&i%r===s}function bd(e){return UF(BF(e))}function wd(e,t){return n=>{const r=t.getParent(n);return r!=null&&t.isTag(r)&&e(n)}}const E1={contains(e,t,{adapter:n}){return function(s){return e(s)&&n.getText(s).includes(t)}},icontains(e,t,{adapter:n}){const r=t.toLowerCase();return function(i){return e(i)&&n.getText(i).toLowerCase().includes(r)}},"nth-child"(e,t,{adapter:n,equals:r}){const s=bd(t);return s===ce.falseFunc?ce.falseFunc:s===ce.trueFunc?wd(e,n):function(u){const o=n.getSiblings(u);let a=0;for(let c=0;c<o.length&&!r(u,o[c]);c++)n.isTag(o[c])&&a++;return s(a)&&e(u)}},"nth-last-child"(e,t,{adapter:n,equals:r}){const s=bd(t);return s===ce.falseFunc?ce.falseFunc:s===ce.trueFunc?wd(e,n):function(u){const o=n.getSiblings(u);let a=0;for(let c=o.length-1;c>=0&&!r(u,o[c]);c--)n.isTag(o[c])&&a++;return s(a)&&e(u)}},"nth-of-type"(e,t,{adapter:n,equals:r}){const s=bd(t);return s===ce.falseFunc?ce.falseFunc:s===ce.trueFunc?wd(e,n):function(u){const o=n.getSiblings(u);let a=0;for(let c=0;c<o.length;c++){const l=o[c];if(r(u,l))break;n.isTag(l)&&n.getName(l)===n.getName(u)&&a++}return s(a)&&e(u)}},"nth-last-of-type"(e,t,{adapter:n,equals:r}){const s=bd(t);return s===ce.falseFunc?ce.falseFunc:s===ce.trueFunc?wd(e,n):function(u){const o=n.getSiblings(u);let a=0;for(let c=o.length-1;c>=0;c--){const l=o[c];if(r(u,l))break;n.isTag(l)&&n.getName(l)===n.getName(u)&&a++}return s(a)&&e(u)}},root(e,t,{adapter:n}){return r=>{const s=n.getParent(r);return(s==null||!n.isTag(s))&&e(r)}},scope(e,t,n,r){const{equals:s}=n;return!r||r.length===0?E1.root(e,t,n):r.length===1?i=>s(r[0],i)&&e(i):i=>r.includes(i)&&e(i)},hover:Kg("isHovered"),visited:Kg("isVisited"),active:Kg("isActive")};function Kg(e){return function(n,r,{adapter:s}){const i=s[e];return typeof i!="function"?ce.falseFunc:function(o){return i(o)&&n(o)}}}const CS={empty(e,{adapter:t}){return!t.getChildren(e).some(n=>t.isTag(n)||t.getText(n)!=="")},"first-child"(e,{adapter:t,equals:n}){if(t.prevElementSibling)return t.prevElementSibling(e)==null;const r=t.getSiblings(e).find(s=>t.isTag(s));return r!=null&&n(e,r)},"last-child"(e,{adapter:t,equals:n}){const r=t.getSiblings(e);for(let s=r.length-1;s>=0;s--){if(n(e,r[s]))return!0;if(t.isTag(r[s]))break}return!1},"first-of-type"(e,{adapter:t,equals:n}){const r=t.getSiblings(e),s=t.getName(e);for(let i=0;i<r.length;i++){const u=r[i];if(n(e,u))return!0;if(t.isTag(u)&&t.getName(u)===s)break}return!1},"last-of-type"(e,{adapter:t,equals:n}){const r=t.getSiblings(e),s=t.getName(e);for(let i=r.length-1;i>=0;i--){const u=r[i];if(n(e,u))return!0;if(t.isTag(u)&&t.getName(u)===s)break}return!1},"only-of-type"(e,{adapter:t,equals:n}){const r=t.getName(e);return t.getSiblings(e).every(s=>n(e,s)||!t.isTag(s)||t.getName(s)!==r)},"only-child"(e,{adapter:t,equals:n}){return t.getSiblings(e).every(r=>n(e,r)||!t.isTag(r))}};function DS(e,t,n,r){if(n===null){if(e.length>r)throw new Error(`Pseudo-class :${t} requires an argument`)}else if(e.length===r)throw new Error(`Pseudo-class :${t} doesn't have any arguments`)}const qF={"any-link":":is(a, area, link)[href]",link:":any-link:not(:visited)",disabled:`:is(
        :is(button, input, select, textarea, optgroup, option)[disabled],
        optgroup[disabled] > option,
        fieldset[disabled]:not(fieldset[disabled] legend:first-of-type *)
    )`,enabled:":not(:disabled)",checked:":is(:is(input[type=radio], input[type=checkbox])[checked], option:selected)",required:":is(input, select, textarea)[required]",optional:":is(input, select, textarea):not([required])",selected:"option:is([selected], select:not([multiple]):not(:has(> option[selected])) > :first-of-type)",checkbox:"[type=checkbox]",file:"[type=file]",password:"[type=password]",radio:"[type=radio]",reset:"[type=reset]",image:"[type=image]",submit:"[type=submit]",parent:":not(:empty)",header:":is(h1, h2, h3, h4, h5, h6)",button:":is(button, input[type=button])",input:":is(input, textarea, select, button)",text:"input:is(:not([type!='']), [type=text])"},OT={};function IT(e,t){return e===ce.falseFunc?ce.falseFunc:n=>t.isTag(n)&&e(n)}function VF(e,t){const n=t.getSiblings(e);if(n.length<=1)return[];const r=n.indexOf(e);return r<0||r===n.length-1?[]:n.slice(r+1).filter(t.isTag)}function O1(e){return{xmlMode:!!e.xmlMode,lowerCaseAttributeNames:!!e.lowerCaseAttributeNames,lowerCaseTags:!!e.lowerCaseTags,quirksMode:!!e.quirksMode,cacheResults:!!e.cacheResults,pseudos:e.pseudos,adapter:e.adapter,equals:e.equals}}const Yg=(e,t,n,r,s)=>{const i=s(t,O1(n),r);return i===ce.trueFunc?e:i===ce.falseFunc?ce.falseFunc:u=>i(u)&&e(u)},Zg={is:Yg,matches:Yg,where:Yg,not(e,t,n,r,s){const i=s(t,O1(n),r);return i===ce.falseFunc?e:i===ce.trueFunc?ce.falseFunc:u=>!i(u)&&e(u)},has(e,t,n,r,s){const{adapter:i}=n,u=O1(n);u.relativeSelector=!0;const o=t.some(l=>l.some(iw))?[OT]:void 0,a=s(t,u,o);if(a===ce.falseFunc)return ce.falseFunc;const c=IT(a,i);if(o&&a!==ce.trueFunc){const{shouldTestNextSiblings:l=!1}=a;return d=>{if(!e(d))return!1;o[0]=d;const h=i.getChildren(d),f=l?[...h,...VF(d,i)]:h;return i.existsOne(c,f)}}return l=>e(l)&&i.existsOne(c,i.getChildren(l))}};function zF(e,t,n,r,s){var i;const{name:u,data:o}=t;if(Array.isArray(o)){if(!(u in Zg))throw new Error(`Unknown pseudo-class :${u}(${o})`);return Zg[u](e,o,n,r,s)}const a=(i=n.pseudos)===null||i===void 0?void 0:i[u],c=typeof a=="string"?a:qF[u];if(typeof c=="string"){if(o!=null)throw new Error(`Pseudo ${u} doesn't have any arguments`);const l=_T(c);return Zg.is(e,l,n,r,s)}if(typeof a=="function")return DS(a,u,o,1),l=>a(l,o)&&e(l);if(u in E1)return E1[u](e,o,n,r);if(u in CS){const l=CS[u];return DS(l,u,o,2),d=>l(d,n,o)&&e(d)}throw new Error(`Unknown pseudo-class :${u}`)}function em(e,t){const n=t.getParent(e);return n&&t.isTag(n)?n:null}function HF(e,t,n,r,s){const{adapter:i,equals:u}=n;switch(t.type){case re.PseudoElement:throw new Error("Pseudo-elements are not supported by css-select");case re.ColumnCombinator:throw new Error("Column combinators are not yet supported by css-select");case re.Attribute:{if(t.namespace!=null)throw new Error("Namespaced attributes are not yet supported by css-select");return(!n.xmlMode||n.lowerCaseAttributeNames)&&(t.name=t.name.toLowerCase()),LF[t.action](e,t,n)}case re.Pseudo:return zF(e,t,n,r,s);case re.Tag:{if(t.namespace!=null)throw new Error("Namespaced tag names are not yet supported by css-select");let{name:o}=t;return(!n.xmlMode||n.lowerCaseTags)&&(o=o.toLowerCase()),function(c){return i.getName(c)===o&&e(c)}}case re.Descendant:{if(n.cacheResults===!1||typeof WeakSet>"u")return function(c){let l=c;for(;l=em(l,i);)if(e(l))return!0;return!1};const o=new WeakSet;return function(c){let l=c;for(;l=em(l,i);)if(!o.has(l)){if(i.isTag(l)&&e(l))return!0;o.add(l)}return!1}}case"_flexibleDescendant":return function(a){let c=a;do if(e(c))return!0;while(c=em(c,i));return!1};case re.Parent:return function(a){return i.getChildren(a).some(c=>i.isTag(c)&&e(c))};case re.Child:return function(a){const c=i.getParent(a);return c!=null&&i.isTag(c)&&e(c)};case re.Sibling:return function(a){const c=i.getSiblings(a);for(let l=0;l<c.length;l++){const d=c[l];if(u(a,d))break;if(i.isTag(d)&&e(d))return!0}return!1};case re.Adjacent:return i.prevElementSibling?function(a){const c=i.prevElementSibling(a);return c!=null&&e(c)}:function(a){const c=i.getSiblings(a);let l;for(let d=0;d<c.length;d++){const h=c[d];if(u(a,h))break;i.isTag(h)&&(l=h)}return!!l&&e(l)};case re.Universal:{if(t.namespace!=null&&t.namespace!=="*")throw new Error("Namespaced universal selectors are not yet supported by css-select");return e}}}function NT(e,t,n){const r=GF(e,t,n);return IT(r,t.adapter)}function GF(e,t,n){const r=typeof e=="string"?_T(e):e;return kT(r,t,n)}function RT(e){return e.type===re.Pseudo&&(e.name==="scope"||Array.isArray(e.data)&&e.data.some(t=>t.some(RT)))}const JF={type:re.Descendant},WF={type:"_flexibleDescendant"},QF={type:re.Pseudo,name:"scope",data:null};function XF(e,{adapter:t},n){const r=!!(n!=null&&n.every(s=>{const i=t.isTag(s)&&t.getParent(s);return s===OT||i&&t.isTag(i)}));for(const s of e){if(!(s.length>0&&iw(s[0])&&s[0].type!==re.Descendant))if(r&&!s.some(RT))s.unshift(JF);else continue;s.unshift(QF)}}function kT(e,t,n){var r;e.forEach(MF),n=(r=t.context)!==null&&r!==void 0?r:n;const s=Array.isArray(n),i=n&&(Array.isArray(n)?n:[n]);if(t.relativeSelector!==!1)XF(e,t,i);else if(e.some(a=>a.length>0&&iw(a[0])))throw new Error("Relative selectors are not allowed when the `relativeSelector` option is disabled");let u=!1;const o=e.map(a=>{if(a.length>=2){const[c,l]=a;c.type!==re.Pseudo||c.name!=="scope"||(s&&l.type===re.Descendant?a[1]=WF:(l.type===re.Adjacent||l.type===re.Sibling)&&(u=!0))}return KF(a,t,i)}).reduce(YF,ce.falseFunc);return o.shouldTestNextSiblings=u,o}function KF(e,t,n){var r;return e.reduce((s,i)=>s===ce.falseFunc?ce.falseFunc:HF(s,i,t,n,kT),(r=t.rootFunc)!==null&&r!==void 0?r:ce.trueFunc)}function YF(e,t){return t===ce.falseFunc||e===ce.trueFunc?e:e===ce.falseFunc||t===ce.trueFunc?t:function(r){return e(r)||t(r)}}const CT=(e,t)=>e===t,ZF={adapter:Xb,equals:CT};function DT(e){var t,n,r,s;const i=e??ZF;return(t=i.adapter)!==null&&t!==void 0||(i.adapter=Xb),(n=i.equals)!==null&&n!==void 0||(i.equals=(s=(r=i.adapter)===null||r===void 0?void 0:r.equals)!==null&&s!==void 0?s:CT),i}function e$(e){return function(n,r,s){const i=DT(r);return e(n,i,s)}}const t$=e$(NT);function n$(e,t,n){const r=DT(n);return(typeof t=="function"?t:NT(t,r))(e)}const{isArray:r$}=Array,Hp=({nodeType:e})=>e===me,MT=(e,t)=>t.some(n=>Hp(n)&&(e(n)||MT(e,hc(n)))),s$=(e,t)=>t==="class"?e.classList.value:e.getAttribute(t),hc=({childNodes:e})=>e,i$=e=>{const{localName:t}=e;return ru(e)?t.toLowerCase():t},u$=({parentNode:e})=>e,o$=e=>{const{parentNode:t}=e;return t?hc(t):e},I1=e=>r$(e)?e.map(I1).join(""):Hp(e)?I1(hc(e)):e.nodeType===nn?e.data:"",a$=(e,t)=>e.hasAttribute(t),c$=e=>{let{length:t}=e;for(;t--;){const n=e[t];if(t&&-1<e.lastIndexOf(n,t-1)){e.splice(t,1);continue}for(let{parentNode:r}=n;r;r=r.parentNode)if(e.includes(r)){e.splice(t,1);break}}return e},PT=(e,t)=>{const n=[];for(const r of t)Hp(r)&&(e(r)&&n.push(r),n.push(...PT(e,hc(r))));return n},jT=(e,t)=>{for(let n of t)if(e(n)||(n=jT(e,hc(n))))return n;return null},LT={isTag:Hp,existsOne:MT,getAttributeValue:s$,getChildren:hc,getName:i$,getParent:u$,getSiblings:o$,getText:I1,hasAttrib:a$,removeSubsets:c$,findAll:PT,findOne:jT},N1=(e,t)=>t$(t,{context:t.includes(":scope")?e:void 0,xmlMode:!ru(e),adapter:LT}),l$=(e,t)=>n$(e,t,{strict:!0,context:t.includes(":scope")?e:void 0,xmlMode:!ru(e),adapter:LT});let Mf=class FT extends Df{constructor(t,n=""){super(t,"#text",nn,n)}get wholeText(){const t=[];let{previousSibling:n,nextSibling:r}=this;for(;n&&n.nodeType===nn;){t.unshift(n[Re]);n=n.previousSibling}for(t.push(this[Re]);r&&r.nodeType===nn;){t.push(r[Re]);r=r.nextSibling}return t.join("")}cloneNode(){const{ownerDocument:t,[Re]:n}=this;return new FT(t,n)}toString(){return Zb(this[Re])}};const f$=e=>e instanceof No,tm=(e,t,n)=>{const{ownerDocument:r}=e;for(const s of n)e.insertBefore(f$(s)?s:new Mf(r,s),t)};class $T extends No{constructor(t,n,r){super(t,n,r),this[Xt]=null,this[F]=this[Z]={[F]:null,[Et]:this,[An]:this,nodeType:nu,ownerDocument:this.ownerDocument,parentNode:null}}get childNodes(){const t=new bs;let{firstChild:n}=this;for(;n;)t.push(n),n=ro(n);return t}get children(){const t=new bs;let{firstElementChild:n}=this;for(;n;)t.push(n),n=ew(n);return t}get firstChild(){let{[F]:t,[Z]:n}=this;for(;t.nodeType===Mt;)t=t[F];return t===n?null:t}get firstElementChild(){let{firstChild:t}=this;for(;t;){if(t.nodeType===me)return t;t=ro(t)}return null}get lastChild(){const t=this[Z][Et];switch(t.nodeType){case nu:return t[An];case Mt:return null}return t===this?null:t}get lastElementChild(){let{lastChild:t}=this;for(;t;){if(t.nodeType===me)return t;t=jl(t)}return null}get childElementCount(){return this.children.length}prepend(...t){tm(this,this.firstChild,t)}append(...t){tm(this,this[Z],t)}replaceChildren(...t){let{[F]:n,[Z]:r}=this;for(;n!==r&&n.nodeType===Mt;)n=n[F];for(;n!==r;){const s=Gn(n)[F];n.remove(),n=s}t.length&&tm(this,r,t)}getElementsByClassName(t){const n=new bs;let{[F]:r,[Z]:s}=this;for(;r!==s;)r.nodeType===me&&r.hasAttribute("class")&&r.classList.has(t)&&n.push(r),r=r[F];return n}getElementsByTagName(t){const n=new bs;let{[F]:r,[Z]:s}=this;for(;r!==s;)r.nodeType===me&&(r.localName===t||_1(r)===t)&&n.push(r),r=r[F];return n}querySelector(t){const n=N1(this,t);let{[F]:r,[Z]:s}=this;for(;r!==s;){if(r.nodeType===me&&n(r))return r;r=r.nodeType===me&&r.localName==="template"?r[Z]:r[F]}return null}querySelectorAll(t){const n=N1(this,t),r=new bs;let{[F]:s,[Z]:i}=this;for(;s!==i;)s.nodeType===me&&n(s)&&r.push(s),s=s.nodeType===me&&s.localName==="template"?s[Z]:s[F];return r}appendChild(t){return this.insertBefore(t,this[Z])}contains(t){let n=t;for(;n&&n!==this;)n=n.parentNode;return n===this}insertBefore(t,n=null){if(t===n)return t;if(t===this)throw new Error("unable to append a node to itself");const r=n||this[Z];switch(t.nodeType){case me:t.remove(),t.parentNode=this,sT(r[Et],t,r),pl(t,null),A1(t);break;case ii:{let{[Xt]:s,firstChild:i,lastChild:u}=t;if(i){cF(r[Et],i,u,r),Gr(t,t[Z]),s&&s.replaceChildren();do i.parentNode=this,pl(i,null),i.nodeType===me&&A1(i);while(i!==u&&(i=ro(i)))}break}case nn:case pi:case hi:t.remove();default:t.parentNode=this,qp(r[Et],t,r),pl(t,null);break}return t}normalize(){let{[F]:t,[Z]:n}=this;for(;t!==n;){const{[F]:r,[Et]:s,nodeType:i}=t;i===nn&&(t[Re]?s&&s.nodeType===nn&&(s.textContent+=t.textContent,t.remove()):t.remove()),t=r}}removeChild(t){if(t.parentNode!==this)throw new Error("node is not a child");return t.remove(),t}replaceChild(t,n){const r=Gn(n)[F];return n.remove(),this.insertBefore(t,r),n}}class uw extends $T{getElementById(t){let{[F]:n,[Z]:r}=this;for(;n!==r;){if(n.nodeType===me&&n.id===t)return n;n=n[F]}return null}cloneNode(t){const{ownerDocument:n,constructor:r}=this,s=new r(n);if(t){const{[Z]:i}=s;for(const u of this.childNodes)s.insertBefore(u.cloneNode(t),i)}return s}toString(){const{childNodes:t,localName:n}=this;return`<${n}>${t.join("")}</${n}>`}toJSON(){const t=[];return gF(this,t),t}}let ow=class extends uw{constructor(t){super(t,"#document-fragment",ii)}},Th=class BT extends No{constructor(t,n,r="",s=""){super(t,"#document-type",Ia),this.name=n,this.publicId=r,this.systemId=s}cloneNode(){const{ownerDocument:t,name:n,publicId:r,systemId:s}=this;return new BT(t,n,r,s)}toString(){const{name:t,publicId:n,systemId:r}=this,s=0<n.length,i=[t];return s&&i.push("PUBLIC",`"${n}"`),r.length&&(s||i.push("SYSTEM"),i.push(`"${r}"`)),`<!DOCTYPE ${i.join(" ")}>`}toJSON(){const t=[];return fT(this,t),t}};const UT=e=>e.childNodes.join(""),qT=(e,t)=>{const{ownerDocument:n}=e,{constructor:r}=n,s=new r;s[$r]=n[$r];const{childNodes:i}=oT(s,ru(e),t);e.replaceChildren(...i.map(VT,n))};function VT(e){switch(e.ownerDocument=this,e.nodeType){case me:case ii:e.childNodes.forEach(VT,this);break}return e}var Wd=e=>e.replace(/(([A-Z0-9])([A-Z0-9][a-z]))|(([a-z0-9]+)([A-Z]))/g,"$2$5-$3$6").toLowerCase();const Qd=new WeakMap,nm=e=>`data-${Wd(e)}`,d$=e=>e.slice(5).replace(/-([a-z])/g,(t,n)=>n.toUpperCase()),h$={get(e,t){if(t in e)return Qd.get(e).getAttribute(nm(t))},set(e,t,n){return e[t]=n,Qd.get(e).setAttribute(nm(t),n),!0},deleteProperty(e,t){return t in e&&Qd.get(e).removeAttribute(nm(t)),delete e[t]}};class zT{constructor(t){for(const{name:n,value:r}of t.attributes)/^data-/.test(n)&&(this[d$(n)]=r);return Qd.set(this,t),new Proxy(this,h$)}}xn(zT.prototype,null);const{add:p$}=Set.prototype,MS=(e,t)=>{for(const n of t)n&&p$.call(e,n)},Fc=({[S6]:e,value:t})=>{const n=e.getAttributeNode("class");n?n.value=t:T1(e,new Cf(e.ownerDocument,"class",t))};class g$ extends Set{constructor(t){super(),this[S6]=t;const n=t.getAttributeNode("class");n&&MS(this,n.value.split(/\s+/))}get length(){return this.size}get value(){return[...this].join(" ")}add(...t){MS(this,t),Fc(this)}contains(t){return this.has(t)}remove(...t){for(const n of t)this.delete(n);Fc(this)}toggle(t,n){if(this.has(t)){if(n)return!0;this.delete(t),Fc(this)}else if(n||arguments.length===1)return super.add(t),Fc(this),!0;return!1}replace(t,n){return this.has(t)?(this.delete(t),super.add(n),Fc(this),!0):!1}supports(){return!0}}const Eh=new WeakMap,R1=e=>[...e.keys()].filter(t=>t!==Xt),Oh=e=>{const t=Eh.get(e).getAttributeNode("style");if((!t||t[wh]||e.get(Xt)!==t)&&(e.clear(),t)){e.set(Xt,t);for(const n of t[Re].split(/\s*;\s*/)){let[r,...s]=n.split(":");if(s.length>0){r=r.trim();const i=s.join(":").trim();r&&i&&e.set(r,i)}}}return t},xd={get(e,t){return t in m$?e[t]:(Oh(e),t==="length"?R1(e).length:/^\d+$/.test(t)?R1(e)[t]:e.get(Wd(t)))},set(e,t,n){if(t==="cssText")e[t]=n;else{let r=Oh(e);if(n==null?e.delete(Wd(t)):e.set(Wd(t),n),!r){const s=Eh.get(e);r=s.ownerDocument.createAttribute("style"),s.setAttributeNode(r),e.set(Xt,r)}r[wh]=!1,r[Re]=e.toString()}return!0}};let HT=class extends Map{constructor(t){return super(),Eh.set(this,t),new Proxy(this,xd)}get cssText(){return this.toString()}set cssText(t){Eh.get(this).setAttribute("style",t)}getPropertyValue(t){const n=this[Xt];return xd.get(n,t)}setProperty(t,n){const r=this[Xt];xd.set(r,t,n)}removeProperty(t){const n=this[Xt];xd.set(n,t,null)}[Symbol.iterator](){const t=this[Xt];Oh(t);const n=R1(t),{length:r}=n;let s=0;return{next(){const i=s===r;return{done:i,value:i?null:n[s++]}}}}get[Xt](){return this}toString(){const t=this[Xt];Oh(t);const n=[];return t.forEach(y$,n),n.join(";")}};const{prototype:m$}=HT;function y$(e,t){t!==Xt&&this.push(`${t}:${e}`)}const PS=3,jS=2,LS=1,FS=0;function b$(e){return e.currentTarget}class go{static get BUBBLING_PHASE(){return PS}static get AT_TARGET(){return jS}static get CAPTURING_PHASE(){return LS}static get NONE(){return FS}constructor(t,n={}){this.type=t,this.bubbles=!!n.bubbles,this.cancelBubble=!1,this._stopImmediatePropagationFlag=!1,this.cancelable=!!n.cancelable,this.eventPhase=this.NONE,this.timeStamp=Date.now(),this.defaultPrevented=!1,this.originalTarget=null,this.returnValue=null,this.srcElement=null,this.target=null,this._path=[]}get BUBBLING_PHASE(){return PS}get AT_TARGET(){return jS}get CAPTURING_PHASE(){return LS}get NONE(){return FS}preventDefault(){this.defaultPrevented=!0}composedPath(){return this._path.map(b$)}stopPropagation(){this.cancelBubble=!0}stopImmediatePropagation(){this.stopPropagation(),this._stopImmediatePropagationFlag=!0}}class GT extends Array{constructor(t){super(),this.ownerElement=t}getNamedItem(t){return this.ownerElement.getAttributeNode(t)}setNamedItem(t){this.ownerElement.setAttributeNode(t),this.unshift(t)}removeNamedItem(t){const n=this.getNamedItem(t);this.ownerElement.removeAttribute(t),this.splice(this.indexOf(n),1)}item(t){return t<this.length?this[t]:null}getNamedItemNS(t,n){return this.getNamedItem(n)}setNamedItemNS(t,n){return this.setNamedItem(n)}removeNamedItemNS(t,n){return this.removeNamedItem(n)}}let aw=class extends uw{constructor(t){super(t.ownerDocument,"#shadow-root",ii),this.host=t}get innerHTML(){return UT(this)}set innerHTML(t){qT(this,t)}};const w$={get(e,t){return t in e?e[t]:e.find(({name:n})=>n===t)}},$S=(e,t,n)=>{if("ownerSVGElement"in t){const r=e.createElementNS(_h,n);return r.ownerSVGElement=t.ownerSVGElement,r}return e.createElement(n)},x$=({localName:e,ownerDocument:t})=>t[fc].voidElements.test(e);let Pf=class extends $T{constructor(t,n){super(t,n,me),this[Jo]=null,this[Gg]=null,this[Jg]=null}get isConnected(){return gT(this)}get parentElement(){return mT(this)}get previousSibling(){return jl(this)}get nextSibling(){return ro(this)}get namespaceURI(){return"http://www.w3.org/1999/xhtml"}get previousElementSibling(){return yT(this)}get nextElementSibling(){return ew(this)}before(...t){bT(this,t)}after(...t){wT(this,t)}replaceWith(...t){nw(this,t)}remove(){xT(this[Et],this,this[Z][F])}get id(){return M.get(this,"id")}set id(t){M.set(this,"id",t)}get className(){return this.classList.value}set className(t){const{classList:n}=this;n.clear(),n.add(...no(t).split(/\s+/))}get nodeName(){return _1(this)}get tagName(){return _1(this)}get classList(){return this[Jo]||(this[Jo]=new g$(this))}get dataset(){return this[Gg]||(this[Gg]=new zT(this))}getBoundingClientRect(){return{x:0,y:0,bottom:0,height:0,left:0,right:0,top:0,width:0}}get nonce(){return M.get(this,"nonce")}set nonce(t){M.set(this,"nonce",t)}get style(){return this[Jg]||(this[Jg]=new HT(this))}get tabIndex(){return Hi.get(this,"tabindex")||-1}set tabIndex(t){Hi.set(this,"tabindex",t)}get slot(){return M.get(this,"slot")}set slot(t){M.set(this,"slot",t)}get innerText(){const t=[];let{[F]:n,[Z]:r}=this;for(;n!==r;)n.nodeType===nn?t.push(n.textContent.replace(/\s+/g," ")):t.length&&n[F]!=r&&WL.has(n.tagName)&&t.push(`
`),n=n[F];return t.join("")}get textContent(){const t=[];let{[F]:n,[Z]:r}=this;for(;n!==r;)n.nodeType===nn&&t.push(n.textContent),n=n[F];return t.join("")}set textContent(t){this.replaceChildren(),t!=null&&t!==""&&this.appendChild(new Mf(this.ownerDocument,t))}get innerHTML(){return UT(this)}set innerHTML(t){qT(this,t)}get outerHTML(){return this.toString()}set outerHTML(t){const n=this.ownerDocument.createElement("");n.innerHTML=t,this.replaceWith(...n.childNodes)}get attributes(){const t=new GT(this);let n=this[F];for(;n.nodeType===Mt;)t.push(n),n=n[F];return new Proxy(t,w$)}focus(){this.dispatchEvent(new go("focus"))}getAttribute(t){if(t==="class")return this.className;const n=this.getAttributeNode(t);return n&&(ru(this)?n.value:Zb(n.value))}getAttributeNode(t){let n=this[F];for(;n.nodeType===Mt;){if(n.name===t)return n;n=n[F]}return null}getAttributeNames(){const t=new bs;let n=this[F];for(;n.nodeType===Mt;)t.push(n.name),n=n[F];return t}hasAttribute(t){return!!this.getAttributeNode(t)}hasAttributes(){return this[F].nodeType===Mt}removeAttribute(t){t==="class"&&this[Jo]&&this[Jo].clear();let n=this[F];for(;n.nodeType===Mt;){if(n.name===t){ES(this,n);return}n=n[F]}}removeAttributeNode(t){let n=this[F];for(;n.nodeType===Mt;){if(n===t){ES(this,n);return}n=n[F]}}setAttribute(t,n){if(t==="class")this.className=n;else{const r=this.getAttributeNode(t);r?r.value=n:T1(this,new Cf(this.ownerDocument,t,n))}}setAttributeNode(t){const{name:n}=t,r=this.getAttributeNode(n);if(r!==t){r&&this.removeAttributeNode(r);const{ownerElement:s}=t;s&&s.removeAttributeNode(t),T1(this,t)}return r}toggleAttribute(t,n){return this.hasAttribute(t)?n?!0:(this.removeAttribute(t),!1):n||arguments.length===1?(this.setAttribute(t,""),!0):!1}get shadowRoot(){if(zi.has(this)){const{mode:t,shadowRoot:n}=zi.get(this);if(t==="open")return n}return null}attachShadow(t){if(zi.has(this))throw new Error("operation not supported");const n=new aw(this);return zi.set(this,{mode:t.mode,shadowRoot:n}),n}matches(t){return l$(this,t)}closest(t){let n=this;const r=N1(n,t);for(;n&&!r(n);)n=n.parentElement;return n}insertAdjacentElement(t,n){const{parentElement:r}=this;switch(t){case"beforebegin":if(r){r.insertBefore(n,this);break}return null;case"afterbegin":this.insertBefore(n,this.firstChild);break;case"beforeend":this.insertBefore(n,null);break;case"afterend":if(r){r.insertBefore(n,this.nextSibling);break}return null}return n}insertAdjacentHTML(t,n){const r=this.ownerDocument.createElement("template");r.innerHTML=n,this.insertAdjacentElement(t,r.content)}insertAdjacentText(t,n){const r=this.ownerDocument.createTextNode(n);this.insertAdjacentElement(t,r)}cloneNode(t=!1){const{ownerDocument:n,localName:r}=this,s=l=>{l.parentNode=u,Gr(o,l),o=l},i=$S(n,this,r);let u=i,o=i,{[F]:a,[Z]:c}=this;for(;a!==c&&(t||a.nodeType===Mt);){switch(a.nodeType){case nu:Gr(o,u[Z]),o=u[Z],u=u.parentNode;break;case me:{const l=$S(n,a,a.localName);s(l),u=l;break}case Mt:{const l=a.cloneNode(t);l.ownerElement=u,s(l);break}case nn:case pi:case hi:s(a.cloneNode(t));break}a=a[F]}return Gr(o,i[Z]),i}toString(){const t=[],{[Z]:n}=this;let r={[F]:this},s=!1;do switch(r=r[F],r.nodeType){case Mt:{const i=" "+r;switch(i){case" id":case" class":case" style":break;default:t.push(i)}break}case nu:{const i=r[An];s?("ownerSVGElement"in i?t.push(" />"):x$(i)?t.push(ru(i)?">":" />"):t.push(`></${i.localName}>`),s=!1):t.push(`</${i.localName}>`);break}case me:s&&t.push(">"),r.toString!==this.toString?(t.push(r.toString()),r=r[Z],s=!1):(t.push(`<${r.localName}`),s=!0);break;case nn:case pi:case hi:t.push((s?">":"")+r),s=!1;break}while(r!==n);return t.join("")}toJSON(){const t=[];return dT(this,t),t}getAttributeNS(t,n){return this.getAttribute(n)}getElementsByTagNameNS(t,n){return this.getElementsByTagName(n)}hasAttributeNS(t,n){return this.hasAttribute(n)}removeAttributeNS(t,n){this.removeAttribute(n)}setAttributeNS(t,n,r){this.setAttribute(n,r)}setAttributeNodeNS(t){return this.setAttributeNode(t)}};const rm=new WeakMap,v$={get(e,t){return e[t]},set(e,t,n){return e[t]=n,!0}};let Ll=class extends Pf{constructor(t,n,r=null){super(t,n),this.ownerSVGElement=r}get className(){return rm.has(this)||rm.set(this,new Proxy({baseVal:"",animVal:""},v$)),rm.get(this)}set className(t){const{classList:n}=this;n.clear(),n.add(...no(t).split(/\s+/))}get namespaceURI(){return"http://www.w3.org/2000/svg"}getAttribute(t){return t==="class"?[...this.classList].join(" "):super.getAttribute(t)}setAttribute(t,n){if(t==="class")this.className=n;else if(t==="style"){const{className:r}=this;r.baseVal=r.animVal=n}super.setAttribute(t,n)}};const Zn=()=>{throw new TypeError("Illegal constructor")};function cw(){Zn()}xn(cw,Cf);cw.prototype=Cf.prototype;function lw(){Zn()}xn(lw,rw);lw.prototype=rw.prototype;function fw(){Zn()}xn(fw,Df);fw.prototype=Df.prototype;function dw(){Zn()}xn(dw,sw);dw.prototype=sw.prototype;function hw(){Zn()}xn(hw,ow);hw.prototype=ow.prototype;function pw(){Zn()}xn(pw,Th);pw.prototype=Th.prototype;function gw(){Zn()}xn(gw,Pf);gw.prototype=Pf.prototype;function mw(){Zn()}xn(mw,No);mw.prototype=No.prototype;function yw(){Zn()}xn(yw,aw);yw.prototype=aw.prototype;function bw(){Zn()}xn(bw,Mf);bw.prototype=Mf.prototype;function ww(){Zn()}xn(ww,Ll);ww.prototype=Ll.prototype;const S$={Attr:cw,CDATASection:lw,CharacterData:fw,Comment:dw,DocumentFragment:hw,DocumentType:pw,Element:gw,Node:mw,ShadowRoot:yw,Text:bw,SVGElement:ww},$c=new WeakMap,O={get(e,t){return $c.has(e)&&$c.get(e)[t]||null},set(e,t,n){$c.has(e)||$c.set(e,{});const r=$c.get(e),s=t.slice(2);r[t]&&e.removeEventListener(s,r[t],!1),(r[t]=n)&&e.addEventListener(s,n,!1)}};let q=class extends Pf{static get observedAttributes(){return[]}constructor(t=null,n=""){super(t,n);const r=!t;let s;if(r){const{constructor:i}=this;if(!ta.has(i))throw new Error("unable to initialize this Custom Element");({ownerDocument:t,localName:n,options:s}=ta.get(i))}if(t[hl]){const{element:i,values:u}=t[hl];t[hl]=null;for(const[o,a]of u)i[o]=a;return i}r&&(this.ownerDocument=this[Z].ownerDocument=t,this.localName=n,po.set(this,{connected:!1}),s.is&&this.setAttribute("is",s.is))}blur(){this.dispatchEvent(new go("blur"))}click(){const t=new go("click",{bubbles:!0,cancelable:!0});t.button=0,this.dispatchEvent(t)}get accessKeyLabel(){const{accessKey:t}=this;return t&&`Alt+Shift+${t}`}get isContentEditable(){return this.hasAttribute("contenteditable")}get contentEditable(){return ve.get(this,"contenteditable")}set contentEditable(t){ve.set(this,"contenteditable",t)}get draggable(){return ve.get(this,"draggable")}set draggable(t){ve.set(this,"draggable",t)}get hidden(){return ve.get(this,"hidden")}set hidden(t){ve.set(this,"hidden",t)}get spellcheck(){return ve.get(this,"spellcheck")}set spellcheck(t){ve.set(this,"spellcheck",t)}get accessKey(){return M.get(this,"accesskey")}set accessKey(t){M.set(this,"accesskey",t)}get dir(){return M.get(this,"dir")}set dir(t){M.set(this,"dir",t)}get lang(){return M.get(this,"lang")}set lang(t){M.set(this,"lang",t)}get title(){return M.get(this,"title")}set title(t){M.set(this,"title",t)}get onabort(){return O.get(this,"onabort")}set onabort(t){O.set(this,"onabort",t)}get onblur(){return O.get(this,"onblur")}set onblur(t){O.set(this,"onblur",t)}get oncancel(){return O.get(this,"oncancel")}set oncancel(t){O.set(this,"oncancel",t)}get oncanplay(){return O.get(this,"oncanplay")}set oncanplay(t){O.set(this,"oncanplay",t)}get oncanplaythrough(){return O.get(this,"oncanplaythrough")}set oncanplaythrough(t){O.set(this,"oncanplaythrough",t)}get onchange(){return O.get(this,"onchange")}set onchange(t){O.set(this,"onchange",t)}get onclick(){return O.get(this,"onclick")}set onclick(t){O.set(this,"onclick",t)}get onclose(){return O.get(this,"onclose")}set onclose(t){O.set(this,"onclose",t)}get oncontextmenu(){return O.get(this,"oncontextmenu")}set oncontextmenu(t){O.set(this,"oncontextmenu",t)}get oncuechange(){return O.get(this,"oncuechange")}set oncuechange(t){O.set(this,"oncuechange",t)}get ondblclick(){return O.get(this,"ondblclick")}set ondblclick(t){O.set(this,"ondblclick",t)}get ondrag(){return O.get(this,"ondrag")}set ondrag(t){O.set(this,"ondrag",t)}get ondragend(){return O.get(this,"ondragend")}set ondragend(t){O.set(this,"ondragend",t)}get ondragenter(){return O.get(this,"ondragenter")}set ondragenter(t){O.set(this,"ondragenter",t)}get ondragleave(){return O.get(this,"ondragleave")}set ondragleave(t){O.set(this,"ondragleave",t)}get ondragover(){return O.get(this,"ondragover")}set ondragover(t){O.set(this,"ondragover",t)}get ondragstart(){return O.get(this,"ondragstart")}set ondragstart(t){O.set(this,"ondragstart",t)}get ondrop(){return O.get(this,"ondrop")}set ondrop(t){O.set(this,"ondrop",t)}get ondurationchange(){return O.get(this,"ondurationchange")}set ondurationchange(t){O.set(this,"ondurationchange",t)}get onemptied(){return O.get(this,"onemptied")}set onemptied(t){O.set(this,"onemptied",t)}get onended(){return O.get(this,"onended")}set onended(t){O.set(this,"onended",t)}get onerror(){return O.get(this,"onerror")}set onerror(t){O.set(this,"onerror",t)}get onfocus(){return O.get(this,"onfocus")}set onfocus(t){O.set(this,"onfocus",t)}get oninput(){return O.get(this,"oninput")}set oninput(t){O.set(this,"oninput",t)}get oninvalid(){return O.get(this,"oninvalid")}set oninvalid(t){O.set(this,"oninvalid",t)}get onkeydown(){return O.get(this,"onkeydown")}set onkeydown(t){O.set(this,"onkeydown",t)}get onkeypress(){return O.get(this,"onkeypress")}set onkeypress(t){O.set(this,"onkeypress",t)}get onkeyup(){return O.get(this,"onkeyup")}set onkeyup(t){O.set(this,"onkeyup",t)}get onload(){return O.get(this,"onload")}set onload(t){O.set(this,"onload",t)}get onloadeddata(){return O.get(this,"onloadeddata")}set onloadeddata(t){O.set(this,"onloadeddata",t)}get onloadedmetadata(){return O.get(this,"onloadedmetadata")}set onloadedmetadata(t){O.set(this,"onloadedmetadata",t)}get onloadstart(){return O.get(this,"onloadstart")}set onloadstart(t){O.set(this,"onloadstart",t)}get onmousedown(){return O.get(this,"onmousedown")}set onmousedown(t){O.set(this,"onmousedown",t)}get onmouseenter(){return O.get(this,"onmouseenter")}set onmouseenter(t){O.set(this,"onmouseenter",t)}get onmouseleave(){return O.get(this,"onmouseleave")}set onmouseleave(t){O.set(this,"onmouseleave",t)}get onmousemove(){return O.get(this,"onmousemove")}set onmousemove(t){O.set(this,"onmousemove",t)}get onmouseout(){return O.get(this,"onmouseout")}set onmouseout(t){O.set(this,"onmouseout",t)}get onmouseover(){return O.get(this,"onmouseover")}set onmouseover(t){O.set(this,"onmouseover",t)}get onmouseup(){return O.get(this,"onmouseup")}set onmouseup(t){O.set(this,"onmouseup",t)}get onmousewheel(){return O.get(this,"onmousewheel")}set onmousewheel(t){O.set(this,"onmousewheel",t)}get onpause(){return O.get(this,"onpause")}set onpause(t){O.set(this,"onpause",t)}get onplay(){return O.get(this,"onplay")}set onplay(t){O.set(this,"onplay",t)}get onplaying(){return O.get(this,"onplaying")}set onplaying(t){O.set(this,"onplaying",t)}get onprogress(){return O.get(this,"onprogress")}set onprogress(t){O.set(this,"onprogress",t)}get onratechange(){return O.get(this,"onratechange")}set onratechange(t){O.set(this,"onratechange",t)}get onreset(){return O.get(this,"onreset")}set onreset(t){O.set(this,"onreset",t)}get onresize(){return O.get(this,"onresize")}set onresize(t){O.set(this,"onresize",t)}get onscroll(){return O.get(this,"onscroll")}set onscroll(t){O.set(this,"onscroll",t)}get onseeked(){return O.get(this,"onseeked")}set onseeked(t){O.set(this,"onseeked",t)}get onseeking(){return O.get(this,"onseeking")}set onseeking(t){O.set(this,"onseeking",t)}get onselect(){return O.get(this,"onselect")}set onselect(t){O.set(this,"onselect",t)}get onshow(){return O.get(this,"onshow")}set onshow(t){O.set(this,"onshow",t)}get onstalled(){return O.get(this,"onstalled")}set onstalled(t){O.set(this,"onstalled",t)}get onsubmit(){return O.get(this,"onsubmit")}set onsubmit(t){O.set(this,"onsubmit",t)}get onsuspend(){return O.get(this,"onsuspend")}set onsuspend(t){O.set(this,"onsuspend",t)}get ontimeupdate(){return O.get(this,"ontimeupdate")}set ontimeupdate(t){O.set(this,"ontimeupdate",t)}get ontoggle(){return O.get(this,"ontoggle")}set ontoggle(t){O.set(this,"ontoggle",t)}get onvolumechange(){return O.get(this,"onvolumechange")}set onvolumechange(t){O.set(this,"onvolumechange",t)}get onwaiting(){return O.get(this,"onwaiting")}set onwaiting(t){O.set(this,"onwaiting",t)}get onauxclick(){return O.get(this,"onauxclick")}set onauxclick(t){O.set(this,"onauxclick",t)}get ongotpointercapture(){return O.get(this,"ongotpointercapture")}set ongotpointercapture(t){O.set(this,"ongotpointercapture",t)}get onlostpointercapture(){return O.get(this,"onlostpointercapture")}set onlostpointercapture(t){O.set(this,"onlostpointercapture",t)}get onpointercancel(){return O.get(this,"onpointercancel")}set onpointercancel(t){O.set(this,"onpointercancel",t)}get onpointerdown(){return O.get(this,"onpointerdown")}set onpointerdown(t){O.set(this,"onpointerdown",t)}get onpointerenter(){return O.get(this,"onpointerenter")}set onpointerenter(t){O.set(this,"onpointerenter",t)}get onpointerleave(){return O.get(this,"onpointerleave")}set onpointerleave(t){O.set(this,"onpointerleave",t)}get onpointermove(){return O.get(this,"onpointermove")}set onpointermove(t){O.set(this,"onpointermove",t)}get onpointerout(){return O.get(this,"onpointerout")}set onpointerout(t){O.set(this,"onpointerout",t)}get onpointerover(){return O.get(this,"onpointerover")}set onpointerover(t){O.set(this,"onpointerover",t)}get onpointerup(){return O.get(this,"onpointerup")}set onpointerup(t){O.set(this,"onpointerup",t)}};const JT="template";class WT extends q{constructor(t){super(t,JT);const n=this.ownerDocument.createDocumentFragment();(this[md]=n)[Xt]=this}get content(){if(this.hasChildNodes()&&!this[md].hasChildNodes())for(const t of this.childNodes)this[md].appendChild(t.cloneNode(!0));return this[md]}}xt(JT,WT);class _$ extends q{constructor(t,n="html"){super(t,n)}}const{toString:A$}=q.prototype;class Gp extends q{get innerHTML(){return this.textContent}set innerHTML(t){this.textContent=t}toString(){return A$.call(this.cloneNode()).replace(/></,`>${this.textContent}<`)}}const QT="script";class XT extends Gp{constructor(t,n=QT){super(t,n)}get type(){return M.get(this,"type")}set type(t){M.set(this,"type",t)}get src(){return M.get(this,"src")}set src(t){M.set(this,"src",t)}get defer(){return ve.get(this,"defer")}set defer(t){ve.set(this,"defer",t)}get crossOrigin(){return M.get(this,"crossorigin")}set crossOrigin(t){M.set(this,"crossorigin",t)}get nomodule(){return ve.get(this,"nomodule")}set nomodule(t){ve.set(this,"nomodule",t)}get referrerPolicy(){return M.get(this,"referrerpolicy")}set referrerPolicy(t){M.set(this,"referrerpolicy",t)}get nonce(){return M.get(this,"nonce")}set nonce(t){M.set(this,"nonce",t)}get async(){return ve.get(this,"async")}set async(t){ve.set(this,"async",t)}get text(){return this.textContent}set text(t){this.textContent=t}}xt(QT,XT);class T$ extends q{constructor(t,n="frame"){super(t,n)}}const KT="iframe";class YT extends q{constructor(t,n=KT){super(t,n)}get src(){return M.get(this,"src")}set src(t){M.set(this,"src",t)}get srcdoc(){return M.get(this,"srcdoc")}set srcdoc(t){M.set(this,"srcdoc",t)}get name(){return M.get(this,"name")}set name(t){M.set(this,"name",t)}get allow(){return M.get(this,"allow")}set allow(t){M.set(this,"allow",t)}get allowFullscreen(){return ve.get(this,"allowfullscreen")}set allowFullscreen(t){ve.set(this,"allowfullscreen",t)}get referrerPolicy(){return M.get(this,"referrerpolicy")}set referrerPolicy(t){M.set(this,"referrerpolicy",t)}get loading(){return M.get(this,"loading")}set loading(t){M.set(this,"loading",t)}}xt(KT,YT);class E$ extends q{constructor(t,n="object"){super(t,n)}}class O$ extends q{constructor(t,n="head"){super(t,n)}}class I$ extends q{constructor(t,n="body"){super(t,n)}}var sm={},im={},um={},ZT={},eE={};eE.StyleSheet=function(){this.parentStyleSheet=null};ZT.StyleSheet=eE.StyleSheet;var om={},er={},Ze={};Ze.CSSRule=function(){this.parentRule=null,this.parentStyleSheet=null};Ze.CSSRule.UNKNOWN_RULE=0;Ze.CSSRule.STYLE_RULE=1;Ze.CSSRule.CHARSET_RULE=2;Ze.CSSRule.IMPORT_RULE=3;Ze.CSSRule.MEDIA_RULE=4;Ze.CSSRule.FONT_FACE_RULE=5;Ze.CSSRule.PAGE_RULE=6;Ze.CSSRule.KEYFRAMES_RULE=7;Ze.CSSRule.KEYFRAME_RULE=8;Ze.CSSRule.MARGIN_RULE=9;Ze.CSSRule.NAMESPACE_RULE=10;Ze.CSSRule.COUNTER_STYLE_RULE=11;Ze.CSSRule.SUPPORTS_RULE=12;Ze.CSSRule.DOCUMENT_RULE=13;Ze.CSSRule.FONT_FEATURE_VALUES_RULE=14;Ze.CSSRule.VIEWPORT_RULE=15;Ze.CSSRule.REGION_STYLE_RULE=16;Ze.CSSRule.prototype={constructor:Ze.CSSRule};er.CSSRule=Ze.CSSRule;var BS;function Jp(){if(BS)return om;BS=1;var e={CSSStyleDeclaration:gc().CSSStyleDeclaration,CSSRule:er.CSSRule};return e.CSSStyleRule=function(){e.CSSRule.call(this),this.selectorText="",this.style=new e.CSSStyleDeclaration,this.style.parentRule=this},e.CSSStyleRule.prototype=new e.CSSRule,e.CSSStyleRule.prototype.constructor=e.CSSStyleRule,e.CSSStyleRule.prototype.type=1,Object.defineProperty(e.CSSStyleRule.prototype,"cssText",{get:function(){var t;return this.selectorText?t=this.selectorText+" {"+this.style.cssText+"}":t="",t},set:function(t){var n=e.CSSStyleRule.parse(t);this.style=n.style,this.selectorText=n.selectorText}}),e.CSSStyleRule.parse=function(t){for(var n=0,r="selector",s,i=n,u="",o={selector:!0,value:!0},a=new e.CSSStyleRule,c,l="",d;d=t.charAt(n);n++)switch(d){case" ":case"	":case"\r":case`
`:case"\f":if(o[r])switch(t.charAt(n-1)){case" ":case"	":case"\r":case`
`:case"\f":break;default:u+=" ";break}break;case'"':if(i=n+1,s=t.indexOf('"',i)+1,!s)throw'" is missing';u+=t.slice(n,s),n=s-1;break;case"'":if(i=n+1,s=t.indexOf("'",i)+1,!s)throw"' is missing";u+=t.slice(n,s),n=s-1;break;case"/":if(t.charAt(n+1)==="*"){if(n+=2,s=t.indexOf("*/",n),s===-1)throw new SyntaxError("Missing */");n=s+1}else u+=d;break;case"{":r==="selector"&&(a.selectorText=u.trim(),u="",r="name");break;case":":r==="name"?(c=u.trim(),u="",r="value"):u+=d;break;case"!":r==="value"&&t.indexOf("!important",n)===n?(l="important",n+=9):u+=d;break;case";":r==="value"?(a.style.setProperty(c,u.trim(),l),l="",u="",r="name"):u+=d;break;case"}":if(r==="value")a.style.setProperty(c,u.trim(),l),l="",u="";else{if(r==="name")break;u+=d}r="selector";break;default:u+=d;break}return a},om.CSSStyleRule=e.CSSStyleRule,om}var US;function Wp(){if(US)return um;US=1;var e={StyleSheet:ZT.StyleSheet,CSSStyleRule:Jp().CSSStyleRule};return e.CSSStyleSheet=function(){e.StyleSheet.call(this),this.cssRules=[]},e.CSSStyleSheet.prototype=new e.StyleSheet,e.CSSStyleSheet.prototype.constructor=e.CSSStyleSheet,e.CSSStyleSheet.prototype.insertRule=function(t,n){if(n<0||n>this.cssRules.length)throw new RangeError("INDEX_SIZE_ERR");var r=e.parse(t).cssRules[0];return r.parentStyleSheet=this,this.cssRules.splice(n,0,r),n},e.CSSStyleSheet.prototype.deleteRule=function(t){if(t<0||t>=this.cssRules.length)throw new RangeError("INDEX_SIZE_ERR");this.cssRules.splice(t,1)},e.CSSStyleSheet.prototype.toString=function(){for(var t="",n=this.cssRules,r=0;r<n.length;r++)t+=n[r].cssText+`
`;return t},um.CSSStyleSheet=e.CSSStyleSheet,e.parse=Tw().parse,um}var am={},xw={},Ih={};Ih.MediaList=function(){this.length=0};Ih.MediaList.prototype={constructor:Ih.MediaList,get mediaText(){return Array.prototype.join.call(this,", ")},set mediaText(e){for(var t=e.split(","),n=this.length=t.length,r=0;r<n;r++)this[r]=t[r].trim()},appendMedium:function(e){Array.prototype.indexOf.call(this,e)===-1&&(this[this.length]=e,this.length++)},deleteMedium:function(e){var t=Array.prototype.indexOf.call(this,e);t!==-1&&Array.prototype.splice.call(this,t,1)}};xw.MediaList=Ih.MediaList;var qS;function tE(){if(qS)return am;qS=1;var e={CSSRule:er.CSSRule,CSSStyleSheet:Wp().CSSStyleSheet,MediaList:xw.MediaList};return e.CSSImportRule=function(){e.CSSRule.call(this),this.href="",this.media=new e.MediaList,this.styleSheet=new e.CSSStyleSheet},e.CSSImportRule.prototype=new e.CSSRule,e.CSSImportRule.prototype.constructor=e.CSSImportRule,e.CSSImportRule.prototype.type=3,Object.defineProperty(e.CSSImportRule.prototype,"cssText",{get:function(){var t=this.media.mediaText;return"@import url("+this.href+")"+(t?" "+t:"")+";"},set:function(t){for(var n=0,r="",s="",i,u;u=t.charAt(n);n++)switch(u){case" ":case"	":case"\r":case`
`:case"\f":r==="after-import"?r="url":s+=u;break;case"@":!r&&t.indexOf("@import",n)===n&&(r="after-import",n+=6,s="");break;case"u":if(r==="url"&&t.indexOf("url(",n)===n){if(i=t.indexOf(")",n+1),i===-1)throw n+': ")" not found';n+=4;var o=t.slice(n,i);o[0]===o[o.length-1]&&(o[0]==='"'||o[0]==="'")&&(o=o.slice(1,-1)),this.href=o,n=i,r="media"}break;case'"':if(r==="url"){if(i=t.indexOf('"',n+1),!i)throw n+`: '"' not found`;this.href=t.slice(n+1,i),n=i,r="media"}break;case"'":if(r==="url"){if(i=t.indexOf("'",n+1),!i)throw n+`: "'" not found`;this.href=t.slice(n+1,i),n=i,r="media"}break;case";":r==="media"&&s&&(this.media.mediaText=s.trim());break;default:r==="media"&&(s+=u);break}}}),am.CSSImportRule=e.CSSImportRule,am}var pc={},ks={CSSRule:er.CSSRule};ks.CSSGroupingRule=function(){ks.CSSRule.call(this),this.cssRules=[]};ks.CSSGroupingRule.prototype=new ks.CSSRule;ks.CSSGroupingRule.prototype.constructor=ks.CSSGroupingRule;ks.CSSGroupingRule.prototype.insertRule=function(t,n){if(n<0||n>this.cssRules.length)throw new RangeError("INDEX_SIZE_ERR");var r=ks.parse(t).cssRules[0];return r.parentRule=this,this.cssRules.splice(n,0,r),n};ks.CSSGroupingRule.prototype.deleteRule=function(t){if(t<0||t>=this.cssRules.length)throw new RangeError("INDEX_SIZE_ERR");this.cssRules.splice(t,1)[0].parentRule=null};pc.CSSGroupingRule=ks.CSSGroupingRule;var vw={},jf={},gi={CSSRule:er.CSSRule,CSSGroupingRule:pc.CSSGroupingRule};gi.CSSConditionRule=function(){gi.CSSGroupingRule.call(this),this.cssRules=[]};gi.CSSConditionRule.prototype=new gi.CSSGroupingRule;gi.CSSConditionRule.prototype.constructor=gi.CSSConditionRule;gi.CSSConditionRule.prototype.conditionText="";gi.CSSConditionRule.prototype.cssText="";jf.CSSConditionRule=gi.CSSConditionRule;var _s={CSSRule:er.CSSRule,CSSGroupingRule:pc.CSSGroupingRule,CSSConditionRule:jf.CSSConditionRule,MediaList:xw.MediaList};_s.CSSMediaRule=function(){_s.CSSConditionRule.call(this),this.media=new _s.MediaList};_s.CSSMediaRule.prototype=new _s.CSSConditionRule;_s.CSSMediaRule.prototype.constructor=_s.CSSMediaRule;_s.CSSMediaRule.prototype.type=4;Object.defineProperties(_s.CSSMediaRule.prototype,{conditionText:{get:function(){return this.media.mediaText},set:function(e){this.media.mediaText=e},configurable:!0,enumerable:!0},cssText:{get:function(){for(var e=[],t=0,n=this.cssRules.length;t<n;t++)e.push(this.cssRules[t].cssText);return"@media "+this.media.mediaText+" {"+e.join("")+"}"},configurable:!0,enumerable:!0}});vw.CSSMediaRule=_s.CSSMediaRule;var Sw={},mi={CSSRule:er.CSSRule,CSSGroupingRule:pc.CSSGroupingRule,CSSConditionRule:jf.CSSConditionRule};mi.CSSSupportsRule=function(){mi.CSSConditionRule.call(this)};mi.CSSSupportsRule.prototype=new mi.CSSConditionRule;mi.CSSSupportsRule.prototype.constructor=mi.CSSSupportsRule;mi.CSSSupportsRule.prototype.type=12;Object.defineProperty(mi.CSSSupportsRule.prototype,"cssText",{get:function(){for(var e=[],t=0,n=this.cssRules.length;t<n;t++)e.push(this.cssRules[t].cssText);return"@supports "+this.conditionText+" {"+e.join("")+"}"}});Sw.CSSSupportsRule=mi.CSSSupportsRule;var cm={},VS;function nE(){if(VS)return cm;VS=1;var e={CSSStyleDeclaration:gc().CSSStyleDeclaration,CSSRule:er.CSSRule};return e.CSSFontFaceRule=function(){e.CSSRule.call(this),this.style=new e.CSSStyleDeclaration,this.style.parentRule=this},e.CSSFontFaceRule.prototype=new e.CSSRule,e.CSSFontFaceRule.prototype.constructor=e.CSSFontFaceRule,e.CSSFontFaceRule.prototype.type=5,Object.defineProperty(e.CSSFontFaceRule.prototype,"cssText",{get:function(){return"@font-face {"+this.style.cssText+"}"}}),cm.CSSFontFaceRule=e.CSSFontFaceRule,cm}var rE={},yi={CSSRule:er.CSSRule};yi.CSSHostRule=function(){yi.CSSRule.call(this),this.cssRules=[]};yi.CSSHostRule.prototype=new yi.CSSRule;yi.CSSHostRule.prototype.constructor=yi.CSSHostRule;yi.CSSHostRule.prototype.type=1001;Object.defineProperty(yi.CSSHostRule.prototype,"cssText",{get:function(){for(var e=[],t=0,n=this.cssRules.length;t<n;t++)e.push(this.cssRules[t].cssText);return"@host {"+e.join("")+"}"}});rE.CSSHostRule=yi.CSSHostRule;var lm={},zS;function _w(){if(zS)return lm;zS=1;var e={CSSRule:er.CSSRule,CSSStyleDeclaration:gc().CSSStyleDeclaration};return e.CSSKeyframeRule=function(){e.CSSRule.call(this),this.keyText="",this.style=new e.CSSStyleDeclaration,this.style.parentRule=this},e.CSSKeyframeRule.prototype=new e.CSSRule,e.CSSKeyframeRule.prototype.constructor=e.CSSKeyframeRule,e.CSSKeyframeRule.prototype.type=8,Object.defineProperty(e.CSSKeyframeRule.prototype,"cssText",{get:function(){return this.keyText+" {"+this.style.cssText+"} "}}),lm.CSSKeyframeRule=e.CSSKeyframeRule,lm}var Aw={},bi={CSSRule:er.CSSRule};bi.CSSKeyframesRule=function(){bi.CSSRule.call(this),this.name="",this.cssRules=[]};bi.CSSKeyframesRule.prototype=new bi.CSSRule;bi.CSSKeyframesRule.prototype.constructor=bi.CSSKeyframesRule;bi.CSSKeyframesRule.prototype.type=7;Object.defineProperty(bi.CSSKeyframesRule.prototype,"cssText",{get:function(){for(var e=[],t=0,n=this.cssRules.length;t<n;t++)e.push("  "+this.cssRules[t].cssText);return"@"+(this._vendorPrefix||"")+"keyframes "+this.name+` { 
`+e.join(`
`)+`
}`}});Aw.CSSKeyframesRule=bi.CSSKeyframesRule;var sE={},iE={},Nh={};Nh.CSSValue=function(){};Nh.CSSValue.prototype={constructor:Nh.CSSValue,set cssText(e){var t=this._getConstructorName();throw new Error('DOMException: property "cssText" of "'+t+'" is readonly and can not be replaced with "'+e+'"!')},get cssText(){var e=this._getConstructorName();throw new Error('getter "cssText" of "'+e+'" is not implemented!')},_getConstructorName:function(){var e=this.constructor.toString(),t=e.match(/function\s([^\(]+)/),n=t[1];return n}};iE.CSSValue=Nh.CSSValue;var Yr={CSSValue:iE.CSSValue};Yr.CSSValueExpression=function(t,n){this._token=t,this._idx=n};Yr.CSSValueExpression.prototype=new Yr.CSSValue;Yr.CSSValueExpression.prototype.constructor=Yr.CSSValueExpression;Yr.CSSValueExpression.prototype.parse=function(){for(var e=this._token,t=this._idx,n="",r="",s="",i,u=[];;++t){if(n=e.charAt(t),n===""){s="css expression error: unfinished expression!";break}switch(n){case"(":u.push(n),r+=n;break;case")":u.pop(n),r+=n;break;case"/":(i=this._parseJSComment(e,t))?i.error?s="css expression error: unfinished comment in expression!":t=i.idx:(i=this._parseJSRexExp(e,t))?(t=i.idx,r+=i.text):r+=n;break;case"'":case'"':i=this._parseJSString(e,t,n),i?(t=i.idx,r+=i.text):r+=n;break;default:r+=n;break}if(s||u.length===0)break}var o;return s?o={error:s}:o={idx:t,expression:r},o};Yr.CSSValueExpression.prototype._parseJSComment=function(e,t){var n=e.charAt(t+1),r;if(n==="/"||n==="*"){var s=t,i,u;if(n==="/"?u=`
`:n==="*"&&(u="*/"),i=e.indexOf(u,s+1+1),i!==-1)return i=i+u.length-1,r=e.substring(t,i+1),{idx:i,text:r};var o="css expression error: unfinished comment in expression!";return{error:o}}else return!1};Yr.CSSValueExpression.prototype._parseJSString=function(e,t,n){var r=this._findMatchedIdx(e,t,n),s;return r===-1?!1:(s=e.substring(t,r+n.length),{idx:r,text:s})};Yr.CSSValueExpression.prototype._parseJSRexExp=function(e,t){var n=e.substring(0,t).replace(/\s+$/,""),r=[/^$/,/\($/,/\[$/,/\!$/,/\+$/,/\-$/,/\*$/,/\/\s+/,/\%$/,/\=$/,/\>$/,/<$/,/\&$/,/\|$/,/\^$/,/\~$/,/\?$/,/\,$/,/delete$/,/in$/,/instanceof$/,/new$/,/typeof$/,/void$/],s=r.some(function(u){return u.test(n)});if(s){var i="/";return this._parseJSString(e,t,i)}else return!1};Yr.CSSValueExpression.prototype._findMatchedIdx=function(e,t,n){for(var r=t,s,i=-1;;)if(s=e.indexOf(n,r+1),s===-1){s=i;break}else{var u=e.substring(t+1,s),o=u.match(/\\+$/);if(!o||o[0]%2===0)break;r=s}var a=e.indexOf(`
`,t+1);return a<s&&(s=i),s};sE.CSSValueExpression=Yr.CSSValueExpression;var uE={},oE={},Rh={};Rh.MatcherList=function(){this.length=0};Rh.MatcherList.prototype={constructor:Rh.MatcherList,get matcherText(){return Array.prototype.join.call(this,", ")},set matcherText(e){for(var t=e.split(","),n=this.length=t.length,r=0;r<n;r++)this[r]=t[r].trim()},appendMatcher:function(e){Array.prototype.indexOf.call(this,e)===-1&&(this[this.length]=e,this.length++)},deleteMatcher:function(e){var t=Array.prototype.indexOf.call(this,e);t!==-1&&Array.prototype.splice.call(this,t,1)}};oE.MatcherList=Rh.MatcherList;var As={CSSRule:er.CSSRule,MatcherList:oE.MatcherList};As.CSSDocumentRule=function(){As.CSSRule.call(this),this.matcher=new As.MatcherList,this.cssRules=[]};As.CSSDocumentRule.prototype=new As.CSSRule;As.CSSDocumentRule.prototype.constructor=As.CSSDocumentRule;As.CSSDocumentRule.prototype.type=10;Object.defineProperty(As.CSSDocumentRule.prototype,"cssText",{get:function(){for(var e=[],t=0,n=this.cssRules.length;t<n;t++)e.push(this.cssRules[t].cssText);return"@-moz-document "+this.matcher.matcherText+" {"+e.join("")+"}"}});uE.CSSDocumentRule=As.CSSDocumentRule;var HS;function Tw(){if(HS)return im;HS=1;var e={};return e.parse=function(n){for(var r=0,s="before-selector",i,u="",o=0,a={selector:!0,value:!0,"value-parenthesis":!0,atRule:!0,"importRule-begin":!0,importRule:!0,atBlock:!0,conditionBlock:!0,"documentRule-begin":!0},c=new e.CSSStyleSheet,l=c,d,h=[],f=!1,g,m,y="",b,w,v,x,A,T,V,W,te=/@(-(?:\w+-)+)?keyframes/g,_e=function(rr){var sr=n.substring(0,r).split(`
`),kc=sr.length,id=sr.pop().length+1,Su=new Error(rr+" (line "+kc+", char "+id+")");throw Su.line=kc,Su.char=id,Su.styleSheet=c,Su},H;H=n.charAt(r);r++)switch(H){case" ":case"	":case"\r":case`
`:case"\f":a[s]&&(u+=H);break;case'"':i=r+1;do i=n.indexOf('"',i)+1,i||_e('Unmatched "');while(n[i-2]==="\\");switch(u+=n.slice(r,i),r=i-1,s){case"before-value":s="value";break;case"importRule-begin":s="importRule";break}break;case"'":i=r+1;do i=n.indexOf("'",i)+1,i||_e("Unmatched '");while(n[i-2]==="\\");switch(u+=n.slice(r,i),r=i-1,s){case"before-value":s="value";break;case"importRule-begin":s="importRule";break}break;case"/":n.charAt(r+1)==="*"?(r+=2,i=n.indexOf("*/",r),i===-1?_e("Missing */"):r=i+1):u+=H,s==="importRule-begin"&&(u+=" ",s="importRule");break;case"@":if(n.indexOf("@-moz-document",r)===r){s="documentRule-begin",V=new e.CSSDocumentRule,V.__starts=r,r+=13,u="";break}else if(n.indexOf("@media",r)===r){s="atBlock",w=new e.CSSMediaRule,w.__starts=r,r+=5,u="";break}else if(n.indexOf("@supports",r)===r){s="conditionBlock",v=new e.CSSSupportsRule,v.__starts=r,r+=8,u="";break}else if(n.indexOf("@host",r)===r){s="hostRule-begin",r+=4,W=new e.CSSHostRule,W.__starts=r,u="";break}else if(n.indexOf("@import",r)===r){s="importRule-begin",r+=6,u+="@import";break}else if(n.indexOf("@font-face",r)===r){s="fontFaceRule-begin",r+=9,A=new e.CSSFontFaceRule,A.__starts=r,u="";break}else{te.lastIndex=r;var fe=te.exec(n);if(fe&&fe.index===r){s="keyframesRule-begin",T=new e.CSSKeyframesRule,T.__starts=r,T._vendorPrefix=fe[1],r+=fe[0].length-1,u="";break}else s==="selector"&&(s="atRule")}u+=H;break;case"{":s==="selector"||s==="atRule"?(b.selectorText=u.trim(),b.style.__starts=r,u="",s="before-name"):s==="atBlock"?(w.media.mediaText=u.trim(),d&&h.push(d),l=d=w,w.parentStyleSheet=c,u="",s="before-selector"):s==="conditionBlock"?(v.conditionText=u.trim(),d&&h.push(d),l=d=v,v.parentStyleSheet=c,u="",s="before-selector"):s==="hostRule-begin"?(d&&h.push(d),l=d=W,W.parentStyleSheet=c,u="",s="before-selector"):s==="fontFaceRule-begin"?(d&&(A.parentRule=d),A.parentStyleSheet=c,b=A,u="",s="before-name"):s==="keyframesRule-begin"?(T.name=u.trim(),d&&(h.push(d),T.parentRule=d),T.parentStyleSheet=c,l=d=T,u="",s="keyframeRule-begin"):s==="keyframeRule-begin"?(b=new e.CSSKeyframeRule,b.keyText=u.trim(),b.__starts=r,u="",s="before-name"):s==="documentRule-begin"&&(V.matcher.matcherText=u.trim(),d&&(h.push(d),V.parentRule=d),l=d=V,V.parentStyleSheet=c,u="",s="before-selector");break;case":":s==="name"?(m=u.trim(),u="",s="before-value"):u+=H;break;case"(":if(s==="value")if(u.trim()==="expression"){var tt=new e.CSSValueExpression(n,r).parse();tt.error?_e(tt.error):(u+=tt.expression,r=tt.idx)}else s="value-parenthesis",o=1,u+=H;else s==="value-parenthesis"&&o++,u+=H;break;case")":s==="value-parenthesis"&&(o--,o===0&&(s="value")),u+=H;break;case"!":s==="value"&&n.indexOf("!important",r)===r?(y="important",r+=9):u+=H;break;case";":switch(s){case"value":b.style.setProperty(m,u.trim(),y),y="",u="",s="before-name";break;case"atRule":u="",s="before-selector";break;case"importRule":x=new e.CSSImportRule,x.parentStyleSheet=x.styleSheet.parentStyleSheet=c,x.cssText=u+H,c.cssRules.push(x),u="",s="before-selector";break;default:u+=H;break}break;case"}":switch(s){case"value":b.style.setProperty(m,u.trim(),y),y="";case"before-name":case"name":b.__ends=r+1,d&&(b.parentRule=d),b.parentStyleSheet=c,l.cssRules.push(b),u="",l.constructor===e.CSSKeyframesRule?s="keyframeRule-begin":s="before-selector";break;case"keyframeRule-begin":case"before-selector":case"selector":for(d||_e("Unexpected }"),f=h.length>0;h.length>0;){if(d=h.pop(),d.constructor.name==="CSSMediaRule"||d.constructor.name==="CSSSupportsRule"){g=l,l=d,l.cssRules.push(g);break}h.length===0&&(f=!1)}f||(l.__ends=r+1,c.cssRules.push(l),l=c,d=null),u="",s="before-selector";break}break;default:switch(s){case"before-selector":s="selector",b=new e.CSSStyleRule,b.__starts=r;break;case"before-name":s="name";break;case"before-value":s="value";break;case"importRule-begin":s="importRule";break}u+=H;break}return c},im.parse=e.parse,e.CSSStyleSheet=Wp().CSSStyleSheet,e.CSSStyleRule=Jp().CSSStyleRule,e.CSSImportRule=tE().CSSImportRule,e.CSSGroupingRule=pc.CSSGroupingRule,e.CSSMediaRule=vw.CSSMediaRule,e.CSSConditionRule=jf.CSSConditionRule,e.CSSSupportsRule=Sw.CSSSupportsRule,e.CSSFontFaceRule=nE().CSSFontFaceRule,e.CSSHostRule=rE.CSSHostRule,e.CSSStyleDeclaration=gc().CSSStyleDeclaration,e.CSSKeyframeRule=_w().CSSKeyframeRule,e.CSSKeyframesRule=Aw.CSSKeyframesRule,e.CSSValueExpression=sE.CSSValueExpression,e.CSSDocumentRule=uE.CSSDocumentRule,im}var GS;function gc(){if(GS)return sm;GS=1;var e={};return e.CSSStyleDeclaration=function(){this.length=0,this.parentRule=null,this._importants={}},e.CSSStyleDeclaration.prototype={constructor:e.CSSStyleDeclaration,getPropertyValue:function(t){return this[t]||""},setProperty:function(t,n,r){if(this[t]){var s=Array.prototype.indexOf.call(this,t);s<0&&(this[this.length]=t,this.length++)}else this[this.length]=t,this.length++;this[t]=n+"",this._importants[t]=r},removeProperty:function(t){if(!(t in this))return"";var n=Array.prototype.indexOf.call(this,t);if(n<0)return"";var r=this[t];return this[t]="",Array.prototype.splice.call(this,n,1),r},getPropertyCSSValue:function(){},getPropertyPriority:function(t){return this._importants[t]||""},getPropertyShorthand:function(){},isPropertyImplicit:function(){},get cssText(){for(var t=[],n=0,r=this.length;n<r;++n){var s=this[n],i=this.getPropertyValue(s),u=this.getPropertyPriority(s);u&&(u=" !"+u),t[n]=s+": "+i+u+";"}return t.join(" ")},set cssText(t){var n,r;for(n=this.length;n--;)r=this[n],this[r]="";Array.prototype.splice.call(this,0,this.length),this._importants={};var s=e.parse("#bogus{"+t+"}").cssRules[0].style,i=s.length;for(n=0;n<i;++n)r=s[n],this.setProperty(s[n],s.getPropertyValue(r),s.getPropertyPriority(r))}},sm.CSSStyleDeclaration=e.CSSStyleDeclaration,e.parse=Tw().parse,sm}Wp().CSSStyleSheet,er.CSSRule,Jp().CSSStyleRule,pc.CSSGroupingRule,jf.CSSConditionRule,vw.CSSMediaRule,Sw.CSSSupportsRule,gc().CSSStyleDeclaration,_w().CSSKeyframeRule,Aw.CSSKeyframesRule;gc().CSSStyleDeclaration;Jp().CSSStyleRule;tE().CSSImportRule;nE().CSSFontFaceRule;Wp().CSSStyleSheet;_w().CSSKeyframeRule;var N$=Tw().parse;const aE="style";class cE extends Gp{constructor(t,n=aE){super(t,n),this[Vo]=null}get sheet(){const t=this[Vo];return t!==null?t:this[Vo]=N$(this.textContent)}get innerHTML(){return super.innerHTML||""}set innerHTML(t){super.textContent=t,this[Vo]=null}get innerText(){return super.innerText||""}set innerText(t){super.textContent=t,this[Vo]=null}get textContent(){return super.textContent||""}set textContent(t){super.textContent=t,this[Vo]=null}}xt(aE,cE);class lE extends q{constructor(t,n="time"){super(t,n)}get dateTime(){return M.get(this,"datetime")}set dateTime(t){M.set(this,"datetime",t)}}xt("time",lE);class R$ extends q{constructor(t,n="fieldset"){super(t,n)}}class k$ extends q{constructor(t,n="embed"){super(t,n)}}class C$ extends q{constructor(t,n="hr"){super(t,n)}}class D$ extends q{constructor(t,n="progress"){super(t,n)}}class M$ extends q{constructor(t,n="p"){super(t,n)}}class P$ extends q{constructor(t,n="table"){super(t,n)}}class j$ extends q{constructor(t,n="frameset"){super(t,n)}}class L$ extends q{constructor(t,n="li"){super(t,n)}}class F$ extends q{constructor(t,n="base"){super(t,n)}}class $$ extends q{constructor(t,n="datalist"){super(t,n)}}const fE="input";class dE extends q{constructor(t,n=fE){super(t,n)}get autofocus(){return ve.get(this,"autofocus")||-1}set autofocus(t){ve.set(this,"autofocus",t)}get disabled(){return ve.get(this,"disabled")}set disabled(t){ve.set(this,"disabled",t)}get name(){return this.getAttribute("name")}set name(t){this.setAttribute("name",t)}get placeholder(){return this.getAttribute("placeholder")}set placeholder(t){this.setAttribute("placeholder",t)}get type(){return this.getAttribute("type")}set type(t){this.setAttribute("type",t)}get value(){return M.get(this,"value")}set value(t){M.set(this,"value",t)}}xt(fE,dE);class B$ extends q{constructor(t,n="param"){super(t,n)}}class U$ extends q{constructor(t,n="media"){super(t,n)}}class q$ extends q{constructor(t,n="audio"){super(t,n)}}const hE="h1";class pE extends q{constructor(t,n=hE){super(t,n)}}xt([hE,"h2","h3","h4","h5","h6"],pE);class V$ extends q{constructor(t,n="dir"){super(t,n)}}class z$ extends q{constructor(t,n="quote"){super(t,n)}}class H${constructor(t,n){this.width=t,this.height=n}getContext(){return null}toDataURL(){return""}}var G$={createCanvas:(e,t)=>new H$(e,t)};const{createCanvas:J$}=G$,gE="canvas";class mE extends q{constructor(t,n=gE){super(t,n),this[Br]=J$(300,150)}get width(){return this[Br].width}set width(t){Hi.set(this,"width",t),this[Br].width=t}get height(){return this[Br].height}set height(t){Hi.set(this,"height",t),this[Br].height=t}getContext(t){return this[Br].getContext(t)}toDataURL(...t){return this[Br].toDataURL(...t)}}xt(gE,mE);class W$ extends q{constructor(t,n="legend"){super(t,n)}}const yE="option";class bE extends q{constructor(t,n=yE){super(t,n)}get value(){return M.get(this,"value")}set value(t){M.set(this,"value",t)}get selected(){return ve.get(this,"selected")}set selected(t){var r;const n=(r=this.parentElement)==null?void 0:r.querySelector("option[selected]");n&&n!==this&&(n.selected=!1),ve.set(this,"selected",t)}}xt(yE,bE);class Q$ extends q{constructor(t,n="span"){super(t,n)}}class X$ extends q{constructor(t,n="meter"){super(t,n)}}class K$ extends q{constructor(t,n="video"){super(t,n)}}class Y$ extends q{constructor(t,n="td"){super(t,n)}}const wE="title";class xE extends Gp{constructor(t,n=wE){super(t,n)}}xt(wE,xE);class Z$ extends q{constructor(t,n="output"){super(t,n)}}class eB extends q{constructor(t,n="tr"){super(t,n)}}class tB extends q{constructor(t,n="data"){super(t,n)}}class nB extends q{constructor(t,n="menu"){super(t,n)}}const vE="select";class SE extends q{constructor(t,n=vE){super(t,n)}get options(){let t=new bs,{firstElementChild:n}=this;for(;n;)n.tagName==="OPTGROUP"?t.push(...n.children):t.push(n),n=n.nextElementSibling;return t}get disabled(){return ve.get(this,"disabled")}set disabled(t){ve.set(this,"disabled",t)}get name(){return this.getAttribute("name")}set name(t){this.setAttribute("name",t)}get value(){var t;return(t=this.querySelector("option[selected]"))==null?void 0:t.value}}xt(vE,SE);class rB extends q{constructor(t,n="br"){super(t,n)}}const _E="button";class AE extends q{constructor(t,n=_E){super(t,n)}get disabled(){return ve.get(this,"disabled")}set disabled(t){ve.set(this,"disabled",t)}get name(){return this.getAttribute("name")}set name(t){this.setAttribute("name",t)}get type(){return this.getAttribute("type")}set type(t){this.setAttribute("type",t)}}xt(_E,AE);class sB extends q{constructor(t,n="map"){super(t,n)}}class iB extends q{constructor(t,n="optgroup"){super(t,n)}}class uB extends q{constructor(t,n="dl"){super(t,n)}}const TE="textarea";class EE extends Gp{constructor(t,n=TE){super(t,n)}get disabled(){return ve.get(this,"disabled")}set disabled(t){ve.set(this,"disabled",t)}get name(){return this.getAttribute("name")}set name(t){this.setAttribute("name",t)}get placeholder(){return this.getAttribute("placeholder")}set placeholder(t){this.setAttribute("placeholder",t)}get type(){return this.getAttribute("type")}set type(t){this.setAttribute("type",t)}get value(){return this.textContent}set value(t){this.textContent=t}}xt(TE,EE);class oB extends q{constructor(t,n="font"){super(t,n)}}class aB extends q{constructor(t,n="div"){super(t,n)}}const OE="link";class IE extends q{constructor(t,n=OE){super(t,n)}get disabled(){return ve.get(this,"disabled")}set disabled(t){ve.set(this,"disabled",t)}get href(){return M.get(this,"href")}set href(t){M.set(this,"href",t)}get hreflang(){return M.get(this,"hreflang")}set hreflang(t){M.set(this,"hreflang",t)}get media(){return M.get(this,"media")}set media(t){M.set(this,"media",t)}get rel(){return M.get(this,"rel")}set rel(t){M.set(this,"rel",t)}get type(){return M.get(this,"type")}set type(t){M.set(this,"type",t)}}xt(OE,IE);const NE="slot";class RE extends q{constructor(t,n=NE){super(t,n)}get name(){return this.getAttribute("name")}set name(t){this.setAttribute("name",t)}assign(){}assignedNodes(t){var i;const n=!!this.name,r=((i=this.getRootNode().host)==null?void 0:i.childNodes)??[];let s;if(n?s=[...r].filter(u=>u.slot===this.name):s=[...r].filter(u=>!u.slot),t!=null&&t.flatten){const u=[];for(let o of s)o.localName==="slot"?u.push(...o.assignedNodes({flatten:!0})):u.push(o);s=u}return s.length?s:[...this.childNodes]}assignedElements(t){const n=this.assignedNodes(t).filter(r=>r.nodeType===1);return n.length?n:[...this.children]}}xt(NE,RE);class cB extends q{constructor(t,n="form"){super(t,n)}}const kE="img";class Ew extends q{constructor(t,n=kE){super(t,n)}get alt(){return M.get(this,"alt")}set alt(t){M.set(this,"alt",t)}get sizes(){return M.get(this,"sizes")}set sizes(t){M.set(this,"sizes",t)}get src(){return M.get(this,"src")}set src(t){M.set(this,"src",t)}get srcset(){return M.get(this,"srcset")}set srcset(t){M.set(this,"srcset",t)}get title(){return M.get(this,"title")}set title(t){M.set(this,"title",t)}get width(){return Hi.get(this,"width")}set width(t){Hi.set(this,"width",t)}get height(){return Hi.get(this,"height")}set height(t){Hi.set(this,"height",t)}}xt(kE,Ew);class lB extends q{constructor(t,n="pre"){super(t,n)}}class fB extends q{constructor(t,n="ul"){super(t,n)}}const CE="meta";class DE extends q{constructor(t,n=CE){super(t,n)}get name(){return M.get(this,"name")}set name(t){M.set(this,"name",t)}get httpEquiv(){return M.get(this,"http-equiv")}set httpEquiv(t){M.set(this,"http-equiv",t)}get content(){return M.get(this,"content")}set content(t){M.set(this,"content",t)}get charset(){return M.get(this,"charset")}set charset(t){M.set(this,"charset",t)}get media(){return M.get(this,"media")}set media(t){M.set(this,"media",t)}}xt(CE,DE);class dB extends q{constructor(t,n="picture"){super(t,n)}}class hB extends q{constructor(t,n="area"){super(t,n)}}class pB extends q{constructor(t,n="ol"){super(t,n)}}class gB extends q{constructor(t,n="caption"){super(t,n)}}const ME="a";class PE extends q{constructor(t,n=ME){super(t,n)}get href(){return encodeURI(decodeURI(M.get(this,"href")))}set href(t){M.set(this,"href",decodeURI(t))}get download(){return encodeURI(decodeURI(M.get(this,"download")))}set download(t){M.set(this,"download",decodeURI(t))}get target(){return M.get(this,"target")}set target(t){M.set(this,"target",t)}get type(){return M.get(this,"type")}set type(t){M.set(this,"type",t)}get rel(){return M.get(this,"rel")}set rel(t){M.set(this,"rel",t)}}xt(ME,PE);class mB extends q{constructor(t,n="label"){super(t,n)}}class yB extends q{constructor(t,n="unknown"){super(t,n)}}class bB extends q{constructor(t,n="mod"){super(t,n)}}class wB extends q{constructor(t,n="details"){super(t,n)}}const jE="source";class LE extends q{constructor(t,n=jE){super(t,n)}get src(){return M.get(this,"src")}set src(t){M.set(this,"src",t)}get srcset(){return M.get(this,"srcset")}set srcset(t){M.set(this,"srcset",t)}get sizes(){return M.get(this,"sizes")}set sizes(t){M.set(this,"sizes",t)}get type(){return M.get(this,"type")}set type(t){M.set(this,"type",t)}}xt(jE,LE);class xB extends q{constructor(t,n="track"){super(t,n)}}class vB extends q{constructor(t,n="marquee"){super(t,n)}}const SB={HTMLElement:q,HTMLTemplateElement:WT,HTMLHtmlElement:_$,HTMLScriptElement:XT,HTMLFrameElement:T$,HTMLIFrameElement:YT,HTMLObjectElement:E$,HTMLHeadElement:O$,HTMLBodyElement:I$,HTMLStyleElement:cE,HTMLTimeElement:lE,HTMLFieldSetElement:R$,HTMLEmbedElement:k$,HTMLHRElement:C$,HTMLProgressElement:D$,HTMLParagraphElement:M$,HTMLTableElement:P$,HTMLFrameSetElement:j$,HTMLLIElement:L$,HTMLBaseElement:F$,HTMLDataListElement:$$,HTMLInputElement:dE,HTMLParamElement:B$,HTMLMediaElement:U$,HTMLAudioElement:q$,HTMLHeadingElement:pE,HTMLDirectoryElement:V$,HTMLQuoteElement:z$,HTMLCanvasElement:mE,HTMLLegendElement:W$,HTMLOptionElement:bE,HTMLSpanElement:Q$,HTMLMeterElement:X$,HTMLVideoElement:K$,HTMLTableCellElement:Y$,HTMLTitleElement:xE,HTMLOutputElement:Z$,HTMLTableRowElement:eB,HTMLDataElement:tB,HTMLMenuElement:nB,HTMLSelectElement:SE,HTMLBRElement:rB,HTMLButtonElement:AE,HTMLMapElement:sB,HTMLOptGroupElement:iB,HTMLDListElement:uB,HTMLTextAreaElement:EE,HTMLFontElement:oB,HTMLDivElement:aB,HTMLLinkElement:IE,HTMLSlotElement:RE,HTMLFormElement:cB,HTMLImageElement:Ew,HTMLPreElement:lB,HTMLUListElement:fB,HTMLMetaElement:DE,HTMLPictureElement:dB,HTMLAreaElement:hB,HTMLOListElement:pB,HTMLTableCaptionElement:gB,HTMLAnchorElement:PE,HTMLLabelElement:mB,HTMLUnknownElement:yB,HTMLModElement:bB,HTMLDetailsElement:wB,HTMLSourceElement:LE,HTMLTrackElement:xB,HTMLMarqueeElement:vB},vd={test:()=>!0},_B={"text/html":{docType:"<!DOCTYPE html>",ignoreCase:!0,voidElements:/^(?:area|base|br|col|embed|hr|img|input|keygen|link|menuitem|meta|param|source|track|wbr)$/i},"image/svg+xml":{docType:'<?xml version="1.0" encoding="utf-8"?>',ignoreCase:!1,voidElements:vd},"text/xml":{docType:'<?xml version="1.0" encoding="utf-8"?>',ignoreCase:!1,voidElements:vd},"application/xml":{docType:'<?xml version="1.0" encoding="utf-8"?>',ignoreCase:!1,voidElements:vd},"application/xhtml+xml":{docType:'<?xml version="1.0" encoding="utf-8"?>',ignoreCase:!1,voidElements:vd}};let FE=class extends go{constructor(t,n={}){super(t,n),this.detail=n.detail}};class AB extends go{constructor(t,n={}){super(t,n),this.inputType=n.inputType,this.data=n.data,this.dataTransfer=n.dataTransfer,this.isComposing=n.isComposing||!1,this.ranges=n.ranges}}const TB=e=>class extends Ew{constructor(n,r){switch(super(e),arguments.length){case 1:this.height=n,this.width=n;break;case 2:this.height=r,this.width=n;break}}},JS=({[An]:e,[Z]:t},n=null)=>{iT(e[Et],t[F]);do{const r=Gn(e),s=r===t?r:r[F];n?n.insertBefore(e,n[Z]):e.remove(),e=s}while(e!==t)};class Ow{constructor(){this[An]=null,this[Z]=null,this.commonAncestorContainer=null}insertNode(t){this[Z].parentNode.insertBefore(t,this[An])}selectNode(t){this[An]=t,this[Z]=Gn(t)}selectNodeContents(t){this.selectNode(t),this.commonAncestorContainer=t}surroundContents(t){t.replaceChildren(this.extractContents())}setStartBefore(t){this[An]=t}setStartAfter(t){this[An]=t.nextSibling}setEndBefore(t){this[Z]=Gn(t.previousSibling)}setEndAfter(t){this[Z]=Gn(t)}cloneContents(){let{[An]:t,[Z]:n}=this;const r=t.ownerDocument.createDocumentFragment();for(;t!==n;)r.insertBefore(t.cloneNode(!0),r[Z]),t=Gn(t),t!==n&&(t=t[F]);return r}deleteContents(){JS(this)}extractContents(){const t=this[An].ownerDocument.createDocumentFragment();return JS(this,t),t}createContextualFragment(t){const{commonAncestorContainer:n}=this,r="ownerSVGElement"in n,s=r?n.ownerDocument:n,i=s.createElement("template");i.innerHTML=t;let{content:u}=i;if(r){const o=[...u.childNodes];u=s.createDocumentFragment(),Object.setPrototypeOf(u,Ll.prototype),u.ownerSVGElement=s;for(const a of o)Object.setPrototypeOf(a,Ll.prototype),a.ownerSVGElement=s,u.appendChild(a)}else this.selectNode(u);return u}cloneRange(){const t=new Ow;return t[An]=this[An],t[Z]=this[Z],t}}const EB=({nodeType:e},t)=>{switch(e){case me:return t&XL;case nn:return t&KL;case pi:return t&ZL;case hi:return t&YL}return 0};class OB{constructor(t,n=QL){this.root=t,this.currentNode=t,this.whatToShow=n;let{[F]:r,[Z]:s}=t;if(t.nodeType===$u){const{documentElement:u}=t;r=u,s=u[Z]}const i=[];for(;r!==s;)EB(r,n)&&i.push(r),r=r[F];this[Xt]={i:0,nodes:i}}nextNode(){const t=this[Xt];return this.currentNode=t.i<t.nodes.length?t.nodes[t.i++]:null,this.currentNode}}const WS=(e,t,n)=>{let{[F]:r,[Z]:s}=t;return e.call({ownerDocument:t,[F]:r,[Z]:s},n)},$E=sF({},S$,SB,{CustomEvent:FE,Event:go,EventTarget:Yb,InputEvent:AB,NamedNodeMap:GT,NodeList:bs}),Sd=new WeakMap;let mo=class extends uw{constructor(t){super(null,"#document",$u),this[$r]={active:!1,registry:null},this[Ui]={active:!1,class:null},this[fc]=_B[t],this[Ou]=null,this[y1]=null,this[Hd]=null,this[Br]=null,this[hl]=null}get defaultView(){return Sd.has(this)||Sd.set(this,new Proxy(globalThis,{set:(t,n,r)=>{switch(n){case"addEventListener":case"removeEventListener":case"dispatchEvent":this[jc][n]=r;break;default:t[n]=r;break}return!0},get:(t,n)=>{switch(n){case"addEventListener":case"removeEventListener":case"dispatchEvent":if(!this[jc]){const r=this[jc]=new Yb;r.dispatchEvent=r.dispatchEvent.bind(r),r.addEventListener=r.addEventListener.bind(r),r.removeEventListener=r.removeEventListener.bind(r)}return this[jc][n];case"document":return this;case"navigator":return{userAgent:"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.150 Safari/537.36"};case"window":return Sd.get(this);case"customElements":return this[$r].registry||(this[$r]=new fF(this)),this[$r];case"performance":return pF;case"DOMParser":return this[y1];case"Image":return this[Br]||(this[Br]=TB(this)),this[Br];case"MutationObserver":return this[Ui].class||(this[Ui]=new mF(this)),this[Ui].class}return this[Hd]&&this[Hd][n]||$E[n]||t[n]}})),Sd.get(this)}get doctype(){const t=this[Ou];if(t)return t;const{firstChild:n}=this;return n&&n.nodeType===Ia?this[Ou]=n:null}set doctype(t){if(/^([a-z:]+)(\s+system|\s+public(\s+"([^"]+)")?)?(\s+"([^"]+)")?/i.test(t)){const{$1:n,$4:r,$6:s}=RegExp;this[Ou]=new Th(this,n,r,s),qp(this,this[Ou],this[F])}}get documentElement(){return this.firstElementChild}get isConnected(){return!0}_getParent(){return this[jc]}createAttribute(t){return new Cf(this,t)}createCDATASection(t){return new rw(this,t)}createComment(t){return new sw(this,t)}createDocumentFragment(){return new ow(this)}createDocumentType(t,n,r){return new Th(this,t,n,r)}createElement(t){return new Pf(this,t)}createRange(){const t=new Ow;return t.commonAncestorContainer=this,t}createTextNode(t){return new Mf(this,t)}createTreeWalker(t,n=-1){return new OB(t,n)}createNodeIterator(t,n=-1){return this.createTreeWalker(t,n)}createEvent(t){const n=iF(t==="Event"?new go(""):new FE(""));return n.initEvent=n.initCustomEvent=(r,s=!1,i=!1,u)=>{n.bubbles=!!s,uF(n,{type:{value:r},canBubble:{value:s},cancelable:{value:i},detail:{value:u}})},n}cloneNode(t=!1){const{constructor:n,[$r]:r,[Ou]:s}=this,i=new n;if(i[$r]=r,t){const u=i[Z],{childNodes:o}=this;for(let{length:a}=o,c=0;c<a;c++)i.insertBefore(o[c].cloneNode(!0),u);s&&(i[Ou]=o[0])}return i}importNode(t){const n=1<arguments.length&&!!arguments[1],r=t.cloneNode(n),{[$r]:s}=this,{active:i}=s,u=o=>{const{ownerDocument:a,nodeType:c}=o;o.ownerDocument=this,i&&a!==this&&c===me&&s.upgrade(o)};if(u(r),n)switch(r.nodeType){case me:case ii:{let{[F]:o,[Z]:a}=r;for(;o!==a;)o.nodeType===me&&u(o),o=o[F];break}}return r}toString(){return this.childNodes.join("")}querySelector(t){return WS(super.querySelector,this,t)}querySelectorAll(t){return WS(super.querySelectorAll,this,t)}getElementsByTagNameNS(t,n){return this.getElementsByTagName(n)}createAttributeNS(t,n){return this.createAttribute(n)}createElementNS(t,n,r){return t===_h?new Ll(this,n,null):this.createElement(n,r)}};xn($E.Document=function(){Zn()},mo).prototype=mo.prototype;const IB=(e,t,n,r)=>{if(!t&&Ah.has(n)){const u=Ah.get(n);return new u(e,n)}const{[$r]:{active:s,registry:i}}=e;if(s){const u=t?r.is:n;if(i.has(u)){const{Class:o}=i.get(u),a=new o(e,n);return po.set(a,{connected:!1}),a}}return new q(e,n)};class NB extends mo{constructor(){super("text/html")}get all(){const t=new bs;let{[F]:n,[Z]:r}=this;for(;n!==r;){switch(n.nodeType){case me:t.push(n);break}n=n[F]}return t}get head(){const{documentElement:t}=this;let{firstElementChild:n}=t;return(!n||n.tagName!=="HEAD")&&(n=this.createElement("head"),t.prepend(n)),n}get body(){const{head:t}=this;let{nextElementSibling:n}=t;return(!n||n.tagName!=="BODY")&&(n=this.createElement("body"),t.after(n)),n}get title(){var n;const{head:t}=this;return((n=t.getElementsByTagName("title").at(0))==null?void 0:n.textContent)||""}set title(t){const{head:n}=this;let r=n.getElementsByTagName("title").at(0);r?r.textContent=t:n.insertBefore(this.createElement("title"),n.firstChild).textContent=t}createElement(t,n){const r=!!(n&&n.is),s=IB(this,r,t,n);return r&&s.setAttribute("is",n.is),s}}class RB extends mo{constructor(){super("image/svg+xml")}toString(){return this[fc].docType+super.toString()}}class kB extends mo{constructor(){super("text/xml")}toString(){return this[fc].docType+super.toString()}}class Iw{parseFromString(t,n,r=null){let s=!1,i;return n==="text/html"?(s=!0,i=new NB):n==="image/svg+xml"?i=new RB:i=new kB,i[y1]=Iw,r&&(i[Hd]=r),s&&t==="..."&&(t="<!doctype html><html><head></head><body></body></html>"),t?oT(i,s,t):i}}const CB=(e,t=null)=>new Iw().parseFromString(e,"text/html",t).defaultView;function DB(){Zn()}xn(DB,mo).prototype=mo.prototype;async function MB(e){const t=await fetch(e).then(s=>s.text()),{document:n}=CB(t),r=await PB(n);return r?z(r):K("Could not parse recipe")}async function PB(e){const t=e.querySelector('script[type="application/ld+json"]');if(t){const n=t.innerHTML,r={"@context":"https://schema.org/","@type":"Recipe","@explicit":!0,cookTime:{},prepTime:{},recipeYield:{},cookingMethod:{},datePublished:{},author:{},description:{},name:{},title:{},recipeIngredient:{},recipeCategory:{},recipeCuisine:{},recipeInstructions:{},url:{"@explicit":!0,id:{}}},{frame:s}=kj,i=await s(JSON.parse(n),r),u=i!=null&&i.recipeIngredient?i.recipeIngredient:[],o=i!=null&&i.recipeInstructions?i.recipeInstructions:[],a=new Date().toISOString(),c=(()=>{switch(!0){case Object.hasOwn(i,"name"):return i.name;case Object.hasOwn(i,"title"):return i.title;default:return`Imported Recipe-${a}`}})();return{slug:Fj(c),title:c,cook_time:i!=null&&i.cookTime?Yc.toSeconds(Yc.parse(i==null?void 0:i.cookTime))/60:null,prep_time:i!=null&&i.prepTime?Yc.toSeconds(Yc.parse(i==null?void 0:i.prepTime))/60:null,serves:i!=null&&i.recipeYield?i.recipeYield[0]:0,ingredients:u.map(d=>({name:d})),method_steps:o.map(d=>({stepText:d.text}))}}}function jB(e,t){const n=Number.isInteger(t);if(n&&Array.isArray(e)||e&&typeof e=="object"||Object.getPrototypeOf(e)===Object.prototype)return new z(e[t]);if(value instanceof Dict||value instanceof WeakMap||value instanceof Map){const r=map_get(value,name);return new z(r.isOk()?new Some(r[0]):new None)}return Object.getPrototypeOf(value)==Object.prototype?try_get_field(value,name,()=>new z(new None)):new K(n?"Indexable":"Dict")}class ns extends S{constructor(t){super(),this.continuation=t}}function mn(e){return new ns(t=>new z(e))}function Lf(e,t){return e.continuation(t)}function Ff(e,t){return new ns(n=>{let r=e.continuation(n);if(r.isOk()){let s=r[0],i=t(s);return Lf(i,n)}else{let s=r[0];return new K(s)}})}const en=new ns(Pt),LB=new ns(Z3),Xd=new ns(qy);function FB(e){return new ns(zy(e.continuation))}function Nw(e,t){return new ns(mp(e.continuation,t.continuation))}function $n(e){return new ns(LR(e.continuation))}function $B(e,t){let n=Jr(t),r=Vy(p([Pt,i=>ne(qy(i),D)])),s=(()=>{let i=r(n);return i.isOk()?i[0]:"<"+pf(n)+">"})();return X(e,i=>i.withFields({path:J(s,i.path)}))}function BB(e,t,n){let r=jB(n,e);if(r.isOk()){let s=r[0],i=t(s);if(i.isOk()){let u=i[0];return new z(u)}else{let u=i[0];return new K($B(u,e))}}else{let s=r[0];return new K(p([new ni(s,pf(n),p([]))]))}}function UB(e,t){return new ns(n=>dp(e,t.continuation,(s,i)=>u=>BB(i,s,u))(n))}function qB(e,t,n){return new ns(r=>{let s=e.continuation(r),i=Lf(UB(t,n),r);if(s.isOk()&&i.isOk()){let u=s[0],o=i[0];return new z(u(o))}else if(!s.isOk()&&!i.isOk()){let u=s[0],o=i[0];return new K(lp(u,o))}else if(i.isOk()){let u=s[0];return new K(u)}else{let u=i[0];return new K(u)}})}function Ve(e,t,n){return qB(e,p([t]),n)}function Rw(e){return new ns(t=>new K(p([new ni(e,pf(t),p([]))])))}function VB(e){return wt(e)&&!js(e)&&!Xp(e)&&Symbol.asyncIterator in e}function js(e){return Array.isArray(e)}function BE(e){return typeof e=="bigint"}function Qp(e){return typeof e=="boolean"}function UE(e){return e instanceof globalThis.Date}function zB(e){return typeof e=="function"}function HB(e){return wt(e)&&!js(e)&&!Xp(e)&&Symbol.iterator in e}function GB(e){return e===null}function su(e){return typeof e=="number"}function wt(e){return typeof e=="object"&&e!==null}function JB(e){return e instanceof globalThis.RegExp}function ot(e){return typeof e=="string"}function WB(e){return typeof e=="symbol"}function Xp(e){return e instanceof globalThis.Uint8Array}function Xe(e){return e===void 0}function QB(e){return e.map(t=>kh(t))}function XB(e){return new Date(e.getTime())}function KB(e){return new Uint8Array(e)}function YB(e){return new RegExp(e.source,e.flags)}function ZB(e){const t={};for(const n of Object.getOwnPropertyNames(e))t[n]=kh(e[n]);for(const n of Object.getOwnPropertySymbols(e))t[n]=kh(e[n]);return t}function kh(e){return js(e)?QB(e):UE(e)?XB(e):Xp(e)?KB(e):JB(e)?YB(e):wt(e)?ZB(e):e}function eU(e){return kh(e)}function Qn(e){return e.map(t=>ie(t))}function ie(e,t={}){return{...eU(e),...t}}class tr extends Error{constructor(t){super(t)}}const xs=Symbol.for("TypeBox.Transform"),Kp=Symbol.for("TypeBox.Readonly"),gu=Symbol.for("TypeBox.Optional"),Yp=Symbol.for("TypeBox.Hint"),G=Symbol.for("TypeBox.Kind");function tU(e){return wt(e)&&e[Kp]==="Readonly"}function mc(e){return wt(e)&&e[gu]==="Optional"}function nU(e){return he(e,"Any")}function $f(e){return he(e,"Array")}function kw(e){return he(e,"AsyncIterator")}function qE(e){return he(e,"BigInt")}function VE(e){return he(e,"Boolean")}function Cw(e){return he(e,"Constructor")}function rU(e){return he(e,"Date")}function Dw(e){return he(e,"Function")}function Zp(e){return he(e,"Integer")}function rs(e){return he(e,"Intersect")}function Mw(e){return he(e,"Iterator")}function he(e,t){return wt(e)&&G in e&&e[G]===t}function Bf(e){return he(e,"Literal")}function Ro(e){return he(e,"MappedKey")}function nr(e){return he(e,"MappedResult")}function e0(e){return he(e,"Never")}function sU(e){return he(e,"Not")}function iU(e){return he(e,"Null")}function t0(e){return he(e,"Number")}function Ls(e){return he(e,"Object")}function n0(e){return he(e,"Promise")}function zE(e){return he(e,"Record")}function HE(e){return he(e,"Ref")}function GE(e){return he(e,"RegExp")}function Pw(e){return he(e,"String")}function uU(e){return he(e,"Symbol")}function ko(e){return he(e,"TemplateLiteral")}function oU(e){return he(e,"This")}function jw(e){return wt(e)&&xs in e}function yc(e){return he(e,"Tuple")}function aU(e){return he(e,"Undefined")}function Bt(e){return he(e,"Union")}function cU(e){return he(e,"Uint8Array")}function lU(e){return he(e,"Unknown")}function fU(e){return he(e,"Unsafe")}function dU(e){return he(e,"Void")}function hU(e){return wt(e)&&G in e&&ot(e[G])}function yo(e){return nU(e)||$f(e)||VE(e)||qE(e)||kw(e)||Cw(e)||rU(e)||Dw(e)||Zp(e)||rs(e)||Mw(e)||Bf(e)||Ro(e)||nr(e)||e0(e)||sU(e)||iU(e)||t0(e)||Ls(e)||n0(e)||zE(e)||HE(e)||GE(e)||Pw(e)||uU(e)||ko(e)||oU(e)||yc(e)||aU(e)||Bt(e)||cU(e)||lU(e)||fU(e)||dU(e)||hU(e)}const pU=["Any","Array","AsyncIterator","BigInt","Boolean","Constructor","Date","Enum","Function","Integer","Intersect","Iterator","Literal","MappedKey","MappedResult","Not","Null","Number","Object","Promise","Record","Ref","RegExp","String","Symbol","TemplateLiteral","This","Tuple","Undefined","Union","Uint8Array","Unknown","Void"];function JE(e){try{return new RegExp(e),!0}catch{return!1}}function Lw(e){if(!ot(e))return!1;for(let t=0;t<e.length;t++){const n=e.charCodeAt(t);if(n>=7&&n<=13||n===27||n===127)return!1}return!0}function WE(e){return Fw(e)||$t(e)}function Bc(e){return Xe(e)||BE(e)}function Ce(e){return Xe(e)||su(e)}function Fw(e){return Xe(e)||Qp(e)}function Oe(e){return Xe(e)||ot(e)}function gU(e){return Xe(e)||ot(e)&&Lw(e)&&JE(e)}function mU(e){return Xe(e)||ot(e)&&Lw(e)}function QE(e){return Xe(e)||$t(e)}function Ch(e){return wt(e)&&e[gu]==="Optional"}function Zr(e){return pe(e,"Any")&&Oe(e.$id)}function Co(e){return pe(e,"Array")&&e.type==="array"&&Oe(e.$id)&&$t(e.items)&&Ce(e.minItems)&&Ce(e.maxItems)&&Fw(e.uniqueItems)&&QE(e.contains)&&Ce(e.minContains)&&Ce(e.maxContains)}function $w(e){return pe(e,"AsyncIterator")&&e.type==="AsyncIterator"&&Oe(e.$id)&&$t(e.items)}function r0(e){return pe(e,"BigInt")&&e.type==="bigint"&&Oe(e.$id)&&Bc(e.exclusiveMaximum)&&Bc(e.exclusiveMinimum)&&Bc(e.maximum)&&Bc(e.minimum)&&Bc(e.multipleOf)}function Do(e){return pe(e,"Boolean")&&e.type==="boolean"&&Oe(e.$id)}function s0(e){return pe(e,"Constructor")&&e.type==="Constructor"&&Oe(e.$id)&&js(e.parameters)&&e.parameters.every(t=>$t(t))&&$t(e.returns)}function i0(e){return pe(e,"Date")&&e.type==="Date"&&Oe(e.$id)&&Ce(e.exclusiveMaximumTimestamp)&&Ce(e.exclusiveMinimumTimestamp)&&Ce(e.maximumTimestamp)&&Ce(e.minimumTimestamp)&&Ce(e.multipleOfTimestamp)}function u0(e){return pe(e,"Function")&&e.type==="Function"&&Oe(e.$id)&&js(e.parameters)&&e.parameters.every(t=>$t(t))&&$t(e.returns)}function Si(e){return pe(e,"Integer")&&e.type==="integer"&&Oe(e.$id)&&Ce(e.exclusiveMaximum)&&Ce(e.exclusiveMinimum)&&Ce(e.maximum)&&Ce(e.minimum)&&Ce(e.multipleOf)}function XE(e){return wt(e)&&Object.entries(e).every(([t,n])=>Lw(t)&&$t(n))}function Mo(e){return pe(e,"Intersect")&&!(ot(e.type)&&e.type!=="object")&&js(e.allOf)&&e.allOf.every(t=>$t(t)&&!SU(t))&&Oe(e.type)&&(Fw(e.unevaluatedProperties)||QE(e.unevaluatedProperties))&&Oe(e.$id)}function Bw(e){return pe(e,"Iterator")&&e.type==="Iterator"&&Oe(e.$id)&&$t(e.items)}function pe(e,t){return wt(e)&&G in e&&e[G]===t}function KE(e){return mu(e)&&ot(e.const)}function YE(e){return mu(e)&&su(e.const)}function ZE(e){return mu(e)&&Qp(e.const)}function mu(e){return pe(e,"Literal")&&Oe(e.$id)&&yU(e.const)}function yU(e){return Qp(e)||su(e)||ot(e)}function bU(e){return pe(e,"MappedKey")&&js(e.keys)&&e.keys.every(t=>su(t)||ot(t))}function wU(e){return pe(e,"MappedResult")&&XE(e.properties)}function yu(e){return pe(e,"Never")&&wt(e.not)&&Object.getOwnPropertyNames(e.not).length===0}function Na(e){return pe(e,"Not")&&$t(e.not)}function Uw(e){return pe(e,"Null")&&e.type==="null"&&Oe(e.$id)}function Rn(e){return pe(e,"Number")&&e.type==="number"&&Oe(e.$id)&&Ce(e.exclusiveMaximum)&&Ce(e.exclusiveMinimum)&&Ce(e.maximum)&&Ce(e.minimum)&&Ce(e.multipleOf)}function Ge(e){return pe(e,"Object")&&e.type==="object"&&Oe(e.$id)&&XE(e.properties)&&WE(e.additionalProperties)&&Ce(e.minProperties)&&Ce(e.maxProperties)}function qw(e){return pe(e,"Promise")&&e.type==="Promise"&&Oe(e.$id)&&$t(e.item)}function Ft(e){return pe(e,"Record")&&e.type==="object"&&Oe(e.$id)&&WE(e.additionalProperties)&&wt(e.patternProperties)&&(t=>{const n=Object.getOwnPropertyNames(t.patternProperties);return n.length===1&&JE(n[0])&&wt(t.patternProperties)&&$t(t.patternProperties[n[0]])})(e)}function xU(e){return pe(e,"Ref")&&Oe(e.$id)&&ot(e.$ref)}function Fl(e){return pe(e,"RegExp")&&Oe(e.$id)&&ot(e.source)&&ot(e.flags)&&Ce(e.maxLength)&&Ce(e.minLength)}function es(e){return pe(e,"String")&&e.type==="string"&&Oe(e.$id)&&Ce(e.minLength)&&Ce(e.maxLength)&&gU(e.pattern)&&mU(e.format)}function $l(e){return pe(e,"Symbol")&&e.type==="symbol"&&Oe(e.$id)}function Bl(e){return pe(e,"TemplateLiteral")&&e.type==="string"&&ot(e.pattern)&&e.pattern[0]==="^"&&e.pattern[e.pattern.length-1]==="$"}function vU(e){return pe(e,"This")&&Oe(e.$id)&&ot(e.$ref)}function SU(e){return wt(e)&&xs in e}function o0(e){return pe(e,"Tuple")&&e.type==="array"&&Oe(e.$id)&&su(e.minItems)&&su(e.maxItems)&&e.minItems===e.maxItems&&(Xe(e.items)&&Xe(e.additionalItems)&&e.minItems===0||js(e.items)&&e.items.every(t=>$t(t)))}function bo(e){return pe(e,"Undefined")&&e.type==="undefined"&&Oe(e.$id)}function wi(e){return pe(e,"Union")&&Oe(e.$id)&&wt(e)&&js(e.anyOf)&&e.anyOf.every(t=>$t(t))}function Uf(e){return pe(e,"Uint8Array")&&e.type==="Uint8Array"&&Oe(e.$id)&&Ce(e.minByteLength)&&Ce(e.maxByteLength)}function ts(e){return pe(e,"Unknown")&&Oe(e.$id)}function _U(e){return pe(e,"Unsafe")}function a0(e){return pe(e,"Void")&&e.type==="void"&&Oe(e.$id)}function AU(e){return wt(e)&&G in e&&ot(e[G])&&!pU.includes(e[G])}function $t(e){return wt(e)&&(Zr(e)||Co(e)||Do(e)||r0(e)||$w(e)||s0(e)||i0(e)||u0(e)||Si(e)||Mo(e)||Bw(e)||mu(e)||bU(e)||wU(e)||yu(e)||Na(e)||Uw(e)||Rn(e)||Ge(e)||qw(e)||Ft(e)||xU(e)||Fl(e)||es(e)||$l(e)||Bl(e)||vU(e)||o0(e)||bo(e)||wi(e)||Uf(e)||ts(e)||_U(e)||a0(e)||AU(e))}const TU="(true|false)",Kd="(0|[1-9][0-9]*)",eO="(.*)",Ul=`^${Kd}$`,Dh=`^${eO}$`,Vw=new Map;function tO(e){return Vw.has(e)}function EU(e,t){Vw.set(e,t)}function OU(e){return Vw.get(e)}const zw=new Map;function Hw(e){return zw.has(e)}function IU(e,t){zw.set(e,t)}function NU(e){return zw.get(e)}function RU(e,t){return e.includes(t)}function kU(e){return[...new Set(e)]}function CU(e,t){return e.filter(n=>t.includes(n))}function DU(e,t){return e.reduce((n,r)=>CU(n,r),t)}function MU(e){return e.length===1?e[0]:e.length>1?DU(e.slice(1),e[0]):[]}function PU(e){const t=[];for(const n of e)t.push(...n);return t}function ql(e={}){return{...e,[G]:"Any"}}function nO(e,t={}){return{...t,[G]:"Array",type:"array",items:ie(e)}}function rO(e,t={}){return{...t,[G]:"AsyncIterator",type:"AsyncIterator",items:ie(e)}}function jU(e,t){const{[t]:n,...r}=e;return r}function Tr(e,t){return t.reduce((n,r)=>jU(n,r),e)}function Mn(e={}){return{...e,[G]:"Never",not:{}}}function Ut(e){return{[G]:"MappedResult",properties:e}}function sO(e,t,n){return{...n,[G]:"Constructor",type:"Constructor",parameters:Qn(e),returns:ie(t)}}function c0(e,t,n){return{...n,[G]:"Function",type:"Function",parameters:Qn(e),returns:ie(t)}}function k1(e,t){return{...t,[G]:"Union",anyOf:Qn(e)}}function LU(e){return e.some(t=>mc(t))}function QS(e){return e.map(t=>mc(t)?FU(t):t)}function FU(e){return Tr(e,[gu])}function $U(e,t){return LU(e)?jo(k1(QS(e),t)):k1(QS(e),t)}function bc(e,t={}){return e.length===0?Mn(t):e.length===1?ie(e[0],t):$U(e,t)}function vn(e,t={}){return e.length===0?Mn(t):e.length===1?ie(e[0],t):k1(e,t)}class XS extends tr{}function BU(e){return e.replace(/\\\$/g,"$").replace(/\\\*/g,"*").replace(/\\\^/g,"^").replace(/\\\|/g,"|").replace(/\\\(/g,"(").replace(/\\\)/g,")")}function Gw(e,t,n){return e[t]===n&&e.charCodeAt(t-1)!==92}function ti(e,t){return Gw(e,t,"(")}function Vl(e,t){return Gw(e,t,")")}function iO(e,t){return Gw(e,t,"|")}function UU(e){if(!(ti(e,0)&&Vl(e,e.length-1)))return!1;let t=0;for(let n=0;n<e.length;n++)if(ti(e,n)&&(t+=1),Vl(e,n)&&(t-=1),t===0&&n!==e.length-1)return!1;return!0}function qU(e){return e.slice(1,e.length-1)}function VU(e){let t=0;for(let n=0;n<e.length;n++)if(ti(e,n)&&(t+=1),Vl(e,n)&&(t-=1),iO(e,n)&&t===0)return!0;return!1}function zU(e){for(let t=0;t<e.length;t++)if(ti(e,t))return!0;return!1}function HU(e){let[t,n]=[0,0];const r=[];for(let i=0;i<e.length;i++)if(ti(e,i)&&(t+=1),Vl(e,i)&&(t-=1),iO(e,i)&&t===0){const u=e.slice(n,i);u.length>0&&r.push(Ra(u)),n=i+1}const s=e.slice(n);return s.length>0&&r.push(Ra(s)),r.length===0?{type:"const",const:""}:r.length===1?r[0]:{type:"or",expr:r}}function GU(e){function t(s,i){if(!ti(s,i))throw new XS("TemplateLiteralParser: Index must point to open parens");let u=0;for(let o=i;o<s.length;o++)if(ti(s,o)&&(u+=1),Vl(s,o)&&(u-=1),u===0)return[i,o];throw new XS("TemplateLiteralParser: Unclosed group parens in expression")}function n(s,i){for(let u=i;u<s.length;u++)if(ti(s,u))return[i,u];return[i,s.length]}const r=[];for(let s=0;s<e.length;s++)if(ti(e,s)){const[i,u]=t(e,s),o=e.slice(i,u+1);r.push(Ra(o)),s=u}else{const[i,u]=n(e,s),o=e.slice(i,u);o.length>0&&r.push(Ra(o)),s=u-1}return r.length===0?{type:"const",const:""}:r.length===1?r[0]:{type:"and",expr:r}}function Ra(e){return UU(e)?Ra(qU(e)):VU(e)?HU(e):zU(e)?GU(e):{type:"const",const:BU(e)}}function Jw(e){return Ra(e.slice(1,e.length-1))}class JU extends tr{}function WU(e){return e.type==="or"&&e.expr.length===2&&e.expr[0].type==="const"&&e.expr[0].const==="0"&&e.expr[1].type==="const"&&e.expr[1].const==="[1-9][0-9]*"}function QU(e){return e.type==="or"&&e.expr.length===2&&e.expr[0].type==="const"&&e.expr[0].const==="true"&&e.expr[1].type==="const"&&e.expr[1].const==="false"}function XU(e){return e.type==="const"&&e.const===".*"}function zl(e){return WU(e)||XU(e)?!1:QU(e)?!0:e.type==="and"?e.expr.every(t=>zl(t)):e.type==="or"?e.expr.every(t=>zl(t)):e.type==="const"?!0:(()=>{throw new JU("Unknown expression type")})()}function KU(e){const t=Jw(e.pattern);return zl(t)}class YU extends tr{}function*uO(e){if(e.length===1)return yield*e[0];for(const t of e[0])for(const n of uO(e.slice(1)))yield`${t}${n}`}function*ZU(e){return yield*uO(e.expr.map(t=>[...l0(t)]))}function*eq(e){for(const t of e.expr)yield*l0(t)}function*tq(e){return yield e.const}function*l0(e){return e.type==="and"?yield*ZU(e):e.type==="or"?yield*eq(e):e.type==="const"?yield*tq(e):(()=>{throw new YU("Unknown expression")})()}function oO(e){const t=Jw(e.pattern);return zl(t)?[...l0(t)]:[]}function Ye(e,t={}){return{...t,[G]:"Literal",const:e,type:typeof e}}function aO(e={}){return{...e,[G]:"Boolean",type:"boolean"}}function Ww(e={}){return{...e,[G]:"BigInt",type:"bigint"}}function wc(e={}){return{...e,[G]:"Number",type:"number"}}function iu(e={}){return{...e,[G]:"String",type:"string"}}function*nq(e){const t=e.trim().replace(/"|'/g,"");return t==="boolean"?yield aO():t==="number"?yield wc():t==="bigint"?yield Ww():t==="string"?yield iu():yield(()=>{const n=t.split("|").map(r=>Ye(r.trim()));return n.length===0?Mn():n.length===1?n[0]:bc(n)})()}function*rq(e){if(e[1]!=="{"){const t=Ye("$"),n=C1(e.slice(1));return yield*[t,...n]}for(let t=2;t<e.length;t++)if(e[t]==="}"){const n=nq(e.slice(2,t)),r=C1(e.slice(t+1));return yield*[...n,...r]}yield Ye(e)}function*C1(e){for(let t=0;t<e.length;t++)if(e[t]==="$"){const n=Ye(e.slice(0,t)),r=rq(e.slice(t));return yield*[n,...r]}yield Ye(e)}function sq(e){return[...C1(e)]}class iq extends tr{}function uq(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function cO(e,t){return ko(e)?e.pattern.slice(1,e.pattern.length-1):Bt(e)?`(${e.anyOf.map(n=>cO(n,t)).join("|")})`:t0(e)?`${t}${Kd}`:Zp(e)?`${t}${Kd}`:qE(e)?`${t}${Kd}`:Pw(e)?`${t}${eO}`:Bf(e)?`${t}${uq(e.const.toString())}`:VE(e)?`${t}${TU}`:(()=>{throw new iq(`Unexpected Kind '${e[G]}'`)})()}function KS(e){return`^${e.map(t=>cO(t,"")).join("")}$`}function Mh(e){const n=oO(e).map(r=>Ye(r));return bc(n)}function lO(e,t={}){const n=ot(e)?KS(sq(e)):KS(e);return{...t,[G]:"TemplateLiteral",type:"string",pattern:n}}function oq(e){return oO(e).map(n=>n.toString())}function aq(e){const t=[];for(const n of e)t.push(...bu(n));return t}function cq(e){return[e.toString()]}function bu(e){return[...new Set(ko(e)?oq(e):Bt(e)?aq(e.anyOf):Bf(e)?cq(e.const):t0(e)?["[number]"]:Zp(e)?["[number]"]:[])]}function lq(e,t,n){const r={};for(const s of Object.getOwnPropertyNames(t))r[s]=Qw(e,bu(t[s]),n);return r}function fq(e,t,n){return lq(e,t.properties,n)}function dq(e,t,n){const r=fq(e,t,n);return Ut(r)}function fO(e,t){return e.map(n=>dO(n,t))}function hq(e){return e.filter(t=>!e0(t))}function pq(e,t){return yO(hq(fO(e,t)))}function gq(e){return e.some(t=>e0(t))?[]:e}function mq(e,t){return bc(gq(fO(e,t)))}function yq(e,t){return t in e?e[t]:t==="[number]"?bc(e):Mn()}function bq(e,t){return t==="[number]"?e:Mn()}function wq(e,t){return t in e?e[t]:Mn()}function dO(e,t){return rs(e)?pq(e.allOf,t):Bt(e)?mq(e.anyOf,t):yc(e)?yq(e.items??[],t):$f(e)?bq(e.items,t):Ls(e)?wq(e.properties,t):Mn()}function hO(e,t){return t.map(n=>dO(e,n))}function YS(e,t){return bc(hO(e,t))}function Qw(e,t,n={}){return nr(t)?ie(dq(e,t,n)):Ro(t)?ie(_q(e,t,n)):yo(t)?ie(YS(e,bu(t)),n):ie(YS(e,t),n)}function xq(e,t,n){return{[t]:Qw(e,[t],n)}}function vq(e,t,n){return t.reduce((r,s)=>({...r,...xq(e,s,n)}),{})}function Sq(e,t,n){return vq(e,t.keys,n)}function _q(e,t,n){const r=Sq(e,t,n);return Ut(r)}function pO(e,t={}){return{...t,[G]:"Iterator",type:"Iterator",items:ie(e)}}function Aq(e,t={}){const n=globalThis.Object.getOwnPropertyNames(e),r=n.filter(o=>mc(e[o])),s=n.filter(o=>!r.includes(o)),i=yo(t.additionalProperties)?{additionalProperties:ie(t.additionalProperties)}:{},u={};for(const o of n)u[o]=ie(e[o]);return s.length>0?{...t,...i,[G]:"Object",type:"object",properties:u,required:s}:{...t,...i,[G]:"Object",type:"object",properties:u}}const Rt=Aq;function gO(e,t={}){return{...t,[G]:"Promise",type:"Promise",item:ie(e)}}function Tq(e){return Tr(ie(e),[Kp])}function Eq(e){return{...ie(e),[Kp]:"Readonly"}}function Oq(e,t){return t===!1?Tq(e):Eq(e)}function Po(e,t){const n=t??!0;return nr(e)?Rq(e,n):Oq(e,n)}function Iq(e,t){const n={};for(const r of globalThis.Object.getOwnPropertyNames(e))n[r]=Po(e[r],t);return n}function Nq(e,t){return Iq(e.properties,t)}function Rq(e,t){const n=Nq(e,t);return Ut(n)}function qf(e,t={}){const[n,r,s]=[!1,e.length,e.length];return e.length>0?{...t,[G]:"Tuple",type:"array",items:Qn(e),additionalItems:n,minItems:r,maxItems:s}:{...t,[G]:"Tuple",type:"array",minItems:r,maxItems:s}}function mO(e,t){return e in t?or(e,t[e]):Ut(t)}function kq(e){return{[e]:Ye(e)}}function Cq(e){const t={};for(const n of e)t[n]=Ye(n);return t}function Dq(e,t){return RU(t,e)?kq(e):Cq(t)}function Mq(e,t){const n=Dq(e,t);return mO(e,n)}function Uc(e,t){return t.map(n=>or(e,n))}function Pq(e,t){const n={};for(const r of globalThis.Object.getOwnPropertyNames(t))n[r]=or(e,t[r]);return n}function or(e,t){return mc(t)?jo(or(e,Tr(t,[gu]))):tU(t)?Po(or(e,Tr(t,[Kp]))):nr(t)?mO(e,t.properties):Ro(t)?Mq(e,t.keys):Cw(t)?sO(Uc(e,t.parameters),or(e,t.returns)):Dw(t)?c0(Uc(e,t.parameters),or(e,t.returns)):kw(t)?rO(or(e,t.items)):Mw(t)?pO(or(e,t.items)):rs(t)?Lo(Uc(e,t.allOf)):Bt(t)?vn(Uc(e,t.anyOf)):yc(t)?qf(Uc(e,t.items??[])):Ls(t)?Rt(Pq(e,t.properties)):$f(t)?nO(or(e,t.items)):n0(t)?gO(or(e,t.item)):t}function jq(e,t){const n={};for(const r of e)n[r]=or(r,t);return n}function Lq(e,t,n={}){const r=yo(e)?bu(e):e,s=t({[G]:"MappedKey",keys:r}),i=jq(r,s);return ie(Rt(i),n)}function Fq(e){return Tr(ie(e),[gu])}function $q(e){return{...ie(e),[gu]:"Optional"}}function Bq(e,t){return t===!1?Fq(e):$q(e)}function jo(e,t){const n=t??!0;return nr(e)?Vq(e,n):Bq(e,n)}function Uq(e,t){const n={};for(const r of globalThis.Object.getOwnPropertyNames(e))n[r]=jo(e[r],t);return n}function qq(e,t){return Uq(e.properties,t)}function Vq(e,t){const n=qq(e,t);return Ut(n)}function D1(e,t){const n=e.every(s=>Ls(s)),r=yo(t.unevaluatedProperties)?{unevaluatedProperties:ie(t.unevaluatedProperties)}:{};return t.unevaluatedProperties===!1||yo(t.unevaluatedProperties)||n?{...t,...r,[G]:"Intersect",type:"object",allOf:Qn(e)}:{...t,...r,[G]:"Intersect",allOf:Qn(e)}}function zq(e){return e.every(t=>mc(t))}function Hq(e){return Tr(e,[gu])}function ZS(e){return e.map(t=>mc(t)?Hq(t):t)}function Gq(e,t){return zq(e)?jo(D1(ZS(e),t)):D1(ZS(e),t)}function yO(e,t={}){if(e.length===0)return Mn(t);if(e.length===1)return ie(e[0],t);if(e.some(n=>jw(n)))throw new Error("Cannot intersect transform types");return Gq(e,t)}function Lo(e,t={}){if(e.length===0)return Mn(t);if(e.length===1)return ie(e[0],t);if(e.some(n=>jw(n)))throw new Error("Cannot intersect transform types");return D1(e,t)}function bO(e){return e.map(t=>Xw(t))}function Jq(e){return Lo(bO(e))}function Wq(e){return vn(bO(e))}function Qq(e){return Xw(e)}function Xw(e){return rs(e)?Jq(e.allOf):Bt(e)?Wq(e.anyOf):n0(e)?Qq(e.item):e}function Xq(e,t={}){return ie(Xw(e),t)}function wO(e){const t=[];for(const n of e)t.push(f0(n));return t}function Kq(e){const t=wO(e);return PU(t)}function Yq(e){const t=wO(e);return MU(t)}function Zq(e){return e.map((t,n)=>n.toString())}function eV(e){return["[number]"]}function tV(e){return globalThis.Object.getOwnPropertyNames(e)}function nV(e){return M1?globalThis.Object.getOwnPropertyNames(e).map(n=>n[0]==="^"&&n[n.length-1]==="$"?n.slice(1,n.length-1):n):[]}function f0(e){return rs(e)?Kq(e.allOf):Bt(e)?Yq(e.anyOf):yc(e)?Zq(e.items??[]):$f(e)?eV(e.items):Ls(e)?tV(e.properties):zE(e)?nV(e.patternProperties):[]}let M1=!1;function e2(e){M1=!0;const t=f0(e);return M1=!1,`^(${t.map(r=>`(${r})`).join("|")})$`}function rV(e){return e.map(t=>t==="[number]"?wc():Ye(t))}function xO(e,t={}){if(nr(e))return uV(e,t);{const n=f0(e),r=rV(n),s=bc(r);return ie(s,t)}}function sV(e,t){const n={};for(const r of globalThis.Object.getOwnPropertyNames(e))n[r]=xO(e[r],t);return n}function iV(e,t){return sV(e.properties,t)}function uV(e,t){const n=iV(e,t);return Ut(n)}function oV(e){const t=[];for(const n of e)t.push(...f0(n));return kU(t)}function aV(e){return e.filter(t=>!e0(t))}function cV(e,t){const n=[];for(const r of e)n.push(...hO(r,[t]));return aV(n)}function lV(e,t){const n={};for(const r of t)n[r]=yO(cV(e,r));return n}function fV(e,t={}){const n=oV(e),r=lV(e,n);return Rt(r,t)}function vO(e={}){return{...e,[G]:"Date",type:"Date"}}function SO(e={}){return{...e,[G]:"Null",type:"null"}}function _O(e){return{...e,[G]:"Symbol",type:"symbol"}}function AO(e={}){return{...e,[G]:"Undefined",type:"undefined"}}function TO(e={}){return{...e,[G]:"Uint8Array",type:"Uint8Array"}}function Vf(e={}){return{...e,[G]:"Unknown"}}function dV(e){return e.map(t=>Kw(t,!1))}function hV(e){const t={};for(const n of globalThis.Object.getOwnPropertyNames(e))t[n]=Po(Kw(e[n],!1));return t}function _d(e,t){return t===!0?e:Po(e)}function Kw(e,t){return VB(e)||HB(e)?_d(ql(),t):js(e)?Po(qf(dV(e))):Xp(e)?TO():UE(e)?vO():wt(e)?_d(Rt(hV(e)),t):zB(e)?_d(c0([],Vf()),t):Xe(e)?AO():GB(e)?SO():WB(e)?_O():BE(e)?Ww():su(e)||Qp(e)||ot(e)?Ye(e):Rt({})}function pV(e,t={}){return ie(Kw(e,!0),t)}function gV(e,t={}){return qf(Qn(e.parameters),{...t})}function zf(e,t){return e.map(n=>Fs(n,t))}function mV(e,t){const n={};for(const r of globalThis.Object.getOwnPropertyNames(e))n[r]=Fs(e[r],t);return n}function yV(e,t){return e.parameters=zf(e.parameters,t),e.returns=Fs(e.returns,t),e}function bV(e,t){return e.parameters=zf(e.parameters,t),e.returns=Fs(e.returns,t),e}function wV(e,t){return e.allOf=zf(e.allOf,t),e}function xV(e,t){return e.anyOf=zf(e.anyOf,t),e}function vV(e,t){return Xe(e.items)||(e.items=zf(e.items,t)),e}function SV(e,t){return e.items=Fs(e.items,t),e}function _V(e,t){return e.properties=mV(e.properties,t),e}function AV(e,t){return e.item=Fs(e.item,t),e}function TV(e,t){return e.items=Fs(e.items,t),e}function EV(e,t){return e.items=Fs(e.items,t),e}function OV(e,t){const n=t.find(s=>s.$id===e.$ref);if(n===void 0)throw Error(`Unable to dereference schema with $id ${e.$ref}`);const r=Tr(n,["$id"]);return Fs(r,t)}function IV(e,t){return Cw(e)?yV(e,t):Dw(e)?bV(e,t):rs(e)?wV(e,t):Bt(e)?xV(e,t):yc(e)?vV(e,t):$f(e)?SV(e,t):Ls(e)?_V(e,t):n0(e)?AV(e,t):kw(e)?TV(e,t):Mw(e)?EV(e,t):HE(e)?OV(e,t):e}function Fs(e,t){return IV(ie(e),Qn(t))}function NV(e,t={}){if(Xe(e))throw new Error("Enum undefined or empty");const n=globalThis.Object.getOwnPropertyNames(e).filter(i=>isNaN(i)).map(i=>e[i]),s=[...new Set(n)].map(i=>Ye(i));return vn(s,{...t,[Yp]:"Enum"})}class RV extends tr{}var R;(function(e){e[e.Union=0]="Union",e[e.True=1]="True",e[e.False=2]="False"})(R||(R={}));function Er(e){return e===R.False?e:R.True}function xc(e){throw new RV(e)}function at(e){return yu(e)||Mo(e)||wi(e)||ts(e)||Zr(e)}function ct(e,t){return yu(t)?IO():Mo(t)?d0(e,t):wi(t)?Zw(e,t):ts(t)?CO():Zr(t)?Yw():xc("StructuralRight")}function Yw(e,t){return R.True}function kV(e,t){return Mo(t)?d0(e,t):wi(t)&&t.anyOf.some(n=>Zr(n)||ts(n))?R.True:wi(t)?R.Union:ts(t)||Zr(t)?R.True:R.Union}function CV(e,t){return ts(e)?R.False:Zr(e)?R.Union:yu(e)?R.True:R.False}function DV(e,t){return Ge(t)&&h0(t)?R.True:at(t)?ct(e,t):Co(t)?Er(Ee(e.items,t.items)):R.False}function MV(e,t){return at(t)?ct(e,t):$w(t)?Er(Ee(e.items,t.items)):R.False}function PV(e,t){return at(t)?ct(e,t):Ge(t)?dn(e,t):Ft(t)?Nr(e,t):r0(t)?R.True:R.False}function EO(e,t){return ZE(e)||Do(e)?R.True:R.False}function jV(e,t){return at(t)?ct(e,t):Ge(t)?dn(e,t):Ft(t)?Nr(e,t):Do(t)?R.True:R.False}function LV(e,t){return at(t)?ct(e,t):Ge(t)?dn(e,t):s0(t)?e.parameters.length>t.parameters.length?R.False:e.parameters.every((n,r)=>Er(Ee(t.parameters[r],n))===R.True)?Er(Ee(e.returns,t.returns)):R.False:R.False}function FV(e,t){return at(t)?ct(e,t):Ge(t)?dn(e,t):Ft(t)?Nr(e,t):i0(t)?R.True:R.False}function $V(e,t){return at(t)?ct(e,t):Ge(t)?dn(e,t):u0(t)?e.parameters.length>t.parameters.length?R.False:e.parameters.every((n,r)=>Er(Ee(t.parameters[r],n))===R.True)?Er(Ee(e.returns,t.returns)):R.False:R.False}function OO(e,t){return mu(e)&&su(e.const)||Rn(e)||Si(e)?R.True:R.False}function BV(e,t){return Si(t)||Rn(t)?R.True:at(t)?ct(e,t):Ge(t)?dn(e,t):Ft(t)?Nr(e,t):R.False}function d0(e,t){return t.allOf.every(n=>Ee(e,n)===R.True)?R.True:R.False}function UV(e,t){return e.allOf.some(n=>Ee(n,t)===R.True)?R.True:R.False}function qV(e,t){return at(t)?ct(e,t):Bw(t)?Er(Ee(e.items,t.items)):R.False}function VV(e,t){return mu(t)&&t.const===e.const?R.True:at(t)?ct(e,t):Ge(t)?dn(e,t):Ft(t)?Nr(e,t):es(t)?kO(e):Rn(t)?NO(e):Si(t)?OO(e):Do(t)?EO(e):R.False}function IO(e,t){return R.False}function zV(e,t){return R.True}function t2(e){let[t,n]=[e,0];for(;Na(t);)t=t.not,n+=1;return n%2===0?t:Vf()}function HV(e,t){return Na(e)?Ee(t2(e),t):Na(t)?Ee(e,t2(t)):xc("Invalid fallthrough for Not")}function GV(e,t){return at(t)?ct(e,t):Ge(t)?dn(e,t):Ft(t)?Nr(e,t):Uw(t)?R.True:R.False}function NO(e,t){return YE(e)||Rn(e)||Si(e)?R.True:R.False}function JV(e,t){return at(t)?ct(e,t):Ge(t)?dn(e,t):Ft(t)?Nr(e,t):Si(t)||Rn(t)?R.True:R.False}function Dn(e,t){return Object.getOwnPropertyNames(e.properties).length===t}function n2(e){return h0(e)}function r2(e){return Dn(e,0)||Dn(e,1)&&"description"in e.properties&&wi(e.properties.description)&&e.properties.description.anyOf.length===2&&(es(e.properties.description.anyOf[0])&&bo(e.properties.description.anyOf[1])||es(e.properties.description.anyOf[1])&&bo(e.properties.description.anyOf[0]))}function fm(e){return Dn(e,0)}function s2(e){return Dn(e,0)}function WV(e){return Dn(e,0)}function QV(e){return Dn(e,0)}function XV(e){return h0(e)}function KV(e){const t=wc();return Dn(e,0)||Dn(e,1)&&"length"in e.properties&&Er(Ee(e.properties.length,t))===R.True}function YV(e){return Dn(e,0)}function h0(e){const t=wc();return Dn(e,0)||Dn(e,1)&&"length"in e.properties&&Er(Ee(e.properties.length,t))===R.True}function ZV(e){const t=c0([ql()],ql());return Dn(e,0)||Dn(e,1)&&"then"in e.properties&&Er(Ee(e.properties.then,t))===R.True}function RO(e,t){return Ee(e,t)===R.False||Ch(e)&&!Ch(t)?R.False:R.True}function dn(e,t){return ts(e)?R.False:Zr(e)?R.Union:yu(e)||KE(e)&&n2(t)||YE(e)&&fm(t)||ZE(e)&&s2(t)||$l(e)&&r2(t)||r0(e)&&WV(t)||es(e)&&n2(t)||$l(e)&&r2(t)||Rn(e)&&fm(t)||Si(e)&&fm(t)||Do(e)&&s2(t)||Uf(e)&&XV(t)||i0(e)&&QV(t)||s0(e)&&YV(t)||u0(e)&&KV(t)?R.True:Ft(e)&&es(P1(e))?t[Yp]==="Record"?R.True:R.False:Ft(e)&&Rn(P1(e))?Dn(t,0)?R.True:R.False:R.False}function ez(e,t){return at(t)?ct(e,t):Ft(t)?Nr(e,t):Ge(t)?(()=>{for(const n of Object.getOwnPropertyNames(t.properties)){if(!(n in e.properties)&&!Ch(t.properties[n]))return R.False;if(Ch(t.properties[n]))return R.True;if(RO(e.properties[n],t.properties[n])===R.False)return R.False}return R.True})():R.False}function tz(e,t){return at(t)?ct(e,t):Ge(t)&&ZV(t)?R.True:qw(t)?Er(Ee(e.item,t.item)):R.False}function P1(e){return Ul in e.patternProperties?wc():Dh in e.patternProperties?iu():xc("Unknown record key pattern")}function j1(e){return Ul in e.patternProperties?e.patternProperties[Ul]:Dh in e.patternProperties?e.patternProperties[Dh]:xc("Unable to get record value schema")}function Nr(e,t){const[n,r]=[P1(t),j1(t)];return KE(e)&&Rn(n)&&Er(Ee(e,r))===R.True?R.True:Uf(e)&&Rn(n)||es(e)&&Rn(n)||Co(e)&&Rn(n)?Ee(e,r):Ge(e)?(()=>{for(const s of Object.getOwnPropertyNames(e.properties))if(RO(r,e.properties[s])===R.False)return R.False;return R.True})():R.False}function nz(e,t){return at(t)?ct(e,t):Ge(t)?dn(e,t):Ft(t)?Ee(j1(e),j1(t)):R.False}function rz(e,t){const n=Fl(e)?iu():e,r=Fl(t)?iu():t;return Ee(n,r)}function kO(e,t){return mu(e)&&ot(e.const)||es(e)?R.True:R.False}function sz(e,t){return at(t)?ct(e,t):Ge(t)?dn(e,t):Ft(t)?Nr(e,t):es(t)?R.True:R.False}function iz(e,t){return at(t)?ct(e,t):Ge(t)?dn(e,t):Ft(t)?Nr(e,t):$l(t)?R.True:R.False}function uz(e,t){return Bl(e)?Ee(Mh(e),t):Bl(t)?Ee(e,Mh(t)):xc("Invalid fallthrough for TemplateLiteral")}function oz(e,t){return Co(t)&&e.items!==void 0&&e.items.every(n=>Ee(n,t.items)===R.True)}function az(e,t){return yu(e)?R.True:ts(e)?R.False:Zr(e)?R.Union:R.False}function cz(e,t){return at(t)?ct(e,t):Ge(t)&&h0(t)||Co(t)&&oz(e,t)?R.True:o0(t)?Xe(e.items)&&!Xe(t.items)||!Xe(e.items)&&Xe(t.items)?R.False:Xe(e.items)&&!Xe(t.items)||e.items.every((n,r)=>Ee(n,t.items[r])===R.True)?R.True:R.False:R.False}function lz(e,t){return at(t)?ct(e,t):Ge(t)?dn(e,t):Ft(t)?Nr(e,t):Uf(t)?R.True:R.False}function fz(e,t){return at(t)?ct(e,t):Ge(t)?dn(e,t):Ft(t)?Nr(e,t):a0(t)?pz(e):bo(t)?R.True:R.False}function Zw(e,t){return t.anyOf.some(n=>Ee(e,n)===R.True)?R.True:R.False}function dz(e,t){return e.anyOf.every(n=>Ee(n,t)===R.True)?R.True:R.False}function CO(e,t){return R.True}function hz(e,t){return yu(t)?IO():Mo(t)?d0(e,t):wi(t)?Zw(e,t):Zr(t)?Yw():es(t)?kO(e):Rn(t)?NO(e):Si(t)?OO(e):Do(t)?EO(e):Co(t)?CV(e):o0(t)?az(e):Ge(t)?dn(e,t):ts(t)?R.True:R.False}function pz(e,t){return bo(e)||bo(e)?R.True:R.False}function gz(e,t){return Mo(t)?d0(e,t):wi(t)?Zw(e,t):ts(t)?CO():Zr(t)?Yw():Ge(t)?dn(e,t):a0(t)?R.True:R.False}function Ee(e,t){return Bl(e)||Bl(t)?uz(e,t):Fl(e)||Fl(t)?rz(e,t):Na(e)||Na(t)?HV(e,t):Zr(e)?kV(e,t):Co(e)?DV(e,t):r0(e)?PV(e,t):Do(e)?jV(e,t):$w(e)?MV(e,t):s0(e)?LV(e,t):i0(e)?FV(e,t):u0(e)?$V(e,t):Si(e)?BV(e,t):Mo(e)?UV(e,t):Bw(e)?qV(e,t):mu(e)?VV(e,t):yu(e)?zV():Uw(e)?GV(e,t):Rn(e)?JV(e,t):Ge(e)?ez(e,t):Ft(e)?nz(e,t):es(e)?sz(e,t):$l(e)?iz(e,t):o0(e)?cz(e,t):qw(e)?tz(e,t):Uf(e)?lz(e,t):bo(e)?fz(e,t):wi(e)?dz(e,t):ts(e)?hz(e,t):a0(e)?gz(e,t):xc(`Unknown left type operand '${e[G]}'`)}function Hf(e,t){return Ee(e,t)}function mz(e,t,n,r,s){const i={};for(const u of globalThis.Object.getOwnPropertyNames(e))i[u]=ex(e[u],t,n,r,s);return i}function yz(e,t,n,r,s){return mz(e.properties,t,n,r,s)}function bz(e,t,n,r,s){const i=yz(e,t,n,r,s);return Ut(i)}function wz(e,t,n,r){const s=Hf(e,t);return s===R.Union?vn([n,r]):s===R.True?n:r}function ex(e,t,n,r,s={}){return nr(e)?bz(e,t,n,r,s):Ro(e)?ie(_z(e,t,n,r,s)):ie(wz(e,t,n,r),s)}function xz(e,t,n,r,s){return{[e]:ex(Ye(e),t,n,r,s)}}function vz(e,t,n,r,s){return e.reduce((i,u)=>({...i,...xz(u,t,n,r,s)}),{})}function Sz(e,t,n,r,s){return vz(e.keys,t,n,r,s)}function _z(e,t,n,r,s){const i=Sz(e,t,n,r,s);return Ut(i)}function Az(e){return e.allOf.every(t=>p0(t))}function Tz(e){return e.anyOf.some(t=>p0(t))}function Ez(e){return!p0(e.not)}function p0(e){return e[G]==="Intersect"?Az(e):e[G]==="Union"?Tz(e):e[G]==="Not"?Ez(e):e[G]==="Undefined"}function Oz(e,t){return tx(Mh(e),t)}function Iz(e,t){const n=e.filter(r=>Hf(r,t)===R.False);return n.length===1?n[0]:vn(n)}function tx(e,t,n={}){return ko(e)?ie(Oz(e,t),n):nr(e)?ie(kz(e,t),n):ie(Bt(e)?Iz(e.anyOf,t):Hf(e,t)!==R.False?Mn():e,n)}function Nz(e,t){const n={};for(const r of globalThis.Object.getOwnPropertyNames(e))n[r]=tx(e[r],t);return n}function Rz(e,t){return Nz(e.properties,t)}function kz(e,t){const n=Rz(e,t);return Ut(n)}function Cz(e,t){return nx(Mh(e),t)}function Dz(e,t){const n=e.filter(r=>Hf(r,t)!==R.False);return n.length===1?n[0]:vn(n)}function nx(e,t,n={}){return ko(e)?ie(Cz(e,t),n):nr(e)?ie(jz(e,t),n):ie(Bt(e)?Dz(e.anyOf,t):Hf(e,t)!==R.False?e:Mn(),n)}function Mz(e,t){const n={};for(const r of globalThis.Object.getOwnPropertyNames(e))n[r]=nx(e[r],t);return n}function Pz(e,t){return Mz(e.properties,t)}function jz(e,t){const n=Pz(e,t);return Ut(n)}function Lz(e,t={}){return ie(e.returns,t)}function Fz(e={}){return{...e,[G]:"Integer",type:"integer"}}function $z(e,t,n){return{[e]:vc(Ye(e),t,n)}}function Bz(e,t,n){return e.reduce((r,s)=>({...r,...$z(s,t,n)}),{})}function Uz(e,t,n){return Bz(e.keys,t,n)}function qz(e,t,n){const r=Uz(e,t,n);return Ut(r)}function Vz(e){const[t,n]=[e.slice(0,1),e.slice(1)];return[t.toLowerCase(),n].join("")}function zz(e){const[t,n]=[e.slice(0,1),e.slice(1)];return[t.toUpperCase(),n].join("")}function Hz(e){return e.toUpperCase()}function Gz(e){return e.toLowerCase()}function Jz(e,t,n){const r=Jw(e.pattern);if(!zl(r))return{...e,pattern:DO(e.pattern,t)};const u=[...l0(r)].map(c=>Ye(c)),o=MO(u,t),a=vn(o);return lO([a],n)}function DO(e,t){return typeof e=="string"?t==="Uncapitalize"?Vz(e):t==="Capitalize"?zz(e):t==="Uppercase"?Hz(e):t==="Lowercase"?Gz(e):e:e.toString()}function MO(e,t){return e.map(n=>vc(n,t))}function vc(e,t,n={}){return Ro(e)?qz(e,t,n):ko(e)?Jz(e,t,e):Bt(e)?vn(MO(e.anyOf,t),n):Bf(e)?Ye(DO(e.const,t),n):e}function Wz(e,t={}){return vc(e,"Capitalize",t)}function Qz(e,t={}){return vc(e,"Lowercase",t)}function Xz(e,t={}){return vc(e,"Uncapitalize",t)}function Kz(e,t={}){return vc(e,"Uppercase",t)}function Yz(e,t){return{...t,[G]:"Not",not:ie(e)}}function Zz(e,t,n){const r={};for(const s of globalThis.Object.getOwnPropertyNames(e))r[s]=sx(e[s],t,n);return r}function eH(e,t,n){return Zz(e.properties,t,n)}function tH(e,t,n){const r=eH(e,t,n);return Ut(r)}function nH(e,t){return e.map(n=>rx(n,t))}function rH(e,t){return e.map(n=>rx(n,t))}function sH(e,t){const{[t]:n,...r}=e;return r}function iH(e,t){return t.reduce((n,r)=>sH(n,r),e)}function rx(e,t){return rs(e)?Lo(nH(e.allOf,t)):Bt(e)?vn(rH(e.anyOf,t)):Ls(e)?Rt(iH(e.properties,t)):Rt({})}function sx(e,t,n={}){if(Ro(t))return cH(e,t,n);if(nr(e))return tH(e,t,n);const r=yo(t)?bu(t):t,s=Tr(e,[xs,"$id","required"]),i=ie(rx(e,r),n);return{...s,...i}}function uH(e,t,n){return{[t]:sx(e,[t],n)}}function oH(e,t,n){return t.reduce((r,s)=>({...r,...uH(e,s,n)}),{})}function aH(e,t,n){return oH(e,t.keys,n)}function cH(e,t,n){const r=aH(e,t,n);return Ut(r)}function lH(e,t={}){return qf(Qn(e.parameters),{...t})}function i2(e){return e.map(t=>PO(t))}function fH(e){const t={};for(const n of globalThis.Object.getOwnPropertyNames(e))t[n]=jo(e[n]);return t}function PO(e){return rs(e)?Lo(i2(e.allOf)):Bt(e)?vn(i2(e.anyOf)):Ls(e)?Rt(fH(e.properties)):Rt({})}function jO(e,t={}){if(nr(e))return pH(e,t);const n=Tr(e,[xs,"$id","required"]),r=ie(PO(e),t);return{...n,...r}}function dH(e,t){const n={};for(const r of globalThis.Object.getOwnPropertyNames(e))n[r]=jO(e[r],t);return n}function hH(e,t){return dH(e.properties,t)}function pH(e,t){const n=hH(e,t);return Ut(n)}function gH(e,t,n){const r={};for(const s of globalThis.Object.getOwnPropertyNames(e))r[s]=ux(e[s],t,n);return r}function mH(e,t,n){return gH(e.properties,t,n)}function yH(e,t,n){const r=mH(e,t,n);return Ut(r)}function bH(e,t){return e.map(n=>ix(n,t))}function wH(e,t){return e.map(n=>ix(n,t))}function xH(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function ix(e,t){return rs(e)?Lo(bH(e.allOf,t)):Bt(e)?vn(wH(e.anyOf,t)):Ls(e)?Rt(xH(e.properties,t)):Rt({})}function ux(e,t,n={}){if(Ro(t))return AH(e,t,n);if(nr(e))return yH(e,t,n);const r=yo(t)?bu(t):t,s=Tr(e,[xs,"$id","required"]),i=ie(ix(e,r),n);return{...s,...i}}function vH(e,t,n){return{[t]:ux(e,[t],n)}}function SH(e,t,n){return t.reduce((r,s)=>({...r,...vH(e,s,n)}),{})}function _H(e,t,n){return SH(e,t.keys,n)}function AH(e,t,n){const r=_H(e,t,n);return Ut(r)}function TH(e){return Po(jo(e))}function Gf(e,t,n){return{...n,[G]:"Record",type:"object",patternProperties:{[e]:ie(t)}}}function ox(e,t,n){const r={};for(const s of e)r[s]=ie(t);return Rt(r,{...n,[Yp]:"Record"})}function EH(e,t,n){return KU(e)?ox(bu(e),t,n):Gf(e.pattern,t,n)}function OH(e,t,n){return ox(bu(vn(e)),t,n)}function IH(e,t,n){return ox([e.toString()],t,n)}function NH(e,t,n){return Gf(e.source,t,n)}function RH(e,t,n){const r=Xe(e.pattern)?Dh:e.pattern;return Gf(r,t,n)}function kH(e,t,n){return Gf(Ul,t,n)}function CH(e,t,n){return Gf(Ul,t,n)}function DH(e,t,n={}){return Bt(e)?OH(e.anyOf,t,n):ko(e)?EH(e,t,n):Bf(e)?IH(e.const,t,n):Zp(e)?kH(e,t,n):t0(e)?CH(e,t,n):GE(e)?NH(e,t,n):Pw(e)?RH(e,t,n):Mn(n)}let MH=0;function PH(e,t={}){Xe(t.$id)&&(t.$id=`T${MH++}`);const n=e({[G]:"This",$ref:`${t.$id}`});return n.$id=t.$id,ie({...t,[Yp]:"Recursive",...n})}function jH(e,t={}){if(ot(e))return{...t,[G]:"Ref",$ref:e};if(Xe(e.$id))throw new Error("Reference target type must specify an $id");return{...t,[G]:"Ref",$ref:e.$id}}function LH(e,t={}){const n=ot(e)?new globalThis.RegExp(e):e;return{...t,[G]:"RegExp",type:"RegExp",source:n.source,flags:n.flags}}function u2(e){return e.map(t=>LO(t))}function FH(e){const t={};for(const n of globalThis.Object.getOwnPropertyNames(e))t[n]=Tr(e[n],[gu]);return t}function LO(e){return rs(e)?Lo(u2(e.allOf)):Bt(e)?vn(u2(e.anyOf)):Ls(e)?Rt(FH(e.properties)):Rt({})}function FO(e,t={}){if(nr(e))return UH(e,t);{const n=Tr(e,[xs,"$id","required"]),r=ie(LO(e),t);return{...n,...r}}}function $H(e,t){const n={};for(const r of globalThis.Object.getOwnPropertyNames(e))n[r]=FO(e[r],t);return n}function BH(e,t){return $H(e.properties,t)}function UH(e,t){const n=BH(e,t);return Ut(n)}function qH(e){return rs(e)?Qn(e.allOf):Bt(e)?Qn(e.anyOf):yc(e)?Qn(e.items??[]):[]}function VH(e){return Qn(qH(e))}function zH(e,t={}){return ie(e.returns,t)}function HH(e){return JSON.parse(JSON.stringify(e))}class GH{constructor(t){this.schema=t}Decode(t){return new JH(this.schema,t)}}class JH{constructor(t,n){this.schema=t,this.decode=n}EncodeTransform(t,n){const i={Encode:u=>n[xs].Encode(t(u)),Decode:u=>this.decode(n[xs].Decode(u))};return{...n,[xs]:i}}EncodeSchema(t,n){const r={Decode:this.decode,Encode:t};return{...n,[xs]:r}}Encode(t){const n=ie(this.schema);return jw(n)?this.EncodeTransform(t,n):this.EncodeSchema(t,n)}}function WH(e){return new GH(e)}function $O(e={}){return{...e,[G]:e[G]??"Unsafe"}}function QH(e={}){return{...e,[G]:"Void",type:"void"}}const XH=Object.freeze(Object.defineProperty({__proto__:null,Any:ql,Array:nO,AsyncIterator:rO,Awaited:Xq,BigInt:Ww,Boolean:aO,Capitalize:Wz,Composite:fV,Const:pV,Constructor:sO,ConstructorParameters:gV,Date:vO,Deref:Fs,Enum:NV,Exclude:tx,Extends:ex,Extract:nx,Function:c0,Index:Qw,InstanceType:Lz,Integer:Fz,Intersect:Lo,Iterator:pO,KeyOf:xO,Literal:Ye,Lowercase:Qz,Mapped:Lq,Never:Mn,Not:Yz,Null:SO,Number:wc,Object:Rt,Omit:sx,Optional:jo,Parameters:lH,Partial:jO,Pick:ux,Promise:gO,Readonly:Po,ReadonlyOptional:TH,Record:DH,Recursive:PH,Ref:jH,RegExp:LH,Required:FO,Rest:VH,ReturnType:zH,Strict:HH,String:iu,Symbol:_O,TemplateLiteral:lO,Transform:WH,Tuple:qf,Uint8Array:TO,Uncapitalize:Xz,Undefined:AO,Union:vn,Unknown:Vf,Unsafe:$O,Uppercase:Kz,Void:QH},Symbol.toStringTag,{value:"Module"})),rt=XH,g0=["string","number","boolean","date"],ax=["set"],KH=["record"];[...g0,...ax,...KH];const YH=rt.Object({func:rt.String(),args:rt.Optional(rt.Union([rt.Array(rt.Any()),rt.Null()]))}),ZH=rt.Object({nullable:rt.Optional(rt.Boolean()),default:rt.Optional(rt.Union([rt.String(),rt.Number(),rt.Boolean(),rt.Null(),YH]))}),se={Success:200,"Bad Request":400,Unauthorized:401,"Payment Required":402,Forbidden:403,"Not Found":404,Conflict:409,"Too Many Requests":429,"Internal Server Error":500,"Service Unavailable":503,"Gateway Timeout":504};class $ extends Error{constructor(n,...r){super(...r);k(this,"status",se["Internal Server Error"]);k(this,"baseMessage");k(this,"contextMessage");k(this,"__isTriplitError",!0);this.name="TriplitError",this.baseMessage=r[0]||"Triplit Error",this.contextMessage=n}get message(){return this.contextMessage?`${this.baseMessage} | Context: ${this.contextMessage}`:this.baseMessage}toString(){return JSON.stringify(this.toJSON())}toJSON(){return{name:this.name,message:this.baseMessage,status:this.status,contextMessage:this.contextMessage}}static fromJson(n){const r=new $(n.contextMessage);return n.baseMessage&&(r.baseMessage=n.baseMessage),n.name&&(r.name=n.name),n.status&&(r.status=n.status),r}}class Ph extends ${constructor(t,...n){super(...n),this.name="InvalidCollectionNameError",this.baseMessage=`${t} is not a valid collection name.`,this.status=se["Bad Request"]}}class o2 extends ${constructor(...t){super(...t),this.name="InvalidInsertDocumentError",this.baseMessage="The document you are attempting to insert is invalid.",this.status=se["Bad Request"]}}class eG extends ${constructor(t,...n){super(...n),this.name="InvalidInternalEntityIdError",this.baseMessage=`${t} is not a valid internal entity id.`,this.status=se["Internal Server Error"]}}class tG extends ${constructor(...t){super(...t),this.name="DBScanFailureError",this.baseMessage="DB scan failed.",this.status=se["Internal Server Error"]}}class nG extends ${constructor(...t){super(...t),this.name="InvalidTimestampIndexScanError",this.baseMessage="The scan over the timestamp index you are attempting is invalid.",this.status=se["Bad Request"]}}class rG extends ${constructor(t,...n){super(...n),this.name="IndexNotFoundError",this.baseMessage=`${t} is not a valid index.`,this.status=se["Bad Request"]}}class sG extends ${constructor(t,n,...r){super(...r),this.name="EntityNotFoundError",this.baseMessage=`Could not find entity with id ${t} in collection ${n}.`,this.status=se["Not Found"]}}class Yd extends ${constructor(...t){super(...t),this.name="InvalidFilterError",this.baseMessage="Your query passed a filter that is invalid.",this.status=se["Bad Request"]}}class a2 extends ${constructor(t,...n){super(...n),this.name="SessionVariableNotFoundError",this.baseMessage=`${t} could not be found in the provided variables for this query.`,this.status=se["Bad Request"]}}class BO extends ${constructor(...t){super(...t),this.name="InvalidOperationError",this.baseMessage="You are attempting to perform an operation that is not valid.",this.status=se["Bad Request"]}}class iG extends ${constructor(t,n,r,...s){super(...s),this.name="ValueSchemaMismatchError",this.baseMessage=`Cannot assign ${r} to '${n.join(".")}' because it does not match the schema for ${t}.`,this.status=se["Bad Request"]}}class uG extends ${constructor(...t){super(...t),this.name="NoSchemaRegisteredError",this.baseMessage="No schema was availabe when one was expected to be.",this.status=se["Internal Server Error"]}}class gl extends ${constructor(t,n,...r){super(...r),this.name="CollectionNotFoundError",this.baseMessage=`Could not find a collection with name ${t} in your schema. Valid collections are: [${Object.keys(n).map(s=>`'${s}'`).join(", ")}].`,this.status=se["Bad Request"]}}class c2 extends ${constructor(t,...n){super(...n),this.name="InvalidEntityIdError",this.baseMessage=`${t} is not a valid entity id.`,this.status=se["Bad Request"]}}class oG extends ${constructor(t,...n){super(...n),this.name="InvalidSetTypeError",this.baseMessage=`When constructing the schema, an invalid type for the items in a set was recieved. A set may only be of type ${ax}. You passed '${t}'.`,this.status=se["Bad Request"]}}class mr extends ${constructor(t,...n){super(...n),this.name="InvalidSchemaPathError",this.baseMessage=`The path '${t.join(".")}' is not a valid path in the schema.`,this.status=se["Bad Request"]}}class aG extends ${constructor(t,n,...r){super(...r),this.name="RelationDoesNotExistError",this.baseMessage=`The attribute '${t}' does not exist in the schema for the '${n}' collection.`,this.status=se["Bad Request"]}}class cG extends ${constructor(t,n,...r){super(...r),this.name="IncludedNonRelationError",this.baseMessage=`The attribute '${t}' in the '${n}' can not be used in the 'include' clause as it is not a relation.`,this.status=se["Bad Request"]}}class m0 extends ${constructor(t,...n){super(...n),this.name="InvalidTypeOptionsError",this.baseMessage=`Received ${JSON.stringify(t)}`,this.status=se["Bad Request"]}}class lG extends ${constructor(...t){super(...t),this.name="InvalidMigrationOperationError",this.baseMessage="Invalid migration operation.",this.status=se["Bad Request"]}}class UO extends ${constructor(...t){super(...t),this.name="WriteRuleError",this.baseMessage="Write failed because it didn't pass a Rule.",this.status=se.Unauthorized}}class fG extends ${constructor(t,n,r,s,...i){super(...i),this.name="WritePermissionError",this.baseMessage=`Write to collection '${t}' with id '${n}' is not permitted. Failed operation: ${r}. Session roles: [${s.map(u=>u.key).join(", ")}].`,this.status=se.Unauthorized}}class dG extends ${constructor(t,n,...r){super(...r),this.name="UnrecognizedPropertyInUpdateError",this.baseMessage=`Cannot set unrecognized property ${t} to ${String(n)} during an entity update. The property may not be defined in your schema.`,this.status=se["Bad Request"]}}class hG extends ${constructor(...t){super(...t),this.name="TypeJSONParseError",this.baseMessage="Failed to parse this type from a JSON form.",this.status=se["Internal Server Error"]}}class pG extends ${constructor(t,...n){super(...n),this.name="UnrecognizedAttributeTypeError",this.baseMessage=`An attribute in the schema contains an unsupported type: ${t}. Valid types are ${[g0,...ax,"query"]}`,this.status=se["Bad Request"]}}class l2 extends ${constructor(t,...n){super(...n),this.name="InvalidTripleStoreValueError",this.baseMessage=`Cannot store value ${String(t)} in the triple store.`,this.status=se["Bad Request"]}}class gG extends ${constructor(...t){super(...t),this.name="QueryCacheError",this.baseMessage="An error ocurred inside the query cache",this.status=se["Bad Request"]}}class mG extends ${constructor(t,...n){super(...n),this.name="UnserializableValueError",this.baseMessage=`Cannot serialize value ${String(t)} for insertion into the database.`,this.status=se["Bad Request"]}}class f2 extends ${constructor(...t){super(...t),this.name="TripleStoreOptionsError",this.baseMessage="There was an error in the configuration of the triple store.",this.status=se["Bad Request"]}}class dm extends ${constructor(t,n,...r){super(...r),this.name="QueryClauseFormattingError",this.baseMessage=`The ${t} clause is not formatted correctly.
    
    Received: ${JSON.stringify(n)}`,this.status=se["Bad Request"]}}class yG extends ${constructor(...t){super(...t),this.name="AfterClauseWithNoOrderError",this.baseMessage="The 'after' clause must be used after an 'order' clause.",this.status=se["Bad Request"]}}class d2 extends ${constructor(...t){super(...t),this.name="DBOptionsError",this.baseMessage="There was an error in the configuration of the Triplit database.",this.status=se["Bad Request"]}}class Sc extends ${constructor(t,n,...r){super(...r),this.name="DBSerializationError",this.baseMessage=`When inserting or updating an entity, there was an error serializing the data: ${n} as type: ${t}`,this.status=se["Bad Request"]}}class bG extends ${constructor(...t){super(...t),this.name="InvalidAttributeOptionsError",this.baseMessage="The options for an attribute in the schema are invalid.",this.status=se["Bad Request"]}}class qO extends ${constructor(...t){super(...t),this.name="NotImplementedError",this.baseMessage="This feature is not yet implemented.",this.status=se["Bad Request"]}}class _c extends ${constructor(t,n,...r){super(...r),this.name="JSONValueParseError",this.baseMessage=`Failed to parse a ${t} value from the provided JSON input: ${JSON.stringify(n)}`,this.status=se["Bad Request"]}}class wG extends ${constructor(t,n,...r){super(...r),this.name="JSToJSONValueParseError",this.baseMessage=`Failed to tranform to JSON from the provided ${t} input: ${JSON.stringify(n)}`,this.status=se["Bad Request"]}}class hm extends ${constructor(t,...n){super(...n),this.name="InvalidQueryCardinalityError",this.baseMessage=`The cardinality ${t} is not valid for the query type.`,this.status=se["Bad Request"]}}class xG extends ${constructor(...t){super(...t),this.name="InvalidOrderClauseError",this.baseMessage="An order clause has been determined to be invalid.",this.status=se["Bad Request"]}}class vG extends ${constructor(...t){super(...t),this.name="InvalidWhereClauseError",this.baseMessage="A where clause has been determined to be invalid.",this.status=se["Bad Request"]}}class SG extends ${constructor(...t){super(...t),this.name="InvalidSelectClauseError",this.baseMessage="The select clause of this query has been determined to be invalid.",this.status=se["Bad Request"]}}class _G extends ${constructor(...t){super(...t),this.name="QueryNotPreparedError",this.baseMessage="The query has not been prepared yet. This indicates a bug. Please inform the Triplit team.",this.status=se["Internal Server Error"]}}function AG(e){return new Map(Array.from(e).map(t=>[TG(t),!0]))}function y0(e,t=[]){if(e===null||typeof e!="object")return[[t,e]];if(Object.keys(e).length===0)return[[t,"{}"]];if(Array.isArray(e))return[[t,e]];const n=[];t.length&&n.push([t,"{}"]);const r=Object.keys(e).flatMap(s=>y0(e[s],[...t,s]));for(const s of r)n.push(s);return n}function Wo(e,t=[]){if(e==null||typeof e!="object")return[[...t,e]];if(e instanceof Date)return[[...t,e.toISOString()]];if(e instanceof Map)return[...e.entries()].flatMap(([n,r])=>Wo(r,[...t,n]));if(e instanceof Set){const n=AG(e);return n.size===0?Wo(new Map([["_",!1]]),t):Wo(n,t)}return e instanceof Array?e.flatMap((n,r)=>Wo(n,[...t,r])):Object.keys(e).flatMap(n=>Wo(e[n],[...t,n]))}function TG(e){if(e==null||typeof e!="object")return e;if(e instanceof Date)return e.toISOString();throw new mG(e)}function VO(e){const t={};for(const[n,r,s]of e)t[n]||(t[n]={}),r.reduce((i,u,o)=>o===r.length-1?(i[u]=s,i):(i[u]||(i[u]=typeof r[o+1]=="number"?[]:{}),i[u]),t[n]);return t}function jh(e){return Object.entries(e).reduce((t,[n,r])=>(t[n]=[...r],t),{})}function yn(e,t){if(typeof e!="object"||e===null)return e;if(EG(e))return yn(e[0]);if(e instanceof Array)return e.map(s=>yn(s)).filter(s=>!!t||s!==void 0);if(e instanceof Map)return new Map(Array.from(e.entries()).map(([s,i])=>[s,yn(i)]));const n=Object.entries(e).map(([s,i])=>[s,yn(i)]).filter(([s,i])=>!!t||i!==void 0);return Object.fromEntries(n)}function EG(e){return e instanceof Array&&e.length===2&&e[1]instanceof Array&&e[1].length===2}function Ts(e,t){return!e&&!t?0:e?t?e[0]!==t[0]?e[0]<t[0]?-1:1:e[1]!==t[1]?e[1]<t[1]?-1:1:0:1:-1}var pm={},b0={},wo={};Object.defineProperty(wo,"__esModule",{value:!0});wo.getWrittenTuples=wo.iterateWrittenTuples=void 0;function*zO(e){for(const{key:t}of e.set||[])yield t;for(const t of e.remove||[])yield t}wo.iterateWrittenTuples=zO;function OG(e){return Array.from(zO(e))}wo.getWrittenTuples=OG;var Fo={},IG=function(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))};function HO(e,t,n){var r=function(i){return e.apply(void 0,IG([i],Array.from(t),!1))},s=n??e.lazy;return s===void 0?r:Object.assign(r,{lazy:s,lazyArgs:t})}function I(e,t,n){var r=e.length-t.length;if(r===0)return e.apply(void 0,Array.from(t));if(r===1)return HO(e,t,n);throw new Error("Wrong number of arguments")}function NG(){return I(RG,arguments)}function RG(e,t){return e+t}var Lh=function(){return Lh=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Lh.apply(this,arguments)};function kG(){return I(CG,arguments)}function CG(e,t,n){var r;return Lh(Lh({},e),(r={},r[t]=n,r))}function DG(){return I(MG,arguments)}function MG(e,t){return t.every(function(n){return n(e)})}function PG(){return I(jG,arguments)}function jG(e,t){return t.some(function(n){return n(e)})}var h2=15;function cx(e){return function(t,n){if(n===0)return e(t);if(!Number.isInteger(n))throw new TypeError("precision must be an integer: ".concat(n));if(n>h2||n<-h2)throw new RangeError("precision must be between -15 and 15");if(Number.isNaN(t)||!Number.isFinite(t))return e(t);var r=Math.pow(10,n);return e(t*r)/r}}function LG(){return I(cx(Math.ceil),arguments)}function FG(){return I($G,arguments)}function $G(e,t){for(var n=[],r=0;r<e.length;r+=t)n.push(e.slice(r,r+t));return n}function BG(){return I(UG,arguments)}function UG(e,t){var n=t.min,r=t.max;return n!==void 0&&e<n?n:r!==void 0&&e>r?r:e}function GO(e){return e===null?"Null":e===void 0?"Undefined":Object.prototype.toString.call(e).slice(8,-1)}function qG(e){return new RegExp(e.source,(e.global?"g":"")+(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.sticky?"y":"")+(e.unicode?"u":""))}function JO(e,t,n,r){function s(i){for(var u=t.length,o=0;o<u;){if(e===t[o])return n[o];o+=1}t[o+1]=e,n[o+1]=i;for(var a in e)i[a]=JO(e[a],t,n);return i}switch(GO(e)){case"Object":return s({});case"Array":return s([]);case"Date":return new Date(e.valueOf());case"RegExp":return qG(e);default:return e}}function VG(e){return e!=null&&typeof e.clone=="function"?e.clone():JO(e,[],[])}function WO(e){return!!e}function zG(e){return e.filter(WO)}function HG(){return I(GG,arguments)}function GG(e,t){return e.concat(t)}var JG=function(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))};function WG(e,t,n){var r=Array.from(n);return e(n[0])?function(s){return t.apply(void 0,JG([s],r,!1))}:t.apply(void 0,r)}function L1(){return WG(XG,QG,arguments)}function QG(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,s=t;r<s.length;r++){var i=s[r],u=i[0],o=i[1];if(u(e))return o(e)}throw new Error("conditional: data failed for all cases")}function XG(e){if(!Array.isArray(e))return!1;var t=e,n=t[0],r=t[1],s=t.slice(2);return typeof n=="function"&&n.length<=1&&typeof r=="function"&&r.length<=1&&s.length===0}(function(e){function t(n){return n===void 0&&(n=YG),[KG,n]}e.defaultCase=t})(L1||(L1={}));var KG=function(){return!0},YG=function(){};function ZG(e){return function(){return e}}var QO=function(e){return function(t,n){for(var r=0,s=0;s<t.length;s++){var i=t[s],u=e?n(i,s,t):n(i);r+=u?1:0}return r}};function F1(){return I(QO(!1),arguments)}(function(e){function t(){return I(QO(!0),arguments)}e.indexed=t})(F1||(F1={}));function lx(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];for(var s=e,i=n.map(function(b){return"lazy"in b?eJ(b):void 0}),u=0;u<n.length;){var o=i[u];if(o===void 0||!tJ(s)){var a=n[u];s=a(s),u+=1;continue}for(var c=[],l=u;l<n.length;l++){var d=i[l];if(d===void 0||(c.push(d),d.isSingle))break}for(var h=[],f=s[Symbol.iterator]();;){var g=f.next();if((t=g.done)!==null&&t!==void 0&&t)break;var m=XO(g.value,h,c);if(m)break}var y=c[c.length-1].isSingle;s=y?h[0]:h,u+=c.length}return s}function XO(e,t,n){var r;if(n.length===0)return t.push(e),!1;for(var s=e,i={done:!1,hasNext:!1},u=!1,o=0;o<n.length;o++){var a=n[o],c=a.isIndexed,l=a.index,d=a.items;if(d.push(s),i=c?a(s,l,d):a(s),a.index+=1,i.hasNext){if((r=i.hasMany)!==null&&r!==void 0&&r){for(var h=0,f=i.next;h<f.length;h++){var g=f[h],m=XO(g,t,n.slice(o+1));if(m)return!0}return!1}s=i.next}if(!i.hasNext)break;i.done&&(u=!0)}return i.hasNext&&t.push(s),!!u}function eJ(e){var t=e.lazy,n=e.lazyArgs,r=t.apply(void 0,n??[]);return Object.assign(r,{isIndexed:t.indexed,isSingle:t.single,index:0,items:[]})}function tJ(e){return typeof e=="string"||typeof e=="object"&&e!==null&&Symbol.iterator in e}var nJ=function(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))};function rJ(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(n){return lx.apply(void 0,nJ([n],e,!1))}}function sJ(e,t){var n=t.waitMs,r=t.timing,s=r===void 0?"trailing":r,i=t.maxWaitMs;if(i!==void 0&&n!==void 0&&i<n)throw new Error("debounce: maxWaitMs (".concat(i,") cannot be less than waitMs (").concat(n,")"));var u,o,a,c,l=function(){if(a!==void 0){if(o!==void 0){var f=o;o=void 0,clearTimeout(f)}var g=a;a=void 0,c=e.apply(void 0,g)}},d=function(){if(u!==void 0){var f=u;u=void 0,clearTimeout(f),a!==void 0&&l()}},h=function(f){a=f,i!==void 0&&o===void 0&&(o=setTimeout(l,i))};return{call:function(){for(var f,g=[],m=0;m<arguments.length;m++)g[m]=arguments[m];if(u===void 0)s==="trailing"?h(g):c=e.apply(void 0,g);else{s!=="leading"&&h(g);var y=u;u=void 0,clearTimeout(y)}return u=setTimeout(d,(f=n??i)!==null&&f!==void 0?f:0),c},cancel:function(){if(u!==void 0){var f=u;u=void 0,clearTimeout(f)}if(o!==void 0){var f=o;o=void 0,clearTimeout(f)}a=void 0},flush:function(){return d(),c},get isPending(){return u!==void 0},get cachedValue(){return c}}}function et(e,t,n){n===void 0&&(n=!1);for(var r=[],s=0;s<e.length;s++){var i=e[s],u=n?t(i,s,e):t(i);if(u.hasMany===!0?r.push.apply(r,u.next):u.hasNext&&r.push(u.next),u.done)break}return r}var iJ={done:!0,hasNext:!1},uJ=function(){return iJ},oJ=function(e){return{hasNext:!0,next:e,done:!1}};function Hl(){return I(aJ,arguments,Hl.lazy)}function aJ(e,t){var n=Hl.lazy(t);return et(e,n)}(function(e){function t(r){var s=new Set(r);return function(i){return s.has(i)?{done:!1,hasNext:!1}:{done:!1,hasNext:!0,next:i}}}e.lazy=t;function n(){return I(cJ,arguments,KO)}e.multiset=n})(Hl||(Hl={}));var cJ=function(e,t){return et(e,KO(t))};function KO(e){var t;if(e.length===0)return oJ;for(var n=new Map,r=0,s=e;r<s.length;r++){var i=s[r];n.set(i,((t=n.get(i))!==null&&t!==void 0?t:0)+1)}return function(u){var o=n.get(u);return o===void 0||o===0?{done:!1,hasNext:!0,next:u}:(n.set(u,o-1),{done:!1,hasNext:!1})}}function Gl(){return I(lJ,arguments,Gl.lazy)}function lJ(e,t,n){var r=Gl.lazy(t,n);return et(e,r)}(function(e){e.lazy=function(t,n){return function(r){return t.every(function(s){return!n(r,s)})?{done:!1,hasNext:!0,next:r}:{done:!1,hasNext:!1}}}})(Gl||(Gl={}));function fJ(){return I(dJ,arguments)}function dJ(e,t){return e/t}function hJ(){return pJ}function pJ(){}function Jl(){return I(gJ,arguments,Jl.lazy)}function gJ(e,t){return et(e,Jl.lazy(t))}(function(e){function t(n){var r=n;return function(s){return r>0?(r-=1,{done:!1,hasNext:!1}):{done:!1,hasNext:!0,next:s}}}e.lazy=t})(Jl||(Jl={}));function $1(e,t,n){var r;r=[e[n],e[t]],e[t]=r[0],e[n]=r[1]}function Wl(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return I(mJ,e)}var mJ=function(e,t){return e.length>=t};function YO(e,t){for(var n=Math.floor(e.length/2)-1;n>=0;n--)e4(e,n,t)}function ZO(e,t,n){if(Wl(e,1)){var r=e[0];if(!(t(n,r)>=0))return e[0]=n,e4(e,0,t),r}}function e4(e,t,n){for(var r=t;r*2+1<e.length;){var s=r*2+1,i=n(e[r],e[s])<0?s:r,u=s+1;if(u<e.length&&n(e[i],e[u])<0&&(i=u),i===r)return;$1(e,r,i),r=i}}var na=function(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))},t4={asc:function(e,t){return e>t},desc:function(e,t){return e<t}};function fx(e,t){var n=Array.isArray(t)?t:Array.from(t),r=n[0],s=n.slice(1);if(!n4(r)){var i=B1.apply(void 0,s);return e(r,i)}var u=B1.apply(void 0,na([r],s,!1));return function(o){return e(o,u)}}function w0(e,t){var n=Array.from(t),r=n[0],s=n[1],i=n.slice(2),u,o;return n4(s)?(u=r,o=na([s],i,!0)):(u=s,o=na([r],i,!0)),fx(function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];return e.apply(void 0,na(na([],a,!1),[u],!1))},o)}function B1(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var s=typeof e=="function"?e:e[0],i=typeof e=="function"?"asc":e[1],u=t4,o=i,a=u[o],c=t===void 0?void 0:B1.apply(void 0,na([t],n,!1));return function(l,d){var h,f=s(l),g=s(d);return a(f,g)?1:a(g,f)?-1:(h=c==null?void 0:c(l,d))!==null&&h!==void 0?h:0}}function n4(e){if(p2(e))return!0;if(typeof e!="object"||!Array.isArray(e))return!1;var t=e,n=t[0],r=t[1],s=t.slice(2);return p2(n)&&typeof r=="string"&&r in t4&&s.length===0}var p2=function(e){return typeof e=="function"&&e.length===1};function yJ(){return w0(bJ,arguments)}function bJ(e,t,n){if(n>=e.length)return[];if(n<=0)return e.slice();var r=e.slice(0,n);YO(r,t);for(var s=[],i=e.slice(n),u=0,o=i;u<o.length;u++){var a=o[u],c=ZO(r,t,a);s.push(c??a)}return s}function wJ(){return I(xJ,arguments)}function xJ(e,t){var n=e.slice();return t>0&&n.splice(-t),n}function vJ(){return I(SJ,arguments)}function SJ(e,t){for(var n=e.length-1;n>=0;n--)if(!t(e[n]))return e.slice(0,n+1);return[]}function _J(){return I(AJ,arguments)}function AJ(e,t){for(var n=0;n<e.length;n++)if(!t(e[n]))return e.slice(n);return[]}function U1(){return I(Object.entries,arguments)}(function(e){e.strict=e})(U1||(U1={}));function TJ(){return I(q1,arguments)}function q1(e,t){if(e===t)return!0;if(typeof e=="number"&&typeof t=="number")return e!==e&&t!==t;if(typeof e!="object"||typeof t!="object"||e===null||t===null)return!1;var n=Array.isArray(e),r=Array.isArray(t);if(n&&r){if(e.length!==t.length)return!1;for(var s=0;s<e.length;s++)if(!q1(e[s],t[s]))return!1;return!0}if(n!==r)return!1;var i=e instanceof Date,u=t instanceof Date;if(i&&u)return e.getTime()===t.getTime();if(i!==u)return!1;var o=e instanceof RegExp,a=t instanceof RegExp;if(o&&a)return e.toString()===t.toString();if(o!==a)return!1;var c=Object.keys(e);if(c.length!==Object.keys(t).length)return!1;for(var l=0,d=c;l<d.length;l++){var h=d[l];if(!Object.prototype.hasOwnProperty.call(t,h)||!q1(e[h],t[h]))return!1}return!0}function ka(){return I(Object.entries,arguments)}(function(e){e.strict=e})(ka||(ka={}));var V1=function(){return V1=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},V1.apply(this,arguments)};function EJ(){return I(r4,arguments)}function r4(e,t){if(typeof e!="object"||e===null)return e;for(var n=V1({},e),r=0,s=ka.strict(t);r<s.length;r++){var i=s[r],u=i[0],o=i[1];u in n&&(n[u]=typeof o=="function"?o(n[u]):r4(n[u],o))}return n}var _i=function(e){return Object.assign(e,{indexed:!0})};function Ca(){return I(s4(!1),arguments,Ca.lazy)}var s4=function(e){return function(t,n){return et(t,e?Ca.lazyIndexed(n):Ca.lazy(n),e)}},g2=function(e){return function(t){return function(n,r,s){return(e?t(n,r,s):t(n))?{done:!1,hasNext:!0,next:n}:{done:!1,hasNext:!1}}}};(function(e){function t(){return I(s4(!0),arguments,e.lazyIndexed)}e.indexed=t,e.lazy=g2(!1),e.lazyIndexed=_i(g2(!0))})(Ca||(Ca={}));var Fh=function(e){return Object.assign(e,{single:!0})};function $h(){return I(i4(!1),arguments,$h.lazy)}var i4=function(e){return function(t,n){return t.find(function(r,s,i){return e?n(r,s,i):n(r)})}},m2=function(e){return function(t){return function(n,r,s){return(e?t(n,r,s):t(n))?{done:!0,hasNext:!0,next:n}:{done:!1,hasNext:!1}}}};(function(e){function t(){return I(i4(!0),arguments,e.lazyIndexed)}e.indexed=t,e.lazy=Fh(m2(!1)),e.lazyIndexed=Fh(_i(m2(!0)))})($h||($h={}));function Bh(){return I(u4(!1),arguments,Bh.lazy)}var u4=function(e){return function(t,n){return t.findIndex(function(r,s,i){return e?n(r,s,i):n(r)})}},y2=function(e){return function(t){var n=0;return function(r,s,i){return(e?t(r,s,i):t(r))?{done:!0,hasNext:!0,next:n}:(n+=1,{done:!1,hasNext:!1})}}};(function(e){function t(){return I(u4(!0),arguments,e.lazyIndexed)}e.indexed=t,e.lazy=Fh(y2(!1)),e.lazyIndexed=Fh(_i(y2(!0)))})(Bh||(Bh={}));function z1(){return I(o4(!1),arguments)}var o4=function(e){return function(t,n){for(var r=t.length-1;r>=0;r--)if(e?n(t[r],r,t):n(t[r]))return t[r]}};(function(e){function t(){return I(o4(!0),arguments)}e.indexed=t})(z1||(z1={}));function H1(){return I(a4(!1),arguments)}var a4=function(e){return function(t,n){for(var r=t.length-1;r>=0;r--)if(e?n(t[r],r,t):n(t[r]))return r;return-1}};(function(e){function t(){return I(a4(!0),arguments)}e.indexed=t})(H1||(H1={}));function Uh(){return I(OJ,arguments,Uh.lazy)}function OJ(e){var t=e[0];return t}(function(e){function t(){return function(n){return{done:!0,hasNext:!0,next:n}}}e.lazy=t,function(n){n.single=!0}(t=e.lazy||(e.lazy={}))})(Uh||(Uh={}));function IJ(){return fx(NJ,arguments)}function NJ(e,t){if(!Wl(e,2))return e[0];for(var n=e[0],r=e.slice(1),s=0,i=r;s<i.length;s++){var u=i[s];t(u,n)<0&&(n=u)}return n}var c4=1;function RJ(e,t){return typeof e=="object"?qh(e,t):HO(qh,arguments,kJ)}var kJ=function(e){return e===void 0&&(e=c4),e<=0?CJ:e===1?DJ:function(t){return Array.isArray(t)?{next:qh(t,e-1),hasNext:!0,hasMany:!0,done:!1}:{next:t,hasNext:!0,done:!1}}},CJ=function(e){return{next:e,hasNext:!0,done:!1}},DJ=function(e){return Array.isArray(e)?{next:e,hasNext:!0,hasMany:!0,done:!1}:{next:e,hasNext:!0,done:!1}};function qh(e,t){if(t===void 0&&(t=c4),t<=0)return e.slice();for(var n=[],r=0,s=e;r<s.length;r++){var i=s[r];Array.isArray(i)?n.push.apply(n,qh(i,t-1)):n.push(i)}return n}function Da(){return I(MJ,arguments,Da.lazy)}function MJ(e){return et(e,Da.lazy())}(function(e){e.lazy=function(){return function(t){return Array.isArray(t)?{done:!1,hasNext:!0,hasMany:!0,next:t}:{done:!1,hasNext:!0,next:t}}}})(Da||(Da={}));function Vh(){return I(PJ,arguments,Vh.lazy)}function PJ(e,t){return Da(e.map(function(n){return t(n)}))}(function(e){e.lazy=function(t){return function(n){var r=t(n);return Array.isArray(r)?{done:!1,hasNext:!0,hasMany:!0,next:r}:{done:!1,hasNext:!0,next:r}}}})(Vh||(Vh={}));function G1(){return I(l4(!1),arguments)}var l4=function(e){return function(t,n){for(var r={},s=0;s<t.length;s++)for(var i=t[s],u=e?n(i,s,t):n(i),o=0,a=u;o<a.length;o++){var c=a[o],l=c[0],d=c[1];r[l]=d}return r}};(function(e){function t(){return I(l4(!0),arguments)}e.indexed=t})(G1||(G1={}));function Ma(){return I(jJ,arguments,Ma.lazy)}function jJ(e){return et(e,Ma.lazy())}function LJ(e){if(!Array.isArray(e))return e;for(var t=[],n=0,r=e;n<r.length;n++){var s=r[n];Array.isArray(s)?t.push.apply(t,Ma(s)):t.push(s)}return t}(function(e){e.lazy=function(){return function(t){var n=LJ(t);return Array.isArray(n)?{done:!1,hasNext:!0,hasMany:!0,next:n}:{done:!1,hasNext:!0,next:n}}}})(Ma||(Ma={}));function FJ(){return I(cx(Math.floor),arguments)}function Pa(){return I(f4(!1),arguments,Pa.lazy)}var f4=function(e){return function(t,n){return et(t,e?Pa.lazyIndexed(n):Pa.lazy(n),e)}},b2=function(e){return function(t){return function(n,r,s){return e?t(n,r,s):t(n),{done:!1,hasNext:!0,next:n}}}};(function(e){function t(){return I(f4(!0),arguments,e.lazyIndexed)}e.indexed=t,e.lazy=b2(!1),e.lazyIndexed=_i(b2(!0))})(Pa||(Pa={}));function J1(){return I(d4(!1),arguments)}var d4=function(e){return function(t,n){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var s=t,i=r,u=s[i];e?n(u,r,t):n(u)}return t}};(function(e){function t(){return I(d4(!0),arguments)}e.indexed=t})(J1||(J1={}));function zh(){return I($J,arguments)}function $J(e){for(var t={},n=0,r=e;n<r.length;n++){var s=r[n],i=s[0],u=s[1];t[i]=u}return t}(function(e){e.strict=e})(zh||(zh={}));function BJ(){return I(UJ,arguments)}function UJ(e,t){for(var n={},r=0,s=e;r<s.length;r++){var i=s[r];n[i]=t(i)}return n}function W1(){return I(qJ,arguments)}function qJ(e){for(var t={},n=0,r=e;n<r.length;n++){var s=r[n],i=s[0],u=s[1];t[i]=u}return t}(function(e){e.strict=e})(W1||(W1={}));function Q1(){return I(h4(!1),arguments)}var h4=function(e){return function(t,n){for(var r={},s=0;s<t.length;s++){var i=t[s],u=e?n(i,s,t):n(i);if(u!==void 0){var o=String(u),a=r[o];a===void 0&&(a=[],r[o]=a),a.push(i)}}return r}};(function(e){function t(){return I(h4(!0),arguments)}e.indexed=t,e.strict=e})(Q1||(Q1={}));function p4(){return I(Ql,arguments)}function Ql(e,t){if(e===t)return!0;if(typeof e=="number"&&typeof t=="number")return e!==e&&t!==t;if(typeof e!="object"||typeof t!="object"||e===null||t===null||Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;if(e instanceof Set)return zJ(e,t);if(Array.isArray(e)){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!Ql(e[n],t[n]))return!1;return!0}if(e instanceof Date)return e.getTime()===t.getTime();if(e instanceof RegExp)return e.toString()===t.toString();if(e instanceof Map)return VJ(e,t);var r=Object.keys(e);if(r.length!==Object.keys(t).length)return!1;for(var s=0,i=r;s<i.length;s++){var u=i[s];if(!Object.prototype.hasOwnProperty.call(t,u)||!Ql(e[u],t[u]))return!1}return!0}function VJ(e,t){if(e.size!==t.size)return!1;for(var n=Array.from(e.keys()),r=0,s=n;r<s.length;r++){var i=s[r];if(!t.has(i)||!Ql(e.get(i),t.get(i)))return!1}return!0}function zJ(e,t){if(e.size!==t.size)return!1;for(var n=Array.from(e.values()),r=Array.from(t.values()),s=0,i=n;s<i.length;s++){for(var u=i[s],o=!1,a=0;a<r.length;a++)if(Ql(u,r[a])){o=!0,r.splice(a,1);break}if(!o)return!1}return!0}function HJ(){return I(GJ,arguments)}function GJ(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var s=r[n];if(!Object.prototype.hasOwnProperty.call(e,s)||!p4(t[s],e[s]))return!1}return!0}function JJ(e){return e}function X1(){return I(g4(!1),arguments)}var g4=function(e){return function(t,n){for(var r={},s=0;s<t.length;s++){var i=t[s],u=e?n(i,s,t):n(i),o=String(u);r[o]=i}return r}};function WJ(){return I(QJ,arguments)}function QJ(e,t){for(var n={},r=0,s=e;r<s.length;r++){var i=s[r],u=t(i);n[u]=i}return n}(function(e){function t(){return I(g4(!0),arguments)}e.indexed=t,e.strict=WJ})(X1||(X1={}));function Xl(){return I(XJ,arguments,Xl.lazy)}function XJ(e,t){var n=Xl.lazy(t);return et(e,n)}(function(e){function t(r){var s=new Set(r);return function(i){return s.has(i)?{done:!1,hasNext:!0,next:i}:{done:!1,hasNext:!1}}}e.lazy=t;function n(){return I(KJ,arguments,m4)}e.multiset=n})(Xl||(Xl={}));var KJ=function(e,t){return et(e,m4(t))};function m4(e){var t;if(e.length===0)return uJ;for(var n=new Map,r=0,s=e;r<s.length;r++){var i=s[r];n.set(i,((t=n.get(i))!==null&&t!==void 0?t:0)+1)}return function(u){var o=n.get(u);return o===void 0||o===0?{done:!1,hasNext:!1}:(o===1?n.delete(u):n.set(u,o-1),{hasNext:!0,next:u,done:n.size===0})}}function Kl(){return I(YJ,arguments,Kl.lazy)}function YJ(e,t,n){var r=Kl.lazy(t,n);return et(e,r)}(function(e){e.lazy=function(t,n){return function(r){return t.some(function(s){return n(r,s)})?{done:!1,hasNext:!0,next:r}:{done:!1,hasNext:!1}}}})(Kl||(Kl={}));function ZJ(){return I(eW,arguments)}function eW(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[e[n]]=n);return t}function y4(e){return Array.isArray(e)}function tW(e){return typeof e=="boolean"}function nW(e){return e instanceof Date}function K1(e){return e!=null}(function(e){function t(n){return n!==void 0}e.strict=t})(K1||(K1={}));function b4(e){return!!e&&!Array.isArray(e)&&typeof e=="object"}function w4(e){return typeof e=="string"}function rW(e){return e===void 0?!0:y4(e)||w4(e)?e.length===0:b4(e)?Object.keys(e).length===0:!1}function sW(e){return e instanceof Error}function iW(e){return typeof e=="function"}function uW(e,t){if(t===void 0){var n=new Set(e);return function(r){return n.has(r)}}return t.indexOf(e)>=0}function oW(e){return e==null}function aW(e){return e!==null}function cW(e){return e!=null}function lW(e){return function(t){return!e(t)}}function fW(e){return e==null}function dW(e){return typeof e=="number"&&!isNaN(e)}var hW=function(e){return typeof e=="object"&&e!==null};function pW(e){if(typeof e!="object"||e===null)return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function gW(e){return e instanceof Promise}function mW(e){return typeof e=="symbol"}function yW(){return I(bW,arguments)}var bW=function(e,t){return e.join(t)};function Yl(){return I(Object.keys,arguments)}(function(e){e.strict=e})(Yl||(Yl={}));function wW(){return I(xW,arguments)}function xW(e){return e[e.length-1]}function vW(){return I(SW,arguments)}function SW(e){return"length"in e?e.length:Array.from(e).length}function ja(){return I(x4(!1),arguments,ja.lazy)}var x4=function(e){return function(t,n){return et(t,e?ja.lazyIndexed(n):ja.lazy(n),e)}},w2=function(e){return function(t){return function(n,r,s){return{done:!1,hasNext:!0,next:e?t(n,r,s):t(n)}}}};(function(e){function t(){return I(x4(!0),arguments,e.lazyIndexed)}e.indexed=t,e.lazy=w2(!1),e.lazyIndexed=_i(w2(!0)),e.strict=e})(ja||(ja={}));function _W(){return I(AW,arguments)}function AW(e,t){for(var n={},r=0,s=ka.strict(e);r<s.length;r++){var i=s[r],u=i[0],o=i[1];n[t(u,o)]=o}return n}function Y1(){return I(v4(!1),arguments)}var v4=function(e){return function(t,n){for(var r={},s=0;s<t.length;s++){var i=t[s],u=e?n(i,s,t):n(i),o=u[0],a=u[1];r[o]=a}return r}};(function(e){function t(){return I(v4(!0),arguments)}e.indexed=t})(Y1||(Y1={}));function TW(){return I(EW,arguments)}function EW(e,t){for(var n={},r=0,s=ka.strict(e);r<s.length;r++){var i=s[r],u=i[0],o=i[1],a=t(o,u);n[u]=a}return n}function La(){return I(S4(!1),arguments,La.lazy)}var S4=function(e){return function(t,n,r){var s=e?La.lazyIndexed:La.lazy;return et(t,s(n,r),e)}},x2=function(e){return function(t,n){var r=n;return function(s,i,u){return r=e?t(r,s,i,u):t(r,s),{done:!1,hasNext:!0,next:r}}}};(function(e){function t(){return I(S4(!0),arguments,e.lazyIndexed)}e.indexed=t,e.lazy=x2(!1),e.lazyIndexed=_i(x2(!0))})(La||(La={}));var _4=function(e){return function(t,n){for(var r,s,i=0;i<t.length;i++){var u=t[i],o=e?n(u,i,t):n(u);(s===void 0||o>s)&&(r=u,s=o)}return r}};function Z1(){return I(_4(!1),arguments)}(function(e){function t(){return I(_4(!0),arguments)}e.indexed=t})(Z1||(Z1={}));var A4=function(e){return function(t,n){if(t.length===0)return NaN;for(var r=0,s=0;s<t.length;s++){var i=t[s];r+=e?n(i,s,t):n(i)}return r/t.length}};function ey(){return I(A4(!1),arguments)}(function(e){function t(){return I(A4(!0),arguments)}e.indexed=t})(ey||(ey={}));var Hh=function(){return Hh=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Hh.apply(this,arguments)};function OW(){return I(IW,arguments)}function IW(e,t){return Hh(Hh({},e),t)}var Gh=function(){return Gh=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Gh.apply(this,arguments)};function NW(e){for(var t={},n=0,r=e;n<r.length;n++){var s=r[n];t=Gh(Gh({},t),s)}return t}var Jh=function(){return Jh=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Jh.apply(this,arguments)};function RW(){return I(T4,arguments)}function T4(e,t){var n=Jh(Jh({},e),t);for(var r in t)if(r in e){var s=e,i=r,u=s[i];if(v2(u)){var o=t,a=r,c=o[a];v2(c)&&(n[r]=T4(u,c))}}return n}function v2(e){return typeof e=="object"&&e!==null&&Object.getPrototypeOf(e)===Object.prototype}var E4=function(e){return function(t,n){for(var r,s,i=0;i<t.length;i++){var u=t[i],o=e?n(u,i,t):n(u);(s===void 0||o<s)&&(r=u,s=o)}return r}};function ty(){return I(E4(!1),arguments)}(function(e){function t(){return I(E4(!0),arguments)}e.indexed=t})(ty||(ty={}));function kW(){return I(CW,arguments)}function CW(e,t){return e*t}var DW=function(){},MW=function(e,t,n){return t<0||t>=e.length?void 0:O4(e.slice(),0,e.length-1,t,n)};function O4(e,t,n,r,s){if(t===n)return e[t];var i=PW(e,t,n,s);return r===i?e[r]:O4(e,r<i?t:i+1,r<i?i-1:n,r,s)}function PW(e,t,n,r){for(var s=e[n],i=t,u=t;u<n;u++)r(e[u],s)<0&&($1(e,i,u),i+=1);return $1(e,i,n),i}function jW(){return w0(LW,arguments)}var LW=function(e,t,n){return MW(e,n>=0?n:e.length+n,t)};function FW(){return I($W,arguments)}function $W(e,t){var n;return n={},n[t]=e,n}var Wh=function(){return Wh=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Wh.apply(this,arguments)},BW=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};function UW(){return I(qW,arguments)}function qW(e,t){if(!Wl(t,1))return Wh({},e);if(!Wl(t,2)){var n=t[0],r=e,s=n;r[s];var i=BW(r,[typeof s=="symbol"?s:s+""]);return i}if(!t.some(function(o){return o in e}))return Wh({},e);var u=new Set(t);return zh(Object.entries(e).filter(function(o){var a=o[0];return!u.has(a)}))}function VW(){return I(zW,arguments)}function zW(e,t){if(e==null)return e;for(var n={},r=0,s=Yl.strict(e);r<s.length;r++){var i=s[r];t(e[i],i)||(n[i]=e[i])}return n}function HW(e){var t=!1,n;return function(){return t||(n=e(),t=!0),n}}function GW(){return I(JW,arguments)}function JW(e){return e.length===1?e[0]:void 0}function ny(){return I(I4(!1),arguments)}var I4=function(e){return function(t,n){for(var r=[[],[]],s=0;s<t.length;s++){var i=t[s],u=e?n(i,s,t):n(i);r[u?0:1].push(i)}return r}};(function(e){function t(){return I(I4(!0),arguments)}e.indexed=t})(ny||(ny={}));function WW(){return I(QW,arguments)}function QW(e,t,n){for(var r=e,s=0,i=t;s<i.length;s++){var u=i[s];if(r==null)break;r=r[u]}return r??n}function XW(){return I(KW,arguments)}function KW(e,t){for(var n={},r=0,s=t;r<s.length;r++){var i=s[r];i in e&&(n[i]=e[i])}return n}function YW(){return I(ZW,arguments)}function ZW(e,t){if(e==null)return{};for(var n={},r=0,s=Yl.strict(e);r<s.length;r++){var i=s[r];t(e[i],i)&&(n[i]=e[i])}return n}var eQ=function(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))};function tQ(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(n){return lx.apply(void 0,eQ([n],e,!1))}}function nQ(){return I(rQ,arguments)}function rQ(e){for(var t=1,n=0,r=e;n<r.length;n++){var s=r[n];t*=s}return t}var sQ=function(e){return function(t){var n=e,r=t[n];return r}};function iQ(){return I(uQ,arguments)}function uQ(e,t,n){for(var r={},s=0,i=e;s<i.length;s++){var u=i[s],o=t(u),a=n(u);r[o]=a}return r}function N4(){return I(oQ,arguments)}function oQ(e,t){if(e<0)throw new RangeError("n must be a non-negative number");for(var n=[],r=0;r<e;r++)n.push(t(r));return n}var S2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";function aQ(){return I(cQ,arguments)}function cQ(e){return N4(e,lQ).join("")}var lQ=function(){return S2[Math.floor(Math.random()*S2.length)]};function fQ(){return I(dQ,arguments)}function dQ(e,t){for(var n=[],r=e;r<t;r++)n.push(r);return n}function hQ(){return w0(pQ,arguments)}function pQ(e,t,n){for(var r=0,s=0,i=e;s<i.length;s++){var u=i[s];t(n,u)>0&&(r+=1)}return r}function ry(){return I(R4(!1),arguments)}var R4=function(e){return function(t,n,r){return t.reduce(function(s,i,u){return e?n(s,i,u,t):n(s,i)},r)}};(function(e){function t(){return I(R4(!0),arguments)}e.indexed=t})(ry||(ry={}));function Fa(){return I(k4(!1),arguments,Fa.lazy)}var k4=function(e){return function(t,n){return et(t,e?Fa.lazyIndexed(n):Fa.lazy(n),e)}},_2=function(e){return function(t){return function(n,r,s){return(e?t(n,r,s):t(n))?{done:!1,hasNext:!1}:{done:!1,hasNext:!0,next:n}}}};(function(e){function t(){return I(k4(!0),arguments,e.lazyIndexed)}e.indexed=t,e.lazy=_2(!1),e.lazyIndexed=_i(_2(!0))})(Fa||(Fa={}));function gQ(){return I(mQ,arguments)}function mQ(e){return e.slice().reverse()}function yQ(){return I(cx(Math.round),arguments)}function bQ(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return I(wQ,e)}function wQ(e,t){if(t<0)throw new RangeError("sampleSize must cannot be negative: ".concat(t));if(!Number.isInteger(t))throw new TypeError("sampleSize must be an integer: ".concat(t));if(t>=e.length)return e.slice();if(t===0)return[];for(var n=Math.min(t,e.length-t),r=new Set;r.size<n;){var s=Math.floor(Math.random()*e.length);r.add(s)}return t===n?Array.from(r).sort(function(i,u){return i-u}).map(function(i){return e[i]}):e.filter(function(i,u){return!r.has(u)})}var Qh=function(){return Qh=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Qh.apply(this,arguments)};function xQ(){return I(vQ,arguments)}function vQ(e,t,n){var r;return Qh(Qh({},e),(r={},r[t]=n,r))}var Xh=function(){return Xh=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Xh.apply(this,arguments)};function SQ(){return I(Kh,arguments)}function Kh(e,t,n){var r,s=t[0],i=t.slice(1);if(s===void 0)return n;if(Array.isArray(e))return e.map(function(u,o){return o===s?Kh(u,i,n):u});if(e==null)throw new Error("Path doesn't exist in object!");return Xh(Xh({},e),(r={},r[s]=Kh(e[s],i,n),r))}function _Q(){return I(AQ,arguments)}function AQ(e){for(var t=e.slice(),n=0;n<e.length;n++){var r=n+Math.floor(Math.random()*(e.length-n)),s=t[r];t[r]=t[n],t[n]=s}return t}var TQ=function(e,t){return function(n){return n.slice(e,t)}};function sy(){return I(EQ,arguments)}function EQ(e,t){var n=e.slice();return n.sort(t),n}(function(e){e.strict=e})(sy||(sy={}));function iy(){return fx(OQ,arguments)}var OQ=function(e,t){return e.slice().sort(t)};(function(e){e.strict=e})(iy||(iy={}));function Ac(e,t){for(var n=0,r=e.length;n<r;){var s=n+r>>>1,i=e[s];t(i,s)?n=s+1:r=s}return r}function IQ(){return I(NQ,arguments)}var NQ=function(e,t){return Ac(e,function(n){return n<t})};function uy(){return I(C4,arguments)}(function(e){function t(){return I(C4,arguments)}e.indexed=t})(uy||(uy={}));function C4(e,t,n){var r=n(t);return Ac(e,function(s,i){return n(s,i)<r})}function oy(){return I(Ac,arguments)}(function(e){function t(){return I(Ac,arguments)}e.indexed=t})(oy||(oy={}));function RQ(){return I(kQ,arguments)}var kQ=function(e,t){return Ac(e,function(n){return n<=t})};function ay(){return I(D4,arguments)}(function(e){function t(){return I(D4,arguments)}e.indexed=t})(ay||(ay={}));function D4(e,t,n){var r=n(t);return Ac(e,function(s,i){return n(s,i)<=r})}var CQ=function(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))};function DQ(){return I(MQ,arguments)}function MQ(e,t,n,r){var s=e.slice();return s.splice.apply(s,CQ([t,n],r,!1)),s}function M4(){return I(PQ,arguments)}function PQ(e,t){var n=e.slice(),r=n.splice(t);return[n,r]}function jQ(){return I(LQ,arguments)}function LQ(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return M4(e,n);return[e.slice(),[]]}var FQ=function(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))};function $Q(e){return P4(e)}function P4(e){var t;if(e.length===0)return[];var n=(t=/^\[(.+?)\](.*)$/u.exec(e))!==null&&t!==void 0?t:/^\.?([^.[\]]+)(.*)$/u.exec(e);if(n!==null){var r=n[1],s=n[2];return FQ([r],P4(s),!0)}return[e]}function BQ(){return I(UQ,arguments)}function UQ(e,t){return e-t}function qQ(){return I(VQ,arguments)}function VQ(e){for(var t=0,n=0,r=e;n<r.length;n++){var s=r[n];t+=s}return t}var j4=function(e){return function(t,n){for(var r=0,s=0;s<t.length;s++){var i=t[s],u=e?n(i,s,t):n(i);r+=u}return r}};function cy(){return I(j4(!1),arguments)}(function(e){function t(){return I(j4(!0),arguments)}e.indexed=t})(cy||(cy={}));function zQ(){return I(HQ,arguments)}function HQ(e,t,n){return typeof e=="string"?GQ(e,t,n):L4(e,t,n)}function L4(e,t,n){var r=e.slice();if(isNaN(t)||isNaN(n))return r;var s=t<0?e.length+t:t,i=n<0?e.length+n:n;return s<0||s>e.length||i<0||i>e.length||(r[s]=e[i],r[i]=e[s]),r}function GQ(e,t,n){var r=L4(e.split(""),t,n);return r.join("")}var Yh=function(){return Yh=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Yh.apply(this,arguments)};function JQ(){return I(WQ,arguments)}function WQ(e,t,n){var r,s=e,i=t,u=s[i],o=n,a=s[o];return Yh(Yh({},e),(r={},r[t]=a,r[n]=u,r))}function Zl(){return I(QQ,arguments,Zl.lazy)}function QQ(e,t){return et(e,Zl.lazy(t))}(function(e){function t(n){if(n<=0)return function(){return{done:!0,hasNext:!1}};var r=n;return function(s){return r-=1,{done:r<=0,hasNext:!0,next:s}}}e.lazy=t})(Zl||(Zl={}));function XQ(){return w0(KQ,arguments)}function KQ(e,t,n){if(n<=0)return[];if(n>=e.length)return e.slice();var r=e.slice(0,n);YO(r,t);for(var s=e.slice(n),i=0,u=s;i<u.length;i++){var o=u[i];ZO(r,t,o)}return r}function YQ(){return I(ZQ,arguments)}function ZQ(e,t){for(var n=e.length-1;n>=0;n--)if(!t(e[n]))return e.slice(n+1);return e.slice()}function eX(){return I(tX,arguments)}function tX(e,t){for(var n=[],r=0,s=e;r<s.length;r++){var i=s[r];if(!t(i))break;n.push(i)}return n}function nX(){return I(rX,arguments)}function rX(e,t){return t(e),e}function ef(){return I(sX,arguments,ef.lazy)}function sX(e){return et(e,ef.lazy())}(function(e){function t(){var n=new Set;return function(r){return n.has(r)?{done:!1,hasNext:!1}:(n.add(r),{done:!1,hasNext:!0,next:r})}}e.lazy=t})(ef||(ef={}));function iX(){return I(uX,arguments,F4)}function uX(e,t){return et(e,F4(t))}function F4(e){var t=new Set;return function(n){var r=e(n);return t.has(r)?{done:!1,hasNext:!1}:(t.add(r),{done:!1,hasNext:!0,next:n})}}function tf(){return I(oX,arguments,tf.lazy)}function oX(e,t){var n=tf.lazy(t);return et(e,n,!0)}var aX=function(e){return function(t,n,r){return r!==void 0&&r.findIndex(function(s){return e(t,s)})===n?{done:!1,hasNext:!0,next:t}:{done:!1,hasNext:!1}}};(function(e){e.lazy=_i(aX)})(tf||(tf={}));function nf(){return I(cX,arguments,nf.lazy)}function cX(e){return et(e,nf.lazy())}(function(e){function t(){var n=new Set;return function(r){return n.has(r)?{done:!1,hasNext:!1}:(n.add(r),{done:!1,hasNext:!0,next:r})}}e.lazy=t})(nf||(nf={}));function lX(){return I(fX,arguments,$4)}function fX(e,t){return et(e,$4(t))}function $4(e){var t=new Set;return function(n){var r=e(n);return t.has(r)?{done:!1,hasNext:!1}:(t.add(r),{done:!1,hasNext:!0,next:n})}}function rf(){return I(dX,arguments,rf.lazy)}function dX(e,t){var n=rf.lazy(t);return et(e,n,!0)}var hX=function(e){return function(t,n,r){return r!==void 0&&r.findIndex(function(s){return e(t,s)})===n?{done:!1,hasNext:!0,next:t}:{done:!1,hasNext:!1}}};(function(e){e.lazy=_i(hX)})(rf||(rf={}));function pX(){return I(Object.values,arguments)}function ly(){return I(gX,arguments)}function gX(e,t){for(var n=e.length>t.length?t.length:e.length,r=[],s=0;s<n;s++)r.push([e[s],t[s]]);return r}(function(e){e.strict=e})(ly||(ly={}));function mX(){return I(yX,arguments)}function yX(e,t){for(var n=e.length>t.length?t.length:e.length,r={},s=0;s<n;s++)r[e[s]]=t[s];return r}function bX(e,t,n){if(typeof e=="function")return t===void 0?function(r,s){return gm(r,s,e)}:function(r){return gm(r,t,e)};if(t===void 0||n===void 0)throw new Error("zipWith: Missing arguments in dataFirst function call");return gm(e,t,n)}function gm(e,t,n){for(var r=e.length>t.length?t.length:e.length,s=[],i=0;i<r;i++)s.push(n(e[i],t[i]));return s}const wX=Object.freeze(Object.defineProperty({__proto__:null,_setPath:Kh,add:NG,addProp:kG,allPass:DG,anyPass:PG,ceil:LG,chunk:FG,clamp:BG,clone:VG,compact:zG,concat:HG,get conditional(){return L1},constant:ZG,get countBy(){return F1},createPipe:rJ,debounce:sJ,get difference(){return Hl},get differenceWith(){return Gl},divide:fJ,doNothing:hJ,get drop(){return Jl},dropFirstBy:yJ,dropLast:wJ,dropLastWhile:vJ,dropWhile:_J,get entries(){return U1},equals:TJ,evolve:EJ,get filter(){return Ca},get find(){return $h},get findIndex(){return Bh},get findLast(){return z1},get findLastIndex(){return H1},get first(){return Uh},firstBy:IJ,flat:RJ,get flatMap(){return Vh},get flatMapToObj(){return G1},get flatten(){return Da},get flattenDeep(){return Ma},floor:FJ,get forEach(){return Pa},get forEachObj(){return J1},get fromEntries(){return zh},fromKeys:BJ,get fromPairs(){return W1},get groupBy(){return Q1},hasAtLeast:Wl,hasSubObject:HJ,identity:JJ,get indexBy(){return X1},get intersection(){return Xl},get intersectionWith(){return Kl},invert:ZJ,isArray:y4,isBoolean:tW,isDate:nW,isDeepEqual:p4,get isDefined(){return K1},isEmpty:rW,isError:sW,isFunction:iW,isIncludedIn:uW,isNil:oW,isNonNull:aW,isNonNullish:cW,isNot:lW,isNullish:fW,isNumber:dW,isObject:b4,isObjectType:hW,isPlainObject:pW,isPromise:gW,isString:w4,isSymbol:mW,isTruthy:WO,join:yW,get keys(){return Yl},last:wW,length:vW,get map(){return ja},mapKeys:_W,get mapToObj(){return Y1},mapValues:TW,get mapWithFeedback(){return La},get maxBy(){return Z1},get meanBy(){return ey},merge:OW,mergeAll:NW,mergeDeep:RW,get minBy(){return ty},multiply:kW,noop:DW,nthBy:jW,objOf:FW,omit:UW,omitBy:VW,once:HW,only:GW,get partition(){return ny},pathOr:WW,pick:XW,pickBy:YW,pipe:lx,piped:tQ,product:nQ,prop:sQ,pullObject:iQ,purry:I,randomString:aQ,range:fQ,rankBy:hQ,get reduce(){return ry},get reject(){return Fa},reverse:gQ,round:yQ,sample:bQ,set:xQ,setPath:SQ,shuffle:_Q,sliceString:TQ,get sort(){return sy},get sortBy(){return iy},sortedIndex:IQ,get sortedIndexBy(){return uy},get sortedIndexWith(){return oy},sortedLastIndex:RQ,get sortedLastIndexBy(){return ay},splice:DQ,splitAt:M4,splitWhen:jQ,stringToPath:$Q,subtract:BQ,sum:qQ,get sumBy(){return cy},swapIndices:zQ,swapProps:JQ,get take(){return Zl},takeFirstBy:XQ,takeLastWhile:YQ,takeWhile:eX,tap:nX,times:N4,get toPairs(){return ka},type:GO,get uniq(){return ef},uniqBy:iX,get uniqWith(){return tf},get unique(){return nf},uniqueBy:lX,get uniqueWith(){return rf},values:pX,get zip(){return ly},zipObj:mX,zipWith:bX},Symbol.toStringTag,{value:"Module"})),x0=Pb(wX);var B4={},v0={},S0={};Object.defineProperty(S0,"__esModule",{value:!0});S0.default=vX;let Ad;const xX=new Uint8Array(16);function vX(){if(!Ad&&(Ad=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Ad))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ad(xX)}var wu={},$o={},_0={};Object.defineProperty(_0,"__esModule",{value:!0});_0.default=void 0;var SX=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;_0.default=SX;Object.defineProperty($o,"__esModule",{value:!0});$o.default=void 0;var _X=AX(_0);function AX(e){return e&&e.__esModule?e:{default:e}}function TX(e){return typeof e=="string"&&_X.default.test(e)}var EX=TX;$o.default=EX;Object.defineProperty(wu,"__esModule",{value:!0});wu.default=void 0;wu.unsafeStringify=U4;var OX=IX($o);function IX(e){return e&&e.__esModule?e:{default:e}}const Dt=[];for(let e=0;e<256;++e)Dt.push((e+256).toString(16).slice(1));function U4(e,t=0){return Dt[e[t+0]]+Dt[e[t+1]]+Dt[e[t+2]]+Dt[e[t+3]]+"-"+Dt[e[t+4]]+Dt[e[t+5]]+"-"+Dt[e[t+6]]+Dt[e[t+7]]+"-"+Dt[e[t+8]]+Dt[e[t+9]]+"-"+Dt[e[t+10]]+Dt[e[t+11]]+Dt[e[t+12]]+Dt[e[t+13]]+Dt[e[t+14]]+Dt[e[t+15]]}function NX(e,t=0){const n=U4(e,t);if(!(0,OX.default)(n))throw TypeError("Stringified UUID is invalid");return n}var RX=NX;wu.default=RX;Object.defineProperty(v0,"__esModule",{value:!0});v0.default=void 0;var kX=DX(S0),CX=wu;function DX(e){return e&&e.__esModule?e:{default:e}}let A2,mm,ym=0,bm=0;function MX(e,t,n){let r=t&&n||0;const s=t||new Array(16);e=e||{};let i=e.node||A2,u=e.clockseq!==void 0?e.clockseq:mm;if(i==null||u==null){const h=e.random||(e.rng||kX.default)();i==null&&(i=A2=[h[0]|1,h[1],h[2],h[3],h[4],h[5]]),u==null&&(u=mm=(h[6]<<8|h[7])&16383)}let o=e.msecs!==void 0?e.msecs:Date.now(),a=e.nsecs!==void 0?e.nsecs:bm+1;const c=o-ym+(a-bm)/1e4;if(c<0&&e.clockseq===void 0&&(u=u+1&16383),(c<0||o>ym)&&e.nsecs===void 0&&(a=0),a>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");ym=o,bm=a,mm=u,o+=122192928e5;const l=((o&268435455)*1e4+a)%4294967296;s[r++]=l>>>24&255,s[r++]=l>>>16&255,s[r++]=l>>>8&255,s[r++]=l&255;const d=o/4294967296*1e4&268435455;s[r++]=d>>>8&255,s[r++]=d&255,s[r++]=d>>>24&15|16,s[r++]=d>>>16&255,s[r++]=u>>>8|128,s[r++]=u&255;for(let h=0;h<6;++h)s[r+h]=i[h];return t||(0,CX.unsafeStringify)(s)}var PX=MX;v0.default=PX;var A0={},uu={},Jf={};Object.defineProperty(Jf,"__esModule",{value:!0});Jf.default=void 0;var jX=LX($o);function LX(e){return e&&e.__esModule?e:{default:e}}function FX(e){if(!(0,jX.default)(e))throw TypeError("Invalid UUID");let t;const n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=t&255,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=t&255,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=t&255,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=t&255,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=t&255,n}var $X=FX;Jf.default=$X;Object.defineProperty(uu,"__esModule",{value:!0});uu.URL=uu.DNS=void 0;uu.default=zX;var BX=wu,UX=qX(Jf);function qX(e){return e&&e.__esModule?e:{default:e}}function VX(e){e=unescape(encodeURIComponent(e));const t=[];for(let n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}const q4="6ba7b810-9dad-11d1-80b4-00c04fd430c8";uu.DNS=q4;const V4="6ba7b811-9dad-11d1-80b4-00c04fd430c8";uu.URL=V4;function zX(e,t,n){function r(s,i,u,o){var a;if(typeof s=="string"&&(s=VX(s)),typeof i=="string"&&(i=(0,UX.default)(i)),((a=i)===null||a===void 0?void 0:a.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let c=new Uint8Array(16+s.length);if(c.set(i),c.set(s,i.length),c=n(c),c[6]=c[6]&15|t,c[8]=c[8]&63|128,u){o=o||0;for(let l=0;l<16;++l)u[o+l]=c[l];return u}return(0,BX.unsafeStringify)(c)}try{r.name=e}catch{}return r.DNS=q4,r.URL=V4,r}var T0={};Object.defineProperty(T0,"__esModule",{value:!0});T0.default=void 0;function HX(e){if(typeof e=="string"){const t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(let n=0;n<t.length;++n)e[n]=t.charCodeAt(n)}return GX(JX(WX(e),e.length*8))}function GX(e){const t=[],n=e.length*32,r="0123456789abcdef";for(let s=0;s<n;s+=8){const i=e[s>>5]>>>s%32&255,u=parseInt(r.charAt(i>>>4&15)+r.charAt(i&15),16);t.push(u)}return t}function z4(e){return(e+64>>>9<<4)+14+1}function JX(e,t){e[t>>5]|=128<<t%32,e[z4(t)-1]=t;let n=1732584193,r=-271733879,s=-1732584194,i=271733878;for(let u=0;u<e.length;u+=16){const o=n,a=r,c=s,l=i;n=qt(n,r,s,i,e[u],7,-680876936),i=qt(i,n,r,s,e[u+1],12,-389564586),s=qt(s,i,n,r,e[u+2],17,606105819),r=qt(r,s,i,n,e[u+3],22,-1044525330),n=qt(n,r,s,i,e[u+4],7,-176418897),i=qt(i,n,r,s,e[u+5],12,1200080426),s=qt(s,i,n,r,e[u+6],17,-1473231341),r=qt(r,s,i,n,e[u+7],22,-45705983),n=qt(n,r,s,i,e[u+8],7,1770035416),i=qt(i,n,r,s,e[u+9],12,-1958414417),s=qt(s,i,n,r,e[u+10],17,-42063),r=qt(r,s,i,n,e[u+11],22,-1990404162),n=qt(n,r,s,i,e[u+12],7,1804603682),i=qt(i,n,r,s,e[u+13],12,-40341101),s=qt(s,i,n,r,e[u+14],17,-1502002290),r=qt(r,s,i,n,e[u+15],22,1236535329),n=Vt(n,r,s,i,e[u+1],5,-165796510),i=Vt(i,n,r,s,e[u+6],9,-1069501632),s=Vt(s,i,n,r,e[u+11],14,643717713),r=Vt(r,s,i,n,e[u],20,-373897302),n=Vt(n,r,s,i,e[u+5],5,-701558691),i=Vt(i,n,r,s,e[u+10],9,38016083),s=Vt(s,i,n,r,e[u+15],14,-660478335),r=Vt(r,s,i,n,e[u+4],20,-405537848),n=Vt(n,r,s,i,e[u+9],5,568446438),i=Vt(i,n,r,s,e[u+14],9,-1019803690),s=Vt(s,i,n,r,e[u+3],14,-187363961),r=Vt(r,s,i,n,e[u+8],20,1163531501),n=Vt(n,r,s,i,e[u+13],5,-1444681467),i=Vt(i,n,r,s,e[u+2],9,-51403784),s=Vt(s,i,n,r,e[u+7],14,1735328473),r=Vt(r,s,i,n,e[u+12],20,-1926607734),n=zt(n,r,s,i,e[u+5],4,-378558),i=zt(i,n,r,s,e[u+8],11,-2022574463),s=zt(s,i,n,r,e[u+11],16,1839030562),r=zt(r,s,i,n,e[u+14],23,-35309556),n=zt(n,r,s,i,e[u+1],4,-1530992060),i=zt(i,n,r,s,e[u+4],11,1272893353),s=zt(s,i,n,r,e[u+7],16,-155497632),r=zt(r,s,i,n,e[u+10],23,-1094730640),n=zt(n,r,s,i,e[u+13],4,681279174),i=zt(i,n,r,s,e[u],11,-358537222),s=zt(s,i,n,r,e[u+3],16,-722521979),r=zt(r,s,i,n,e[u+6],23,76029189),n=zt(n,r,s,i,e[u+9],4,-640364487),i=zt(i,n,r,s,e[u+12],11,-421815835),s=zt(s,i,n,r,e[u+15],16,530742520),r=zt(r,s,i,n,e[u+2],23,-995338651),n=Ht(n,r,s,i,e[u],6,-198630844),i=Ht(i,n,r,s,e[u+7],10,1126891415),s=Ht(s,i,n,r,e[u+14],15,-1416354905),r=Ht(r,s,i,n,e[u+5],21,-57434055),n=Ht(n,r,s,i,e[u+12],6,1700485571),i=Ht(i,n,r,s,e[u+3],10,-1894986606),s=Ht(s,i,n,r,e[u+10],15,-1051523),r=Ht(r,s,i,n,e[u+1],21,-2054922799),n=Ht(n,r,s,i,e[u+8],6,1873313359),i=Ht(i,n,r,s,e[u+15],10,-30611744),s=Ht(s,i,n,r,e[u+6],15,-1560198380),r=Ht(r,s,i,n,e[u+13],21,1309151649),n=Ht(n,r,s,i,e[u+4],6,-145523070),i=Ht(i,n,r,s,e[u+11],10,-1120210379),s=Ht(s,i,n,r,e[u+2],15,718787259),r=Ht(r,s,i,n,e[u+9],21,-343485551),n=Gi(n,o),r=Gi(r,a),s=Gi(s,c),i=Gi(i,l)}return[n,r,s,i]}function WX(e){if(e.length===0)return[];const t=e.length*8,n=new Uint32Array(z4(t));for(let r=0;r<t;r+=8)n[r>>5]|=(e[r/8]&255)<<r%32;return n}function Gi(e,t){const n=(e&65535)+(t&65535);return(e>>16)+(t>>16)+(n>>16)<<16|n&65535}function QX(e,t){return e<<t|e>>>32-t}function E0(e,t,n,r,s,i){return Gi(QX(Gi(Gi(t,e),Gi(r,i)),s),n)}function qt(e,t,n,r,s,i,u){return E0(t&n|~t&r,e,t,s,i,u)}function Vt(e,t,n,r,s,i,u){return E0(t&r|n&~r,e,t,s,i,u)}function zt(e,t,n,r,s,i,u){return E0(t^n^r,e,t,s,i,u)}function Ht(e,t,n,r,s,i,u){return E0(n^(t|~r),e,t,s,i,u)}var XX=HX;T0.default=XX;Object.defineProperty(A0,"__esModule",{value:!0});A0.default=void 0;var KX=H4(uu),YX=H4(T0);function H4(e){return e&&e.__esModule?e:{default:e}}const ZX=(0,KX.default)("v3",48,YX.default);var eK=ZX;A0.default=eK;var O0={},I0={};Object.defineProperty(I0,"__esModule",{value:!0});I0.default=void 0;const tK=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var nK={randomUUID:tK};I0.default=nK;Object.defineProperty(O0,"__esModule",{value:!0});O0.default=void 0;var T2=G4(I0),rK=G4(S0),sK=wu;function G4(e){return e&&e.__esModule?e:{default:e}}function iK(e,t,n){if(T2.default.randomUUID&&!t&&!e)return T2.default.randomUUID();e=e||{};const r=e.random||(e.rng||rK.default)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(let s=0;s<16;++s)t[n+s]=r[s];return t}return(0,sK.unsafeStringify)(r)}var uK=iK;O0.default=uK;var N0={},R0={};Object.defineProperty(R0,"__esModule",{value:!0});R0.default=void 0;function oK(e,t,n,r){switch(e){case 0:return t&n^~t&r;case 1:return t^n^r;case 2:return t&n^t&r^n&r;case 3:return t^n^r}}function wm(e,t){return e<<t|e>>>32-t}function aK(e){const t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof e=="string"){const u=unescape(encodeURIComponent(e));e=[];for(let o=0;o<u.length;++o)e.push(u.charCodeAt(o))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);const r=e.length/4+2,s=Math.ceil(r/16),i=new Array(s);for(let u=0;u<s;++u){const o=new Uint32Array(16);for(let a=0;a<16;++a)o[a]=e[u*64+a*4]<<24|e[u*64+a*4+1]<<16|e[u*64+a*4+2]<<8|e[u*64+a*4+3];i[u]=o}i[s-1][14]=(e.length-1)*8/Math.pow(2,32),i[s-1][14]=Math.floor(i[s-1][14]),i[s-1][15]=(e.length-1)*8&4294967295;for(let u=0;u<s;++u){const o=new Uint32Array(80);for(let f=0;f<16;++f)o[f]=i[u][f];for(let f=16;f<80;++f)o[f]=wm(o[f-3]^o[f-8]^o[f-14]^o[f-16],1);let a=n[0],c=n[1],l=n[2],d=n[3],h=n[4];for(let f=0;f<80;++f){const g=Math.floor(f/20),m=wm(a,5)+oK(g,c,l,d)+h+t[g]+o[f]>>>0;h=d,d=l,l=wm(c,30)>>>0,c=a,a=m}n[0]=n[0]+a>>>0,n[1]=n[1]+c>>>0,n[2]=n[2]+l>>>0,n[3]=n[3]+d>>>0,n[4]=n[4]+h>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,n[0]&255,n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,n[1]&255,n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,n[2]&255,n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,n[3]&255,n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,n[4]&255]}var cK=aK;R0.default=cK;Object.defineProperty(N0,"__esModule",{value:!0});N0.default=void 0;var lK=J4(uu),fK=J4(R0);function J4(e){return e&&e.__esModule?e:{default:e}}const dK=(0,lK.default)("v5",80,fK.default);var hK=dK;N0.default=hK;var k0={};Object.defineProperty(k0,"__esModule",{value:!0});k0.default=void 0;var pK="00000000-0000-0000-0000-000000000000";k0.default=pK;var C0={};Object.defineProperty(C0,"__esModule",{value:!0});C0.default=void 0;var gK=mK($o);function mK(e){return e&&e.__esModule?e:{default:e}}function yK(e){if(!(0,gK.default)(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}var bK=yK;C0.default=bK;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"NIL",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"parse",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"v1",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"v3",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"v4",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"v5",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"validate",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"version",{enumerable:!0,get:function(){return u.default}});var t=l(v0),n=l(A0),r=l(O0),s=l(N0),i=l(k0),u=l(C0),o=l($o),a=l(wu),c=l(Jf);function l(d){return d&&d.__esModule?d:{default:d}}})(B4);var W4={exports:{}},Q4={exports:{}};(function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t={rotl:function(n,r){return n<<r|n>>>32-r},rotr:function(n,r){return n<<32-r|n>>>r},endian:function(n){if(n.constructor==Number)return t.rotl(n,8)&16711935|t.rotl(n,24)&4278255360;for(var r=0;r<n.length;r++)n[r]=t.endian(n[r]);return n},randomBytes:function(n){for(var r=[];n>0;n--)r.push(Math.floor(Math.random()*256));return r},bytesToWords:function(n){for(var r=[],s=0,i=0;s<n.length;s++,i+=8)r[i>>>5]|=n[s]<<24-i%32;return r},wordsToBytes:function(n){for(var r=[],s=0;s<n.length*32;s+=8)r.push(n[s>>>5]>>>24-s%32&255);return r},bytesToHex:function(n){for(var r=[],s=0;s<n.length;s++)r.push((n[s]>>>4).toString(16)),r.push((n[s]&15).toString(16));return r.join("")},hexToBytes:function(n){for(var r=[],s=0;s<n.length;s+=2)r.push(parseInt(n.substr(s,2),16));return r},bytesToBase64:function(n){for(var r=[],s=0;s<n.length;s+=3)for(var i=n[s]<<16|n[s+1]<<8|n[s+2],u=0;u<4;u++)s*8+u*6<=n.length*8?r.push(e.charAt(i>>>6*(3-u)&63)):r.push("=");return r.join("")},base64ToBytes:function(n){n=n.replace(/[^A-Z0-9+\/]/ig,"");for(var r=[],s=0,i=0;s<n.length;i=++s%4)i!=0&&r.push((e.indexOf(n.charAt(s-1))&Math.pow(2,-2*i+8)-1)<<i*2|e.indexOf(n.charAt(s))>>>6-i*2);return r}};Q4.exports=t})();var wK=Q4.exports,fy={utf8:{stringToBytes:function(e){return fy.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(fy.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(e.charCodeAt(n)&255);return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}},E2=fy;/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var xK=function(e){return e!=null&&(X4(e)||vK(e)||!!e._isBuffer)};function X4(e){return!!e.constructor&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function vK(e){return typeof e.readFloatLE=="function"&&typeof e.slice=="function"&&X4(e.slice(0,0))}(function(){var e=wK,t=E2.utf8,n=xK,r=E2.bin,s=function(i,u){i.constructor==String?u&&u.encoding==="binary"?i=r.stringToBytes(i):i=t.stringToBytes(i):n(i)?i=Array.prototype.slice.call(i,0):!Array.isArray(i)&&i.constructor!==Uint8Array&&(i=i.toString());for(var o=e.bytesToWords(i),a=i.length*8,c=1732584193,l=-271733879,d=-1732584194,h=271733878,f=0;f<o.length;f++)o[f]=(o[f]<<8|o[f]>>>24)&16711935|(o[f]<<24|o[f]>>>8)&4278255360;o[a>>>5]|=128<<a%32,o[(a+64>>>9<<4)+14]=a;for(var g=s._ff,m=s._gg,y=s._hh,b=s._ii,f=0;f<o.length;f+=16){var w=c,v=l,x=d,A=h;c=g(c,l,d,h,o[f+0],7,-680876936),h=g(h,c,l,d,o[f+1],12,-389564586),d=g(d,h,c,l,o[f+2],17,606105819),l=g(l,d,h,c,o[f+3],22,-1044525330),c=g(c,l,d,h,o[f+4],7,-176418897),h=g(h,c,l,d,o[f+5],12,1200080426),d=g(d,h,c,l,o[f+6],17,-1473231341),l=g(l,d,h,c,o[f+7],22,-45705983),c=g(c,l,d,h,o[f+8],7,1770035416),h=g(h,c,l,d,o[f+9],12,-1958414417),d=g(d,h,c,l,o[f+10],17,-42063),l=g(l,d,h,c,o[f+11],22,-1990404162),c=g(c,l,d,h,o[f+12],7,1804603682),h=g(h,c,l,d,o[f+13],12,-40341101),d=g(d,h,c,l,o[f+14],17,-1502002290),l=g(l,d,h,c,o[f+15],22,1236535329),c=m(c,l,d,h,o[f+1],5,-165796510),h=m(h,c,l,d,o[f+6],9,-1069501632),d=m(d,h,c,l,o[f+11],14,643717713),l=m(l,d,h,c,o[f+0],20,-373897302),c=m(c,l,d,h,o[f+5],5,-701558691),h=m(h,c,l,d,o[f+10],9,38016083),d=m(d,h,c,l,o[f+15],14,-660478335),l=m(l,d,h,c,o[f+4],20,-405537848),c=m(c,l,d,h,o[f+9],5,568446438),h=m(h,c,l,d,o[f+14],9,-1019803690),d=m(d,h,c,l,o[f+3],14,-187363961),l=m(l,d,h,c,o[f+8],20,1163531501),c=m(c,l,d,h,o[f+13],5,-1444681467),h=m(h,c,l,d,o[f+2],9,-51403784),d=m(d,h,c,l,o[f+7],14,1735328473),l=m(l,d,h,c,o[f+12],20,-1926607734),c=y(c,l,d,h,o[f+5],4,-378558),h=y(h,c,l,d,o[f+8],11,-2022574463),d=y(d,h,c,l,o[f+11],16,1839030562),l=y(l,d,h,c,o[f+14],23,-35309556),c=y(c,l,d,h,o[f+1],4,-1530992060),h=y(h,c,l,d,o[f+4],11,1272893353),d=y(d,h,c,l,o[f+7],16,-155497632),l=y(l,d,h,c,o[f+10],23,-1094730640),c=y(c,l,d,h,o[f+13],4,681279174),h=y(h,c,l,d,o[f+0],11,-358537222),d=y(d,h,c,l,o[f+3],16,-722521979),l=y(l,d,h,c,o[f+6],23,76029189),c=y(c,l,d,h,o[f+9],4,-640364487),h=y(h,c,l,d,o[f+12],11,-421815835),d=y(d,h,c,l,o[f+15],16,530742520),l=y(l,d,h,c,o[f+2],23,-995338651),c=b(c,l,d,h,o[f+0],6,-198630844),h=b(h,c,l,d,o[f+7],10,1126891415),d=b(d,h,c,l,o[f+14],15,-1416354905),l=b(l,d,h,c,o[f+5],21,-57434055),c=b(c,l,d,h,o[f+12],6,1700485571),h=b(h,c,l,d,o[f+3],10,-1894986606),d=b(d,h,c,l,o[f+10],15,-1051523),l=b(l,d,h,c,o[f+1],21,-2054922799),c=b(c,l,d,h,o[f+8],6,1873313359),h=b(h,c,l,d,o[f+15],10,-30611744),d=b(d,h,c,l,o[f+6],15,-1560198380),l=b(l,d,h,c,o[f+13],21,1309151649),c=b(c,l,d,h,o[f+4],6,-145523070),h=b(h,c,l,d,o[f+11],10,-1120210379),d=b(d,h,c,l,o[f+2],15,718787259),l=b(l,d,h,c,o[f+9],21,-343485551),c=c+w>>>0,l=l+v>>>0,d=d+x>>>0,h=h+A>>>0}return e.endian([c,l,d,h])};s._ff=function(i,u,o,a,c,l,d){var h=i+(u&o|~u&a)+(c>>>0)+d;return(h<<l|h>>>32-l)+u},s._gg=function(i,u,o,a,c,l,d){var h=i+(u&a|o&~a)+(c>>>0)+d;return(h<<l|h>>>32-l)+u},s._hh=function(i,u,o,a,c,l,d){var h=i+(u^o^a)+(c>>>0)+d;return(h<<l|h>>>32-l)+u},s._ii=function(i,u,o,a,c,l,d){var h=i+(o^(u|~a))+(c>>>0)+d;return(h<<l|h>>>32-l)+u},s._blocksize=16,s._digestsize=16,W4.exports=function(i,u){if(i==null)throw new Error("Illegal argument "+i);var o=e.wordsToBytes(s(i,u));return u&&u.asBytes?o:u&&u.asString?r.bytesToString(o):e.bytesToHex(o)}})();var SK=W4.exports,_K=U&&U.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),AK=U&&U.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),TK=U&&U.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&_K(t,e,n);return AK(t,e),t},EK=U&&U.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Fo,"__esModule",{value:!0});Fo.randomId=void 0;const OK=x0,O2=TK(B4),IK=EK(SK);function NK(e){if(e){const t=(0,IK.default)(e),n=(0,OK.chunk)(t,2).map(r=>parseInt(r.join(""),16));return O2.v4({random:n})}else return O2.v4()}Fo.randomId=NK;var Cs={},D0={};Object.defineProperty(D0,"__esModule",{value:!0});D0.mutableFilter=void 0;function RK(e,t){let n=0;for(;!(n>=e.length);){const r=e[n];t(r)?n++:e.splice(n,1)}}D0.mutableFilter=RK;var M0={};Object.defineProperty(M0,"__esModule",{value:!0});M0.outdent=void 0;const kK=2;function CK(e){return e.replace(/\t/g," ".repeat(kK))}function DK(e){let t=0;for(const n of e)if(n===" ")t+=1;else return t;return t}function MK(e){let t=e.split(`
`).map(CK);t[0].trim()===""&&(t=t.slice(1)),t[t.length-1].trim()===""&&(t=t.slice(0,t.length-1));const n=t.map(DK),r=Math.min(...n);return t.map(i=>i.slice(r)).join(`
`)}M0.outdent=MK;var xu={},ou={};Object.defineProperty(ou,"__esModule",{value:!0});ou.MAX=ou.MIN=void 0;ou.MIN=null;ou.MAX=!0;var Jn={},Tc={};Object.defineProperty(Tc,"__esModule",{value:!0});Tc.isPlainObject=void 0;function PK(e){if(e===null||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);return t===Object.prototype||t===null}Tc.isPlainObject=PK;var P0={};const K4=2047,Y4=0xfffffffffffff;function jK({sign:e,exponent:t,mantissa:n}){if(e!==0&&e!==1)throw new Error(`Invalid value for sign: ${e}.`);if(typeof t!="number"||t<0||K4<t)throw new Error(`Invalid value for exponent: ${t}.`);if(typeof n!="number"||n<0||Y4<n)throw new Error(`Invalid value for mantissa: ${n}.`);const r=new ArrayBuffer(8),s=new Float64Array(r),i=new Uint8Array(r);return $K(e,i),UK(t,i),VK(n,i),s[0]}function LK(e){if(typeof e!="number")throw new Error(`Value is not of type number: ${e}.`);const t=new ArrayBuffer(8),n=new Float64Array(t),r=new Uint8Array(t);return n[0]=e,{sign:FK(r),exponent:BK(r),mantissa:qK(r)}}function FK(e){return Gs(e[7],7)}function $K(e,t){t[7]|=Hs(e,7)}function BK(e){let t=0;return t+=Hs(e[7]&127,4),t+=Gs(e[6],4),t}function UK(e,t){t[7]|=Gs(e,4),t[6]|=Hs(e&15,4)}function qK(e){let t=0;return t+=Hs(e[6]&15,48),t+=Hs(e[5],40),t+=Hs(e[4],32),t+=Hs(e[3],24),t+=Hs(e[2],16),t+=Hs(e[1],8),t+=e[0],t}function VK(e,t){t[6]|=Gs(e,48)&255,t[5]|=Gs(e,40)&255,t[4]|=Gs(e,32)&255,t[3]|=Gs(e,24)&255,t[2]|=Gs(e,16)&255,t[1]|=Gs(e,8)&255,t[0]|=e&255}function Hs(e,t){return e*Math.pow(2,t)}function Gs(e,t){return Math.floor(e/Math.pow(2,t))}var zK={MAX_EXPONENT:K4,MAX_MANTISSA:Y4,construct:jK,deconstruct:LK};/***
 * @license
 * https://github.com/ealmansi/elen
 * Copyright (c) 2017 Emilio Almansi
 * Distributed under the MIT software license, see the accompanying
 * file LICENSE or http://www.opensource.org/licenses/mit-license.php.
 */const Ki=zK,dx=";",Z4=">",eI="<";function HK(e){if(typeof e!="number")throw new Error(`Value is not of type number: ${e}.`);const{sign:t,exponent:n,mantissa:r}=Ki.deconstruct(e);let s="";return s+=t===1?eI:Z4,s+=dy(t===1?Ki.MAX_EXPONENT-n:n),s+=dy(t===1?Ki.MAX_MANTISSA-r:r),s}function dy(e){let t="";e>0&&(t+=dx);const n=e.toString();return n.length>1&&(t+=dy(n.length)),t+=n,t}function GK(e){if(typeof e!="string")throw new Error(`Value is not of type string: ${e}.`);const{signLength:t,sign:n}=JK(e,0),{exponentLength:r,exponent:s}=WK(e,n,t),{mantissaLength:i,mantissa:u}=QK(e,n,t+r);return ui(e.length===t+r+i,e),Ki.construct({sign:n,exponent:s,mantissa:u})}function JK(e,t){if(ui(t<e.length,e),e[t]===Z4)return{signLength:1,sign:0};if(e[t]===eI)return{signLength:1,sign:1};ui(!1,e)}function WK(e,t,n){if(ui(n<e.length,e),e[n]==="0")return{exponentLength:1,exponent:t===0?0:Ki.MAX_EXPONENT};let r=n,s=0,i,u;for(;e[r]===dx;)s=s+1,r=r+1;for(ui(s!==0,e),u=1;s>0;)i=u,u=Number.parseInt(e.substr(r,u)),ui(u>0,e),r=r+i,s=s-1;return{exponentLength:r-n,exponent:t===0?u:Ki.MAX_EXPONENT-u}}function QK(e,t,n){if(ui(n<e.length,e),e[n]==="0")return{mantissaLength:1,mantissa:t===0?0:Ki.MAX_MANTISSA};let r=n,s=0,i,u;for(;e[r]===dx;)s=s+1,r=r+1;for(ui(s!==0,e),u=1;s>0;)i=u,u=Number.parseInt(e.substr(r,u)),ui(u>0,e),r=r+i,s=s-1;return{mantissaLength:r-n,mantissa:t===0?u:Ki.MAX_MANTISSA-u}}function ui(e,t){if(!e)throw new Error(`Input is not a valid ELEN-encoded number: ${t}.`)}var XK={encode:HK,decode:GK},Wf={};Object.defineProperty(Wf,"__esModule",{value:!0});Wf.compare=void 0;function KK(e,t){return e>t?1:e<t?-1:0}Wf.compare=KK;var Qf={};Object.defineProperty(Qf,"__esModule",{value:!0});Qf.UnreachableError=void 0;class YK extends Error{constructor(t,n){super((n+": "||"Unreachable: ")+t)}}Qf.UnreachableError=YK;(function(e){var t=U&&U.__createBinding||(Object.create?function(b,w,v,x){x===void 0&&(x=v);var A=Object.getOwnPropertyDescriptor(w,v);(!A||("get"in A?!w.__esModule:A.writable||A.configurable))&&(A={enumerable:!0,get:function(){return w[v]}}),Object.defineProperty(b,x,A)}:function(b,w,v,x){x===void 0&&(x=v),b[x]=w[v]}),n=U&&U.__setModuleDefault||(Object.create?function(b,w){Object.defineProperty(b,"default",{enumerable:!0,value:w})}:function(b,w){b.default=w}),r=U&&U.__importStar||function(b){if(b&&b.__esModule)return b;var w={};if(b!=null)for(var v in b)v!=="default"&&Object.prototype.hasOwnProperty.call(b,v)&&t(w,b,v);return n(w,b),w};Object.defineProperty(e,"__esModule",{value:!0}),e.decodeTuple=e.encodeTuple=e.decodeValue=e.encodingTypeOf=e.encodeValue=e.encodingRank=e.encodingByte=void 0;const s=r(XK),i=x0,u=Tc,o=Wf,a=Qf;e.encodingByte={null:"b",object:"c",array:"d",number:"e",string:"f",boolean:"g"},e.encodingRank=new Map((0,i.sortBy)(Object.entries(e.encodingByte),([b,w])=>w).map(([b],w)=>[b,w]));function c(b,w){if(b===null)return e.encodingByte.null;if(b===!0||b===!1)return e.encodingByte.boolean+b;if(typeof b=="string"){for(const v of(w==null?void 0:w.disallow)??[])if(b.includes(v))throw new Error(`Disallowed character found: ${v}.`);return e.encodingByte.string+b}if(typeof b=="number")return e.encodingByte.number+s.encode(b);if(Array.isArray(b))return e.encodingByte.array+f(b,w);if(typeof b=="object")return e.encodingByte.object+m(b,w);throw new a.UnreachableError(b,"Unknown value type")}e.encodeValue=c;function l(b){if(b===null)return"null";if(b===!0||b===!1)return"boolean";if(typeof b=="string")return"string";if(typeof b=="number")return"number";if(Array.isArray(b))return"array";if(typeof b=="object")return"object";throw new a.UnreachableError(b,"Unknown value type")}e.encodingTypeOf=l;const d=(0,i.invert)(e.encodingByte);function h(b,w){const v=d[b[0]],x=b.slice(1);if(v==="null")return null;if(v==="boolean")return JSON.parse(x);if(v==="string")return x;if(v==="number")return s.decode(x);if(v==="array")return g(x,w);if(v==="object")return y(x,w);throw new a.UnreachableError(v,"Invalid encoding byte")}e.decodeValue=h;function f(b,w){const v=(w==null?void 0:w.delimiter)??"\0",x=(w==null?void 0:w.escape)??"",A=new RegExp(`${x}`,"g"),T=new RegExp(`${v}`,"g");return b.map((V,W)=>c(V,w).replace(A,x+x).replace(T,x+v)+v).join("")}e.encodeTuple=f;function g(b,w){if(b==="")return[];const v=(w==null?void 0:w.delimiter)??"\0",x=(w==null?void 0:w.escape)??"",A=new RegExp(`(${x}(${x}|${v})|${v})`,"g"),T=new RegExp(x+x,"g"),V=new RegExp(x+v,"g"),W=[];let te=0;for(;;){const _e=A.exec(b);if(_e===null)return W;if(_e[0][0]===x)continue;const H=_e.index,fe=b.slice(te,H);typeof fe!="string"&&console.log(fe);const tt=fe.replace(T,x).replace(V,v),rr=h(tt,w);W.push(rr),te=H+1}}e.decodeTuple=g;function m(b,w){if(!(0,u.isPlainObject)(b))throw new Error("Cannot serialize this object.");const v=Object.entries(b).sort(([x],[A])=>(0,o.compare)(x,A)).filter(([x,A])=>A!==void 0);return f(v,w)}function y(b,w){const v=g(b,w),x={};for(const[A,T]of v)x[A]=T;return x}})(P0);Object.defineProperty(Jn,"__esModule",{value:!0});Jn.TupleToString=Jn.ValueToString=j0=Jn.compareTuple=Jn.compareValue=void 0;const xm=Tc,Td=P0,ra=Wf,ZK=Qf;function Zh(e,t){const n=(0,Td.encodingTypeOf)(e),r=(0,Td.encodingTypeOf)(t);if(n===r){if(n==="array")return tI(e,t);if(n==="object")return e===t?0:(0,xm.isPlainObject)(e)?(0,xm.isPlainObject)(t)?eY(e,t):-1:((0,xm.isPlainObject)(t),1);if(n==="boolean")return(0,ra.compare)(e,t);if(n==="null")return 0;if(n==="number")return(0,ra.compare)(e,t);if(n==="string")return(0,ra.compare)(e,t);throw new ZK.UnreachableError(n)}return(0,ra.compare)(Td.encodingRank.get(n),Td.encodingRank.get(r))}Jn.compareValue=Zh;function eY(e,t){const n=Object.entries(e).filter(([i,u])=>u!==void 0).sort(([i],[u])=>(0,ra.compare)(i,u)),r=Object.entries(t).filter(([i,u])=>u!==void 0).sort(([i],[u])=>(0,ra.compare)(i,u)),s=Math.min(n.length,r.length);for(let i=0;i<s;i++){const[u,o]=n[i],[a,c]=r[i],l=Zh(u,a);if(l===0){const d=Zh(o,c);if(d===0)continue;return d}return l}return n.length>r.length?1:n.length<r.length?-1:0}function tI(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const s=Zh(e[r],t[r]);if(s!==0)return s}return e.length>t.length?1:e.length<t.length?-1:0}var j0=Jn.compareTuple=tI;function nI(e){return e===null?"null":JSON.stringify(e)}Jn.ValueToString=nI;function tY(e){return`[${e.map(nI).join(",")}]`}Jn.TupleToString=tY;var qn={},Yi={};Object.defineProperty(Yi,"__esModule",{value:!0});Yi.binarySearchAssociativeList=Yi.binarySearch=Yi.generalizedBinarySearch=void 0;function hx(e,t){return function(n,r){for(var s=0,i=n.length-1;s<=i;){var u=i+s>>1,o=t(r,e(n[u]));if(o>0)s=u+1;else if(o<0)i=u-1;else return{found:u}}return{closest:s}}}Yi.generalizedBinarySearch=hx;function nY(e,t,n){return hx(r=>r,n)(e,t)}Yi.binarySearch=nY;function rY(e,t,n){return hx(r=>r[0],n)(e,t)}Yi.binarySearchAssociativeList=rY;Object.defineProperty(qn,"__esModule",{value:!0});qn.scan=qn.remove=qn.exists=qn.get=qn.set=void 0;const $a=Yi;function sY(e,t,n){const r=(0,$a.binarySearch)(e,t,n);r.found!==void 0?e.splice(r.found,1,t):e.splice(r.closest,0,t)}qn.set=sY;function iY(e,t,n){const r=(0,$a.binarySearch)(e,t,n);if(r.found!==void 0)return e[r.found]}qn.get=iY;function uY(e,t,n){return(0,$a.binarySearch)(e,t,n).found!==void 0}qn.exists=uY;function oY(e,t,n){let{found:r}=(0,$a.binarySearch)(e,t,n);if(r!==void 0)return e.splice(r,1)[0]}qn.remove=oY;function aY(e,t,n){const r=t.gte||t.gt,s=t.lte||t.lt;if(r!==void 0&&s!==void 0&&n(r,s)>0)throw new Error("Invalid bounds.");let i,u;if(r===void 0)i=0;else{const c=(0,$a.binarySearch)(e,r,n);c.found===void 0?i=c.closest:t.gt?i=c.found+1:i=c.found}if(s===void 0)u=e.length;else{const c=(0,$a.binarySearch)(e,s,n);c.found===void 0?u=c.closest:t.lt?u=c.found:u=c.found+1}const o=t.reverse&&t.limit?Math.max(i,u-t.limit):i,a=!t.reverse&&t.limit?Math.min(i+t.limit,u):u;return t.reverse?e.slice(o,a).reverse():e.slice(o,a)}qn.scan=aY;(function(e){var t=U&&U.__createBinding||(Object.create?function(m,y,b,w){w===void 0&&(w=b);var v=Object.getOwnPropertyDescriptor(y,b);(!v||("get"in v?!y.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return y[b]}}),Object.defineProperty(m,w,v)}:function(m,y,b,w){w===void 0&&(w=b),m[w]=y[b]}),n=U&&U.__setModuleDefault||(Object.create?function(m,y){Object.defineProperty(m,"default",{enumerable:!0,value:y})}:function(m,y){m.default=y}),r=U&&U.__importStar||function(m){if(m&&m.__esModule)return m;var y={};if(m!=null)for(var b in m)b!=="default"&&Object.prototype.hasOwnProperty.call(m,b)&&t(y,m,b);return n(y,m),y};Object.defineProperty(e,"__esModule",{value:!0}),e.scan=e.isTupleWithinBounds=e.getPrefixContainingBounds=e.normalizeTupleBounds=e.MaxTuple=e.remove=e.exists=e.set=void 0;const s=x0,i=ou,u=Jn,o=r(qn);function a(m,y){return o.set(m,y,u.compareTuple)}e.set=a;function c(m,y){return o.exists(m,y,u.compareTuple)}e.exists=c;function l(m,y){return o.remove(m,y,u.compareTuple)}e.remove=l,e.MaxTuple=[i.MAX,i.MAX,i.MAX,i.MAX,i.MAX,i.MAX,i.MAX,i.MAX,i.MAX,i.MAX];function d(m){let y,b,w,v;return m.gte?m.prefix?y=[...m.prefix,...m.gte]:y=[...m.gte]:m.gt?m.prefix?b=[...m.prefix,...m.gt]:b=[...m.gt]:m.prefix&&(y=[...m.prefix]),m.lte?m.prefix?w=[...m.prefix,...m.lte]:w=[...m.lte]:m.lt?m.prefix?v=[...m.prefix,...m.lt]:v=[...m.lt]:m.prefix&&(w=[...m.prefix,...e.MaxTuple]),(0,s.omitBy)({gte:y,gt:b,lte:w,lt:v},x=>x===void 0)}e.normalizeTupleBounds=d;function h(m){const y=[],b=m.gt||m.gte||[],w=m.lt||m.lte||[],v=Math.min(b.length,w.length);for(let x=0;x<v&&b[x]===w[x];x++)y.push(b[x]);return y}e.getPrefixContainingBounds=h;function f(m,y){return!(y.gt&&(0,u.compareTuple)(m,y.gt)!==1||y.gte&&(0,u.compareTuple)(m,y.gte)===-1||y.lt&&(0,u.compareTuple)(m,y.lt)!==-1||y.lte&&(0,u.compareTuple)(m,y.lte)===1)}e.isTupleWithinBounds=f;function g(m,y={}){const{limit:b,reverse:w,...v}=y,x=d(v);return o.scan(m,{limit:b,reverse:w,...x},u.compareTuple)}e.scan=g})(xu);Object.defineProperty(Cs,"__esModule",{value:!0});Cs.ConcurrencyLog=Cs.ReadWriteConflictError=void 0;const I2=D0,cY=M0,vm=xu;class rI extends Error{constructor(t,n,r){const s=(0,cY.outdent)(`
      ReadWriteConflictError: ${t}
      Write to tuple ${n}
      conflicted with a read at the bounds ${JSON.stringify(r)}
    `);super(s)}}Cs.ReadWriteConflictError=rI;class lY{constructor(){this.log=[]}read(t,n){this.log.push({type:"read",txId:t,bounds:n})}write(t,n){for(const r of this.log)if(r.type==="read"&&(0,vm.isTupleWithinBounds)(n,r.bounds)){this.log.push({type:"write",tuple:n,txId:t});break}}commit(t){try{const n=[];for(const r of this.log)if(r.type==="read")r.txId===t&&n.push(r.bounds);else if(r.type==="write"){for(const s of n)if((0,vm.isTupleWithinBounds)(r.tuple,s))throw new rI(r.txId,r.tuple,s)}}finally{this.cleanupReads(t),this.cleanupWrites()}}cancel(t){this.cleanupReads(t),this.cleanupWrites()}cleanupReads(t){(0,I2.mutableFilter)(this.log,n=>!(n.txId===t&&n.type==="read"))}cleanupWrites(){const t=[];(0,I2.mutableFilter)(this.log,n=>{if(n.type==="read")return t.push(n.bounds),!0;for(const r of t)if((0,vm.isTupleWithinBounds)(n.tuple,r))return!0;return!1})}}Cs.ConcurrencyLog=lY;var L0={},Xf={};Object.defineProperty(Xf,"__esModule",{value:!0});Xf.maybePromiseAll=void 0;function fY(e){return e.some(t=>t instanceof Promise)?Promise.all(e.map(t=>t instanceof Promise?t.catch(n=>console.error(n)):t)):e}Xf.maybePromiseAll=fY;var dY=U&&U.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),hY=U&&U.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),pY=U&&U.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&dY(t,e,n);return hY(t,e),t};Object.defineProperty(L0,"__esModule",{value:!0});L0.AsyncReactivityTracker=void 0;const gY=Xf,N2=pY(xu);class mY{constructor(){this.listeners=new Map}subscribe(t,n){return bY(this.listeners,t,n)}computeReactivityEmits(t){return yY(this.listeners,t)}async emit(t,n){let r=[];for(const[s,i]of t.entries())try{r.push(s(i,n))}catch(u){console.error(u)}return(0,gY.maybePromiseAll)(r)}}L0.AsyncReactivityTracker=mY;function yY(e,t){const n=new Map;for(const[r,s]of e){const i=[],u=[];for(const o of t.set||[])N2.isTupleWithinBounds(o.key,s)&&i.push(o);for(const o of t.remove||[])N2.isTupleWithinBounds(o,s)&&u.push(o);(i.length>0||u.length>0)&&n.set(r,{set:i,remove:u})}return n}function bY(e,t,n){return e.set(n,t),()=>{e.delete(n)}}Object.defineProperty(b0,"__esModule",{value:!0});b0.AsyncTupleDatabase=void 0;const wY=wo,xY=Fo,vY=Cs,SY=L0;class _Y{constructor(t){this.storage=t,this.log=new vY.ConcurrencyLog,this.reactivity=new SY.AsyncReactivityTracker}async scan(t={},n){const{reverse:r,limit:s,...i}=t;return n&&this.log.read(n,i),this.storage.scan({...i,reverse:r,limit:s})}async subscribe(t,n){return this.reactivity.subscribe(t,n)}async commit(t,n){const r=this.reactivity.computeReactivityEmits(t);n&&this.log.commit(n);for(const s of(0,wY.iterateWrittenTuples)(t))this.log.write(n,s);return await this.storage.commit(t),this.reactivity.emit(r,n||(0,xY.randomId)())}async cancel(t){this.log.cancel(t)}async close(){await this.storage.close()}}b0.AsyncTupleDatabase=_Y;var Bs={},Kt={},AY=U&&U.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),TY=U&&U.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),EY=U&&U.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&AY(t,e,n);return TY(t,e),t};Object.defineProperty(Kt,"__esModule",{value:!0});Kt.scan=Kt.exists=Kt.get=Kt.remove=Kt.set=Kt.compareTupleValuePair=void 0;const sI=Jn,Kf=EY(qn),OY=xu;function Ec(e,t){return(0,sI.compareTuple)(e.key,t.key)}Kt.compareTupleValuePair=Ec;function F0(e,t){return(0,sI.compareTuple)(e.key,t.key)*-1}function IY(e,t,n,r=!1){return Kf.set(e,{key:t,value:n},r?F0:Ec)}Kt.set=IY;function NY(e,t,n=!1){return Kf.remove(e,{key:t,value:null},n?F0:Ec)}Kt.remove=NY;function RY(e,t,n=!1){const r=Kf.get(e,{key:t,value:null},n?F0:Ec);if(r!==void 0)return r.value}Kt.get=RY;function kY(e,t,n=!1){return Kf.exists(e,{key:t,value:null},n?F0:Ec)}Kt.exists=kY;function CY(e){const t=(0,OY.normalizeTupleBounds)(e),{gt:n,lt:r,gte:s,lte:i}=t;return{gt:n?{key:n,value:null}:void 0,gte:s?{key:s,value:null}:void 0,lt:r?{key:r,value:null}:void 0,lte:i?{key:i,value:null}:void 0}}function DY(e,t={}){const{limit:n,reverse:r,...s}=t,i=CY(s);return Kf.scan(e,{limit:n,reverse:r,...i},Ec)}Kt.scan=DY;var gn={};Object.defineProperty(gn,"__esModule",{value:!0});gn.normalizeSubspaceScanArgs=gn.removePrefixFromTupleValuePairs=gn.removePrefixFromTuple=gn.removePrefixFromWriteOps=gn.prependPrefixToWriteOps=gn.prependPrefixToTuple=void 0;const iI=x0,MY=xu;function px(e,t){return e.length?[...e,...t]:t}gn.prependPrefixToTuple=px;function PY(e,t){return e.length?t.map(n=>px(e,n)):t}function jY(e,t){if(!e.length)return t;const{key:n,value:r}=t;return{key:px(e,n),value:r}}function LY(e,t){return e.length?t.map(n=>jY(e,n)):t}function FY(e,t){if(!e.length)return t;const n=t.set?LY(e,t.set):void 0,r=t.remove?PY(e,t.remove):void 0;return{set:n,remove:r}}gn.prependPrefixToWriteOps=FY;function $Y(e,t){if(!e.length)return t;const n=t.set?uI(e,t.set):void 0,r=t.remove?BY(e,t.remove):void 0;return{set:n,remove:r}}gn.removePrefixFromWriteOps=$Y;function gx(e,t){if(!e.length)return t;if(!(0,iI.equals)(t.slice(0,e.length),e))throw new Error("Invalid prefix: "+JSON.stringify({prefix:e,tuple:t}));return t.slice(e.length)}gn.removePrefixFromTuple=gx;function BY(e,t){return e.length?t.map(n=>gx(e,n)):t}function UY(e,t){if(!e.length)return t;const{key:n,value:r}=t;return{key:gx(e,n),value:r}}function uI(e,t){return e.length?t.map(n=>UY(e,n)):t}gn.removePrefixFromTupleValuePairs=uI;function qY(e,t){const n=t.prefix?[...e,...t.prefix]:e,r=(0,MY.normalizeTupleBounds)({...t,prefix:n}),{limit:s,reverse:i}=t;return(0,iI.omitBy)({...r,limit:s,reverse:i},u=>u===void 0)}gn.normalizeSubspaceScanArgs=qY;var R2;function aI(){if(R2)return Bs;R2=1;var e=U&&U.__createBinding||(Object.create?function(d,h,f,g){g===void 0&&(g=f);var m=Object.getOwnPropertyDescriptor(h,f);(!m||("get"in m?!h.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return h[f]}}),Object.defineProperty(d,g,m)}:function(d,h,f,g){g===void 0&&(g=f),d[g]=h[f]}),t=U&&U.__setModuleDefault||(Object.create?function(d,h){Object.defineProperty(d,"default",{enumerable:!0,value:h})}:function(d,h){d.default=h}),n=U&&U.__importStar||function(d){if(d&&d.__esModule)return d;var h={};if(d!=null)for(var f in d)f!=="default"&&Object.prototype.hasOwnProperty.call(d,f)&&e(h,d,f);return t(h,d),h};Object.defineProperty(Bs,"__esModule",{value:!0}),Bs.AsyncTupleSubspaceTransaction=Bs.AsyncTupleRootTransaction=Bs.AsyncTupleDatabaseClient=void 0;const r=Fo,s=n(xu),i=n(Kt),u=gn,o=mx();let a=class oI{constructor(h,f=[]){this.db=h,this.subspacePrefix=f}async scan(h={},f){const g=(0,u.normalizeSubspaceScanArgs)(this.subspacePrefix,h),m=await this.db.scan(g,f);return(0,u.removePrefixFromTupleValuePairs)(this.subspacePrefix,m)}async subscribe(h,f){const g=(0,u.normalizeSubspaceScanArgs)(this.subspacePrefix,h);return this.db.subscribe(g,(m,y)=>f((0,u.removePrefixFromWriteOps)(this.subspacePrefix,m),y))}async commit(h,f){const g=(0,u.prependPrefixToWriteOps)(this.subspacePrefix,h);await this.db.commit(g,f)}async cancel(h){return this.db.cancel(h)}async get(h,f){const g=await this.scan({gte:h,lte:h},f);if(g.length===0)return;if(g.length>1)throw new Error("Get expects only one value.");return g[0].value}async exists(h,f){const g=await this.scan({gte:h,lte:h},f);return g.length===0?!1:g.length>=1}subspace(h){const f=[...this.subspacePrefix,...h];return new oI(this.db,f)}transact(h,f){const g=h||(0,r.randomId)();return new c(this.db,this.subspacePrefix,g,f)}async close(){return this.db.close()}};Bs.AsyncTupleDatabaseClient=a;class c{constructor(h,f,g,m){this.db=h,this.subspacePrefix=f,this.id=g,this.committed=!1,this.canceled=!1,this.setsDirty=!1,this.removesDirty=!1,this.writes={set:[],remove:[],...m}}cleanWrites(){this.cleanSets(),this.cleanRemoves()}cleanSets(){this.setsDirty&&(this.writes.set=this.writes.set.sort(i.compareTupleValuePair),this.setsDirty=!1)}cleanRemoves(){this.removesDirty&&(this.writes.remove=this.writes.remove.sort(o.compareTuple),this.removesDirty=!1)}checkActive(){if(this.committed)throw new Error("Transaction already committed");if(this.canceled)throw new Error("Transaction already canceled")}async scan(h={}){this.checkActive(),this.cleanWrites();const{limit:f,...g}=(0,u.normalizeSubspaceScanArgs)(this.subspacePrefix,h),m=i.scan(this.writes.set,g),y=s.scan(this.writes.remove,g),b=f?f+y.length:void 0,w=await this.db.scan({...g,limit:b},this.id),v=(0,u.removePrefixFromTupleValuePairs)(this.subspacePrefix,w);for(const{key:x,value:A}of m){const T=(0,u.removePrefixFromTuple)(this.subspacePrefix,x);i.set(v,T,A,g.reverse)}for(const x of y){const A=(0,u.removePrefixFromTuple)(this.subspacePrefix,x);i.remove(v,A,g.reverse)}return f&&v.length>f&&v.splice(f,v.length),v}async get(h){this.checkActive(),this.cleanWrites();const f=(0,u.prependPrefixToTuple)(this.subspacePrefix,h);if(i.exists(this.writes.set,f))return i.get(this.writes.set,f);if(s.exists(this.writes.remove,f))return;const g=await this.db.scan({gte:f,lte:f},this.id);if(g.length===0)return;if(g.length>1)throw new Error("Get expects only one value.");return g[0].value}async exists(h){this.checkActive(),this.cleanWrites();const f=(0,u.prependPrefixToTuple)(this.subspacePrefix,h);if(i.exists(this.writes.set,f))return!0;if(s.exists(this.writes.remove,f))return!1;const g=await this.db.scan({gte:f,lte:f},this.id);return g.length===0?!1:g.length>=1}set(h,f){this.checkActive(),this.cleanRemoves();const g=(0,u.prependPrefixToTuple)(this.subspacePrefix,h);return s.remove(this.writes.remove,g),this.writes.set.push({key:g,value:f}),this.setsDirty=!0,this}remove(h){this.checkActive(),this.cleanSets();const f=(0,u.prependPrefixToTuple)(this.subspacePrefix,h);return i.remove(this.writes.set,f),this.writes.remove.push(f),this.removesDirty=!0,this}write(h){this.checkActive();const{set:f,remove:g}=h;for(const m of g||[])this.remove(m);for(const{key:m,value:y}of f||[])this.set(m,y);return this}async commit(){return this.checkActive(),this.committed=!0,this.db.commit(this.writes,this.id)}async cancel(){return this.checkActive(),this.canceled=!0,this.db.cancel(this.id)}subspace(h){return this.checkActive(),new l(this,h)}}Bs.AsyncTupleRootTransaction=c;class l{constructor(h,f){this.tx=h,this.subspacePrefix=f}async scan(h={}){const f=(0,u.normalizeSubspaceScanArgs)(this.subspacePrefix,h),g=await this.tx.scan(f);return(0,u.removePrefixFromTupleValuePairs)(this.subspacePrefix,g)}async get(h){const f=(0,u.prependPrefixToTuple)(this.subspacePrefix,h);return this.tx.get(f)}async exists(h){const f=(0,u.prependPrefixToTuple)(this.subspacePrefix,h);return this.tx.exists(f)}set(h,f){const g=(0,u.prependPrefixToTuple)(this.subspacePrefix,h);return this.tx.set(g,f),this}remove(h){const f=(0,u.prependPrefixToTuple)(this.subspacePrefix,h);return this.tx.remove(f),this}write(h){const{set:f,remove:g}=h;for(const m of g||[])this.remove(m);for(const{key:m,value:y}of f||[])this.set(m,y);return this}subspace(h){return new l(this.tx,[...this.subspacePrefix,...h])}}return Bs.AsyncTupleSubspaceTransaction=l,Bs}var cI={};Object.defineProperty(cI,"__esModule",{value:!0});var qc={},Yf={};Object.defineProperty(Yf,"__esModule",{value:!0});Yf.isEmptyWrites=void 0;function VY(e){var t,n;return!((t=e.remove)!=null&&t.length||(n=e.set)!=null&&n.length)}Yf.isEmptyWrites=VY;var Zf={};Object.defineProperty(Zf,"__esModule",{value:!0});Zf.Queue=void 0;class zY{enqueue(t){if(this.currentPromise){const r=this.currentPromise.then(t).then(s=>(this.currentPromise===r&&(this.currentPromise=void 0),s));return this.currentPromise=r,r}const n=t();if(n instanceof Promise){const r=n.then(s=>(this.currentPromise===r&&(this.currentPromise=void 0),s));return this.currentPromise=r,r}return n}}Zf.Queue=zY;var k2;function HY(){if(k2)return qc;k2=1,Object.defineProperty(qc,"__esModule",{value:!0}),qc.subscribeQueryAsync=void 0;const e=Yf,t=Zf,n=aI(),r=()=>{throw new Error};async function s(i,u,o){let a=!1;const c=new Set,l=()=>u(m),d=()=>{c.forEach(w=>w()),c.clear()};let h;const f=async w=>{if(a||w===h)return;h=w,d();const v=await l();o(v)},g=new t.Queue,m=new n.AsyncTupleDatabaseClient({scan:async(w,v)=>{const x=await i.subscribe(w,async(T,V)=>g.enqueue(()=>f(V)));return c.add(x),await i.scan(w)},cancel:async w=>{await i.cancel(w)},commit:async(w,v)=>{if(!(0,e.isEmptyWrites)(w))throw new Error("No writing in a subscribeQueryAsync.");await i.commit({},v)},subscribe:r,close:r});return{result:await l(),destroy:()=>{d(),a=!0}}}return qc.subscribeQueryAsync=s,qc}var $0={},Oc={};Object.defineProperty(Oc,"__esModule",{value:!0});Oc.retry=void 0;const GY=Cs;function JY(e,t){for(;;)try{return t()}catch(n){if(e<=0||!(n instanceof GY.ReadWriteConflictError))throw n;e-=1}}Oc.retry=JY;Object.defineProperty($0,"__esModule",{value:!0});$0.transactionalReadAsync=void 0;const WY=Oc;function QY(e=5){return function(t){return function(n,...r){return"transact"in n?(0,WY.retry)(e,()=>{const s=n.transact(),i=t(s,...r);return s.commit(),i}):t(n,...r)}}}$0.transactionalReadAsync=QY;var Ba={},B0={};Object.defineProperty(B0,"__esModule",{value:!0});B0.retryAsync=void 0;const XY=Cs,KY=1e3,YY=10;async function ZY(e,t,n={}){let r=0,s=0;const{exponentialBackoff:i,jitter:u}=n,o=n.backoffBase??YY,a=n.maxDelay??KY;for(;;)try{return s+=1,await t()}catch(c){if(e<=0||!(c instanceof XY.ReadWriteConflictError))throw c;i&&(r=Math.min(o*2**s,a)),u&&(r=eZ(0,r||a)),e-=1,r&&await new Promise(d=>setTimeout(d,r))}}B0.retryAsync=ZY;function eZ(e,t){return Math.floor(Math.random()*(t-e+1)+e)}Object.defineProperty(Ba,"__esModule",{value:!0});Ba.transactionalAsyncQuery=Ba.transactionalReadWriteAsync=void 0;const tZ=B0;function lI(e=5,t={}){return function(n){return async function(r,...s){return"transact"in r?await(0,tZ.retryAsync)(e,async()=>{const i=r.transact(),u=await n(i,...s);return await i.commit(),u},t):n(r,...s)}}}Ba.transactionalReadWriteAsync=lI;Ba.transactionalAsyncQuery=lI;var Vc={},Us={},C2;function dI(){if(C2)return Us;C2=1;var e=U&&U.__createBinding||(Object.create?function(d,h,f,g){g===void 0&&(g=f);var m=Object.getOwnPropertyDescriptor(h,f);(!m||("get"in m?!h.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return h[f]}}),Object.defineProperty(d,g,m)}:function(d,h,f,g){g===void 0&&(g=f),d[g]=h[f]}),t=U&&U.__setModuleDefault||(Object.create?function(d,h){Object.defineProperty(d,"default",{enumerable:!0,value:h})}:function(d,h){d.default=h}),n=U&&U.__importStar||function(d){if(d&&d.__esModule)return d;var h={};if(d!=null)for(var f in d)f!=="default"&&Object.prototype.hasOwnProperty.call(d,f)&&e(h,d,f);return t(h,d),h};Object.defineProperty(Us,"__esModule",{value:!0}),Us.TupleSubspaceTransaction=Us.TupleRootTransaction=Us.TupleDatabaseClient=void 0;const r=Fo,s=n(xu),i=n(Kt),u=gn,o=mx();let a=class fI{constructor(h,f=[]){this.db=h,this.subspacePrefix=f}scan(h={},f){const g=(0,u.normalizeSubspaceScanArgs)(this.subspacePrefix,h),m=this.db.scan(g,f);return(0,u.removePrefixFromTupleValuePairs)(this.subspacePrefix,m)}subscribe(h,f){const g=(0,u.normalizeSubspaceScanArgs)(this.subspacePrefix,h);return this.db.subscribe(g,(m,y)=>f((0,u.removePrefixFromWriteOps)(this.subspacePrefix,m),y))}commit(h,f){const g=(0,u.prependPrefixToWriteOps)(this.subspacePrefix,h);this.db.commit(g,f)}cancel(h){return this.db.cancel(h)}get(h,f){const g=this.scan({gte:h,lte:h},f);if(g.length===0)return;if(g.length>1)throw new Error("Get expects only one value.");return g[0].value}exists(h,f){const g=this.scan({gte:h,lte:h},f);return g.length===0?!1:g.length>=1}subspace(h){const f=[...this.subspacePrefix,...h];return new fI(this.db,f)}transact(h,f){const g=h||(0,r.randomId)();return new c(this.db,this.subspacePrefix,g,f)}close(){return this.db.close()}};Us.TupleDatabaseClient=a;class c{constructor(h,f,g,m){this.db=h,this.subspacePrefix=f,this.id=g,this.committed=!1,this.canceled=!1,this.setsDirty=!1,this.removesDirty=!1,this.writes={set:[],remove:[],...m}}cleanWrites(){this.cleanSets(),this.cleanRemoves()}cleanSets(){this.setsDirty&&(this.writes.set=this.writes.set.sort(i.compareTupleValuePair),this.setsDirty=!1)}cleanRemoves(){this.removesDirty&&(this.writes.remove=this.writes.remove.sort(o.compareTuple),this.removesDirty=!1)}checkActive(){if(this.committed)throw new Error("Transaction already committed");if(this.canceled)throw new Error("Transaction already canceled")}scan(h={}){this.checkActive(),this.cleanWrites();const{limit:f,...g}=(0,u.normalizeSubspaceScanArgs)(this.subspacePrefix,h),m=i.scan(this.writes.set,g),y=s.scan(this.writes.remove,g),b=f?f+y.length:void 0,w=this.db.scan({...g,limit:b},this.id),v=(0,u.removePrefixFromTupleValuePairs)(this.subspacePrefix,w);for(const{key:x,value:A}of m){const T=(0,u.removePrefixFromTuple)(this.subspacePrefix,x);i.set(v,T,A,g.reverse)}for(const x of y){const A=(0,u.removePrefixFromTuple)(this.subspacePrefix,x);i.remove(v,A,g.reverse)}return f&&v.length>f&&v.splice(f,v.length),v}get(h){this.checkActive(),this.cleanWrites();const f=(0,u.prependPrefixToTuple)(this.subspacePrefix,h);if(i.exists(this.writes.set,f))return i.get(this.writes.set,f);if(s.exists(this.writes.remove,f))return;const g=this.db.scan({gte:f,lte:f},this.id);if(g.length===0)return;if(g.length>1)throw new Error("Get expects only one value.");return g[0].value}exists(h){this.checkActive(),this.cleanWrites();const f=(0,u.prependPrefixToTuple)(this.subspacePrefix,h);if(i.exists(this.writes.set,f))return!0;if(s.exists(this.writes.remove,f))return!1;const g=this.db.scan({gte:f,lte:f},this.id);return g.length===0?!1:g.length>=1}set(h,f){this.checkActive(),this.cleanRemoves();const g=(0,u.prependPrefixToTuple)(this.subspacePrefix,h);return s.remove(this.writes.remove,g),this.writes.set.push({key:g,value:f}),this.setsDirty=!0,this}remove(h){this.checkActive(),this.cleanSets();const f=(0,u.prependPrefixToTuple)(this.subspacePrefix,h);return i.remove(this.writes.set,f),this.writes.remove.push(f),this.removesDirty=!0,this}write(h){this.checkActive();const{set:f,remove:g}=h;for(const m of g||[])this.remove(m);for(const{key:m,value:y}of f||[])this.set(m,y);return this}commit(){return this.checkActive(),this.committed=!0,this.db.commit(this.writes,this.id)}cancel(){return this.checkActive(),this.canceled=!0,this.db.cancel(this.id)}subspace(h){return this.checkActive(),new l(this,h)}}Us.TupleRootTransaction=c;class l{constructor(h,f){this.tx=h,this.subspacePrefix=f}scan(h={}){const f=(0,u.normalizeSubspaceScanArgs)(this.subspacePrefix,h),g=this.tx.scan(f);return(0,u.removePrefixFromTupleValuePairs)(this.subspacePrefix,g)}get(h){const f=(0,u.prependPrefixToTuple)(this.subspacePrefix,h);return this.tx.get(f)}exists(h){const f=(0,u.prependPrefixToTuple)(this.subspacePrefix,h);return this.tx.exists(f)}set(h,f){const g=(0,u.prependPrefixToTuple)(this.subspacePrefix,h);return this.tx.set(g,f),this}remove(h){const f=(0,u.prependPrefixToTuple)(this.subspacePrefix,h);return this.tx.remove(f),this}write(h){const{set:f,remove:g}=h;for(const m of g||[])this.remove(m);for(const{key:m,value:y}of f||[])this.set(m,y);return this}subspace(h){return new l(this.tx,[...this.subspacePrefix,...h])}}return Us.TupleSubspaceTransaction=l,Us}var D2;function nZ(){if(D2)return Vc;D2=1,Object.defineProperty(Vc,"__esModule",{value:!0}),Vc.subscribeQuery=void 0;const e=Yf,t=Zf,n=dI(),r=()=>{throw new Error};function s(i,u,o){let a=!1;const c=new Set,l=()=>u(m),d=()=>{c.forEach(w=>w()),c.clear()};let h;const f=w=>{if(a||w===h)return;h=w,d();const v=l();o(v)},g=new t.Queue,m=new n.TupleDatabaseClient({scan:(w,v)=>{const x=i.subscribe(w,(T,V)=>g.enqueue(()=>f(V)));return c.add(x),i.scan(w)},cancel:w=>{i.cancel(w)},commit:(w,v)=>{if(!(0,e.isEmptyWrites)(w))throw new Error("No writing in a subscribeQuery.");i.commit({},v)},subscribe:r,close:r});return{result:l(),destroy:()=>{d(),a=!0}}}return Vc.subscribeQuery=s,Vc}var U0={};Object.defineProperty(U0,"__esModule",{value:!0});U0.transactionalRead=void 0;const rZ=Oc;function sZ(e=5){return function(t){return function(n,...r){return"transact"in n?(0,rZ.retry)(e,()=>{const s=n.transact(),i=t(s,...r);return s.commit(),i}):t(n,...r)}}}U0.transactionalRead=sZ;var Ua={},q0={};Object.defineProperty(q0,"__esModule",{value:!0});q0.retry=void 0;const iZ=Cs,uZ=1e3,oZ=10;function aZ(e,t,n={}){let r=0,s=0;const{exponentialBackoff:i,jitter:u}=n,o=n.backoffBase??oZ,a=n.maxDelay??uZ;for(;;)try{return s+=1,t()}catch(c){if(e<=0||!(c instanceof iZ.ReadWriteConflictError))throw c;i&&(r=Math.min(o*2**s,a)),u&&(r=cZ(0,r||a)),e-=1,r&&new Promise(d=>setTimeout(d,r))}}q0.retry=aZ;function cZ(e,t){return Math.floor(Math.random()*(t-e+1)+e)}Object.defineProperty(Ua,"__esModule",{value:!0});Ua.transactionalQuery=Ua.transactionalReadWrite=void 0;const lZ=q0;function hI(e=5,t={}){return function(n){return function(r,...s){return"transact"in r?(0,lZ.retry)(e,()=>{const i=r.transact(),u=n(i,...s);return i.commit(),u},t):n(r,...s)}}}Ua.transactionalReadWrite=hI;Ua.transactionalQuery=hI;var V0={},z0={},fZ=U&&U.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),dZ=U&&U.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),hZ=U&&U.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&fZ(t,e,n);return dZ(t,e),t};Object.defineProperty(z0,"__esModule",{value:!0});z0.ReactivityTracker=void 0;const pZ=Xf,M2=hZ(xu);class gZ{constructor(){this.listeners=new Map}subscribe(t,n){return yZ(this.listeners,t,n)}computeReactivityEmits(t){return mZ(this.listeners,t)}emit(t,n){let r=[];for(const[s,i]of t.entries())try{r.push(s(i,n))}catch(u){console.error(u)}return(0,pZ.maybePromiseAll)(r)}}z0.ReactivityTracker=gZ;function mZ(e,t){const n=new Map;for(const[r,s]of e){const i=[],u=[];for(const o of t.set||[])M2.isTupleWithinBounds(o.key,s)&&i.push(o);for(const o of t.remove||[])M2.isTupleWithinBounds(o,s)&&u.push(o);(i.length>0||u.length>0)&&n.set(r,{set:i,remove:u})}return n}function yZ(e,t,n){return e.set(n,t),()=>{e.delete(n)}}Object.defineProperty(V0,"__esModule",{value:!0});V0.TupleDatabase=void 0;const bZ=wo,wZ=Fo,xZ=Cs,vZ=z0;class SZ{constructor(t){this.storage=t,this.log=new xZ.ConcurrencyLog,this.reactivity=new vZ.ReactivityTracker}scan(t={},n){const{reverse:r,limit:s,...i}=t;return n&&this.log.read(n,i),this.storage.scan({...i,reverse:r,limit:s})}subscribe(t,n){return this.reactivity.subscribe(t,n)}commit(t,n){const r=this.reactivity.computeReactivityEmits(t);n&&this.log.commit(n);for(const s of(0,bZ.iterateWrittenTuples)(t))this.log.write(n,s);return this.storage.commit(t),this.reactivity.emit(r,n||(0,wZ.randomId)())}cancel(t){this.log.cancel(t)}close(){this.storage.close()}}V0.TupleDatabase=SZ;var pI={};Object.defineProperty(pI,"__esModule",{value:!0});var H0={};Object.defineProperty(H0,"__esModule",{value:!0});H0.transactionalWrite=void 0;const _Z=Oc;function AZ(e=5){return function(t){return function(n,...r){return"set"in n?t(n,...r):(0,_Z.retry)(e,()=>{const s=n.transact(),i=t(s,...r);return s.commit(),i})}}}H0.transactionalWrite=AZ;var gI={};Object.defineProperty(gI,"__esModule",{value:!0});var G0={};Object.defineProperty(G0,"__esModule",{value:!0});G0.namedTupleToObject=void 0;const TZ=Tc;function EZ(e){return(0,TZ.isPlainObject)(e)}function OZ(e){return e.filter(EZ).reduce((n,r)=>Object.assign(n,r),{})}G0.namedTupleToObject=OZ;var J0={},IZ=U&&U.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),NZ=U&&U.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),RZ=U&&U.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&IZ(t,e,n);return NZ(t,e),t};Object.defineProperty(J0,"__esModule",{value:!0});J0.InMemoryTupleStorage=void 0;const Sm=RZ(Kt);class kZ{constructor(t){this.data=t||[]}scan(t){return Sm.scan(this.data,t)}commit(t){const{set:n,remove:r}=t;for(const s of r||[])Sm.remove(this.data,s);for(const{key:s,value:i}of n||[])Sm.set(this.data,s,i)}close(){}}J0.InMemoryTupleStorage=kZ;var P2;function mx(){return P2||(P2=1,function(e){var t=U&&U.__createBinding||(Object.create?function(s,i,u,o){o===void 0&&(o=u);var a=Object.getOwnPropertyDescriptor(i,u);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[u]}}),Object.defineProperty(s,o,a)}:function(s,i,u,o){o===void 0&&(o=u),s[o]=i[u]}),n=U&&U.__exportStar||function(s,i){for(var u in s)u!=="default"&&!Object.prototype.hasOwnProperty.call(i,u)&&t(i,s,u)};Object.defineProperty(e,"__esModule",{value:!0}),e.compareTuple=void 0,n(b0,e),n(aI(),e),n(cI,e),n(HY(),e),n($0,e),n(Ba,e),n(nZ(),e),n(U0,e),n(Ua,e),n(V0,e),n(dI(),e),n(pI,e),n(H0,e),n(gI,e),n(G0,e),n(J0,e),n(ou,e);var r=Jn;Object.defineProperty(e,"compareTuple",{enumerable:!0,get:function(){return r.compareTuple}}),n(P0,e)}(pm)),pm}var ue=mx();function au(e){return e instanceof Array&&e.length===3&&typeof e[0]=="string"&&typeof e[1]=="string"}function Ds(e){return e instanceof Object&&"mod"in e}function xi(e){return e instanceof Object&&"exists"in e}function ed(e){return e instanceof Object&&"type"in e&&e.type==="relationshipExists"}function W0(e){return typeof e=="boolean"}class Q0{constructor(t){k(this,"data",{});k(this,"triples",{});k(this,"tripleHistory",{});t&&(this.data=t.data??{},this.triples=t.triples.reduce((n,r)=>(n["/"+r.attribute.join("/")]=r,n),{}))}applyTriple(t){const{attribute:n,value:r,timestamp:s,expired:i}=t;let u=i?void 0:r;if(Array.isArray(u)&&(u=[...u]),n[0]==="_collection"){const d="/_collection";return ps.Set(this.data,d,u,s),this.triples[d]=t,this.tripleHistory[d]?this.tripleHistory[d].push(t):this.tripleHistory[d]=[t],!0}const[o,...a]=n,l="/"+a.map(d=>d.toString().replaceAll("/","~")).join("/");this.tripleHistory[l]?this.tripleHistory[l].push(t):this.tripleHistory[l]=[t];for(let d=0;d<a.length;d++)if(typeof a[d]=="number"){const f="/"+a.slice(0,d).join("/");ps.Get(this.data,f)||ps.Set(this.data,f,[],s)}{let d="/";for(let h=0;h<a.length;h++){d+=a[h];const f=ps.Get(this.data,d);if(f&&Ts(s,f[1])<0)return!1;d+="/"}}if(u==="{}"){const d=ps.Get(this.data,l);if(d===void 0)u={};else{const h=mI(d,s);h?u=h[0]:u={}}}return ps.Set(this.data,l,u,s),this.triples[l]=t,!0}}function mI(e,t){if(typeof e[0]=="object"&&e[0]!==null){const[n,r]=e;for(const s in n){const i=n[s];mI(i,t)||delete n[s]}return Object.keys(n).length===0&&Ts(r,t)===-1?void 0:[n,r]}if(Ts(e[1],t)!==-1)return e}var ps;(function(e){function t(o){return o.indexOf("~")===-1?o:o.replace(/~1/g,"/").replace(/~0/g,"~")}function*n(o){if(o==="")throw new Error(`Invalid pointer: "${o}"`);let[a,c]=[0,0];for(let l=0;l<o.length;l++)o.charAt(l)==="/"?(l===0||(c=l,yield t(o.slice(a,c))),a=l+1):c=l;yield t(o.slice(a))}e.Format=n;function r(o,a,c,l){if(a==="")throw new Error(`ValuePointerRootSetError - (${JSON.stringify(o)}, ${a}, ${JSON.stringify([c,l])})`);let[d,h,f]=[null,o,""];for(const g of n(a)){if(c===void 0&&h===void 0)return;h===void 0&&(h={},d[f][0]=h),h[g]===void 0&&(h[g]=[{},void 0]),d=h,h=h[g][0],f=g}d[f]=[c,l]}e.Set=r;function s(o,a){throw new Error("EntityPointer.Delete() is not implemented")}e.Delete=s;function i(o,a){throw new Error("EntityPointer.Has() is not implemented")}e.Has=i;function u(o,a){var d;if(a==="")return o;let c=o,l=!0;for(const h of n(a)){const f=l?c[h]:(d=c[0])==null?void 0:d[h];if(f===void 0)return;c=f,l=!1}return c}e.Get=u})(ps||(ps={}));function yx(e,t){return t.reduce((n,r)=>e.applyTriple(r)||n,!1)}function Ic(e,t){return e.reduce((n,r)=>{const{id:s,timestamp:i}=r;if(t){const[o,a]=i;if(!t.has(a))return n;const c=t.get(a);if(c&&Ts(i,[c,a])>0)return n}const u=n.get(s)??new Q0;return u.applyTriple(r),n.set(s,u),n},new Map)}function qa(e,t){return Ic(e).get(t)}function CZ(e,t){return{type:"relationshipExists",relationship:e,query:t}}function DZ(e,t){if(!e&&!t)return 0;if(!e)return-1;if(!t)return 1;let n=e[0],r=t[0];return n instanceof Date&&(n=n.getTime()),r instanceof Date&&(r=r.getTime()),n!==r?ue.encodeValue(n)>ue.encodeValue(r)?1:-1:e[1]!==t[1]?e[1]>t[1]?1:-1:0}function MZ(e){return Y0(e)&&Symbol.asyncIterator in e}function PZ(e){return Y0(e)&&Symbol.iterator in e}function td(e){return Y0(e)&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function jZ(e){return e instanceof Promise}function X0(e){return e instanceof Date&&Number.isFinite(e.getTime())}function K0(e){return ArrayBuffer.isView(e)}function yI(e){return e instanceof globalThis.Uint8Array}function Y0(e){return e!==null&&typeof e=="object"}function vu(e){return Array.isArray(e)&&!ArrayBuffer.isView(e)}function ei(e){return e===void 0}function bx(e){return e===null}function wx(e){return typeof e=="boolean"}function Bu(e){return typeof e=="number"}function LZ(e){return Number.isInteger(e)}function xx(e){return typeof e=="bigint"}function Z0(e){return typeof e=="string"}function FZ(e){return typeof e=="function"}function Uu(e){return typeof e=="symbol"}function bI(e){return xx(e)||wx(e)||bx(e)||Bu(e)||Z0(e)||Uu(e)||ei(e)}var xo;(function(e){e.ExactOptionalPropertyTypes=!1,e.AllowArrayObject=!1,e.AllowNaN=!1,e.AllowNullVoid=!1;function t(u,o){return e.ExactOptionalPropertyTypes?o in u:u[o]!==void 0}e.IsExactOptionalProperty=t;function n(u){const o=Y0(u);return e.AllowArrayObject?o:o&&!vu(u)}e.IsObjectLike=n;function r(u){return n(u)&&!(u instanceof Date)&&!(u instanceof Uint8Array)}e.IsRecordLike=r;function s(u){return e.AllowNaN?Bu(u):Number.isFinite(u)}e.IsNumberLike=s;function i(u){const o=ei(u);return e.AllowNullVoid?o||u===null:o}e.IsVoidLike=i})(xo||(xo={}));class $Z extends tr{constructor(t){super(`Duplicate type kind '${t}' detected`)}}class BZ extends tr{constructor(t){super(`Duplicate string format '${t}' detected`)}}var j2;(function(e){function t(r,s){if(Hw(r))throw new $Z(r);return IU(r,s),(i={})=>$O({...i,[G]:r})}e.Type=t;function n(r,s){if(tO(r))throw new BZ(r);return EU(r,s),r}e.Format=n})(j2||(j2={}));class UZ extends tr{constructor(t){super(`Unable to dereference schema with $id '${t.$id}'`),this.schema=t}}function qZ(e,t){const n=t.find(r=>r.$id===e.$ref);if(n===void 0)throw new UZ(e);return vx(n,t)}function vx(e,t){return e[G]==="This"||e[G]==="Ref"?qZ(e,t):e}class VZ extends tr{constructor(t){super("Unable to hash value"),this.value=t}}var Kn;(function(e){e[e.Undefined=0]="Undefined",e[e.Null=1]="Null",e[e.Boolean=2]="Boolean",e[e.Number=3]="Number",e[e.String=4]="String",e[e.Object=5]="Object",e[e.Array=6]="Array",e[e.Date=7]="Date",e[e.Uint8Array=8]="Uint8Array",e[e.Symbol=9]="Symbol",e[e.BigInt=10]="BigInt"})(Kn||(Kn={}));let sa=BigInt("14695981039346656037");const[zZ,HZ]=[BigInt("1099511628211"),BigInt("2")**BigInt("64")],GZ=Array.from({length:256}).map((e,t)=>BigInt(t)),wI=new Float64Array(1),xI=new DataView(wI.buffer),vI=new Uint8Array(wI.buffer);function*JZ(e){const t=e===0?1:Math.ceil(Math.floor(Math.log2(e)+1)/8);for(let n=0;n<t;n++)yield e>>8*(t-1-n)&255}function WZ(e){fn(Kn.Array);for(const t of e)Va(t)}function QZ(e){fn(Kn.Boolean),fn(e?1:0)}function XZ(e){fn(Kn.BigInt),xI.setBigInt64(0,e);for(const t of vI)fn(t)}function KZ(e){fn(Kn.Date),Va(e.getTime())}function YZ(e){fn(Kn.Null)}function ZZ(e){fn(Kn.Number),xI.setFloat64(0,e);for(const t of vI)fn(t)}function eee(e){fn(Kn.Object);for(const t of globalThis.Object.getOwnPropertyNames(e).sort())Va(t),Va(e[t])}function tee(e){fn(Kn.String);for(let t=0;t<e.length;t++)for(const n of JZ(e.charCodeAt(t)))fn(n)}function nee(e){fn(Kn.Symbol),Va(e.description)}function ree(e){fn(Kn.Uint8Array);for(let t=0;t<e.length;t++)fn(e[t])}function see(e){return fn(Kn.Undefined)}function Va(e){if(vu(e))return WZ(e);if(wx(e))return QZ(e);if(xx(e))return XZ(e);if(X0(e))return KZ(e);if(bx(e))return YZ();if(Bu(e))return ZZ(e);if(td(e))return eee(e);if(Z0(e))return tee(e);if(Uu(e))return nee(e);if(yI(e))return ree(e);if(ei(e))return see();throw new VZ(e)}function fn(e){sa=sa^GZ[e],sa=sa*zZ%HZ}function SI(e){return sa=BigInt("14695981039346656037"),Va(e),sa}var L2;(function(e){e[e.ArrayContains=0]="ArrayContains",e[e.ArrayMaxContains=1]="ArrayMaxContains",e[e.ArrayMaxItems=2]="ArrayMaxItems",e[e.ArrayMinContains=3]="ArrayMinContains",e[e.ArrayMinItems=4]="ArrayMinItems",e[e.ArrayUniqueItems=5]="ArrayUniqueItems",e[e.Array=6]="Array",e[e.AsyncIterator=7]="AsyncIterator",e[e.BigIntExclusiveMaximum=8]="BigIntExclusiveMaximum",e[e.BigIntExclusiveMinimum=9]="BigIntExclusiveMinimum",e[e.BigIntMaximum=10]="BigIntMaximum",e[e.BigIntMinimum=11]="BigIntMinimum",e[e.BigIntMultipleOf=12]="BigIntMultipleOf",e[e.BigInt=13]="BigInt",e[e.Boolean=14]="Boolean",e[e.DateExclusiveMaximumTimestamp=15]="DateExclusiveMaximumTimestamp",e[e.DateExclusiveMinimumTimestamp=16]="DateExclusiveMinimumTimestamp",e[e.DateMaximumTimestamp=17]="DateMaximumTimestamp",e[e.DateMinimumTimestamp=18]="DateMinimumTimestamp",e[e.DateMultipleOfTimestamp=19]="DateMultipleOfTimestamp",e[e.Date=20]="Date",e[e.Function=21]="Function",e[e.IntegerExclusiveMaximum=22]="IntegerExclusiveMaximum",e[e.IntegerExclusiveMinimum=23]="IntegerExclusiveMinimum",e[e.IntegerMaximum=24]="IntegerMaximum",e[e.IntegerMinimum=25]="IntegerMinimum",e[e.IntegerMultipleOf=26]="IntegerMultipleOf",e[e.Integer=27]="Integer",e[e.IntersectUnevaluatedProperties=28]="IntersectUnevaluatedProperties",e[e.Intersect=29]="Intersect",e[e.Iterator=30]="Iterator",e[e.Kind=31]="Kind",e[e.Literal=32]="Literal",e[e.Never=33]="Never",e[e.Not=34]="Not",e[e.Null=35]="Null",e[e.NumberExclusiveMaximum=36]="NumberExclusiveMaximum",e[e.NumberExclusiveMinimum=37]="NumberExclusiveMinimum",e[e.NumberMaximum=38]="NumberMaximum",e[e.NumberMinimum=39]="NumberMinimum",e[e.NumberMultipleOf=40]="NumberMultipleOf",e[e.Number=41]="Number",e[e.ObjectAdditionalProperties=42]="ObjectAdditionalProperties",e[e.ObjectMaxProperties=43]="ObjectMaxProperties",e[e.ObjectMinProperties=44]="ObjectMinProperties",e[e.ObjectRequiredProperty=45]="ObjectRequiredProperty",e[e.Object=46]="Object",e[e.Promise=47]="Promise",e[e.RegExp=48]="RegExp",e[e.StringFormatUnknown=49]="StringFormatUnknown",e[e.StringFormat=50]="StringFormat",e[e.StringMaxLength=51]="StringMaxLength",e[e.StringMinLength=52]="StringMinLength",e[e.StringPattern=53]="StringPattern",e[e.String=54]="String",e[e.Symbol=55]="Symbol",e[e.TupleLength=56]="TupleLength",e[e.Tuple=57]="Tuple",e[e.Uint8ArrayMaxByteLength=58]="Uint8ArrayMaxByteLength",e[e.Uint8ArrayMinByteLength=59]="Uint8ArrayMinByteLength",e[e.Uint8Array=60]="Uint8Array",e[e.Undefined=61]="Undefined",e[e.Union=62]="Union",e[e.Void=63]="Void"})(L2||(L2={}));class iee extends tr{constructor(t){super("Unknown type"),this.schema=t}}function uee(e){return e[G]==="Any"||e[G]==="Unknown"}function le(e){return e!==void 0}function oee(e,t,n){return!0}function aee(e,t,n){if(!vu(n)||le(e.minItems)&&!(n.length>=e.minItems)||le(e.maxItems)&&!(n.length<=e.maxItems)||!n.every(i=>Lt(e.items,t,i))||e.uniqueItems===!0&&!function(){const i=new Set;for(const u of n){const o=SI(u);if(i.has(o))return!1;i.add(o)}return!0}())return!1;if(!(le(e.contains)||Bu(e.minContains)||Bu(e.maxContains)))return!0;const r=le(e.contains)?e.contains:Mn(),s=n.reduce((i,u)=>Lt(r,t,u)?i+1:i,0);return!(s===0||Bu(e.minContains)&&s<e.minContains||Bu(e.maxContains)&&s>e.maxContains)}function cee(e,t,n){return MZ(n)}function lee(e,t,n){return!(!xx(n)||le(e.exclusiveMaximum)&&!(n<e.exclusiveMaximum)||le(e.exclusiveMinimum)&&!(n>e.exclusiveMinimum)||le(e.maximum)&&!(n<=e.maximum)||le(e.minimum)&&!(n>=e.minimum)||le(e.multipleOf)&&n%e.multipleOf!==BigInt(0))}function fee(e,t,n){return wx(n)}function dee(e,t,n){return Lt(e.returns,t,n.prototype)}function hee(e,t,n){return!(!X0(n)||le(e.exclusiveMaximumTimestamp)&&!(n.getTime()<e.exclusiveMaximumTimestamp)||le(e.exclusiveMinimumTimestamp)&&!(n.getTime()>e.exclusiveMinimumTimestamp)||le(e.maximumTimestamp)&&!(n.getTime()<=e.maximumTimestamp)||le(e.minimumTimestamp)&&!(n.getTime()>=e.minimumTimestamp)||le(e.multipleOfTimestamp)&&n.getTime()%e.multipleOfTimestamp!==0)}function pee(e,t,n){return FZ(n)}function gee(e,t,n){return!(!LZ(n)||le(e.exclusiveMaximum)&&!(n<e.exclusiveMaximum)||le(e.exclusiveMinimum)&&!(n>e.exclusiveMinimum)||le(e.maximum)&&!(n<=e.maximum)||le(e.minimum)&&!(n>=e.minimum)||le(e.multipleOf)&&n%e.multipleOf!==0)}function mee(e,t,n){const r=e.allOf.every(s=>Lt(s,t,n));if(e.unevaluatedProperties===!1){const s=new RegExp(e2(e)),i=Object.getOwnPropertyNames(n).every(u=>s.test(u));return r&&i}else if($t(e.unevaluatedProperties)){const s=new RegExp(e2(e)),i=Object.getOwnPropertyNames(n).every(u=>s.test(u)||Lt(e.unevaluatedProperties,t,n[u]));return r&&i}else return r}function yee(e,t,n){return PZ(n)}function bee(e,t,n){return n===e.const}function wee(e,t,n){return!1}function xee(e,t,n){return!Lt(e.not,t,n)}function vee(e,t,n){return bx(n)}function See(e,t,n){return!(!xo.IsNumberLike(n)||le(e.exclusiveMaximum)&&!(n<e.exclusiveMaximum)||le(e.exclusiveMinimum)&&!(n>e.exclusiveMinimum)||le(e.minimum)&&!(n>=e.minimum)||le(e.maximum)&&!(n<=e.maximum)||le(e.multipleOf)&&n%e.multipleOf!==0)}function _ee(e,t,n){if(!xo.IsObjectLike(n)||le(e.minProperties)&&!(Object.getOwnPropertyNames(n).length>=e.minProperties)||le(e.maxProperties)&&!(Object.getOwnPropertyNames(n).length<=e.maxProperties))return!1;const r=Object.getOwnPropertyNames(e.properties);for(const s of r){const i=e.properties[s];if(e.required&&e.required.includes(s)){if(!Lt(i,t,n[s])||(p0(i)||uee(i))&&!(s in n))return!1}else if(xo.IsExactOptionalProperty(n,s)&&!Lt(i,t,n[s]))return!1}if(e.additionalProperties===!1){const s=Object.getOwnPropertyNames(n);return e.required&&e.required.length===r.length&&s.length===r.length?!0:s.every(i=>r.includes(i))}else return typeof e.additionalProperties=="object"?Object.getOwnPropertyNames(n).every(i=>r.includes(i)||Lt(e.additionalProperties,t,n[i])):!0}function Aee(e,t,n){return jZ(n)}function Tee(e,t,n){if(!xo.IsRecordLike(n)||le(e.minProperties)&&!(Object.getOwnPropertyNames(n).length>=e.minProperties)||le(e.maxProperties)&&!(Object.getOwnPropertyNames(n).length<=e.maxProperties))return!1;const[r,s]=Object.entries(e.patternProperties)[0],i=new RegExp(r),u=Object.entries(n).every(([c,l])=>i.test(c)?Lt(s,t,l):!0),o=typeof e.additionalProperties=="object"?Object.entries(n).every(([c,l])=>i.test(c)?!0:Lt(e.additionalProperties,t,l)):!0,a=e.additionalProperties===!1?Object.getOwnPropertyNames(n).every(c=>i.test(c)):!0;return u&&o&&a}function Eee(e,t,n){return Lt(vx(e,t),t,n)}function Oee(e,t,n){const r=new RegExp(e.source,e.flags);return le(e.minLength)&&!(n.length>=e.minLength)||le(e.maxLength)&&!(n.length<=e.maxLength)?!1:r.test(n)}function Iee(e,t,n){return!Z0(n)||le(e.minLength)&&!(n.length>=e.minLength)||le(e.maxLength)&&!(n.length<=e.maxLength)||le(e.pattern)&&!new RegExp(e.pattern).test(n)?!1:le(e.format)?tO(e.format)?OU(e.format)(n):!1:!0}function Nee(e,t,n){return Uu(n)}function Ree(e,t,n){return Z0(n)&&new RegExp(e.pattern).test(n)}function kee(e,t,n){return Lt(vx(e,t),t,n)}function Cee(e,t,n){if(!vu(n)||e.items===void 0&&n.length!==0||n.length!==e.maxItems)return!1;if(!e.items)return!0;for(let r=0;r<e.items.length;r++)if(!Lt(e.items[r],t,n[r]))return!1;return!0}function Dee(e,t,n){return ei(n)}function Mee(e,t,n){return e.anyOf.some(r=>Lt(r,t,n))}function Pee(e,t,n){return!(!yI(n)||le(e.maxByteLength)&&!(n.length<=e.maxByteLength)||le(e.minByteLength)&&!(n.length>=e.minByteLength))}function jee(e,t,n){return!0}function Lee(e,t,n){return xo.IsVoidLike(n)}function Fee(e,t,n){return Hw(e[G])?NU(e[G])(e,n):!1}function Lt(e,t,n){const r=le(e.$id)?[...t,e]:t,s=e;switch(s[G]){case"Any":return oee();case"Array":return aee(s,r,n);case"AsyncIterator":return cee(s,r,n);case"BigInt":return lee(s,r,n);case"Boolean":return fee(s,r,n);case"Constructor":return dee(s,r,n);case"Date":return hee(s,r,n);case"Function":return pee(s,r,n);case"Integer":return gee(s,r,n);case"Intersect":return mee(s,r,n);case"Iterator":return yee(s,r,n);case"Literal":return bee(s,r,n);case"Never":return wee();case"Not":return xee(s,r,n);case"Null":return vee(s,r,n);case"Number":return See(s,r,n);case"Object":return _ee(s,r,n);case"Promise":return Aee(s,r,n);case"Record":return Tee(s,r,n);case"Ref":return Eee(s,r,n);case"RegExp":return Oee(s,r,n);case"String":return Iee(s,r,n);case"Symbol":return Nee(s,r,n);case"TemplateLiteral":return Ree(s,r,n);case"This":return kee(s,r,n);case"Tuple":return Cee(s,r,n);case"Undefined":return Dee(s,r,n);case"Union":return Mee(s,r,n);case"Uint8Array":return Pee(s,r,n);case"Unknown":return jee();case"Void":return Lee(s,r,n);default:if(!Hw(s[G]))throw new iee(s);return Fee(s,r,n)}}function F2(...e){return e.length===3?Lt(e[0],e[1],e[2]):Lt(e[0],[],e[1])}class $ee extends tr{constructor(t,n,r){super("Cannot set root value"),this.value=t,this.path=n,this.update=r}}class Bee extends tr{constructor(t,n){super("Cannot delete root value"),this.value=t,this.path=n}}function $2(e){return e.indexOf("~")===-1?e:e.replace(/~1/g,"/").replace(/~0/g,"~")}function*eg(e){if(e==="")return;let[t,n]=[0,0];for(let r=0;r<e.length;r++)e.charAt(r)==="/"?(r===0||(n=r,yield $2(e.slice(t,n))),t=r+1):n=r;yield $2(e.slice(t))}function Uee(e,t,n){if(t==="")throw new $ee(e,t,n);let[r,s,i]=[null,e,""];for(const u of eg(t))s[u]===void 0&&(s[u]={}),r=s,s=s[u],i=u;r[i]=n}function _I(e,t){if(t==="")throw new Bee(e,t);let[n,r,s]=[null,e,""];for(const i of eg(t)){if(r[i]===void 0||r[i]===null)return;n=r,r=r[i],s=i}if(Array.isArray(n)){const i=parseInt(s);n.splice(i,1)}else delete n[s]}function qee(e,t){if(t==="")return!0;let[n,r,s]=[null,e,""];for(const i of eg(t)){if(r[i]===void 0)return!1;n=r,r=r[i],s=i}return Object.getOwnPropertyNames(n).includes(s)}function Sx(e,t){if(t==="")return e;let n=e;for(const r of eg(t)){if(n[r]===void 0)return;n=n[r]}return n}const Vee=Rt({type:Ye("insert"),path:iu(),value:Vf()}),zee=Rt({type:Ye("update"),path:iu(),value:Vf()}),Hee=Rt({type:Ye("delete"),path:iu()});vn([Vee,zee,Hee]);class AI extends tr{constructor(t,n){super(n),this.value=t}}class Ed extends AI{constructor(t){super(t,"Cannot diff objects with symbol keys"),this.value=t}}function sf(e,t){return{type:"update",path:e,value:t}}function TI(e,t){return{type:"insert",path:e,value:t}}function EI(e){return{type:"delete",path:e}}function*Gee(e,t,n){if(!td(n))return yield sf(e,n);const r=[...globalThis.Object.keys(t),...globalThis.Object.getOwnPropertySymbols(t)],s=[...globalThis.Object.keys(n),...globalThis.Object.getOwnPropertySymbols(n)];for(const i of r){if(Uu(i))throw new Ed(i);ei(n[i])&&s.includes(i)&&(yield sf(`${e}/${globalThis.String(i)}`,void 0))}for(const i of s)if(!(ei(t[i])||ei(n[i]))){if(Uu(i))throw new Ed(i);yield*tg(`${e}/${globalThis.String(i)}`,t[i],n[i])}for(const i of s){if(Uu(i))throw new Ed(i);ei(t[i])&&(yield TI(`${e}/${globalThis.String(i)}`,n[i]))}for(const i of r.reverse()){if(Uu(i))throw new Ed(i);ei(n[i])&&!s.includes(i)&&(yield EI(`${e}/${globalThis.String(i)}`))}}function*Jee(e,t,n){if(!vu(n))return yield sf(e,n);for(let r=0;r<Math.min(t.length,n.length);r++)yield*tg(`${e}/${r}`,t[r],n[r]);for(let r=0;r<n.length;r++)r<t.length||(yield TI(`${e}/${r}`,n[r]));for(let r=t.length-1;r>=0;r--)r<n.length||(yield EI(`${e}/${r}`))}function*Wee(e,t,n){if(!K0(n)||t.length!==n.length||globalThis.Object.getPrototypeOf(t).constructor.name!==globalThis.Object.getPrototypeOf(n).constructor.name)return yield sf(e,n);for(let r=0;r<Math.min(t.length,n.length);r++)yield*tg(`${e}/${r}`,t[r],n[r])}function*Qee(e,t,n){t!==n&&(yield sf(e,n))}function*tg(e,t,n){if(td(t))return yield*Gee(e,t,n);if(vu(t))return yield*Jee(e,t,n);if(K0(t))return yield*Wee(e,t,n);if(bI(t))return yield*Qee(e,t,n);throw new AI(t,"Unable to create diff edits for unknown value")}function _m(e,t){return[...tg("",e,t)]}function Xee(e,t){if(!td(t))return!1;const n=[...Object.keys(e),...Object.getOwnPropertySymbols(e)],r=[...Object.keys(t),...Object.getOwnPropertySymbols(t)];return n.length!==r.length?!1:n.every(s=>nd(e[s],t[s]))}function Kee(e,t){return X0(t)&&e.getTime()===t.getTime()}function Yee(e,t){return!vu(t)||e.length!==t.length?!1:e.every((n,r)=>nd(n,t[r]))}function Zee(e,t){return!K0(t)||e.length!==t.length||Object.getPrototypeOf(e).constructor.name!==Object.getPrototypeOf(t).constructor.name?!1:e.every((n,r)=>nd(n,t[r]))}function ete(e,t){return e===t}function nd(e,t){if(td(e))return Xee(e,t);if(X0(e))return Kee(e,t);if(K0(e))return Zee(e,t);if(vu(e))return Yee(e,t);if(bI(e))return ete(e,t);throw new Error("ValueEquals: Unable to compare value")}function tte(...e){return F2.apply(F2,e)}function nte(e,t){return nd(e,t)}function OI(e){return SI(e)}function rte(e){return e._diff==="collectionAttribute"}function II(e,t,n=[]){var o,a,c,l,d,h;if(e===void 0&&t===void 0)return[];const r=(e==null?void 0:e.properties)??{},s=(t==null?void 0:t.properties)??{},i=new Set([...Object.keys(r),...Object.keys(s)]),u=[];for(const f of i){if(!(f in r)){const g=[...n,f];u.push({type:"insert",attribute:g,metadata:{type:s[f].type,options:s[f].options,optional:((o=t==null?void 0:t.optional)==null?void 0:o.includes(f))??!1},isNewCollection:e===void 0});continue}if(!(f in s)){const g=[...n,f];u.push({type:"delete",attribute:g,metadata:{type:r[f].type,options:r[f].options,optional:((a=e==null?void 0:e.optional)==null?void 0:a.includes(f))??!1}});continue}if(f in r&&f in s){if(nte(r[f].toJSON(),s[f].toJSON())&&(((c=e==null?void 0:e.optional)==null?void 0:c.includes(f))??!1)===(((l=t==null?void 0:t.optional)==null?void 0:l.includes(f))??!1))continue;const g=[...n,f];if(r[f].type==="record"&&s[f].type==="record"){u.push(...II(r[f],s[f],g));continue}const m={type:"update",attribute:g,changes:{options:{}}};r[f].type!==s[f].type&&(m.changes.type=s[f].type),r[f].type==="set"&&r[f].items.type!==s[f].items.type&&(m.changes.items={type:s[f].items.type});const y=((d=e==null?void 0:e.optional)==null?void 0:d.includes(f))??!1,b=((h=t==null?void 0:t.optional)==null?void 0:h.includes(f))??!1;y!==b&&(m.changes.optional=b),m.changes.options=ste(r[f].options??{},s[f].options??{}),u.push(m);continue}}return u}function ste(e,t){var i;const n={};e.nullable!==t.nullable&&(n.nullable=!!t.nullable),e.default!==t.default&&(n.default=t.default);const r=t.enum&&!e.enum,s=e.enum&&t.enum&&!((i=e.enum)!=null&&i.every(u=>{var o;return(o=t.enum)==null?void 0:o.includes(u)}));return(r||s)&&(n.enum=t.enum),n}function ite(e,t){const n=new Set([...Object.keys(e.collections),...Object.keys(t.collections)]),r=[];for(const i of n){const u=e.collections[i],o=t.collections[i];r.push(...II(u==null?void 0:u.schema,o==null?void 0:o.schema).map(l=>({_diff:"collectionAttribute",collection:i,...l}))),_m(u==null?void 0:u.rules,o==null?void 0:o.rules).length>0&&r.push({_diff:"collectionRules",collection:i}),_m(u==null?void 0:u.permissions,o==null?void 0:o.permissions).length>0&&r.push({_diff:"collectionPermissions",collection:i})}return _m(e.roles,t.roles).length>0&&r.push({_diff:"roles"}),r}function ute(e){return e.reduce((t,n)=>{if(!rte(n))return t;const r=ote.find(s=>s.matchesDiff(n));return r&&t.push({issue:r.description,allowedIf:r.allowedIf,context:n,attributeCure:r.attributeCure}),t},[])}const ote=[{description:"removed an optional attribute",matchesDiff:e=>e.type==="delete"&&e.metadata.optional===!0,allowedIf:"attribute_is_empty",attributeCure:()=>null},{description:"removed a non-optional attribute",matchesDiff:e=>e.type==="delete",allowedIf:"collection_is_empty",attributeCure:(e,t)=>`make '${t.join(".")}' optional`},{description:"changed a attribute from optional to required",matchesDiff:e=>e.type==="update"?e.changes.optional===!1:!1,allowedIf:"attribute_has_no_undefined",attributeCure:()=>null},{description:"changed the type of an attribute",matchesDiff:e=>e.type==="update"?e.changes.type!==void 0:!1,allowedIf:"attribute_is_empty",attributeCure:(e,t)=>`revert the change to '${t.join(".")}' and create a different, optional, attribute with the new type`},{description:"changed the type of a set's items",matchesDiff:e=>e.type==="update"?e.changes.items!==void 0:!1,allowedIf:"attribute_is_empty",attributeCure:(e,t)=>`revert the change to '${t.join(".")}' and create a different, optional, attribute with the new type`},{description:"added an attribute where optional is not set",matchesDiff:e=>e.type==="insert"&&!e.isNewCollection&&e.metadata.optional===!1&&e.metadata.type!=="query",allowedIf:"collection_is_empty",attributeCure:(e,t)=>`make '${t.join(".")}' optional`},{description:"changed an attribute from nullable to non-nullable",matchesDiff:e=>{var t;return e.type==="update"?((t=e.changes.options)==null?void 0:t.nullable)===!1:!1},allowedIf:"attribute_has_no_null",attributeCure:()=>null},{description:"added an enum to an attribute or removed an option from an existing enum",matchesDiff:e=>e.type==="update"?e.changes.options.enum!==void 0:!1,allowedIf:"attribute_satisfies_enum",attributeCure:(e,t,n)=>`revert the change to '${t.join(".")}' and create a different, optional, attribute with the new enum OR ensure all values of '${t.join(".")} are in the new enum: ${n}`}];async function ate(e,t,n){return await lte[n](e,t.collection,t.attribute,(t==null?void 0:t.type)==="update"?t.changes.options.enum:void 0)}async function cte(e,t){const n=ute(t);return await Promise.all(n.map(async s=>{const i=!await ate(e,s.context,s.allowedIf),u=fte[s.allowedIf](s.context.collection,s.context.attribute),o=s.attributeCure(s.context.collection,s.context.attribute);return{...s,violatesExistingData:i,cure:o?o+" or "+u:u}}))}const lte={never:async()=>!1,collection_is_empty:mte,attribute_is_empty:pte,attribute_has_no_undefined:hte,attribute_has_no_null:gte,attribute_satisfies_enum:dte},fte={never:()=>"This edit is never allowed",collection_is_empty:e=>`delete all entities in '${e}' to allow this edit`,attribute_is_empty:(e,t)=>`set all values of '${t.join(".")}' to undefined to allow this edit`,attribute_has_no_undefined:(e,t)=>`ensure all values of '${t.join(".")}' are not undefined to allow this edit`,attribute_has_no_null:(e,t)=>`ensure all values of '${t.join(".")}' are not null to allow this edit`,attribute_satisfies_enum:(e,t)=>`ensure all values of '${t.join(".")}' are in the enum to allow this edit`};async function dte(e,t,n,r){return(await e.fetch(e.db.query(t).select([n.join(".")]).where(n.join("."),"nin",r).build(),{skipRules:!0})).size===0}async function hte(e,t,n){const r=await e.fetch(e.db.query(t).select([n.join(".")]).build(),{skipRules:!0});return!Array.from(r.values()).some(s=>Sx(s,"/"+n.join("/"))===void 0)}async function pte(e,t,n){const r=await e.fetch(e.db.query(t).select([n.join(".")]).build(),{skipRules:!0});return Array.from(r.values()).every(s=>Sx(s,"/"+n.join("/"))===void 0)}async function gte(e,t,n){return(await e.fetch(e.db.query(t).select([n.join(".")]).where(n.join("."),"=",null).limit(1).build(),{skipRules:!0})).size===0}async function mte(e,t){return(await e.fetch(e.db.query(t).select([]).limit(1).build(),{skipRules:!0})).size===0}class Di{constructor({stages:t,limit:n,takeWhile:r}={}){k(this,"limit",1/0);k(this,"stages");k(this,"takeWhileFilter");this.stages=t??[],this.limit=n??1/0,this.takeWhileFilter=r}map(t){return new Di({stages:this.stages.concat([["map",t]]),limit:this.limit})}tap(t){return new Di({stages:this.stages.concat([["map",async(n,r)=>(await t(n,r),n)]]),limit:this.limit})}takeWhile(t){return new Di({takeWhile:t,stages:this.stages,limit:this.limit})}filter(t){return new Di({stages:this.stages.concat([["filter",t]]),limit:this.limit})}take(t){return new Di({stages:this.stages,limit:t})}sort(t){return new Di({stages:this.stages.concat([["aggregate",async n=>n.slice().sort(t),{limit:this.limit,takeWhile:this.takeWhileFilter}]])})}async run(t){this.stages.push(["aggregate",async i=>i,{limit:this.limit,takeWhile:this.takeWhileFilter}]);const n=this.stages.reduce((i,u,o,a)=>{const c=a[o-1];return c&&c[0]==="aggregate"?i.push([u]):i.length===0?i.push([u]):i[i.length-1].push(u),i},[]);async function r(i,u,o){let a=[];const c=Math.min(i.length??1/0,o.limit);e:for(let l=0;l<i.length;l++){let d=i[l];t:for(const h of u){const[f,g]=h;if(f==="map"){d=await g(d,l);continue}if(f==="filter"){if(await g(d,l))continue t;continue e}}if(o.takeWhile&&!o.takeWhile(d,l)||(a.push(d),a.length>=c))break e}return a}let s=t;for(const i of n){const[u,o,a]=i.at(-1),c=i.slice(0,-1);s=await o(await r(s,c,a))}return s}}class NI{constructor(t){k(this,"db");k(this,"cache");this.db=t,this.cache=new Map}static canCacheQuery(t,n){if(t.limit!==void 0||t.where&&t.where.some(i=>!au(i))||t.include&&Object.keys(t.include).length>0||t.select&&t.select.some(i=>typeof i=="object"))return!1;const s=(t.where??[]).filter(au).filter(([,,i])=>typeof i=="string"&&i.startsWith("$"));return!(s.length!==1||!["=","<","<=",">",">=","!="].includes(s[0][1])||n&&da(n,s[0][0].split(".")).type==="set")}async createView(t,n){return new Promise(r=>{const s=this.viewQueryToId(t);qI(this.db,this.db.tripleStore,t,([i,u])=>{this.cache.set(s,{results:i,triples:u}),r()},i=>{console.error("error in view",i),this.cache.delete(s)},{schema:n,skipRules:!0})})}viewQueryToId(t){return OI(t)}async resolveFromCache(t,n,r,s){const{views:i,variableFilters:u}=this.queryToViews(t),o=this.viewQueryToId(i[0]);this.cache.has(o)||await this.createView(i[0],s.schema);const[a,c,l]=u[0],d=l.slice(1),f=VI(t,{systemVars:this.db.systemVars,roles:this.db.sessionRoles},r)[d],g=this.cache.get(o),m=[...g.results.entries()];let y,b;if(["=","<","<=",">",">="].includes(c)&&(y=Od(m,f,([,v])=>v[a],"start",(v,x)=>c==="<"?v<x?0:1:c==="<="?v<=x?0:1:c===">"?v>x?0:-1:c===">="?v>=x?0:-1:v===x?0:v<x?-1:1),b=Od(m,f,([,v])=>v[a],"end",(v,x)=>c==="<"?v<x?0:1:c==="<="?v<=x?0:1:c===">"?v>x?0:-1:c===">="?v>=x?0:-1:v===x?0:v<x?-1:1)),c==="!="){y=Od(m,f,([,x])=>x[a],"start",(x,A)=>x===A?0:x<A?-1:1),b=Od(m,f,([,x])=>x[a],"end",(x,A)=>x===A?0:x<A?-1:1);const v=[...m.slice(0,y+1),...m.slice(b)];return{results:new Map(v),triples:new Map(v.map(([x,A])=>[x,g.triples.get(x)]))}}if(y==null||b==null)throw new gG(`Queries with the operator ${c} in a where clause can't be stored in the query cache. Currently, supported operators are: ${["=","!=","<","<=",">",">="]}`);const w=m.slice(y,b+1);return{results:new Map(w),triples:new Map(w.map(([v,x])=>[v,g.triples.get(v)]))}}queryToViews(t){const n=[],r=t.where?t.where.filter(s=>{if(!(s instanceof Array))return!0;const[i,u,o]=s;return Nc(o)?(n.push([i,u,o]),!1):!0}):void 0;return{views:[{collectionName:t.collectionName,where:r,select:t.select,order:[...n.map(s=>[s[0],"ASC"]),...t.order??[]]}],variableFilters:n}}}function Od(e,t,n,r="start",s=(i,u)=>i<u?-1:i>u?1:0){let i=0,u=e.length-1,o=-1;for(;i<=u;){const a=Math.floor((i+u)/2),c=n(e[a]);s(c,t)===0?(o=a,r==="start"?u=a-1:i=a+1):s(c,t)<0?i=a+1:u=a-1}return o}function yte(e){return e&&"_collection"in e&&e._collection[0]==null}class Lr{constructor(t){k(this,"query");this.query=t}build(){return this.query}select(t){return new Lr({...this.query,select:t})}where(...t){return new Lr({...this.query,where:Ji().where(this.query,...t)})}id(t){const n=[["id","=",t],...(this.query.where??[]).filter(r=>!Array.isArray(r)||r[0]!=="id")];return new Lr({...this.query,where:n})}order(...t){return new Lr({...this.query,order:Ji().order(this.query,...t)})}after(t,n){return new Lr({...this.query,after:Ji().after(this.query,t,n)})}include(t,n){return new Lr({...this.query,include:Ji().include(this.query,t,n)})}limit(t){return new Lr({...this.query,limit:t})}vars(t){return new Lr({...this.query,vars:t})}entityId(t){return this.id(t)}}const Ji=()=>({where:(e,...t)=>{let n=[];if(t[0]==null)return e.where??[];if(typeof t[0]=="boolean")n=[t[0]];else if(typeof t[0]=="string")n=[t];else if(t.length===1&&t[0]instanceof Array&&t[0].every(r=>typeof r=="object"))n=t[0];else if(t.every(r=>typeof r=="object"))n=t;else throw new dm("where",t);return[...e.where??[],...n]},order:(e,...t)=>{if(!t[0])return;let n=[];if(t.length===2&&t.every(r=>typeof r=="string"))n=[[...t]];else if(t.length===1&&t[0]instanceof Array&&t[0].every(r=>r instanceof Array))n=t[0];else if(t.every(r=>r instanceof Array))n=t;else throw new dm("order",t);return[...e.order??[],...n]},include(e,t,n){return{...e.include,[t]:n??null}},after(e,t,n){if(!t)return;if(!e.order)throw new yG(t);const r=e.order[0][0];if(t instanceof Array&&t.length===2)return[t,n??!1];if(typeof t=="object"&&!(t instanceof Array)&&Object.hasOwn(t,"id")&&Object.hasOwn(t,r))return[[t[r],t.id],n??!1];throw new dm("after",t)}});function bte(e,t){return e.reduce(async(n,r,s,i)=>await n||await t(r,s,i),Promise.resolve(!1))}function wte(e,t){return e.reduce(async(n,r,s,i)=>await n&&await t(r,s,i),Promise.resolve(!0))}async function hy(e,t,n,r,s,i,u){if(W0(u))return u;if(Ds(u)){const{mod:o,filters:a}=u;return o==="and"?await wte(a,c=>hy(e,t,n,r,s,i,c)):o==="or"?await bte(a,c=>hy(e,t,n,r,s,i,c)):!1}if(xi(u))return await xte(e,t,n,r,s,i,u);if(ed(u))throw new _G("Untranslated exists filter");return vte(n,s,i,u)}async function xte(e,t,n,r,s,i,u){const{exists:o}=u,a={...o,limit:1},{results:c,triples:l}=await za(e,t,n,a,"one",r,s,i.entity);if(!!!c)return!1;for(const h of l.values())for(const f of h)i.existsFilterTriples.push(f);return!0}function vte(e,t,n,r){const{collectionName:s}=e,{schema:i}=t,{entity:u}=n,[o,a,c]=r,l=i?Ha(o.split("."),i,s):void 0;return l&&l.type==="set"?RI(u,o,a,c):kI(u,o,a,c)}function RI(e,t,n,r){const s="/"+t.replaceAll(".","/"),i=ps.Get(e,s);if(Array.isArray(i)&&i[0]===void 0)return!1;const u=yn(i);if(!u)return!1;const o=Object.entries(u).filter(([a,c])=>c);return n==="has"?o.some(([a])=>a===r):n==="!has"?o.every(([a])=>a!==r):o.some(([a])=>CI(n,a,r))}function kI(e,t,n,r){const s=ps.Get(e,"/"+t.replaceAll(".","/")),i=!!s&&s instanceof Array&&s.length===2,u=!!s&&i&&(typeof s[0]!="object"||s[0]===null);if(s&&(!i||!u))return console.warn(`Received an unexpected value at path '${t}' in entity ${JSON.stringify(e)} which could not be interpreted as a register when reading filter ${JSON.stringify([t,n,r])}. This is likely caused by (1) the database not properly loading its schema and attempting to interpret a value that is not a regsiter as a register, (2) a schemaless database attempting to interpret a value that is not properly formatted as a register, or (3) a query with a path that does not lead to a leaf attribute in the entity.`),!1;const[o,a]=s??[void 0,void 0];return CI(n,o,r)}function CI(e,t,n){switch(e){case"=":return t==n;case"!=":return t!==n;case">":return t>n;case">=":return t>=n;case"<":return t<n;case"<=":return t<=n;case"like":return B2(t,n);case"nlike":return!B2(t,n);case"in":return new Set(n).has(t);case"nin":return!new Set(n).has(t);default:throw new Yd(`The operator ${e} is not recognized.`)}}function B2(e,t){return t=t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),t=t.replace(/%/g,".*"),t=t.replace(/_/g,"."),new RegExp(`^${t}$`,"i").test(e)}function DI(e){if(xi(e))return"relational";if(Ds(e)){const{filters:t}=e;if(t.map(r=>DI(r)).includes("relational"))return"relational"}return"basic"}function Ste(e){const{where:t=[]}=e,n=[],r=[];for(let s=0;s<t.length;s++){const i=t[s];DI(i)==="relational"?r.push(s):n.push(s)}return[...n,...r]}function _te(e){return typeof e=="string"&&e.startsWith("$")}function MI(e,t){const n={};for(const r in e){const s=e[r],i=t[r];if(i===void 0)return;if(typeof s=="object"){const u=MI(s,i);if(u===void 0)return;Object.assign(n,u);continue}if(_te(s)){const u=s.slice(1);n[u]=i;continue}if(s!==i)return}return n}function Ate(e,t){if(!e)return;const n=e.roles;if(!n)return[];const r=[];for(const[s,i]of Object.entries(n)){const u=MI(i.match,t);u!==void 0&&r.push({key:s,roleVars:u})}return r}function PI(e,t){if(!e)return;const n=e[t];if(n)return n.permissions}function zr(e,t,n,r={}){let s={...e};Ete(s,t);const i=Tte(s,t),u=Ote(s,t,n,r),o=Ite(s,t,n,r),a=Rte(s,t),c=kte(s);return{...s,select:i,include:u,where:o,order:a,after:c,vars:{...s.vars??{}}}}function Tte(e,t,n){if(!e.select)return e.select;if(!t)return[...e.select];for(const r of e.select){const{valid:s,path:i,reason:u}=_x(r,t,e.collectionName,(o,a,c)=>o?o.type==="query"?{valid:!1,reason:"Cannot select into relationships, please use 'include' instead"}:{valid:!0}:{valid:!1,reason:"Path not found"});if(!s)throw new SG(`Select field ${r} is not valid: ${u} at path ${i}`)}return[...e.select]}function py(e){return e==="_metadata"}function Ete(e,t){const n=e.collectionName;if(!(typeof n=="string"))throw new Ph(n,"Collection name must be a string");if(t&&!t[n]&&!py(n))throw new Ph(n,`Collection '${n}' does not exist in the schema`)}function Ote(e,t,n,r){if(!t||!e.include)return e.include;const s={};for(const[i,u]of Object.entries(e.include)){const o=Ha(i.split("."),t,e.collectionName);if(o&&o.type==="query"){let a=u;const c=Dte({...o.query},a),l={subquery:zr(c,t,n,r),cardinality:o.cardinality};s[i]=l}else if(u!=null&&u.subquery)s[i]=u;else throw o?new cG(i,e.collectionName):new aG(i,e.collectionName)}return s}function Ite(e,t,n,r){var u;const s=e.where?[...e.where]:[];if(e.entityId&&s.push(["id","=",e.entityId]),t&&!py(e.collectionName)&&!r.skipRules){const o=Nte(t,e.collectionName);(o==null?void 0:o.length)>0&&s.push(...o);const a=PI(t,e.collectionName);if(a){let c=[],l=!1;if(n.roles)for(const d of n.roles){const h=(u=a[d.key])==null?void 0:u.read;h!=null&&h.filter&&(l=!0,Array.isArray(h.filter)&&c.push(...h.filter))}l||(c=[!1]),s.push(...c)}}const i=Cte(t,e.collectionName);return jI(s,o=>{if(i(o),ed(o)){const{relationship:d,query:h}=o;if(!t)throw new Yd("A schema is required to execute an exists filter");const f=d.split("."),[g,...m]=f,y=m.length>0,b=Ha([g],t,e.collectionName);if(!b)throw new Yd(`Could not find property '${d}' in the schema`);if(b.type!=="query")throw new Yd("Cannot execute an exists filter on a non-relation property");const w={...b.query},v=y?[CZ(m.join("."),h)]:h==null?void 0:h.where;return w.where=[...b.query.where??[],...v??[]],{exists:zr(w,t,n,r)}}if(!Array.isArray(o))return o;let[a,c,l]=o;if(t&&!py(e.collectionName)){const d=Ha([a.split(".")[0]],t,e.collectionName);if(d.type==="query"){const[h,...f]=a.split("."),g={...d.query};return Nc(l)&&(l="$"+sne(l.slice(1))),g.where=[...g.where,[f.join("."),c,l]],{exists:zr(g,t,n,r)}}}return[a,c,l instanceof Date?l.toISOString():l]})}function Nte(e,t){var n,r,s;return(r=(n=e==null?void 0:e[t])==null?void 0:n.rules)!=null&&r.read?Object.values(((s=e[t].rules)==null?void 0:s.read)??{}).flatMap(i=>i.filter):[]}function Rte(e,t,n){if(!e.order)return e.order;if(!t)return[...e.order];for(const[r,s]of e.order){const{valid:i,path:u,reason:o}=_x(r,t,e.collectionName,(a,c,l)=>a?c===l.length-1&&(a.type==="query"||a.type==="set"||a.type==="record")?{valid:!1,reason:"Order by field is not sortable"}:a.type==="query"&&a.cardinality!=="one"?{valid:!1,reason:"Order by field is a query with cardinality not equal to one"}:{valid:!0}:{valid:!1,reason:"Path not found"});if(!i)throw new xG(`Order by field ${r} is not valid: ${o} at path ${u}`)}return[...e.order]}function kte(e,t,n){if(!e.after)return e.after;if(!e.order||e.order.length===0)throw new $("Cannot use after without an order clause");const[r,s]=e.after;return[[r[0]instanceof Date?r[0].toISOString():r[0],cn(e.collectionName,r[1])],s]}function Cte(e,t){return n=>{if(!e||t==="_metadata"||xi(n)||ed(n)||Ds(n)||W0(n))return!0;const[r,s,i]=n,{valid:u,path:o,reason:a}=_x(r,e,t,(c,l,d)=>c?l===d.length-1&&(c.type==="query"||c.type==="record")?{valid:!1,reason:"Where filter is not operable"}:{valid:!0}:{valid:!1,reason:"Path not found"});if(!u)throw new vG(`Where filter ${JSON.stringify([r,s,i])} is not valid: ${a} at path ${o}`);return!0}}function Dte(e,t){if(!t)return e;const n=[...e.where??[],...t.where??[]],r=[...e.select??[],...t.select??[]];return{...e,...t,where:n,select:r}}function jI(e,t){return e.map(n=>Ds(n)?(n.filters=jI(n.filters,t),n):t(n))}function _x(e,t,n,r){let s=ug(t,n);const i=e.split(".");let u=[];for(let o=0;o<i.length;o++){const a=i[o];s=s.get(a),u.push(a);const{valid:c,reason:l}=r(s.current,o,i);if(!c)return{valid:c,path:u.join("."),reason:l}}return{valid:!0}}function LI(e,t){const n={collectionName:e,...t};return new Lr(n)}function Mte(e){const{where:t,collectionName:n}=e,r=(t??[]).filter(au).filter(s=>s[0]==="id"&&s[1]==="=");return r.length>0?cn(n,r[0][2]):null}async function Pte(e,t,n,r){const{order:s,after:i}=t;if(!(s!=null&&s.length))return;const u=s.length===1,[o,a]=s[0],c=o.split(".");let l=!1,d=!1;if(n){const h=ZI(c,n,t.collectionName);for(const f of h){if(!f){d=!0;break}if(f.type==="query"){l=!0;break}}}if(!l&&!d){const[h,f]=i??[void 0,!1],g=u&&a==="ASC"?h:void 0,m=u&&a==="DESC"?h:void 0;r.after=i?!!g||!!m:!0,r.order[0]=!0;const y={direction:a,greaterThanCursor:f?void 0:g,greaterThanOrEqualCursor:f?g:void 0,lessThanCursor:f?void 0:m,lessThanOrEqualCursor:f?m:void 0},b=await e.findValuesInRange([t.collectionName,...c],y),w=new Map,v=new Set;for(let x of b){const A=[x.id,...x.attribute].join("-");if(!w.has(A))w.set(A,x.timestamp),v.add(x.id);else{const T=w.get(A);Ts(x.timestamp,T)>0&&(w.set(A,x.timestamp),v.delete(x.id),v.add(x.id))}}return v}}async function jte(e,t,n,r){const{where:s}=t,[i,u,o]=qte(t,n);if(i===-1)return;const a=s[i];if(u==="range"){r.where[i]=!0;let c;const l=Ute(t,a[0],i,ng.includes(a[1])?"lt":"gt");return l!==-1&&(c=s[l],r.where[l]=!0),new Set((await $te(e,t,[a,c])).map(d=>d.id))}if(u==="equality")return r.where[i]=!0,new Set((await Bte(e,t,a,o)).map(c=>c.id))}const Lte=["="],ng=[">",">="],Ax=["<","<="],Fte=[...ng,...Ax];async function $te(e,t,n){const{collectionName:r}=t,[s,i]=n,u=s[0].split("."),o=ng.includes(s[1])?s:i,a=Ax.includes(s[1])?s:i,c={greaterThan:(o==null?void 0:o[1])===">"?Zc(o[2]):void 0,greaterThanOrEqual:(o==null?void 0:o[1])===">="?Zc(o[2]):void 0,lessThan:(a==null?void 0:a[1])==="<"?Zc(a[2]):void 0,lessThanOrEqual:(a==null?void 0:a[1])==="<="?Zc(a[2]):void 0};return await e.findValuesInRange([r,...u],c)}function Zc(e){return e instanceof Date?e.toISOString():Array.isArray(e)?JSON.stringify(e.map(Zc)):e}async function Bte(e,t,n,r){return(r==null?void 0:r.type)==="query"||(r==null?void 0:r.type)==="record"?[]:(r==null?void 0:r.type)==="set"?await zte(e,t,n):await Vte(e,t,n)}function Ute(e,t,n,r){const{where:s}=e;if(!s)return-1;for(let i=n+1;i<s.length;i++){const u=s[i];if(W0(u)||xi(u)||Ds(u)||ed(u))continue;const[o,a,c]=u;if(o===t&&(r==="gt"&&ng.includes(a)||r==="lt"&&Ax.includes(a)))return i}return-1}function qte(e,t){const{where:n,collectionName:r}=e;function s(i,u,o){if(!u)return;const a=Ha(i.split("."),u,o);if(a&&!(a.type==="query"||a.type==="record"))return a}if(n)for(let i=0;i<n.length;i++){const u=n[i];if(W0(u)||xi(u)||Ds(u)||ed(u))continue;const[o,a,c]=u;if(Lte.includes(a))return[i,"equality",s(o,t,r)];if(Fte.includes(a))return[i,"range",s(o,t,r)]}return[-1,void 0,void 0]}async function Vte(e,t,n){return await e.findByAVE([[t.collectionName,...n[0].split(".")],n[2]])}async function zte(e,t,n){return await e.findByAVE([[t.collectionName,...n[0].split("."),n[2]],!0])}async function Hte(e,t){return Array.from(new Set((await e.findByAVE([["_collection"],t.collectionName])).map(n=>n.id)))}async function Gte(e,t,n){const r={where:t.where?new Array(t.where.length).fill(!1):[],order:t.order?new Array(t.order.length).fill(!1):[],after:!t.after},s=Mte(t);if(s)return{candidates:[s],fulfilled:r};const i=await jte(e,t,n,r);if(i)return{candidates:Array.from(i),fulfilled:r};const u=await Pte(e,t,n,r);return u?{candidates:Array.from(u),fulfilled:r}:{candidates:await Hte(e,t),fulfilled:r}}function Jte(e,t,n){return!!$I(e,t,n).length}function FI(e,t,n){var o;let r=ug(t,n);const s=e.split("."),i=[],u={};for(const a of s)i.push(a),r=r.get(a),((o=r.current)==null?void 0:o.type)==="query"&&(u[i.join(".")]=r.current);return u}function $I(e,t,n){return Object.keys(FI(e,t,n))}function Wte(e,t,n){const r={};for(const s of e){const i=$I(s,t,n);if(!i.length)continue;const u=i.shift();r[u]||(r[u]=new Set);for(let o of i)o=o.slice(u.length+1),r[u].add(o)}return r}function U2(e,t){return Ic(e,t&&t.size>0?t:void 0)}async function Qte(e,t){const n=[],r=await e.findAllClientIds(),s=new Map(r.map(i=>[i,t.get(i)??0]));for(const[i,u]of s){const o=await e.findByClientTimestamp(i,"gt",[u,i]);for(const a of o)n.push(a)}return n}async function q2(e,t,n,r,s,i={}){var l,d,h;const u=Xte(await Ox(e,t,n,s,i)),o=r.reduce((f,g)=>(f.has(g.id)||f.set(g.id,[]),f.get(g.id).push(g),f),new Map),a=[],c=r.reduce((f,g)=>{const[m,y]=g.timestamp;return(!f.has(y)||m<f.get(y)+1)&&f.set(y,Math.max(m-1,0)),f},new Map);for(const f of o.keys()){const g=await t.findByEntity(f),m=(l=U2(g,c).get(f))==null?void 0:l.data,y=U2(g).get(f),b=y==null?void 0:y.data;for(const w of u){if(w.collectionName!==hr(f)[0])continue;const v=!!m&&uf(m,w.where,i.schema&&((d=i.schema[w.collectionName])==null?void 0:d.schema)),x=!!b&&uf(b,w.where,i.schema&&((h=i.schema[w.collectionName])==null?void 0:h.schema));if(!v&&!x)continue;const A=(w.where??[]).filter(te=>xi(te));let T=v;if(v&&A.length>0)for(const{exists:te}of A){const{results:_e}=await za(e,t,w,te,"one",s,i,m);if(_e===null){T=!1;continue}}const V=[];let W=x;if(x&&A.length>0)for(const{exists:te}of A){const _e=await za(e,t,w,te,"one",s,i,b);if(_e.results===null){W=!1;continue}for(const H of _e.triples.values())for(const fe of H)V.push(fe)}if(!(!T&&!W)){if(!T){if(A.length===0){const te=o.get(f),_e=new Set(te.map(fe=>fe.id+JSON.stringify(fe.attribute)+JSON.stringify(fe.timestamp))),H=Object.values(y.triples).flat().filter(fe=>!_e.has(fe.id+JSON.stringify(fe.attribute)+JSON.stringify(fe.timestamp)));for(const fe of H)V.push(fe)}for(const te of V)a.push(te)}for(const te of o.get(f))a.push(te)}}}return a}function Xte(e){const t=[];for(const n of UI(e))t.push(BI(n.slice().reverse()));return t}function BI(e,t=[]){const[n,...r]=e;if(r.length===0)return{...n,where:[...n.where??[],...t]};const s=(n.where??[]).filter(au).filter(o=>z2(o[2])),i=(n.where??[]).filter(au).filter(o=>!z2(o[2])),u=BI(r,s.map(Yte));return{...n,where:[...i,...t,{exists:u}]}}function*UI(e,t=[]){yield[...t,e];const n=(e.where??[]).filter(i=>xi(i)),r=Object.values(e.include??{}),s=[...n.map(i=>i.exists),...r.map(i=>i.subquery)];for(const i of s){const u={...e,where:(e.where??[]).filter(o=>!xi(o)||o.exists!==i)};yield*UI(i,[...t,u])}}const Kte={"=":"=","!=":"!=","<":">",">":"<","<=":">=",">=":"<=",in:"has",nin:"!has",has:"in","!has":"nin"};function Yte(e){const[t,n,r]=e;if(!Nc(r))throw new $(`Expected filter value to be a relation variable, but got ${r}`);return[r.slice(1),Kte[n],"$"+t]}function Zte(e){return async t=>{var i;const n=await e.findByEntity(t),r=(i=Ic(n).get(t))==null?void 0:i.data;return[ia(t),{triples:n,entity:r,relationships:{},existsFilterTriples:[]}]}}function ene(e,t,n,r,s){const{where:i}=n,u=Ste(n);return async([o,a])=>{const{entity:c}=a;if(!c)return!1;if(!i)return!0;for(const l of u){const d=i[l];if(!await hy(e,t,n,r,s,a,d))return!1}return!0}}function tne(e){const{order:t,after:n,collectionName:r}=e;let s=!1,i=!1,u=!1;return async([o,{entity:a}])=>{if(!n)return!0;const[c,l]=n;if(s&&u||i)return!0;const[d,h]=t&&t.length>0?t[0]:["id","ASC"],f=a[d][0],[g,m]=c,y=ue.encodeValue(g),b=ue.encodeValue(f);return b===y?(s=!0,cn(r,o)===m&&(u=!0)):(h==="ASC"?b>y:b<y)&&(i=!0),l&&(s&&u||i)}}function nne(e,t,n,r,s){const{order:i,collectionName:u}=n,{schema:o,skipRules:a,cache:c,stateVector:l}=s,d=o?Wte((i??[]).map(h=>h[0]),o,u):{};return async([h,{entity:f,relationships:g,triples:m,existsFilterTriples:y}])=>{if(!Object.keys(d).length)return[h,{entity:f,relationships:g,triples:m,existsFilterTriples:y}];for(const[b,w]of Object.entries(d)){if(g[b])continue;const v=o?Ha(b.split("."),o,n.collectionName):void 0;if(!v||(v==null?void 0:v.type)!=="query")throw new $(`Could not find relationship info for ${b} in the schema.`);const x=v.query,A=Array.from(w.values()).reduce((W,te)=>(W[te]=null,W),{});let T={...x,include:{...x.include??{},...A}};const V=await za(e,t,n,T,v.cardinality,r,s,f);f[b]=V.results,g[b]=Array.from(V.triples.values()).flat()}return[h,{entity:f,relationships:g,triples:m,existsFilterTriples:y}]}}function rne(e,t,n,r,s){const{include:i}=n,u=Object.entries(i??{});return async([o,{entity:a,relationships:c,triples:l,existsFilterTriples:d}])=>{for(const[h,{subquery:f,cardinality:g}]of u){if(c[h])continue;const m=await za(e,t,n,f,g,r,s,a);a[h]=m.results,c[h]=Array.from(m.triples.values()).flat()}return[o,{entity:a,triples:l,relationships:c,existsFilterTriples:d}]}}function sne(e){const t=e.indexOf(".");if(t===-1)return e;const[n,r]=[e.slice(0,t),e.slice(t+1)],s=parseInt(n);return isNaN(s)?e:`${s+1}.${r}`}async function za(e,t,n,r,s,i,u,o){const{schema:a}=u,c=lne(o,a,n.collectionName);i.queriedDataStack=[...i.queriedDataStack,c];let l={...r,vars:{...n.vars??{},...r.vars??{}}};l=zr(l,a,{roles:e.sessionRoles},{skipRules:u.skipRules});const d=s==="one"?await Ex(e,t,l,i,u):await oi(e,t,l,i,u);return i.queriedDataStack.pop(),d}function vr(){return{queriedDataStack:[]}}function ine(e){return e==="_collection"}async function oi(e,t,n,r,s={}){var x;const{schema:i,cache:u}=s,o=(x=i==null?void 0:i[n.collectionName])==null?void 0:x.schema;if(u&&NI.canCacheQuery(n,o))return u.resolveFromCache(n,e.systemVars,r,s);const a=await Ox(e,t,n,r,s),{order:c,limit:l,select:d,where:h,collectionName:f,after:g}=a,{candidates:m,fulfilled:y}=await Gte(t,a,i),b=new Map;let w=new Di().map(Zte(t)).filter(ene(e,t,a,r,s)).tap(async([A,{triples:T}])=>{b.has(A)?b.set(A,b.get(A).concat(T)):b.set(A,T)}).filter(async([,{entity:A}])=>!yte(A));c&&!y.order.every(A=>A)&&(w=w.map(nne(e,t,n,r,s)).sort(([A,{entity:T}],[V,{entity:W}])=>Tx(n)(T,W))),g&&!y.after&&(w=w.filter(tne(n)),y.after=!0),l&&(w=w.take(l)),(!d||d.length>0||n.include&&Object.keys(n.include).length>0)&&(w=w.map(rne(e,t,n,r,s)).map(async([A,{entity:T,relationships:V,triples:W,existsFilterTriples:te}])=>{const _e=d||(i&&n.collectionName!=="_metadata"?Object.entries(i[n.collectionName].schema.properties).filter(([tt,rr])=>rr.type!=="query").map(([tt])=>tt):Object.keys(T).filter(tt=>!ine(tt))),H=Object.keys(n.include??{}),fe=_e.concat(H).reduce(fne(T),{});return[A,{entity:fe,relationships:V,triples:W,existsFilterTriples:te}]})),w=w.tap(([A,{relationships:T,existsFilterTriples:V}])=>{b.has(A)||b.set(A,[]);for(const W of Object.values(T))b.set(A,b.get(A).concat(W));b.set(A,b.get(A).concat(V))}).map(([A,{entity:T}])=>[A,T]);const v=await w.run(m);return{results:new Map(v),triples:b}}function une(e,t){e.order&&t.sort((n,r)=>Tx(e)(n[1],r[1]))}function Tx(e){return(t,n)=>{var r,s;for(const[i,u]of e.order){const o=(r=V2(t,i.split(".")))==null?void 0:r[0],a=(s=V2(n,i.split(".")))==null?void 0:s[0],c=ue.encodeValue(o??ue.MIN),l=ue.encodeValue(a??ue.MIN),d=c<l?-1:c>l?1:0;if(d!==0)return u==="ASC"?d:d*-1}return 0}}function V2(e,t){return t.reduce((n,r)=>n[r],e)}async function Ex(e,t,n,r,s={}){n={...n,limit:1};const i=await oi(e,t,n,r,s),{results:u,triples:o}=i;return{results:[...u.values()][0]??null,triples:o}}function uf(e,t,n){if(!t)return!0;const r=t.filter(au),s=t.filter(Ds).filter(c=>c.mod==="or"),i=t.filter(Ds).filter(c=>c.mod==="and");return!(!one(e,r,n)||!s.every(({filters:c})=>c.some(l=>uf(e,[l],n)))||!i.every(({filters:c})=>uf(e,c,n)))}function one(e,t,n){const r=t.reduce((s,i)=>{const[u,o,a]=i;return s.has(u)?s.get(u).push([o,a]):s.set(u,[[o,a]]),s},new Map);return r.size===0||[...r.entries()].every(([s,i])=>{const u=n&&da(n,s.split("."));return i.every(([o,a])=>u&&u.type==="set"?RI(e,s,o,a):kI(e,s,o,a))})}function qI(e,t,n,r,s,i={}){const{select:u,order:o,limit:a,include:c}=n,l=vr(),h=(async()=>{let f=new Map,g=new Map,m=()=>{};try{const y=await oi(e,t,n,l,i);f=y.results,g=y.triples;const{where:b}=await Ox(e,t,n,l,i);m=t.onWrite(async w=>{var x;try{if(b&&gne(b,H=>xi(H))||c&&Object.keys(c).length>0||o&&o.some(H=>i.schema&&Jte(H[0],i.schema,n.collectionName))){const H=await oi(e,t,n,vr(),{schema:i.schema,skipRules:i.skipRules,cache:i.cache});f=H.results,g=H.triples,await r([new Map([...f].map(([fe,tt])=>[fe,Zi(tt,i.schema,n.collectionName)])),g]);return}const A=Object.values(w).flatMap(H=>H.inserts),T=Object.values(w).flatMap(H=>H.deletes);let V=new Map(f);const W=new Map,te=new Set([...A,...T].map(({id:H})=>hr(H)).filter(([H,fe])=>H===n.collectionName).map(([H,fe])=>fe));if(!te.size)return;let _e=!1;for(const H of te){let tt=function(Bo,_u){var Hx;if(!_u.after||!((Hx=_u.order)!=null&&Hx.length))return!0;const Vx=_u.order[0][0],I8=_u.order[0][1],[N8,zx]=_u.after,[ud,od]=N8,ad=Bo[Vx][0];return I8==="ASC"?ad===ud?zx?Bo.id[0]>=ia(od):Bo.id[0]>ia(od):ad>ud:ad===ud?zx?Bo.id[0]<=ia(od):Bo.id[0]<ia(od):ad<ud};var v=tt;const fe=await t.findByEntity(cn(n.collectionName,H)),rr=new Q0;yx(rr,fe);const sr=rr.data,id=sr._collection&&sr._collection[0]===n.collectionName&&uf(sr,b??[],i.schema&&((x=i.schema[n.collectionName])==null?void 0:x.schema))&&tt(sr,n);let Su=!0;if(o&&a&&V.size>=a){const _u=[...V.values()].at(-1);Su=Tx(n)(sr,_u)<1}id&&Su?(!V.has(H)||!nd(V.get(H),sr))&&(V.set(H,sr),W.set(H,Object.values(rr.triples)),_e=!0):V.has(H)&&(V.delete(H),W.set(H,Object.values(rr.triples)),_e=!0)}if(!_e)return;if(o||a){const H=[...V];if(a&&H.length<a){const fe=H.at(H.length-1),tt=fe&&cn(n.collectionName,fe[0]),rr={...n,limit:a-H.length,after:tt?[[o?fe[1][o[0][0]][0]:tt,tt],!1]:void 0},sr=await oi(e,t,rr,vr(),{schema:i.schema,skipRules:i.skipRules,cache:i.cache});for(const kc of sr.results)H.push(kc)}o&&une(n,H),V=new Map(H.slice(0,a))}f=V,g=W,await r([new Map([...f].map(([H,fe])=>[H,Zi(fe,i.schema,n.collectionName)])),g])}catch(A){console.error(A),s&&await s(A)}}),await r([new Map([...f].map(([w,v])=>[w,Zi(v,i.schema,n.collectionName)])),g])}catch(y){console.error(y),s&&await s(y)}return m})();return async()=>{(await h)()}}function ane(e,t,n,r,s,i={}){return qI(e,t,n,([u])=>r(u),s,i)}function cne(e,t,n,r,s,i={}){const o=(async()=>{let a=new Map;try{if(i.stateVector&&i.stateVector.size>0){const l=await Qte(t,i.stateVector);a=(await q2(e,t,n,l,vr(),i)).reduce((h,f)=>(h.has(f.id)?h.get(f.id).push(f):h.set(f.id,[f]),h),new Map)}else a=(await oi(e,t,n,vr(),{schema:i.schema,stateVector:i.stateVector,cache:i.cache})).triples;const c=t.onWrite(async l=>{const d=Object.values(l).flatMap(g=>g.inserts),f=(await q2(e,t,n,d,vr(),i)).reduce((g,m)=>(g.has(m.id)?g.get(m.id).push(m):g.set(m.id,[m]),g),new Map);f.size>0&&r(f)});return await r(a),c}catch(c){console.error(c),s&&await s(c)}return()=>{}})();return async()=>{(await o)()}}function lne(e,t,n){var s;let r={};if(t){const i=(s=t[n])==null?void 0:s.schema;r={...Object.entries(i.properties).reduce((o,[a,c])=>(c.type==="query"||(o[a]=void 0),o),{}),...Zi(e,t,n)}}else r={...yn(e,!0)};return r._collection=n,r}function fne(e){return(t,n)=>{const r=n.split("."),s=r.pop();let i=t,u=e;for(const o of r)i[o]=i[o]??{},i=i[o],u=e[o][0];return i[s]=u[s],t}}async function Ox(e,t,n,r,s){const i=(n.where??[]).filter(au);for(const a of i){const[c,l,d]=a;Nc(d)&&await dne(d,e,t,r,s)}const u=VI(n,{systemVars:e.systemVars,roles:e.sessionRoles},r),o=n.where?zI(n.where,u):void 0;return{...n,where:o}}function VI(e,t,n){var i,u,o,a,c;const r={...((i=t.systemVars)==null?void 0:i.global)??{},...((u=t.systemVars)==null?void 0:u.session)??{},...e.vars??{},...((n==null?void 0:n.queriedDataStack)??[]).reduce((l,d)=>({...l,...d}),{})},s={global:((o=t.systemVars)==null?void 0:o.global)??{},session:((a=t.systemVars)==null?void 0:a.session)??{},query:e.vars??{},role:e.collectionName==="_metadata"||(c=t.roles)==null?void 0:c.reduce((l,d)=>({...l,...d.roleVars}),{}),...((n==null?void 0:n.queriedDataStack)??[]).reduce((l,d,h,f)=>({...l,[f.length-h]:d}),{})};return{...r,...s}}async function dne(e,t,n,r,s){if(!s.schema)return;const[i,u]=Ix(e),o=parseInt(i??"");if(!isNaN(o)){const a=r.queriedDataStack.length-o,c=r.queriedDataStack[a],l=FI(u,s.schema,c._collection),d=Object.entries(l);if(d.length>0){const h=d.at(0),g=d.at(-1)[0],m=h[1],y=g.split(".");if(m.cardinality!=="one")throw new $('Cannot load variables with cardinality "many"');const b=y.slice(1).reverse().reduce((x,A)=>({[A]:x}),null);let w={...m.query};b!==null&&(w.include=b);const{results:v}=await za(t,n,{collectionName:c._collection},w,m.cardinality,vr(),s,c);c[y[0]]=yn(v)}}}function Zi(e,t,n){var i;const r=yn(e);delete r._collection;const s=(i=t==null?void 0:t[n])==null?void 0:i.schema;return s?s.convertDBValueToJS(r,t):r}const of="#";function hne(e){if(!e)return new c2(e,"id cannot be undefined.");if(String(e).includes(of))return new c2(e,`Id cannot include ${of}.`)}function cn(e,t){return`${e}${of}${t}`}function hr(e){const t=e.split(of);if(t.length!==2)throw new eG(`Malformed ID: ${e} should only include one separator(${of})`);return[t[0],t[1]]}function ia(e){const[t,n]=hr(e);return n}function zI(e,t){return e.map(n=>{if(Ds(n))return{...n,filters:zI(n.filters,t)};if(au(n)){const r=pne(n[2],t);return[n[0],n[1],r]}return n})}function pne(e,t={}){if(!Nc(e))return e;const[n,r]=Ix(e);if(n){const s=t[n],i=r.split(".");let u=s;for(const o of i){if(u==null)throw new a2(e);u=u[o]}return u}else{if(r in t)return t[r];throw new a2(e)}}function*HI(e){for(const t of e)Ds(t)?yield*HI(t.filters):yield t}function gne(e,t){for(const n of HI(e))if(t(n))return!0;return!1}async function GI(e){return e.findByEntity(cn("_metadata","_schema"))}async function gy(e){const t=await GI(e);return{schema:t.length>0?Bne(t):void 0,schemaTriples:t}}async function mne(e,t){if(!t)return{successful:!1,issues:[]};const n=await e.transact(async r=>{const s=await r.getSchema();let i=[];if(s){const l=ite(s,t);if(l.length===0)return{successful:!0,issues:i};if(i=await cte(r,l),i.length>0&&i.some(d=>d.violatesExistingData))return{successful:!1,issues:i};l.length>0&&e.logger.info(`applying ${l.length} changes to schema`)}const u=await r.storeTx.findByEntity(cn("_metadata","_schema"));await r.storeTx.deleteTriples(u);const o=$ne(t),a=await r.storeTx.clock.getNextTimestamp(),c=o.map(([l,d,h])=>({id:l,attribute:d,value:h,timestamp:a,expired:!1}));return await r.storeTx.insertTriples(c),{successful:!0,issues:i}},{dangerouslyBypassSchemaInitialization:!0});return(n==null?void 0:n.output)??{successful:!1,issues:[]}}function yne(e,t,n){const r=n??console,s=`Found ${t.length} backwards incompatible schema changes.`;t.length>0?r.warn(s):r.info(s),e?r.info("Schema update successful"):(r.error("Schema update failed. Please resolve the following issues:"),t.filter(o=>o.violatesExistingData).reduce((o,a)=>{const c=a.context.collection,l=o.get(c)??[];return o.set(c,[...l,a]),o},new Map).forEach((o,a)=>{r.error(`
Collection: '${a}'`),o.forEach(({issue:c,violatesExistingData:l,context:d,cure:h})=>{l&&r.error(`	'${d.attribute.join(".")}'
		Issue: ${c}
		Fix:   ${h}`)})}),r.info(""))}function bne(e,t,n){var a;if(e==null)throw new uG("Unable to run triple validation due to missing schema. This is unexpected and likely a bug.");const[r,...s]=t;if(r==="_collection"||r==="_metadata")return;const i=e[r];if(!i)throw new gl(r,e);const u=da(i.schema,s);if(n==="{}"&&["record","set"].includes(u.type))return;const o=g0.includes(u.type);if(!(!o&&["record","set"].includes(u.type)&&((a=u.options)==null?void 0:a.nullable)===!0&&n===null)){if(!o)throw new mr(s,"Cannot set a non-value type to a value. For example, you may be attempting to set a value on a record type.");if(!u.validateTripleValue(n))throw new iG(r,t,n)}}function JI(e,t,n){return e.forEach((r,s)=>{e.set(s,Zi(r,t,n))}),e}function Nc(e){return typeof e=="string"&&e.startsWith("$")}function z2(e){if(!Nc(e))return!1;const[t,n]=Ix(e);return t===void 0&&n!=="SESSION_USER_ID"?!0:!isNaN(parseInt(t??""))}const wne=["global","session","role","query"];function Ix(e){const t=e.slice(1).split(".");if(t.length<1)throw new $(`Invalid variable: ${e}`);return t.length===1?[void 0,t[0]]:xne(t[0])?[t[0],t.slice(1).join(".")]:[void 0,t.join(".")]}function xne(e){return wne.includes(e??"")||!isNaN(parseInt(e??""))}let af=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,n)=>(n&=63,n<36?t+=n.toString(36):n<62?t+=(n-26).toString(36).toUpperCase():n>62?t+="-":t+="_",t),"");function rg(e,t,n){return`Expected a ${e} value${t.nullable?" or null":""}, but got ${typeof n} instead.`}const vne=["=","!=","like","nlike","in","nin"];function my(e={}){if(e&&!sg(e))throw new m0(e);return{type:"string",supportedOperations:vne,context:{},options:e,toJSON(){return{type:this.type,options:this.options}},convertInputToDBValue(t){const n=this.validateInput(t);if(n)throw new Sc("string",t,n);return t},convertDBValueToJS(t){return t},convertJSONToJS(t){if(e.nullable&&t===null)return null;if(typeof t!="string")throw new _c("string",t);return t},convertJSToJSON(t){return t},defaultInput(){return ig(e)},validateInput(t){if(!(e.nullable&&t===null)){if(typeof t!="string")return rg("string",e,t);if(e.enum&&!e.enum.includes(t))return Sne(e.enum,t)}},validateTripleValue(t){return typeof t=="string"&&(!e.enum||e.enum.includes(t))||!!e.nullable&&t===null},fromString(t){return t}}}function Sne(e,t){return`Expected a value in the enum [${e.join(", ")}], but got ${t} instead.`}const _ne=/t|\s/i;function Ane(e){const t=e.split(_ne);return t.length===2&&Ine(t[0])&&Rne(t[1],!0)}function Tne(e){return e%4===0&&(e%100!==0||e%400===0)}const Ene=/^[\+\-]?([\d]{4,6})-(\d\d)-(\d\d)$/,One=[0,31,28,31,30,31,30,31,31,30,31,30,31];function Ine(e){const t=Ene.exec(e);if(!t)return!1;const n=+t[1],r=+t[2],s=+t[3];return r>=1&&r<=12&&s>=1&&s<=(r===2&&Tne(n)?29:One[r])}const Nne=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function Rne(e,t){const n=Nne.exec(e);if(!n)return!1;const r=+n[1],s=+n[2],i=+n[3],u=n[5];return(r<=23&&s<=59&&i<=59||r===23&&s===59&&i===60)&&(!t||u!=="")}const kne=["=","!=","<",">","<=",">="];function WI(e={}){if(!sg(e))throw new m0(e);return{type:"date",supportedOperations:kne,context:{},options:e,toJSON(){return{type:this.type,options:this.options}},convertInputToDBValue(t){const n=this.validateInput(t);if(n)throw new Sc("date",t,n);return t?new Date(t).toISOString():null},convertDBValueToJS(t){return t?new Date(t):null},convertJSONToJS(t){if(e.nullable&&t===null)return null;if(typeof t!="string")throw new _c("date",t);return new Date(t)},convertJSToJSON(t){return t===null?t:t.toISOString()},defaultInput(){const t=ig(e);return t==null?t:new Date(t)},validateInput(t){const n=t instanceof Date&&!Number.isNaN(t.getTime()),r=typeof t=="string"&&!Number.isNaN(Date.parse(t)),s=e.nullable&&t===null;if(!(n||r||s))return rg("date",e,t)},validateTripleValue(t){return e.nullable&&t===null?!0:typeof t!="string"?!1:Ane(t)},fromString(t){return new Date(t)}}}function QI(e){const t=(Object.entries(e).filter(([r,s])=>!!s.context.optional).map(([r,s])=>r)||[]).sort();function n(r){return t.includes(r)}return{type:"record",supportedOperations:[],context:{},properties:e,optional:t,toJSON(){const r=Object.fromEntries(Object.entries(e).map(([i,u])=>[i,u.toJSON()])),s={type:this.type,properties:r};return t.length>0&&(s.optional=t),s},convertInputToDBValue(r){const s=this.validateInput(r);if(s)throw new Sc("record",JSON.stringify(r),s);return Object.fromEntries(Object.entries(e).filter(([i,u])=>{const o=u.type==="query",a=n(i)&&r[i]===void 0;return!o&&!a}).map(([i,u])=>[i,u.convertInputToDBValue(r[i])]))},convertDBValueToJS(r,s){const i={};for(const u in r)if(Object.prototype.hasOwnProperty.call(r,u)){const o=r[u];if(o===void 0)continue;if(!e[u]){i[u]=o;continue}i[u]=e[u].convertDBValueToJS(o,s)}return i},convertJSONToJS(r,s){if(typeof r!="object")throw new _c("record",r);return Object.fromEntries(Object.entries(r).map(([i,u])=>{const o=e[i];if(!o)throw new $(`Invalid property ${i} for record`);return[i,o.convertJSONToJS(u,s)]}))},convertJSToJSON(r,s){return Object.fromEntries(Object.entries(e).filter(([i,u])=>!(n(i)&&r[i]===void 0)).map(([i,u])=>[i,u.convertJSToJSON(r[i],s)]))},defaultInput(){if(!this.context.optional)return Object.fromEntries(Object.entries(e).map(([r,s])=>[r,s.defaultInput()]).filter(([r,s])=>s!==void 0))},validateInput(r){if(r===null)return"value cannot be null";if(typeof r!="object")return"value must be an object";const s=Object.entries(e).filter(([o,a])=>!n(o)&&a.type!=="query"&&a.defaultInput()===void 0),i=new Set(Object.keys(r)),u=s.filter(([o,a])=>!i.has(o)).map(([o,a])=>o);if(u.length>0)return`missing properties: ${u.join(", ")}`;for(const o in r)if(e[o]){const a=e[o];if(n(o)&&r[o]===void 0)continue;const c=a.validateInput(r[o]);if(c)return`invalid value for ${o} (${c})`}else return`invalid property ${o}`},validateTripleValue(r){return!0}}}const Cne=["=","!=","<",">","<=",">=","in","nin"];function XI(e={}){if(e&&!sg(e))throw new m0(e);return{type:"number",supportedOperations:Cne,context:{},options:e,toJSON(){return{type:this.type,options:this.options}},convertInputToDBValue(t){const n=this.validateInput(t);if(n)throw new Sc("number",t,n);return t},convertDBValueToJS(t){return t},convertJSONToJS(t){if(e.nullable&&t===null)return null;if(typeof t!="number")throw new _c("number",t);return t},convertJSToJSON(t){return t},defaultInput(){return ig(e)},validateInput(t){if(!(typeof t=="number"||e.nullable&&t===null))return rg("number",e,t)},validateTripleValue(t){return typeof t=="number"||!!e.nullable&&t===null},fromString(t){return parseFloat(t)}}}const Dne=["=","!="];function Nx(e={}){if(!sg(e))throw new m0(e);return{type:"boolean",supportedOperations:Dne,context:{},options:e,toJSON(){return{type:this.type,options:this.options}},convertInputToDBValue(t){const n=this.validateInput(t);if(n)throw new Sc("boolean",t,n);return t},convertDBValueToJS(t){return t},convertJSONToJS(t){if(e.nullable&&t===null)return null;if(typeof t!="boolean")throw new _c("boolean",t);return t},convertJSToJSON(t){return t},defaultInput(){return ig(e)},validateInput(t){if(!(typeof t=="boolean"||e.nullable&&t===null))return rg("boolean",e,t)},validateTripleValue(t){return typeof t=="boolean"||!!e.nullable&&t===null},fromString(t){return t==="true"}}}const Mne=["=","!=","has","!has"];function KI(e,t={}){var n;if(!g0.includes(e.type))throw new oG(e.type);if((n=e.options)!=null&&n.nullable)throw new bG("Set types cannot contain nullable types");return{type:"set",supportedOperations:Mne,context:{},items:e,options:t,toJSON(){return{type:this.type,items:this.items.toJSON(),options:this.options}},convertInputToDBValue(r){const s=this.validateInput(r);if(s)throw new Sc(`set<${e.type}>`,r,s);return t.nullable&&r===null?null:[...r.values()].reduce((i,u)=>({...i,[u]:!0}),{})},convertJSONToJS(r){if(t.nullable&&r===null)return null;if(!Array.isArray(r))throw new _c(`set<${this.items.type}>`,r);return new Set(r)},defaultInput(){if(!this.context.optional)return new Set},convertDBValueToJS(r){return t.nullable&&r===null?null:new Set(Object.entries(r).filter(([s,i])=>!!i).map(([s,i])=>this.items.fromString(s)))},convertJSToJSON(r){if(t.nullable&&r===null)return null;if(!(r instanceof Set)&&!(r instanceof Array))throw new wG(`set<${this.items.type}>`,r);return[...r.values()]},validateInput(r){if(t.nullable===!0&&r===null)return;if(!(r instanceof Set)&&!(r instanceof Array))return`Expected Set, got ${Pne(r)}`;const s=Array.from(r.values());if(s.includes(null))return"Set cannot contain null values";const i=s.reduce((u,o)=>{if(u)return u;const a=this.items.validateInput(o);if(a)return[o,a]},void 0);if(i)return`Invalid value ${i[0]} for set<${e.type}>. Reason: ${i[1]}.`},validateTripleValue(r){throw new qO("Set validation")}}}function Pne(e){return e===null?"null":Array.isArray(e)?"array":e instanceof Set?"set":e instanceof Map?"map":typeof e}class jne{constructor(t,n,r){k(this,"changeTracker");k(this,"prefix");k(this,"schema");this.changeTracker=t,this.prefix=n,this.schema=r}add(t){const n=this.schema.items.convertInputToDBValue(t);this.changeTracker.set([...this.prefix.split("/"),n].join("/"),!0)}clear(){YI(this.changeTracker,this.prefix).forEach(n=>{this.changeTracker.set([...this.prefix.split("/"),n].join("/"),!1)})}delete(t){const n=this.schema.items.convertInputToDBValue(t);this.changeTracker.get([...this.prefix.split("/"),n].join("/"))&&this.changeTracker.set([...this.prefix.split("/"),n].join("/"),!1)}}function YI(e,t){const n=e.get(t);if(!n)return new Set;const r=Object.entries(n).filter(([s,i])=>!!i).map(([s,i])=>s);return new Set(r)}function Lne(e,t,n){const r=YI(e,t),s=new Set([...r].map(u=>n.items.convertDBValueToJS(u))),i=new jne(e,t,n);return new Proxy(s,{get(u,o){return typeof u[o]=="function"?function(...a){return i[o]&&i[o](...a),u[o](...a)}:Reflect.get(u,o)}})}function el(e,t="many"){return{type:"query",supportedOperations:[],context:{},cardinality:t,query:e,toJSON(){return{type:this.type,query:e,cardinality:t}},convertInputToDBValue(n){throw new $("Invalid Operation - Inserting relational data is not supported")},convertDBValueToJS(n,r){var i;if(!r)throw new $("A schema is required to convert DB value to JS");const s=(i=r==null?void 0:r[e.collectionName])==null?void 0:i.schema;if(!s)throw new gl(e.collectionName,r);if(!n)return n;if(t==="one")return s.convertDBValueToJS(n,r);if(t==="many")return new Map(Array.from(n.entries()).map(([u,o])=>[u,s.convertDBValueToJS(o,r)]));throw new hm(t)},convertJSONToJS(n,r){var i;if(!r)throw new $("A schema is required to convert JSON value to JS");const s=(i=r==null?void 0:r[e.collectionName])==null?void 0:i.schema;if(!s)throw new gl(e.collectionName,r);if(!n)return n;if(t==="one")return s.convertJSONToJS(n,r);if(t==="many")return new Map(n.map(([u,o])=>[u,s.convertJSONToJS(o,r)]));throw new hm(t)},convertJSToJSON(n,r){var i;if(!r)throw new $("A schema is required to convert JSON value to JS");const s=(i=r==null?void 0:r[e.collectionName])==null?void 0:i.schema;if(!s)throw new gl(e.collectionName,r);if(!n)return n;if(t==="one")return s.convertJSToJSON(n,r);if(t==="many")return Array.from(n.entries()).map(([u,o])=>[u,s.convertJSToJSON(o,r)]);throw new hm(t)},defaultInput(){},validateInput(n){},validateTripleValue(n){return!1}}}function sg(e){return tte(ZH,e)}rt.Readonly(rt.Tuple([rt.Number(),rt.String()]));function ig(e){let t=e.default;if(t!==void 0){if(typeof t!="object"||t===null)return t;{const{args:n,func:r}=t;if(r==="uuid")return n&&typeof n[0]=="number"?af(n[0]):af();if(r==="now")return new Date().toISOString()}}}function ep(e,t={}){if(!e)throw new hG("Failed to parse this schema definition from its serialized form because it is undefined.");let n;switch(e.type){case"string":n=my(e.options);break;case"number":n=XI(e.options);break;case"boolean":n=Nx(e.options);break;case"date":n=WI(e.options);break;case"set":n=KI(ep(e.items),e.options);break;case"query":n=el(e.query,e.cardinality);break;case"record":const r=e.optional||[];n=QI(Object.fromEntries(Object.entries(e.properties).map(([s,i])=>[s,ep(i,{optional:r.includes(s)})])));break;default:throw new pG(e.type)}for(const r in t)n.context[r]=t[r];return n}function da(e,t){if(t.length===0)throw new mr([]);let n=e.properties[t[0]];if(!n)throw new mr(t);for(let r=1;r<t.length;r++){if(!n)throw new mr(t);if(n.type==="query")return n;if(n.type==="set")n=Nx();else if(n.type==="record"){const s=t[r];n=n.properties[s]}else throw new mr(t)}if(!n)throw new mr(t);return n}function ZI(e,t,n){let r=0,s=ug(t,n);return{next(){if(r>=e.length)return{done:!0,value:s.current};const u=e[r];return s=s.get(u),r++,{done:!1,value:s.current}},[Symbol.iterator](){return this}}}function ug(e,t){var s,i;let n=(s=e[t])==null?void 0:s.schema;const r=u=>{let o=n;if((n==null?void 0:n.type)==="record")o=n.properties[u];else if((n==null?void 0:n.type)==="query"){const{query:a}=n;return ug(e,a.collectionName).get(u)}else o=void 0;return n=o,{get:r,current:n}};return{get:r,current:(i=e[t])==null?void 0:i.schema}}function Ha(e,t,n){let r=ZI(e,t,n),s=r.next();for(;!s.done;)s=r.next();return s.value}function Fne(e,t){return t?t.convertInputToDBValue(e):e}function eN(e){return Object.fromEntries(Object.entries(e).map(([t,n])=>[t,{...n,schema:ep(n.schema)}]))}function $ne(e){const t=Rx(e),n=y0(t),r=cn("_metadata","_schema");return[[r,["_collection"],"_metadata"],[r,["_metadata","id"],"_schema"],...n.map(u=>[r,["_metadata",...u[0]],u[1]])]}function Bne(e){const t=qa(e,cn("_metadata","_schema"));if(t)return yy(t.data)}function yy(e){const t=yn(e);delete t._collection,delete t.id;const n=t.version||0,r=t.collections||{};return Une({...t,version:n,collections:r})}function Une(e){if(!e)return;const t=eN(e.collections);return{...e,version:e.version,collections:t}}function Rx(e){if(!e)return;const t={};for(const[n,r]of Object.entries(e.collections)){const s=qne(r);t[n]=s}return{...e,version:e.version,collections:t}}function qne(e){const t=e.rules?{rules:e.rules}:{},n=e.permissions?{permissions:e.permissions}:{};return{schema:e.schema.toJSON(),...t,...n}}function Vne(e){return e.schema.defaultInput()}function zne(e){if(!e)return;const n=Wo(e).map(r=>JSON.stringify(r)).sort().join("");return Hne(n)}function Hne(e,t=31,n=1000000009){let r=0;for(let s=0;s<e.length;s++)r=(r*t+e.charCodeAt(s))%n;return r}var og={},Hr={},Gne=U&&U.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(r[i]=s[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Hr,"__esModule",{value:!0});Hr.EmptyBTree=Hr.asSet=Hr.simpleComparator=Hr.defaultComparator=void 0;function tN(e,t){if(Number.isFinite(e)&&Number.isFinite(t))return e-t;var n=typeof e,r=typeof t;if(n!==r)return n<r?-1:1;if(n==="object"){if(e===null)return t===null?0:-1;if(t===null)return 1;if(e=e.valueOf(),t=t.valueOf(),n=typeof e,r=typeof t,n!==r)return n<r?-1:1}return e<t?-1:e>t?1:e===t?0:Number.isNaN(e)?Number.isNaN(t)?0:-1:Number.isNaN(t)?1:Array.isArray(e)?0:Number.NaN}Hr.defaultComparator=tN;function Jne(e,t){return e>t?1:e<t?-1:0}Hr.simpleComparator=Jne;var Ms=function(){function e(t,n,r){this._root=Am,this._size=0,this._maxNodeSize=r>=4?Math.min(r,256):32,this._compare=n||tN,t&&this.setPairs(t)}return Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this._size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isEmpty",{get:function(){return this._size===0},enumerable:!1,configurable:!0}),e.prototype.clear=function(){this._root=Am,this._size=0},e.prototype.forEach=function(t,n){var r=this;return n!==void 0&&(t=t.bind(n)),this.forEachPair(function(s,i){return t(i,s,r)})},e.prototype.forEachPair=function(t,n){var r=this.minKey(),s=this.maxKey();return this.forRange(r,s,!0,t,n)},e.prototype.get=function(t,n){return this._root.get(t,n,this)},e.prototype.set=function(t,n,r){this._root.isShared&&(this._root=this._root.clone());var s=this._root.set(t,n,r,this);return s===!0||s===!1?s:(this._root=new Qne([this._root,s]),!0)},e.prototype.has=function(t){return this.forRange(t,t,!0,void 0)!==0},e.prototype.delete=function(t){return this.editRange(t,t,!0,H2)!==0},e.prototype.with=function(t,n,r){var s=this.clone();return s.set(t,n,r)||r?s:this},e.prototype.withPairs=function(t,n){var r=this.clone();return r.setPairs(t,n)!==0||n?r:this},e.prototype.withKeys=function(t,n){for(var r=this.clone(),s=!1,i=0;i<t.length;i++)s=r.set(t[i],void 0,!1)||s;return n&&!s?this:r},e.prototype.without=function(t,n){return this.withoutRange(t,t,!0,n)},e.prototype.withoutKeys=function(t,n){var r=this.clone();return r.deleteKeys(t)||!n?r:this},e.prototype.withoutRange=function(t,n,r,s){var i=this.clone();return i.deleteRange(t,n,r)===0&&s?this:i},e.prototype.filter=function(t,n){var r=this.greedyClone(),s;return r.editAll(function(i,u,o){if(!t(i,u,o))return s=rN}),!s&&n?this:r},e.prototype.mapValues=function(t){var n={},r=this.greedyClone();return r.editAll(function(s,i,u){return n.value=t(i,s,u),n}),r},e.prototype.reduce=function(t,n){for(var r=0,s=n,i=this.entries(this.minKey(),zc),u;!(u=i.next()).done;)s=t(s,u.value,r++,this);return s},e.prototype.entries=function(t,n){var r=this.findPath(t);if(r===void 0)return Ho();var s=r.nodequeue,i=r.nodeindex,u=r.leaf,o=n!==void 0?1:0,a=t===void 0?-1:u.indexOf(t,0,this._compare)-1;return Ho(function(){e:for(;;)switch(o){case 0:if(++a<u.keys.length)return{done:!1,value:[u.keys[a],u.values[a]]};o=2;continue;case 1:if(++a<u.keys.length)return n[0]=u.keys[a],n[1]=u.values[a],{done:!1,value:n};o=2;case 2:for(var c=-1;;){if(++c>=s.length){o=3;continue e}if(++i[c]<s[c].length)break}for(;c>0;c--)s[c-1]=s[c][i[c]].children,i[c-1]=0;u=s[0][i[0]],a=-1,o=n!==void 0?1:0;continue;case 3:return{done:!0,value:void 0}}})},e.prototype.entriesReversed=function(t,n,r){if(t===void 0&&(t=this.maxKey(),r=void 0,t===void 0))return Ho();var s=this.findPath(t)||this.findPath(this.maxKey()),i=s.nodequeue,u=s.nodeindex,o=s.leaf;Ln(!i[0]||o===i[0][u[0]],"wat!");var a=o.indexOf(t,0,this._compare);!r&&a<o.keys.length&&this._compare(o.keys[a],t)<=0&&a++;var c=n!==void 0?1:0;return Ho(function(){e:for(;;)switch(c){case 0:if(--a>=0)return{done:!1,value:[o.keys[a],o.values[a]]};c=2;continue;case 1:if(--a>=0)return n[0]=o.keys[a],n[1]=o.values[a],{done:!1,value:n};c=2;case 2:for(var l=-1;;){if(++l>=i.length){c=3;continue e}if(--u[l]>=0)break}for(;l>0;l--)i[l-1]=i[l][u[l]].children,u[l-1]=i[l-1].length-1;o=i[0][u[0]],a=o.keys.length,c=n!==void 0?1:0;continue;case 3:return{done:!0,value:void 0}}})},e.prototype.findPath=function(t){var n=this._root,r,s;if(n.isLeaf)r=G2,s=G2;else{r=[],s=[];for(var i=0;!n.isLeaf;i++){if(r[i]=n.children,s[i]=t===void 0?0:n.indexOf(t,0,this._compare),s[i]>=r[i].length)return;n=r[i][s[i]]}r.reverse(),s.reverse()}return{nodequeue:r,nodeindex:s,leaf:n}},e.prototype.diffAgainst=function(t,n,r,s){if(t._compare!==this._compare)throw new Error("Tree comparators are not the same.");if(this.isEmpty||t.isEmpty)return this.isEmpty&&t.isEmpty?void 0:this.isEmpty?r===void 0?void 0:e.stepToEnd(e.makeDiffCursor(t),r):n===void 0?void 0:e.stepToEnd(e.makeDiffCursor(this),n);for(var i=this._compare,u=e.makeDiffCursor(this),o=e.makeDiffCursor(t),a=!0,c=!0,l=e.compare(u,o,i);a&&c;){var d=e.compare(u,o,i),h=u.leaf,f=u.internalSpine,g=u.levelIndices,m=o.leaf,y=o.internalSpine,b=o.levelIndices;if(h||m){if(l!==0){if(d===0){if(h&&m&&s){var w=h.values[g[g.length-1]],v=m.values[b[b.length-1]];if(!Object.is(w,v)){var x=s(u.currentKey,w,v);if(x&&x.break)return x.break}}}else if(d>0){if(m&&r){var A=m.values[b[b.length-1]],x=r(o.currentKey,A);if(x&&x.break)return x.break}}else if(n&&h&&l!==0){var w=h.values[g[g.length-1]],x=n(u.currentKey,w);if(x&&x.break)return x.break}}}else if(!h&&!m&&d===0){var T=f.length-1,V=y.length-1,W=f[T][g[T]],te=y[V][b[V]];if(te===W){l=0,a=e.step(u,!0),c=e.step(o,!0);continue}}l=d,d<0?a=e.step(u):c=e.step(o)}if(a&&n)return e.finishCursorWalk(u,o,i,n);if(c&&r)return e.finishCursorWalk(o,u,i,r)},e.finishCursorWalk=function(t,n,r,s){var i=e.compare(t,n,r);if(i===0){if(!e.step(t))return}else i<0&&Ln(!1,"cursor walk terminated early");return e.stepToEnd(t,s)},e.stepToEnd=function(t,n){for(var r=!0;r;){var s=t.leaf,i=t.levelIndices,u=t.currentKey;if(s){var o=s.values[i[i.length-1]],a=n(u,o);if(a&&a.break)return a.break}r=e.step(t)}},e.makeDiffCursor=function(t){var n=t._root,r=t.height;return{height:r,internalSpine:[[n]],levelIndices:[0],leaf:void 0,currentKey:n.maxKey()}},e.step=function(t,n){var r=t.internalSpine,s=t.levelIndices,i=t.leaf;if(n===!0||i){var u=s.length;if(n===!0||s[u-1]===0){var o=r.length;if(o===0)return!1;for(var a=o-1,c=a;c>=0;){if(s[c]>0)return c<u-1&&(t.leaf=void 0,s.pop()),c<a&&(t.internalSpine=r.slice(0,c+1)),t.currentKey=r[c][--s[c]].maxKey(),!0;c--}return!1}else{var l=--s[u-1];return t.currentKey=i.keys[l],!0}}else{var d=r.length,h=d-1,f=r[h][s[h]];if(f.isLeaf){t.leaf=f;var l=s[d]=f.values.length-1;t.currentKey=f.keys[l]}else{var g=f.children;r[d]=g;var m=g.length-1;s[d]=m,t.currentKey=g[m].maxKey()}return!0}},e.compare=function(t,n,r){var s=t.height,i=t.currentKey,u=t.levelIndices,o=n.height,a=n.currentKey,c=n.levelIndices,l=r(a,i);if(l!==0)return l;var d=s<o?s:o,h=u.length-(s-d),f=c.length-(o-d);return h-f},e.prototype.keys=function(t){var n=this.entries(t,zc);return Ho(function(){var r=n.next();return r.value&&(r.value=r.value[0]),r})},e.prototype.values=function(t){var n=this.entries(t,zc);return Ho(function(){var r=n.next();return r.value&&(r.value=r.value[1]),r})},Object.defineProperty(e.prototype,"maxNodeSize",{get:function(){return this._maxNodeSize},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this._root.minKey()},e.prototype.maxKey=function(){return this._root.maxKey()},e.prototype.clone=function(){this._root.isShared=!0;var t=new e(void 0,this._compare,this._maxNodeSize);return t._root=this._root,t._size=this._size,t},e.prototype.greedyClone=function(t){var n=new e(void 0,this._compare,this._maxNodeSize);return n._root=this._root.greedyClone(t),n._size=this._size,n},e.prototype.toArray=function(t){t===void 0&&(t=2147483647);var n=this.minKey(),r=this.maxKey();return n!==void 0?this.getRange(n,r,!0,t):[]},e.prototype.keysArray=function(){var t=[];return this._root.forRange(this.minKey(),this.maxKey(),!0,!1,this,0,function(n,r){t.push(n)}),t},e.prototype.valuesArray=function(){var t=[];return this._root.forRange(this.minKey(),this.maxKey(),!0,!1,this,0,function(n,r){t.push(r)}),t},e.prototype.toString=function(){return this.toArray().toString()},e.prototype.setIfNotPresent=function(t,n){return this.set(t,n,!1)},e.prototype.nextHigherPair=function(t,n){return n=n||[],t===void 0?this._root.minPair(n):this._root.getPairOrNextHigher(t,this._compare,!1,n)},e.prototype.nextHigherKey=function(t){var n=this.nextHigherPair(t,zc);return n&&n[0]},e.prototype.nextLowerPair=function(t,n){return n=n||[],t===void 0?this._root.maxPair(n):this._root.getPairOrNextLower(t,this._compare,!1,n)},e.prototype.nextLowerKey=function(t){var n=this.nextLowerPair(t,zc);return n&&n[0]},e.prototype.getPairOrNextLower=function(t,n){return this._root.getPairOrNextLower(t,this._compare,!0,n||[])},e.prototype.getPairOrNextHigher=function(t,n){return this._root.getPairOrNextHigher(t,this._compare,!0,n||[])},e.prototype.changeIfPresent=function(t,n){return this.editRange(t,t,!0,function(r,s){return{value:n}})!==0},e.prototype.getRange=function(t,n,r,s){s===void 0&&(s=67108863);var i=[];return this._root.forRange(t,n,r,!1,this,0,function(u,o){return i.push([u,o]),i.length>s?Xne:void 0}),i},e.prototype.setPairs=function(t,n){for(var r=0,s=0;s<t.length;s++)this.set(t[s][0],t[s][1],n)&&r++;return r},e.prototype.forRange=function(t,n,r,s,i){var u=this._root.forRange(t,n,r,!1,this,i||0,s);return typeof u=="number"?u:u.break},e.prototype.editRange=function(t,n,r,s,i){var u=this._root;u.isShared&&(this._root=u=u.clone());try{var o=u.forRange(t,n,r,!0,this,i||0,s);return typeof o=="number"?o:o.break}finally{for(var a=void 0;u.keys.length<=1&&!u.isLeaf;)a||(a=u.isShared),this._root=u=u.keys.length===0?Am:u.children[0];a&&(u.isShared=!0)}},e.prototype.editAll=function(t,n){return this.editRange(this.minKey(),this.maxKey(),!0,t,n)},e.prototype.deleteRange=function(t,n,r){return this.editRange(t,n,r,H2)},e.prototype.deleteKeys=function(t){for(var n=0,r=0;n<t.length;n++)this.delete(t[n])&&r++;return r},Object.defineProperty(e.prototype,"height",{get:function(){for(var t=this._root,n=-1;t;)n++,t=t.isLeaf?void 0:t.children[0];return n},enumerable:!1,configurable:!0}),e.prototype.freeze=function(){var t=this;t.clear=t.set=t.editRange=function(){throw new Error("Attempted to modify a frozen BTree")}},e.prototype.unfreeze=function(){delete this.clear,delete this.set,delete this.editRange},Object.defineProperty(e.prototype,"isFrozen",{get:function(){return this.hasOwnProperty("editRange")},enumerable:!1,configurable:!0}),e.prototype.checkValid=function(){var t=this._root.checkValid(0,this,0);Ln(t===this.size,"size mismatch: counted ",t,"but stored",this.size)},e}();Hr.default=Ms;function Wne(e){return e}Hr.asSet=Wne;Symbol&&Symbol.iterator&&(Ms.prototype[Symbol.iterator]=Ms.prototype.entries);Ms.prototype.where=Ms.prototype.filter;Ms.prototype.setRange=Ms.prototype.setPairs;Ms.prototype.add=Ms.prototype.set;function Ho(e){e===void 0&&(e=function(){return{done:!0,value:void 0}});var t={next:e};return Symbol&&Symbol.iterator&&(t[Symbol.iterator]=function(){return this}),t}var nN=function(){function e(t,n){t===void 0&&(t=[]),this.keys=t,this.values=n||Ct,this.isShared=void 0}return Object.defineProperty(e.prototype,"isLeaf",{get:function(){return this.children===void 0},enumerable:!1,configurable:!0}),e.prototype.maxKey=function(){return this.keys[this.keys.length-1]},e.prototype.indexOf=function(t,n,r){for(var s=this.keys,i=0,u=s.length,o=u>>1;i<u;){var a=r(s[o],t);if(a<0)i=o+1;else if(a>0)u=o;else{if(a===0)return o;if(t===t)return s.length;throw new Error("BTree: NaN was used as a key")}o=i+u>>1}return o^n},e.prototype.minKey=function(){return this.keys[0]},e.prototype.minPair=function(t){if(this.keys.length!==0)return t[0]=this.keys[0],t[1]=this.values[0],t},e.prototype.maxPair=function(t){if(this.keys.length!==0){var n=this.keys.length-1;return t[0]=this.keys[n],t[1]=this.values[n],t}},e.prototype.clone=function(){var t=this.values;return new e(this.keys.slice(0),t===Ct?t:t.slice(0))},e.prototype.greedyClone=function(t){return this.isShared&&!t?this:this.clone()},e.prototype.get=function(t,n,r){var s=this.indexOf(t,-1,r._compare);return s<0?n:this.values[s]},e.prototype.getPairOrNextLower=function(t,n,r,s){var i=this.indexOf(t,-1,n),u=i<0?~i-1:r?i:i-1;if(u>=0)return s[0]=this.keys[u],s[1]=this.values[u],s},e.prototype.getPairOrNextHigher=function(t,n,r,s){var i=this.indexOf(t,-1,n),u=i<0?~i:r?i:i+1,o=this.keys;if(u<o.length)return s[0]=o[u],s[1]=this.values[u],s},e.prototype.checkValid=function(t,n,r){var s=this.keys.length,i=this.values.length;return Ln(this.values===Ct?s<=i:s===i,"keys/values length mismatch: depth",t,"with lengths",s,i,"and baseIndex",r),Ln(t==0||s>0,"empty leaf at depth",t,"and baseIndex",r),s},e.prototype.set=function(t,n,r,s){var i=this.indexOf(t,-1,s._compare);if(i<0){if(i=~i,s._size++,this.keys.length<s._maxNodeSize)return this.insertInLeaf(i,t,n,s);var u=this.splitOffRightSide(),o=this;return i>this.keys.length&&(i-=this.keys.length,o=u),o.insertInLeaf(i,t,n,s),u}else return r!==!1&&(n!==void 0&&this.reifyValues(),this.keys[i]=t,this.values[i]=n),!1},e.prototype.reifyValues=function(){return this.values===Ct?this.values=this.values.slice(0,this.keys.length):this.values},e.prototype.insertInLeaf=function(t,n,r,s){if(this.keys.splice(t,0,n),this.values===Ct){for(;Ct.length<s._maxNodeSize;)Ct.push(void 0);if(r===void 0)return!0;this.values=Ct.slice(0,this.keys.length-1)}return this.values.splice(t,0,r),!0},e.prototype.takeFromRight=function(t){var n=this.values;t.values===Ct?n!==Ct&&n.push(void 0):(n=this.reifyValues(),n.push(t.values.shift())),this.keys.push(t.keys.shift())},e.prototype.takeFromLeft=function(t){var n=this.values;t.values===Ct?n!==Ct&&n.unshift(void 0):(n=this.reifyValues(),n.unshift(t.values.pop())),this.keys.unshift(t.keys.pop())},e.prototype.splitOffRightSide=function(){var t=this.keys.length>>1,n=this.keys.splice(t),r=this.values===Ct?Ct:this.values.splice(t);return new e(n,r)},e.prototype.forRange=function(t,n,r,s,i,u,o){var a=i._compare,c,l;if(n===t){if(!r||(l=(c=this.indexOf(t,-1,a))+1,c<0))return u}else c=this.indexOf(t,0,a),l=this.indexOf(n,-1,a),l<0?l=~l:r===!0&&l++;var d=this.keys,h=this.values;if(o!==void 0)for(var f=c;f<l;f++){var g=d[f],m=o(g,h[f],u++);if(m!==void 0){if(s===!0){if(g!==d[f]||this.isShared===!0)throw new Error("BTree illegally changed or cloned in editRange");m.delete?(this.keys.splice(f,1),this.values!==Ct&&this.values.splice(f,1),i._size--,f--,l--):m.hasOwnProperty("value")&&(h[f]=m.value)}if(m.break!==void 0)return m}}else u+=l-c;return u},e.prototype.mergeSibling=function(t,n){if(this.keys.push.apply(this.keys,t.keys),this.values===Ct){if(t.values===Ct)return;this.values=this.values.slice(0,this.keys.length)}this.values.push.apply(this.values,t.reifyValues())},e}(),Qne=function(e){Gne(t,e);function t(n,r){var s=this;if(!r){r=[];for(var i=0;i<n.length;i++)r[i]=n[i].maxKey()}return s=e.call(this,r)||this,s.children=n,s}return t.prototype.clone=function(){for(var n=this.children.slice(0),r=0;r<n.length;r++)n[r].isShared=!0;return new t(n,this.keys.slice(0))},t.prototype.greedyClone=function(n){if(this.isShared&&!n)return this;for(var r=new t(this.children.slice(0),this.keys.slice(0)),s=0;s<r.children.length;s++)r.children[s]=r.children[s].greedyClone(n);return r},t.prototype.minKey=function(){return this.children[0].minKey()},t.prototype.minPair=function(n){return this.children[0].minPair(n)},t.prototype.maxPair=function(n){return this.children[this.children.length-1].maxPair(n)},t.prototype.get=function(n,r,s){var i=this.indexOf(n,0,s._compare),u=this.children;return i<u.length?u[i].get(n,r,s):void 0},t.prototype.getPairOrNextLower=function(n,r,s,i){var u=this.indexOf(n,0,r),o=this.children;if(u>=o.length)return this.maxPair(i);var a=o[u].getPairOrNextLower(n,r,s,i);return a===void 0&&u>0?o[u-1].maxPair(i):a},t.prototype.getPairOrNextHigher=function(n,r,s,i){var u=this.indexOf(n,0,r),o=this.children,a=o.length;if(!(u>=a)){var c=o[u].getPairOrNextHigher(n,r,s,i);return c===void 0&&u<a-1?o[u+1].minPair(i):c}},t.prototype.checkValid=function(n,r,s){var i=this.keys.length,u=this.children.length;Ln(i===u,"keys/children length mismatch: depth",n,"lengths",i,u,"baseIndex",s),Ln(i>1||n>0,"internal node has length",i,"at depth",n,"baseIndex",s);for(var o=0,a=this.children,c=this.keys,l=0,d=0;d<u;d++)o+=a[d].checkValid(n+1,r,s+o),l+=a[d].keys.length,Ln(o>=l,"wtf",s),Ln(d===0||a[d-1].constructor===a[d].constructor,"type mismatch, baseIndex:",s),a[d].maxKey()!=c[d]&&Ln(!1,"keys[",d,"] =",c[d],"is wrong, should be ",a[d].maxKey(),"at depth",n,"baseIndex",s),d===0||r._compare(c[d-1],c[d])<0||Ln(!1,"sort violation at depth",n,"index",d,"keys",c[d-1],c[d]);var h=l===0;return(h||l>r.maxNodeSize*u)&&Ln(!1,h?"too few":"too many","children (",l,o,") at depth",n,"maxNodeSize:",r.maxNodeSize,"children.length:",u,"baseIndex:",s),o},t.prototype.set=function(n,r,s,i){var u=this.children,o=i._maxNodeSize,a=i._compare,c=Math.min(this.indexOf(n,0,a),u.length-1),l=u[c];if(l.isShared&&(u[c]=l=l.clone()),l.keys.length>=o){var d;c>0&&(d=u[c-1]).keys.length<o&&a(l.keys[0],n)<0?(d.isShared&&(u[c-1]=d=d.clone()),d.takeFromRight(l),this.keys[c-1]=d.maxKey()):(d=u[c+1])!==void 0&&d.keys.length<o&&a(l.maxKey(),n)<0&&(d.isShared&&(u[c+1]=d=d.clone()),d.takeFromLeft(l),this.keys[c]=u[c].maxKey())}var h=l.set(n,r,s,i);if(h===!1)return!1;if(this.keys[c]=l.maxKey(),h===!0)return!0;if(this.keys.length<o)return this.insert(c+1,h),!0;var f=this.splitOffRightSide(),g=this;return a(h.maxKey(),this.maxKey())>0&&(g=f,c-=this.keys.length),g.insert(c+1,h),f},t.prototype.insert=function(n,r){this.children.splice(n,0,r),this.keys.splice(n,0,r.maxKey())},t.prototype.splitOffRightSide=function(){var n=this.children.length>>1;return new t(this.children.splice(n),this.keys.splice(n))},t.prototype.takeFromRight=function(n){this.keys.push(n.keys.shift()),this.children.push(n.children.shift())},t.prototype.takeFromLeft=function(n){this.keys.unshift(n.keys.pop()),this.children.unshift(n.children.pop())},t.prototype.forRange=function(n,r,s,i,u,o,a){var c=u._compare,l=this.keys,d=this.children,h=this.indexOf(n,0,c),f=h,g=Math.min(r===n?h:this.indexOf(r,0,c),l.length-1);if(i){if(f<=g)try{for(;f<=g;f++){d[f].isShared&&(d[f]=d[f].clone());var m=d[f].forRange(n,r,s,i,u,o,a);if(l[f]=d[f].maxKey(),typeof m!="number")return m;o=m}}finally{var y=u._maxNodeSize>>1;for(h>0&&h--,f=g;f>=h;f--)d[f].keys.length<=y&&(d[f].keys.length!==0?this.tryMerge(f,u._maxNodeSize):(l.splice(f,1),d.splice(f,1)));d.length!==0&&d[0].keys.length===0&&Ln(!1,"emptiness bug")}}else for(;f<=g;f++){var m=d[f].forRange(n,r,s,i,u,o,a);if(typeof m!="number")return m;o=m}return o},t.prototype.tryMerge=function(n,r){var s=this.children;return n>=0&&n+1<s.length&&s[n].keys.length+s[n+1].keys.length<=r?(s[n].isShared&&(s[n]=s[n].clone()),s[n].mergeSibling(s[n+1],r),s.splice(n+1,1),this.keys.splice(n+1,1),this.keys[n]=s[n].maxKey(),!0):!1},t.prototype.mergeSibling=function(n,r){var s=this.keys.length;this.keys.push.apply(this.keys,n.keys);var i=n.children;if(this.children.push.apply(this.children,i),n.isShared&&!this.isShared)for(var u=0;u<i.length;u++)i[u].isShared=!0;this.tryMerge(s-1,r)},t}(nN),Ct=[],rN={delete:!0},H2=function(){return rN},Xne={break:!0},Am=function(){var e=new nN;return e.isShared=!0,e}(),G2=[],zc=[];function Ln(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!e)throw t.unshift("B+ tree"),new Error(t.join(" "))}Hr.EmptyBTree=function(){var e=new Ms;return e.freeze(),e}();var Kne=U&&U.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(og,"__esModule",{value:!0});var tp=og.MemoryBTreeStorage=void 0;const Tm=Kne(Hr),J2=ou,Em=Jn,W2=Tm.default.default?Tm.default.default:Tm.default;class Yne{constructor(){this.btree=new W2(void 0,Em.compareTuple)}scan(t){const n=(t==null?void 0:t.gte)??(t==null?void 0:t.gt)??J2.MIN,r=(t==null?void 0:t.lte)??(t==null?void 0:t.lt)??J2.MAX,s=[];return this.btree.forRange(n,r,(t==null?void 0:t.lte)!=null,(i,u,o)=>{if(!(t!=null&&t.gt&&(0,Em.compareTuple)(i,t.gt)===0)&&(s.push({key:i,value:u}),(t==null?void 0:t.reverse)!==!0&&s.length>=((t==null?void 0:t.limit)??1/0)))return{break:!0}}),t!=null&&t.reverse&&s.reverse(),t!=null&&t.limit?s.slice(0,t.limit):s}commit(t){const{set:n,remove:r}=t;for(const s of r||[])this.btree.delete(s);for(const{key:s,value:i}of n||[])this.btree.set(s,i,!0)}close(){}wipe(){this.btree=new W2(void 0,Em.compareTuple)}}tp=og.MemoryBTreeStorage=Yne;const sN=new Set(["_metadata"]);async function Id(e,t,n,r,s){if(!r)return;const[i,u]=hr(n);if(sN.has(i))return;const o=e.db.sessionRoles,a=PI(r.collections,i);if(!a)return;let c=[],l=!1;if(o)for(const f of o){const g=a[f.key],m=g==null?void 0:g[s];m&&m.filter&&(l=!0,Array.isArray(m.filter)&&c.push(...m.filter))}if(!l){if(s==="postUpdate")return;c=[!1]}const d=zr({collectionName:i,where:[["id","=",u],...c]},r.collections,{roles:e.db.sessionRoles},{skipRules:!0}),{results:h}=await Ex(e.db,t,d,vr(),{schema:r.collections});if(!h)throw new fG(i,u,s,o??[])}async function Om(e,t,n,r){var c;const[s,i]=hr(n);if(sN.has(s))return;const u=r==null?void 0:r.collections;if(!u)return;const o=r==null?void 0:r.collections[s];if(!o)return;const a=Object.values(((c=o==null?void 0:o.rules)==null?void 0:c.write)??{});if(a.length){const l=a.flatMap(f=>f.filter),d=zr({collectionName:s,where:[["id","=",i],...l]},u,{roles:e.db.sessionRoles},{skipRules:!1}),{results:h}=await Ex(e.db,t,d,vr(),{schema:u});if(!h)throw new UO("Update does not match write rules")}}function Zne(e){const t=Array.from(Ic(e).entries()),n={inserts:[],updates:[],deletes:[]};for(const[r,s]of t){let i="update";"_collection"in s.data&&(s.data._collection[0]===void 0?i="delete":i="insert"),i==="insert"?n.inserts.push([r,s.data]):i==="update"?n.updates.push([r,s.data]):i==="delete"&&n.deletes.push([r,s.data])}return n}async function Q2(e,t){const n=Array.from(Ic(e).entries()),r={inserts:[],updates:[],deletes:[]};for(const[s,i]of n){let u="update";"_collection"in i.data&&(i.data._collection[0]===void 0?u="delete":u="insert");const o=qa(await t.findByEntity(s),s);if(o)switch(u){case"insert":r.inserts.push([s,yn(o.data)]);break;case"update":r.updates.push([s,yn(o.data)]);break;case"delete":const[a,c]=hr(s);r.deletes.push([s,{id:c,_collection:a,...yn(o.data)}]);break}}return r}class X2{constructor(t,n,r,s={}){k(this,"db");k(this,"storeTx");k(this,"hooks");k(this,"options");k(this,"schema");k(this,"_schema");k(this,"_permissionCache",new Map);k(this,"logger");k(this,"PreWriteCheckPermissions",async(t,n)=>{const r=Zne(t);for(const[s,i]of r.updates)await Id(this,n,s,this.schema,"update")});k(this,"PostCheckWritePermissions",async(t,n)=>{for(const[r,s]of Object.entries(t)){const i=new Set,u=new Set([...s.map(a=>a.id)]),o=new Set;for(const a of s)if(!(o.has(a.id)||i.has(a.id))){if(a.attribute[0]==="_collection"&&a.expired){u.delete(a.id),o.add(a.id);continue}if(a.attribute[0]==="_collection"&&!a.expired){i.add(a.id),u.delete(a.id);continue}}for(const a of u)await Om(this,n,a,this.schema),await Id(this,n,a,this.schema,"postUpdate");for(const a of i)await Om(this,n,a,this.schema),await Id(this,n,a,this.schema,"insert");for(const a of o)await Om(this,this.db.tripleStore,a,this.schema),await Id(this,this.db.tripleStore,a,this.schema,"delete")}});k(this,"ValidateTripleSchema",async t=>{if(this.schema)for(const n of t)n.attribute[0]!=="_metadata"&&n.attribute[0]!=="_collection"&&(n.expired||bne(this.schema.collections,n.attribute,n.value))});k(this,"UpdateLocalSchema",async(t,n)=>{const r=t.filter(({attribute:i})=>i[0]==="_metadata");if(r.length===0)return;if(!this._schema){const{schemaTriples:i}=await gy(n);r.unshift(...i)}this._schema=this._schema??new Q0,yx(this._schema,r);const s=yn(this._schema.data);this.schema={version:(s==null?void 0:s.version)??0,collections:(s==null?void 0:s.collections)&&eN(s.collections)}});k(this,"CallBeforeCommitDBHooks",async(t,n)=>{var u;if(!(this.hooks.beforeCommit.length>0||this.hooks.beforeInsert.length>0||this.hooks.beforeUpdate.length>0||this.hooks.beforeDelete.length>0)||!((u=t[tl])!=null&&u.length))return;const s=t[tl],i=await Q2(s,this.storeTx);if(i.inserts.length)for(const[o,a]of this.hooks.beforeInsert){const c=i.inserts.filter(([l])=>hr(l)[0]===a.collectionName);for(const[l,d]of c)await o({entity:d,tx:this,db:this.db})}if(i.updates.length)for(const[o,a]of this.hooks.beforeUpdate){const c=i.updates.filter(([l])=>hr(l)[0]===a.collectionName);for(const[l,d]of c)await o({entity:d,tx:this,db:this.db})}if(i.deletes.length)for(const[o,a]of this.hooks.beforeDelete){const c=i.deletes.filter(([l])=>hr(l)[0]===a.collectionName);for(const[l,d]of c)await o({entity:d,tx:this,db:this.db})}for(const[o,a]of this.hooks.beforeCommit){const c=i.inserts,l=i.updates,d=i.deletes;!c.length&&!l.length&&!d.length||await o({opSet:{inserts:c,updates:l,deletes:d},tx:this,db:this.db})}});k(this,"CallAfterCommitDBHooks",async(t,n)=>{var u;if(!(this.hooks.afterCommit.length>0||this.hooks.afterInsert.length>0||this.hooks.afterUpdate.length>0||this.hooks.afterDelete.length>0)||!((u=t[tl])!=null&&u.length))return;const s=t[tl],i=await Q2(s,this.db.tripleStore);if(i.inserts.length)for(const[o,a]of this.hooks.afterInsert){const c=i.inserts.filter(([l])=>hr(l)[0]===a.collectionName);for(const[l,d]of c)await o({entity:d,tx:this,db:this.db})}if(i.updates.length)for(const[o,a]of this.hooks.afterUpdate){const c=i.updates.filter(([l])=>hr(l)[0]===a.collectionName);for(const[l,d]of c)await o({entity:d,tx:this,db:this.db})}if(i.deletes.length)for(const[o,a]of this.hooks.afterDelete){const c=i.deletes.filter(([l])=>hr(l)[0]===a.collectionName);for(const[l,d]of c)await o({entity:d,tx:this,db:this.db})}for(const[o,a]of this.hooks.afterCommit){const c=i.inserts,l=i.updates,d=i.deletes;!c.length&&!l.length&&!d.length||await o({opSet:{inserts:c,updates:l,deletes:d},tx:this,db:this.db})}});k(this,"METADATA_COLLECTION_NAME","_metadata");this.db=t,this.storeTx=n,this.hooks=r,this.options=s,this.logger=s.logger??t.logger,this.schema=s.schema,this.storeTx.beforeInsert(this.ValidateTripleSchema),s!=null&&s.skipRules||(this.storeTx.beforeInsert(this.PreWriteCheckPermissions),this.storeTx.beforeCommit(this.PostCheckWritePermissions)),this.storeTx.beforeInsert(this.UpdateLocalSchema),this.storeTx.beforeCommit(this.CallBeforeCommitDBHooks),this.storeTx.afterCommit(this.CallAfterCommitDBHooks)}async getSchema(){return this.schema}async commit(){await this.storeTx.commit()}async cancel(){await this.storeTx.cancel()}async insert(t,n){var m;if(!t)throw new Ph(t,"Collection name must be defined");if(!n)throw new o2("The document being inserted is undefined");if(typeof n!="object"||Array.isArray(n))throw new o2("The document being inserted must be an object.");this.logger.debug("insert START",t,n);const r=(m=await this.getSchema())==null?void 0:m.collections,s=r==null?void 0:r[t],u={...s?Vne(s):{},...n},o=Fne(u,s==null?void 0:s.schema);!s&&o.id===void 0&&(o.id=af());const a=hne(o.id);if(a)throw a;const c=await this.storeTx.getTransactionTimestamp(),l=y0(o),d=cn(t,o.id),h=l.map(([y,b])=>({id:d,attribute:[t,...y],value:b,timestamp:c,expired:!1}));h.push({id:d,attribute:["_collection"],value:t,timestamp:c,expired:!1}),await this.storeTx.insertTriples(h);const f=qa(h,d);if(!f)throw new Error("Malformed id");const g=Zi(f.data,r,t);return this.logger.debug("insert END",t,g),g}async update(t,n,r){var i;this.logger.debug("update START",t,n);const s=(i=await this.getSchema())==null?void 0:i.collections;await this.updateRaw(t,n,async u=>{const o=new iN(u),a=t==="_metadata"?np(o,u):np(o,u,s,t);return await r(a),o.getTuples()}),this.logger.debug("update END",t,n)}async updateRaw(t,n,r){this.logger.debug("updateRaw START");const s=cn(t,n),i=await this.storeTx.findByEntity(s),u=qa(i,s),o=yn(u.data);if(t!=="_metadata"&&!(o!=null&&o._collection))throw new sG(n,t,"Cannot perform an update on an entity that doesn't exist");const a=await r(o);for(const[l,d]of a)if(l.at(0)==="id")throw new BO(`Attempted to update the id of an entity in the ${t} from ${o.id} to ${d}. The 'id' attribute of an entity is immutable and cannot be updated.`);const c=[];for(let l of a){const[d,h]=l,f=[t,...d];(h===void 0||h==="{}")&&await this.storeTx.expireEntityAttributes([{id:s,attribute:f}]),h!==void 0&&c.push([s,f,h])}await this.storeTx.setValues(c),this.logger.debug("updateRaw END",c)}async delete(t,n){if(!t)throw new Ph(t,"Collection name must be defined");this.logger.debug("delete START",t,n);const r=cn(t,n);await this.storeTx.expireEntity(r),this.logger.debug("delete END",t,n)}async fetch(t,n={}){var u;const r=(u=await this.getSchema())==null?void 0:u.collections,s=zr(t,r,{roles:this.db.sessionRoles},{skipRules:n.skipRules}),{results:i}=await oi(this.db,this.storeTx,s,vr(),{schema:r});return JI(i,r,s.collectionName)}query(t,n){return LI(t,n)}async fetchById(t,n,r={}){const s=this.query(t).id(n).build();return this.fetchOne(s,r)}async fetchOne(t,n={}){t={...t,limit:1};const s=[...(await this.fetch(t,n)).values()][0];return s||null}async checkOrCreateSchema(){await this.fetchById(this.METADATA_COLLECTION_NAME,"_schema")||await this.insert(this.METADATA_COLLECTION_NAME,{id:"_schema"})}async createCollection(t){await this.checkOrCreateSchema();const{name:n,schema:r,rules:s,optional:i}=t;await this.update(this.METADATA_COLLECTION_NAME,"_schema",async u=>{u.collections||(u.collections={});const o=i?i.slice().sort():void 0,c={schema:ep({type:"record",properties:r,optional:o}).toJSON()};s&&(c.rules=s),u.collections[n]=c})}async dropCollection(t){const{name:n}=t;await this.update(this.METADATA_COLLECTION_NAME,"_schema",async r=>{r.collections||(r.collections={}),delete r.collections[n]})}async addAttribute(t){const{collection:n,path:r,attribute:s,optional:i}=t;Gc(r),await this.update(this.METADATA_COLLECTION_NAME,"_schema",async u=>{Jc(u.collections,n);const o=r.slice(0,-1),a=r[r.length-1],c=Hc(o,u.collections[n]);Qo(c,r),c.properties[a]=s,Im(c,a,i??!1)})}async dropAttribute(t){const{collection:n,path:r}=t;Gc(r),await this.update(this.METADATA_COLLECTION_NAME,"_schema",async s=>{Jc(s.collections,n);const i=r.slice(0,-1),u=r[r.length-1],o=Hc(i,s.collections[n]);Qo(o,r),delete o.properties[u],Im(o,u,!1)})}async alterAttributeOption(t){const{collection:n,path:r,options:s}=t;Gc(r),await this.update(this.METADATA_COLLECTION_NAME,"_schema",async i=>{Jc(i.collections,n);const u=r.slice(0,-1),o=r[r.length-1],a=Hc(u,i.collections[n]);Qo(a,r);const c=a.properties[o];if(!c)throw new mr(r,"Could not traverse this path");for(const[l,d]of Object.entries(s))c.options||(c.options={}),c.options[l]=d})}async dropAttributeOption(t){const{collection:n,path:r,option:s}=t;Gc(r),await this.update(this.METADATA_COLLECTION_NAME,"_schema",async i=>{Jc(i.collections,n);const u=r.slice(0,-1),o=r[r.length-1],a=Hc(u,i.collections[n]);Qo(a,r);const c=a.properties[o];if(!c)throw new mr(r,"Could not traverse this path");c.options&&delete c.options[s]})}async addRule(t){const{collection:n,scope:r,id:s,rule:i}=t;await this.update(this.METADATA_COLLECTION_NAME,"_schema",async u=>{const o=u.collections[n];o.rules||(o.rules={}),o.rules[r]||(o.rules[r]={}),o.rules[r][s]=i})}async dropRule(t){const{collection:n,scope:r,id:s}=t;await this.update(this.METADATA_COLLECTION_NAME,"_schema",async i=>{const u=i.collections[n];delete u.rules[r][s]})}async setAttributeOptional(t){const{collection:n,path:r,optional:s}=t;Gc(r),await this.update(this.METADATA_COLLECTION_NAME,"_schema",async i=>{Jc(i.collections,n);const u=r.slice(0,-1),o=r[r.length-1],a=Hc(u,i.collections[n]);if(Qo(a,r),!a.properties[o])throw new mr(r,"Could not traverse this path");Im(a,o,s)})}}function Im(e,t,n){if(!e.optional&&n&&(e.optional=[t]),e.optional)if(!e.optional.includes(t)&&n){const r=[];for(let s=0;s<e.optional.length;s++)r.push(e.optional[s]);e.optional=[...r,t].sort()}else e.optional.includes(t)&&!n&&(e.optional=e.optional.filter(r=>r!==t).sort())}function Hc(e,t){return e.reduce((n,r)=>(Qo(n,e),n.properties[r]),t.schema)}function Qo(e,t){if(!e)throw new mr(t,"Could not traverse this path");if(!e.properties)throw new mr(t,"This path terminated at a non-record type.")}function Gc(e){if(e.length===0)throw new mr(e,"The provided path is empty. Paths must be at least one level deep.")}function Jc(e,t){const n=e[t];if(!(n!=null&&n.schema))throw new gl(t,e)}class iN{constructor(t){k(this,"tuplesTracker",{});k(this,"changes",{});this.changes=t}set(t,n){Uee(this.changes,t,n);const r=y0(n,t.slice(1).split("/"));for(const s of r){const[i,u]=s;this.tuplesTracker[i.join("/")]=u}}delete(t){_I(this.changes,t)}get(t){return Sx(this.changes,t)}has(t){return qee(this.changes,t)}getChanges(){return this.changes}getTuples(){return Object.entries(this.tuplesTracker).map(([t,n])=>[t.split("/"),n])}}function np(e,t,n,r,s=""){var a;function i(c){const l=[s,c].join("/");return e.set(l,void 0),_I(t,c),!0}const u=(a=n==null?void 0:n[r])==null?void 0:a.schema,o=Zi(t,n,r);return new Proxy(o,{set:(c,l,d)=>{if(typeof l=="symbol")return!0;const h=[s,l].join("/");if(!u)return d===void 0?i(l):(e.set(h,d),!0);const f=h.slice(1).split("/"),g=da(u,f);if(!g)throw new dG(h,d);if(g.context.optional&&d===void 0)return i(l);const m=g.convertInputToDBValue(d);return e.set(h,m),!0},deleteProperty:(c,l)=>{if(typeof l=="symbol")return!0;if(u){const h=[s,l].join("/").slice(1).split("/");if(!da(u,h).context.optional)throw new BO(`Cannot delete property ${l} because it is not optional. Please mark this property optional in your schema. If the property is nullable you may also set it to null.`)}return i(l)},get:(c,l)=>{if(typeof l=="symbol")return;const d=[s,l].join("/"),h=e.get(d);if(h===void 0)return;if(h===null)return null;const f=u&&da(u,d.slice(1).split("/"));return f&&f.type==="set"?Lne(e,d,f):typeof h=="object"&&h!==null?np(e,h,n,r,d):f?f.convertDBValueToJS(h):h}})}function ha(e,t=[]){const n=e.key.slice(0+((t==null?void 0:t.length)??0)),r=n[0];let s,i,u,o;switch(r){case"EAT":[,s,i,o]=n,u=e.value[0];break;case"AVE":[,i,u,s,o]=n;break;case"clientTimestamp":[,,o,s,i,u]=n;break;default:throw new rG(r)}return{id:s,attribute:i,value:u,timestamp:o,expired:r==="EAT"?e.value[1]:r==="AVE"?!1:e.value.expired}}async function rd(e,...t){return(await e.scan(...t)).map(ha)}async function uN(e,t,n){return rd(e,{prefix:["EAT"],gte:[t],lt:[t+ue.MAX],reverse:n==="DESC"})}async function ag(e,[t,n]=[],r){const s={prefix:["EAT"],gte:[t??ue.MIN,n??ue.MIN],lt:[t??ue.MAX,[...n??[],ue.MAX],ue.MAX],reverse:r==="DESC"};return rd(e,s)}function kx(e,[t,n,r]=[],s){return rd(e,{prefix:["AVE"],gte:[t??ue.MIN,n??ue.MIN,r??ue.MIN],lt:[[...t??[],...n?[]:[ue.MAX]],n??ue.MAX,ue.MAX],reverse:s==="DESC"})}function oN(e,t,n={}){const r=["AVE",t],s=5,i=n.greaterThanCursor?n.greaterThanCursor:n.greaterThan?[n.greaterThan,ue.MAX]:void 0,u=n.greaterThanOrEqualCursor?n.greaterThanOrEqualCursor:n.greaterThanOrEqual?[n.greaterThanOrEqual,ue.MIN]:void 0,o=n.lessThanCursor?n.lessThanCursor:n.lessThan?[n.lessThan,ue.MIN]:void 0,a=n.lessThanOrEqualCursor?n.lessThanOrEqualCursor:n.lessThanOrEqual?[n.lessThanOrEqual,ue.MAX]:void 0,c={prefix:r,gt:i&&[...i,...new Array(s-r.length-i.length).fill(ue.MAX)],gte:u&&[...u,...new Array(s-r.length-u.length).fill(ue.MIN)],lt:o&&[...o,...new Array(s-r.length-o.length).fill(ue.MIN)],lte:a&&[...a,...new Array(s-r.length-a.length).fill(ue.MAX)],reverse:n.direction==="DESC"};return rd(e,c)}async function aN(e,t){return ag(e,[t])}async function cN(e,t,n){return ag(e,[t,n])}async function lN(e,t){return kx(e,[t])}function fN(e){const[t,n,...r]=e.key;return[n,r,e.value]}async function dN(e,t,n,r){if(!r&&!n.startsWith("gt"))return[];let s;switch(n){case"lt":s={lt:[r]};break;case"lte":s={lte:[[...r,ue.MAX]]};break;case"gt":s={gt:[[...r??[],ue.MIN]]};break;case"gte":s={gte:[[...r??[]]]};break;case"eq":s={gte:[r],lt:[[...r,ue.MAX]]};break;default:throw new nG(`Cannot perform a scan with direction ${n}.`)}return await rd(e,{prefix:["clientTimestamp",t],...s})}async function hN(e,t){var r;return(r=(await e.scan({prefix:["clientTimestamp",t],reverse:!0,limit:1}))[0])==null?void 0:r.key[2]}async function pN(e){const t=new Set;let n=ue.MIN;for(;;){const r=await e.scan({prefix:["clientTimestamp"],gt:[n,ue.MAX,ue.MAX,ue.MAX,ue.MAX],limit:1});if(r.length===0)break;const s=r[0],i=s.key[1];if(!i)throw new Error("Empty client ID found in clientTimestamp index");if(t.has(i))throw new Error("Duplicate client ID found in clientTimestamp index");t.add(s.key[1]),n=i}return Array.from(t)}class rp{constructor({storage:t,storageScope:n,hooks:r,reactivity:s}){k(this,"storageScope");k(this,"storage");k(this,"hooks");k(this,"reactivity");this.storage=t,this.storageScope=n,this.hooks=r??{beforeCommit:[],beforeInsert:[],beforeScan:[],afterCommit:[]},this.reactivity=s??new gN}getStorageClients(t){return t&&this.storageScope&&this.storageScope[t]?this.storageScope[t].map(n=>this.storage[n]):Object.values(this.storage)}getStorageClientsEntries(t){return t&&this.storageScope&&this.storageScope[t]?this.storageScope[t].map(n=>[n,this.storage[n]]):Object.entries(this.storage)}beforeInsert(t){this.hooks.beforeInsert.push(t)}beforeCommit(t){this.hooks.beforeCommit.push(t)}afterCommit(t){this.hooks.afterCommit.push(t)}beforeScan(t){this.hooks.beforeScan.push(t)}async scan(t,n){const r=this.getStorageClients("read"),s=(i,u)=>j0(i.key,u.key)*(t!=null&&t.reverse?-1:1);return Cx(await Promise.all(r.map(i=>i.scan(t,n))),s)}subscribe(t,n){const r=this.getStorageClientsEntries("read").map(([s,i])=>i.subscribe(t,(u,o)=>{const a=this.reactivity.getReactivityId(s,o);if(!a){console.warn("Not tracking reactivity for",s,o);return}this.reactivity.updateCallback(a,n,u,s,o)}));return()=>{Promise.all(r).then(s=>s.forEach(i=>i()))}}async exists(t,n){return(await Promise.all(this.getStorageClients("read").map(r=>r.exists(t,n)))).some(r=>r)}subspace(t){const n=Object.fromEntries(Object.entries(this.storage).map(([r,s])=>[r,s.subspace(t)]));return new rp({storage:n,storageScope:this.storageScope,hooks:{beforeCommit:[...this.hooks.beforeCommit],beforeInsert:[...this.hooks.beforeInsert],beforeScan:[...this.hooks.beforeScan],afterCommit:[...this.hooks.afterCommit]},reactivity:this.reactivity})}transact(t){return new ere({scope:t??this.storageScope,store:this,hooks:{beforeCommit:[...this.hooks.beforeCommit],beforeInsert:[...this.hooks.beforeInsert],beforeScan:[...this.hooks.beforeScan],afterCommit:[...this.hooks.afterCommit]}})}async autoTransact(t,n){try{return await ue.transactionalReadWriteAsync(5,{exponentialBackoff:!0,jitter:!0})(t)(n?new rp({storage:this.storage,storageScope:n,hooks:{beforeCommit:[...this.hooks.beforeCommit],beforeInsert:[...this.hooks.beforeInsert],beforeScan:[...this.hooks.beforeScan],afterCommit:[...this.hooks.afterCommit]},reactivity:this.reactivity}):this)}catch(r){throw r}}async clear(){await this.autoTransact(async t=>{(await t.scan()).forEach(r=>t.remove(r.key))},this.storageScope)}close(){throw new qO("MultiTupleStore.close() method")}}class K2{constructor({txScope:t,hooks:n}){k(this,"txScope");k(this,"hooks");this.txScope=t,this.hooks=n}async scan(t){const n=(r,s)=>j0(r.key,s.key)*(t!=null&&t.reverse?-1:1);return Cx(await Promise.all(this.txScope.read.map(r=>r.scan(t))),n)}async exists(t){return(await Promise.all(this.txScope.read.map(n=>n.exists(t)))).some(n=>n)}remove(t){this.txScope.write.forEach(n=>n.remove(t))}async set(t,n){for(const r of this.hooks.beforeInsert)await r({key:t,value:n},this);this.txScope.write.forEach(r=>r.set(t,n))}}function Cx(e,t){const n=e.map(()=>0),r=e.reduce((u,o)=>u+o.length,0),s=new Array(r);let i=0;for(;i<r;){let u=null;for(let o=0;o<e.length;o++){const a=e[o][n[o]];if(a){if(u==null){u=o;continue}t(a,e[u][n[u]])<0&&(u=o)}}if(u==null)throw new tG("While merging scan results, could not select a result set to take from. This should never happen.");s[i++]=e[u][n[u]++]}return s}class ere extends K2{constructor({store:n,scope:r,hooks:s}){const i=Object.entries(n.storage).map(([c,l])=>[c,l.transact()]),u=Object.fromEntries(i),o=(r==null?void 0:r.read)??Object.keys(n.storage),a=(r==null?void 0:r.write)??Object.keys(n.storage);super({txScope:{read:o.map(c=>u[c]),write:a.map(c=>u[c])},hooks:s});k(this,"txs");k(this,"store");k(this,"isCanceled",!1);k(this,"hooks");k(this,"id",Math.random().toString(36).slice(2));for(const[c,l]of i)n.reactivity.trackSubTx(c,l.id,this.id);this.txs=u,this.store=n,this.hooks=s}get writes(){return Object.fromEntries(Object.entries(this.txs).map(([n,r])=>[n,r.writes]))}beforeScan(n){this.hooks.beforeScan.push(n)}async scan(n){for(const s of this.hooks.beforeScan)await s(n,this);const r=(s,i)=>j0(s.key,i.key)*(n!=null&&n.reverse?-1:1);return Cx(await Promise.all(this.txScope.read.map(s=>s.scan(n))),r)}withScope(n){const r=n.read??Object.keys(this.store.storage),s=n.write??Object.keys(this.store.storage);return new K2({txScope:{read:r.map(i=>this.txs[i]),write:s.map(i=>this.txs[i])},hooks:this.hooks})}async commit(){if(this.isCanceled){console.warn("Cannot commit already canceled transaction.");return}for(const n of this.hooks.beforeCommit)await n(this);await Promise.all(Object.values(this.txs).map(n=>n.commit()));for(const n of this.hooks.afterCommit)await n(this);this.store.reactivity.emit(this.id)}async cancel(){if(this.isCanceled){console.warn("Attempted to cancel already canceled transaction.");return}await Promise.all(Object.values(this.txs).map(n=>n.cancel())),this.isCanceled=!0}}class gN{constructor(){k(this,"txCallbacks",{});k(this,"subTxReactivityIds",{});k(this,"taskQueue",new tre)}trackSubTx(t,n,r){this.subTxReactivityIds[`${t}_${n}`]=r}getReactivityId(t,n){return this.subTxReactivityIds[`${t}_${n}`]}updateCallback(t,n,r,s,i){this.txCallbacks[t]||(this.txCallbacks[t]={callbacks:new Set,args:{},subTxs:[]}),this.txCallbacks[t].callbacks.add(n),this.txCallbacks[t].args[s]=r,this.txCallbacks[t].subTxs.push(i)}emit(t){const n=this.txCallbacks[t];if(n){this.taskQueue.schedule(Array.from(n.callbacks),n.args);for(const r of n.subTxs)delete this.subTxReactivityIds[r];delete this.txCallbacks[t]}}}class tre{constructor(){k(this,"queue",[]);k(this,"isRunning",!1)}async schedule(t,n){if(this.isRunning){setTimeout(()=>{this.queue.push(...t.map(r=>[r,n])),this.run()});return}this.queue.push(...t.map(r=>[r,n])),this.run()}async run(){if(!this.isRunning){for(this.isRunning=!0;this.queue.length;){const t=this.queue.shift();if(!t)break;const[n,r]=t;await n(r)}this.isRunning=!1}}}class nre{constructor({clientId:t,tick:n}={}){k(this,"clientId");k(this,"tick");this.clientId=t??af(),this.tick=n??0}async assignToStore(t){const n=await t.findMaxClientTimestamp(this.clientId);n&&this.setTick(n[0]),t.onInsert(r=>{Object.values(r).flat().forEach(({timestamp:i})=>{this.tick<i[0]&&this.setTick(i[0])})})}getCurrentTimestamp(){return new Promise(t=>t([this.tick,this.clientId]))}getNextTimestamp(){const t=[++this.tick,this.clientId];return new Promise(n=>n(t))}setTick(t){return this.tick=t,new Promise(n=>n())}}function Nd(e){return Object.fromEntries(Object.entries(e.txs).map(([t,n])=>[t,n.writes.set.filter(r=>r.key[1]==="EAT").map(r=>ha(r,["client"]))]))}class Dx{constructor({tupleTx:t,clock:n,hooks:r}){k(this,"tupleTx");k(this,"txMetadataListeners",new Set);k(this,"assignedTimestamp");k(this,"clock");k(this,"hooks");this.tupleTx=t,this.clock=n,this.hooks=r,this.hooks.beforeCommit.forEach(s=>{this.tupleTx.hooks.beforeCommit.push(i=>{const u=Nd(i);return s(u,this)})}),this.hooks.afterCommit.forEach(s=>{this.tupleTx.hooks.afterCommit.push(i=>{const u=Nd(i);return s(u,this)})})}async getTransactionTimestamp(){return this.assignedTimestamp||(this.assignedTimestamp=await this.clock.getNextTimestamp()),this.assignedTimestamp}async findByCollection(t,n){return uN(this.tupleTx,t,n)}async findValuesInRange(t,n){return oN(this.tupleTx,t,n)}async findByEAT(t,n){return ag(this.tupleTx,t,n)}findByAVE(t,n){return kx(this.tupleTx,t,n)}async findByEntity(t){return aN(this.tupleTx,t)}async findByEntityAttribute(t,n){return cN(this.tupleTx,t,n)}async findByAttribute(t){return lN(this.tupleTx,t)}findMaxClientTimestamp(t){return hN(this.tupleTx,t)}findByClientTimestamp(t,n,r){return dN(this.tupleTx,t,n,r)}findAllClientIds(){return pN(this.tupleTx)}async insertTriple(t){await this.insertTriples([t])}async insertTriples(t){if(t.length){for(const n of this.hooks.beforeInsert)await n(t,this);for(const n of t){if(n.value===void 0)throw new l2(void 0);await this.addTripleToIndex(this.tupleTx,n)}}}async addTripleToIndex(t,n){const{id:r,attribute:s,value:i,timestamp:u,expired:o}=n;t.set(["EAT",r,s,u],[i,o])}async deleteTriple(t){await this.deleteTriples([t])}async deleteTriples(t){const n=this.tupleTx;for(const r of t){const{id:s,attribute:i,value:u,timestamp:o}=r;n.remove(["EAT",s,i,o]),n.remove(["AVE",i,u,s,o]),n.remove(["clientTimestamp",o[1],o,s,i,u])}}async readMetadataTuples(t,n){return(await this.tupleTx.scan({prefix:["metadata",t,...n??[]]})).map(fN)}async updateMetadataTuples(t){for(const[n,r,s]of t)this.tupleTx.set(["metadata",n,...r],s);await Promise.all([...this.txMetadataListeners].map(n=>n({updates:t,deletes:[]})))}async deleteMetadataTuples(t){for(const[n,r]of t)(await this.tupleTx.scan({prefix:["metadata",n,...r??[]]})).forEach(s=>this.tupleTx.remove(s.key));await Promise.all([...this.txMetadataListeners].map(n=>n({updates:[],deletes:t})))}onMetadataChange(t){return this.txMetadataListeners.add(t),()=>{this.txMetadataListeners.delete(t)}}async setValue(t,n,r){return await this.setValues([[t,n,r]])}async setValues(t){if(!t.length)return;const n=await this.getTransactionTimestamp(),r=[];for(const s of t){const[i,u,o]=s;if(o===void 0)throw new l2(void 0);(await this.findByEntityAttribute(i,u)).filter(({timestamp:l})=>Ts(l,n)===1).length===0&&r.push({id:i,attribute:u,value:o,timestamp:n,expired:!1})}await this.insertTriples(r)}async expireEntity(t){var s;const n=await this.findByEntity(t),r=new Map;for(const i of n){const u=JSON.stringify(i.attribute),o=(s=r.get(u))==null?void 0:s.timestamp;(!o||Ts(i.timestamp,o)>0)&&r.set(u,i)}await this.expireEntityAttributes([...r.values()].map(({attribute:i,id:u})=>({id:u,attribute:i})))}async expireEntityAttribute(t,n){return this.expireEntityAttributes([{id:t,attribute:n}])}async expireEntityAttributes(t){const n=[];for(const{id:s,attribute:i}of t){const u=await this.findByEntityAttribute(s,i);for(const o of u)n.push(o)}const r=await this.getTransactionTimestamp();await this.deleteTriples(n.filter(s=>Ts(s.timestamp,r)===0)),await this.insertTriples(n.map(({id:s,attribute:i})=>({id:s,attribute:i,value:null,timestamp:r,expired:!0})))}async commit(){await this.tupleTx.commit()}async cancel(){await this.tupleTx.cancel()}withScope(t){return new Dx({tupleTx:this.tupleTx.withScope(t),clock:this.clock,hooks:jh(this.hooks)})}beforeInsert(t){this.hooks.beforeInsert.push(t)}beforeCommit(t){this.tupleTx.hooks.beforeCommit.push(n=>t(Nd(n),this))}afterCommit(t){this.tupleTx.hooks.afterCommit.push(n=>t(Nd(n),this))}}const rre=[async function(t){const n=await t.scan({prefix:["EAV"]});if(n.length===0)return;const r=[];for(const s of n){const[i,u,o,a,c]=s.key,{expired:l}=s.value;r.push({key:["EAT",u,o,c],value:[a,l]})}await t.autoTransact(async s=>{for(const i of n)s.remove(i.key);for(const i of r)await s.set(i.key,i.value)},void 0)}];function sre(e){return typeof e!="object"?!1:["close","commit","scan"].every(n=>n in e)}async function Y2(e){for(const[t,n]of Object.entries(e.writes)){const{set:r=[]}=n;if(r.length===0)continue;const s=e.withScope({read:[t],write:[t]});let i=[];for(const{key:u,value:o}of r.slice()){const[a,c,...l]=u;if(c!=="EAT")continue;const[d,h,f]=l,[g,m]=o;m?i.push(["AVE",h,g,d,f]):s.set(["AVE",h,g,d,f],{expired:m}),s.set(["clientTimestamp",f[1],f,d,h,g],{expired:m})}for(const u of i)s.remove(u)}}class Mx{constructor({storage:t,stores:n,tenantId:r,clock:s,reactivity:i,storageScope:u=[],enableGarbageCollection:o=!1}){k(this,"stores");k(this,"storageScope");k(this,"tupleStore");k(this,"clock");k(this,"tenantId");k(this,"hooks");k(this,"reactivity");if(this.hooks={beforeCommit:[],beforeInsert:[],afterCommit:[]},!n&&!t)throw new f2("Must provide either storage or stores");if(n&&t)throw new f2("Cannot provide both storage and stores");this.storageScope=u;let a;if(n)a=n;else{const c=t;a=sre(c)?{primary:new ue.AsyncTupleDatabaseClient(new ue.AsyncTupleDatabase(c))}:Object.fromEntries(Object.entries(c).map(([l,d])=>[l,new ue.AsyncTupleDatabaseClient(new ue.AsyncTupleDatabase(d))]))}this.stores=a,this.tenantId=r??"client",this.reactivity=i??new gN,this.tupleStore=new rp({storage:a,reactivity:this.reactivity}).subspace([this.tenantId]),this.clock=s??new nre,this.clock.assignToStore(this),this.tupleStore.beforeCommit(Y2),o&&this.afterCommit(ire(()=>{this.collectGarbage()},1e3))}async ensureStorageIsMigrated(){for(const t of rre)await t(this.tupleStore)}beforeInsert(t){this.hooks.beforeInsert.push(t)}beforeCommit(t){this.hooks.beforeCommit.push(t)}afterCommit(t){this.hooks.afterCommit.push(t)}findByCollection(t,n){return uN(this.tupleStore,t,n)}findByEAT([t,n],r){return ag(this.tupleStore,[t,n],r)}findByAVE([t,n,r],s){return kx(this.tupleStore,[t,n,r],s)}findByEntity(t){return aN(this.tupleStore,t)}findByEntityAttribute(t,n){return cN(this.tupleStore,t,n)}findByAttribute(t){return lN(this.tupleStore,t)}async findValuesInRange(t,n){return oN(this.tupleStore,t,n)}findMaxClientTimestamp(t){return hN(this.tupleStore,t)}findAllClientIds(){return pN(this.tupleStore)}findByClientTimestamp(t,n,r){return dN(this.tupleStore,t,n,r)}async transact(t,n){let r=!1;const{tx:s,output:i}=await this.tupleStore.autoTransact(async u=>{u.beforeScan(async(c,l)=>{c.prefix[0]!=="EAT"&&await Y2(l)});const o=new Dx({tupleTx:u,clock:this.clock,hooks:jh(this.hooks)});let a;if(r)return{tx:o,output:a};try{a=await t(o)}catch(c){throw c instanceof UO&&(r=!0,await o.cancel()),c}return{tx:o,output:a}},n);return{txId:s.assignedTimestamp?JSON.stringify(s.assignedTimestamp):void 0,output:i}}setStorageScope(t){return new Mx({stores:Object.fromEntries(Object.entries(this.stores).filter(([n])=>t.includes(n))),storageScope:t,tenantId:this.tenantId,clock:this.clock,reactivity:this.reactivity})}async setValue(t,n,r){await this.transact(async s=>{await s.setValue(t,n,r)})}async setValues(t){await this.transact(async n=>{await n.setValues(t)})}async expireEntity(t){await this.transact(async n=>{await n.expireEntity(t)})}async expireEntityAttribute(t,n){await this.transact(async r=>{await r.expireEntityAttribute(t,n)})}async expireEntityAttributes(t){await this.transact(async n=>{await n.expireEntityAttributes(t)})}async insertTriple(t){await this.transact(async n=>{await n.insertTriple(t)})}async insertTriples(t){await this.transact(async n=>{await n.insertTriples(t)})}onInsert(t){async function n(s){const i=Object.fromEntries(Object.entries(s).filter(([u,o])=>{const{set:a=[]}=o;return a.length>0}).map(([u,o])=>{const{set:a=[]}=o,c=a.map(l=>ha(l));return[u,c]}));await t(i)}const r=this.tupleStore.subscribe({prefix:["EAT"]},n);return()=>{r()}}onWrite(t){async function n(s){const i=Object.fromEntries(Object.entries(s).filter(([u,o])=>{const{set:a=[],remove:c=[]}=o;return a.length>0||c.length>0}).map(([u,o])=>{const{set:a=[],remove:c=[]}=o,l=a.map(h=>ha(h)),d=c.map(h=>ha({key:h,value:{expired:!1}}));return[u,{inserts:l,deletes:d}]}));await t(i)}return this.tupleStore.subscribe({prefix:["EAT"]},n)}async deleteTriple(t){await this.transact(async n=>{await n.deleteTriples([t])})}async deleteTriples(t){await this.transact(async n=>{await n.deleteTriples(t)})}async readMetadataTuples(t,n){return(await this.tupleStore.scan({prefix:["metadata",t,...n??[]]})).map(fN)}async updateMetadataTuples(t){await this.transact(async n=>{await n.updateMetadataTuples(t)})}async deleteMetadataTuples(t){await this.transact(async n=>{await n.deleteMetadataTuples(t)})}async clear(){await this.tupleStore.clear()}async collectGarbage(){const t=await this.findByEAT([]),n=[];let r=null,s=[];for(let i=t.length-1;i>=0;i--){const u=t[i];if(u.id===r&&ue.compareTuple(u.attribute,s)===0){n.push(u);continue}r=u.id,s=u.attribute}await this.deleteTriples(n)}}function ire(e,t){let n=!1,r=!1;function s(){r?(e(),r=!1,setTimeout(s,t)):n=!1}return function(){n?r=!0:(e(),n=!0,setTimeout(s,t))}}const Nm=!0,tl="default";class mN{constructor({schema:t,source:n,sources:r,tenantId:s,migrations:i,clock:u,variables:o,logger:a}={}){k(this,"tripleStore");k(this,"systemVars");k(this,"cache");k(this,"storageReady");k(this,"schemaInitialized");k(this,"isSchemaInitialized",!1);k(this,"ready");k(this,"_schema");k(this,"schema");k(this,"onSchemaChangeCallbacks");k(this,"hooks",{afterCommit:[],afterInsert:[],afterUpdate:[],afterDelete:[],beforeCommit:[],beforeInsert:[],beforeUpdate:[],beforeDelete:[]});k(this,"_pendingSchemaRequest");k(this,"logger");this.logger=a??{info:console.info,warn:console.warn,error:console.error,debug:()=>{},scope:()=>this.logger},this.systemVars={global:o??{},session:{}};const c=r??{[tl]:n??new tp};if(Object.keys(c).length===0)throw new d2("No triple stores provided.");if(t&&i)throw new d2("Cannot provide both schema and migrations");const l=t?{...t,version:t.version??0,collections:t.collections}:void 0;this._pendingSchemaRequest=null,this.tripleStore=new Mx({storage:c,tenantId:s,clock:u}),this.cache=new NI(this);const d=h=>this.schema=h;this.onSchemaChangeCallbacks=new Set([d]),this.logger.debug("Initializing",{schema:t,migrations:i,tripleStoreSchema:l}),this.storageReady=this.tripleStore.ensureStorageIsMigrated(),this.schemaInitialized=l?this.storageReady.then(()=>{this.setupSchemaListener()}).then(()=>this.initializeDBWithSchema(l)):i?this.storageReady.then(()=>this.initializeDBWithMigrations(i)).then(()=>{this.setupSchemaListener()}):this.storageReady.then(()=>{this.setupSchemaListener()}),this.schemaInitialized.then(()=>this.isSchemaInitialized=!0).catch(()=>{}),this.ready=Promise.all([this.storageReady,this.schemaInitialized]).then(()=>this.logger.debug("Ready"))}get sessionRoles(){const t=this.getSchemaSync(!0);return Ate(t,this.systemVars.session)}getSchemaSync(t=!1){if(!t&&!this.isSchemaInitialized)throw new $("Schema not initialized");return this.schema}initializeDBWithMigrations(t){return t?Array.isArray(t)?this.migrate(t,"up"):this.migrate(t.definitions,"up",t.scopes):Promise.resolve()}initializeDBWithSchema(t){return t?this.overrideSchema(t).then(()=>{}):Promise.resolve()}setupSchemaListener(){return this.tripleStore.tupleStore.subscribe({prefix:["EAT",cn("_metadata","_schema")]},async t=>{Object.values(t).some(s=>{var i;return!!((i=s.remove)!=null&&i.length)})&&(this.schema=void 0,this._schema=void 0);const n=Object.values(t).flatMap(s=>{var i;return((i=s.set)==null?void 0:i.map(u=>ha(u)))??[]});if(!n.length)return;this._schema||await this.loadSchemaData(),yx(this._schema,n);const r=yy(this._schema.data);for(const s of this.onSchemaChangeCallbacks)s(r)})}addTrigger(t,n){switch(t.when){case"afterCommit":this.hooks.afterCommit.push([n,t]);break;case"afterInsert":this.hooks.afterInsert.push([n,t]);break;case"afterUpdate":this.hooks.afterUpdate.push([n,t]);break;case"afterDelete":this.hooks.afterDelete.push([n,t]);break;case"beforeCommit":this.hooks.beforeCommit.push([n,t]);break;case"beforeInsert":this.hooks.beforeInsert.push([n,t]);break;case"beforeUpdate":this.hooks.beforeUpdate.push([n,t]);break;case"beforeDelete":this.hooks.beforeDelete.push([n,t]);break}}withSessionVars(t){return ore(this,t)}async getClientId(){return(await this.tripleStore.clock.getCurrentTimestamp())[1]}async loadSchemaData(){const t=await GI(this.tripleStore);this._schema=qa(t,cn("_metadata","_schema"))??new Q0,t.length&&(this.schema=yy(this._schema.data))}async getSchema(t=!1){return await(t?this.storageReady:this.schemaInitialized),this._pendingSchemaRequest&&await this._pendingSchemaRequest,this._schema||(this._pendingSchemaRequest=this.loadSchemaData(),await this._pendingSchemaRequest,this._pendingSchemaRequest=null),this.schema}async transact(t,n={}){this.logger.debug("transact START",{options:n}),await this.storageReady;const r=await this.getSchema(n.dangerouslyBypassSchemaInitialization);try{const s=await this.tripleStore.transact(async i=>{const u=new X2(this,i,jh(this.hooks),{schema:r,skipRules:n.skipRules,logger:this.logger.scope("tx")});return await t(u)},n.storeScope);return this.logger.debug("transact RESULT",s),s}catch(s){throw this.logger.error("transact ERROR",s),s}finally{this.logger.debug("transact END")}}updateGlobalVariables(t){this.systemVars.global={...this.systemVars.global,...t}}async overrideSchema(t){const{successful:n,issues:r}=await mne(this,t);return yne(n,r,this.logger),{successful:n,issues:r}}async fetch(t,n={}){var o;this.logger.debug("fetch START",{query:t}),await this.storageReady;const r=(o=await this.getSchema())==null?void 0:o.collections,s=zr(t,r,{roles:this.sessionRoles},{skipRules:n.skipRules}),i=n.noCache===void 0?Nm:n.noCache,{results:u}=await oi(this,n.scope?this.tripleStore.setStorageScope(n.scope):this.tripleStore,s,vr(),{schema:r,cache:i?void 0:this.cache,skipRules:n.skipRules});return this.logger.debug("fetch END",{query:t,result:u}),JI(u,r,s.collectionName)}async fetchTriples(t,n={}){var i;await this.storageReady;const r=(i=await this.getSchema())==null?void 0:i.collections,s=zr(t,r,{roles:this.sessionRoles},{skipRules:n.skipRules});return[...(await oi(this,n.scope?this.tripleStore.setStorageScope(n.scope):this.tripleStore,s,vr(),{schema:r,stateVector:n.stateVector})).triples.values()].flat()}async fetchById(t,n,r={}){const s=this.query(t).id(n).build();return this.fetchOne(s,r)}async fetchOne(t,n={}){t={...t,limit:1};const s=[...(await this.fetch(t,n)).values()][0];return s||null}async insert(t,n,r={}){return this.transact(async s=>await s.insert(t,n),r)}async delete(t,n,r={}){return this.transact(async s=>{await s.delete(t,n)},r)}subscribe(t,n,r,s={}){let i=!1;const o=(async()=>{var h;await this.storageReady;const a=(h=await this.getSchema())==null?void 0:h.collections;let c=zr(t,a,{roles:this.sessionRoles},{skipRules:s.skipRules});this.logger.debug("subscribe START",{query:t});const l=s.noCache===void 0?Nm:s.noCache;return ane(this,s.scope?this.tripleStore.setStorageScope(s.scope):this.tripleStore,c,(...f)=>{i||(this.logger.debug("subscribe RESULTS",{query:t,results:f}),n(...f))},(...f)=>{i||r==null||r(...f)},{schema:a,cache:l?void 0:this.cache,skipRules:s.skipRules,stateVector:s.stateVector})})();return async()=>(i=!0,this.logger.debug("subscribe END",{query:t}),(await o)())}subscribeTriples(t,n,r,s={}){const u=(async()=>{var d;await this.storageReady;const o=(d=await this.getSchema())==null?void 0:d.collections;let a=zr(t,o,{roles:this.sessionRoles},{skipRules:s.skipRules});const c=s.noCache===void 0?Nm:s.noCache;return cne(this,s.scope?this.tripleStore.setStorageScope(s.scope):this.tripleStore,a,h=>n([...h.values()].flat()),r,{schema:o,skipRules:s.skipRules,stateVector:s.stateVector,cache:c?void 0:this.cache})})();return async()=>(await u)()}async update(t,n,r,s={}){return await this.transact(async i=>{await i.update(t,n,r)},s)}query(t,n){return LI(t,n)}async createCollection(t){await this.transact(async n=>{await n.createCollection(t)})}async dropCollection(t){await this.transact(async n=>{await n.dropCollection(t)})}async addAttribute(t){await this.transact(async n=>{await n.addAttribute(t)})}async dropAttribute(t){await this.transact(async n=>{await n.dropAttribute(t)})}async alterAttributeOption(t){await this.transact(async n=>{await n.alterAttributeOption(t)})}async dropAttributeOption(t){await this.transact(async n=>{await n.dropAttributeOption(t)})}async addRule(t){await this.transact(async n=>{await n.addRule(t)})}async dropRule(t){await this.transact(async n=>{await n.dropRule(t)})}async setAttributeOptional(t){await this.transact(async n=>{await n.setAttributeOptional(t)})}async applySchemaMigration(t,n,r){const s=t[n],{schema:i}=await gy(this.tripleStore);await this.tripleStore.transact(async u=>{const o=new X2(this,u,jh(this.hooks),{schema:i});for(const a of s)switch(a[0]){case"create_collection":await o.createCollection(a[1]);break;case"drop_collection":await o.dropCollection(a[1]);break;case"add_attribute":await o.addAttribute(a[1]);break;case"drop_attribute":await o.dropAttribute(a[1]);break;case"alter_attribute_option":await o.alterAttributeOption(a[1]);break;case"drop_attribute_option":await o.dropAttributeOption(a[1]);break;case"add_rule":await o.addRule(a[1]);break;case"drop_rule":await o.dropRule(a[1]);break;case"set_attribute_optional":await o.setAttributeOptional(a[1]);break;default:throw new lG(`The operation ${a[0]} is not recognized.`)}await u.insertTriples([{id:cn("_metadata","_schema"),attribute:["_metadata","version"],value:n==="up"?t.version:t.parent,timestamp:await u.clock.getNextTimestamp(),expired:!1}]),n==="up"?await u.updateMetadataTuples([["migrations",[`${t.version}`,"id"],t.version],["migrations",[`${t.version}`,"parent"],t.parent],["migrations",[`${t.version}`,"name"],t.name],["migrations",[`${t.version}`,"applied"],new Date().toISOString()]]):n==="down"&&await u.deleteMetadataTuples([["migrations",[`${t.version}`]]])},r?{read:r,write:r}:void 0)}async migrate(t,n,r){const s=t.sort((i,u)=>(i.version-u.version)*(n==="up"?1:-1));for(const i of s){const{schema:u}=await gy(this.tripleStore),o=(u==null?void 0:u.version)??0;if(ure(i,n,o))try{await this.applySchemaMigration(i,n,r)}catch(a){throw console.error(`Error applying ${n} migration with verison`,i.version,a),a}else console.info("skipping migration",i)}}async getAppliedMigrations(){const t=await this.tripleStore.readMetadataTuples("migrations");return VO(t).migrations||{}}async getLatestMigrationId(){const t=await this.getAppliedMigrations();return Object.values(t).reduce((r,s)=>Math.max(r||0,s.id),void 0)}async getCollectionStats(){const t=await this.tripleStore.findByAttribute(["_collection"]),n=new Map;for(let r of t){if(r.expired)continue;const s=r.value;n.set(s,(n.get(s)??0)+1)}return n}async clear({full:t}={}){t?await this.tripleStore.clear():await this.tripleStore.transact(async n=>{const s=(await n.findByEntity()).filter(({id:i})=>!i.includes("_metadata"));await n.deleteTriples(s)})}onSchemaChange(t){return this.onSchemaChangeCallbacks.add(t),()=>this.onSchemaChangeCallbacks.delete(t)}}k(mN,"ABORT_TRANSACTION",Symbol("abort transaction"));function ure(e,t,n){return t==="up"?e.parent===n:e.version===n}function ore(e,t){const n={global:e.systemVars.global,session:t};return new Proxy(e,{get(r,s,i){return s==="systemVars"?n:Reflect.get(r,s,i)},set:Reflect.set,deleteProperty:Reflect.deleteProperty})}const Sn=class Sn{static Schema(...t){return this.Record(...t)}static get Default(){return{uuid:t=>({func:"uuid",args:t?[t]:null}),now:()=>({func:"now",args:null})}}static Optional(t){return t.context.optional=!0,t}};k(Sn,"Id",()=>my({nullable:!1,default:Sn.Default.uuid()})),k(Sn,"String",my),k(Sn,"Number",XI),k(Sn,"Boolean",Nx),k(Sn,"Date",WI),k(Sn,"Record",QI),k(Sn,"Set",KI),k(Sn,"Query",el),k(Sn,"RelationMany",(t,n)=>el({collectionName:t,...n},"many")),k(Sn,"RelationOne",(t,n)=>el({collectionName:t,...n,limit:1},"one")),k(Sn,"RelationById",(t,n)=>el({collectionName:t,where:[["id","=",n]]},"one"));let ge=Sn;class are{constructor(t,n){k(this,"clock");k(this,"scope");k(this,"scopedStore");k(this,"clockReady");k(this,"readyCallbacks");k(this,"assigned");k(this,"clientId");this.scope=t,this.clientId=n||af(),this.clockReady=new Promise(async(r,s)=>{this.readyCallbacks=[r,s]})}async assignToStore(t){if(this.assigned)return;this.assigned=!0;const[n,r]=this.readyCallbacks;try{this.scopedStore=this.scope?t.setStorageScope([this.scope]):t;const s=await this.scopedStore.readMetadataTuples("clock");if(s.length===0)this.clock=[0,this.clientId],await this.scopedStore.updateMetadataTuples([["clock",["tick"],this.clock[0]],["clock",["clientId"],this.clock[1]]]);else{const{clock:i}=VO(s);this.clock=[i.tick,i.clientId]}n()}catch(s){return console.error(s),r(s)}t.onInsert(async s=>{const u=Object.values(s).flat().reduce((o,a)=>Ts(a.timestamp,o)>0?a.timestamp:o,void 0);await this.clockReady,Ts(u,this.clock)>0&&(this.clock=[u[0],this.clock[1]],this.scopedStore.updateMetadataTuples([["clock",["tick"],this.clock[0]],["clock",["clientId"],this.clock[1]]]))})}async getCurrentTimestamp(){return await this.clockReady,this.clock}async getNextTimestamp(){const[t,n]=await this.getCurrentTimestamp();return[t+1,n]}async setTick(t){await this.clockReady,this.clock=[t,this.clock[1]],this.scopedStore.updateMetadataTuples([["clock",["tick"],t]])}}function Z2(e,t){const n=cre(e);return n?((t==null?void 0:t.split("."))??[]).reduce((i,u)=>{if(i&&i[u])return i[u]},n)["x-triplit-user-id"]:void 0}function cre(e){var t=e.split(".")[1],n=t.replace(/-/g,"+").replace(/_/g,"/"),r=decodeURIComponent(atob(n).split("").map(function(s){return"%"+("00"+s.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(r)}class lre extends ${constructor(t,...n){super(...n),this.name="UnrecognizedFetchPolicyError",this.baseMessage="The fetch policy "+t+" is not recognized.",this.status=se["Bad Request"]}}class fre extends ${constructor(...t){super(...t),this.name="MissingConnectionInformationError",this.baseMessage="Missing connection information. A token and server must be provided.",this.status=se["Internal Server Error"]}}class e3 extends ${constructor(t,...n){super(...n),this.name="RemoteSyncFailedError",this.baseMessage="Remote sync failed for query: "+JSON.stringify(t,null,2),this.status=se["Internal Server Error"]}}class Rd extends ${constructor(t,...n){super(...n),this.name="RemoteFetchFailedError",this.baseMessage="Remote fetch failed for query: "+JSON.stringify(t,null,2),this.status=se["Internal Server Error"]}}var Px={},cg={};const by=(e,t)=>t.some(n=>e instanceof n);let t3,n3;function dre(){return t3||(t3=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hre(){return n3||(n3=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const yN=new WeakMap,wy=new WeakMap,bN=new WeakMap,Rm=new WeakMap,lg=new WeakMap;function pre(e){const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("success",i),e.removeEventListener("error",u)},i=()=>{n(Es(e.result)),s()},u=()=>{r(e.error),s()};e.addEventListener("success",i),e.addEventListener("error",u)});return t.then(n=>{n instanceof IDBCursor&&yN.set(n,e)}).catch(()=>{}),lg.set(t,e),t}function gre(e){if(wy.has(e))return;const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",u),e.removeEventListener("abort",u)},i=()=>{n(),s()},u=()=>{r(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",i),e.addEventListener("error",u),e.addEventListener("abort",u)});wy.set(e,t)}let xy={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return wy.get(e);if(t==="objectStoreNames")return e.objectStoreNames||bN.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Es(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function wN(e){xy=e(xy)}function mre(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(ml(this),t,...n);return bN.set(r,t.sort?t.sort():[t]),Es(r)}:hre().includes(e)?function(...t){return e.apply(ml(this),t),Es(yN.get(this))}:function(...t){return Es(e.apply(ml(this),t))}}function yre(e){return typeof e=="function"?mre(e):(e instanceof IDBTransaction&&gre(e),by(e,dre())?new Proxy(e,xy):e)}function Es(e){if(e instanceof IDBRequest)return pre(e);if(Rm.has(e))return Rm.get(e);const t=yre(e);return t!==e&&(Rm.set(e,t),lg.set(t,e)),t}const ml=e=>lg.get(e);function bre(e,t,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const u=indexedDB.open(e,t),o=Es(u);return r&&u.addEventListener("upgradeneeded",a=>{r(Es(u.result),a.oldVersion,a.newVersion,Es(u.transaction),a)}),n&&u.addEventListener("blocked",a=>n(a.oldVersion,a.newVersion,a)),o.then(a=>{i&&a.addEventListener("close",()=>i()),s&&a.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}function wre(e,{blocked:t}={}){const n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",r=>t(r.oldVersion,r)),Es(n).then(()=>{})}const xre=["get","getKey","getAll","getAllKeys","count"],vre=["put","add","delete","clear"],km=new Map;function r3(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(km.get(t))return km.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,s=vre.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||xre.includes(n)))return;const i=async function(u,...o){const a=this.transaction(u,s?"readwrite":"readonly");let c=a.store;return r&&(c=c.index(o.shift())),(await Promise.all([c[n](...o),s&&a.done]))[0]};return km.set(t,i),i}wN(e=>({...e,get:(t,n,r)=>r3(t,n)||e.get(t,n,r),has:(t,n)=>!!r3(t,n)||e.has(t,n)}));const Sre=["continue","continuePrimaryKey","advance"],s3={},vy=new WeakMap,xN=new WeakMap,_re={get(e,t){if(!Sre.includes(t))return e[t];let n=s3[t];return n||(n=s3[t]=function(...r){vy.set(this,xN.get(this)[t](...r))}),n}};async function*Are(...e){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...e)),!t)return;t=t;const n=new Proxy(t,_re);for(xN.set(n,t),lg.set(n,ml(t));t;)yield n,t=await(vy.get(n)||t.continue()),vy.delete(n)}function i3(e,t){return t===Symbol.asyncIterator&&by(e,[IDBIndex,IDBObjectStore,IDBCursor])||t==="iterate"&&by(e,[IDBIndex,IDBObjectStore])}wN(e=>({...e,get(t,n,r){return i3(t,n)?Are:e.get(t,n,r)},has(t,n){return i3(t,n)||e.has(t,n)}}));const Tre=Object.freeze(Object.defineProperty({__proto__:null,deleteDB:wre,openDB:bre,unwrap:ml,wrap:Es},Symbol.toStringTag,{value:"Module"})),Ere=Pb(Tre);Object.defineProperty(cg,"__esModule",{value:!0});cg.IndexedDbTupleStorage=void 0;const Ore=Ere,Ru=P0,Ire=1,Cm="tupledb";class Nre{constructor(t){this.dbName=t,this.db=(0,Ore.openDB)(t,Ire,{upgrade(n){n.createObjectStore(Cm)}})}async scan(t){const r=(await this.db).transaction(Cm,"readonly",{durability:"relaxed"}),s=r.store,i=(t==null?void 0:t.gt)||(t==null?void 0:t.gte),u=!!(t!=null&&t.gte),o=(t==null?void 0:t.lt)||(t==null?void 0:t.lte),a=!!(t!=null&&t.lte);let c;o?i?c=IDBKeyRange.bound((0,Ru.encodeTuple)(i),(0,Ru.encodeTuple)(o),!u,!a):c=IDBKeyRange.upperBound((0,Ru.encodeTuple)(o),!a):i?c=IDBKeyRange.lowerBound((0,Ru.encodeTuple)(i),!u):c=null;const l=t!=null&&t.reverse?"prev":"next",d=(t==null?void 0:t.limit)||1/0;let h=[];for await(const f of s.iterate(c,l))if(h.push({key:(0,Ru.decodeTuple)(f.key),value:f.value}),h.length>=d)break;return await r.done,h}async commit(t){const r=(await this.db).transaction(Cm,"readwrite",{durability:"relaxed"});for(const{key:s,value:i}of t.set||[])r.store.put(i,(0,Ru.encodeTuple)(s));for(const s of t.remove||[])r.store.delete((0,Ru.encodeTuple)(s));await r.done}async close(){(await this.db).close()}}cg.IndexedDbTupleStorage=Nre;Object.defineProperty(Px,"__esModule",{value:!0});var Sy=Px.CachedIndexedDbStorage=void 0;const Rre=cg,kre=og;class Cre{constructor(t,n={cache:!0}){this.dbName=t,this.options=n,this._cacheReadyForReads=!1,this._indexedDB=new Rre.IndexedDbTupleStorage(t),this._cache=new kre.MemoryBTreeStorage,n.cache&&this.initializeCacheFromIndexedDB()}async initializeCacheFromIndexedDB(){const t=await this._indexedDB.scan();this._cache.commit({set:t}),this._cacheReadyForReads=!0}async scan(t){return this.options.cache&&this._cacheReadyForReads?this._cache.scan(t):this._indexedDB.scan(t)}async commit(t){this.options.cache?(this._cache.commit(t),await this._indexedDB.commit(t)):await this._indexedDB.commit(t)}async close(){this._cache&&this._cache.close(),await this._indexedDB.close()}}Sy=Px.CachedIndexedDbStorage=Cre;var _y=function(e,t){return _y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},_y(e,t)};function fg(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");_y(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function Ay(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ty(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),s,i=[],u;try{for(;(t===void 0||t-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(o){u={error:o}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(u)throw u.error}}return i}function Ey(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}function ai(e){return typeof e=="function"}function vN(e){var t=function(r){Error.call(r),r.stack=new Error().stack},n=e(t);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Dm=vN(function(e){return function(n){e(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,s){return s+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function Oy(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var dg=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,n,r,s,i;if(!this.closed){this.closed=!0;var u=this._parentage;if(u)if(this._parentage=null,Array.isArray(u))try{for(var o=Ay(u),a=o.next();!a.done;a=o.next()){var c=a.value;c.remove(this)}}catch(m){t={error:m}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}else u.remove(this);var l=this.initialTeardown;if(ai(l))try{l()}catch(m){i=m instanceof Dm?m.errors:[m]}var d=this._finalizers;if(d){this._finalizers=null;try{for(var h=Ay(d),f=h.next();!f.done;f=h.next()){var g=f.value;try{u3(g)}catch(m){i=i??[],m instanceof Dm?i=Ey(Ey([],Ty(i)),Ty(m.errors)):i.push(m)}}}catch(m){r={error:m}}finally{try{f&&!f.done&&(s=h.return)&&s.call(h)}finally{if(r)throw r.error}}}if(i)throw new Dm(i)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)u3(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}},e.prototype._hasParent=function(t){var n=this._parentage;return n===t||Array.isArray(n)&&n.includes(t)},e.prototype._addParent=function(t){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t},e.prototype._removeParent=function(t){var n=this._parentage;n===t?this._parentage=null:Array.isArray(n)&&Oy(n,t)},e.prototype.remove=function(t){var n=this._finalizers;n&&Oy(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),SN=dg.EMPTY;function _N(e){return e instanceof dg||e&&"closed"in e&&ai(e.remove)&&ai(e.add)&&ai(e.unsubscribe)}function u3(e){ai(e)?e():e.unsubscribe()}var AN={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},TN={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout.apply(void 0,Ey([e,t],Ty(n)))},clearTimeout:function(e){var t=TN.delegate;return((t==null?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function Dre(e){TN.setTimeout(function(){throw e})}function o3(){}function Zd(e){e()}var EN=function(e){fg(t,e);function t(n){var r=e.call(this)||this;return r.isStopped=!1,n?(r.destination=n,_N(n)&&n.add(r)):r.destination=Lre,r}return t.create=function(n,r,s){return new Iy(n,r,s)},t.prototype.next=function(n){this.isStopped||this._next(n)},t.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(n){this.destination.next(n)},t.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(dg),Mre=Function.prototype.bind;function Mm(e,t){return Mre.call(e,t)}var Pre=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var n=this.partialObserver;if(n.next)try{n.next(t)}catch(r){kd(r)}},e.prototype.error=function(t){var n=this.partialObserver;if(n.error)try{n.error(t)}catch(r){kd(r)}else kd(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(n){kd(n)}},e}(),Iy=function(e){fg(t,e);function t(n,r,s){var i=e.call(this)||this,u;if(ai(n)||!n)u={next:n??void 0,error:r??void 0,complete:s??void 0};else{var o;i&&AN.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=function(){return i.unsubscribe()},u={next:n.next&&Mm(n.next,o),error:n.error&&Mm(n.error,o),complete:n.complete&&Mm(n.complete,o)}):u=n}return i.destination=new Pre(u),i}return t}(EN);function kd(e){Dre(e)}function jre(e){throw e}var Lre={closed:!0,next:o3,error:jre,complete:o3},Fre=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function $re(e){return e}function Bre(e){return e.length===0?$re:e.length===1?e[0]:function(n){return e.reduce(function(r,s){return s(r)},n)}}var a3=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(t,n,r){var s=this,i=qre(t)?t:new Iy(t,n,r);return Zd(function(){var u=s,o=u.operator,a=u.source;i.add(o?o.call(i,a):a?s._subscribe(i):s._trySubscribe(i))}),i},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){t.error(n)}},e.prototype.forEach=function(t,n){var r=this;return n=c3(n),new n(function(s,i){var u=new Iy({next:function(o){try{t(o)}catch(a){i(a),u.unsubscribe()}},error:i,complete:s});r.subscribe(u)})},e.prototype._subscribe=function(t){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(t)},e.prototype[Fre]=function(){return this},e.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Bre(t)(this)},e.prototype.toPromise=function(t){var n=this;return t=c3(t),new t(function(r,s){var i;n.subscribe(function(u){return i=u},function(u){return s(u)},function(){return r(i)})})},e.create=function(t){return new e(t)},e}();function c3(e){var t;return(t=e??AN.Promise)!==null&&t!==void 0?t:Promise}function Ure(e){return e&&ai(e.next)&&ai(e.error)&&ai(e.complete)}function qre(e){return e&&e instanceof EN||Ure(e)&&_N(e)}var Vre=vN(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Ny=function(e){fg(t,e);function t(){var n=e.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return t.prototype.lift=function(n){var r=new l3(this,this);return r.operator=n,r},t.prototype._throwIfClosed=function(){if(this.closed)throw new Vre},t.prototype.next=function(n){var r=this;Zd(function(){var s,i;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var u=Ay(r.currentObservers),o=u.next();!o.done;o=u.next()){var a=o.value;a.next(n)}}catch(c){s={error:c}}finally{try{o&&!o.done&&(i=u.return)&&i.call(u)}finally{if(s)throw s.error}}}})},t.prototype.error=function(n){var r=this;Zd(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var s=r.observers;s.length;)s.shift().error(n)}})},t.prototype.complete=function(){var n=this;Zd(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(n){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,n)},t.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},t.prototype._innerSubscribe=function(n){var r=this,s=this,i=s.hasError,u=s.isStopped,o=s.observers;return i||u?SN:(this.currentObservers=null,o.push(n),new dg(function(){r.currentObservers=null,Oy(o,n)}))},t.prototype._checkFinalizedStatuses=function(n){var r=this,s=r.hasError,i=r.thrownError,u=r.isStopped;s?n.error(i):u&&n.complete()},t.prototype.asObservable=function(){var n=new a3;return n.source=this,n},t.create=function(n,r){return new l3(n,r)},t}(a3),l3=function(e){fg(t,e);function t(n,r){var s=e.call(this)||this;return s.destination=n,s.source=r,s}return t.prototype.next=function(n){var r,s;(s=(r=this.destination)===null||r===void 0?void 0:r.next)===null||s===void 0||s.call(r,n)},t.prototype.error=function(n){var r,s;(s=(r=this.destination)===null||r===void 0?void 0:r.error)===null||s===void 0||s.call(r,n)},t.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},t.prototype._subscribe=function(n){var r,s;return(s=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&s!==void 0?s:SN},t}(Ny);const zre=1024*1024/2;class Hre{constructor(t={}){k(this,"options");k(this,"ws");k(this,"connectionListeners",new Set);this.options=t,this.options.messagePayloadSizeLimit=this.options.messagePayloadSizeLimit==null?zre:this.options.messagePayloadSizeLimit}get isOpen(){return!!this.ws&&this.ws.readyState===this.ws.OPEN}get connectionStatus(){return this.ws?ON(this.ws):"CLOSED"}onOpen(t){this.ws&&(this.ws.onopen=t)}sendMessage(t){if(!this.ws||!this.isOpen)return;const n=JSON.stringify(t),r=Gre(n);if(this.options.messagePayloadSizeLimit&&r>this.options.messagePayloadSizeLimit){const s=Jre(n,Math.ceil(r/this.options.messagePayloadSizeLimit)),i=(Math.random()+1).toString(36).substring(7);for(let u=0;u<s.length;u++)this.ws.send(JSON.stringify({type:"CHUNK",payload:{data:s[u],total:s.length,index:u,id:i}}));return}this.ws.send(JSON.stringify(t))}connect(t){this.ws&&this.isOpen&&this.close();const{token:n,clientId:r,schema:s,syncSchema:i,server:u,secure:o}=t,a=[];if(!n||!r||!u){n||a.push("token"),r||a.push("clientId"),u||a.push("server"),console.warn(`Missing required params: [${a.join(", ")}]. Skipping sync connection.`);return}const c=new URLSearchParams;s&&c.set("schema",s.toString()),c.set("sync-schema",String(i)),c.set("client",r),c.set("token",n);const l=`${o?"wss":"ws"}://${u}?${c.toString()}`;this.ws=new WebSocket(l),this.ws.onconnectionchange=d=>{this.connectionListeners.forEach(h=>h(d))}}onMessage(t){this.ws&&(this.ws.onmessage=t)}onError(t){this.ws&&(this.ws.onerror=t)}close(t){this.ws&&this.ws.close(1e3,JSON.stringify(t))}onClose(t){this.ws&&(this.ws.onclose=t)}onConnectionChange(t){return this.connectionListeners.add(t),()=>{this.connectionListeners.delete(t)}}}function Gre(e){var t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);t+=r<128?1:r<2048?2:r<65536?3:4}return t}function Jre(e,t){let n=[];const r=Math.ceil(e.length/t);for(let s=0;s<e.length;s+=r)n.push(e.slice(s,s+r));return n}function ON(e){switch(e.readyState){case e.CONNECTING:return"CONNECTING";case e.OPEN:return"OPEN";case e.CLOSING:return"CLOSING";case e.CLOSED:default:return"CLOSED"}}var E3;if(typeof WebSocket<"u"&&typeof self<"u"&&((E3=Object.getOwnPropertyDescriptor(self,"WebSocket"))!=null&&E3.writable)){var Wre=new Proxy(WebSocket,{construct:function(e,t){const n=new e(...t);function r(){n.dispatchEvent(new Event("connectionchange")),n.onconnectionchange&&typeof n.onconnectionchange=="function"&&n.onconnectionchange(ON(n))}setTimeout(function(){r()},0);const s=()=>{r()},i=()=>{r(),n.removeEventListener("open",s),n.removeEventListener("close",i)};return n.addEventListener("open",s),n.addEventListener("close",i),n}});WebSocket=Wre}const f3="query-state";class Qre{constructor(t,n){k(this,"transport");k(this,"queries",new Map);k(this,"reconnectTimeoutDelay",250);k(this,"reconnectTimeout");k(this,"client");k(this,"syncOptions");k(this,"connectionChangeHandlers",new Set);k(this,"queryFulfillmentCallbacks");k(this,"txCommits$",new Ny);k(this,"txFailures$",new Ny);k(this,"messageReceivedSubscribers",new Set);k(this,"messageSentSubscribers",new Set);k(this,"awaitingAck",new Set);k(this,"logger");k(this,"commitCallbacks",new Map);k(this,"failureCallbacks",new Map);this.client=t,this.logger=n.logger,this.syncOptions=n,this.syncOptions.secure=n.secure??!0,this.syncOptions.syncSchema=n.syncSchema??!1,this.transport=n.transport??new Hre,this.txCommits$.subscribe(s=>{const i=this.commitCallbacks.get(s);if(i){for(const u of i)u();this.commitCallbacks.delete(s),this.failureCallbacks.delete(s)}}),this.txFailures$.subscribe(({txId:s,error:i})=>{const u=this.failureCallbacks.get(s);if(u)for(const o of u)o(i)}),this.queryFulfillmentCallbacks=new Map;const r=Xre(()=>this.signalOutboxTriples(),100);this.db.tripleStore.setStorageScope(["outbox"]).onInsert(s=>{var i;(i=s.outbox)!=null&&i.length&&r()})}get token(){return this.syncOptions.token}get db(){return this.client.db}get httpUri(){return this.syncOptions.server?`${this.syncOptions.secure?"https":"http"}://${this.syncOptions.server}`:void 0}onSyncMessageReceived(t){return this.messageReceivedSubscribers.add(t),()=>{this.messageReceivedSubscribers.delete(t)}}onSyncMessageSent(t){return this.messageSentSubscribers.add(t),()=>{this.messageSentSubscribers.delete(t)}}async getConnectionParams(){var r;const t=await this.db.getClientId(),n=zne((r=Rx(await this.db.getSchema()))==null?void 0:r.collections);return{clientId:t,schema:n,syncSchema:this.syncOptions.syncSchema,token:this.syncOptions.token,server:this.syncOptions.server,secure:this.syncOptions.secure}}async getQueryState(t){const n=await this.db.tripleStore.readMetadataTuples(f3,[t]);return n.length===0?void 0:JSON.parse(n[0][2])}async isFirstTimeFetchingQuery(t){await this.db.ready;const n=this.getQueryHash(t);return await this.getQueryState(n)===void 0}async setQueryState(t,n){await this.db.tripleStore.updateMetadataTuples([[f3,[t],JSON.stringify(n)]])}getQueryHash(t){const{id:n,...r}=t;return OI(r).toString()}subscribe(t,n){const r=this.getQueryHash(t);return this.getQueryState(r).then(s=>{this.sendMessage({type:"CONNECT_QUERY",payload:{id:r,params:t,state:s}}),this.queries.set(r,{params:t,fulfilled:!1}),this.onQueryFulfilled(r,i=>{const{triples:u}=i;if(u.length>0){const o=this.triplesToStateVector(u),a=new Map((s??[]).map(([c,l])=>[l,c]));o.forEach(([c,l])=>{const d=a.get(l);(!d||c>d)&&a.set(l,c)}),this.setQueryState(r,[...a.entries()].map(([c,l])=>[l,c]))}this.queries.set(r,{params:t,fulfilled:!0}),n&&n()})}),()=>{this.disconnectQuery(r)}}triplesToStateVector(t){const n=new Map;return t.forEach(r=>{const[s,i]=r.timestamp,u=n.get(i);(!u||s>u)&&n.set(i,s)}),[...n.entries()].map(([r,s])=>[s,r])}onQueryFulfilled(t,n){this.queryFulfillmentCallbacks.set(t,n)}hasQueryBeenFulfilled(t){var n;return((n=this.queries.get(t))==null?void 0:n.fulfilled)??!1}disconnectQuery(t){this.sendMessage({type:"DISCONNECT_QUERY",payload:{id:t}}),this.queries.delete(t)}onTxCommit(t,n){var r;return this.commitCallbacks.has(t)?(r=this.commitCallbacks.get(t))==null||r.add(n):this.commitCallbacks.set(t,new Set([n])),()=>{var s;(s=this.commitCallbacks.get(t))==null||s.delete(n)}}onTxFailure(t,n){var r;return this.failureCallbacks.has(t)?(r=this.failureCallbacks.get(t))==null||r.add(n):this.failureCallbacks.set(t,new Set([n])),()=>{var s;(s=this.failureCallbacks.get(t))==null||s.delete(n)}}signalOutboxTriples(){this.sendMessage({type:"TRIPLES_PENDING",payload:{}})}async connect(){this.transport.connectionStatus!=="CLOSED"&&this.closeConnection({type:"CONNECTION_OVERRIDE",retry:!1});const t=await this.getConnectionParams();this.transport.connect(t),this.transport.onMessage(async n=>{const r=JSON.parse(n.data);this.logger.debug("received",r);for(const s of this.messageReceivedSubscribers)s(r);if(r.type==="ERROR"&&await this.handleErrorMessage(r),r.type==="TRIPLES"){const{payload:s}=r,i=s.triples,u=s.forQueries;for(const o of u){const a=this.queryFulfillmentCallbacks.get(o);a&&a(s)}i.length!==0&&await this.db.transact(async o=>{await o.storeTx.withScope({read:["cache"],write:["cache"]}).insertTriples(i)},{skipRules:!0})}if(r.type==="TRIPLES_ACK"){const{payload:s}=r,{txIds:i,failedTxIds:u}=s;try{const o=new Set(u);await this.db.tripleStore.transact(async c=>{const l=c.withScope({read:["outbox"],write:["outbox"]}),d=c.withScope({read:["cache"],write:["cache"]});for(const h of i){const f=JSON.parse(h),g=await l.findByClientTimestamp(await this.db.getClientId(),"eq",f);g.length>0&&(await d.insertTriples(g),await l.deleteTriples(g))}});for(const c of i)this.txCommits$.next(c);(await this.getTriplesToSend(this.db.tripleStore.setStorageScope(["outbox"]))).filter(c=>!o.has(JSON.stringify(c.timestamp))).length&&this.signalOutboxTriples()}finally{for(const o of i)this.awaitingAck.delete(o);for(const o of u)this.awaitingAck.delete(o)}}if(r.type==="TRIPLES_REQUEST"){const s=await this.getTriplesToSend(this.db.tripleStore.setStorageScope(["outbox"]));this.sendTriples(s)}if(r.type==="CLOSE"){const{payload:s}=r;this.logger.info(`Closing connection${s!=null&&s.message?`: ${s.message}`:"."}`);const{type:i,retry:u}=s;this.closeConnection({type:i,retry:u})}}),this.transport.onOpen(async()=>{this.logger.info("sync connection has opened"),this.resetReconnectTimeout(),!!(await this.getTriplesToSend(this.db.tripleStore.setStorageScope(["outbox"]))).length&&this.signalOutboxTriples();for(const[s,i]of this.queries)this.getQueryState(s).then(u=>{this.sendMessage({type:"CONNECT_QUERY",payload:{id:s,params:i.params,state:u}})})}),this.transport.onClose(n=>{if(this.awaitingAck=new Set,n.reason){let s,i;try{const{type:u,retry:o}=JSON.parse(n.reason);s=u,i=o}catch{s="UNKNOWN",i=!0}if(s==="SCHEMA_MISMATCH"&&this.logger.error("The server has closed the connection because the client schema does not match the server schema. Please update your client schema."),!i){this.logger.warn("Connection will not automatically retry.");return}}const r=this.connect.bind(this);this.reconnectTimeout=setTimeout(r,this.reconnectTimeoutDelay),this.reconnectTimeoutDelay=Math.min(3e4,this.reconnectTimeoutDelay*2)}),this.transport.onError(n=>{this.logger.error("transport error",n),this.transport.close()}),this.transport.onConnectionChange(n=>{for(const r of this.connectionChangeHandlers)r(n)})}get connectionStatus(){return this.transport.connectionStatus}updateConnection(t){Object.keys(t).some(r=>this.syncOptions[r]!==t[r])&&(this.disconnect(),this.syncOptions={...this.syncOptions,...t},this.connect())}disconnect(){this.closeConnection({type:"MANUAL_DISCONNECT",retry:!1})}async handleErrorMessage(t){const{error:n,metadata:r}=t.payload;switch(this.logger.error(n.name,r),n.name){case"MalformedMessagePayloadError":case"UnrecognizedMessageTypeError":this.logger.warn("You sent a malformed message to the server. This might occur if your client is not up to date with the server. Please ensure your client is updated.");break;case"TriplesInsertError":const s=(r==null?void 0:r.failures)??[];for(const u of s){const{txId:o,error:a}=u;this.txFailures$.next({txId:o,error:a})}case"QuerySyncError":const i=r==null?void 0:r.queryKey;i&&this.disconnectQuery(i)}}sendTriples(t){const n=this.syncOptions.syncSchema?t:t.filter(({id:r})=>!r.includes("_metadata#_schema"));n.length!==0&&(n.forEach(r=>this.awaitingAck.add(JSON.stringify(r.timestamp))),this.sendMessage({type:"TRIPLES",payload:{triples:n}}))}sendMessage(t){this.transport.sendMessage(t),this.logger.debug("sent",t);for(const n of this.messageSentSubscribers)n(t)}async retry(t){const n=JSON.parse(t),r=await this.db.tripleStore.setStorageScope(["outbox"]).findByClientTimestamp(await this.db.getClientId(),"eq",n);r.length>0&&this.sendTriples(r)}async rollback(t){const n=Array.isArray(t)?t:[t];await this.db.transact(async r=>{const s=r.storeTx.withScope({read:["outbox"],write:["outbox"]});for(const i of n){const u=JSON.parse(i),o=await s.findByClientTimestamp(await this.db.getClientId(),"eq",u);await s.deleteTriples(o)}},{skipRules:!0})}onConnectionStatusChange(t,n=!1){return this.connectionChangeHandlers.add(t),n&&t(this.transport.connectionStatus),()=>{this.connectionChangeHandlers.delete(t)}}closeConnection(t){this.transport&&this.transport.close(t)}resetReconnectTimeout(){clearTimeout(this.reconnectTimeout),this.reconnectTimeoutDelay=250}async syncQuery(t){try{const n=await this.getRemoteTriples(t);await this.db.transact(async r=>{await r.storeTx.withScope({read:["cache"],write:["cache"]}).insertTriples(n)},{skipRules:!0})}catch(n){throw n instanceof $?n:n instanceof Error?new e3(t,n.message):new e3(t,"An unknown error occurred.")}}async fetchQuery(t){var n;try{const r=await this.getRemoteTriples(t),s=Ic(r),i=(n=await this.db.getSchema())==null?void 0:n.collections;return new Map([...s].map(([u,o])=>[ia(u),Zi(o.data,i)]))}catch(r){throw r instanceof $?r:r instanceof Error?new Rd(t,r.message):new Rd(t,"An unknown error occurred.")}}async getRemoteTriples(t){const n=await this.fetchFromServer("/queryTriples",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:t})});if(!n.ok){let r;try{r=await n.json()}catch{throw new Rd(t,`The server responded with an error: ${await n.text()}`)}const s=r.message??JSON.stringify(r);throw new Rd(t,s)}return await n.json()}fetchFromServer(t,n){if(!this.httpUri||!this.token){const r=[];throw this.httpUri||r.push("No server specified."),this.token||r.push("No token specified."),new fre(r.join(" "))}return fetch(`${this.httpUri}${t}`,{...n,headers:{Authorization:`Bearer ${this.token}`,...n==null?void 0:n.headers}})}async getTriplesToSend(t){return(await t.findByEntity()).filter(n=>this.shouldSendTriple(n))}shouldSendTriple(t){return!this.awaitingAck.has(JSON.stringify(t.timestamp))&&(this.syncOptions.syncSchema||!t.id.includes("_metadata#_schema"))}}function Xre(e,t){let n=!1,r=!1;function s(){r?(e(),r=!1,setTimeout(s,t)):n=!1}return function(){n?r=!0:(e(),n=!0,setTimeout(s,t))}}function Kre(e,t){const n={collectionName:e,...t};return new jr(n)}class jr{constructor(t){k(this,"query");this.query=t}build(){return this.query}select(t){return new jr({...this.query,select:t})}where(...t){return new jr({...this.query,where:Ji().where(this.query,...t)})}id(t){const n=[["id","=",t],...(this.query.where??[]).filter(r=>!Array.isArray(r)||r[0]!=="id")];return new jr({...this.query,where:n})}order(...t){return new jr({...this.query,order:Ji().order(this.query,...t)})}after(t,n){return new jr({...this.query,after:Ji().after(this.query,t,n)})}include(t,n){return new jr({...this.query,include:Ji().include(this.query,t,n)})}limit(t){return new jr({...this.query,limit:t})}vars(t){return new jr({...this.query,vars:t})}entityId(t){return this.id(t)}syncStatus(t){return new jr({...this.query,syncStatus:t})}}function Yre(e,t){const n={collectionName:e,...t};return new Lr(n)}function Zre(e){try{const t=JSON.parse(e);return $.fromJson(t)}catch{return new $(`Failed to parse remote error response: ${e}`)}}class ese{constructor(t){k(this,"options");this.options=t}async schema(){var t,n;return this.options.schema||await((n=(t=this.options).schemaFactory)==null?void 0:n.call(t))}updateOptions(t){this.options={...this.options,...t}}async sendRequest(t,n,r,s={isFile:!1}){if(!this.options.server)throw new $("No server url provided");if(!this.options.token)throw new $("No token provided");const i={Authorization:"Bearer "+this.options.token,"Content-Type":"application/json"},u=JSON.stringify(r);let o;s.isFile&&(o=new FormData,o.append("data",u),delete i["Content-Type"]);const a=await fetch(this.options.server+t,{method:n,headers:i,body:s.isFile?o:u});return a.ok?{data:await a.json(),error:void 0}:{data:void 0,error:Zre(await a.text())}}async fetch(t){const{data:n,error:r}=await this.sendRequest("/fetch","POST",{query:t});if(r)throw r;return d3(t,n.result,await this.schema())}async queryTriples(t){const{data:n,error:r}=await this.sendRequest("/queryTriples","POST",{query:t});if(r)throw r;return n}async fetchOne(t){t={...t,limit:1};const{data:n,error:r}=await this.sendRequest("/fetch","POST",{query:t});if(r)throw r;const i=[...d3(t,n.result,await this.schema()).values()][0];return i||null}async fetchById(t,n){const r=this.query(t).id(n).build();return this.fetchOne(r)}async insert(t,n){var a;const r=await this.schema(),s=(a=r==null?void 0:r[t])==null?void 0:a.schema,i=s?Object.fromEntries(Object.entries(n).map(([c,l])=>[c,s.properties[c].convertJSToJSON(l,r)])):n,{data:u,error:o}=await this.sendRequest("/insert","POST",{collectionName:t,entity:i});if(o)throw o;return u}async bulkInsert(t){const n=await this.schema(),r=n?Object.fromEntries(Object.entries(t).map(([u,o])=>[u,o==null?void 0:o.map(a=>Object.fromEntries(Object.entries(a).map(([c,l])=>{var d;return[c,(d=n[u])==null?void 0:d.schema.properties[c].convertJSToJSON(l,n)]})))])):t,{data:s,error:i}=await this.sendRequest("/bulk-insert-file","POST",r,{isFile:!0});if(i)throw i;return s}async insertTriples(t){const{data:n,error:r}=await this.sendRequest("/insert-triples","POST",{triples:t});if(r)throw r;return n}async deleteTriples(t){const{data:n,error:r}=await this.sendRequest("/delete-triples","POST",{entityAttributes:t});if(r)throw r;return n}async update(t,n,r){var m;const s=await this.schema();(m=s==null?void 0:s[t])==null||m.schema;const i=this.query(t).id(n).build(),u=await this.queryTriples(i),o=qa(u,cn(t,n)),a=yn(o==null?void 0:o.data),c=new iN(a),l=np(c,a,s,t);await r(l);const h=c.getTuples().map(y=>y[1]===void 0?["delete",y[0]]:["set",y[0],y[1]]),{data:f,error:g}=await this.sendRequest("/update","POST",{collectionName:t,entityId:n,patches:h});if(g)throw g;return f}async delete(t,n){const{data:r,error:s}=await this.sendRequest("/delete","POST",{collectionName:t,entityId:n});if(s)throw s;return r}query(t){return Yre(t)}}function d3(e,t,n){return new Map(t.map(r=>[r[0],tse(e,r[1],n)]))}function tse(e,t,n){var o;const{include:r,collectionName:s}=e,i=(o=n==null?void 0:n[s])==null?void 0:o.schema;return i?i.convertJSONToJS(t,n):t}class nse{constructor(){this.keyToValue=new Map,this.valueToKey=new Map}set(t,n){this.keyToValue.set(t,n),this.valueToKey.set(n,t)}getByKey(t){return this.keyToValue.get(t)}getByValue(t){return this.valueToKey.get(t)}clear(){this.keyToValue.clear(),this.valueToKey.clear()}}class IN{constructor(t){this.generateIdentifier=t,this.kv=new nse}register(t,n){this.kv.getByValue(t)||(n||(n=this.generateIdentifier(t)),this.kv.set(n,t))}clear(){this.kv.clear()}getIdentifier(t){return this.kv.getByValue(t)}getValue(t){return this.kv.getByKey(t)}}class rse extends IN{constructor(){super(t=>t.name),this.classToAllowedProps=new Map}register(t,n){typeof n=="object"?(n.allowProps&&this.classToAllowedProps.set(t,n.allowProps),super.register(t,n.identifier)):super.register(t,n)}getAllowedProps(t){return this.classToAllowedProps.get(t)}}function sse(e){if("values"in Object)return Object.values(e);const t=[];for(const n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t}function ise(e,t){const n=sse(e);if("find"in n)return n.find(t);const r=n;for(let s=0;s<r.length;s++){const i=r[s];if(t(i))return i}}function Ga(e,t){Object.entries(e).forEach(([n,r])=>t(r,n))}function eh(e,t){return e.indexOf(t)!==-1}function h3(e,t){for(let n=0;n<e.length;n++){const r=e[n];if(t(r))return r}}class use{constructor(){this.transfomers={}}register(t){this.transfomers[t.name]=t}findApplicable(t){return ise(this.transfomers,n=>n.isApplicable(t))}findByName(t){return this.transfomers[t]}}const ose=e=>Object.prototype.toString.call(e).slice(8,-1),NN=e=>typeof e>"u",ase=e=>e===null,cf=e=>typeof e!="object"||e===null||e===Object.prototype?!1:Object.getPrototypeOf(e)===null?!0:Object.getPrototypeOf(e)===Object.prototype,Ry=e=>cf(e)&&Object.keys(e).length===0,cu=e=>Array.isArray(e),cse=e=>typeof e=="string",lse=e=>typeof e=="number"&&!isNaN(e),fse=e=>typeof e=="boolean",dse=e=>e instanceof RegExp,lf=e=>e instanceof Map,ff=e=>e instanceof Set,RN=e=>ose(e)==="Symbol",hse=e=>e instanceof Date&&!isNaN(e.valueOf()),pse=e=>e instanceof Error,p3=e=>typeof e=="number"&&isNaN(e),gse=e=>fse(e)||ase(e)||NN(e)||lse(e)||cse(e)||RN(e),mse=e=>typeof e=="bigint",yse=e=>e===1/0||e===-1/0,bse=e=>ArrayBuffer.isView(e)&&!(e instanceof DataView),wse=e=>e instanceof URL,kN=e=>e.replace(/\./g,"\\."),Pm=e=>e.map(String).map(kN).join("."),yl=e=>{const t=[];let n="";for(let s=0;s<e.length;s++){let i=e.charAt(s);if(i==="\\"&&e.charAt(s+1)==="."){n+=".",s++;continue}if(i==="."){t.push(n),n="";continue}n+=i}const r=n;return t.push(r),t};function os(e,t,n,r){return{isApplicable:e,annotation:t,transform:n,untransform:r}}const CN=[os(NN,"undefined",()=>null,()=>{}),os(mse,"bigint",e=>e.toString(),e=>typeof BigInt<"u"?BigInt(e):(console.error("Please add a BigInt polyfill."),e)),os(hse,"Date",e=>e.toISOString(),e=>new Date(e)),os(pse,"Error",(e,t)=>{const n={name:e.name,message:e.message};return t.allowedErrorProps.forEach(r=>{n[r]=e[r]}),n},(e,t)=>{const n=new Error(e.message);return n.name=e.name,n.stack=e.stack,t.allowedErrorProps.forEach(r=>{n[r]=e[r]}),n}),os(dse,"regexp",e=>""+e,e=>{const t=e.slice(1,e.lastIndexOf("/")),n=e.slice(e.lastIndexOf("/")+1);return new RegExp(t,n)}),os(ff,"set",e=>[...e.values()],e=>new Set(e)),os(lf,"map",e=>[...e.entries()],e=>new Map(e)),os(e=>p3(e)||yse(e),"number",e=>p3(e)?"NaN":e>0?"Infinity":"-Infinity",Number),os(e=>e===0&&1/e===-1/0,"number",()=>"-0",Number),os(wse,"URL",e=>e.toString(),e=>new URL(e))];function hg(e,t,n,r){return{isApplicable:e,annotation:t,transform:n,untransform:r}}const DN=hg((e,t)=>RN(e)?!!t.symbolRegistry.getIdentifier(e):!1,(e,t)=>["symbol",t.symbolRegistry.getIdentifier(e)],e=>e.description,(e,t,n)=>{const r=n.symbolRegistry.getValue(t[1]);if(!r)throw new Error("Trying to deserialize unknown symbol");return r}),xse=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,Uint8ClampedArray].reduce((e,t)=>(e[t.name]=t,e),{}),MN=hg(bse,e=>["typed-array",e.constructor.name],e=>[...e],(e,t)=>{const n=xse[t[1]];if(!n)throw new Error("Trying to deserialize unknown typed array");return new n(e)});function PN(e,t){return e!=null&&e.constructor?!!t.classRegistry.getIdentifier(e.constructor):!1}const jN=hg(PN,(e,t)=>["class",t.classRegistry.getIdentifier(e.constructor)],(e,t)=>{const n=t.classRegistry.getAllowedProps(e.constructor);if(!n)return{...e};const r={};return n.forEach(s=>{r[s]=e[s]}),r},(e,t,n)=>{const r=n.classRegistry.getValue(t[1]);if(!r)throw new Error("Trying to deserialize unknown class - check https://github.com/blitz-js/superjson/issues/116#issuecomment-773996564");return Object.assign(Object.create(r.prototype),e)}),LN=hg((e,t)=>!!t.customTransformerRegistry.findApplicable(e),(e,t)=>["custom",t.customTransformerRegistry.findApplicable(e).name],(e,t)=>t.customTransformerRegistry.findApplicable(e).serialize(e),(e,t,n)=>{const r=n.customTransformerRegistry.findByName(t[1]);if(!r)throw new Error("Trying to deserialize unknown custom value");return r.deserialize(e)}),vse=[jN,DN,LN,MN],g3=(e,t)=>{const n=h3(vse,s=>s.isApplicable(e,t));if(n)return{value:n.transform(e,t),type:n.annotation(e,t)};const r=h3(CN,s=>s.isApplicable(e,t));if(r)return{value:r.transform(e,t),type:r.annotation}},FN={};CN.forEach(e=>{FN[e.annotation]=e});const Sse=(e,t,n)=>{if(cu(t))switch(t[0]){case"symbol":return DN.untransform(e,t,n);case"class":return jN.untransform(e,t,n);case"custom":return LN.untransform(e,t,n);case"typed-array":return MN.untransform(e,t,n);default:throw new Error("Unknown transformation: "+t)}else{const r=FN[t];if(!r)throw new Error("Unknown transformation: "+t);return r.untransform(e,n)}},ua=(e,t)=>{const n=e.keys();for(;t>0;)n.next(),t--;return n.next().value};function $N(e){if(eh(e,"__proto__"))throw new Error("__proto__ is not allowed as a property");if(eh(e,"prototype"))throw new Error("prototype is not allowed as a property");if(eh(e,"constructor"))throw new Error("constructor is not allowed as a property")}const _se=(e,t)=>{$N(t);for(let n=0;n<t.length;n++){const r=t[n];if(ff(e))e=ua(e,+r);else if(lf(e)){const s=+r,i=+t[++n]==0?"key":"value",u=ua(e,s);switch(i){case"key":e=u;break;case"value":e=e.get(u);break}}else e=e[r]}return e},ky=(e,t,n)=>{if($N(t),t.length===0)return n(e);let r=e;for(let i=0;i<t.length-1;i++){const u=t[i];if(cu(r)){const o=+u;r=r[o]}else if(cf(r))r=r[u];else if(ff(r)){const o=+u;r=ua(r,o)}else if(lf(r)){if(i===t.length-2)break;const a=+u,c=+t[++i]==0?"key":"value",l=ua(r,a);switch(c){case"key":r=l;break;case"value":r=r.get(l);break}}}const s=t[t.length-1];if(cu(r)?r[+s]=n(r[+s]):cf(r)&&(r[s]=n(r[s])),ff(r)){const i=ua(r,+s),u=n(i);i!==u&&(r.delete(i),r.add(u))}if(lf(r)){const i=+t[t.length-2],u=ua(r,i);switch(+s==0?"key":"value"){case"key":{const a=n(u);r.set(a,r.get(u)),a!==u&&r.delete(u);break}case"value":{r.set(u,n(r.get(u)));break}}}return e};function Cy(e,t,n=[]){if(!e)return;if(!cu(e)){Ga(e,(i,u)=>Cy(i,t,[...n,...yl(u)]));return}const[r,s]=e;s&&Ga(s,(i,u)=>{Cy(i,t,[...n,...yl(u)])}),t(r,n)}function Ase(e,t,n){return Cy(t,(r,s)=>{e=ky(e,s,i=>Sse(i,r,n))}),e}function Tse(e,t){function n(r,s){const i=_se(e,yl(s));r.map(yl).forEach(u=>{e=ky(e,u,()=>i)})}if(cu(t)){const[r,s]=t;r.forEach(i=>{e=ky(e,yl(i),()=>e)}),s&&Ga(s,n)}else Ga(t,n);return e}const Ese=(e,t)=>cf(e)||cu(e)||lf(e)||ff(e)||PN(e,t);function Ose(e,t,n){const r=n.get(e);r?r.push(t):n.set(e,[t])}function Ise(e,t){const n={};let r;return e.forEach(s=>{if(s.length<=1)return;t||(s=s.map(o=>o.map(String)).sort((o,a)=>o.length-a.length));const[i,...u]=s;i.length===0?r=u.map(Pm):n[Pm(i)]=u.map(Pm)}),r?Ry(n)?[r]:[r,n]:Ry(n)?void 0:n}const BN=(e,t,n,r,s=[],i=[],u=new Map)=>{const o=gse(e);if(!o){Ose(e,s,t);const f=u.get(e);if(f)return r?{transformedValue:null}:f}if(!Ese(e,n)){const f=g3(e,n),g=f?{transformedValue:f.value,annotations:[f.type]}:{transformedValue:e};return o||u.set(e,g),g}if(eh(i,e))return{transformedValue:null};const a=g3(e,n),c=(a==null?void 0:a.value)??e,l=cu(c)?[]:{},d={};Ga(c,(f,g)=>{if(g==="__proto__"||g==="constructor"||g==="prototype")throw new Error(`Detected property ${g}. This is a prototype pollution risk, please remove it from your object.`);const m=BN(f,t,n,r,[...s,g],[...i,e],u);l[g]=m.transformedValue,cu(m.annotations)?d[g]=m.annotations:cf(m.annotations)&&Ga(m.annotations,(y,b)=>{d[kN(g)+"."+b]=y})});const h=Ry(d)?{transformedValue:l,annotations:a?[a.type]:void 0}:{transformedValue:l,annotations:a?[a.type,d]:d};return o||u.set(e,h),h};function UN(e){return Object.prototype.toString.call(e).slice(8,-1)}function m3(e){return UN(e)==="Array"}function Nse(e){if(UN(e)!=="Object")return!1;const t=Object.getPrototypeOf(e);return!!t&&t.constructor===Object&&t===Object.prototype}function Rse(e,t,n,r,s){const i={}.propertyIsEnumerable.call(r,t)?"enumerable":"nonenumerable";i==="enumerable"&&(e[t]=n),s&&i==="nonenumerable"&&Object.defineProperty(e,t,{value:n,enumerable:!1,writable:!0,configurable:!0})}function Dy(e,t={}){if(m3(e))return e.map(s=>Dy(s,t));if(!Nse(e))return e;const n=Object.getOwnPropertyNames(e),r=Object.getOwnPropertySymbols(e);return[...n,...r].reduce((s,i)=>{if(m3(t.props)&&!t.props.includes(i))return s;const u=e[i],o=Dy(u,t);return Rse(s,i,o,e,t.nonenumerable),s},{})}class De{constructor({dedupe:t=!1}={}){this.classRegistry=new rse,this.symbolRegistry=new IN(n=>n.description??""),this.customTransformerRegistry=new use,this.allowedErrorProps=[],this.dedupe=t}serialize(t){const n=new Map,r=BN(t,n,this,this.dedupe),s={json:r.transformedValue};r.annotations&&(s.meta={...s.meta,values:r.annotations});const i=Ise(n,this.dedupe);return i&&(s.meta={...s.meta,referentialEqualities:i}),s}deserialize(t){const{json:n,meta:r}=t;let s=Dy(n);return r!=null&&r.values&&(s=Ase(s,r.values,this)),r!=null&&r.referentialEqualities&&(s=Tse(s,r.referentialEqualities)),s}stringify(t){return JSON.stringify(this.serialize(t))}parse(t){return this.deserialize(JSON.parse(t))}registerClass(t,n){this.classRegistry.register(t,n)}registerSymbol(t,n){this.symbolRegistry.register(t,n)}registerCustom(t,n){this.customTransformerRegistry.register({name:n,...t})}allowErrorProps(...t){this.allowedErrorProps.push(...t)}}De.defaultInstance=new De;De.serialize=De.defaultInstance.serialize.bind(De.defaultInstance);De.deserialize=De.defaultInstance.deserialize.bind(De.defaultInstance);De.stringify=De.defaultInstance.stringify.bind(De.defaultInstance);De.parse=De.defaultInstance.parse.bind(De.defaultInstance);De.registerClass=De.defaultInstance.registerClass.bind(De.defaultInstance);De.registerSymbol=De.defaultInstance.registerSymbol.bind(De.defaultInstance);De.registerCustom=De.defaultInstance.registerCustom.bind(De.defaultInstance);De.allowErrorProps=De.defaultInstance.allowErrorProps.bind(De.defaultInstance);const jm=["error","warn","info","debug"];class jx{constructor(t){k(this,"onLog");k(this,"logScope");k(this,"levelIndex");this.logScope=t.scope,this.onLog=t.onLog??(()=>{}),this.level=t.level??"info",this.levelIndex=jm.indexOf(this.level)}set level(t){this.levelIndex=jm.indexOf(t)}get level(){return jm[this.levelIndex]}constructLogObj(t,n,...r){const s={args:r.map(De.serialize),scope:this.logScope,message:n,timestamp:Date.now(),level:t};return this.onLog(s),s}scope(t){return new jx({scope:t,onLog:this.onLog,level:this.level})}info(t,...n){const r=this.constructLogObj("info",t,...n);this.levelIndex<2||console.info(`%c${r.scope}`,"color: #888",t,n)}warn(t,...n){const r=this.constructLogObj("warn",t,...n);this.levelIndex<1||console.warn(r.scope,t,n)}error(t,...n){const r=n.length===1&&n[0]instanceof $?n[0].toJSON():n,s=this.constructLogObj("error",t,...n);console.error(s.scope,s.message,r)}debug(t,...n){const r=this.constructLogObj("debug",t,...n);if(!(this.levelIndex<3)){if(r.scope==="sync"){if(r.message==="sent"){console.debug("%c OUT ","background: #228; color: #51acff",n[0].type,n[0].payload);return}if(r.message==="received"){console.debug("%c IN ","background: #ccc; color: #333",n[0].type,n[0].payload);return}}console.debug(`%c${r.scope}`,"color: rgba(255,255,200,0.5)",r.message,n)}}}const ku=!0;function y3(e){const{syncStatus:t}=e;if(!t)return["cache","outbox"];switch(t){case"all":return["cache","outbox"];case"confirmed":return["cache"];case"pending":return["outbox"]}}function kse(e){if(typeof e=="object"&&("cache"in e||"outbox"in e)){if(!("cache"in e)||!("outbox"in e))throw new Error("Must define both outbox and client.");return e}if(e==="memory")return{cache:new tp,outbox:new tp};if(e==="indexeddb")return{cache:new Sy("triplit-cache"),outbox:new Sy("triplit-outbox")}}const Cse="memory",Dse={policy:"local-first"};class Mse{constructor(t){k(this,"db");k(this,"syncEngine");k(this,"authOptions");k(this,"remote");k(this,"http");k(this,"defaultFetchOptions");k(this,"logger");k(this,"logs",[]);const{schema:n,token:r,claimsPath:s,serverUrl:i,syncSchema:u,transport:o,migrations:a,clientId:c,variables:l,storage:d,defaultQueryOptions:h,logger:f,logLevel:g="info"}=t??{};this.logger=f??new jx({scope:"client",level:g,onLog:g==="debug"?v=>this.logs.push(v):()=>{}});const m=(t==null?void 0:t.autoConnect)??!0,y=new are("cache",c);this.authOptions={token:r,claimsPath:s};const b=n?{collections:n,version:0}:void 0;this.db=new mN({clock:y,schema:b,migrations:a?{definitions:a,scopes:["cache"]}:void 0,variables:l,sources:kse(d??Cse),logger:this.logger.scope("db")}),this.defaultFetchOptions={fetch:Dse,...h};const w={syncSchema:u,transport:o,logger:this.logger.scope("sync"),...i?b3(i):{}};if(this.http=this.remote=new ese({server:i,token:r,schemaFactory:async()=>{var v;return(v=await this.db.getSchema())==null?void 0:v.collections}}),this.db.onSchemaChange(v=>{this.http.updateOptions({schema:v==null?void 0:v.collections})}),this.authOptions.token){w.token=this.authOptions.token;const v=Z2(this.authOptions.token,this.authOptions.claimsPath);this.db=this.db.withSessionVars({SESSION_USER_ID:v})}this.syncEngine=new Qre(this,w),this.db.ready.then(()=>{m&&this.syncEngine.connect()})}async getSchema(){return Rx(await this.db.getSchema())}async transact(t){this.logger.debug("transact START");const n=await this.db.transact(t,{skipRules:ku,storeScope:{read:["outbox","cache"],write:["outbox"]}});return this.logger.debug("transact END",n),n}query(t){return Kre(t)}async fetch(t,n){t=Lm(t);const r={...this.defaultFetchOptions.fetch,...n??{}};if(r.policy==="local-only")return this.fetchLocal(t,r);if(r.policy==="local-first"){const s=await this.fetchLocal(t,r);if(s.size>0)return s;try{await this.syncEngine.syncQuery(t)}catch(i){Cd(i)}return this.fetchLocal(t,r)}if(r.policy==="remote-first"){try{await this.syncEngine.syncQuery(t)}catch(s){Cd(s)}return this.fetchLocal(t,r)}if(r.policy==="remote-only")return this.syncEngine.fetchQuery(t);if(r.policy==="local-and-remote"){const s=r.timeout??0;return await Promise.race([this.syncEngine.syncQuery(t),new Promise(i=>setTimeout(i,s))]).catch(Cd),this.fetchLocal(t,r)}throw new lre(r.policy)}async fetchLocal(t,n){const r=y3(t);this.logger.debug("fetchLocal START",t,r);const s=await this.db.fetch(t,{scope:r,skipRules:ku,...n??{}});return this.logger.debug("fetchLocal END",s),s}async fetchById(t,n,r){this.logger.debug("fetchById START",t,n,r);const s=this.query(t).id(n).build(),i=await this.fetchOne(s,r);return this.logger.debug("fetchById END",t,n,r),i}clear(t={}){return this.db.clear(t)}async fetchOne(t,n){t=Lm(t),t={...t,limit:1};const s=[...(await this.fetch(t,n)).values()][0];return s||null}async insert(t,n){this.logger.debug("insert START",t,n);const r=await this.db.insert(t,n,{skipRules:ku,storeScope:{read:["outbox","cache"],write:["outbox"]}});return this.logger.debug("insert END",r),r}async update(t,n,r){this.logger.debug("update START",t,n);const s=await this.db.update(t,n,r,{skipRules:ku,storeScope:{read:["outbox","cache"],write:["outbox"]}});return this.logger.debug("update END",s),s}async updateRaw(t,n,r){this.logger.debug("updateRaw START",t,n);const s=await this.db.transact(async i=>{await i.updateRaw(t,n,r)},{skipRules:!0,storeScope:{read:["outbox","cache"],write:["outbox"]}});return this.logger.debug("updateRaw END",s),s}async delete(t,n){this.logger.debug("delete START",t,n);const r=await this.db.delete(t,n,{skipRules:ku,storeScope:{read:["outbox","cache"],write:["outbox"]}});return this.logger.debug("delete END",r),r}subscribe(t,n,r,s){let i=!1;const u={localOnly:!1,...s??{}};t=Lm(t);const o=y3(t);if(this.logger.debug("subscribe start",t,o),u.localOnly)try{return this.db.subscribe(t,y=>n(y,{hasRemoteFulfilled:!1}),r,{scope:o,skipRules:ku,...u})}catch(y){return r?r(y):Cd(y),()=>{}}let a=()=>{},c=()=>{},l=!1,d=null,h;const f=n,g=r;n=(y,b)=>{i||f(y,b)},r=g?y=>{i||g(y)}:void 0;const m=y=>{h=y,this.logger.debug("subscribe RESULTS",h),n(h,{hasRemoteFulfilled:l})};if(a=this.db.subscribe(t,m,r,{scope:o,skipRules:ku,...u}),o.includes("cache")){const y=()=>{l=!0,d!==null&&clearTimeout(d),d=setTimeout(()=>{var b;m(h),(b=u.onRemoteFulfilled)==null||b.call(u)},250)};c=this.syncEngine.subscribe(t,y)}return()=>{i=!0,a(),c()}}subscribeWithPagination(t,n,r,s){const i={},u=t.limit;let o=(d,h)=>{n(d,{...h,hasNextPage:!1,hasPreviousPage:!1})};i.nextPage=()=>{console.warn("There is no limit set on the query, so nextPage() is a no-op")},i.prevPage=()=>{console.warn("There is no limit set on the query, so prevPage() is a no-op")};let a,c,l="forward";return t.limit&&(t={...t},t.limit=u+1+(t.after?1:0),o=(d,h)=>{var T,V,W;const f=(V=(T=t.order)==null?void 0:T[0])==null?void 0:V[0];if(!f)throw new $("No cursor attribute found in query order");let g=Array.from(d.entries());const m=g.at(0),y=!!t.after&&!!m&&DZ(t.after[0],[m[1][f],m[0]])>-1,b=d.size>=t.limit,w=l==="reversed"?b:y,v=l==="forward"?b:y;g=g.slice(y?1:0,b?-1:void 0);const x=g.at(0),A=g.at(u-1);a=x?[x[1][f],x[0]]:void 0,c=A?[A[1][f],A[0]]:void 0,l==="reversed"&&(g=g.reverse()),!w&&t.after?((W=i.unsubscribe)==null||W.call(i),t={...t},t.after=void 0,t.limit=u+1,l==="reversed"&&(t.order=Fm(t.order)),l="forward",i.unsubscribe=this.subscribe(t,o,r,s)):n(new Map(g),{...h,hasNextPage:v,hasPreviousPage:w})},i.nextPage=()=>{var d;(d=i.unsubscribe)==null||d.call(i),t={...t},l==="reversed"?(t.order=Fm(t.order),t.after=a?[a,!0]:void 0):(t.after||(t.limit=t.limit+1),t.after=c?[c,!0]:void 0),l="forward",i.unsubscribe=this.subscribe(t,o,r,s)},i.prevPage=()=>{var d;(d=i.unsubscribe)==null||d.call(i),t={...t},l==="forward"?(t.order=Fm(t.order),t.after=a?[a,!0]:void 0):t.after=c?[c,!0]:void 0,l="reversed",i.unsubscribe=this.subscribe(t,o,r,s)}),i.unsubscribe=this.subscribe(t,o,r,s),i}subscribeWithExpand(t,n,r,s){const i={};let u=(o,a)=>{n(o,{...a,hasMore:!1})};if(i.loadMore=()=>{console.warn("There is no limit set on the query, so loadMore is a no-op")},t.limit){const o=t.limit;t={...t},t.limit=t.limit+1,u=(a,c)=>{const l=a.size>=t.limit;let d=Array.from(a.entries());l&&(d=d.slice(0,-1)),n(new Map(d),{hasRemoteFulfilled:c.hasRemoteFulfilled,hasMore:l})},i.loadMore=a=>{var c;(c=i.unsubscribe)==null||c.call(i),t={...t},t.limit=(t.limit??1)+(a??o),i.unsubscribe=this.subscribe(t,u,r,s)}}return i.unsubscribe=this.subscribe(t,u,r,s),i}updateOptions(t){const{token:n,serverUrl:r}=t,s=t.hasOwnProperty("token"),i=t.hasOwnProperty("serverUrl");let u={};if(s){this.authOptions={...this.authOptions,token:n};const{claimsPath:o}=this.authOptions,a=n?Z2(n,o):void 0;this.db=this.db.withSessionVars({SESSION_USER_ID:a}),u={...u,token:n}}if(i){const{server:o,secure:a}=r?b3(r):{server:void 0,secure:void 0};u={...u,server:o,secure:a}}(s||i)&&(this.syncEngine.updateConnection(u),this.http.updateOptions(u))}updateToken(t){this.updateOptions({token:t})}updateServerUrl(t){this.updateOptions({serverUrl:t})}onTxCommitRemote(...t){return this.syncEngine.onTxCommit(...t)}onTxFailureRemote(t,n){return this.syncEngine.onTxFailure(t,n)}onConnectionStatusChange(...t){return this.syncEngine.onConnectionStatusChange(...t)}connect(){return this.syncEngine.connect()}disconnect(){return this.syncEngine.disconnect()}get token(){return this.syncEngine.token}onSyncMessageReceived(...t){return this.syncEngine.onSyncMessageReceived(...t)}onSyncMessageSent(...t){return this.syncEngine.onSyncMessageSent(...t)}retry(...t){return this.syncEngine.retry(...t)}rollback(...t){return this.syncEngine.rollback(...t)}get connectionStatus(){return this.syncEngine.connectionStatus}isFirstTimeFetchingQuery(...t){return this.syncEngine.isFirstTimeFetchingQuery(...t)}}function Lm(e){return{id:Math.random().toString().slice(2),...e}}function b3(e){const t=new URL(e),n=t.protocol==="https:";return{server:t.host,secure:n}}function Cd(e){e instanceof $?console.warn(e.toJSON()):console.warn(e)}function Fm(e){if(e)return e.map(t=>[t[0],t[1]==="ASC"?"DESC":"ASC"])}const Pse={recipes:{schema:ge.Schema({id:ge.Id(),slug:ge.String(),title:ge.String(),cook_time:ge.Number(),prep_time:ge.Number(),serves:ge.Number(),author:ge.Optional(ge.String()),source:ge.Optional(ge.String()),ingredients:ge.Optional(ge.String()),method_steps:ge.Optional(ge.String()),tags:ge.Optional(ge.String()),shortlisted:ge.Optional(ge.Boolean())})},tag_options:{schema:ge.Schema({id:ge.Id(),name:ge.Optional(ge.String()),options:ge.Optional(ge.String())})},plan:{schema:ge.Schema({id:ge.Id(),date:ge.Number(),planned_meals:ge.Optional(ge.String())})}},Os=new Mse({storage:"indexeddb",schema:Pse,serverUrl:"https://912d44e1-48a6-46b7-b6b9-7bc0fcd59a81.triplit.io",token:"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJ4LXRyaXBsaXQtdG9rZW4tdHlwZSI6ImFub24iLCJ4LXRyaXBsaXQtcHJvamVjdC1pZCI6IjkxMmQ0NGUxLTQ4YTYtNDZiNy1iNmI5LTdiYzBmY2Q1OWE4MSIsImlhdCI6MTcyMTU2ODg2OX0.mLTejtnhczt5RxdYK1cnnNbeQ7vevO5z7oQD23MJA6AIfiyYS9S5F1il5PcCyLwJyObGomOJE9qIJbfwoHsBzs1QQEg3HOjgMBJAIRhbaWhOJn1BZZ8h2eaZWKpwBQuUpHi37-T0uTnABP7WUTZEFshHWEv5JlUYczehBvUFA8AulNjZDJJrJuEqHNgL3e0OaUZbstWArftiJpoR0htiZ7_HzFRHm5nivgsVO5zSBVeURM5Eygf67N6y6krLxK7jNHIjP0EbFu2DvC2nB9wrfjebChf-x6FRDFZpnMsrMuGn9-gWoyTapMjm-q4br1Sns7oIFbKKhJI1-9LzqifwYaflWrwLEroXvkoG9fJwJConmEPE9HWR20s_75wH7B7-g3ihgHP9I820qQ1WpWuVCF6xIIG3_RwDgt-T_b08HPMAQdo5H5fHxcxSeY-pSua1TUKFeDZjKNdtZhexWfHxAGJP9gKdS2sTY4pz43dRKvIahUGRsoQ5jOMv0jONsT2z8iMnXPsmOiyLZd36Ba6FKaltJBgpoM22GkdsMFd8OIYAa-ROjgKkF1ku2WX78V53AkdAEika26-zdNv3LAK1b40tebvt58imnmR2H2PPx62wAWgsXTTuMSVhm4dMDb1zeKGXOsQCHkNUw-DsgY-3bvj0-TMG8WPU3GPpvBIj_l8",logLevel:"debug"});typeof window<"u"&&(window.client=Os);async function jse(){const e=Os.query("recipes").build(),t=await Os.fetch(e);return console.log("do_get_recipes result: ",t),t}async function Lse(){const e=Os.query("tag_options").build(),t=await Os.fetch(e);return console.log("do_get_tagoptions result: ",t),t}async function Fse(e){const t={...e.id!==""?{id:e.id}:{},slug:e.slug,title:e.title,cook_time:e.cook_time,prep_time:e.prep_time,serves:e.serves,...Object.hasOwn(e,"author")?{author:e.author}:{},...Object.hasOwn(e,"source")?{source:e.source}:{},tags:e.tags,ingredients:e.ingredients,method_steps:e.method_steps,...Object.hasOwn(e,"shortlisted")?{shortlisted:e.shortlisted}:{}};return console.log("do_save_recipe obj: ",t),await Os.insert("recipes",t)}async function $se(e,t){console.log(Os);const n=Os.query("plan").where([["date",">=",e],["date","<=",t]]).build(),r=await Os.fetch(n,{policy:"local-and-remote"});return console.log("do_get_plan result: ",r),r}async function Bse(e){return await Os.transact(async t=>{for(const n of e){console.log("do_save_plan day: ",{id:n.date.toString(),...n});const r=await t.insert("plan",{id:n.date.toString(),...n});console.log("do_save_plan result: ",r)}}),e}class qN extends S{constructor(t){super(),this[0]=t}}class VN extends S{constructor(t){super(),this[0]=t}}class Use extends S{constructor(t){super(),this[0]=t}}class My extends S{constructor(t){super(),this[0]=t}}let qse=class extends S{constructor(t,n,r){super(),this.recipes=t,this.tag_options=n,this.group_by=r}};class zN extends S{constructor(t,n,r,s,i,u,o,a,c,l,d,h){super(),this.id=t,this.title=n,this.slug=r,this.cook_time=s,this.prep_time=i,this.serves=u,this.author=o,this.source=a,this.tags=c,this.ingredients=l,this.method_steps=d,this.shortlisted=h}}class Vse extends S{constructor(t,n,r){super(),this.id=t,this.name=n,this.options=r}}class bl extends S{constructor(t){super(),this.step_text=t}}class pa extends S{constructor(t,n){super(),this.name=t,this.value=n}}class sp extends S{constructor(t,n,r,s){super(),this.name=t,this.ismain=n,this.quantity=r,this.units=s}}function zse(e,t){return t.withFields({recipes:(()=>{let n=t.recipes,r=X(n,u=>[u.id,u]),s=kn(r),i=Jk(s,kn(p([[e.id,e]])));return Wr(i)})()})}function Hse(e){return _o(p([["name",Vr(Se(e.name,""))],["quantity",Vr(Se(e.quantity,""))],["units",Vr(Se(e.units,""))],["ismain",Vr(f_(Se(e.ismain,!1)))]]))}function Gse(e){let n=rn(e),r=X(n,s=>[D(s[0]),Hse(s[1])]);return _o(r)}function Jse(e){return _o(p([["step_text",Vr(e.step_text)]]))}function Wse(e){let n=rn(e),r=X(n,s=>[D(s[0]),Jse(s[1])]);return _o(r)}function Qse(e){return _o(p([["name",Vr(e.name)],["value",Vr(e.value)]]))}function Xse(e){let n=rn(e),r=X(n,s=>[D(s[0]),Qse(s[1])]);return _o(r)}function Kse(e){let t=r=>{let s=Pt(r),i=ne(s,u=>h_(u,zy(Pt)));return XM(i,KM)};return $R((r,s,i)=>new Vse(r,s,i),FR("id",Pt),Qt("name",Pt),Qt("options",t))(e)}function Py(){return sn(e=>{let t=Lse(),n=br(t,li),r=br(n,mp(Pt,Kse)),s=br(r,u=>ne(u,Wr)),i=br(s,u=>ne(u,o=>new VN(o)));Np(i,u=>ne(u,e))})}function th(e){let t=r=>Lf(e,r);return Ff(en,r=>{let s=h_(r,t);if(s.isOk()){let i=s[0];return mn(i)}else return Rw("Expected a json string")})}function HN(){return Ff(en,t=>mn(t==="True"||t==="true"?!0:t==="1"))}function Lx(){return Ff(en,t=>{let n=pr(t);if(n.isOk()){let r=n[0];return mn(r)}else return Rw("Expected a stringed int")})}function Yse(){let e=(()=>{let t=mn(i=>u=>o=>a=>new sp(i,u,o,a)),n=Ve(t,"name",$n(en)),r=Ve(n,"ismain",$n(HN())),s=Ve(r,"quantity",$n(en));return Ve(s,"units",$n(en))})();return Nw(Lx(),e)}function Zse(){let e=(()=>{let t=mn(r=>s=>new pa(r,s)),n=Ve(t,"name",en);return Ve(n,"value",en)})();return Nw(Lx(),e)}function eie(){let e=(()=>{let t=mn(n=>new bl(n));return Ve(t,"step_text",en)})();return Nw(Lx(),e)}function tie(e){let t=mn(g=>m=>y=>b=>w=>v=>x=>A=>T=>V=>W=>te=>new zN(g,m,y,b,w,v,x,A,T,V,W,te)),n=Ve(t,"id",$n(en)),r=Ve(n,"title",en),s=Ve(r,"slug",en),i=Ve(s,"cook_time",Xd),u=Ve(i,"prep_time",Xd),o=Ve(u,"serves",Xd),a=Ve(o,"author",$n(en)),c=Ve(a,"source",$n(en)),l=Ve(c,"tags",$n(th(Zse()))),d=Ve(l,"ingredients",$n(th(Yse()))),h=Ve(d,"method_steps",$n(th(eie()))),f=Ve(h,"shortlisted",$n(LB));return Lf(f,e)}function GN(){return sn(e=>{let t=jse(),n=br(t,mp(Pt,tie)),r=br(n,li),s=br(r,u=>ne(u,Wr)),i=br(s,u=>ne(u,o=>new qN(o)));Np(i,u=>ne(u,e))})}class JN extends S{constructor(t){super(),this[0]=t}}class WN extends S{}class QN extends S{constructor(t){super(),this[0]=t}}class Fx extends S{constructor(t){super(),this.url=t}}function nie(e,t){if(li(t),t instanceof JN){let n=t[0];return[new Fx(n),P()]}else return t instanceof WN?[e,sn(n=>{let r=MB(e.url),s=br(r,i=>ne(i,u=>new QN(u)));Np(s,i=>ne(i,n))})]:[e,P()]}function rie(e){return un(p([ao(p([_("grid grid-cols-12 col-start-[main-start] grid-rows-[fit-content(65px)] gap-y-2")]),p([hu("Import Recipe","underline-yellow"),Ao(p([_("flex flex-col justify-start items-middle col-span-1 col-start-12 text-base md:text-lg mt-4")]),p([bt(p([yt("/"),_("text-center")]),p([on("🏠")])),_r(p([We("submit"),_("text-center"),de("form","import-recipe-form")]),p([on("📩")]))])),nb(p([je("import-recipe-form"),_("subgrid-cols grid-rows-[1fr,1fr,5fr] gap-y-2 col-span-full"),cb(new WN)]),p([_t(p([_("col-span-full my-1 mb-6 pt-1 pb-2 px-2 mr-1 border-ecru-white-950 border-[1px] rounded-[1px] sm:row-span-2 sm:col-span-5 [box-shadow:1px_1px_0_#fce68b]")]),p([El(p([_("mx-2 px-1 font-mono italic")]),p([on("URL to import")])),j(p([_("justify-self-start col-span-4")]),p([Fn(p([Jt("url"),We("url"),_("input-base input-outline input-focus text-base w-full box-border"),ut(e.url),At(t=>new JN(t)),je("url")]))]))]))]))]))]))}class sd extends S{constructor(t,n){super(),this.date=t,this.planned_meals=n}}class sie extends S{constructor(t,n){super(),this.date=t,this.planned_meals=n}}class XN extends S{constructor(t,n,r){super(),this.for=t,this.title=n,this.complete=r}}class KN extends S{constructor(t,n,r){super(),this[0]=t,this[1]=n,this[2]=r}}class YN extends S{constructor(t,n,r){super(),this[0]=t,this[1]=n,this[2]=r}}class iie extends S{constructor(t){super(),this[0]=t}}class $x extends S{constructor(t,n){super(),this[0]=t,this[1]=n}}class ZN extends S{constructor(t){super(),this[0]=t}}class e8 extends S{}let ip=class extends S{constructor(t,n,r){super(),this.plan_week=t,this.recipe_list=n,this.start_date=r}};class Rc extends S{}class Bx extends S{}function uie(e,t,n,r){return Qk(e,t,s=>new sd(t,(()=>{if(s instanceof E){let i=s[0];if(r===""){let u=i.planned_meals;return io(u,o=>!Le(o.for,n))}else{let u=i.planned_meals;return X(u,o=>Le(o.for,n)?o.withFields({title:new E(r)}):o)}}else return p([new XN(n,new E(r),new Q)])})()))}function oie(e,t,n,r){return Ii(e,t,s=>new sd(t,(()=>{let i=s.planned_meals;return X(i,u=>Le(u.for,n)?u.withFields({complete:new E(r)}):u)})()))}function t8(e){let t=(()=>{let c=rn(e),l=X(c,d=>nR(d,h=>ki(h)));return kn(l)})(),n=(()=>{let c=On(t,new Ta),l=ne(c,d=>Ni(d.date));return we(l,"")})(),r=(()=>{let c=On(t,new Sf),l=ne(c,d=>Ni(d.date));return we(l,"")})(),s=(()=>{let c=On(t,new _f),l=ne(c,d=>Ni(d.date));return we(l,"")})(),i=(()=>{let c=On(t,new Af),l=ne(c,d=>Ni(d.date));return we(l,"")})(),u=(()=>{let c=On(t,new Tf),l=ne(c,d=>Ni(d.date));return we(l,"")})(),o=(()=>{let c=On(t,new Ef),l=ne(c,d=>Ni(d.date));return we(l,"")})(),a=(()=>{let c=On(t,new ob),l=ne(c,d=>Ni(d.date));return we(l,"")})();return un(p([j(p([_("subgrid-cols md:col-start-1 row-start-1 subgrid-rows col-span-full md:row-span-full md:col-span-1 sticky left-[-.25rem] top-[-.25rem] outline outline-1 outline-ecru-white-50 border  border-ecru-white-50 bg-ecru-white-50 min-h-full min-w-full")]),p([j(p([_("md:row-start-2 md:col-start-1 font-mono col-start-2 flex justify-center items-center border border-ecru-white-950 [box-shadow:1px_1px_0_#ff776a] sticky left-0 top-0 bg-ecru-white-50")]),p([as(p([_("mx-2 ")]),p([L("Lunch")]))])),j(p([_("md:row-start-3 md:col-start-1 font-mono col-start-3 flex justify-center items-center border border-ecru-white-950  [box-shadow:1px_1px_0_#ff776a] sticky left-0 top-0 bg-ecru-white-50")]),p([as(p([_("mx-2 ")]),p([L("Dinner")]))]))])),j(p([_("md:col-start-2 md:row-start-1 font-mono row-start-2 border border-ecru-white-950 flex justify-center items-center shadow-orange")]),p([as(p([In(p([["--shortMon","'Mon "+n+"'"],["--longMon","'Monday "+n+"'"]])),_("text-center  before:content-[var(--shortMon)] before:sm:content-[var(--longMon)]")]),p([]))])),j(p([_("md:col-start-3 md:row-start-1 font-mono row-start-3  border border-ecru-white-950   flex justify-center items-center [box-shadow:1px_1px_0_#ff776a]")]),p([as(p([In(p([["--shortTue","'Tue "+r+"'"],["--longTue","'Tuesday "+r+"'"]])),_("text-center  before:content-[var(--shortTue)] before:sm:content-[var(--longTue)]")]),p([]))])),j(p([_("md:col-start-4 md:row-start-1 font-mono row-start-4  border border-ecru-white-950   flex justify-center items-center [box-shadow:1px_1px_0_#ff776a]")]),p([as(p([In(p([["--shortWed","'Wed "+s+"'"],["--longWed","'Wednesday "+s+"'"]])),_("text-center  before:content-[var(--shortWed)] before:sm:content-[var(--longWed)]")]),p([]))])),j(p([_("md:col-start-5 md:row-start-1 font-mono row-start-5  border border-ecru-white-950   flex justify-center items-center [box-shadow:1px_1px_0_#ff776a]")]),p([as(p([In(p([["--shortThu","'Thu "+i+"'"],["--longThu","'Thursday "+i+"'"]])),_("text-center  before:content-[var(--shortThu)] before:sm:content-[var(--longThu)]")]),p([]))])),j(p([_("md:col-start-6 md:row-start-1 font-mono row-start-6  border border-ecru-white-950   flex justify-center items-center [box-shadow:1px_1px_0_#ff776a]")]),p([as(p([In(p([["--shortFri","'Fri "+u+"'"],["--longFri","'Friday "+u+"'"]])),_("text-center  before:content-[var(--shortFri)] before:sm:content-[var(--longFri)]")]),p([]))])),j(p([_("md:col-start-7 md:row-start-1 font-mono row-start-7  border border-ecru-white-950  flex justify-center items-center [box-shadow:1px_1px_0_#ff776a]")]),p([as(p([In(p([["--shortSat","'Sat "+o+"'"],["--longSat","'Saturday "+o+"'"]])),_("text-center  before:content-[var(--shortSat)] before:sm:content-[var(--longSat)]")]),p([]))])),j(p([_("md:col-start-8 md:row-start-1 font-mono row-start-8 border border-ecru-white-950   flex justify-center items-center [box-shadow:1px_1px_0_#ff776a]")]),p([as(p([In(p([["--shortSun","'Sun "+a+"'"],["--longSun","'Sunday "+a+"'"]])),_("text-center  before:content-[var(--shortSun)] before:sm:content-[var(--longSun)]")]),p([]))]))]))}function aie(e,t){let n=t.title,r=t.complete;return j(p([_("flex justify-center w-11/12 h-11/12 flex-col justify-between m-1 sm:m-2 overflow-hidden")]),p([as(p([_("text-xl text-wrap"),In(p([["text-decoration",Sa(Se(r,!1),"line-through",()=>"none")]]))]),p([L(Se(n,""))])),j(p([_("flex justify-end place-self-start sm:mx-2")]),p([Fn(p([We("checkbox"),X_(s=>new YN(e,t.for,s)),g_(Se(t.complete,!1))]))]))]))}function w3(e,t,n){let r=n instanceof Rc?"col-start-2 md:row-start-2":"col-start-3 md:row-start-3",s=Sa(Le(e.planned_meals,p([])),Cn(),()=>{let i=io(e.planned_meals,o=>Le(o.for,n)),u=X(i,o=>aie(e.date,o));return un(u)});return j(p([_(`flex outline-1 outline-ecru-white-950 outline outline-offset-[-1px]
                row-start-[var(--dayPlacement)]
                md:col-start-[var(--dayPlacement)] 
                snap-start scroll-p-[-40px] `+r),In(p([["--dayPlacement",D(t+2)]]))]),p([s]))}function cie(e){let t=Ip(e.start_date,new Of),n=s=>we(On(e.plan_week,s),new sd(s,p([]))),r=kn(p([[t,n(t)],[Ae(t,1,new qe),n(Ae(t,1,new qe))],[Ae(t,2,new qe),n(Ae(t,2,new qe))],[Ae(t,3,new qe),n(Ae(t,3,new qe))],[Ae(t,4,new qe),n(Ae(t,4,new qe))],[Ae(t,5,new qe),n(Ae(t,5,new qe))],[Ae(t,6,new qe),n(Ae(t,6,new qe))]]));return un(p([ao(p([_("grid grid-cols-12 col-start-[main-start] grid-rows-[fit-content(65px)] gap-y-2")]),p([hu("Week of "+BA(t),"underline-orange"),Ao(p([_("flex flex-col justify-start items-middle col-span-1 col-start-12 text-base md:text-lg mt-4")]),p([bt(p([yt("/"),_("text-center")]),p([L("🏠")])),bt(p([yt("/planner/edit?date="+oa(t)),_("text-center")]),p([L("✏️")])),j(p([_("flex flex-row justify-evenly px-1")]),p([bt(p([yt("/planner?date="+oa(Ae(t,-1,new Ea))),_("text-center")]),p([L("⬅️")])),bt(p([yt("/planner?date="+oa(Ae(t,1,new Ea))),_("text-center")]),p([L("➡️")]))]))]))])),ao(p([je("active-week"),_(`mb-2 text-sm p-1 min-h-[70vh]
            overflow-x-hidden overflow-y-scroll md:overflow-x-scroll md:overflow-y-hidden snap-mandatory snap-always
            col-span-full row-start-2 grid gap-1 
            grid-cols-[minmax(0,15%)_minmax(0,45%)_minmax(0,45%)] grid-rows-[fit-content(10%)_repeat(7,20%)]
            snap-y scroll-pt-[9%]
            md:col-start-[full-start] md:col-end-[full-end]
            md:text-base md:grid-cols-[fit-content(10%)_repeat(7,_15vw)] md:grid-rows-[fit-content(20%)_minmax(20vh,1fr)_minmax(20vh,1fr)]
            md:snap-x md:scroll-pl-[9%] md:scroll-pt-0
            xl:grid-cols-[fit-content(10%)_repeat(7,_11.5vw)]`)]),p([t8(r),un((()=>{let s=Wr(r),i=wr(s,(u,o)=>Rl(u.date,o.date));return uo(i,(u,o)=>w3(u,o,new Rc))})()),un((()=>{let s=Wr(r),i=wr(s,(u,o)=>Rl(u.date,o.date));return uo(i,(u,o)=>w3(u,o,new Bx))})())]))]))}function $m(e,t,n,r){return j(p([_("flex justify-center w-11/12 h-11/12 flex-col justify-between m-1 sm:m-2 overflow-hidden")]),p([t7(p([n7(r),r7(n),Xr("typeahead-change",s=>{let i=s,u=Qt("detail",Pt)(i);return ne(u,o=>new KN(e,t,o))})]))]))}function x3(e,t,n,r){let s=n instanceof Rc?"col-start-2 md:row-start-2":"col-start-3 md:row-start-3",i=Sa(Le(e.planned_meals,p([])),$m(e.date,n,"",r),()=>Sa(Le(io(e.planned_meals,u=>Le(u.for,n)),p([])),$m(e.date,n,"",r),()=>{let u=io(e.planned_meals,a=>Le(a.for,n)),o=X(u,a=>$m(e.date,n,Se(a.title,""),r));return un(o)}));return j(p([_(`flex outline-1 outline-ecru-white-950 outline outline-offset-[-1px]
                row-start-[var(--dayPlacement)]
                md:col-start-[var(--dayPlacement)] 
                snap-start scroll-p-[-40px] `+s),In(p([["--dayPlacement",D(t+2)]]))]),p([i]))}function lie(e){let t=Ip(e.start_date,new Of),n=s=>we(On(e.plan_week,s),new sd(s,p([]))),r=kn(p([[t,n(t)],[Ae(t,1,new qe),n(Ae(t,1,new qe))],[Ae(t,2,new qe),n(Ae(t,2,new qe))],[Ae(t,3,new qe),n(Ae(t,3,new qe))],[Ae(t,4,new qe),n(Ae(t,4,new qe))],[Ae(t,5,new qe),n(Ae(t,5,new qe))],[Ae(t,6,new qe),n(Ae(t,6,new qe))]]));return un(p([ao(p([_("grid grid-cols-12 col-start-[main-start] grid-rows-[fit-content(65px)] gap-y-2")]),p([hu("Week of "+BA(t),"underline-orange"),Ao(p([_("flex flex-col justify-start items-middle col-span-1 col-start-12 text-base md:text-lg mt-4")]),p([bt(p([yt("/"),_("text-center")]),p([L("🏠")])),j(p([_("flex flex-row justify-evenly px-1")]),p([bt(p([yt("/planner?date="+oa(t)),_("text-center")]),p([L("❎")])),_r(p([We("submit"),de("form","active-week"),_("")]),p([L("💾")]))])),j(p([_("flex flex-row justify-evenly px-1")]),p([bt(p([yt("/planner/edit?date="+oa(Ae(t,-1,new Ea))),_("text-center")]),p([L("⬅️")])),bt(p([yt("/planner/edit?date="+oa(Ae(t,1,new Ea))),_("text-center")]),p([L("➡️")]))]))]))])),nb(p([je("active-week"),_(`mb-2 text-sm p-1 min-h-[70vh]
            overflow-x-hidden overflow-y-scroll md:overflow-x-scroll md:overflow-y-hidden snap-mandatory snap-always  
            col-span-full row-start-2 grid gap-1 
            grid-cols-[minmax(0,15%)_minmax(0,45%)_minmax(0,45%)] grid-rows-[fit-content(10%)_repeat(7,20%)]
            snap-y scroll-pt-[9%]
            md:col-start-[full-start] md:col-end-[full-end]
            md:text-base md:grid-cols-[fit-content(10%)_repeat(7,_15vw)] md:grid-rows-[fit-content(20%)_minmax(20vh,1fr)_minmax(20vh,1fr)]
            md:snap-x md:scroll-pl-[9%] md:scroll-pt-0
            xl:grid-cols-[fit-content(10%)_repeat(7,_11.5vw)]`),cb(new e8)]),p([t8(r),un((()=>{let s=Wr(r),i=wr(s,(u,o)=>Rl(u.date,o.date));return uo(i,(u,o)=>x3(u,o,new Rc,e.recipe_list))})()),un((()=>{let s=Wr(r),i=wr(s,(u,o)=>Rl(u.date,o.date));return uo(i,(u,o)=>x3(u,o,new Bx,e.recipe_list))})())]))]))}function fie(e){let n=Pt(e),r=ne(n,pr);return ne(r,s=>V_(we(s,0)))}function die(){let e=Ff(en,r=>r==="lunch"?mn(new Rc):r==="dinner"?mn(new Bx):Rw("PlannedMealWithStatus")),t=(()=>{let n=mn(i=>u=>o=>new XN(i,u,o)),r=Ve(n,"for",e),s=Ve(r,"title",$n(en));return Ve(s,"complete",$n(HN()))})();return FB(t)}function hie(e){let t=mn(s=>i=>new sd(s,i)),n=Ve(t,"date",Ff(Xd,i=>mn(V_(i)))),r=Ve(n,"planned_meals",th(die()));return Lf(r,e)}function n8(e){return sn(t=>{let n=$se(Ym(e),Ym(Ae(e,1,new Ea))),r=br(n,mp(fie,hie)),s=br(r,i=>ne(i,u=>new $x(u,e)));Np(s,i=>ne(i,t))})}function pie(e){return _o(p([["title",Vr(Se(e.title,""))],["for",Vr(e.for instanceof Rc?"lunch":"dinner")],["complete",Vr(f_(Se(e.complete,!1)))]]))}function gie(e){return S5(e,pie)}function mie(e){return new sie(Ym(e.date),Dd(gie(e.planned_meals)))}function v3(e){return sn(t=>{Bse(X(Wr(e),mie));let n=(()=>{let i=Uk(e),u=wr(i,Rl);return By(u)})(),r=we(n,Ci()),s=new ZN(r);return t(s)})}function yie(e,t){if(li(t),t instanceof KN){let n=t[0],r=t[1],s=t[2],i=uie(e.plan_week,n,r,s);return[e.withFields({plan_week:i}),P()]}else if(t instanceof YN){let n=t[0],r=t[1],s=t[2],i=oie(e.plan_week,n,r,s);return[e.withFields({plan_week:i}),v3(i)]}else{if(t instanceof e8)return[e,v3(e.plan_week)];if(t instanceof iie){let n=t[0];return[e.withFields({start_date:n}),n8(n)]}else return t instanceof $x?[e,P()]:[e,P()]}}function Dr(e,t){return t===""?e:J(t,e)}function bie(e){return sh(e)!==e}function wie(e,t,n,r){for(;;){let s=e,i=t,u=n,o=r;if(s.hasLength(0)&&u==="")return jt(o);if(s.hasLength(0))return jt(Dr(o,u));if(s.atLeastLength(1)&&s.head===`
`)e=s.tail,t=!1,n="",r=Dr(o,u);else if(s.atLeastLength(1)&&s.head==="	")e=s.tail,t=!1,n="",r=Dr(o,u);else if(s.atLeastLength(1)&&s.head==="!")e=s.tail,t=!1,n="",r=Dr(o,u);else if(s.atLeastLength(1)&&s.head==="?")e=s.tail,t=!1,n="",r=Dr(o,u);else if(s.atLeastLength(1)&&s.head==="#")e=s.tail,t=!1,n="",r=Dr(o,u);else if(s.atLeastLength(1)&&s.head===".")e=s.tail,t=!1,n="",r=Dr(o,u);else if(s.atLeastLength(1)&&s.head==="-")e=s.tail,t=!1,n="",r=Dr(o,u);else if(s.atLeastLength(1)&&s.head==="_")e=s.tail,t=!1,n="",r=Dr(o,u);else if(s.atLeastLength(1)&&s.head===" ")e=s.tail,t=!1,n="",r=Dr(o,u);else{let a=s.head,c=s.tail,l=bie(a);l?l&&i?(e=c,t=i,n=u+a,r=o):(e=c,t=!0,n=a,r=Dr(o,u)):(e=c,t=!1,n=u+a,r=o)}}}function xie(e){let n=yf(e);return wie(n,!1,"",p([]))}function vie(e){let n=xie(e),r=Sl(n,"-");return sh(r)}class r8 extends S{constructor(t){super(),this[0]=t}}class s8 extends S{constructor(t){super(),this[0]=t}}class i8 extends S{constructor(t){super(),this[0]=t}}class u8 extends S{constructor(t){super(),this[0]=t}}class o8 extends S{constructor(t){super(),this[0]=t}}class a8 extends S{constructor(t){super(),this[0]=t}}class c8 extends S{constructor(t){super(),this[0]=t}}class l8 extends S{constructor(t){super(),this[0]=t}}class f8 extends S{constructor(t){super(),this[0]=t}}class d8 extends S{constructor(t){super(),this[0]=t}}class h8 extends S{constructor(t,n){super(),this[0]=t,this[1]=n}}class p8 extends S{constructor(t,n){super(),this[0]=t,this[1]=n}}class g8 extends S{constructor(t,n){super(),this[0]=t,this[1]=n}}class m8 extends S{constructor(t,n){super(),this[0]=t,this[1]=n}}class y8 extends S{constructor(t,n){super(),this[0]=t,this[1]=n}}class b8 extends S{constructor(t,n){super(),this[0]=t,this[1]=n}}class w8 extends S{constructor(t){super(),this[0]=t}}class x8 extends S{constructor(t){super(),this[0]=t}}class v8 extends S{constructor(t,n){super(),this[0]=t,this[1]=n}}class S8 extends S{constructor(t){super(),this[0]=t}}class _8 extends S{constructor(t){super(),this[0]=t}}class A8 extends S{constructor(t){super(),this[0]=t}}class T8 extends S{constructor(t){super(),this[0]=t}}class Sie extends S{constructor(t,n,r,s,i,u,o,a,c,l,d,h){super(),this.id=t,this.title=n,this.slug=r,this.cook_time=s,this.prep_time=i,this.serves=u,this.author=o,this.source=a,this.tags=c,this.ingredients=l,this.method_steps=d,this.shortlisted=h}}function _ie(e){let t=new Sie(Se(e.id,""),e.title,e.slug,e.cook_time,e.prep_time,e.serves,Se(e.author,""),Se(e.source,""),(()=>{let n=e.tags,r=xg(n,Xse);return Dd(r)})(),(()=>{let n=e.ingredients,r=xg(n,Gse);return Dd(r)})(),(()=>{let n=e.method_steps,r=xg(n,Wse);return Dd(r)})(),Se(e.shortlisted,!1));return sn(n=>{Fse(t);let r=new T8(e);return n(r)})}function Aie(e,t){if(t instanceof r8){let n=t[0];if(e instanceof E){let r=e[0];return[new E(r.withFields({title:n})),P()]}else return[e,P()]}else if(t instanceof s8){let n=t[0];if(e instanceof E){let r=e[0];return[new E(r.withFields({author:new E(n)})),P()]}else return[e,P()]}else if(t instanceof i8){let n=t[0];if(e instanceof E){let r=e[0];return[new E(r.withFields({source:new E(n)})),P()]}else return[e,P()]}else if(t instanceof u8){let n=t[0];if(e instanceof E){let r=e[0];return[new E(r.withFields({prep_time:(()=>{let i=pr(n),u=ne(i,o=>o*60+Vn(r.prep_time,60));return we(u,0)})()})),P()]}else return[e,P()]}else if(t instanceof o8){let n=t[0];if(e instanceof E){let r=e[0];return[new E(r.withFields({prep_time:(()=>{let i=pr(n),u=ne(i,o=>r.prep_time-Vn(r.prep_time,60)+o);return we(u,0)})()})),P()]}else return[e,P()]}else if(t instanceof a8){let n=t[0];if(e instanceof E){let r=e[0];return[new E(r.withFields({cook_time:(()=>{let i=pr(n),u=ne(i,o=>o*60+Vn(r.cook_time,60));return we(u,0)})()})),P()]}else return[e,P()]}else if(t instanceof c8){let n=t[0];if(e instanceof E){let r=e[0];return[new E(r.withFields({cook_time:(()=>{let i=pr(n),u=ne(i,o=>r.cook_time-Vn(r.cook_time,60)+o);return we(u,0)})()})),P()]}else return[e,P()]}else if(t instanceof l8){let n=t[0];if(e instanceof E){let r=e[0];return[new E(r.withFields({serves:(()=>{let i=pr(n);return we(i,0)})()})),P()]}else return[e,P()]}else if(t instanceof h8){let n=t[0],r=t[1];if(e instanceof E){let s=e[0];return[new E(s.withFields({tags:(()=>{let i=s.tags;return Qe(i,u=>Ii(u,n,o=>new pa(r,"")))})()})),P()]}else return[e,P()]}else if(t instanceof p8){let n=t[0],r=t[1];if(e instanceof E){let s=e[0];return[new E(s.withFields({tags:(()=>{let i=s.tags;return Qe(i,u=>Ii(u,n,o=>o.withFields({value:r})))})()})),P()]}else return[e,P()]}else if(t instanceof f8)if(e instanceof E){let n=e[0];return[new E(n.withFields({tags:(()=>{let r=n.tags;if(r instanceof E){let s=r[0];return new E(xr(s,bg(s),new pa("","")))}else return new E(kn(p([[0,new pa("","")]])))})()})),P()]}else return[e,P()];else if(t instanceof d8){let n=t[0];if(e instanceof E){let r=e[0];return[new E(r.withFields({tags:(()=>{let s=r.tags,i=Qe(s,u=>wg(u,p([n])));return Qe(i,Ag)})()})),P()]}else return[e,P()]}else if(t instanceof g8){let n=t[0],r=t[1];if(e instanceof E){let s=e[0];return[new E(s.withFields({ingredients:(()=>{let i=s.ingredients;return Qe(i,u=>Ii(u,n,o=>o.withFields({name:new E(r)})))})()})),P()]}else return[e,P()]}else if(t instanceof m8){let n=t[0],r=t[1];if(e instanceof E){let s=e[0];return[new E(s.withFields({ingredients:(()=>{let i=s.ingredients;return Qe(i,u=>Ii(u,n,o=>o.withFields({ismain:new E(r)})))})()})),P()]}else return[e,P()]}else if(t instanceof y8){let n=t[0],r=t[1];if(e instanceof E){let s=e[0];return[new E(s.withFields({ingredients:(()=>{let i=s.ingredients;return Qe(i,u=>Ii(u,n,o=>o.withFields({quantity:new E(r)})))})()})),P()]}else return[e,P()]}else if(t instanceof b8){let n=t[0],r=t[1];if(e instanceof E){let s=e[0];return[new E(s.withFields({ingredients:(()=>{let i=s.ingredients;return Qe(i,u=>Ii(u,n,o=>o.withFields({units:new E(r)})))})()})),P()]}else return[e,P()]}else if(t instanceof w8)if(e instanceof E){let n=e[0];return[new E(n.withFields({ingredients:(()=>{let r=n.ingredients;if(r instanceof E){let s=r[0];return new E(xr(s,bg(s),new sp(new Q,new Q,new Q,new Q)))}else return new E(kn(p([[0,new sp(new Q,new Q,new Q,new Q)]])))})()})),P()]}else return[e,P()];else if(t instanceof x8){let n=t[0];if(e instanceof E){let r=e[0];return[new E(r.withFields({ingredients:(()=>{let s=r.ingredients,i=Qe(s,u=>wg(u,p([n])));return Qe(i,Ag)})()})),P()]}else return[e,P()]}else if(t instanceof S8)if(e instanceof E){let n=e[0];return[new E(n.withFields({method_steps:(()=>{let r=n.method_steps;if(r instanceof E){let s=r[0];return new E(xr(s,bg(s),new bl("")))}else return new E(kn(p([[0,new bl("")]])))})()})),P()]}else return[e,P()];else if(t instanceof _8){let n=t[0];if(e instanceof E){let r=e[0];return[new E(r.withFields({method_steps:(()=>{let s=r.method_steps,i=Qe(s,u=>wg(u,p([n])));return Qe(i,Ag)})()})),P()]}else return[e,P()]}else if(t instanceof v8){let n=t[0],r=t[1];if(e instanceof E){let s=e[0];return[new E(s.withFields({method_steps:(()=>{let i=s.method_steps;return Qe(i,u=>Ii(u,n,o=>new bl(r)))})()})),P()]}else return[e,P()]}else if(t instanceof A8){let n=t[0];return[new E(n),_ie(n.withFields({slug:vie(n.title)}))]}else{let n=t[0];return[new E(n),P()]}}function Tie(e,t){if(t instanceof qN){let n=t[0];return[e.withFields({recipes:n}),P()]}else if(t instanceof VN){let n=t[0];return[e.withFields({tag_options:n}),P()]}else{let n=t[0],r=e.group_by;return r instanceof E&&r[0]instanceof My&&r[0][0]===n?(r[0][0],[e.withFields({group_by:new Q}),P()]):[e.withFields({group_by:new E(new My(n))}),P()]}}function Eie(e){let t=(()=>{let n=e.recipes,r=X(n,s=>{let i=s.tags;if(i instanceof E){let u=i[0];return X(Wr(u),o=>o.name)}else return p([])});return qm(r)})();return(()=>{let n=e.recipes,r=X(n,s=>{let i=s.author;if(i instanceof E){let u=i[0];return p([u])}else return p([])});return qm(r)})(),X(t,n=>_r(p([_("font-mono bg-ecru-white-100 border border-ecru-white-950 px-1 text-xs"),Kr(new Use(n))]),p([L(n)])))}function E8(e,t){return j(p([_("col-span-full  text-xl flex flex-wrap items-baseline justify-start"),_(t)]),p([Fe("hr",p([_("w-[1ch] mr-2 self-center")]),p([])),bt(p([yt(ir("/recipes/",e.slug))]),p([Wt(p([]),p([L(e.title)])),Wt(p([_("text-sm")]),p([L(" • "),e.prep_time+e.cook_time>59?L((()=>{let r=vl(e.prep_time+e.cook_time,60),s=we(r,0);return D(s)})()+"h"):Cn(),L((()=>{let n=Vn(e.prep_time+e.cook_time,60);return D(n)})()),L("m")]))]))]))}function Oie(e,t){let r=pR(e,i=>{let u=i.tags;if(u instanceof E){let o=u[0],a=io(Wr(o),d=>d.name===t),c=X(a,d=>d.value),l=By(c);return we(l,"")}else return""}),s=Zk(r,(i,u)=>W5(p([_("contents")]),p([Q5(p([_("col-start-1 col-span-full flex gap-2  text-base cursor-pointer marker:content-none")]),p([L("📑"),Wt(p([_("font-mono")]),p([L(i)])),Fe("hr",p([_("flex-grow mx-2 self-center")]),p([]))])),un(X(u,o=>E8(o,"ml-2 text-lg")))])));return Wr(s)}function Iie(e){return ao(p([_("grid grid-cols-12 col-start-[main-start] grid-rows-[fit-content(100px)_fit-content(100px)_fit-content(100px)_fit-content(100px)_fit-content(100px)_fit-content(100px)_1fr] gap-y-2")]),p([hu("Recipe List","underline-green"),Ao(p([_("flex flex-col justify-start items-middle col-span-1 col-start-12 text-base md:text-lg mt-4")]),p([bt(p([yt("/"),_("text-center")]),p([L("🏠")]))])),j(p([_("col-span-full flex flex-wrap items-center justify-start gap-3")]),Eie(e)),(()=>{let t=e.group_by;if(t instanceof E&&t[0]instanceof My){let n=t[0][0];return un(Oie(e.recipes,n))}else return un(X(e.recipes,n=>E8(n,"")))})()]))}function Nie(e){let t=(()=>{let n=e.ismain;return n instanceof E&&n[0]?" font-bold":""})();return j(p([_("flex justify-start col-span-6 items-baseline")]),p([j(p([_("flex-grow-[2] text-left flex justify-start"+t)]),p([Se(Qe(e.name,n=>L(n)),Cn())])),j(p([_("col-span-1 text-sm")]),p([Se(Qe(e.quantity,n=>L(n)),Cn())])),j(p([_("col-span-1 text-sm")]),p([Se(Qe(e.units,n=>L(n)),Cn())]))]))}function Rie(e){return T_(p([_("w-full justify-self-start list-decimal text-left ml-8 pr-2 mb-2")]),p([L(e.step_text)]))}function kie(e){return j(p([_("flex")]),p([j(p([_("font-mono bg-ecru-white-100 border border-ecru-white-950 px-1 text-xs")]),p([L(e.name)])),j(p([_("font-mono bg-ecru-white-50 border border-l-0 border-ecru-white-950  px-1 text-xs")]),p([L(e.value)]))]))}function Cie(e){return ao(p([_("grid grid-cols-12 col-start-[main-start] grid-rows-[fit-content(100px)_fit-content(100px)_fit-content(100px)_1fr] gap-y-2")]),p([hu(e.title,"underline-green"),Ao(p([_("flex flex-col justify-start items-middle col-span-1 col-start-12 row-span-2 text-base md:text-lg mt-4")]),p([bt(p([yt("/"),_("text-center")]),p([L("🏠")])),bt(p([yt("/recipes/"+e.slug+"/edit"),_("text-center")]),p([L("✏️")]))])),_t(p([_("flex gap-1 items-baseline col-span-11 row-start-2 row-span-1")]),qm(p([(()=>{let t=e.author;if(t instanceof E){let n=t[0];return p([Wt(p([_("text-sm")]),p([L("🧾")])),Wt(p([_("text-base"),Sr(n)>19?_("w-["+D(Sr(n))+"]"):_("w-[19ch]")]),p([L(n)]))])}else return p([])})(),(()=>{let t=e.source;if(t instanceof E){let n=t[0];return p([Wt(p([_("text-sm")]),p([L("📗")])),Wt(p([_("text-base")]),p([L(n)]))])}else return p([])})()]))),_t(p([_("flex flex-row row-start-3 gap-2 col-span-full sm:row-start-3 sm:col-span-5 sm:col-start-1")]),p([_t(p([_("flex flex-wrap justify-start items-baseline")]),p([gs(p([Pi("prep_time"),_("font-mono ")]),p([L("Prep:")])),j(p([_("text-base ml-2")]),p([L((e.prep_time>59?(()=>{let n=vl(e.prep_time,60),r=we(n,0),s=D(r);return rh(s,"0","")})()+"h ":"")+(()=>{let t=Vn(e.prep_time,60);return D(t)})()+"m")]))])),_t(p([_("flex flex-wrap justify-start items-baseline")]),p([gs(p([Pi("cook_time"),_("font-mono ")]),p([L("Cook:")])),j(p([_("text-base ml-2")]),p([L((e.cook_time>59?(()=>{let n=vl(e.cook_time,60),r=we(n,0),s=D(r);return rh(s,"0","")})()+"h ":"")+(()=>{let t=Vn(e.cook_time,60);return D(t)})()+"m")]))])),_t(p([_("flex flex-wrap justify-start items-baseline")]),p([gs(p([Pi("cook_time"),_("font-mono ")]),p([L("Serves:")])),j(p([_("mr-2 sm:mr-4 ml-2 text-base")]),p([L(D(e.serves))]))]))])),_t(p([_("sm:ml-1 col-span-full row-start-4 sm:row-start-3 content-start sm:col-start-6 sm:col-span-7 sm:mt-2 flex flex-wrap gap-1 items-baseline gap-3")]),p([(()=>{let t=e.tags;if(t instanceof E){let n=t[0],r=(()=>{let i=rn(n),u=wr(i,(o,a)=>Wi(Te(o),Te(a)));return X(u,o=>[D(Te(o)),kie(It(o))])})();return Xu(s=>j(p([_("contents")]),s),r)}else return Cn()})()])),_t(p([_("col-span-full text-base my-1 pt-1 pb-2 px-2 border-ecru-white-950 border-[1px] rounded-[1px] sm:row-span-2 sm:col-span-5 [box-shadow:1px_1px_0_#a3d2ab] mr-1")]),p([El(p([_("mx-2 px-1 text-lg font-mono ")]),p([L("Ingredients")])),(()=>{let t=e.ingredients;if(t instanceof E){let n=t[0],r=(()=>{let i=rn(n),u=wr(i,(o,a)=>Wi(Te(o),Te(a)));return X(u,o=>[D(Te(o)),Nie(It(o))])})();return Xu(s=>j(p([_("contents")]),s),r)}else return Cn()})()])),_t(p([_("flex justify-start flex-wrap col-span-full my-1 pt-1 mr-1 sm:mr-2 ml-1 pb-2 px-2 border-ecru-white-950 border-[1px] rounded-[1px] sm:row-span-2 sm:col-span-7 [box-shadow:1px_1px_0_#a3d2ab]")]),p([El(p([_("mx-2 px-1 font-mono ")]),p([L("Method")])),G5(p([_("flex flex-wrap w-full mb-1 list-decimal marker:text-sm marker:font-mono text-base items-baseline col-span-full")]),p([(()=>{let t=e.method_steps;if(t instanceof E){let n=t[0],r=(()=>{let i=rn(n),u=wr(i,(o,a)=>Wi(Te(o),Te(a)));return X(u,o=>[D(Te(o)),Rie(It(o))])})();return Xu(s=>j(p([_("contents")]),s),r)}else return Cn()})()]))]))]))}function Die(e){if(e instanceof E){let t=e[0];return Cie(t)}else return hu("Recipe not found","")}function S3(e,t,n){let r=Lu((o,a)=>new h8(o,a)),s=Lu((o,a)=>new p8(o,a)),i=X(e,o=>o.name),u=Se(n,new pa("",""));return _t(p([je("tag-input-"+D(t)),_("flex col-span-6 sm:col-span-4 min-w-0")]),p([ch(p([In(p([(()=>{let o=Sr(u.name);return o>0?["width",D(o+1)+"ch"]:["width","5ch"]})()])),_("inline bg-ecru-white-100 col-span-4 row-span-1 pl-1 p-0 text-xs font-mono custom-select"),je("tag-name-selector"),Jt("tag-name-"+D(t)),ut(u.name),At(r(t))]),p([Zo(p([_("text-xs font-mono custom-select input-focus bg-ecru-white-100"),de("hidden",""),sv(!0),ut(""),Yo(Xx(u.name))]),""),un(X(i,o=>Zo(p([ut(o),Yo(o===u.name),_("text-xs font-mono custom-select input-focus bg-ecru-white-50")]),o)))])),ch(p([In(p([(()=>{let o=Sr(u.value);return o>0?["width",D(o+1)+"ch"]:["width","5ch"]})()])),_("inline bg-ecru-white-50 col-span-4 row-span-1 pl-1 p-0 text-xs font-mono custom-select"),At(s(t)),ut(u.value)]),p([Zo(p([_("text-xs font-mono custom-select input-focus bg-ecru-white-50"),de("hidden",""),sv(!0),ut(""),Yo(Xx(u.value))]),""),(()=>{let o=h=>h.name===u.name,a=h=>X(h.options,f=>Zo(p([ut(f),Yo(f===u.value),_("text-xs font-mono custom-select input-focus bg-ecru-white-50")]),f)),c=hp(e,o),l=ne(c,a),d=we(l,p([Cn()]));return un(d)})()])),_r(p([_("col-span-1 mb-1 text-ecru-white-950 text-xs"),je("remove-tag-input"),We("button"),Kr(new d8(t))]),p([L("➖")])),_r(p([_("col-span-1 mb-1 text-ecru-white-950 text-xs"),je("add-tag-input"),We("button"),Kr(new f8(t))]),p([L("➕")]))]))}function Bm(e,t){let n=Lu((u,o)=>new g8(u,o)),r=Lu((u,o)=>new m8(u,o)),s=Lu((u,o)=>new y8(u,o)),i=Lu((u,o)=>new b8(u,o));return j(p([_("my-0.5 w-full flex justify-between items-baseline  text-base")]),p([Fn(p([de("aria-label","Enter ingredient name"),Jt("ingredient-name-"+D(e)),We("text"),vg("Ingredient"),_("w-[16ch] xxs:w-[23ch] xs:w-[28ch] sm:w-[16ch] md:w-[23ch] lg:w-[28ch] text-base input-base input-focus bg-ecru-white-100"),ut((()=>{if(t instanceof E){let u=t[0];return Se(u.name,"")}else return""})()),At(n(e))])),j(p([_("flex justify-end gap-1 items-baseline")]),p([Fn(p([de("aria-label","Enter ingredient quanitity"),Jt("ingredient-qty-"+D(e)),We("text"),vg("Qty"),_("pt-0.5 w-[4ch] text-sm input-focus bg-ecru-white-100"),ut((()=>{if(t instanceof E){let u=t[0];return Se(u.quantity,"")}else return""})()),At(s(e))])),Fn(p([de("aria-label","Enter ingredient units"),Jt("ingredient-units-"+D(e)),We("text"),vg("Units"),_("pt-0.5 w-[5ch] text-sm mr-0 input-focus bg-ecru-white-100"),ut((()=>{if(t instanceof E){let u=t[0];return Se(u.units,"")}else return""})()),At(i(e))])),j(p([_("flex text-xs items-baseline")]),p([gs(p([_("ingredient-toggle"),de("aria-label","Toggle main ingredient")]),p([Fn(p([g_((()=>{if(t instanceof E){let u=t[0];return Se(u.ismain,!1)}else return!1})()),Jt("`ingredient-main-"+D(e)),We("checkbox"),X_(r(e))])),Wt(p([]),p([]))])),_r(p([_("text-ecru-white-950"),We("button"),je("remove-ingredient-input"),Kr(new x8(e))]),p([L("➖")])),_r(p([_("text-ecru-white-950"),We("button"),je("add-ingredient-input"),Kr(new w8(e))]),p([L("➕")]))]))]))]))}function Mie(e,t){let n=Lu((r,s)=>new v8(r,s));return j(p([_("flex w-full items-baseline col-span-full px-1 mb-1 text-base")]),p([gs(p([_("font-mono text-sm")]),p([L((()=>{let r=e+1;return D(r)})()+".")])),rb(p([Jt("method-step-"+D(e)),je("method-step-"+D(e)),_("mx-3 bg-ecru-white-100 w-full input-focus text-base resize-none"),de("rows","3"),At(n(e))]),t instanceof E?t[0].step_text:""),_r(p([_("text-ecru-white-950 text-xs"),We("button"),je("remove-ingredient-input"),Kr(new _8(e))]),p([L("➖")])),_r(p([_("text-ecru-white-950 text-xs"),We("button"),je("add-ingredient-input"),Kr(new S8(e))]),p([L("➕")]))]))}function O8(e,t){return nb(p([_("grid grid-cols-12 col-start-[main-start] grid-rows-[fit-content(100px)_fit-content(100px)_fit-content(100px)_1fr] gap-y-2"),je("create_recipe_form"),cb(new A8(e))]),p([rb(p([je("page-title-input"),Jt("title"),_("[field-sizing:_content;] mt-4 mr-2 col-start-1 col-span-11 placeholder:underline-blue underline-blue min-h-[56px] max-h-[140px] overflow-x-hidden overflow-y-hidden px-0 pb-2 input-base w-full input-focus font-transitional resize-none font-bold italic text-ecru-white-950 text-7xl bg-ecru-white-100"),_((()=>{let n=Sr(e.title);return n>38?"text-4xl":n>17?"text-5.5xl":"text-7xl"})()),de("title","recipe title"),At(n=>new r8(n))]),e.title),Ao(p([_("flex flex-col justify-start items-middle col-span-1 col-start-12 row-span-2 text-base md:text-lg mt-4")]),p([bt(p([yt("/"),_("text-center")]),p([L("🏠")])),bt(p([yt("/recipes/"+e.slug),_("text-center")]),p([L("❎")])),_r(p([We("submit"),_("")]),p([L("💾")]))])),_t(p([_("flex gap-1 items-baseline col-span-11 row-start-2 row-span-1")]),p([j(p([_("justify-self-start")]),p([gs(p([_("justify-self-start font-mono text-sm"),Pi("author")]),p([L("🧾")])),Fn(p([je("author"),_("bg-ecru-white-100 input-base input-focus pr-0.5 w-[20ch] text-left text-base"),We("text"),Jt("author"),de("title","author"),ut((()=>{let n=e.author;return Se(n,"")})()),At(n=>new s8(n))]))])),j(p([_("justify-self-start")]),p([gs(p([_("justify-self-start font-mono text-sm"),Pi("author")]),p([L("📗")])),Fn(p([je("source"),_("bg-ecru-white-100 input-base input-focus pr-0.5 w-[20ch] text-left text-base"),We("text"),Jt("source"),de("title","source"),ut((()=>{let n=e.source;return Se(n,"")})()),At(n=>new i8(n))]))]))])),_t(p([_("flex flex-row row-start-3 gap-2 col-span-full sm:row-start-3 sm:col-span-5 sm:col-start-1")]),p([_t(p([_("flex flex-wrap justify-between items-baseline")]),p([gs(p([_("justify-self-start font-mono "),Pi("prep_time")]),p([L("Prep:")])),j(p([_("justify-self-start")]),p([j(p([_("after:content-['h'] after:text-base inline-block")]),p([Fn(p([je("prep_time_hrs"),_("bg-ecru-white-100 input-base input-focus pr-0.5 mr-0.5 w-[2ch] text-right text-base"),We("number"),Jt("prep_time_hrs"),de("title","prep time in hours"),ut((()=>{let n=vl(e.prep_time,60),r=we(n,0),s=D(r);return rh(s,"0","")})()),At(n=>new u8(n))]))])),j(p([_("after:content-['m'] after:text-base inline-block")]),p([Fn(p([je("prep_time_mins"),_("bg-ecru-white-100 input-base input-focus pr-0.5 mr-0.5 w-[3ch] text-right text-base"),We("number"),Jt("prep_time_mins"),de("title","prep time in minutes"),ut((()=>{let n=Vn(e.prep_time,60);return D(n)})()),At(n=>new o8(n))]))]))]))])),_t(p([_("flex flex-wrap justify-between items-baseline")]),p([gs(p([_("justify-self-start font-mono "),Pi("prep_time")]),p([L("Cook:")])),j(p([_("justify-self-start")]),p([j(p([_("after:content-['h'] after:text-base inline-block")]),p([Fn(p([je("cook_time_hrs"),_("bg-ecru-white-100 input-base input-focus pr-0.5 w-[2ch] text-right text-base"),We("number"),Jt("cook_time_hrs"),de("title","cook time in hours"),ut((()=>{let n=vl(e.cook_time,60),r=we(n,0),s=D(r);return rh(s,"0","")})()),At(n=>new a8(n))]))])),j(p([_("after:content-['m'] after:text-base inline-block")]),p([Fn(p([je("cook_time_mins"),_("bg-ecru-white-100 input-base input-focus pr-0.5 w-[3ch] text-right text-base"),We("number"),Jt("cook_time_mins"),de("title","cook time in minutes"),ut((()=>{let n=Vn(e.cook_time,60);return D(n)})()),At(n=>new c8(n))]))]))]))])),_t(p([_("flex flex-wrap justify-between items-baseline")]),p([gs(p([_("justify-self-start font-mono "),Pi("serves")]),p([L("Serves:")])),Fn(p([je("serves"),_("pr-0.5 mr-2 sm:mr-4  justify-self-start col-span-3 input-base input-focus w-[3ch] text-right text-base bg-ecru-white-100"),We("number"),Jt("serves"),ut((()=>{let n=e.serves;return D(n)})()),At(n=>new l8(n))]))]))])),_t(p([_("sm:ml-1 col-span-full row-start-4 sm:row-start-3 content-start sm:col-start-6 sm:col-span-7 sm:mt-2 flex flex-wrap gap-1 items-baseline gap-3")]),p([(()=>{let n=e.tags;if(n instanceof E){let r=n[0],s=(()=>{let u=rn(r),o=wr(u,(a,c)=>Wi(Te(a),Te(c)));return X(o,a=>[D(Te(a)),S3(t,Te(a),new E(It(a)))])})();return Xu(i=>j(p([_("contents")]),i),s)}else return S3(t,0,new Q)})()])),_t(p([_("col-span-full my-1 mb-6 pt-1 pb-2 px-2 mr-1 border-ecru-white-950 border-[1px] rounded-[1px] sm:row-span-2 sm:col-span-5 [box-shadow:1px_1px_0_#9edef1]")]),p([El(p([_("mx-2 px-1 font-mono ")]),p([L("Ingredients")])),(()=>{let n=e.ingredients;if(n instanceof E){let r=n[0],s=(()=>{let u=rn(r),o=wr(u,(a,c)=>Wi(Te(a),Te(c)));return X(o,a=>[D(Te(a)),Bm(Te(a),new E(It(a)))])})();return Xu(i=>j(p([_("contents")]),i),s)}else return Bm(0,new Q)})()])),_t(p([_("col-span-full my-1 mb-6 pt-1 pb-2 px-2 ml-1 mr-1 border-ecru-white-950 border-[1px] rounded-[1px] sm:row-span-2 sm:col-span-7 [box-shadow:1px_1px_0_#9edef1]")]),p([El(p([_("mx-2 px-1 font-mono ")]),p([L("Method")])),(()=>{let n=e.method_steps;if(n instanceof E){let r=n[0],s=(()=>{let u=rn(r),o=wr(u,(a,c)=>Wi(Te(a),Te(c)));return X(o,a=>[D(Te(a)),Mie(Te(a),new E(It(a)))])})();return Xu(i=>j(p([_("contents")]),i),s)}else return Bm(0,new Q)})()]))]))}function Pie(e,t){if(e instanceof E){let n=e[0];return O8(n,t)}else return hu("Recipe not found","")}class jie extends S{constructor(t,n,r,s,i){super(),this.current_route=t,this.current_recipe=n,this.recipes=r,this.planner=s,this.import_url=i}}class up extends S{}class wl extends S{constructor(t){super(),this.slug=t}}class Ur extends S{constructor(t){super(),this[0]=t}}class op extends S{}class qu extends S{constructor(t){super(),this.start_date=t}}class Vu extends S{constructor(t){super(),this.start_date=t}}class Lie extends S{}class zu extends S{constructor(t){super(),this.slug=t}}class nh extends S{constructor(t){super(),this.recipe=t}}class ze extends S{constructor(t){super(),this[0]=t}}class ga extends S{constructor(t){super(),this[0]=t}}class Li extends S{constructor(t){super(),this[0]=t}}class Pu extends S{constructor(t){super(),this[0]=t}}class jy extends S{constructor(t){super(),this[0]=t}}function _3(e,t){return Ly(hp(e.recipes.recipes,n=>n.slug===t))}function Fie(e,t){if(li(t),t instanceof ze&&t[0]instanceof op)return[e.withFields({current_route:new op}),eb(p([ls(GN(),n=>new Li(n)),ls(Py(),n=>new Li(n))]))];if(t instanceof ze&&t[0]instanceof wl){let n=t[0].slug;return[e.withFields({current_route:new wl(n),current_recipe:_3(e,n)}),P()]}else{if(t instanceof ze&&t[0]instanceof Ur&&t[0][0]instanceof zu&&t[0][0].slug==="")return[e.withFields({current_route:new Ur(new zu("")),current_recipe:new E(new zN(new Q,"New Recipe","",0,0,0,new Q,new Q,new E(kn(p([[0,new pa("","")]]))),new E(kn(p([[0,new sp(new Q,new Q,new Q,new Q)]]))),new E(kn(p([[0,new bl("")]]))),new Q))}),ls(Py(),n=>new Li(n))];if(t instanceof ze&&t[0]instanceof Ur&&t[0][0]instanceof zu){let n=t[0][0].slug;return[e.withFields({current_route:new Ur(new zu(n)),current_recipe:_3(e,n)}),P()]}else if(t instanceof ze&&t[0]instanceof Ur&&t[0][0]instanceof nh){let n=t[0][0].recipe;return[e.withFields({current_route:new Ur(new nh(n)),current_recipe:new E(n)}),P()]}else if(t instanceof ze&&t[0]instanceof qu){let n=t[0].start_date;return[e.withFields({current_route:new qu(n)}),ls(n8(Ip(n,new Of)),r=>new Pu(r))]}else if(t instanceof ze&&t[0]instanceof Vu){let n=t[0].start_date;return[e.withFields({current_route:new Vu(n)}),P()]}else if(t instanceof ze){let n=t[0];return[e.withFields({current_route:n,current_recipe:new Q}),P()]}else if(t instanceof Li){let n=t[0],r=Tie(e.recipes,n),s=r[0],i=r[1];return[e.withFields({recipes:s,planner:new ip(e.planner.plan_week,X(s.recipes,u=>u.title),e.planner.start_date)}),ls(i,u=>new Li(u))]}else if(t instanceof ga&&t[0]instanceof T8){let n=t[0][0];return[e.withFields({recipes:zse(n,e.recipes)}),sn(r=>{let s=new ze(new wl(n.slug));return r(s)})]}else if(t instanceof ga){let n=t[0],r=Aie(e.current_recipe,n),s=r[0],i=r[1];return[e.withFields({current_recipe:s}),ls(i,u=>new ga(u))]}else if(t instanceof Pu&&t[0]instanceof ZN){let n=t[0][0];return[e.withFields({planner:e.planner.withFields({start_date:n})}),sn(r=>{let s=new ze(new qu(n));return r(s)})]}else if(t instanceof Pu&&t[0]instanceof $x){let n=t[0][0],r=t[0][1];return[e.withFields({current_route:new qu(r),planner:e.planner.withFields({plan_week:n})}),P()]}else if(t instanceof Pu){let n=t[0],r=yie(e.planner,n),s=r[0],i=r[1];return[e.withFields({planner:s}),ls(i,u=>new Pu(u))]}else if(t instanceof jy&&t[0]instanceof QN){let n=t[0][0];return[e.withFields({current_recipe:new E(n)}),sn(r=>{let s=new ze(new Ur(new nh(n)));return r(s)})]}else{let n=t[0],r=nie(e.import_url,n),s=r[0],i=r[1];return[e.withFields({import_url:s}),ls(i,u=>new jy(u))]}}}function A3(e){let t=e.query,n=r5(e.path);if(t instanceof E&&n.hasLength(2)&&n.head==="planner"&&n.tail.head==="edit"){let r=t[0],s=rv(r);if(s.isOk()&&s[0].hasLength(1)&&s[0].head[0]==="date"){let i=s[0].head[1];return new ze(new Vu(we(Ov(i),Ci())))}else return new ze(new Vu(Ci()))}else if(t instanceof E&&n.hasLength(1)&&n.head==="planner"){let r=t[0],s=rv(r);if(s.isOk()&&s[0].hasLength(1)&&s[0].head[0]==="date"){let i=s[0].head[1];return new ze(new qu(we(Ov(i),Ci())))}else return new ze(new Vu(Ci()))}else{if(n.hasLength(2)&&n.head==="recipes"&&n.tail.head==="new")return new ze(new Ur(new zu("")));if(n.hasLength(3)&&n.head==="recipes"&&n.tail.tail.head==="edit"){let r=n.tail.head;return new ze(new Ur(new zu(r)))}else if(n.hasLength(2)&&n.head==="recipes"){let r=n.tail.head;return new ze(new wl(r))}else return n.hasLength(1)&&n.head==="recipes"?new ze(new op):n.hasLength(2)&&n.head==="planner"&&n.tail.head==="edit"?new ze(new Vu(Ci())):n.hasLength(1)&&n.head==="planner"?new ze(new qu(Ci())):n.hasLength(1)&&n.head==="import"?new ze(new Lie):new ze(new up)}}function $ie(e){let t=(()=>{let n=K5(),r=ne(n,A3);return ne(r,s=>s instanceof ze?s[0]:new up)})();return[new jie(we(t,new up),new Q,new qse(p([]),p([]),new Q),new ip(Xa(),p([]),Ip(Ci(),new Of)),new Fx("")),eb(p([Z5(A3),ls(GN(),n=>new Li(n)),ls(Py(),n=>new Li(n))]))]}function Bie(e){return H5(p([_(`grid ml-2 mr-2 gap-2
    2xl:grid-cols-[[start]_1fr_[full-start]_3fr_[main-start]_105ch_[main-end]_3fr_[full-end]_1fr_[end]]
    xl:grid-cols-[[start]_1fr_[full-start]_3fr_[main-start]_95ch_[main-end]_3fr_[full-end]_1fr_[end]]
    lg:grid-cols-[[start]_1fr_[full-start]_3fr_[main-start]_85ch_[main-end]_3fr_[full-end]_1fr_[end]]
    md:grid-cols-[[start_full-start]_1fr_[main-start]_70ch_[main-end]_1fr_[full-end_end]]
    grid-cols-[[start_full-start_main-start]_100%_[main-end_full-end_end]]
    min-h-[90vh]
    bg-ecru-white-50  text-ecru-white-950 font-transitional text-lg`)]),p([e]))}function Uie(){return ao(p([_("grid-cols-12 col-start-[main-start]")]),p([hu("Mealstack","text-9xl placeholder:underline-pink underline-pink col-span-full xxs:col-span-11"),Ao(p([_("subgrid-cols my-6 gap-y-12 col-span-full text-6xl mx-2 font-mono")]),p([bt(p([_("flex items-baseline col-span-full sm:col-span-6 justify-between pr-4"),yt("/planner")]),p([Wt(p([_("underline-orange")]),p([L("Plan")])),Wt(p([_("text-5xl")]),p([L("📅")]))])),bt(p([_("flex items-baseline col-span-full sm:col-span-6 justify-between pr-4"),yt("/recipes")]),p([Wt(p([_("underline-green")]),p([L("List  ")])),Wt(p([_("text-5xl")]),p([L("📑")]))])),bt(p([_("flex items-baseline col-span-full sm:col-span-6 justify-between pr-4"),yt("/recipes/new")]),p([Wt(p([_("underline-blue")]),p([L("New")])),Wt(p([_("text-5xl")]),p([L("📝")]))])),bt(p([_("flex items-baseline col-span-full sm:col-span-6 justify-between pr-4"),yt("/import")]),p([Wt(p([_("underline-yellow")]),p([L("Import")])),Wt(p([_("text-5xl")]),p([L("📩")]))]))]))]))}function qie(e){let t=(()=>{let n=e.current_route;if(n instanceof up)return Uie();if(n instanceof op)return fs(Iie(e.recipes),r=>new Li(r));if(n instanceof wl)return fs(Die(e.current_recipe),r=>new ga(r));if(n instanceof Ur&&n[0]instanceof zu)return fs(Pie(e.current_recipe,e.recipes.tag_options),r=>new ga(r));if(n instanceof Ur&&n[0]instanceof nh){let r=n[0].recipe;return fs(O8(r,e.recipes.tag_options),s=>new ga(s))}else if(n instanceof qu){let r=n.start_date;return fs(cie(new ip(e.planner.plan_week,X(e.recipes.recipes,s=>s.title),r)),s=>new Pu(s))}else if(n instanceof Vu){let r=n.start_date;return fs(lie(new ip(e.planner.plan_week,X(e.recipes.recipes,s=>s.title),r)),s=>new Pu(s))}else return fs(rie(new Fx(e.import_url.url)),r=>new jy(r))})();return Bie(t)}function Vie(){let e=GM("main");if(!e.isOk())throw ln("assignment_no_match","app",35,"main","Assignment pattern did not match",{value:e});let t=e[0];F5(c7(),"type-ahead");let n=S_($ie,Fie,qie),r=zM(n,t),s=A_(r,"#app",void 0);return CM(s,t),t}Vie();
