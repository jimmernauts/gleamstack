var fI=Object.defineProperty;var Ew=e=>{throw TypeError(e)};var dI=(e,t,n)=>t in e?fI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var R=(e,t,n)=>dI(e,typeof t!="symbol"?t+"":t,n),o0=(e,t,n)=>t.has(e)||Ew("Cannot "+n);var B=(e,t,n)=>(o0(e,t,"read from private field"),n?n.call(e):t.get(e)),je=(e,t,n)=>t.has(e)?Ew("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),ue=(e,t,n,r)=>(o0(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),br=(e,t,n)=>(o0(e,t,"access private method"),n);var Ow=(e,t,n,r)=>({set _(s){ue(e,t,s,n)},get _(){return B(e,t,r)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const u of i.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();class S{withFields(t){let n=Object.keys(this).map(r=>r in t?t[r]:this[r]);return new this.constructor(...n)}}class tt{static fromArray(t,n){let r=n||new qS;for(let s=t.length-1;s>=0;--s)r=new $S(t[s],r);return r}[Symbol.iterator](){return new hI(this)}toArray(){return[...this]}atLeastLength(t){for(let n of this){if(t<=0)return!0;t--}return t<=0}hasLength(t){for(let n of this){if(t<=0)return!1;t--}return t===0}countLength(){let t=0;for(let n of this)t++;return t}}function te(e,t){return new $S(e,t)}function g(e,t){return tt.fromArray(e,t)}var bu;class hI{constructor(t){je(this,bu);ue(this,bu,t)}next(){if(B(this,bu)instanceof qS)return{done:!0};{let{head:t,tail:n}=B(this,bu);return ue(this,bu,n),{value:t,done:!1}}}}bu=new WeakMap;class qS extends tt{}class $S extends tt{constructor(t,n){super(),this.head=t,this.tail=n}}class Fo{constructor(t){if(!(t instanceof Uint8Array))throw"BitArray can only be constructed from a Uint8Array";this.buffer=t}get length(){return this.buffer.length}byteAt(t){return this.buffer[t]}floatAt(t){return gI(this.buffer.slice(t,t+8))}intFromSlice(t,n){return pI(this.buffer.slice(t,n))}binaryFromSlice(t,n){return new Fo(this.buffer.slice(t,n))}sliceAfter(t){return new Fo(this.buffer.slice(t))}}class VS{constructor(t){this.value=t}}function pI(e){e=e.reverse();let t=0;for(let n=e.length-1;n>=0;n--)t=t*256+e[n];return t}function gI(e){return new Float64Array(e.reverse().buffer)[0]}class ol extends S{static isResult(t){return t instanceof ol}}class G extends ol{constructor(t){super(),this[0]=t}isOk(){return!0}}let xe=class extends ol{constructor(t){super(),this[0]=t}isOk(){return!1}};function dn(e,t){let n=[e,t];for(;n.length;){let r=n.pop(),s=n.pop();if(r===s)continue;if(!Iw(r)||!Iw(s)||!AI(r,s)||bI(r,s)||yI(r,s)||wI(r,s)||vI(r,s)||xI(r,s)||SI(r,s))return!1;const u=Object.getPrototypeOf(r);if(u!==null&&typeof u.equals=="function")try{if(r.equals(s))continue;return!1}catch{}let[o,a]=mI(r);for(let c of o(r))n.push(a(r,c),a(s,c))}return!0}function mI(e){if(e instanceof Map)return[t=>t.keys(),(t,n)=>t.get(n)];{let t=e instanceof globalThis.Error?["message"]:[];return[n=>[...t,...Object.keys(n)],(n,r)=>n[r]]}}function bI(e,t){return e instanceof Date&&(e>t||e<t)}function yI(e,t){return e.buffer instanceof ArrayBuffer&&e.BYTES_PER_ELEMENT&&!(e.byteLength===t.byteLength&&e.every((n,r)=>n===t[r]))}function wI(e,t){return Array.isArray(e)&&e.length!==t.length}function vI(e,t){return e instanceof Map&&e.size!==t.size}function xI(e,t){return e instanceof Set&&(e.size!=t.size||[...e].some(n=>!t.has(n)))}function SI(e,t){return e instanceof RegExp&&(e.source!==t.source||e.flags!==t.flags)}function Iw(e){return typeof e=="object"&&e!==null}function AI(e,t){return typeof e!="object"&&typeof t!="object"&&(!e||!t)||[Promise,WeakSet,WeakMap,Function].some(r=>e instanceof r)?!1:e.constructor===t.constructor}function or(e,t){return t===0?0:e%t}function vc(e,t){return Math.trunc(_I(e,t))}function _I(e,t){return t===0?0:e/t}function ih(e,t,n,r,s,i){let u=new globalThis.Error(s);u.gleam_error=e,u.module=t,u.line=n,u.fn=r;for(let o in i)u[o]=i[o];return u}class k extends S{constructor(t){super(),this[0]=t}}class J extends S{}function Rg(e,t){if(e instanceof k){let n=e[0];return new G(n)}else return new xe(t)}function vb(e){if(e.isOk()){let t=e[0];return new k(t)}else return new J}function Be(e,t){return e instanceof k?e[0]:t}function yt(e,t){if(e instanceof k){let n=e[0];return new k(t(n))}else return new J}function kg(e,t){return e instanceof k?e:t}class js extends S{}class ho extends S{}class xc extends S{}function Gr(e){return DN(e)}function TI(e){return WN(e)}function EI(e){return-1*e}function OI(e){return e>=0?Dw(e):0-Dw(EI(e))}function II(e){return OI(e)}function ao(e){return kN(e)}function se(e){return CN(e)}function xb(e){return e}function xi(e,t){return e===t?new ho:e<t?new js:new xc}function Sb(e,t){return e<t?e:t}function uh(e,t){return e>t?e:t}function NI(e,t,n){let s=Sb(e,n);return uh(s,t)}function RI(e){let t=p2()*xb(e),n=TI(t);return II(n)}function Sc(e,t){{let n=t;return e*n<0&&or(e,n)!==0?new G(vc(e,n)-1):new G(vc(e,n))}}function Se(e){return e[0]}function At(e){return e[1]}function kI(e,t){let n=e[0],r=e[1];return[t(n),r]}function CI(e,t){let n=e[0],r=e[1];return[n,t(r)]}function ou(e,t){return[e,t]}class lt extends S{}class ci extends S{}function DI(e,t){for(;;){let n=e,r=t;if(n.atLeastLength(1))e=n.tail,t=r+1;else return r}}function MI(e){return DI(e,0)}function Jt(e,t){for(;;){let n=e,r=t;if(n.hasLength(0))return r;{let s=n.head;e=n.tail,t=te(s,r)}}}function Bn(e){return Jt(e,g([]))}function zS(e){return dn(e,g([]))}function Nw(e,t){for(;;){let n=e,r=t;if(n.hasLength(0))return!1;if(n.atLeastLength(1)&&dn(n.head,r))return n.head,!0;e=n.tail,t=r}}function PI(e){if(e.hasLength(0))return new xe(void 0);{let t=e.head;return new G(t)}}function jI(e,t,n){for(;;){let r=e,s=t,i=n;if(r.hasLength(0))return Bn(i);{let u=r.head,o=r.tail,a=s(u)?te(u,i):i;e=o,t=s,n=a}}}function HS(e,t){return jI(e,t,g([]))}function LI(e,t,n){for(;;){let r=e,s=t,i=n;if(r.hasLength(0))return Bn(i);{let u=r.head,o=r.tail,a=(()=>{let c=s(u);if(c.isOk()){let l=c[0];return te(l,i)}else return i})();e=o,t=s,n=a}}}function GS(e,t){return LI(e,t,g([]))}function FI(e,t,n){for(;;){let r=e,s=t,i=n;if(r.hasLength(0))return Bn(i);{let u=r.head;e=r.tail,t=s,n=te(s(u),i)}}}function Z(e,t){return FI(e,t,g([]))}function BI(e,t,n,r){for(;;){let s=e,i=t,u=n,o=r;if(s.hasLength(0))return Bn(o);{let a=s.head,c=s.tail,l=te(i(a,u),o);e=c,t=i,n=u+1,r=l}}}function Iu(e,t){return BI(e,t,0,g([]))}function UI(e,t,n){for(;;){let r=e,s=t,i=n;if(r.hasLength(0))return new G(Bn(i));{let u=r.head,o=r.tail,a=s(u);if(a.isOk()){let c=a[0];e=o,t=s,n=te(c,i)}else{let c=a[0];return new xe(c)}}}}function Ab(e,t){return UI(e,t,g([]))}function qI(e,t,n){for(;;){let r=e,s=t,i=n;if(s<=0)return Bn(i);if(r.hasLength(0))return Bn(i);{let o=r.head;e=r.tail,t=s-1,n=te(o,i)}}}function $I(e,t){return qI(e,t,g([]))}function VI(e,t){for(;;){let n=e,r=t;if(n.hasLength(0))return r;{let s=n.head;e=n.tail,t=te(s,r)}}}function _b(e,t){return VI(Bn(e),t)}function oh(e,t){return te(t,e)}function zI(e,t){for(;;){let n=e,r=t;if(n.hasLength(0))return r;{let s=n.head;e=n.tail,t=te(s,r)}}}function HI(e,t){for(;;){let n=e,r=t;if(n.hasLength(0))return Bn(r);{let s=n.head;e=n.tail,t=zI(s,r)}}}function Un(e){return HI(e,g([]))}function ca(e,t){let n=Z(e,t);return Un(n)}function Os(e,t,n){for(;;){let r=e,s=t,i=n;if(r.hasLength(0))return s;{let u=r.head;e=r.tail,t=i(s,u),n=i}}}function Tb(e,t,n){if(e.hasLength(0))return t;{let r=e.head,s=e.tail;return n(Tb(s,t,n),r)}}function ah(e,t){for(;;){let n=e,r=t;if(n.hasLength(0))return new xe(void 0);{let s=n.head,i=n.tail;if(r(s))return new G(s);e=i,t=r}}}function GI(e,t,n,r,s,i){for(;;){let u=e,o=t,a=n,c=r,l=s,d=i,h=te(l,a);if(u.hasLength(0))return c instanceof lt?te(Jt(h,g([])),d):te(h,d);{let f=u.head,p=u.tail,m=o(l,f);if(m instanceof xc&&c instanceof ci)e=p,t=o,n=h,r=c,s=f,i=d;else if(m instanceof js&&c instanceof lt)e=p,t=o,n=h,r=c,s=f,i=d;else if(m instanceof ho&&c instanceof lt)e=p,t=o,n=h,r=c,s=f,i=d;else if(m instanceof xc&&c instanceof lt){let b=c instanceof lt?te(Jt(h,g([])),d):te(h,d);if(p.hasLength(0))return te(g([f]),b);{let y=p.head,w=p.tail,x=(()=>{let v=o(f,y);return v instanceof js?new lt:v instanceof ho?new lt:new ci})();e=w,t=o,n=g([f]),r=x,s=y,i=b}}else if(m instanceof js&&c instanceof ci){let b=c instanceof lt?te(Jt(h,g([])),d):te(h,d);if(p.hasLength(0))return te(g([f]),b);{let y=p.head,w=p.tail,x=(()=>{let v=o(f,y);return v instanceof js?new lt:v instanceof ho?new lt:new ci})();e=w,t=o,n=g([f]),r=x,s=y,i=b}}else{let b=c instanceof lt?te(Jt(h,g([])),d):te(h,d);if(p.hasLength(0))return te(g([f]),b);{let y=p.head,w=p.tail,x=(()=>{let v=o(f,y);return v instanceof js?new lt:v instanceof ho?new lt:new ci})();e=w,t=o,n=g([f]),r=x,s=y,i=b}}}}}function JI(e,t,n,r){for(;;){let s=e,i=t,u=n,o=r;if(s.hasLength(0))return Jt(i,o);if(i.hasLength(0))return Jt(s,o);{let a=s.head,c=s.tail,l=i.head,d=i.tail,h=u(a,l);h instanceof js?(e=c,t=i,n=u,r=te(a,o)):(h instanceof xc,e=s,t=d,n=u,r=te(l,o))}}}function WI(e,t,n){for(;;){let r=e,s=t,i=n;if(r.hasLength(0))return Jt(i,g([]));if(r.hasLength(1)){let u=r.head;return Jt(te(Jt(u,g([])),i),g([]))}else{let u=r.head,o=r.tail.head,a=r.tail.tail,c=JI(u,o,s,g([]));e=a,t=s,n=te(c,i)}}}function QI(e,t,n,r){for(;;){let s=e,i=t,u=n,o=r;if(s.hasLength(0))return Jt(i,o);if(i.hasLength(0))return Jt(s,o);{let a=s.head,c=s.tail,l=i.head,d=i.tail,h=u(a,l);h instanceof js?(e=s,t=d,n=u,r=te(l,o)):(h instanceof xc,e=c,t=i,n=u,r=te(a,o))}}}function XI(e,t,n){for(;;){let r=e,s=t,i=n;if(r.hasLength(0))return Jt(i,g([]));if(r.hasLength(1)){let u=r.head;return Jt(te(Jt(u,g([])),i),g([]))}else{let u=r.head,o=r.tail.head,a=r.tail.tail,c=QI(u,o,s,g([]));e=a,t=s,n=te(c,i)}}}function KI(e,t,n){for(;;){let r=e,s=t,i=n;if(r.hasLength(0))return g([]);if(r.hasLength(1)&&s instanceof lt)return r.head;if(r.hasLength(1)&&s instanceof ci){let u=r.head;return Jt(u,g([]))}else s instanceof lt?(e=WI(r,i,g([])),t=new ci,n=i):(e=XI(r,i,g([])),t=new lt,n=i)}}function jr(e,t){if(e.hasLength(0))return g([]);if(e.hasLength(1)){let n=e.head;return g([n])}else{let n=e.head,r=e.tail.head,s=e.tail.tail,i=(()=>{let o=t(n,r);return o instanceof js?new lt:o instanceof ho?new lt:new ci})(),u=GI(s,t,g([n]),i,r,g([]));return KI(u,new lt,t)}}function JS(e,t,n){if(e.hasLength(0))return g([[t,n]]);if(e.atLeastLength(1)&&dn(e.head[0],t)){e.head[0];let r=e.tail;return te([t,n],r)}else{let r=e.head,s=e.tail;return te(r,JS(s,t,n))}}function re(e,t){if(e.isOk()){let n=e[0];return new G(t(n))}else{let n=e[0];return new xe(n)}}function ch(e,t){if(e.isOk()){let n=e[0];return new G(n)}else{let n=e[0];return new xe(t(n))}}function on(e,t){if(e.isOk()){let n=e[0];return t(n)}else{let n=e[0];return new xe(n)}}function YI(e,t){return on(e,t)}function Me(e,t){return e.isOk()?e[0]:t}function Eb(e){return Ab(e,t=>t)}class If extends S{}class Ob extends S{constructor(t,n){super(),this[0]=t,this[1]=n}}let WS=class extends S{constructor(t){super(),this.continuation=t}};class QS extends S{constructor(t,n){super(),this.element=t,this.accumulator=n}}function XS(e,t){return()=>{let n=t(e);if(n instanceof QS){let r=n.element,s=n.accumulator;return new Ob(r,XS(s,t))}else return new If}}function ZI(e,t){let r=XS(e,t);return new WS(r)}function eN(e){return ZI(void 0,t=>new QS(e(),void 0))}function tN(e){return eN(()=>e)}function nN(e,t,n){for(;;){let r=e,s=t,i=n,u=r();if(u instanceof Ob){let o=u[0];e=u[1],t=s,n=s(i,o)}else return i}}function rN(e,t,n){let r=e.continuation;return nN(r,n,t)}function sN(e){let n=rN(e,g([]),(r,s)=>te(s,r));return Bn(n)}function KS(e,t){return()=>{if(t>0){let r=e();if(r instanceof If)return new If;{let s=r[0],i=r[1];return new Ob(s,KS(i,t-1))}}else return new If}}function iN(e,t){let n=e.continuation,r=KS(n,t);return new WS(r)}function uN(e,t){return LN(e,t)}function YS(e){return UN(e)}function lh(e){return e}function oN(e,t){return uN(e,lh(t))}function la(e){return e}function aN(e,t){return FN(e,t)}function Rw(e){return e===""}function Bo(e){return PN(e)}function Zf(e,t,n){let s=lh(e),i=MN(s,t,n);return la(i)}function ed(e){return jN(e)}function Xn(e,t){let r=lh(e),s=oN(r,t);return la(s)}function cN(e){let n=YS(e);return la(n)}function ZS(e,t){let n=tN(e),r=iN(n,t),s=sN(r);return cN(s)}function Uo(e,t){return BN(e,t)}function lN(e){return zN(e)}function e2(e,t){if(t==="")return f2(e);{let r=lh(e),s=aN(r,t);return Z(s,la)}}function Cg(e){let t=zs(e);return la(t)}class qo extends S{constructor(t,n,r){super(),this.expected=t,this.found=n,this.path=r}}function Br(e){return e}function t2(e){return e}function n2(e){return m2(e)}function nc(e){return e8(e)}function fN(e){return t8(e)}function dN(e){return n8(e)}function r2(e){return t=>{if(e.hasLength(0))return new xe(g([new qo("another type",n2(t),g([]))]));{let n=e.head,r=e.tail,s=n(t);if(s.isOk()){let i=s[0];return new G(i)}else return r2(r)(t)}}}function dt(e){return e.isOk()?g([]):e[0]}function hN(e,t){return n=>{let r=t(n);if(r.isOk()){let s=r[0];return new G(e(s))}else{let s=r;return new xe(dt(s))}}}function Ac(e,t){let n=Br(t),r=r2(g([$e,i=>re(nc(i),se)])),s=(()=>{let i=r(n);if(i.isOk())return i[0];{let u=g(["<",n2(n),">"]),o=YS(u);return la(o)}})();return e.withFields({path:te(s,e.path)})}function s2(e){return t=>on(dN(t),n=>{let s=Ab(n,e);return _c(s,i=>Ac(i,"*"))})}function _c(e,t){return ch(e,n=>Z(n,t))}function $e(e){return ZN(e)}function Ie(e,t){return n=>{let r=new qo("field","nothing",g([]));return on(b2(n,e),s=>{let u=Rg(s,g([r])),o=on(u,t);return _c(o,a=>Ac(a,e))})}}function Cr(e,t){return n=>on(b2(n,e),r=>{if(r instanceof J)return new G(new J);{let i=r[0],u=s8(i,t);return _c(u,o=>Ac(o,e))}})}function Nf(e,t){return n=>on(r8(n),r=>on((()=>{let i=Qt(r);return Ab(i,u=>{let o=u[0],a=u[1];return on((()=>{let c=e(o);return _c(c,l=>Ac(l,"keys"))})(),c=>on((()=>{let l=t(a);return _c(l,d=>Ac(d,"values"))})(),l=>new G([c,l])))})})(),s=>new G(Xt(s))))}function i2(e,t,n){return r=>{let s=t(r),i=n(r);if(s.isOk()&&i.isOk()){let u=s[0],o=i[0];return new G(e(u,o))}else{let u=s,o=i;return new xe(Un(g([dt(u),dt(o)])))}}}function u2(e,t,n,r){return s=>{let i=t(s),u=n(s),o=r(s);if(i.isOk()&&u.isOk()&&o.isOk()){let a=i[0],c=u[0],l=o[0];return new G(e(a,c,l))}else{let a=i,c=u,l=o;return new xe(Un(g([dt(a),dt(c),dt(l)])))}}}function pN(e,t,n,r,s){return i=>{let u=t(i),o=n(i),a=r(i),c=s(i);if(u.isOk()&&o.isOk()&&a.isOk()&&c.isOk()){let l=u[0],d=o[0],h=a[0],f=c[0];return new G(e(l,d,h,f))}else{let l=u,d=o,h=a,f=c;return new xe(Un(g([dt(l),dt(d),dt(h),dt(f)])))}}}function gN(e,t,n,r,s,i,u,o,a,c){return l=>{let d=t(l),h=n(l),f=r(l),p=s(l),m=i(l),b=u(l),y=o(l),w=a(l),x=c(l);if(d.isOk()&&h.isOk()&&f.isOk()&&p.isOk()&&m.isOk()&&b.isOk()&&y.isOk()&&w.isOk()&&x.isOk()){let v=d[0],_=h[0],T=f[0],$=p[0],z=m[0],W=b[0],pe=y[0],F=w[0],ae=x[0];return new G(e(v,_,T,$,z,W,pe,F,ae))}else{let v=d,_=h,T=f,$=p,z=m,W=b,pe=y,F=w,ae=x;return new xe(Un(g([dt(v),dt(_),dt(T),dt($),dt(z),dt(W),dt(pe),dt(F),dt(ae)])))}}}const kw=new WeakMap,a0=new DataView(new ArrayBuffer(8));let c0=0;function Dg(e){const t=kw.get(e);if(t!==void 0)return t;const n=c0++;return c0===2147483647&&(c0=0),kw.set(e,n),n}function Mg(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}function Ib(e){let t=0;const n=e.length;for(let r=0;r<n;r++)t=Math.imul(31,t)+e.charCodeAt(r)|0;return t}function o2(e){a0.setFloat64(0,e);const t=a0.getInt32(0),n=a0.getInt32(4);return Math.imul(73244475,t>>16^t)^n}function mN(e){return Ib(e.toString())}function bN(e){const t=Object.getPrototypeOf(e);if(t!==null&&typeof t.hashCode=="function")try{const r=e.hashCode(e);if(typeof r=="number")return r}catch{}if(e instanceof Promise||e instanceof WeakSet||e instanceof WeakMap)return Dg(e);if(e instanceof Date)return o2(e.getTime());let n=0;if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),Array.isArray(e)||e instanceof Uint8Array)for(let r=0;r<e.length;r++)n=Math.imul(31,n)+tr(e[r])|0;else if(e instanceof Set)e.forEach(r=>{n=n+tr(r)|0});else if(e instanceof Map)e.forEach((r,s)=>{n=n+Mg(tr(r),tr(s))|0});else{const r=Object.keys(e);for(let s=0;s<r.length;s++){const i=r[s],u=e[i];n=n+Mg(tr(u),Ib(i))|0}}return n}function tr(e){if(e===null)return 1108378658;if(e===void 0)return 1108378659;if(e===!0)return 1108378657;if(e===!1)return 1108378656;switch(typeof e){case"number":return o2(e);case"string":return Ib(e);case"bigint":return mN(e);case"object":return bN(e);case"symbol":return Dg(e);case"function":return Dg(e);default:return 0}}const os=5,Nb=Math.pow(2,os),yN=Nb-1,wN=Nb/2,vN=Nb/4,fn=0,is=1,Cn=2,Nu=3,Rb={type:Cn,bitmap:0,array:[]};function al(e,t){return e>>>t&yN}function fh(e,t){return 1<<al(e,t)}function xN(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),e=e+(e>>4)&252645135,e+=e>>8,e+=e>>16,e&127}function kb(e,t){return xN(e&t-1)}function ar(e,t,n){const r=e.length,s=new Array(r);for(let i=0;i<r;++i)s[i]=e[i];return s[t]=n,s}function SN(e,t,n){const r=e.length,s=new Array(r+1);let i=0,u=0;for(;i<t;)s[u++]=e[i++];for(s[u++]=n;i<r;)s[u++]=e[i++];return s}function Pg(e,t){const n=e.length,r=new Array(n-1);let s=0,i=0;for(;s<t;)r[i++]=e[s++];for(++s;s<n;)r[i++]=e[s++];return r}function a2(e,t,n,r,s,i){const u=tr(t);if(u===r)return{type:Nu,hash:u,array:[{type:fn,k:t,v:n},{type:fn,k:s,v:i}]};const o={val:!1};return cl(Cb(Rb,e,u,t,n,o),e,r,s,i,o)}function cl(e,t,n,r,s,i){switch(e.type){case is:return AN(e,t,n,r,s,i);case Cn:return Cb(e,t,n,r,s,i);case Nu:return _N(e,t,n,r,s,i)}}function AN(e,t,n,r,s,i){const u=al(n,t),o=e.array[u];if(o===void 0)return i.val=!0,{type:is,size:e.size+1,array:ar(e.array,u,{type:fn,k:r,v:s})};if(o.type===fn)return dn(r,o.k)?s===o.v?e:{type:is,size:e.size,array:ar(e.array,u,{type:fn,k:r,v:s})}:(i.val=!0,{type:is,size:e.size,array:ar(e.array,u,a2(t+os,o.k,o.v,n,r,s))});const a=cl(o,t+os,n,r,s,i);return a===o?e:{type:is,size:e.size,array:ar(e.array,u,a)}}function Cb(e,t,n,r,s,i){const u=fh(n,t),o=kb(e.bitmap,u);if(e.bitmap&u){const a=e.array[o];if(a.type!==fn){const l=cl(a,t+os,n,r,s,i);return l===a?e:{type:Cn,bitmap:e.bitmap,array:ar(e.array,o,l)}}const c=a.k;return dn(r,c)?s===a.v?e:{type:Cn,bitmap:e.bitmap,array:ar(e.array,o,{type:fn,k:r,v:s})}:(i.val=!0,{type:Cn,bitmap:e.bitmap,array:ar(e.array,o,a2(t+os,c,a.v,n,r,s))})}else{const a=e.array.length;if(a>=wN){const c=new Array(32),l=al(n,t);c[l]=Cb(Rb,t+os,n,r,s,i);let d=0,h=e.bitmap;for(let f=0;f<32;f++){if(h&1){const p=e.array[d++];c[f]=p}h=h>>>1}return{type:is,size:a+1,array:c}}else{const c=SN(e.array,o,{type:fn,k:r,v:s});return i.val=!0,{type:Cn,bitmap:e.bitmap|u,array:c}}}}function _N(e,t,n,r,s,i){if(n===e.hash){const u=Db(e,r);if(u!==-1)return e.array[u].v===s?e:{type:Nu,hash:n,array:ar(e.array,u,{type:fn,k:r,v:s})};const o=e.array.length;return i.val=!0,{type:Nu,hash:n,array:ar(e.array,o,{type:fn,k:r,v:s})}}return cl({type:Cn,bitmap:fh(e.hash,t),array:[e]},t,n,r,s,i)}function Db(e,t){const n=e.array.length;for(let r=0;r<n;r++)if(dn(t,e.array[r].k))return r;return-1}function td(e,t,n,r){switch(e.type){case is:return TN(e,t,n,r);case Cn:return EN(e,t,n,r);case Nu:return ON(e,r)}}function TN(e,t,n,r){const s=al(n,t),i=e.array[s];if(i!==void 0){if(i.type!==fn)return td(i,t+os,n,r);if(dn(r,i.k))return i}}function EN(e,t,n,r){const s=fh(n,t);if(!(e.bitmap&s))return;const i=kb(e.bitmap,s),u=e.array[i];if(u.type!==fn)return td(u,t+os,n,r);if(dn(r,u.k))return u}function ON(e,t){const n=Db(e,t);if(!(n<0))return e.array[n]}function Mb(e,t,n,r){switch(e.type){case is:return IN(e,t,n,r);case Cn:return NN(e,t,n,r);case Nu:return RN(e,r)}}function IN(e,t,n,r){const s=al(n,t),i=e.array[s];if(i===void 0)return e;let u;if(i.type===fn){if(!dn(i.k,r))return e}else if(u=Mb(i,t+os,n,r),u===i)return e;if(u===void 0){if(e.size<=vN){const o=e.array,a=new Array(e.size-1);let c=0,l=0,d=0;for(;c<s;){const h=o[c];h!==void 0&&(a[l]=h,d|=1<<c,++l),++c}for(++c;c<o.length;){const h=o[c];h!==void 0&&(a[l]=h,d|=1<<c,++l),++c}return{type:Cn,bitmap:d,array:a}}return{type:is,size:e.size-1,array:ar(e.array,s,u)}}return{type:is,size:e.size,array:ar(e.array,s,u)}}function NN(e,t,n,r){const s=fh(n,t);if(!(e.bitmap&s))return e;const i=kb(e.bitmap,s),u=e.array[i];if(u.type!==fn){const o=Mb(u,t+os,n,r);return o===u?e:o!==void 0?{type:Cn,bitmap:e.bitmap,array:ar(e.array,i,o)}:e.bitmap===s?void 0:{type:Cn,bitmap:e.bitmap^s,array:Pg(e.array,i)}}return dn(r,u.k)?e.bitmap===s?void 0:{type:Cn,bitmap:e.bitmap^s,array:Pg(e.array,i)}:e}function RN(e,t){const n=Db(e,t);if(n<0)return e;if(e.array.length!==1)return{type:Nu,hash:e.hash,array:Pg(e.array,n)}}function c2(e,t){if(e===void 0)return;const n=e.array,r=n.length;for(let s=0;s<r;s++){const i=n[s];if(i!==void 0){if(i.type===fn){t(i.v,i.k);continue}c2(i,t)}}}class Ut{static fromObject(t){const n=Object.keys(t);let r=Ut.new();for(let s=0;s<n.length;s++){const i=n[s];r=r.set(i,t[i])}return r}static fromMap(t){let n=Ut.new();return t.forEach((r,s)=>{n=n.set(s,r)}),n}static new(){return new Ut(void 0,0)}constructor(t,n){this.root=t,this.size=n}get(t,n){if(this.root===void 0)return n;const r=td(this.root,0,tr(t),t);return r===void 0?n:r.v}set(t,n){const r={val:!1},s=this.root===void 0?Rb:this.root,i=cl(s,0,tr(t),t,n,r);return i===this.root?this:new Ut(i,r.val?this.size+1:this.size)}delete(t){if(this.root===void 0)return this;const n=Mb(this.root,0,tr(t),t);return n===this.root?this:n===void 0?Ut.new():new Ut(n,this.size-1)}has(t){return this.root===void 0?!1:td(this.root,0,tr(t),t)!==void 0}entries(){if(this.root===void 0)return[];const t=[];return this.forEach((n,r)=>t.push([r,n])),t}forEach(t){c2(this.root,t)}hashCode(){let t=0;return this.forEach((n,r)=>{t=t+Mg(tr(n),tr(r))|0}),t}equals(t){if(!(t instanceof Ut)||this.size!==t.size)return!1;let n=!0;return this.forEach((r,s)=>{n=n&&dn(t.get(s,!r),r)}),n}}const l2=void 0,Cw={};function kN(e){return/^[-+]?(\d+)$/.test(e)?new G(parseInt(e)):new xe(l2)}function CN(e){return e.toString()}function DN(e){const t=e.toString();return t.indexOf(".")>=0?t:t+".0"}function MN(e,t,n){return typeof e.replaceAll<"u"?e.replaceAll(t,n):e.replace(new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g"),n)}function PN(e){if(e==="")return 0;const t=d2(e);if(t){let n=0;for(const r of t)n++;return n}else return e.match(/./gsu).length}function f2(e){const t=d2(e);return t?tt.fromArray(Array.from(t).map(n=>n.segment)):tt.fromArray(e.match(/./gsu))}function d2(e){if(Intl&&Intl.Segmenter)return new Intl.Segmenter().segment(e)[Symbol.iterator]()}function jN(e){return e.toLowerCase()}function LN(e,t){return e+t}function FN(e,t){return tt.fromArray(e.split(t))}function BN(e,t){const n=e[Symbol.iterator]();let r=n.next().value||"",s=n.next();for(;!s.done;)r=r+t+s.value,s=n.next();return r}function UN(e){let t="";for(const n of e)t=t+n;return t}function qN(e,t){return e.indexOf(t)>=0}const h2=[" ","	",`
`,"\v","\f","\r","","\u2028","\u2029"].join(),$N=new RegExp(`^([${h2}]*)`,"g"),VN=new RegExp(`([${h2}]*)$`,"g");function zN(e){return HN(GN(e))}function HN(e){return e.replace($N,"")}function GN(e){return e.replace(VN,"")}function JN(e){var t;typeof process=="object"&&((t=process.stderr)!=null&&t.write)?process.stderr.write(e+`
`):typeof Deno=="object"?Deno.stderr.writeSync(new TextEncoder().encode(e+`
`)):console.log(e)}function WN(e){return Math.floor(e)}function Dw(e){return Math.round(e)}function p2(){const e=Math.random();return e===1?p2():e}function QN(){return Ut.new()}function l0(e){return e.size}function Qt(e){return tt.fromArray(e.entries())}function XN(e,t){return t.delete(e)}function g2(e,t){const n=e.get(t,Cw);return n===Cw?new xe(l2):new G(n)}function KN(e,t,n){return n.set(e,t)}function m2(e){if(typeof e=="string")return"String";if(typeof e=="boolean")return"Bool";if(e instanceof ol)return"Result";if(e instanceof tt)return"List";if(e instanceof Fo)return"BitArray";if(e instanceof Ut)return"Dict";if(Number.isInteger(e))return"Int";if(Array.isArray(e))return`Tuple of ${e.length} elements`;if(typeof e=="number")return"Float";if(e===null)return"Null";if(e===void 0)return"Nil";{const t=typeof e;return t.charAt(0).toUpperCase()+t.slice(1)}}function Si(e,t){return YN(e,m2(t))}function YN(e,t){return new xe(tt.fromArray([new qo(e,t,tt.fromArray([]))]))}function ZN(e){return typeof e=="string"?new G(e):Si("String",e)}function e8(e){return Number.isInteger(e)?new G(e):Si("Int",e)}function t8(e){return typeof e=="boolean"?new G(e):Si("Bool",e)}function n8(e){return Array.isArray(e)?new G(tt.fromArray(e)):e instanceof tt?new G(e):Si("List",e)}function r8(e){if(e instanceof Ut)return new G(e);if(e instanceof Map||e instanceof WeakMap)return new G(Ut.fromMap(e));if(e==null||typeof e!="object")return Si("Dict",e);const t=Object.getPrototypeOf(e);return t===Object.prototype||t===null?new G(Ut.fromObject(e)):Si("Dict",e)}function s8(e,t){if(e==null||e instanceof J)return new G(new J);e instanceof k&&(e=e[0]);const n=t(e);return n.isOk()?new G(new k(n[0])):n}function b2(e,t){const n=()=>Si("Dict",e);if(e instanceof Ut||e instanceof WeakMap||e instanceof Map){const r=g2(e,t);return new G(r.isOk()?new k(r[0]):new J)}else return e===null?n():Object.getPrototypeOf(e)==Object.prototype?Mw(e,t,()=>new G(new J)):Mw(e,t,n)}function Mw(e,t,n){try{return t in e?new G(new k(e[t])):n()}catch{return n()}}function zs(e){const t=typeof e;if(e===!0)return"True";if(e===!1)return"False";if(e===null)return"//js(null)";if(e===void 0)return"Nil";if(t==="string")return i8(e);if(t==="bigint"||t==="number")return e.toString();if(Array.isArray(e))return`#(${e.map(zs).join(", ")})`;if(e instanceof tt)return c8(e);if(e instanceof VS)return f8(e);if(e instanceof Fo)return l8(e);if(e instanceof S)return a8(e);if(e instanceof Ut)return u8(e);if(e instanceof Set)return`//js(Set(${[...e].map(zs).join(", ")}))`;if(e instanceof RegExp)return`//js(${e})`;if(e instanceof Date)return`//js(Date("${e.toISOString()}"))`;if(e instanceof Function){const n=[];for(const r of Array(e.length).keys())n.push(String.fromCharCode(r+97));return`//fn(${n.join(", ")}) { ... }`}return o8(e)}function i8(e){let t='"';for(let n=0;n<e.length;n++){let r=e[n];switch(r){case`
`:t+="\\n";break;case"\r":t+="\\r";break;case"	":t+="\\t";break;case"\f":t+="\\f";break;case"\\":t+="\\\\";break;case'"':t+='\\"';break;default:r<" "||r>"~"&&r<" "?t+="\\u{"+r.charCodeAt(0).toString(16).toUpperCase().padStart(4,"0")+"}":t+=r}}return t+='"',t}function u8(e){let t="dict.from_list([",n=!0;return e.forEach((r,s)=>{n||(t=t+", "),t=t+"#("+zs(s)+", "+zs(r)+")",n=!1}),t+"])"}function o8(e){var i,u;const t=((u=(i=Object.getPrototypeOf(e))==null?void 0:i.constructor)==null?void 0:u.name)||"Object",n=[];for(const o of Object.keys(e))n.push(`${zs(o)}: ${zs(e[o])}`);const r=n.length?" "+n.join(", ")+" ":"";return`//js(${t==="Object"?"":t+" "}{${r}})`}function a8(e){const t=Object.keys(e).map(n=>{const r=zs(e[n]);return isNaN(parseInt(n))?`${n}: ${r}`:r}).join(", ");return t?`${e.constructor.name}(${t})`:e.constructor.name}function c8(e){return`[${e.toArray().map(zs).join(", ")}]`}function l8(e){return`<<${Array.from(e.buffer).join(", ")}>>`}function f8(e){return`//utfcodepoint(${String.fromCodePoint(e.value)})`}function ll(){return QN()}function vn(e,t){return g2(e,t)}function Ai(e,t,n){return KN(t,n,e)}function d8(e,t){for(;;){let n=e,r=t;if(n.hasLength(0))return r;{let s=n.head;e=n.tail,t=Ai(r,s[0],s[1])}}}function Xt(e){return d8(e,ll())}function y2(e,t){for(;;){let n=e,r=t;if(n.hasLength(0))return r;{let s=n.head;e=n.tail,t=te(s,r)}}}function h8(e,t){for(;;){let n=e,r=t;if(n.hasLength(0))return y2(r,g([]));{let s=n.head;e=n.tail,t=te(s[0],r)}}}function p8(e){let t=Qt(e);return h8(t,g([]))}function g8(e){return p8(e)}function m8(e,t){for(;;){let n=e,r=t;if(n.hasLength(0))return y2(r,g([]));{let s=n.head;e=n.tail,t=te(s[1],r)}}}function b8(e){let t=Qt(e);return m8(t,g([]))}function $o(e){return b8(e)}function y8(e,t){return Ai(e,t[0],t[1])}function w8(e,t){for(;;){let n=e,r=t;if(n.hasLength(0))return r;{let s=n.head;e=n.tail,t=y8(r,s)}}}function v8(e,t){let r=Qt(t);return w8(r,e)}function x8(e,t){return v8(e,t)}function S8(e,t){return XN(t,e)}function Rf(e,t){for(;;){let n=e,r=t;if(r.hasLength(0))return n;{let s=r.head,i=r.tail;e=S8(n,s),t=i}}}function Pw(e,t,n){let s=vn(e,t),i=vb(s),u=n(i);return(o=>Ai(e,t,o))(u)}class A8 extends S{constructor(t,n,r,s,i,u,o){super(),this.scheme=t,this.userinfo=n,this.host=r,this.port=s,this.path=i,this.query=u,this.fragment=o}}function _8(e,t){for(;;){let n=e,r=t;if(n.hasLength(0))return Bn(r);{let s=n.head,i=n.tail,u=s===""||s==="."?r:s===".."&&r.hasLength(0)?g([]):s===".."&&r.atLeastLength(1)?r.tail:te(s,r);e=i,t=u}}}function T8(e){return _8(e,g([]))}function E8(e){return T8(e2(e,"/"))}function O8(e){return e?1:0}function w2(e){return e?"True":"False"}function Pb(e,t,n){return e?t:n()}function I8(e){return Object.fromEntries(e)}function N8(){return null}function Dr(e){return e}function R8(){return N8()}function f0(e,t){if(e instanceof k){let n=e[0];return t(n)}else return R8()}function Bi(e){return I8(e)}class fl extends S{constructor(t){super(),this.all=t}}function Kt(e){return new fl(g([(t,n)=>e(t)]))}function k8(e,t){return new fl(g([(n,r)=>r(e,t)]))}function M(){return new fl(g([]))}function jb(e){return new fl(Os(e,g([]),(t,n)=>{let r=n.all;return _b(t,r)}))}function Yr(e,t){return new fl(Z(e.all,n=>(r,s)=>n(i=>r(t(i)),s)))}let nd=class extends S{constructor(t){super(),this.content=t}},Ye=class extends S{constructor(t,n,r,s,i,u,o){super(),this.key=t,this.namespace=n,this.tag=r,this.attrs=s,this.children=i,this.self_closing=u,this.void=o}},po=class extends S{constructor(t){super(),this.subtree=t}};class Tc extends S{constructor(t,n){super(),this.elements=t,this.key=n}}class rd extends S{constructor(t,n,r){super(),this[0]=t,this[1]=n,this.as_property=r}}let v2=class extends S{constructor(t,n){super(),this[0]=t,this[1]=n}};function me(e,t){return new rd(e,Br(t),!1)}function dl(e,t){return new rd(e,Br(t),!0)}function C8(e,t){return new v2("on"+e,t)}function D8(e,t){if(e instanceof rd){let n=e[0],r=e[1],s=e.as_property;return new rd(n,r,s)}else{let n=e[0],r=e[1];return new v2(n,s=>re(r(s),t))}}function xn(e){return me("style",Os(e,"",(t,n)=>{let r=n[0],s=n[1];return t+r+":"+s+";"}))}function A(e){return me("class",e)}function M8(){return A("")}function P8(e){return me("class",(()=>{let n=GS(e,r=>r[1]?new G(r[0]):new xe(void 0));return Uo(n," ")})())}function Ue(e){return me("id",e)}function He(e){return me("type",e)}function vt(e){return me("value",e)}function x2(e){return dl("checked",e)}function d0(e){return me("placeholder",e)}function go(e){return dl("selected",e)}function jw(e){return dl("disabled",e)}function Sn(e){return me("name",e)}function To(e){return me("for",e)}function an(e){return me("href",e)}function Qe(e,t,n){return e==="area"?new Ye("","",e,t,g([]),!1,!0):e==="base"?new Ye("","",e,t,g([]),!1,!0):e==="br"?new Ye("","",e,t,g([]),!1,!0):e==="col"?new Ye("","",e,t,g([]),!1,!0):e==="embed"?new Ye("","",e,t,g([]),!1,!0):e==="hr"?new Ye("","",e,t,g([]),!1,!0):e==="img"?new Ye("","",e,t,g([]),!1,!0):e==="input"?new Ye("","",e,t,g([]),!1,!0):e==="link"?new Ye("","",e,t,g([]),!1,!0):e==="meta"?new Ye("","",e,t,g([]),!1,!0):e==="param"?new Ye("","",e,t,g([]),!1,!0):e==="source"?new Ye("","",e,t,g([]),!1,!0):e==="track"?new Ye("","",e,t,g([]),!1,!0):e==="wbr"?new Ye("","",e,t,g([]),!1,!0):new Ye("","",e,t,n,!1,!1)}function kf(e,t){if(e instanceof Ye){let n=e.namespace,r=e.tag,s=e.attrs,i=e.children,u=e.self_closing,o=e.void;return new Ye(t,n,r,s,i,u,o)}else if(e instanceof po){let n=e.subtree;return new po(()=>kf(n(),t))}else if(e instanceof Tc){let r=e.elements,s=Iu(r,(i,u)=>{if(i instanceof Ye){let o=i.key,a=o===""?t+"-"+se(u):t+"-"+o;return kf(i,a)}else return kf(i,t)});return new Tc(s,t)}else return e}function Su(e,t){return e(Z(t,n=>{let r=n[0],s=n[1];return kf(s,r)}))}function H(e){return new nd(e)}function _n(){return new nd("")}function j8(e){return Tb(e,g([]),(t,n)=>{if(n instanceof Tc){let r=n.elements;return _b(r,t)}else return te(n,t)})}function Lr(e){let t=j8(e);return new Tc(t,"")}function Zr(e,t){if(e instanceof nd){let n=e.content;return new nd(n)}else if(e instanceof po){let n=e.subtree;return new po(()=>Zr(n(),t))}else if(e instanceof Ye){let n=e.key,r=e.namespace,s=e.tag,i=e.attrs,u=e.children,o=e.self_closing,a=e.void;return new po(()=>new Ye(n,r,s,Z(i,c=>D8(c,t)),Z(u,c=>Zr(c,t)),o,a))}else{let n=e.elements,r=e.key;return new po(()=>new Tc(Z(n,s=>Zr(s,t)),r))}}let S2=class extends S{constructor(t){super(),this[0]=t}};class lu extends S{constructor(t){super(),this[0]=t}}class A2 extends S{}class _2 extends S{constructor(t){super(),this[0]=t}}function Lw(e,t,n,r=!1){let s,i=[{prev:e,next:t,parent:e.parentNode}];for(;i.length;){let{prev:u,next:o,parent:a}=i.pop();if(o.subtree!==void 0&&(o=o.subtree()),o.content!==void 0)if(u)if(u.nodeType===Node.TEXT_NODE)u.textContent!==o.content&&(u.textContent=o.content),s??(s=u);else{const c=document.createTextNode(o.content);a.replaceChild(c,u),s??(s=c)}else{const c=document.createTextNode(o.content);a.appendChild(c),s??(s=c)}else if(o.tag!==void 0){const c=L8({prev:u,next:o,dispatch:n,stack:i,isComponent:r});u?u!==c&&a.replaceChild(c,u):a.appendChild(c),s??(s=c)}else o.elements!==void 0?dh(o,c=>{i.unshift({prev:u,next:c,parent:a}),u=u==null?void 0:u.nextSibling}):o.subtree!==void 0&&i.push({prev:u,next:o,parent:a})}return s}function L8({prev:e,next:t,dispatch:n,stack:r}){const s=t.namespace||"http://www.w3.org/1999/xhtml",i=e&&e.nodeType===Node.ELEMENT_NODE&&e.localName===t.tag&&e.namespaceURI===(t.namespace||"http://www.w3.org/1999/xhtml"),u=i?e:s?document.createElementNS(s,t.tag):document.createElement(t.tag);let o;if(rc.has(u))o=rc.get(u);else{const w=new Map;rc.set(u,w),o=w}const a=i?new Set(o.keys()):null,c=i?new Set(Array.from(e.attributes,w=>w.name)):null;let l=null,d=null,h=null;for(const w of t.attrs){const x=w[0],v=w[1];if(w.as_property)u[x]!==v&&(u[x]=v),i&&c.delete(x);else if(x.startsWith("on")){const _=x.slice(2),T=n(v);o.has(_)||u.addEventListener(_,sc),o.set(_,T),i&&a.delete(_)}else if(x.startsWith("data-lustre-on-")){const _=x.slice(15),T=n(F8);o.has(_)||u.addEventListener(_,sc),o.set(_,T),u.setAttribute(x,v)}else x==="class"?l=l===null?v:l+" "+v:x==="style"?d=d===null?v:d+v:x==="dangerous-unescaped-html"?h=v:(u.getAttribute(x)!==v&&u.setAttribute(x,v),(x==="value"||x==="selected")&&(u[x]=v),i&&c.delete(x))}if(l!==null&&(u.setAttribute("class",l),i&&c.delete("class")),d!==null&&(u.setAttribute("style",d),i&&c.delete("style")),i){for(const w of c)u.removeAttribute(w);for(const w of a)o.delete(w),u.removeEventListener(w,sc)}if(t.key!==void 0&&t.key!=="")u.setAttribute("data-lustre-key",t.key);else if(h!==null)return u.innerHTML=h,u;let f=u.firstChild,p=null,m=null,b=null,y=t.children[Symbol.iterator]().next().value;i&&y!==void 0&&y.key!==void 0&&y.key!==""&&(p=new Set,m=Fw(e),b=Fw(t));for(const w of t.children)dh(w,x=>{x.key!==void 0&&p!==null?f=B8(f,x,u,r,b,m,p):(r.unshift({prev:f,next:x,parent:u}),f=f==null?void 0:f.nextSibling)});for(;f;){const w=f.nextSibling;u.removeChild(f),f=w}return u}const rc=new WeakMap;function sc(e){const t=e.currentTarget;if(!rc.has(t)){t.removeEventListener(e.type,sc);return}const n=rc.get(t);if(!n.has(e.type)){t.removeEventListener(e.type,sc);return}n.get(e.type)(e)}function F8(e){const t=e.currentTarget,n=t.getAttribute(`data-lustre-on-${e.type}`),r=JSON.parse(t.getAttribute("data-lustre-data")||"{}"),s=JSON.parse(t.getAttribute("data-lustre-include")||"[]");switch(e.type){case"input":case"change":s.push("target.value");break}return{tag:n,data:s.reduce((i,u)=>{var a;const o=u.split(".");for(let c=0,l=i,d=e;c<o.length;c++)c===o.length-1?l[o[c]]=d[o[c]]:(l[a=o[c]]??(l[a]={}),d=d[o[c]],l=l[o[c]]);return i},{data:r})}}function Fw(e){const t=new Map;if(e)for(const n of e.children)dh(n,r=>{var i;const s=(r==null?void 0:r.key)||((i=r==null?void 0:r.getAttribute)==null?void 0:i.call(r,"data-lustre-key"));s&&t.set(s,r)});return t}function B8(e,t,n,r,s,i,u){for(;e&&!s.has(e.getAttribute("data-lustre-key"));){const a=e.nextSibling;n.removeChild(e),e=a}if(i.size===0)return dh(t,a=>{r.unshift({prev:e,next:a,parent:n}),e=e==null?void 0:e.nextSibling}),e;if(u.has(t.key))return console.warn(`Duplicate key found in Lustre vnode: ${t.key}`),r.unshift({prev:null,next:t,parent:n}),e;u.add(t.key);const o=i.get(t.key);if(!o&&!e)return r.unshift({prev:null,next:t,parent:n}),e;if(!o&&e!==null){const a=document.createTextNode("");return n.insertBefore(a,e),r.unshift({prev:a,next:t,parent:n}),e}return!o||o===e?(r.unshift({prev:e,next:t,parent:n}),e=e==null?void 0:e.nextSibling,e):(n.insertBefore(o,e),r.unshift({prev:o,next:t,parent:n}),e)}function dh(e,t){if(e.elements!==void 0)for(const n of e.elements)t(n);else t(e)}var Er,ks,es,Cs,Mo,Ds,Po,yu,Fn,Cf,jg,T2,E2;const xw=class xw{constructor([t,n],r,s,i=document.body,u=!1){je(this,Fn);je(this,Er,null);je(this,ks,[]);je(this,es,[]);je(this,Cs,!1);je(this,Mo,!1);je(this,Ds,null);je(this,Po,null);je(this,yu,null);ue(this,Ds,t),ue(this,Po,r),ue(this,yu,s),ue(this,Er,i),ue(this,es,n.all.toArray()),ue(this,Cs,!0),ue(this,Mo,u),window.requestAnimationFrame(()=>br(this,Fn,Cf).call(this))}static start(t,n,r,s,i){if(!hh())return new xe(new Lb);const u=n instanceof HTMLElement?n:document.querySelector(n);if(!u)return new xe(new G8(n));const o=new xw(r(t),s,i,u);return new G(a=>o.send(a))}send(t){switch(!0){case t instanceof lu:{B(this,ks).push(t[0]),br(this,Fn,Cf).call(this);return}case t instanceof A2:{br(this,Fn,E2).call(this);return}case t instanceof S2:{br(this,Fn,T2).call(this,t[0]);return}default:return}}emit(t,n){B(this,Er).dispatchEvent(new CustomEvent(t,{bubbles:!0,detail:n,composed:!0}))}};Er=new WeakMap,ks=new WeakMap,es=new WeakMap,Cs=new WeakMap,Mo=new WeakMap,Ds=new WeakMap,Po=new WeakMap,yu=new WeakMap,Fn=new WeakSet,Cf=function(){if(br(this,Fn,jg).call(this),B(this,Cs)){const t=B(this,yu).call(this,B(this,Ds)),n=r=>s=>{const i=r(s);i instanceof G&&this.send(new lu(i[0]))};ue(this,Cs,!1),ue(this,Er,Lw(B(this,Er),t,n,B(this,Mo)))}},jg=function(t=0){for(;B(this,ks).length;){const[n,r]=B(this,Po).call(this,B(this,Ds),B(this,ks).shift());B(this,Cs)||ue(this,Cs,B(this,Ds)!==n),ue(this,Ds,n),ue(this,es,B(this,es).concat(r.all.toArray()))}for(;B(this,es).length;)B(this,es).shift()(n=>this.send(new lu(n)),(n,r)=>this.emit(n,r));B(this,ks).length&&(t<5?br(this,Fn,jg).call(this,++t):window.requestAnimationFrame(()=>br(this,Fn,Cf).call(this)))},T2=function(t){switch(!0){case t instanceof _2:{const n=B(this,yu).call(this,t[0]),r=s=>i=>{const u=s(i);u instanceof G&&this.send(new lu(u[0]))};ue(this,ks,[]),ue(this,es,[]),ue(this,Cs,!1),ue(this,Er,Lw(B(this,Er),n,r,B(this,Mo)))}}},E2=function(){B(this,Er).remove(),ue(this,Er,null),ue(this,Ds,null),ue(this,ks,[]),ue(this,es,[]),ue(this,Cs,!1),ue(this,Po,()=>{}),ue(this,yu,()=>{})};let sd=xw;const U8=(e,t,n)=>sd.start(n,t,e.init,e.update,e.view),hh=()=>globalThis.window&&window.document,q8=e=>e.preventDefault();function $8({init:e,update:t,view:n,on_attribute_change:r},s){if(!hh())return new xe(new Lb);if(!s.includes("-"))return new xe(new z8(s));if(window.customElements.get(s))return new xe(new H8(s));const i=V8(e,t,n,r);window.customElements.define(s,i);for(const u of document.querySelectorAll(s)){const o=new i;for(const a of u.attributes)o.setAttribute(a.name,a.value);u.replaceWith(o)}return new G(void 0)}function V8(e,t,n,r){var s,i,u,o;return o=class extends HTMLElement{constructor(){var l;super();je(this,s,document.createElement("div"));je(this,i,null);je(this,u,null);R(this,"slotContent",[]);ue(this,u,this.attachShadow({mode:"closed"})),(l=r[0])==null||l.forEach((d,h)=>{Object.defineProperty(this,h,{get(){return this[`_${h}`]||this.getAttribute(h)},set(f){const p=this[h],m=d(f);m instanceof G&&!dn(p,f)&&(B(this,i)?B(this,i).send(new lu(m[0])):window.requestAnimationFrame(()=>B(this,i).send(new lu(m[0])))),this[`_${h}`]=f}})})}static get observedAttributes(){var l;return((l=r[0])==null?void 0:l.entries().map(([d,h])=>d))??[]}connectedCallback(){for(const l of document.querySelectorAll("link"))l.rel==="stylesheet"&&B(this,u).appendChild(l.cloneNode(!0));for(const l of document.querySelectorAll("style"))B(this,u).appendChild(l.cloneNode(!0));ue(this,i,new sd(e(),t,n,B(this,s),!0)),B(this,u).append(B(this,s))}attributeChangedCallback(l,d,h){this[l]=h}disconnectedCallback(){B(this,i).send(new A2)}get adoptedStyleSheets(){return B(this,u).adoptedStyleSheets}set adoptedStyleSheets(l){B(this,u).adoptedStyleSheets=l}},s=new WeakMap,i=new WeakMap,u=new WeakMap,o}class O2 extends S{constructor(t,n,r,s){super(),this.init=t,this.update=n,this.view=r,this.on_attribute_change=s}}class z8 extends S{constructor(t){super(),this.name=t}}class H8 extends S{constructor(t){super(),this.name=t}}class G8 extends S{constructor(t){super(),this.selector=t}}let Lb=class extends S{};function I2(e,t,n){return new O2(e,t,n,new J)}function J8(e,t,n,r){return new O2(e,t,n,new k(r))}function N2(e){return new lu(e)}function R2(e,t,n){return Pb(!hh(),new xe(new Lb),()=>U8(e,t,n))}function Yt(e){return H(e)}function W8(e,t){return Qe("h1",e,t)}function Xr(e,t){return Qe("h2",e,t)}function Q8(e,t){return Qe("main",e,t)}function $u(e,t){return Qe("nav",e,t)}function Ru(e,t){return Qe("section",e,t)}function P(e,t){return Qe("div",e,t)}function k2(e,t){return Qe("li",e,t)}function X8(e,t){return Qe("ol",e,t)}function K8(e,t){return Qe("ul",e,t)}function cn(e,t){return Qe("a",e,t)}function _r(e,t){return Qe("span",e,t)}function qn(e,t){return Qe("button",e,t)}function qt(e,t){return Qe("fieldset",e,t)}function Fb(e,t){return Qe("form",e,t)}function Rr(e){return Qe("input",e,g([]))}function _i(e,t){return Qe("label",e,t)}function Ec(e,t){return Qe("legend",e,t)}function mo(e,t){return Qe("option",e,g([H(t)]))}function id(e,t){return Qe("select",e,t)}function Bb(e,t){return Qe("textarea",e,g([H(t)]))}const Y8={handle_external_links:!1,handle_internal_links:!0},Z8=(e,t=Y8)=>{document.body.addEventListener("click",n=>{const r=C2(n.target);if(r)try{const s=new URL(r.href),i=Bw(s),u=s.host!==window.location.host;return!t.handle_external_links&&u||!t.handle_internal_links&&!u?void 0:(n.preventDefault(),u||(window.history.pushState({},"",r.href),window.requestAnimationFrame(()=>{var o;s.hash&&((o=document.getElementById(s.hash.slice(1)))==null||o.scrollIntoView())})),e(i))}catch{return}}),window.addEventListener("popstate",n=>{n.preventDefault();const r=new URL(window.location.href),s=Bw(r);window.requestAnimationFrame(()=>{var i;r.hash&&((i=document.getElementById(r.hash.slice(1)))==null||i.scrollIntoView())}),e(s)})},C2=e=>e.tagName==="BODY"?null:e.tagName==="A"?e:C2(e.parentElement),Bw=e=>new A8(e.protocol?new k(e.protocol):new J,new J,e.host?new k(e.host):new J,e.port?new k(Number(e.port)):new J,e.pathname,e.search?new k(e.search.slice(1)):new J,e.hash?new k(e.hash.slice(1)):new J);function eR(e){return Kt(t=>Pb(!hh(),void 0,()=>Z8(n=>{let s=e(n);return t(s)})))}function Ii(e){let n=Cg(e);return JN(n),e}function fu(e){return t=>n=>e(t,n)}function Uw(e,t){return e(t)}function tR(){let e=new Date;return[e.getFullYear(),e.getMonth()+1,e.getDate()]}class fa extends S{}class hl extends S{}class pl extends S{}class gl extends S{}class ml extends S{}class bl extends S{}class yl extends S{}class wl extends S{}class vl extends S{}class xl extends S{}class Sl extends S{}class nR extends S{}class Oc extends S{}class ph extends S{}class gh extends S{}class mh extends S{}class bh extends S{}class yh extends S{}class Ub extends S{}class sn extends S{constructor(t){super(),this[0]=t}}class rR extends S{constructor(t,n){super(),this.year=t,this.ordinal_day=n}}class sR extends S{constructor(t,n,r){super(),this.year=t,this.month=n,this.day=r}}class iR extends S{}class qw extends S{}class ud extends S{}class Fe extends S{}class uR extends S{}class oR extends S{}class aR extends S{}class cR extends S{}class Al extends S{}class lR extends S{}class fR extends S{}class dR extends S{}class hR extends S{}class pR extends S{}class gR extends S{}function mR(e){return new sn(e)}function Lg(e){return e[0]}function od(e,t){let n=e[0],r=t[0];return xi(n,r)}function qb(e){return e instanceof fa?1:e instanceof hl?2:e instanceof pl?3:e instanceof gl?4:e instanceof ml?5:e instanceof bl?6:e instanceof yl?7:e instanceof wl?8:e instanceof vl?9:e instanceof xl?10:e instanceof Sl?11:12}function bR(e){return vc(qb(e)+2,3)}function wh(e){let t=uh(1,e);return t===1?new fa:t===2?new hl:t===3?new pl:t===4?new gl:t===5?new ml:t===6?new bl:t===7?new yl:t===8?new wl:t===9?new vl:t===10?new xl:t===11?new Sl:new nR}function yR(e){let t=e*3-2;return wh(t)}function wR(e){return e instanceof Oc?1:e instanceof ph?2:e instanceof gh?3:e instanceof mh?4:e instanceof bh?5:e instanceof yh?6:7}function vR(e){let t=uh(1,e);return t===1?new Oc:t===2?new ph:t===3?new gh:t===4?new mh:t===5?new bh:t===6?new yh:new Ub}function ic(e,t){return(e>0&&t<0||e<0&&t>0)&&or(e,t)!==0?vc(e,t)-1:vc(e,t)}function _l(e){let t=e-1,n=ic(t,4)-ic(t,100)+ic(t,400);return 365*t+n}function xR(e){return new sn(_l(e)+1)}function Au(e,t){let n=or(e,t);return n>0&&t<0||n<0&&t>0?n+t:n}function D2(e){return Au(e,4)===0&&Au(e,100)!==0||Au(e,400)===0}function M2(e){let t=e[0],n=Au(t,7);return n===0?7:n}function P2(e){let n=M2(e);return vR(n)}function si(e,t){return Au(M2(t)+7-wR(e),7)}function $b(e,t){return t instanceof fa?31:t instanceof hl?D2(e)?29:28:t instanceof pl?31:t instanceof gl?30:t instanceof ml?31:t instanceof bl?30:t instanceof yl||t instanceof wl?31:t instanceof vl?30:t instanceof xl?31:t instanceof Sl?30:31}function SR(e,t,n){for(;;){let r=e,s=t,i=n,u=$b(r,s),o=qb(s);if(o<12&&i>u)e=r,t=wh(o+1),n=i-u;else return new sR(r,s,i)}}function Vb(e,t){let n=O8(D2(e));return t instanceof fa?0:t instanceof hl?31:t instanceof pl?59+n:t instanceof gl?90+n:t instanceof ml?120+n:t instanceof bl?151+n:t instanceof yl?181+n:t instanceof wl?212+n:t instanceof vl?243+n:t instanceof xl?273+n:t instanceof Sl?304+n:334+n}function $w(e,t){return new sn(_l(e)+Vb(e,t)+1)}function AR(e,t,n){return new sn(_l(e)+Vb(e,t)+NI(n,1,$b(e,t)))}function j2(){let e=tR(),t=e[0],n=e[1],r=e[2];return AR(t,wh(n),r)}function rf(e,t){return[ic(e,t),Au(e,t)]}function Df(e){let t=e[0],n=rf(t,146097),r=n[0],s=n[1],i=rf(s,36524),u=i[0],o=i[1],a=rf(o,1461),c=a[0],l=a[1],d=rf(l,365),h=d[0],f=d[1],p=f===0?0:1;return r*400+u*100+c*4+h+p}function _R(e){let t=e[0],n=Df(e);return new rR(n,t-_l(n))}function zb(e){let t=_R(e);return SR(t.year,new fa,t.ordinal_day)}function Hb(e){return zb(e).month}function TR(e){let n=Hb(e);return bR(n)}function ER(e){return zb(e).day}function Ee(e,t,n){for(;;){let r=e,s=t,i=n,u=r[0];if(i instanceof iR)e=r,t=12*s,n=new qw;else if(i instanceof qw){let o=zb(r),a=12*(o.year-1)+(qb(o.month)-1)+s,c=ic(a,12)+1,l=wh(Au(a,12)+1);return new sn(_l(c)+Vb(c,l)+Sb(o.day,$b(c,l)))}else return i instanceof ud?new sn(u+7*s):new sn(u+s)}}function vh(e,t){let n=e[0];return t instanceof uR?xR(Df(e)):t instanceof oR?$w(Df(e),(()=>{let r=TR(e);return yR(r)})()):t instanceof aR?$w(Df(e),Hb(e)):t instanceof cR?new sn(n-si(new Oc,e)):t instanceof Al?new sn(n-si(new Oc,e)):t instanceof lR?new sn(n-si(new ph,e)):t instanceof fR?new sn(n-si(new gh,e)):t instanceof dR?new sn(n-si(new mh,e)):t instanceof hR?new sn(n-si(new bh,e)):t instanceof pR?new sn(n-si(new yh,e)):t instanceof gR?new sn(n-si(new Ub,e)):e}function OR(e,t){return k8(e,t)}function Ur(e,t){return C8(e,t)}function lr(e){return Ur("click",t=>new G(e))}function IR(e){return Ur("keydown",t=>{let n=t,r=Ie("key",$e)(n);return re(r,e)})}function NR(e){return Ur("focus",t=>new G(e))}function RR(e){let t=e;return Ie("target",Ie("value",$e))(t)}function $t(e){return Ur("input",t=>{let n=RR(t);return re(n,e)})}function kR(e){let t=e;return Ie("target",Ie("checked",fN))(t)}function L2(e){return Ur("change",t=>{let n=kR(t);return re(n,e)})}function Gb(e){return Ur("submit",t=>(q8(t),new G(e)))}const CR=function(){let e=0;const t={};return function(n){return t[n]??(t[n]=(e++).toString().padStart(4,"0")),`css-${t[n]}`}}();function DR(){const e=new Error;if(!e.stack)throw new Error("Unable to find the stacktrace and to infer the className");const n=(e.stack??"").split(`
`),r=n.findIndex(u=>u.includes("LustreClientApplication")),s=r===-1?n.length:r;return n.slice(1,s).join(`
`)}function F2(e,t){const n=["string","number","boolean"];if(n.includes(typeof e)||n.includes(typeof t))return e===t;for(const r in e)if(!(r in t)||!F2(e[r],t[r]))return!1;return!0}function MR(){return!(typeof window>"u"||typeof document>"u")}class PR extends S{}class Ic{constructor(t){this.promise=t}static wrap(t){return t instanceof Promise?new Ic(t):t}static unwrap(t){return t instanceof Ic?t.promise:t}}function Nt(e,t){return e.then(n=>Ic.wrap(t(Ic.unwrap(n))))}function xh(e,t){return Nt(e,r=>(t(r),r))}function B2(e,t,n){e.setAttribute(t,n)}function jR(e,t){e.appendChild(t)}function LR(e,t){e.appendChild(t)}function FR(e,t){const n=t instanceof U2?"open":"closed";return e.attachShadow({mode:n})}class U2 extends S{}let BR=class extends S{},UR=class extends S{};class qR extends S{constructor(t){super(),this.root=t}}class $R extends S{constructor(t){super(),this.stylesheet=t}}function VR(e){return new $R(new qR(e))}function q2(e){return e instanceof BR?"node":e instanceof UR?"document":"shadow-root"}let zR=class{static for(t){switch(q2(t)){case"node":return new HR;case"document":return new GR;case"shadow-root":return new JR(t.root)}}};var wu,ul;class Jb{constructor(){je(this,wu);je(this,ul);ue(this,wu,new Map),ue(this,ul,0)}insertRule(t){const n=Ow(this,ul)._++;return B(this,wu).set(n,t),n}deleteRule(t){B(this,wu).delete(t)}buildRules(){return[...B(this,wu).values()].join(`

`)}}wu=new WeakMap,ul=new WeakMap;var vu;class HR extends Jb{constructor(){super();je(this,vu);ue(this,vu,document.createElement("style")),B(this,vu).setAttribute("class","sketch-stylesheet"),document.head.appendChild(B(this,vu))}render(){const n=this.buildRules();B(this,vu).innerHTML=n}}vu=new WeakMap;var jo;class GR extends Jb{constructor(){super();je(this,jo);ue(this,jo,new CSSStyleSheet),document.adoptedStyleSheets.push(B(this,jo))}render(){const n=this.buildRules();B(this,jo).replaceSync(n)}}jo=new WeakMap;var Lo;class JR extends Jb{constructor(n){super();je(this,Lo);ue(this,Lo,new CSSStyleSheet),n.adoptedStyleSheets.push(B(this,Lo))}render(){const n=this.buildRules();B(this,Lo).replaceSync(n)}}Lo=new WeakMap;let Eo;var xu,mn,Ms,Ps,qu,Fg,$2;const Sw=class Sw{constructor(t){je(this,qu);je(this,xu);je(this,mn);je(this,Ms);je(this,Ps);ue(this,xu,new Map),ue(this,mn,new Map),ue(this,Ms,new Map),ue(this,Ps,zR.for(t.stylesheet))}static create(t){const n=q2(t.stylesheet);return["document","shadow-root"].includes(n)&&!MR()?new xe(new PR):new Sw(t)}prepare(){ue(this,Ms,B(this,mn)),ue(this,mn,new Map)}diff(){const t=new Set;for(const n of B(this,mn).keys())t.add(n);for(const n of B(this,Ms).keys())t.add(n);t.forEach(n=>{if(B(this,mn).has(n)){const r=B(this,mn).get(n);return(r==null?void 0:r.indexRules)!==null?void 0:br(this,qu,Fg).call(this,r)}if(B(this,Ms).has(n))return br(this,qu,$2).call(this,B(this,Ms).get(n))}),B(this,Ps).render()}persist(t,n){const r=B(this,xu).get(t);if(r)return{name:r.name,className:t};const s=B(this,mn).get(t);if(s)return{name:s.name,className:t};const i=B(this,Ms).get(t);if(i&&F2(n,i.previousStyles))return B(this,mn).set(t,i),{name:i.name,className:t}}store(t,n){B(this,mn).set(t,n)}memoize({className:t}){if(B(this,xu).has(t))return;const n=B(this,mn).get(t);B(this,xu).set(t,n),B(this,mn).delete(t),n.indexRules===null&&br(this,qu,Fg).call(this,n)}};xu=new WeakMap,mn=new WeakMap,Ms=new WeakMap,Ps=new WeakMap,qu=new WeakSet,Fg=function(t){const n=[],{definitions:r}=t;n.push(B(this,Ps).insertRule(r.class_def));for(const s of r.selectors_def)n.push(B(this,Ps).insertRule(s));for(const s of r.medias_def)n.push(B(this,Ps).insertRule(s));t.indexRules=n},$2=function(t){var n;(n=t.indexRules)==null||n.forEach(r=>{B(this,Ps).deleteRule(r)})};let ad=Sw;function WR(e){const t=ad.create(e);return t instanceof ad&&(Eo=t),new G(t)}function QR(e){Eo=e,Eo.prepare()}function XR(e){return e.diff(),new G(null)}let Vw=!1;const KR="Sketch lifecycles setup is missing.",YR=`If you're not using lustre, you should use directly the lifecycle functions:
  - create_cache (https://hexdocs.pm/sketch/sketch.html#create_cache)
  - prepare (https://hexdocs.pm/sketch/sketch.html#prepare)
  - render (https://hexdocs.pm/sketch/sketch.html#render)

// main.gleam
// Assuming your framework have a lifecycle, here's a fictive example.

import sketch
import sketch/options as sketch_options

pub fn main() {
  let assert Ok(cache) = sketch.create_cache()
  start_app()
  |> add_before_render(fn () { sketch.prepare(cache) })
  |> add_after_render(fn () { sketch.render(cache) })
}
`,ZR=`// main.gleam
// If you're using lustre, initialize Sketch in your main().

import sketch/lustre as sketch_lustre
import sketch/options as sketch_options

pub fn main() {
  let assert Ok(cache) =
    sketch_options.node()
    |> sketch_lustre.setup()

  let assert Ok(_) =
    view
    |> sketch_lustre.compose(cache)
    |> lustre.simple(init, update, _)
    |> lustre.start("#app", Nil)

}
`,e5={setup(){if(Vw)return;const e="Meanwhile, styles won’t apply, but will not block your render.",t="More informations on https://hexdocs.pm/sketch.";console.warn(KR),console.warn(ZR),console.warn(YR),console.warn(e),console.warn(t),Vw=!0}};function V2(e){return ZS(" ",e)}function Bg(e,t,n,r){let s=V2(n),i=Be(r,""),u=te(s+"."+e+i+" {",t),o=Uo(u,`
`);return Xn(o,`
`+s+"}")}class z2 extends S{constructor(t){super(),this.class_name=t}}class H2 extends S{constructor(t,n){super(),this.query=t,this.styles=n}}class t5 extends S{constructor(t,n){super(),this.pseudo_selector=t,this.styles=n}}let Wb=class extends S{constructor(t,n,r){super(),this.key=t,this.value=n,this.important=r}};class n5 extends S{constructor(t,n,r,s,i){super(),this.properties=t,this.medias=n,this.classes=r,this.pseudo_selectors=s,this.indent=i}}class r5 extends S{constructor(t,n,r){super(),this.query=t,this.properties=n,this.pseudo_selectors=r}}class s5 extends S{constructor(t,n){super(),this.pseudo_selector=t,this.properties=n}}class i5 extends S{constructor(t,n,r,s){super(),this.class_def=t,this.medias_def=n,this.selectors_def=r,this.name=s}}function u5(e,t,n,r){let s=V2(e),i=r?" !important":"";return s+t+": "+n+i+";"}function o5(e){return new n5(g([]),g([]),g([]),g([]),e)}function a5(e,t){let n=te(t,e.classes);return e.withFields({classes:n})}function c5(e,t){if(!(t instanceof Wb))throw ih("assignment_no_match","sketch/internals/style",77,"handle_property","Assignment pattern did not match",{value:t});let n=t.key,r=t.value,s=t.important,i=u5(e.indent,n,r,s),u=te(i,e.properties);return e.withFields({properties:u})}function zw(e,t,n){return Z(n,r=>Bg(e,r.properties,t,new k(r.pseudo_selector)))}function l5(e,t){let n=t.properties,r=t.medias,s=t.classes,i=t.pseudo_selectors,u=Bg(e,n,0,new J),o=Z(r,l=>{let d=l.query,h=l.properties,f=l.pseudo_selectors,p=zw(e,2,f),m=g([d+" {",Bg(e,h,2,new J)]),b=(w=>oh(g([p,g(["}"])]),w))(m),y=Un(b);return Uo(y,`
`)}),a=zw(e,0,i),c=lN(Uo(s," ")+" "+e);return new i5(u,o,a,c)}function f5(e,t){if(!(t instanceof H2))throw ih("assignment_no_match","sketch/internals/style",84,"handle_media","Assignment pattern did not match",{value:t});let n=t.query,r=t.styles,s=Qb(r,e.indent+2),i=new r5(n,s.properties,s.pseudo_selectors),u=(o=>oh(e.medias,o))(i);return(o=>e.withFields({medias:o}))(u)}function Qb(e,t){return Tb(e,o5(t),(n,r)=>{if(r instanceof z2){let s=r.class_name;return a5(n,s)}else return r instanceof Wb?c5(n,r):r instanceof H2?f5(n,r):d5(n,r)})}function d5(e,t){if(!(t instanceof t5))throw ih("assignment_no_match","sketch/internals/style",96,"handle_pseudo_selector","Assignment pattern did not match",{value:t});let n=t.pseudo_selector,r=t.styles,s=Qb(r,e.indent+2),i=new s5(n,s.properties),u=(a=>oh(s.pseudo_selectors,a))(i),o=_b(u,e.pseudo_selectors);return(a=>e.withFields({pseudo_selectors:a}))(o)}function G2(e,t){if(!Eo)return e5.setup(),{name:"",className:""};const n=t??DR(),r=Eo.persist(n);if(r)return r;const s=CR(n),i=Qb(e,2),{name:u,...o}=l5(s,i);return Eo.store(n,{name:u,definitions:o,previousStyles:e,indexRules:null}),{name:u,className:n}}function J2({name:e}){return e}class W2 extends S{constructor(t){super(),this[0]=t}}class h5 extends S{constructor(t){super(),this[0]=t}}class p5 extends S{constructor(t){super(),this[0]=t}}class g5 extends S{constructor(t){super(),this[0]=t}}class m5 extends S{constructor(t){super(),this[0]=t}}class b5 extends S{constructor(t){super(),this[0]=t}}class y5 extends S{constructor(t){super(),this[0]=t}}class w5 extends S{constructor(t){super(),this[0]=t}}class Q2 extends S{constructor(t){super(),this[0]=t}}function qe(e){return new W2(xb(e))}function v5(e){return new Q2(xb(e))}function ys(e){if(e instanceof W2){let t=e[0];return Xn(Gr(t),"px")}else if(e instanceof h5){let t=e[0];return Xn(Gr(t),"pt")}else if(e instanceof Q2){let t=e[0];return Xn(Gr(t),"%")}else if(e instanceof p5){let t=e[0];return Xn(Gr(t),"vh")}else if(e instanceof g5){let t=e[0];return Xn(Gr(t),"vw")}else if(e instanceof m5){let t=e[0];return Xn(Gr(t),"em")}else if(e instanceof b5){let t=e[0];return Xn(Gr(t),"rem")}else if(e instanceof y5){let t=e[0];return Xn(Gr(t),"lh")}else if(e instanceof w5){let t=e[0];return Xn(Gr(t),"rlh")}else{let t=e[0];return Xn(Gr(t),"ch")}}let X2=class extends S{constructor(t){super(),this.internal=t}};function K2(e){return Z(e,t=>t.internal)}function I(e,t){return new X2(new Wb(e,t,!1))}function Xb(e){return I("width",ys(e))}function x5(e){return I("width",e)}function S5(e){return I("max-width",e)}function A5(e){return I("max-height",e)}function da(e){return I("color",e)}function ha(e){return I("font-family",e)}function Sh(e){return I("font-size",ys(e))}function _5(e){return I("line-height",e)}function Kb(e){return I("white-space",e)}function Y2(e){return I("word-break",e)}function Ui(e){return I("display",e)}function Z2(e){return I("z-index",se(e))}function Vu(e){return I("background",e)}function Yb(e){return I("position",e)}function T5(e){return I("outline",e)}function e3(e){return I("gap",ys(e))}function t3(e){return I("grid-column",e)}function Zb(e){return I("grid-template-columns",e)}function ey(e){return I("align-items",e)}function n3(e){return I("justify-content",e)}function E5(e){return I("justify-self",e)}function r3(e){return I("appearance",e)}function s3(e){return I("top",ys(e))}function i3(e){return I("bottom",ys(e))}function u3(e){return I("right",ys(e))}function O5(e){return I("left",ys(e))}function I5(e){return I("box-shadow",e)}function ty(e){return I("overflow",e)}function N5(e){return I("overflow-y",e)}function R5(e){return I("flex-direction",e)}function ny(e){return I("border",e)}function o3(e){return I("border-bottom",e)}function a3(e){return I("border-right",e)}function c3(e){return I("border-radius",ys(e))}function Tl(e){return I("padding",ys(e))}function k5(e){return I("padding",e)}function C5(e){return I("margin",ys(e))}function Ah(e){let n=J2(e),r=new z2(n);return new X2(r)}function Pe(e){let n=K2(e);return G2(n)}function D5(e,t){let r=K2(t);return G2(r,e)}function Ce(e){let n=J2(e),r=e2(n," "),s=Z(r,i=>[i,!0]);return P8(s)}function M5(e){return WR(e)}function P5(e,t){return n=>{QR(t);let r=e(n);return XR(t),r}}class j5 extends S{constructor(t){super(),this[0]=t}}class L5 extends S{constructor(t){super(),this[0]=t}}function l3(){try{return globalThis.Storage&&globalThis.localStorage instanceof globalThis.Storage?new G(globalThis.localStorage):new xe(null)}catch{return new xe(null)}}function F5(e,t){return U5(e.getItem(t))}function B5(e,t,n){try{return e.setItem(t,n),new G(null)}catch{return new xe(null)}}function U5(e){return e!==null?new G(e):new xe(null)}class El extends S{constructor(t,n,r,s,i,u,o,a,c,l,d,h,f,p,m,b,y,w,x){super(),this.background=t,this.shadow=n,this.primary=r,this.editor_fg=s,this.editor_bg=i,this.gutter=u,this.syntax_comment=o,this.button=a,this.function=c,this.nil=l,this.bool=d,this.constant=h,this.bit_array=f,this.utf_codepoint=p,this.string=m,this.number=b,this.custom_type=y,this.regex=w,this.date=x}}class _h extends S{}class Th extends S{}class Eh extends S{}class Oh extends S{}class cd extends S{}function f3(e){return e instanceof _h?"Ayu Dark":e instanceof Th?"Ayu Light":e instanceof Eh?"Catpuccin Light":e instanceof Oh?"Catpuccin Frappé":"Gleam"}function d3(e){return e==="Ayu Dark"?new _h:e==="Ayu Light"?new Th:e==="Catpuccin Light"?new Eh:e==="Catpuccin Frappé"?new Oh:e==="Gleam"?new cd:new cd}function q5(){return g([new _h,new Th,new Eh,new Oh,new cd])}const h3="lustre-debugger-color";function $5(){let e=l3(),t=on(e,r=>F5(r,h3)),n=re(t,d3);return Me(n,new cd)}function V5(e){return Kt(t=>{on(l3(),n=>{let r=f3(e);return B5(n,h3,r)})})}const it=new El("#111","#333","#ffcc66","#cccac2","#242936","#8a919966","#b8cfe680","#ffd173","#ffd173","#ffad66","#dfbfff","#ffad66","#d5ff80","#f28779","#d5ff80","#5ccfe6","#73d0ff","#95e6cb","#dfbfff");function z5(){let e=Pe(g([I("--background",it.background),I("--shadow",it.shadow),I("--primary",it.primary),I("--editor-fg",it.editor_fg),I("--editor-bg",it.editor_bg),I("--gutter",it.gutter),I("--syntax-comment",it.syntax_comment),I("--button",it.button),I("--function",it.function),I("--nil",it.nil),I("--bool",it.bool),I("--constant",it.constant),I("--bit-array",it.bit_array),I("--utfcodepoint",it.utf_codepoint),I("--string",it.string),I("--number",it.number),I("--custom-type",it.custom_type),I("--regex",it.regex),I("--date",it.date)]));return Ce(e)}const ut=new El("white","#ccc","#ffd596","#5c6166","#f8f9fa","#8a919966","#787b8099","#F2AE49","#F2AE49","#fa8d3e","#a37acc","#fa8d3e","#86b300","#f07171","#86b300","#55b4d4","#399ee6","#4cbf43","#a37acc");function H5(){let e=Pe(g([I("--background",ut.background),I("--shadow",ut.shadow),I("--primary",ut.primary),I("--editor-fg",ut.editor_fg),I("--editor-bg",ut.editor_bg),I("--gutter",ut.gutter),I("--syntax-comment",ut.syntax_comment),I("--button",ut.button),I("--function",ut.function),I("--nil",ut.nil),I("--bool",ut.bool),I("--constant",ut.constant),I("--bit-array",ut.bit_array),I("--utfcodepoint",ut.utf_codepoint),I("--string",ut.string),I("--number",ut.number),I("--custom-type",ut.custom_type),I("--regex",ut.regex),I("--date",ut.date)]));return Ce(e)}const ot=new El("#e6e9ef","#dce0e8","#dc8a78","#4c4f69","#eff1f5","#dce0e8","#6c6f85","#dd7878","#ea76cb","#8839ef","#d20f39","#8839ef","#40a02b","#fe640b","#40a02b","#04a5e5","#7287fd","#179299","#d20f39");function G5(){let e=Pe(g([I("--background",ot.background),I("--shadow",ot.shadow),I("--primary",ot.primary),I("--editor-fg",ot.editor_fg),I("--editor-bg",ot.editor_bg),I("--gutter",ot.gutter),I("--syntax-comment",ot.syntax_comment),I("--button",ot.button),I("--function",ot.function),I("--nil",ot.nil),I("--bool",ot.bool),I("--constant",ot.constant),I("--bit-array",ot.bit_array),I("--utfcodepoint",ot.utf_codepoint),I("--string",ot.string),I("--number",ot.number),I("--custom-type",ot.custom_type),I("--regex",ot.regex),I("--date",ot.date)]));return Ce(e)}const at=new El("#292c3c","#232634","#f2d5cf","#c6d0f5","#303446","#232634","#a5adce","#eebebe","#f4b8e4","#ca9ee6","#e78284","#ca9ee6","#a6d189","#ef9f76","#a6d189","#99d1db","#babbf1","#81c8be","#e78284");function J5(){let e=Pe(g([I("--background",at.background),I("--shadow",at.shadow),I("--primary",at.primary),I("--editor-fg",at.editor_fg),I("--editor-bg",at.editor_bg),I("--gutter",at.gutter),I("--syntax-comment",at.syntax_comment),I("--button",at.button),I("--function",at.function),I("--nil",at.nil),I("--bool",at.bool),I("--constant",at.constant),I("--bit-array",at.bit_array),I("--utfcodepoint",at.utf_codepoint),I("--string",at.string),I("--number",at.number),I("--custom-type",at.custom_type),I("--regex",at.regex),I("--date",at.date)]));return Ce(e)}const ct=new El("#2f2f2f","#2f2f2f","#ffaff3","#fefefc","#292d3e","#8a919966","#848484","#ffaff3","#ffd596","#d4d4d4","#ff6262","#d4d4d4","#c8ffa7","#c8ffa7","#c8ffa7","#a6f0fc","#9ce7ff","#fdffab","#ffddfa");function W5(){let e=Pe(g([I("--background",ct.background),I("--shadow",ct.shadow),I("--primary",ct.primary),I("--editor-fg",ct.editor_fg),I("--editor-bg",ct.editor_bg),I("--gutter",ct.gutter),I("--syntax-comment",ct.syntax_comment),I("--button",ct.button),I("--function",ct.function),I("--nil",ct.nil),I("--bool",ct.bool),I("--constant",ct.constant),I("--bit-array",ct.bit_array),I("--utfcodepoint",ct.utf_codepoint),I("--string",ct.string),I("--number",ct.number),I("--custom-type",ct.custom_type),I("--regex",ct.regex),I("--date",ct.date)]));return Ce(e)}function Q5(e){return e instanceof Th?H5():e instanceof _h?z5():e instanceof Eh?G5():e instanceof Oh?J5():W5()}class X5 extends S{constructor(t,n,r){super(),this.index=t,this.model=n,this.msg=r}}class p3 extends S{}class g3 extends S{constructor(t){super(),this[0]=t}}class K5 extends S{constructor(t){super(),this[0]=t}}class m3 extends S{constructor(t){super(),this[0]=t}}class b3 extends S{constructor(t,n){super(),this[0]=t,this[1]=n}}class Y5 extends S{constructor(t,n,r){super(),this[0]=t,this[1]=n,this[2]=r}}class y3 extends S{constructor(t,n){super(),this[0]=t,this[1]=n}}class w3 extends S{constructor(t){super(),this[0]=t}}class Z5 extends S{constructor(t,n,r,s){super(),this.count=t,this.steps=n,this.dispatcher=r,this.selected_step=s}}function ek(){return new Z5(1,g([]),new J,new J)}function tk(e,t){return e.withFields({dispatcher:new k(t)})}function sf(e,t,n){let s=ah(e,a=>Se(a)===t),i=Me(s,[t,ek()]),u=At(i),o=n(u);return(a=>JS(e,t,a))(o)}function v3(e,t){let r=ah(e,s=>Se(s)===t);return re(r,At)}function nk(e){return e.withFields({selected_step:new J})}function rk(e,t){return e.withFields({selected_step:t})}function sk(e,t,n){let r=e.count,s=e.steps,i=new X5(se(r),t,n);return e.withFields({count:r+1,steps:te(i,s)})}let ik=class extends S{constructor(t,n,r,s,i){super(),this.debuggers=t,this.color_scheme=n,this.frozen=r,this.opened=s,this.selected_debugger=i}};function uk(e,t){let n=kg(e.selected_debugger,new k(t));return e.withFields({selected_debugger:n})}function ok(e){return HS(e.debuggers,t=>{let n=At(t).steps;return!zS(n)})}function x3(e){return document.createElement(e)}function ak(){return document.body}class ry extends S{}class ld extends S{constructor(t){super(),this[0]=t}}class sy extends S{constructor(t){super(),this[0]=t}}class iy extends S{constructor(t){super(),this[0]=t}}class uy extends S{constructor(t){super(),this[0]=t}}class oy extends S{constructor(t){super(),this[0]=t}}class ay extends S{constructor(t){super(),this[0]=t}}class cy extends S{constructor(t){super(),this[0]=t}}class ly extends S{constructor(t){super(),this[0]=t}}class fy extends S{constructor(t,n){super(),this[0]=t,this[1]=n}}class dy extends S{constructor(t){super(),this[0]=t}}class hy extends S{constructor(t){super(),this[0]=t}}class py extends S{constructor(t){super(),this[0]=t}}class gy extends S{constructor(t){super(),this[0]=t}}class my extends S{constructor(t){super(),this[0]=t}}class ck extends S{constructor(t,n){super(),this[0]=t,this[1]=n}}function hs(e){const t=typeof e;if(e===!0)return new ld("True");if(e===!1)return new ld("False");if(e===null)return new sy("//js(null)");if(e===void 0)return new ry;if(t==="string")return new oy(JSON.stringify(e));if(t==="bigint"||t==="number")return new ay(e.toString());if(Array.isArray(e))return new cy(tt.fromArray(e.map(hs)));if(e instanceof tt)return hk(e);if(e instanceof VS)return gk(e);if(e instanceof Fo)return pk(e);if(e instanceof S)return dk(e);if(e instanceof Ut)return lk(e);if(e instanceof Set)return hy(tt.fromArray([...e].map(hs)));if(e instanceof RegExp)return new py(`//js(${e})`);if(e instanceof Date)return new gy(`//js(Date("${e.toISOString()}"))`);if(e instanceof Function){const n=[];for(const r of Array(e.length).keys())n.push(String.fromCharCode(r+97));return new my(`//fn(${n.join(", ")}) { ... }`)}return fk(e)}function lk(e){const t=[];return e.forEach((n,r)=>t.push([hs(r),hs(n)])),new dy(tt.fromArray(t))}function fk(e){var s,i;const t=((i=(s=Object.getPrototypeOf(e))==null?void 0:s.constructor)==null?void 0:i.name)||"Object",n=[];for(const u of Object.keys(e))n.push([hs(u),hs(e[u])]);const r=t==="Object"?"":t+" ";return new ck(r,tt.fromArray(n))}function dk(e){const t=tt.fromArray(Object.keys(e).map(n=>{const r=hs(e[n]);return isNaN(parseInt(n))?[new k(n+": "),r]:[new J,r]}));return new fy(e.constructor.name,t)}function hk(e){return new ly(tt.fromArray(e.toArray().map(hs)))}function pk(e){return new iy(`<<${Array.from(e.buffer).join(", ")}>>`)}function gk(e){return new uy(`//utfcodepoint(${String.fromCodePoint(e.value)})`)}function mk(e){const t=new CSSStyleSheet;t.replace(e),document.adoptedStyleSheets.push(t)}function bk(e,t,n){return e.withFields({update:n(e.update),init:t(e.init)})}const yk=`@font-face {
  font-family: 'Lexend';
  src: url(data:application/font-woff2;charset=utf-8;base64,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) format('woff2'),
        url(data:application/font-woff;charset=utf-8;base64,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) format('woff');
  font-weight: normal;
  font-style: normal;
}`;function wk(e){let t=x3("div"),n=FR(t,new U2);return jR(ak(),t),B2(t,"class","tardis"),LR(n,e),n}function vk(){let e=x3("div");return B2(e,"id","tardis-start"),e}function xk(){mk(yk);let e=vk(),t=wk(e),n=t2(Br(e));return[t,n]}function Sk(e){return t=>n=>{let r=t(n),i=Se(r),u=Br(i);return e(u,Br("Init")),r}}function Ak(e){return t=>(n,r)=>{let s=t(n,r),u=Se(s),o=Br(u);return e(o,Br(r)),s}}function _k(e,t){return n=>{let s=(u=>new b3(t,u))(u=>Kt(o=>{let c=Br(u),l=new _2(c),d=new S2(l);return t2(n)(d)})),i=N2(s);return e(i)}}function Tk(e,t){return(n,r)=>{let i=(o=>new Y5(t,o,r))(n),u=N2(i);return e(u)}}function S3(){return Pe(g([Z2(1000001),Ui("flex"),R5("column"),Yb("fixed"),i3(qe(12)),u3(qe(12)),Vu("var(--background)"),c3(qe(10)),I5("0px 0px 5px 1px var(--shadow)"),ty("hidden"),ny("2px solid var(--primary)"),da("var(--editor-fg)"),Xb(qe(1e3)),S5("calc(100vw - 24px)"),A5("min(1200px, calc(100vh - 24px))")]))}function Ek(){let e=S3();return Ce(e)}function Ok(){let e=g([Ah(S3()),Xb(qe(400)),n3("center")]),t=Pe(e);return Ce(t)}function A3(){return Pe(g([Ui("grid"),t3("1 / 4"),Zb("subgrid"),Yb("sticky"),s3(qe(0))]))}function Hw(){let e=A3();return Ce(e)}function Ik(){let e=Pe(g([Ah(A3()),o3("2px solid var(--primary)")]));return Ce(e)}function _3(){return Pe(g([Vu("var(--background)"),Tl(qe(12)),Ui("flex"),ey("center"),n3("space-between"),ha("Lexend")]))}function Nk(){let e=_3();return Ce(e)}function Rk(){let e=g([Ah(_3())]),t=Pe(e);return Ce(t)}function kk(){let e=Pe(g([Ui("grid"),Zb("auto 2fr 3fr"),ha("monospace"),N5("auto"),x5("100%"),Kb("pre-wrap"),Sh(qe(10))]));return Ce(e)}function T3(){return Pe(g([Ui("grid"),t3("1 / 4"),Zb("subgrid"),Vu("var(--editor-bg)"),Sh(qe(14)),o3("1px solid var(--gutter)")]))}function Ck(){let e=T3();return Ce(e)}function Dk(){let e=g([Ah(T3()),Vu("var(--shadow)")]),t=Pe(e);return Ce(t)}function Mk(){let e=Pe(g([k5("9px 9px"),E5("end"),a3("1px solid var(--gutter)"),ha("Lexend"),da("var(--syntax-comment)")]));return Ce(e)}function Pk(){let e=Pe(g([ty("hidden"),Y2("break-all"),Tl(qe(9)),a3("1px solid var(--gutter)")]));return Ce(e)}function jk(){let e=Pe(g([ty("hidden"),Y2("break-all"),Tl(qe(6))]));return Ce(e)}function Lk(){let e=Pe(g([Ui("flex"),e3(qe(12)),ey("center"),Kb("nowrap")]));return Ce(e)}function Fk(){let e=Pe(g([r3("none"),ny("none"),Vu("none"),ha("Lexend"),I("cursor","pointer"),da("var(--button)")]));return Ce(e)}function Bk(){let e=g([da("var(--bool)"),Kb("pre")]),t=Pe(e);return Ce(t)}function Vo(){let e=g([Ui("flex")]),t=Pe(e);return Ce(t)}function Uk(){let e=Pe(g([Ui("flex"),ey("center"),e3(qe(18))]));return Ce(e)}function E3(e){let t="syntax-"+e,n=D5(t,g([da(e)]));return Ce(n)}function h0(){let e=Pe(g([Sh(qe(14)),ha("Lexend"),Vu("var(--background)"),Tl(qe(9))]));return Ce(e)}function by(){let e=Pe(g([r3("none"),Vu("transparent"),Tl(qe(6)),C5(qe(0)),Xb(v5(100)),Sh(qe(12)),ha("inherit"),_5("inherit"),da("var(--primary)"),ny("1px solid var(--primary)"),c3(qe(5)),T5("none")]));return Ce(e)}function qk(){let e=Pe(g([Yb("fixed"),s3(qe(0)),i3(qe(0)),u3(qe(0)),O5(qe(0)),Z2(1e6)]));return Ce(e)}function ze(e,t,n,r){let s=ZS(" ",e),i=E3(r);return Bo(t)===0?P(g([i]),g([Yt(s+n)])):P(g([Vo()]),g([P(g([Bk()]),g([Yt(s+t)])),P(g([i]),g([Yt(n)]))]))}function $k(e,t){let n=t.count;return e?e&&n===1?Hw():Ik():Hw()}function Vk(e,t){return P(g([$k(e,t)]),g([P(g([h0()]),g([Yt("Step")])),P(g([h0()]),g([Yt("Msg")])),P(g([h0()]),g([Yt("Model")]))]))}function au(e){if(e instanceof ry)return 1;if(e instanceof ld)return 1;if(e instanceof sy)return 1;if(e instanceof iy)return 1;if(e instanceof uy)return 1;if(e instanceof oy)return 1;if(e instanceof ay)return 1;if(e instanceof py)return 1;if(e instanceof gy)return 1;if(e instanceof my)return 1;if(e instanceof cy){let t=e[0],n=Z(t,au);return Os(n,2,(r,s)=>r+s)}else if(e instanceof ly){let t=e[0],n=Z(t,au);return Os(n,2,(r,s)=>r+s)}else if(e instanceof fy){let t=e[1],n=Z(t,r=>au(At(r)));return Os(n,2,(r,s)=>r+s)}else if(e instanceof dy){let t=e[0],n=Z(t,r=>au(At(r)));return Os(n,2,(r,s)=>r+s)}else if(e instanceof hy){let t=e[0],n=Z(t,r=>au(r));return Os(n,2,(r,s)=>r+s)}else{let t=e[1],n=Z(t,r=>au(At(r)));return Os(n,2,(r,s)=>r+s)}}function Gw(e,t){return e?t:""}function zk(e,t,n){return Un(g([g([ze(n,t,"#(","var(--editor-fg)")]),ca(e,r=>Hs(r,n+2,"")),g([ze(n,t,")","var(--editor-fg)")])]))}function Hs(e,t,n){if(e instanceof ry)return g([ze(t,n,"Nil","var(--nil)")]);if(e instanceof ld){let r=e[0];return g([ze(t,n,r,"var(--bool)")])}else if(e instanceof sy){let r=e[0];return g([ze(t,n,r,"var(--constant)")])}else if(e instanceof iy){let r=e[0];return g([ze(t,n,r,"var(--bit-array)")])}else if(e instanceof uy){let r=e[0];return g([ze(t,n,r,"var(--utfcodepoint)")])}else if(e instanceof oy){let r=e[0];return g([ze(t,n,r,"var(--string)")])}else if(e instanceof ay){let r=e[0];return g([ze(t,n,r,"var(--number)")])}else if(e instanceof py){let r=e[0];return g([ze(t,n,r,"var(--regex)")])}else if(e instanceof gy){let r=e[0];return g([ze(t,n,r,"var(--date)")])}else if(e instanceof my){let r=e[0];return g([ze(t,n,r,"var(--function)")])}else if(e instanceof cy){let r=e[0];return zk(r,n,t)}else if(e instanceof ly){let r=e[0];return Jk(r,n,t)}else if(e instanceof fy){let r=e[0],s=e[1];return Wk(r,s,n,t)}else if(e instanceof dy){let r=e[0];return Qk(r,n,t)}else if(e instanceof hy){let r=e[0];return Xk(r,n,t)}else{let r=e[0],s=e[1];return Kk(r,s,n,t)}}function Hk(e,t,n){let r=n.index,s=n.model,i=n.msg,u=Be(t,"")===r?Dk():Ck();return P(g([u,lr(new y3(e,n))]),g([P(g([Mk()]),g([Yt(r)])),P(g([Pk()]),Hs(hs(i),0,"")),P(g([jk()]),Hs(hs(s),0,""))]))}function Gk(e,t,n){let r=n.selected_step;return e?Su(s=>P(g([kk()]),s),(()=>{let s=n.steps,i=$I(s,100),u=Z(i,o=>[o.index,Hk(t,r,o)]);return oh(u,["header",Vk(e,n)])})()):_n()}function Jk(e,t,n){let r=ze(n,t,"[","var(--editor-fg)"),s=u=>ze(u,"","]","var(--editor-fg)");return zS(e)?g([P(g([Vo()]),g([r,s(0)]))]):Un(g([g([r]),ca(e,u=>Hs(u,n+2,"")),g([s(n)])]))}function Wk(e,t,n,r){let s=o=>{let a=Gw(o,"(");return ze(r,n,e+a,"var(--custom-type)")},i=(o,a)=>{let c=Gw(a,")");return ze(o,"",c,"var(--custom-type)")},u=o=>{let a=o?[r,r+2]:[0,0],c=a[0],l=a[1];return Un(g([g([s(!0)]),ca(t,d=>{let h=Be(Se(d),"");return Hs(At(d),l,h)}),g([i(c,!0)])]))};return t.atLeastLength(2)?u(!0):t.atLeastLength(1)?Os(t,0,(c,l)=>c>2?c:au(At(l))+c)>2?u(!0):g([P(g([Vo()]),u(!1))]):g([P(g([Vo()]),g([s(!1),i(0,!1)]))])}function Qk(e,t,n){return Un(g([g([ze(n,t,"//js dict.from_list([","var(--editor-fg)")]),ca(e,r=>g([P(g([Vo()]),Un(g([Hs(Se(r),n+2,"#("),Hs(At(r),0,", "),g([P(g([E3("var(--bool)")]),g([Yt(")")]))]),g([Yt(",")])])))])),g([ze(n,"","])","var(--editor-fg)")])]))}function Xk(e,t,n){return Un(g([g([ze(n,t,"//js Set(","var(--editor-fg)")]),ca(e,r=>Hs(r,n+2,"")),g([ze(n,t,")","var(--editor-fg)")])]))}function Kk(e,t,n,r){return Un(g([g([ze(r,n,e+" {","var(--editor-fg)")]),ca(t,s=>Hs(At(s),r+2,"")),g([ze(r,n,"}","var(--editor-fg)")])]))}class Yk extends S{constructor(t){super(),this.dispatch=t}}class Zk extends S{constructor(t){super(),this[0]=t}}function eC(e,t){return re(e,n=>{let r=t[0][0];return r(Br(n)),n})}function tC(e,t){let r=R2(t,e,void 0);return ch(r,s=>new L5(s))}function nC(e){let t=M5(VR(e));return ch(t,n=>(Ii("Unable to start sketch. Check your configuration."),Ii(n),new j5(n)))}function rC(e){let t=$5(),n=(r=>new ik(g([]),r,!1,!1,new J))(t);return ou(n,M())}function sC(e,t){if(t instanceof p3)return[e.withFields({opened:!e.opened}),M()];if(t instanceof w3){let n=t[0],r=(()=>{let o=e.debuggers,a=GS(o,c=>{let l=At(c),d=PI(l.steps);return on(d,h=>{let f=l.dispatcher,p=yt(f,m=>Uw(m,h.model));return Rg(p,void 0)})});return jb(a)})(),s=e.debuggers,i=sf(s,n,nk),u=(o=>e.withFields({frozen:!1,debuggers:o}))(i);return ou(u,r)}else if(t instanceof g3){let n=t[0],r=e.withFields({color_scheme:n});return ou(r,V5(n))}else if(t instanceof b3){let n=t[0],r=t[1],s=e.debuggers,i=sf(s,n,o=>tk(o,r)),u=(o=>e.withFields({debuggers:o}))(i);return ou(u,M())}else if(t instanceof y3){let n=t[0],r=t[1],s=new k(r.index),i=(()=>{let c=e.debuggers,l=v3(c,n),d=on(l,h=>{let f=h.dispatcher,p=yt(f,m=>Uw(m,r.model));return Rg(p,void 0)});return Me(d,M())})(),u=e.debuggers,o=sf(u,n,c=>rk(c,s)),a=(c=>e.withFields({frozen:!0,debuggers:c}))(o);return ou(a,i)}else if(t instanceof K5){let n=t[0];return Ii(n),[e,M()]}else if(t instanceof m3){let n=t[0],r=e.withFields({selected_debugger:new k(n)});return ou(r,M())}else{let n=t[0],r=t[1],s=t[2],i=e.debuggers,u=sf(i,n,c=>sk(c,r,s)),o=(c=>e.withFields({debuggers:c}))(u),a=uk(o,n);return ou(a,M())}}function iC(e){return e?[Ek(),Rk(),"Close"]:[Ok(),Nk(),"Open"]}function uC(e){let t=d3(e);return new g3(t)}function oC(e){return new m3(e)}function aC(e){return e.opened?id(g([$t(uC),by()]),Z(q5(),n=>{let r=f3(n),s=dn(e.color_scheme,n);return mo(g([vt(r),go(s)]),r)})):_n()}function cC(e){let t=e.frozen,n=e.selected_debugger;if(t&&n instanceof k){let r=n[0];return qn(g([by(),lr(new w3(r))]),g([Yt("Restart")]))}else return _n()}function lC(e){let t=Q5(e.color_scheme),n=iC(e.opened),r=n[0],s=n[1],i=n[2],u=e.frozen?qk():M8(),o=(()=>{let a=e.selected_debugger,c=Be(a,"");return(l=>v3(e.debuggers,l))(c)})();return P(g([A("debugger_"),t,u]),g([P(g([r]),g([P(g([s]),g([P(g([Vo(),Uk()]),g([P(g([]),g([Yt("Debugger")])),aC(e),cC(e)])),(()=>{if(o.isOk()){let a=o[0];return P(g([Lk()]),g([id(g([$t(oC),by()]),Z(ok(e),c=>{let l=c[0],d=dn(e.selected_debugger,new k(l));return mo(g([vt(l),go(d)]),l)})),P(g([]),g([Yt(se(a.count-1)+" Steps")])),qn(g([Fk(),lr(new p3)]),g([Yt(i)]))]))}else return _n()})()])),(()=>{let a=e.selected_debugger;if(o.isOk()&&a instanceof k){let c=o[0],l=a[0];return Gk(e.opened,l,c)}else return _n()})()]))]))}function fC(){let e=xk(),t=e[0],n=e[1],r=nC(t),s=re(r,o=>P5(lC,o)),i=re(s,o=>I2(rC,sC,o)),u=on(i,o=>tC(n,o));return re(u,o=>new Yk(o))}function dC(e,t){let n=t[0][1];return bk(e,Sk(n),Ak(n))}function hC(e,t){let n=e.dispatch,r=_k(n,t),s=Tk(n,t);return new Zk([r,s])}function pC(e){let t=fC();return re(t,n=>hC(n,e))}function qi(e,t){return P(g([A(t),A("mt-4 mb-2 sm:mb-4 mx-2 flex col-start-1 col-span-11 sm:col-start-1 sm:col-span-8 text-7xl")]),g([W8(g([Ue("title"),A("min-h-[56px] max-h-[140px] overflow-hidden px-0 pb-1 w-full font-transitional font-bold italic text-ecru-white-950")]),g([H(e)]))]))}function O3(e){let t=$e(e);return re(t,n=>n==="True"||n==="true"?!0:n==="1")}function uc(e){let n=$e(e),r=re(n,ao);return YI(r,s=>ch(s,i=>g([new qo("a stringed int","something else",g([""]))])))}function gC(e,t){return globalThis.setTimeout(t,e)}function Yi(e,t,n){let r=(()=>{let i=vn(e,t);return vb(i)})();if(r instanceof k){let i=r[0],u=n(i);return(o=>Ai(e,t,o))(u)}else return e}function p0(e){let n=Qt(e),r=jr(n,(i,u)=>xi(Se(i),Se(u))),s=Iu(r,(i,u)=>[u,At(i)]);return Xt(s)}function mC(e,t){for(;;){let n=e,r=t;if(n.hasLength(0))return new J;if(n.atLeastLength(1)&&r===0){let s=n.head;return new k(s)}else n.head,e=n.tail,t=r-1}}function ui(e){let n=ER(e);return se(n)}function I3(e){let t=ui(e);return P2(e),(()=>{let s=Hb(e);return(i=>i instanceof fa?"January":i instanceof hl?"February":i instanceof pl?"March":i instanceof gl?"April":i instanceof ml?"May":i instanceof bl?"June":i instanceof yl?"July":i instanceof wl?"August":i instanceof vl?"September":i instanceof xl?"October":i instanceof Sl?"November":"December")(s)})()+" "+t}function bC(e,t){return Kt(n=>{gC(e,()=>n(t))})}let yC=class extends S{constructor(t,n,r,s,i,u,o){super(),this.elem_id=t,this.search_items=n,this.search_term=r,this.found_items=s,this.is_open=i,this.is_focused=u,this.hovered_item=o}};class N3 extends S{constructor(t){super(),this[0]=t}}class R3 extends S{constructor(t){super(),this[0]=t}}class k3 extends S{constructor(t){super(),this[0]=t}}class C3 extends S{constructor(t){super(),this[0]=t}}class Ug extends S{constructor(t){super(),this[0]=t}}class qg extends S{constructor(t){super(),this[0]=t}}class D3 extends S{constructor(t){super(),this[0]=t}}class wC extends S{constructor(t){super(),this[0]=t}}class M3 extends S{}class Mf extends S{}class vC extends S{}function xC(e){return Qe("type-ahead",e,g([]))}function SC(e){return dl("recipe-titles",e)}function AC(e){return dl("search-term",e)}function _C(e){let t=se(RI(999999));return[new yC(t,g([]),"",g([]),!1,!1,new J),M()]}function TC(e,t){if(Ii(t),t instanceof R3){let n=t[0];return[e.withFields({search_term:n}),M()]}else if(t instanceof N3){let n=t[0];return[e.withFields({search_items:n,found_items:n}),M()]}else if(t instanceof k3){let n=t[0];return[e.withFields({search_term:n,found_items:Bo(n)<3?e.search_items:HS(e.search_items,s=>qN(ed(s),ed(n))),is_open:!Nw(e.search_items,n)}),M()]}else if(t instanceof Ug){let n=t[0];return[e,OR("typeahead-change",Dr(n))]}else if(t instanceof qg){let n=t[0];return[e.withFields({is_open:!1}),Kt(r=>{let s=new Ug(n);return r(s)})]}else{if(t instanceof M3)return[e.withFields({is_focused:!0,is_open:!Nw(e.search_items,e.search_term)}),M()];if(t instanceof Mf)return[e,bC(100,new Mf)];if(t instanceof vC)return[e.withFields({is_open:!1,is_focused:!1,hovered_item:new J}),M()];if(t instanceof C3){let n=t[0],r=e.is_focused,s=e.is_open;if(r){if(n==="ArrowDown"&&r&&s)return[e.withFields({hovered_item:(()=>{let i=e.hovered_item,u=MI(e.found_items);if(i instanceof J)return new k(0);{let o=i[0],a=u;return new k(Sb(o+1,a))}})()}),M()];if(n==="ArrowDown"&&r&&!s)return[e.withFields({is_open:!0}),M()];if(n==="ArrowUp"&&r&&s)return[e.withFields({hovered_item:(()=>{let i=e.hovered_item;if(i instanceof J)return new J;{let u=i[0];return new k(uh(0,u-1))}})()}),M()];if(n==="Enter"&&r){let i=e.hovered_item,u=e.is_open;if(i instanceof J&&!u)return[e.withFields({is_open:!0}),M()];if(i instanceof k&&u){let o=i[0];return[e.withFields({is_open:!1,hovered_item:new J}),Kt(a=>{let c=new qg(Be(mC(e.found_items,o),""));return a(c)})]}else return[e,M()]}else return n==="Escape"&&r&&s?[e.withFields({is_open:!1,hovered_item:new J}),Kt(i=>{let u=new Mf;return i(u)})]:[e,M()]}else return[e,M()]}else if(t instanceof D3){let n=t[0];return[e.withFields({hovered_item:new k(n)}),M()]}else return[e.withFields({hovered_item:new J}),M()]}}function EC(){return Xt(g([["recipe-titles",e=>{let t=e,n=s2($e)(t);return re(n,r=>new N3(r))}],["search-term",e=>{let n=$e(e);return re(n,r=>new R3(r))}]]))}function OC(e,t,n){return k2(g([me("role","option"),me("data-index",se(n)),A(dn(e.hovered_item,new k(n))?"bg-ecru-white-100":""),A("px-1"),lr(new qg(t)),Ur("mouseover",r=>{let s=r,i=Ie("target",Ie("dataset",Ie("index",uc)))(s);return re(i,u=>new D3(u))}),Ur("mouseout",r=>{let s=r,i=Ie("target",Ie("dataset",Ie("index",uc)))(s);return re(i,u=>new wC(u))})]),g([H(t)]))}function IC(e){return Lr(g([Bb(g([Ue("meal-input-"+e.elem_id),xn(g([["field-sizing","content"],["overflow-x","hidden"],["width","100%"],["font-family","Charter, 'Bitstream Charter', 'Sitka Text', Cambria, serif"],["font-size","clamp(1.125rem, calc(1.125rem + ((1.25 - 1.125) * ((100vw - 20rem) / (96 - 20)))), 1.25rem)"],["line-height","1.6"],["color","rgb(47 40 27)"],["background-color","rgb(241 241 227)"],["border-width","0px"],["border-bottom-width","0px"],["padding-top","0px"],["padding-bottom","0px"],["line-height","inherit"],["resize","none"]])),A((()=>{let t=Bo(e.search_term);return t>38?"text-base":t>17?"text-lg":"text-xl"})()),vt(e.search_term),me("autocapitalize","none"),me("autocomplete","off"),me("aria-autocomplete","list"),me("role","combobox"),Sn("meal-input"),$t(t=>new k3(t)),Ur("change",t=>{let n=t,r=Ie("target",Ie("value",$e))(n);return re(r,s=>new Ug(s))}),IR(t=>new C3(t)),NR(new M3),Ur("blur",t=>new G(new Mf))]),""),K8(g([Ue("search-results-"+e.elem_id),A("font-mono bg-ecru-white-50 border border-ecru-white-950 text-xs"),me("role","listbox"),xn(e.is_open?g([["display","block"]]):g([["display","none"]])),me("aria-expanded",e.is_open?"true":"false")]),(()=>{let t=e.found_items,n=Z(t,r=>r);return Iu(n,(r,s)=>OC(e,r,s))})())]))}function NC(){return J8(_C,TC,IC,EC())}var U=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function RC(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function yy(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var P3={},wy=class j3{constructor(t,n=new Map,r=0){this.prefix=t,this._existing=n,this.counter=r}clone(){const{prefix:t,_existing:n,counter:r}=this;return new j3(t,new Map(n),r)}getId(t){const n=t&&this._existing.get(t);if(n)return n;const r=this.prefix+this.counter;return this.counter++,t&&this._existing.set(t,r),r}hasId(t){return this._existing.has(t)}getOldIds(){return[...this._existing.keys()]}};(function(e,t){if(e.setImmediate)return;var n=1,r={},s=!1,i=e.document,u;function o(w){typeof w!="function"&&(w=new Function(""+w));for(var x=new Array(arguments.length-1),v=0;v<x.length;v++)x[v]=arguments[v+1];var _={callback:w,args:x};return r[n]=_,u(n),n++}function a(w){delete r[w]}function c(w){var x=w.callback,v=w.args;switch(v.length){case 0:x();break;case 1:x(v[0]);break;case 2:x(v[0],v[1]);break;case 3:x(v[0],v[1],v[2]);break;default:x.apply(t,v);break}}function l(w){if(s)setTimeout(l,0,w);else{var x=r[w];if(x){s=!0;try{c(x)}finally{a(w),s=!1}}}}function d(){u=function(w){process.nextTick(function(){l(w)})}}function h(){if(e.postMessage&&!e.importScripts){var w=!0,x=e.onmessage;return e.onmessage=function(){w=!1},e.postMessage("","*"),e.onmessage=x,w}}function f(){var w="setImmediate$"+Math.random()+"$",x=function(v){v.source===e&&typeof v.data=="string"&&v.data.indexOf(w)===0&&l(+v.data.slice(w.length))};e.addEventListener?e.addEventListener("message",x,!1):e.attachEvent("onmessage",x),u=function(v){e.postMessage(w+v,"*")}}function p(){var w=new MessageChannel;w.port1.onmessage=function(x){var v=x.data;l(v)},u=function(x){w.port2.postMessage(x)}}function m(){var w=i.documentElement;u=function(x){var v=i.createElement("script");v.onreadystatechange=function(){l(x),v.onreadystatechange=null,w.removeChild(v),v=null},w.appendChild(v)}}function b(){u=function(w){setTimeout(l,0,w)}}var y=Object.getPrototypeOf&&Object.getPrototypeOf(e);y=y&&y.setTimeout?y:e,{}.toString.call(e.process)==="[object process]"?d():h()?f():e.MessageChannel?p():i&&"onreadystatechange"in i.createElement("script")?m():b(),y.setImmediate=o,y.clearImmediate=a})(typeof self>"u"?U:self);/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */const g0=self.crypto||self.msCrypto;var Ih=class{constructor(t){if(!(g0&&g0.subtle))throw new Error("crypto.subtle not found.");if(t==="sha256")this.algorithm={name:"SHA-256"};else if(t==="sha1")this.algorithm={name:"SHA-1"};else throw new Error(`Unsupported algorithm "${t}".`);this._content=""}update(t){this._content+=t}async digest(){const t=new TextEncoder().encode(this._content),n=new Uint8Array(await g0.subtle.digest(this.algorithm,t));let r="";for(let s=0;s<n.length;++s)r+=n[s].toString(16).padStart(2,"0");return r}};/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */var L3=class{constructor(t){this.current=t.sort(),this.done=!1,this.dir=new Map;for(let n=0;n<t.length;++n)this.dir.set(t[n],!0)}hasNext(){return!this.done}next(){const{current:t,dir:n}=this,r=t.slice();let s=null,i=0;const u=t.length;for(let o=0;o<u;++o){const a=t[o],c=n.get(a);(s===null||a>s)&&(c&&o>0&&a>t[o-1]||!c&&o<u-1&&a>t[o+1])&&(s=a,i=o)}if(s===null)this.done=!0;else{const o=n.get(s)?i-1:i+1;t[i]=t[o],t[o]=s;for(const a of t)a>s&&n.set(a,!n.get(a))}return r}};/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */const kC="http://www.w3.org/1999/02/22-rdf-syntax-ns#",m0=kC+"langString",b0="http://www.w3.org/2001/XMLSchema#string",yr="NamedNode",Zi="BlankNode",Pf="Literal",Jw="DefaultGraph",Oo={};(()=>{const e="(?:<([^:]+:[^>]*)>)",n="A-Za-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�"+"_",r=n+"0-9-·̀-ͯ‿-⁀",i="(_:(?:["+n+"0-9])(?:(?:["+r+".])*(?:["+r+"]))?)",u='"([^"\\\\]*(?:\\\\.[^"\\\\]*)*)"',o="(?:\\^\\^"+e+")",c="(?:"+u+"(?:"+o+"|"+"(?:@([a-zA-Z]+(?:-[a-zA-Z0-9]+)*))"+")?)",l="[ \\t]+",d="[ \\t]*",h="(?:"+e+"|"+i+")"+l,f=e+l,p="(?:"+e+"|"+i+"|"+c+")"+d,m="(?:\\.|(?:(?:"+e+"|"+i+")"+d+"\\.))";Oo.eoln=/(?:\r\n)|(?:\n)|(?:\r)/g,Oo.empty=new RegExp("^"+d+"$"),Oo.quad=new RegExp("^"+d+h+f+p+m+d+"$")})();var vy=class jf{static parse(t){const n=[],r={},s=t.split(Oo.eoln);let i=0;for(const u of s){if(i++,Oo.empty.test(u))continue;const o=u.match(Oo.quad);if(o===null)throw new Error("N-Quads parse error on line "+i+".");const a={subject:null,predicate:null,object:null,graph:null};if(o[1]!==void 0?a.subject={termType:yr,value:o[1]}:a.subject={termType:Zi,value:o[2]},a.predicate={termType:yr,value:o[3]},o[4]!==void 0?a.object={termType:yr,value:o[4]}:o[5]!==void 0?a.object={termType:Zi,value:o[5]}:(a.object={termType:Pf,value:void 0,datatype:{termType:yr}},o[7]!==void 0?a.object.datatype.value=o[7]:o[8]!==void 0?(a.object.datatype.value=m0,a.object.language=o[8]):a.object.datatype.value=b0,a.object.value=jC(o[6])),o[9]!==void 0?a.graph={termType:yr,value:o[9]}:o[10]!==void 0?a.graph={termType:Zi,value:o[10]}:a.graph={termType:Jw,value:""},!(a.graph.value in r))r[a.graph.value]=[a],n.push(a);else{let c=!0;const l=r[a.graph.value];for(const d of l)if(CC(d,a)){c=!1;break}c&&(l.push(a),n.push(a))}}return n}static serialize(t){Array.isArray(t)||(t=jf.legacyDatasetToQuads(t));const n=[];for(const r of t)n.push(jf.serializeQuad(r));return n.sort().join("")}static serializeQuadComponents(t,n,r,s){let i="";return t.termType===yr?i+=`<${t.value}>`:i+=`${t.value}`,i+=` <${n.value}> `,r.termType===yr?i+=`<${r.value}>`:r.termType===Zi?i+=r.value:(i+=`"${MC(r.value)}"`,r.datatype.value===m0?r.language&&(i+=`@${r.language}`):r.datatype.value!==b0&&(i+=`^^<${r.datatype.value}>`)),s.termType===yr?i+=` <${s.value}>`:s.termType===Zi&&(i+=` ${s.value}`),i+=` .
`,i}static serializeQuad(t){return jf.serializeQuadComponents(t.subject,t.predicate,t.object,t.graph)}static legacyDatasetToQuads(t){const n=[],r={"blank node":Zi,IRI:yr,literal:Pf};for(const s in t)t[s].forEach(u=>{const o={};for(const a in u){const c=u[a],l={termType:r[c.type],value:c.value};l.termType===Pf&&(l.datatype={termType:yr},"datatype"in c&&(l.datatype.value=c.datatype),"language"in c?("datatype"in c||(l.datatype.value=m0),l.language=c.language):"datatype"in c||(l.datatype.value=b0)),o[a]=l}s==="@default"?o.graph={termType:Jw,value:""}:o.graph={termType:s.startsWith("_:")?Zi:yr,value:s},n.push(o)});return n}};function CC(e,t){return!(e.subject.termType===t.subject.termType&&e.object.termType===t.object.termType)||!(e.subject.value===t.subject.value&&e.predicate.value===t.predicate.value&&e.object.value===t.object.value)?!1:e.object.termType!==Pf?!0:e.object.datatype.termType===t.object.datatype.termType&&e.object.language===t.object.language&&e.object.datatype.value===t.object.datatype.value}const DC=/["\\\n\r]/g;function MC(e){return e.replace(DC,function(t){switch(t){case'"':return'\\"';case"\\":return"\\\\";case`
`:return"\\n";case"\r":return"\\r"}})}const PC=/(?:\\([tbnrf"'\\]))|(?:\\u([0-9A-Fa-f]{4}))|(?:\\U([0-9A-Fa-f]{8}))/g;function jC(e){return e.replace(PC,function(t,n,r,s){if(n)switch(n){case"t":return"	";case"b":return"\b";case"n":return`
`;case"r":return"\r";case"f":return"\f";case'"':return'"';case"'":return"'";case"\\":return"\\"}if(r)return String.fromCharCode(parseInt(r,16));if(s)throw new Error("Unsupported U escape")})}/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */const Ww=wy,LC=Ih,FC=L3,Qw=vy;var F3=class{constructor({createMessageDigest:t=()=>new LC("sha256"),canonicalIdMap:n=new Map,maxDeepIterations:r=1/0}={}){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new Ww("_:c14n",n),this.createMessageDigest=t,this.maxDeepIterations=r,this.quads=null,this.deepIterations=null}async main(t){this.deepIterations=new Map,this.quads=t;for(const a of t)this._addBlankNodeQuadInfo({quad:a,component:a.subject}),this._addBlankNodeQuadInfo({quad:a,component:a.object}),this._addBlankNodeQuadInfo({quad:a,component:a.graph});const n=new Map,r=[...this.blankNodeInfo.keys()];let s=0;for(const a of r)++s%100===0&&await this._yield(),await this._hashAndTrackBlankNode({id:a,hashToBlankNodes:n});const i=[...n.keys()].sort(),u=[];for(const a of i){const c=n.get(a);if(c.length>1){u.push(c);continue}const l=c[0];this.canonicalIssuer.getId(l)}for(const a of u){const c=[];for(const l of a){if(this.canonicalIssuer.hasId(l))continue;const d=new Ww("_:b");d.getId(l);const h=await this.hashNDegreeQuads(l,d);c.push(h)}c.sort(BC);for(const l of c){const d=l.issuer.getOldIds();for(const h of d)this.canonicalIssuer.getId(h)}}const o=[];for(const a of this.quads){const c=Qw.serializeQuadComponents(this._componentWithCanonicalId(a.subject),a.predicate,this._componentWithCanonicalId(a.object),this._componentWithCanonicalId(a.graph));o.push(c)}return o.sort(),o.join("")}async hashFirstDegreeQuads(t){const n=[],r=this.blankNodeInfo.get(t),s=r.quads;for(const u of s){const o={subject:null,predicate:u.predicate,object:null,graph:null};o.subject=this.modifyFirstDegreeComponent(t,u.subject,"subject"),o.object=this.modifyFirstDegreeComponent(t,u.object,"object"),o.graph=this.modifyFirstDegreeComponent(t,u.graph,"graph"),n.push(Qw.serializeQuad(o))}n.sort();const i=this.createMessageDigest();for(const u of n)i.update(u);return r.hash=await i.digest(),r.hash}async hashRelatedBlankNode(t,n,r,s){let i;this.canonicalIssuer.hasId(t)?i=this.canonicalIssuer.getId(t):r.hasId(t)?i=r.getId(t):i=this.blankNodeInfo.get(t).hash;const u=this.createMessageDigest();return u.update(s),s!=="g"&&u.update(this.getRelatedPredicate(n)),u.update(i),u.digest()}async hashNDegreeQuads(t,n){const r=this.deepIterations.get(t)||0;if(r>this.maxDeepIterations)throw new Error(`Maximum deep iterations (${this.maxDeepIterations}) exceeded.`);this.deepIterations.set(t,r+1);const s=this.createMessageDigest(),i=await this.createHashToRelated(t,n),u=[...i.keys()].sort();for(const o of u){s.update(o);let a="",c;const l=new FC(i.get(o));let d=0;for(;l.hasNext();){const h=l.next();++d%3===0&&await this._yield();let f=n.clone(),p="";const m=[];let b=!1;for(const y of h)if(this.canonicalIssuer.hasId(y)?p+=this.canonicalIssuer.getId(y):(f.hasId(y)||m.push(y),p+=f.getId(y)),a.length!==0&&p>a){b=!0;break}if(!b){for(const y of m){const w=await this.hashNDegreeQuads(y,f);if(p+=f.getId(y),p+=`<${w.hash}>`,f=w.issuer,a.length!==0&&p>a){b=!0;break}}b||(a.length===0||p<a)&&(a=p,c=f)}}s.update(a),n=c}return{hash:await s.digest(),issuer:n}}modifyFirstDegreeComponent(t,n){return n.termType!=="BlankNode"?n:{termType:"BlankNode",value:n.value===t?"_:a":"_:z"}}getRelatedPredicate(t){return`<${t.predicate.value}>`}async createHashToRelated(t,n){const r=new Map,s=this.blankNodeInfo.get(t).quads;let i=0;for(const u of s)++i%100===0&&await this._yield(),await Promise.all([this._addRelatedBlankNodeHash({quad:u,component:u.subject,position:"s",id:t,issuer:n,hashToRelated:r}),this._addRelatedBlankNodeHash({quad:u,component:u.object,position:"o",id:t,issuer:n,hashToRelated:r}),this._addRelatedBlankNodeHash({quad:u,component:u.graph,position:"g",id:t,issuer:n,hashToRelated:r})]);return r}async _hashAndTrackBlankNode({id:t,hashToBlankNodes:n}){const r=await this.hashFirstDegreeQuads(t),s=n.get(r);s?s.push(t):n.set(r,[t])}_addBlankNodeQuadInfo({quad:t,component:n}){if(n.termType!=="BlankNode")return;const r=n.value,s=this.blankNodeInfo.get(r);s?s.quads.add(t):this.blankNodeInfo.set(r,{quads:new Set([t]),hash:null})}async _addRelatedBlankNodeHash({quad:t,component:n,position:r,id:s,issuer:i,hashToRelated:u}){if(!(n.termType==="BlankNode"&&n.value!==s))return;const o=n.value,a=await this.hashRelatedBlankNode(o,t,i,r),c=u.get(a);c?c.push(o):u.set(a,[o])}_componentWithCanonicalId(t){return t.termType==="BlankNode"&&!t.value.startsWith(this.canonicalIssuer.prefix)?{termType:"BlankNode",value:this.canonicalIssuer.getId(t.value)}:t}async _yield(){return new Promise(t=>setImmediate(t))}};function BC(e,t){return e.hash<t.hash?-1:e.hash>t.hash?1:0}/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */const UC=Ih,qC=F3;var $C=class extends qC{constructor(){super(),this.name="URGNA2012",this.createMessageDigest=()=>new UC("sha1")}modifyFirstDegreeComponent(t,n,r){return n.termType!=="BlankNode"?n:r==="graph"?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:n.value===t?"_:a":"_:z"}}getRelatedPredicate(t){return t.predicate.value}async createHashToRelated(t,n){const r=new Map,s=this.blankNodeInfo.get(t).quads;let i=0;for(const u of s){let o,a;if(u.subject.termType==="BlankNode"&&u.subject.value!==t)a=u.subject.value,o="p";else if(u.object.termType==="BlankNode"&&u.object.value!==t)a=u.object.value,o="r";else continue;++i%100===0&&await this._yield();const c=await this.hashRelatedBlankNode(a,u,n,o),l=r.get(c);l?l.push(a):r.set(c,[a])}return r}};/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */const Xw=wy,VC=Ih,zC=L3,Kw=vy;var B3=class{constructor({createMessageDigest:t=()=>new VC("sha256"),canonicalIdMap:n=new Map,maxDeepIterations:r=1/0}={}){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new Xw("_:c14n",n),this.createMessageDigest=t,this.maxDeepIterations=r,this.quads=null,this.deepIterations=null}main(t){this.deepIterations=new Map,this.quads=t;for(const o of t)this._addBlankNodeQuadInfo({quad:o,component:o.subject}),this._addBlankNodeQuadInfo({quad:o,component:o.object}),this._addBlankNodeQuadInfo({quad:o,component:o.graph});const n=new Map,r=[...this.blankNodeInfo.keys()];for(const o of r)this._hashAndTrackBlankNode({id:o,hashToBlankNodes:n});const s=[...n.keys()].sort(),i=[];for(const o of s){const a=n.get(o);if(a.length>1){i.push(a);continue}const c=a[0];this.canonicalIssuer.getId(c)}for(const o of i){const a=[];for(const c of o){if(this.canonicalIssuer.hasId(c))continue;const l=new Xw("_:b");l.getId(c);const d=this.hashNDegreeQuads(c,l);a.push(d)}a.sort(HC);for(const c of a){const l=c.issuer.getOldIds();for(const d of l)this.canonicalIssuer.getId(d)}}const u=[];for(const o of this.quads){const a=Kw.serializeQuadComponents(this._componentWithCanonicalId({component:o.subject}),o.predicate,this._componentWithCanonicalId({component:o.object}),this._componentWithCanonicalId({component:o.graph}));u.push(a)}return u.sort(),u.join("")}hashFirstDegreeQuads(t){const n=[],r=this.blankNodeInfo.get(t),s=r.quads;for(const u of s){const o={subject:null,predicate:u.predicate,object:null,graph:null};o.subject=this.modifyFirstDegreeComponent(t,u.subject,"subject"),o.object=this.modifyFirstDegreeComponent(t,u.object,"object"),o.graph=this.modifyFirstDegreeComponent(t,u.graph,"graph"),n.push(Kw.serializeQuad(o))}n.sort();const i=this.createMessageDigest();for(const u of n)i.update(u);return r.hash=i.digest(),r.hash}hashRelatedBlankNode(t,n,r,s){let i;this.canonicalIssuer.hasId(t)?i=this.canonicalIssuer.getId(t):r.hasId(t)?i=r.getId(t):i=this.blankNodeInfo.get(t).hash;const u=this.createMessageDigest();return u.update(s),s!=="g"&&u.update(this.getRelatedPredicate(n)),u.update(i),u.digest()}hashNDegreeQuads(t,n){const r=this.deepIterations.get(t)||0;if(r>this.maxDeepIterations)throw new Error(`Maximum deep iterations (${this.maxDeepIterations}) exceeded.`);this.deepIterations.set(t,r+1);const s=this.createMessageDigest(),i=this.createHashToRelated(t,n),u=[...i.keys()].sort();for(const o of u){s.update(o);let a="",c;const l=new zC(i.get(o));for(;l.hasNext();){const d=l.next();let h=n.clone(),f="";const p=[];let m=!1;for(const b of d)if(this.canonicalIssuer.hasId(b)?f+=this.canonicalIssuer.getId(b):(h.hasId(b)||p.push(b),f+=h.getId(b)),a.length!==0&&f>a){m=!0;break}if(!m){for(const b of p){const y=this.hashNDegreeQuads(b,h);if(f+=h.getId(b),f+=`<${y.hash}>`,h=y.issuer,a.length!==0&&f>a){m=!0;break}}m||(a.length===0||f<a)&&(a=f,c=h)}}s.update(a),n=c}return{hash:s.digest(),issuer:n}}modifyFirstDegreeComponent(t,n){return n.termType!=="BlankNode"?n:{termType:"BlankNode",value:n.value===t?"_:a":"_:z"}}getRelatedPredicate(t){return`<${t.predicate.value}>`}createHashToRelated(t,n){const r=new Map,s=this.blankNodeInfo.get(t).quads;for(const i of s)this._addRelatedBlankNodeHash({quad:i,component:i.subject,position:"s",id:t,issuer:n,hashToRelated:r}),this._addRelatedBlankNodeHash({quad:i,component:i.object,position:"o",id:t,issuer:n,hashToRelated:r}),this._addRelatedBlankNodeHash({quad:i,component:i.graph,position:"g",id:t,issuer:n,hashToRelated:r});return r}_hashAndTrackBlankNode({id:t,hashToBlankNodes:n}){const r=this.hashFirstDegreeQuads(t),s=n.get(r);s?s.push(t):n.set(r,[t])}_addBlankNodeQuadInfo({quad:t,component:n}){if(n.termType!=="BlankNode")return;const r=n.value,s=this.blankNodeInfo.get(r);s?s.quads.add(t):this.blankNodeInfo.set(r,{quads:new Set([t]),hash:null})}_addRelatedBlankNodeHash({quad:t,component:n,position:r,id:s,issuer:i,hashToRelated:u}){if(!(n.termType==="BlankNode"&&n.value!==s))return;const o=n.value,a=this.hashRelatedBlankNode(o,t,i,r),c=u.get(a);c?c.push(o):u.set(a,[o])}_componentWithCanonicalId({component:t}){return t.termType==="BlankNode"&&!t.value.startsWith(this.canonicalIssuer.prefix)?{termType:"BlankNode",value:this.canonicalIssuer.getId(t.value)}:t}};function HC(e,t){return e.hash<t.hash?-1:e.hash>t.hash?1:0}/*!
 * Copyright (c) 2016-2021 Digital Bazaar, Inc. All rights reserved.
 */const GC=Ih,JC=B3;var WC=class extends JC{constructor(){super(),this.name="URGNA2012",this.createMessageDigest=()=>new GC("sha1")}modifyFirstDegreeComponent(t,n,r){return n.termType!=="BlankNode"?n:r==="graph"?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:n.value===t?"_:a":"_:z"}}getRelatedPredicate(t){return t.predicate.value}createHashToRelated(t,n){const r=new Map,s=this.blankNodeInfo.get(t).quads;for(const i of s){let u,o;if(i.subject.termType==="BlankNode"&&i.subject.value!==t)o=i.subject.value,u="p";else if(i.object.termType==="BlankNode"&&i.object.value!==t)o=i.object.value,u="r";else continue;const a=this.hashRelatedBlankNode(o,i,n,u),c=r.get(a);c?c.push(o):r.set(a,[o])}return r}};const QC={},XC=Object.freeze(Object.defineProperty({__proto__:null,default:QC},Symbol.toStringTag,{value:"Module"})),KC=yy(XC);(function(e){const t=F3,n=$C,r=B3,s=WC;let i;try{i=KC}catch{}function u(o){return Array.isArray(o)?o:e.NQuads.legacyDatasetToQuads(o)}e.NQuads=vy,e.IdentifierIssuer=wy,e._rdfCanonizeNative=function(o){return o&&(i=o),i},e.canonize=async function(o,a){const c=u(o);if(a.useNative){if(!i)throw new Error("rdf-canonize-native not available");if(a.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "useNative".');return new Promise((l,d)=>i.canonize(c,a,(h,f)=>h?d(h):l(f)))}if(a.algorithm==="URDNA2015")return new t(a).main(c);if(a.algorithm==="URGNA2012"){if(a.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "URGNA2012".');return new n(a).main(c)}throw"algorithm"in a?new Error("Invalid RDF Dataset Canonicalization algorithm: "+a.algorithm):new Error("No RDF Dataset Canonicalization algorithm specified.")},e._canonizeSync=function(o,a){const c=u(o);if(a.useNative){if(!i)throw new Error("rdf-canonize-native not available");if(a.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "useNative".');return i.canonizeSync(c,a)}if(a.algorithm==="URDNA2015")return new r(a).main(c);if(a.algorithm==="URGNA2012"){if(a.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "URGNA2012".');return new s(a).main(c)}throw"algorithm"in a?new Error("Invalid RDF Dataset Canonicalization algorithm: "+a.algorithm):new Error("No RDF Dataset Canonicalization algorithm specified.")}})(P3);var xy=P3;const fr={};var Vn=fr;fr.isArray=Array.isArray;fr.isBoolean=e=>typeof e=="boolean"||Object.prototype.toString.call(e)==="[object Boolean]";fr.isDouble=e=>fr.isNumber(e)&&(String(e).indexOf(".")!==-1||Math.abs(e)>=1e21);fr.isEmptyObject=e=>fr.isObject(e)&&Object.keys(e).length===0;fr.isNumber=e=>typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]";fr.isNumeric=e=>!isNaN(parseFloat(e))&&isFinite(e);fr.isObject=e=>Object.prototype.toString.call(e)==="[object Object]";fr.isString=e=>typeof e=="string"||Object.prototype.toString.call(e)==="[object String]";fr.isUndefined=e=>typeof e>"u";const ku=Vn,Gs={};var ti=Gs;Gs.isSubject=e=>ku.isObject(e)&&!("@value"in e||"@set"in e||"@list"in e)?Object.keys(e).length>1||!("@id"in e):!1;Gs.isSubjectReference=e=>ku.isObject(e)&&Object.keys(e).length===1&&"@id"in e;Gs.isValue=e=>ku.isObject(e)&&"@value"in e;Gs.isList=e=>ku.isObject(e)&&"@list"in e;Gs.isGraph=e=>ku.isObject(e)&&"@graph"in e&&Object.keys(e).filter(t=>t!=="@id"&&t!=="@index").length===1;Gs.isSimpleGraph=e=>Gs.isGraph(e)&&!("@id"in e);Gs.isBlankNode=e=>{if(ku.isObject(e)){if("@id"in e){const t=e["@id"];return!ku.isString(t)||t.indexOf("_:")===0}return Object.keys(e).length===0||!("@value"in e||"@set"in e||"@list"in e)}return!1};var pr=class extends Error{constructor(t="An unspecified JSON-LD error occurred.",n="jsonld.Error",r={}){super(t),this.name=n,this.message=t,this.details=r}};const Nc=ti,Ht=Vn,U3=xy.IdentifierIssuer,YC=pr,ZC=/^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$/,eD=/(?:<[^>]*?>|"[^"]*?"|[^,])+/g,tD=/\s*<([^>]*?)>\s*(?:;\s*(.*))?/,nD=/(.*?)=(?:(?:"([^"]*?)")|([^"]*?))\s*(?:(?:;\s*)|$)/g,rD=/^@[a-zA-Z]+$/,Yw={headers:{accept:"application/ld+json, application/json"}},we={};var gr=we;we.IdentifierIssuer=U3;we.REGEX_BCP47=ZC;we.REGEX_KEYWORD=rD;we.clone=function(e){if(e&&typeof e=="object"){let t;if(Ht.isArray(e)){t=[];for(let n=0;n<e.length;++n)t[n]=we.clone(e[n])}else if(e instanceof Map){t=new Map;for(const[n,r]of e)t.set(n,we.clone(r))}else if(e instanceof Set){t=new Set;for(const n of e)t.add(we.clone(n))}else if(Ht.isObject(e)){t={};for(const n in e)t[n]=we.clone(e[n])}else t=e.toString();return t}return e};we.asArray=function(e){return Array.isArray(e)?e:[e]};we.buildHeaders=(e={})=>{if(Object.keys(e).some(n=>n.toLowerCase()==="accept"))throw new RangeError('Accept header may not be specified; only "'+Yw.headers.accept+'" is supported.');return Object.assign({Accept:Yw.headers.accept},e)};we.parseLinkHeader=e=>{const t={},n=e.match(eD);for(let r=0;r<n.length;++r){let s=n[r].match(tD);if(!s)continue;const i={target:s[1]},u=s[2];for(;s=nD.exec(u);)i[s[1]]=s[2]===void 0?s[3]:s[2];const o=i.rel||"";Array.isArray(t[o])?t[o].push(i):t.hasOwnProperty(o)?t[o]=[t[o],i]:t[o]=i}return t};we.validateTypeValue=(e,t)=>{if(!Ht.isString(e)&&!(Ht.isArray(e)&&e.every(n=>Ht.isString(n)))){if(t&&Ht.isObject(e))switch(Object.keys(e).length){case 0:return;case 1:if("@default"in e&&we.asArray(e["@default"]).every(n=>Ht.isString(n)))return}throw new YC('Invalid JSON-LD syntax; "@type" value must a string, an array of strings, an empty object, or a default object.',"jsonld.SyntaxError",{code:"invalid type value",value:e})}};we.hasProperty=(e,t)=>{if(e.hasOwnProperty(t)){const n=e[t];return!Ht.isArray(n)||n.length>0}return!1};we.hasValue=(e,t,n)=>{if(we.hasProperty(e,t)){let r=e[t];const s=Nc.isList(r);if(Ht.isArray(r)||s){s&&(r=r["@list"]);for(let i=0;i<r.length;++i)if(we.compareValues(n,r[i]))return!0}else if(!Ht.isArray(n))return we.compareValues(n,r)}return!1};we.addValue=(e,t,n,r)=>{if(r=r||{},"propertyIsArray"in r||(r.propertyIsArray=!1),"valueIsArray"in r||(r.valueIsArray=!1),"allowDuplicate"in r||(r.allowDuplicate=!0),"prependValue"in r||(r.prependValue=!1),r.valueIsArray)e[t]=n;else if(Ht.isArray(n)){n.length===0&&r.propertyIsArray&&!e.hasOwnProperty(t)&&(e[t]=[]),r.prependValue&&(n=n.concat(e[t]),e[t]=[]);for(let s=0;s<n.length;++s)we.addValue(e,t,n[s],r)}else if(e.hasOwnProperty(t)){const s=!r.allowDuplicate&&we.hasValue(e,t,n);!Ht.isArray(e[t])&&(!s||r.propertyIsArray)&&(e[t]=[e[t]]),s||(r.prependValue?e[t].unshift(n):e[t].push(n))}else e[t]=r.propertyIsArray?[n]:n};we.getValues=(e,t)=>[].concat(e[t]||[]);we.removeProperty=(e,t)=>{delete e[t]};we.removeValue=(e,t,n,r)=>{r=r||{},"propertyIsArray"in r||(r.propertyIsArray=!1);const s=we.getValues(e,t).filter(i=>!we.compareValues(i,n));s.length===0?we.removeProperty(e,t):s.length===1&&!r.propertyIsArray?e[t]=s[0]:e[t]=s};we.relabelBlankNodes=(e,t)=>{t=t||{};const n=t.issuer||new U3("_:b");return Lf(n,e)};we.compareValues=(e,t)=>e===t||Nc.isValue(e)&&Nc.isValue(t)&&e["@value"]===t["@value"]&&e["@type"]===t["@type"]&&e["@language"]===t["@language"]&&e["@index"]===t["@index"]?!0:Ht.isObject(e)&&"@id"in e&&Ht.isObject(t)&&"@id"in t?e["@id"]===t["@id"]:!1;we.compareShortestLeast=(e,t)=>e.length<t.length?-1:t.length<e.length?1:e===t?0:e<t?-1:1;function Lf(e,t){if(Ht.isArray(t))for(let n=0;n<t.length;++n)t[n]=Lf(e,t[n]);else if(Nc.isList(t))t["@list"]=Lf(e,t["@list"]);else if(Ht.isObject(t)){Nc.isBlankNode(t)&&(t["@id"]=e.getId(t["@id"]));const n=Object.keys(t).sort();for(let r=0;r<n.length;++r){const s=n[r];s!=="@id"&&(t[s]=Lf(e,t[s]))}}return t}const wr="http://www.w3.org/1999/02/22-rdf-syntax-ns#",Ma="http://www.w3.org/2001/XMLSchema#";var Sy={LINK_HEADER_REL:"http://www.w3.org/ns/json-ld#context",LINK_HEADER_CONTEXT:"http://www.w3.org/ns/json-ld#context",RDF:wr,RDF_LIST:wr+"List",RDF_FIRST:wr+"first",RDF_REST:wr+"rest",RDF_NIL:wr+"nil",RDF_TYPE:wr+"type",RDF_PLAIN_LITERAL:wr+"PlainLiteral",RDF_XML_LITERAL:wr+"XMLLiteral",RDF_JSON_LITERAL:wr+"JSON",RDF_OBJECT:wr+"object",RDF_LANGSTRING:wr+"langString",XSD:Ma,XSD_BOOLEAN:Ma+"boolean",XSD_DOUBLE:Ma+"double",XSD_INTEGER:Ma+"integer",XSD_STRING:Ma+"string"},y0,Zw;function q3(){return Zw||(Zw=1,y0=class{constructor(){this._requests={}}wrapLoader(t){const n=this;return n._loader=t,function(){return n.add.apply(n,arguments)}}async add(t){let n=this._requests[t];if(n)return Promise.resolve(n);n=this._requests[t]=this._loader(t);try{return await n}finally{delete this._requests[t]}}}),y0}const Nh=Vn,Gt={};var $i=Gt;Gt.parsers={simple:{keys:["href","scheme","authority","path","query","fragment"],regex:/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/},full:{keys:["href","protocol","scheme","authority","auth","user","password","hostname","port","path","directory","file","query","fragment"],regex:/^(([a-zA-Z][a-zA-Z0-9+-.]*):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:(((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}};Gt.parse=(e,t)=>{const n={},r=Gt.parsers[t||"full"],s=r.regex.exec(e);let i=r.keys.length;for(;i--;)n[r.keys[i]]=s[i]===void 0?null:s[i];return(n.scheme==="https"&&n.port==="443"||n.scheme==="http"&&n.port==="80")&&(n.href=n.href.replace(":"+n.port,""),n.authority=n.authority.replace(":"+n.port,""),n.port=null),n.normalizedPath=Gt.removeDotSegments(n.path),n};Gt.prependBase=(e,t)=>{if(e===null||Gt.isAbsolute(t))return t;(!e||Nh.isString(e))&&(e=Gt.parse(e||""));const n=Gt.parse(t),r={protocol:e.protocol||""};if(n.authority!==null)r.authority=n.authority,r.path=n.path,r.query=n.query;else if(r.authority=e.authority,n.path==="")r.path=e.path,n.query!==null?r.query=n.query:r.query=e.query;else{if(n.path.indexOf("/")===0)r.path=n.path;else{let i=e.path;i=i.substr(0,i.lastIndexOf("/")+1),(i.length>0||e.authority)&&i.substr(-1)!=="/"&&(i+="/"),i+=n.path,r.path=i}r.query=n.query}n.path!==""&&(r.path=Gt.removeDotSegments(r.path));let s=r.protocol;return r.authority!==null&&(s+="//"+r.authority),s+=r.path,r.query!==null&&(s+="?"+r.query),n.fragment!==null&&(s+="#"+n.fragment),s===""&&(s="./"),s};Gt.removeBase=(e,t)=>{if(e===null)return t;(!e||Nh.isString(e))&&(e=Gt.parse(e||""));let n="";if(e.href!==""?n+=(e.protocol||"")+"//"+(e.authority||""):t.indexOf("//")&&(n+="//"),t.indexOf(n)!==0)return t;const r=Gt.parse(t.substr(n.length)),s=e.normalizedPath.split("/"),i=r.normalizedPath.split("/"),u=r.fragment||r.query?0:1;for(;s.length>0&&i.length>u&&s[0]===i[0];)s.shift(),i.shift();let o="";if(s.length>0){s.pop();for(let a=0;a<s.length;++a)o+="../"}return o+=i.join("/"),r.query!==null&&(o+="?"+r.query),r.fragment!==null&&(o+="#"+r.fragment),o===""&&(o="./"),o};Gt.removeDotSegments=e=>{if(e.length===0)return"";const t=e.split("/"),n=[];for(;t.length>0;){const r=t.shift(),s=t.length===0;if(r==="."){s&&n.push("");continue}if(r===".."){n.pop(),s&&n.push("");continue}n.push(r)}return e[0]==="/"&&n.length>0&&n[0]!==""&&n.unshift(""),n.length===1&&n[0]===""?"/":n.join("/")};const sD=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^\s]*$/;Gt.isAbsolute=e=>Nh.isString(e)&&sD.test(e);Gt.isRelative=e=>Nh.isString(e);const{parseLinkHeader:iD,buildHeaders:uD}=gr,{LINK_HEADER_CONTEXT:oD}=Sy,Pa=pr,aD=q3(),{prependBase:cD}=$i,lD=/(^|(\r\n))link:/i;var fD=({secure:e,headers:t={},xhr:n}={headers:{}})=>{return t=uD(t),new aD().wrapLoader(s);async function s(i){if(i.indexOf("http:")!==0&&i.indexOf("https:")!==0)throw new Pa('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:i});if(e&&i.indexOf("https")!==0)throw new Pa(`URL could not be dereferenced; secure mode is enabled and the URL's scheme is not "https".`,"jsonld.InvalidUrl",{code:"loading document failed",url:i});let u;try{u=await dD(n,i,t)}catch(d){throw new Pa("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:i,cause:d})}if(u.status>=400)throw new Pa("URL could not be dereferenced: "+u.statusText,"jsonld.LoadDocumentError",{code:"loading document failed",url:i,httpStatusCode:u.status});let o={contextUrl:null,documentUrl:i,document:u.response},a=null;const c=u.getResponseHeader("Content-Type");let l;if(lD.test(u.getAllResponseHeaders())&&(l=u.getResponseHeader("Link")),l&&c!=="application/ld+json"){const d=iD(l),h=d[oD];if(Array.isArray(h))throw new Pa("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:i});h&&(o.contextUrl=h.target),a=d.alternate,a&&a.type=="application/ld+json"&&!(c||"").match(/^application\/(\w*\+)?json$/)&&(o=await s(cD(i,a.target)))}return o}};function dD(e,t,n){e=e||XMLHttpRequest;const r=new e;return new Promise((s,i)=>{r.onload=()=>s(r),r.onerror=u=>i(u),r.open("GET",t,!0);for(const u in n)r.setRequestHeader(u,n[u]);r.send()})}const hD=fD,Ay={};var pD=Ay;Ay.setupDocumentLoaders=function(e){typeof XMLHttpRequest<"u"&&(e.documentLoaders.xhr=hD,e.useDocumentLoader("xhr"))};Ay.setupGlobals=function(e){typeof globalThis.JsonLdProcessor>"u"&&Object.defineProperty(globalThis,"JsonLdProcessor",{writable:!0,enumerable:!1,configurable:!0,value:e.JsonLdProcessor})};var w0,ev;function gD(){return ev||(ev=1,w0=function(e){e.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next)yield t.value}}),w0}var mD=ye;ye.Node=Cu;ye.create=ye;function ye(e){var t=this;if(t instanceof ye||(t=new ye),t.tail=null,t.head=null,t.length=0,e&&typeof e.forEach=="function")e.forEach(function(s){t.push(s)});else if(arguments.length>0)for(var n=0,r=arguments.length;n<r;n++)t.push(arguments[n]);return t}ye.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,n=e.prev;return t&&(t.prev=n),n&&(n.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=n),e.list.length--,e.next=null,e.prev=null,e.list=null,t};ye.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}};ye.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}};ye.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)yD(this,arguments[e]);return this.length};ye.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)wD(this,arguments[e]);return this.length};ye.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}};ye.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}};ye.prototype.forEach=function(e,t){t=t||this;for(var n=this.head,r=0;n!==null;r++)e.call(t,n.value,r,this),n=n.next};ye.prototype.forEachReverse=function(e,t){t=t||this;for(var n=this.tail,r=this.length-1;n!==null;r--)e.call(t,n.value,r,this),n=n.prev};ye.prototype.get=function(e){for(var t=0,n=this.head;n!==null&&t<e;t++)n=n.next;if(t===e&&n!==null)return n.value};ye.prototype.getReverse=function(e){for(var t=0,n=this.tail;n!==null&&t<e;t++)n=n.prev;if(t===e&&n!==null)return n.value};ye.prototype.map=function(e,t){t=t||this;for(var n=new ye,r=this.head;r!==null;)n.push(e.call(t,r.value,this)),r=r.next;return n};ye.prototype.mapReverse=function(e,t){t=t||this;for(var n=new ye,r=this.tail;r!==null;)n.push(e.call(t,r.value,this)),r=r.prev;return n};ye.prototype.reduce=function(e,t){var n,r=this.head;if(arguments.length>1)n=t;else if(this.head)r=this.head.next,n=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=0;r!==null;s++)n=e(n,r.value,s),r=r.next;return n};ye.prototype.reduceReverse=function(e,t){var n,r=this.tail;if(arguments.length>1)n=t;else if(this.tail)r=this.tail.prev,n=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=this.length-1;r!==null;s--)n=e(n,r.value,s),r=r.prev;return n};ye.prototype.toArray=function(){for(var e=new Array(this.length),t=0,n=this.head;n!==null;t++)e[t]=n.value,n=n.next;return e};ye.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,n=this.tail;n!==null;t++)e[t]=n.value,n=n.prev;return e};ye.prototype.slice=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var n=new ye;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var r=0,s=this.head;s!==null&&r<e;r++)s=s.next;for(;s!==null&&r<t;r++,s=s.next)n.push(s.value);return n};ye.prototype.sliceReverse=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var n=new ye;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var r=this.length,s=this.tail;s!==null&&r>t;r--)s=s.prev;for(;s!==null&&r>e;r--,s=s.prev)n.push(s.value);return n};ye.prototype.splice=function(e,t,...n){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var r=0,s=this.head;s!==null&&r<e;r++)s=s.next;for(var i=[],r=0;s&&r<t;r++)i.push(s.value),s=this.removeNode(s);s===null&&(s=this.tail),s!==this.head&&s!==this.tail&&(s=s.prev);for(var r=0;r<n.length;r++)s=bD(this,s,n[r]);return i};ye.prototype.reverse=function(){for(var e=this.head,t=this.tail,n=e;n!==null;n=n.prev){var r=n.prev;n.prev=n.next,n.next=r}return this.head=t,this.tail=e,this};function bD(e,t,n){var r=t===e.head?new Cu(n,null,t,e):new Cu(n,t,t.next,e);return r.next===null&&(e.tail=r),r.prev===null&&(e.head=r),e.length++,r}function yD(e,t){e.tail=new Cu(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function wD(e,t){e.head=new Cu(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function Cu(e,t,n,r){if(!(this instanceof Cu))return new Cu(e,t,n,r);this.list=r,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}try{gD()(ye)}catch{}const vD=mD,cu=Symbol("max"),Is=Symbol("length"),ro=Symbol("lengthCalculator"),oc=Symbol("allowStale"),du=Symbol("maxAge"),Es=Symbol("dispose"),tv=Symbol("noDisposeOnSet"),bt=Symbol("lruList"),Sr=Symbol("cache"),$3=Symbol("updateAgeOnGet"),v0=()=>1;class xD{constructor(t){if(typeof t=="number"&&(t={max:t}),t||(t={}),t.max&&(typeof t.max!="number"||t.max<0))throw new TypeError("max must be a non-negative number");this[cu]=t.max||1/0;const n=t.length||v0;if(this[ro]=typeof n!="function"?v0:n,this[oc]=t.stale||!1,t.maxAge&&typeof t.maxAge!="number")throw new TypeError("maxAge must be a number");this[du]=t.maxAge||0,this[Es]=t.dispose,this[tv]=t.noDisposeOnSet||!1,this[$3]=t.updateAgeOnGet||!1,this.reset()}set max(t){if(typeof t!="number"||t<0)throw new TypeError("max must be a non-negative number");this[cu]=t||1/0,ja(this)}get max(){return this[cu]}set allowStale(t){this[oc]=!!t}get allowStale(){return this[oc]}set maxAge(t){if(typeof t!="number")throw new TypeError("maxAge must be a non-negative number");this[du]=t,ja(this)}get maxAge(){return this[du]}set lengthCalculator(t){typeof t!="function"&&(t=v0),t!==this[ro]&&(this[ro]=t,this[Is]=0,this[bt].forEach(n=>{n.length=this[ro](n.value,n.key),this[Is]+=n.length})),ja(this)}get lengthCalculator(){return this[ro]}get length(){return this[Is]}get itemCount(){return this[bt].length}rforEach(t,n){n=n||this;for(let r=this[bt].tail;r!==null;){const s=r.prev;nv(this,t,r,n),r=s}}forEach(t,n){n=n||this;for(let r=this[bt].head;r!==null;){const s=r.next;nv(this,t,r,n),r=s}}keys(){return this[bt].toArray().map(t=>t.key)}values(){return this[bt].toArray().map(t=>t.value)}reset(){this[Es]&&this[bt]&&this[bt].length&&this[bt].forEach(t=>this[Es](t.key,t.value)),this[Sr]=new Map,this[bt]=new vD,this[Is]=0}dump(){return this[bt].map(t=>fd(this,t)?!1:{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}).toArray().filter(t=>t)}dumpLru(){return this[bt]}set(t,n,r){if(r=r||this[du],r&&typeof r!="number")throw new TypeError("maxAge must be a number");const s=r?Date.now():0,i=this[ro](n,t);if(this[Sr].has(t)){if(i>this[cu])return Io(this,this[Sr].get(t)),!1;const a=this[Sr].get(t).value;return this[Es]&&(this[tv]||this[Es](t,a.value)),a.now=s,a.maxAge=r,a.value=n,this[Is]+=i-a.length,a.length=i,this.get(t),ja(this),!0}const u=new SD(t,n,i,s,r);return u.length>this[cu]?(this[Es]&&this[Es](t,n),!1):(this[Is]+=u.length,this[bt].unshift(u),this[Sr].set(t,this[bt].head),ja(this),!0)}has(t){if(!this[Sr].has(t))return!1;const n=this[Sr].get(t).value;return!fd(this,n)}get(t){return x0(this,t,!0)}peek(t){return x0(this,t,!1)}pop(){const t=this[bt].tail;return t?(Io(this,t),t.value):null}del(t){Io(this,this[Sr].get(t))}load(t){this.reset();const n=Date.now();for(let r=t.length-1;r>=0;r--){const s=t[r],i=s.e||0;if(i===0)this.set(s.k,s.v);else{const u=i-n;u>0&&this.set(s.k,s.v,u)}}}prune(){this[Sr].forEach((t,n)=>x0(this,n,!1))}}const x0=(e,t,n)=>{const r=e[Sr].get(t);if(r){const s=r.value;if(fd(e,s)){if(Io(e,r),!e[oc])return}else n&&(e[$3]&&(r.value.now=Date.now()),e[bt].unshiftNode(r));return s.value}},fd=(e,t)=>{if(!t||!t.maxAge&&!e[du])return!1;const n=Date.now()-t.now;return t.maxAge?n>t.maxAge:e[du]&&n>e[du]},ja=e=>{if(e[Is]>e[cu])for(let t=e[bt].tail;e[Is]>e[cu]&&t!==null;){const n=t.prev;Io(e,t),t=n}},Io=(e,t)=>{if(t){const n=t.value;e[Es]&&e[Es](n.key,n.value),e[Is]-=n.length,e[Sr].delete(n.key),e[bt].removeNode(t)}};class SD{constructor(t,n,r,s,i){this.key=t,this.value=n,this.length=r,this.now=s,this.maxAge=i||0}}const nv=(e,t,n,r)=>{let s=n.value;fd(e,s)&&(Io(e,n),e[oc]||(s=void 0)),s&&t.call(r,s.value,s.key,e)};var V3=xD;const AD=V3,_D=10;var TD=class{constructor({document:t}){this.document=t,this.cache=new AD({max:_D})}getProcessed(t){return this.cache.get(t)}setProcessed(t,n){this.cache.set(t,n)}};const{isArray:$g,isObject:ac,isString:dd}=Vn,{asArray:ED}=gr,{prependBase:Vg}=$i,Xa=pr,rv=TD,sv=10;var OD=class{constructor({sharedCache:t}){this.perOpCache=new Map,this.sharedCache=t}async resolve({activeCtx:t,context:n,documentLoader:r,base:s,cycles:i=new Set}){n&&ac(n)&&n["@context"]&&(n=n["@context"]),n=ED(n);const u=[];for(const o of n){if(dd(o)){let l=this._get(o);l||(l=await this._resolveRemoteContext({activeCtx:t,url:o,documentLoader:r,base:s,cycles:i})),$g(l)?u.push(...l):u.push(l);continue}if(o===null){u.push(new rv({document:null}));continue}ac(o)||ID(n);const a=JSON.stringify(o);let c=this._get(a);c||(c=new rv({document:o}),this._cacheResolvedContext({key:a,resolved:c,tag:"static"})),u.push(c)}return u}_get(t){let n=this.perOpCache.get(t);if(!n){const r=this.sharedCache.get(t);r&&(n=r.get("static"),n&&this.perOpCache.set(t,n))}return n}_cacheResolvedContext({key:t,resolved:n,tag:r}){if(this.perOpCache.set(t,n),r!==void 0){let s=this.sharedCache.get(t);s||(s=new Map,this.sharedCache.set(t,s)),s.set(r,n)}return n}async _resolveRemoteContext({activeCtx:t,url:n,documentLoader:r,base:s,cycles:i}){n=Vg(s,n);const{context:u,remoteDoc:o}=await this._fetchContext({activeCtx:t,url:n,documentLoader:r,cycles:i});s=o.documentUrl||n,zg({context:u,base:s});const a=await this.resolve({activeCtx:t,context:u,documentLoader:r,base:s,cycles:i});return this._cacheResolvedContext({key:n,resolved:a,tag:o.tag}),a}async _fetchContext({activeCtx:t,url:n,documentLoader:r,cycles:s}){if(s.size>sv)throw new Xa("Maximum number of @context URLs exceeded.","jsonld.ContextUrlError",{code:t.processingMode==="json-ld-1.0"?"loading remote context failed":"context overflow",max:sv});if(s.has(n))throw new Xa("Cyclical @context URLs detected.","jsonld.ContextUrlError",{code:t.processingMode==="json-ld-1.0"?"recursive context inclusion":"context overflow",url:n});s.add(n);let i,u;try{u=await r(n),i=u.document||null,dd(i)&&(i=JSON.parse(i))}catch(o){throw new Xa("Dereferencing a URL did not result in a valid JSON-LD object. Possible causes are an inaccessible URL perhaps due to a same-origin policy (ensure the server uses CORS if you are using client-side JavaScript), too many redirects, a non-JSON response, or more than one HTTP Link Header was provided for a remote context.","jsonld.InvalidUrl",{code:"loading remote context failed",url:n,cause:o})}if(!ac(i))throw new Xa("Dereferencing a URL did not result in a JSON object. The response was valid JSON, but it was not a JSON object.","jsonld.InvalidUrl",{code:"invalid remote context",url:n});return"@context"in i?i={"@context":i["@context"]}:i={"@context":{}},u.contextUrl&&($g(i["@context"])||(i["@context"]=[i["@context"]]),i["@context"].push(u.contextUrl)),{context:i,remoteDoc:u}}};function ID(e){throw new Xa("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:e})}function zg({context:e,base:t}){if(!e)return;const n=e["@context"];if(dd(n)){e["@context"]=Vg(t,n);return}if($g(n)){for(let r=0;r<n.length;++r){const s=n[r];if(dd(s)){n[r]=Vg(t,s);continue}ac(s)&&zg({context:{"@context":s},base:t})}return}if(ac(n))for(const r in n)zg({context:n[r],base:t})}var ND=xy.NQuads;const _y=pr,{isArray:RD}=Vn,{asArray:z3}=gr,Dn={};var Ol=Dn;Dn.defaultEventHandler=null;Dn.setupEventHandler=({options:e={}})=>{const t=[].concat(e.safe?Dn.safeEventHandler:[],e.eventHandler?z3(e.eventHandler):[],Dn.defaultEventHandler?Dn.defaultEventHandler:[]);return t.length===0?null:t};Dn.handleEvent=({event:e,options:t})=>{H3({event:e,handlers:t.eventHandler})};function H3({event:e,handlers:t}){let n=!0;for(let r=0;n&&r<t.length;++r){n=!1;const s=t[r];if(RD(s))n=H3({event:e,handlers:s});else if(typeof s=="function")s({event:e,next:()=>{n=!0}});else if(typeof s=="object")e.code in s?s[e.code]({event:e,next:()=>{n=!0}}):n=!0;else throw new _y("Invalid event handler.","jsonld.InvalidEventHandler",{event:e})}return n}const kD=new Set(["empty object","free-floating scalar","invalid @language value","invalid property","null @id value","null @value value","object with only @id","object with only @language","object with only @list","object with only @value","relative @id reference","relative @type reference","relative @vocab reference","reserved @id value","reserved @reverse value","reserved term","blank node predicate","relative graph reference","relative object reference","relative predicate reference","relative subject reference","rdfDirection not set"]);Dn.safeEventHandler=function({event:t,next:n}){if(t.level==="warning"&&kD.has(t.code))throw new _y("Safe mode validation error.","jsonld.ValidationError",{event:t});n()};Dn.logEventHandler=function({event:t,next:n}){console.log(`EVENT: ${t.message}`,{event:t}),n()};Dn.logWarningEventHandler=function({event:t,next:n}){t.level==="warning"&&console.warn(`WARNING: ${t.message}`,{event:t}),n()};Dn.unhandledEventHandler=function({event:t}){throw new _y("No handler for event.","jsonld.UnhandledEvent",{event:t})};Dn.setDefaultEventHandler=function({eventHandler:e}={}){Dn.defaultEventHandler=e?z3(e):null};const iv=gr,K=pr,{isArray:G3,isObject:li,isString:yn,isUndefined:CD}=Vn,{isAbsolute:_u,isRelative:DD,prependBase:cc}=$i,{handleEvent:No}=Ol,{REGEX_BCP47:MD,REGEX_KEYWORD:Ff,asArray:J3,compareShortestLeast:PD}=gr,uf=new Map,jD=1e4,De={};var zu=De;De.process=async({activeCtx:e,localCtx:t,options:n,propagate:r=!0,overrideProtected:s=!1,cycles:i=new Set})=>{if(li(t)&&"@context"in t&&G3(t["@context"])&&(t=t["@context"]),J3(t).length===0)return e;const o=[],a=[({event:h,next:f})=>{o.push(h),f()}];n.eventHandler&&a.push(n.eventHandler);const c=n;n={...n,eventHandler:a};const l=await n.contextResolver.resolve({activeCtx:e,context:t,documentLoader:n.documentLoader,base:n.base});li(l[0].document)&&typeof l[0].document["@propagate"]=="boolean"&&(r=l[0].document["@propagate"]);let d=e;!r&&!d.previousContext&&(d=d.clone(),d.previousContext=e);for(const h of l){let{document:f}=h;if(e=d,f===null){if(!s&&Object.keys(e.protected).length!==0)throw new K("Tried to nullify a context with protected terms outside of a term definition.","jsonld.SyntaxError",{code:"invalid context nullification"});d=e=De.getInitialContext(n).clone();continue}const p=h.getProcessed(e);if(p){if(c.eventHandler)for(const b of p.events)No({event:b,options:c});d=e=p.context;continue}if(li(f)&&"@context"in f&&(f=f["@context"]),!li(f))throw new K("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:f});d=d.clone();const m=new Map;if("@version"in f){if(f["@version"]!==1.1)throw new K("Unsupported JSON-LD version: "+f["@version"],"jsonld.UnsupportedVersion",{code:"invalid @version value",context:f});if(e.processingMode&&e.processingMode==="json-ld-1.0")throw new K("@version: "+f["@version"]+" not compatible with "+e.processingMode,"jsonld.ProcessingModeConflict",{code:"processing mode conflict",context:f});d.processingMode="json-ld-1.1",d["@version"]=f["@version"],m.set("@version",!0)}if(d.processingMode=d.processingMode||e.processingMode,"@base"in f){let b=f["@base"];if(!(b===null||_u(b)))if(DD(b))b=cc(d["@base"],b);else throw new K('Invalid JSON-LD syntax; the value of "@base" in a @context must be an absolute IRI, a relative IRI, or null.',"jsonld.SyntaxError",{code:"invalid base IRI",context:f});d["@base"]=b,m.set("@base",!0)}if("@vocab"in f){const b=f["@vocab"];if(b===null)delete d["@vocab"];else if(yn(b)){if(!_u(b)&&De.processingMode(d,1))throw new K('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be an absolute IRI.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:f});{const y=bo(d,b,{vocab:!0,base:!0},void 0,void 0,n);_u(y)||n.eventHandler&&No({event:{type:["JsonLdEvent"],code:"relative @vocab reference",level:"warning",message:"Relative @vocab reference found.",details:{vocab:y}},options:n}),d["@vocab"]=y}}else throw new K('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:f});m.set("@vocab",!0)}if("@language"in f){const b=f["@language"];if(b===null)delete d["@language"];else if(yn(b))b.match(MD)||n.eventHandler&&No({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:b}},options:n}),d["@language"]=b.toLowerCase();else throw new K('Invalid JSON-LD syntax; the value of "@language" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid default language",context:f});m.set("@language",!0)}if("@direction"in f){const b=f["@direction"];if(e.processingMode==="json-ld-1.0")throw new K("Invalid JSON-LD syntax; @direction not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context member",context:f});if(b===null)delete d["@direction"];else{if(b!=="ltr"&&b!=="rtl")throw new K('Invalid JSON-LD syntax; the value of "@direction" in a @context must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:f});d["@direction"]=b}m.set("@direction",!0)}if("@propagate"in f){const b=f["@propagate"];if(e.processingMode==="json-ld-1.0")throw new K("Invalid JSON-LD syntax; @propagate not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:f});if(typeof b!="boolean")throw new K("Invalid JSON-LD syntax; @propagate value must be a boolean.","jsonld.SyntaxError",{code:"invalid @propagate value",context:t});m.set("@propagate",!0)}if("@import"in f){const b=f["@import"];if(e.processingMode==="json-ld-1.0")throw new K("Invalid JSON-LD syntax; @import not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:f});if(!yn(b))throw new K("Invalid JSON-LD syntax; @import must be a string.","jsonld.SyntaxError",{code:"invalid @import value",context:t});const y=await n.contextResolver.resolve({activeCtx:e,context:b,documentLoader:n.documentLoader,base:n.base});if(y.length!==1)throw new K("Invalid JSON-LD syntax; @import must reference a single context.","jsonld.SyntaxError",{code:"invalid remote context",context:t});const w=y[0].getProcessed(e);if(w)f=w;else{const x=y[0].document;if("@import"in x)throw new K("Invalid JSON-LD syntax: imported context must not include @import.","jsonld.SyntaxError",{code:"invalid context entry",context:t});for(const v in x)f.hasOwnProperty(v)||(f[v]=x[v]);y[0].setProcessed(e,f)}m.set("@import",!0)}m.set("@protected",f["@protected"]||!1);for(const b in f)if(De.createTermDefinition({activeCtx:d,localCtx:f,term:b,defined:m,options:n,overrideProtected:s}),li(f[b])&&"@context"in f[b]){const y=f[b]["@context"];let w=!0;if(yn(y)){const x=cc(n.base,y);i.has(x)?w=!1:i.add(x)}if(w)try{await De.process({activeCtx:d.clone(),localCtx:f[b]["@context"],overrideProtected:!0,options:n,cycles:i})}catch{throw new K("Invalid JSON-LD syntax; invalid scoped context.","jsonld.SyntaxError",{code:"invalid scoped context",context:f[b]["@context"],term:b})}}h.setProcessed(e,{context:d,events:o})}return d};De.createTermDefinition=({activeCtx:e,localCtx:t,term:n,defined:r,options:s,overrideProtected:i=!1})=>{if(r.has(n)){if(r.get(n))return;throw new K("Cyclical context definition detected.","jsonld.CyclicalContext",{code:"cyclic IRI mapping",context:t,term:n})}r.set(n,!1);let u;if(t.hasOwnProperty(n)&&(u=t[n]),n==="@type"&&li(u)&&(u["@container"]||"@set")==="@set"&&De.processingMode(e,1.1)){const f=["@container","@id","@protected"],p=Object.keys(u);if(p.length===0||p.some(m=>!f.includes(m)))throw new K("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:t,term:n})}else{if(De.isKeyword(n))throw new K("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:t,term:n});if(n.match(Ff)){s.eventHandler&&No({event:{type:["JsonLdEvent"],code:"reserved term",level:"warning",message:'Terms beginning with "@" are reserved for future use and dropped.',details:{term:n}},options:s});return}else if(n==="")throw new K("Invalid JSON-LD syntax; a term cannot be an empty string.","jsonld.SyntaxError",{code:"invalid term definition",context:t})}const o=e.mappings.get(n);e.mappings.has(n)&&e.mappings.delete(n);let a=!1;if((yn(u)||u===null)&&(a=!0,u={"@id":u}),!li(u))throw new K("Invalid JSON-LD syntax; @context term values must be strings or objects.","jsonld.SyntaxError",{code:"invalid term definition",context:t});const c={};e.mappings.set(n,c),c.reverse=!1;const l=["@container","@id","@language","@reverse","@type"];De.processingMode(e,1.1)&&l.push("@context","@direction","@index","@nest","@prefix","@protected");for(const f in u)if(!l.includes(f))throw new K("Invalid JSON-LD syntax; a term definition must not contain "+f,"jsonld.SyntaxError",{code:"invalid term definition",context:t});const d=n.indexOf(":");if(c._termHasColon=d>0,"@reverse"in u){if("@id"in u)throw new K("Invalid JSON-LD syntax; a @reverse term definition must not contain @id.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});if("@nest"in u)throw new K("Invalid JSON-LD syntax; a @reverse term definition must not contain @nest.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});const f=u["@reverse"];if(!yn(f))throw new K("Invalid JSON-LD syntax; a @context @reverse value must be a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(f.match(Ff)){s.eventHandler&&No({event:{type:["JsonLdEvent"],code:"reserved @reverse value",level:"warning",message:'@reverse values beginning with "@" are reserved for future use and dropped.',details:{reverse:f}},options:s}),o?e.mappings.set(n,o):e.mappings.delete(n);return}const p=bo(e,f,{vocab:!0,base:!1},t,r,s);if(!_u(p))throw new K("Invalid JSON-LD syntax; a @context @reverse value must be an absolute IRI or a blank node identifier.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});c["@id"]=p,c.reverse=!0}else if("@id"in u){let f=u["@id"];if(f&&!yn(f))throw new K("Invalid JSON-LD syntax; a @context @id value must be an array of strings or a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(f===null)c["@id"]=null;else if(!De.isKeyword(f)&&f.match(Ff)){s.eventHandler&&No({event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:'@id values beginning with "@" are reserved for future use and dropped.',details:{id:f}},options:s}),o?e.mappings.set(n,o):e.mappings.delete(n);return}else if(f!==n){if(f=bo(e,f,{vocab:!0,base:!1},t,r,s),!_u(f)&&!De.isKeyword(f))throw new K("Invalid JSON-LD syntax; a @context @id value must be an absolute IRI, a blank node identifier, or a keyword.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(n.match(/(?::[^:])|\//)){const p=new Map(r).set(n,!0);if(bo(e,n,{vocab:!0,base:!1},t,p,s)!==f)throw new K("Invalid JSON-LD syntax; term in form of IRI must expand to definition.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t})}c["@id"]=f,c._prefix=a&&!c._termHasColon&&f.match(/[:\/\?#\[\]@]$/)!==null}}if(!("@id"in c))if(c._termHasColon){const f=n.substr(0,d);if(t.hasOwnProperty(f)&&De.createTermDefinition({activeCtx:e,localCtx:t,term:f,defined:r,options:s}),e.mappings.has(f)){const p=n.substr(d+1);c["@id"]=e.mappings.get(f)["@id"]+p}else c["@id"]=n}else if(n==="@type")c["@id"]=n;else{if(!("@vocab"in e))throw new K("Invalid JSON-LD syntax; @context terms must define an @id.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t,term:n});c["@id"]=e["@vocab"]+n}if((u["@protected"]===!0||r.get("@protected")===!0&&u["@protected"]!==!1)&&(e.protected[n]=!0,c.protected=!0),r.set(n,!0),"@type"in u){let f=u["@type"];if(!yn(f))throw new K("Invalid JSON-LD syntax; an @context @type value must be a string.","jsonld.SyntaxError",{code:"invalid type mapping",context:t});if(f==="@json"||f==="@none"){if(De.processingMode(e,1))throw new K(`Invalid JSON-LD syntax; an @context @type value must not be "${f}" in JSON-LD 1.0 mode.`,"jsonld.SyntaxError",{code:"invalid type mapping",context:t})}else if(f!=="@id"&&f!=="@vocab"){if(f=bo(e,f,{vocab:!0,base:!1},t,r,s),!_u(f))throw new K("Invalid JSON-LD syntax; an @context @type value must be an absolute IRI.","jsonld.SyntaxError",{code:"invalid type mapping",context:t});if(f.indexOf("_:")===0)throw new K("Invalid JSON-LD syntax; an @context @type value must be an IRI, not a blank node identifier.","jsonld.SyntaxError",{code:"invalid type mapping",context:t})}c["@type"]=f}if("@container"in u){const f=yn(u["@container"])?[u["@container"]]:u["@container"]||[],p=["@list","@set","@index","@language"];let m=!0;const b=f.includes("@set");if(De.processingMode(e,1.1)){if(p.push("@graph","@id","@type"),f.includes("@list")){if(f.length!==1)throw new K("Invalid JSON-LD syntax; @context @container with @list must have no other values","jsonld.SyntaxError",{code:"invalid container mapping",context:t})}else if(f.includes("@graph")){if(f.some(y=>y!=="@graph"&&y!=="@id"&&y!=="@index"&&y!=="@set"))throw new K("Invalid JSON-LD syntax; @context @container with @graph must have no other values other than @id, @index, and @set","jsonld.SyntaxError",{code:"invalid container mapping",context:t})}else m&=f.length<=(b?2:1);if(f.includes("@type")&&(c["@type"]=c["@type"]||"@id",!["@id","@vocab"].includes(c["@type"])))throw new K("Invalid JSON-LD syntax; container: @type requires @type to be @id or @vocab.","jsonld.SyntaxError",{code:"invalid type mapping",context:t})}else m&=!G3(u["@container"]),m&=f.length<=1;if(m&=f.every(y=>p.includes(y)),m&=!(b&&f.includes("@list")),!m)throw new K("Invalid JSON-LD syntax; @context @container value must be one of the following: "+p.join(", "),"jsonld.SyntaxError",{code:"invalid container mapping",context:t});if(c.reverse&&!f.every(y=>["@index","@set"].includes(y)))throw new K("Invalid JSON-LD syntax; @context @container value for a @reverse type definition must be @index or @set.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});c["@container"]=f}if("@index"in u){if(!("@container"in u)||!c["@container"].includes("@index"))throw new K(`Invalid JSON-LD syntax; @index without @index in @container: "${u["@index"]}" on term "${n}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:t});if(!yn(u["@index"])||u["@index"].indexOf("@")===0)throw new K(`Invalid JSON-LD syntax; @index must expand to an IRI: "${u["@index"]}" on term "${n}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:t});c["@index"]=u["@index"]}if("@context"in u&&(c["@context"]=u["@context"]),"@language"in u&&!("@type"in u)){let f=u["@language"];if(f!==null&&!yn(f))throw new K("Invalid JSON-LD syntax; @context @language value must be a string or null.","jsonld.SyntaxError",{code:"invalid language mapping",context:t});f!==null&&(f=f.toLowerCase()),c["@language"]=f}if("@prefix"in u){if(n.match(/:|\//))throw new K("Invalid JSON-LD syntax; @context @prefix used on a compact IRI term","jsonld.SyntaxError",{code:"invalid term definition",context:t});if(De.isKeyword(c["@id"]))throw new K("Invalid JSON-LD syntax; keywords may not be used as prefixes","jsonld.SyntaxError",{code:"invalid term definition",context:t});if(typeof u["@prefix"]=="boolean")c._prefix=u["@prefix"]===!0;else throw new K("Invalid JSON-LD syntax; @context value for @prefix must be boolean","jsonld.SyntaxError",{code:"invalid @prefix value",context:t})}if("@direction"in u){const f=u["@direction"];if(f!==null&&f!=="ltr"&&f!=="rtl")throw new K('Invalid JSON-LD syntax; @direction value must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:t});c["@direction"]=f}if("@nest"in u){const f=u["@nest"];if(!yn(f)||f!=="@nest"&&f.indexOf("@")===0)throw new K("Invalid JSON-LD syntax; @context @nest value must be a string which is not a keyword other than @nest.","jsonld.SyntaxError",{code:"invalid @nest value",context:t});c["@nest"]=f}// disallow aliasing @context and @preserve
const h=c["@id"];if(h==="@context"||h==="@preserve")throw new K("Invalid JSON-LD syntax; @context and @preserve cannot be aliased.","jsonld.SyntaxError",{code:"invalid keyword alias",context:t});if(o&&o.protected&&!i&&(e.protected[n]=!0,c.protected=!0,!Hg(o,c)))throw new K("Invalid JSON-LD syntax; tried to redefine a protected term.","jsonld.SyntaxError",{code:"protected term redefinition",context:t,term:n})};De.expandIri=(e,t,n,r)=>bo(e,t,n,void 0,void 0,r);function bo(e,t,n,r,s,i){if(t===null||!yn(t)||De.isKeyword(t))return t;if(t.match(Ff))return null;if(r&&r.hasOwnProperty(t)&&s.get(t)!==!0&&De.createTermDefinition({activeCtx:e,localCtx:r,term:t,defined:s,options:i}),n=n||{},n.vocab){const o=e.mappings.get(t);if(o===null)return null;if(li(o)&&"@id"in o)return o["@id"]}const u=t.indexOf(":");if(u>0){const o=t.substr(0,u),a=t.substr(u+1);if(o==="_"||a.indexOf("//")===0)return t;r&&r.hasOwnProperty(o)&&De.createTermDefinition({activeCtx:e,localCtx:r,term:o,defined:s,options:i});const c=e.mappings.get(o);if(c&&c._prefix)return c["@id"]+a;if(_u(t))return t}if(n.vocab&&"@vocab"in e)t=e["@vocab"]+t;else if(n.base){let o,a;"@base"in e?e["@base"]?(a=cc(i.base,e["@base"]),o=cc(a,t)):(a=e["@base"],o=t):(a=i.base,o=cc(i.base,t)),t=o}return t}De.getInitialContext=e=>{const t=JSON.stringify({processingMode:e.processingMode}),n=uf.get(t);if(n)return n;const r={processingMode:e.processingMode,mappings:new Map,inverse:null,getInverse:s,clone:o,revertToPreviousContext:a,protected:{}};return uf.size===jD&&uf.clear(),uf.set(t,r),r;function s(){const c=this;if(c.inverse)return c.inverse;const l=c.inverse={},d=c.fastCurieMap={},h={},f=(c["@language"]||"@none").toLowerCase(),p=c["@direction"],m=c.mappings,b=[...m.keys()].sort(PD);for(const y of b){const w=m.get(y);if(w===null)continue;let x=w["@container"]||"@none";if(x=[].concat(x).sort().join(""),w["@id"]===null)continue;const v=J3(w["@id"]);for(const _ of v){let T=l[_];const $=De.isKeyword(_);if(T)!$&&!w._termHasColon&&h[_].push(y);else if(l[_]=T={},!$&&!w._termHasColon){h[_]=[y];const z={iri:_,terms:h[_]};_[0]in d?d[_[0]].push(z):d[_[0]]=[z]}if(T[x]||(T[x]={"@language":{},"@type":{},"@any":{}}),T=T[x],u(y,T["@any"],"@none"),w.reverse)u(y,T["@type"],"@reverse");else if(w["@type"]==="@none")u(y,T["@any"],"@none"),u(y,T["@language"],"@none"),u(y,T["@type"],"@none");else if("@type"in w)u(y,T["@type"],w["@type"]);else if("@language"in w&&"@direction"in w){const z=w["@language"],W=w["@direction"];z&&W?u(y,T["@language"],`${z}_${W}`.toLowerCase()):z?u(y,T["@language"],z.toLowerCase()):W?u(y,T["@language"],`_${W}`):u(y,T["@language"],"@null")}else"@language"in w?u(y,T["@language"],(w["@language"]||"@null").toLowerCase()):"@direction"in w?w["@direction"]?u(y,T["@language"],`_${w["@direction"]}`):u(y,T["@language"],"@none"):p?(u(y,T["@language"],`_${p}`),u(y,T["@language"],"@none"),u(y,T["@type"],"@none")):(u(y,T["@language"],f),u(y,T["@language"],"@none"),u(y,T["@type"],"@none"))}}for(const y in d)i(d,y,1);return l}function i(c,l,d){const h=c[l],f=c[l]={};let p,m;for(const b of h)p=b.iri,d>=p.length?m="":m=p[d],m in f?f[m].push(b):f[m]=[b];for(const b in f)b!==""&&i(f,b,d+1)}function u(c,l,d){l.hasOwnProperty(d)||(l[d]=c)}function o(){const c={};return c.mappings=iv.clone(this.mappings),c.clone=this.clone,c.inverse=null,c.getInverse=this.getInverse,c.protected=iv.clone(this.protected),this.previousContext&&(c.previousContext=this.previousContext.clone()),c.revertToPreviousContext=this.revertToPreviousContext,"@base"in this&&(c["@base"]=this["@base"]),"@language"in this&&(c["@language"]=this["@language"]),"@vocab"in this&&(c["@vocab"]=this["@vocab"]),c}function a(){return this.previousContext?this.previousContext.clone():this}};De.getContextValue=(e,t,n)=>{if(t===null)return n==="@context"?void 0:null;if(e.mappings.has(t)){const r=e.mappings.get(t);if(CD(n))return r;if(r.hasOwnProperty(n))return r[n]}if(n==="@language"&&n in e||n==="@direction"&&n in e)return e[n];if(n!=="@context")return null};De.processingMode=(e,t)=>t.toString()>="1.1"?!e.processingMode||e.processingMode>="json-ld-"+t.toString():e.processingMode==="json-ld-1.0";De.isKeyword=e=>{if(!yn(e)||e[0]!=="@")return!1;switch(e){case"@base":case"@container":case"@context":case"@default":case"@direction":case"@embed":case"@explicit":case"@graph":case"@id":case"@included":case"@index":case"@json":case"@language":case"@list":case"@nest":case"@none":case"@omitDefault":case"@prefix":case"@preserve":case"@protected":case"@requireAll":case"@reverse":case"@set":case"@type":case"@value":case"@version":case"@vocab":return!0}return!1};function Hg(e,t){if(!(e&&typeof e=="object")||!(t&&typeof t=="object"))return e===t;const n=Array.isArray(e);if(n!==Array.isArray(t))return!1;if(n){if(e.length!==t.length)return!1;for(let i=0;i<e.length;++i)if(!Hg(e[i],t[i]))return!1;return!0}const r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(const i in e){let u=e[i],o=t[i];if(i==="@container"&&Array.isArray(u)&&Array.isArray(o)&&(u=u.slice().sort(),o=o.slice().sort()),!Hg(u,o))return!1}return!0}const Le=pr,{isArray:ir,isObject:Kn,isEmptyObject:Gg,isString:Bt,isUndefined:hd}=Vn,{isList:S0,isValue:Jg,isGraph:LD,isSubject:FD}=ti,{expandIri:et,getContextValue:Rn,isKeyword:Wg,process:lc,processingMode:Bf}=zu,{isAbsolute:Uf}=$i,{REGEX_BCP47:W3,REGEX_KEYWORD:BD,addValue:In,asArray:xr,getValues:UD,validateTypeValue:qD}=gr,{handleEvent:nr}=Ol,di={};var $D=di;di.expand=async({activeCtx:e,activeProperty:t=null,element:n,options:r={},insideList:s=!1,insideIndex:i=!1,typeScopedContext:u=null})=>{if(n==null)return null;if(t==="@default"&&(r=Object.assign({},r,{isFrame:!1})),!ir(n)&&!Kn(n))return!s&&(t===null||et(e,t,{vocab:!0},r)==="@graph")?(r.eventHandler&&nr({event:{type:["JsonLdEvent"],code:"free-floating scalar",level:"warning",message:"Dropping free-floating scalar not in a list.",details:{value:n}},options:r}),null):K3({activeCtx:e,activeProperty:t,value:n,options:r});if(ir(n)){let p=[];const m=Rn(e,t,"@container")||[];s=s||m.includes("@list");for(let b=0;b<n.length;++b){let y=await di.expand({activeCtx:e,activeProperty:t,element:n[b],options:r,insideIndex:i,typeScopedContext:u});s&&ir(y)&&(y={"@list":y}),y!==null&&(ir(y)?p=p.concat(y):p.push(y))}return p}const o=et(e,t,{vocab:!0},r),a=Rn(e,t,"@context");u=u||(e.previousContext?e:null);let c=Object.keys(n).sort(),l=!i;if(l&&u&&c.length<=2&&!c.includes("@context"))for(const p of c){const m=et(u,p,{vocab:!0},r);if(m==="@value"){l=!1,e=u;break}if(m==="@id"&&c.length===1){l=!1;break}}l&&(e=e.revertToPreviousContext()),hd(a)||(e=await lc({activeCtx:e,localCtx:a,propagate:!0,overrideProtected:!0,options:r})),"@context"in n&&(e=await lc({activeCtx:e,localCtx:n["@context"],options:r})),u=e;let d=null;for(const p of c)if(et(e,p,{vocab:!0},r)==="@type"){d=d||p;const b=n[p],y=Array.isArray(b)?b.length>1?b.slice().sort():b:[b];for(const w of y){const x=Rn(u,w,"@context");hd(x)||(e=await lc({activeCtx:e,localCtx:x,options:r,propagate:!1}))}}let h={};await X3({activeCtx:e,activeProperty:t,expandedActiveProperty:o,element:n,expandedParent:h,options:r,insideList:s,typeKey:d,typeScopedContext:u}),c=Object.keys(h);let f=c.length;if("@value"in h){if("@type"in h&&("@language"in h||"@direction"in h))throw new Le('Invalid JSON-LD syntax; an element containing "@value" may not contain both "@type" and either "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:h});let p=f-1;if("@type"in h&&(p-=1),"@index"in h&&(p-=1),"@language"in h&&(p-=1),"@direction"in h&&(p-=1),p!==0)throw new Le('Invalid JSON-LD syntax; an element containing "@value" may only have an "@index" property and either "@type" or either or both "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:h});const m=h["@value"]===null?[]:xr(h["@value"]),b=UD(h,"@type");if(!(Bf(e,1.1)&&b.includes("@json")&&b.length===1))if(m.length===0)r.eventHandler&&nr({event:{type:["JsonLdEvent"],code:"null @value value",level:"warning",message:"Dropping null @value value.",details:{value:h}},options:r}),h=null;else{if(!m.every(y=>Bt(y)||Gg(y))&&"@language"in h)throw new Le("Invalid JSON-LD syntax; only strings may be language-tagged.","jsonld.SyntaxError",{code:"invalid language-tagged value",element:h});if(!b.every(y=>Uf(y)&&!(Bt(y)&&y.indexOf("_:")===0)||Gg(y)))throw new Le('Invalid JSON-LD syntax; an element containing "@value" and "@type" must have an absolute IRI for the value of "@type".',"jsonld.SyntaxError",{code:"invalid typed value",element:h})}}else if("@type"in h&&!ir(h["@type"]))h["@type"]=[h["@type"]];else if("@set"in h||"@list"in h){if(f>1&&!(f===2&&"@index"in h))throw new Le('Invalid JSON-LD syntax; if an element has the property "@set" or "@list", then it can have at most one other property that is "@index".',"jsonld.SyntaxError",{code:"invalid set or list object",element:h});"@set"in h&&(h=h["@set"],c=Object.keys(h),f=c.length)}else f===1&&"@language"in h&&(r.eventHandler&&nr({event:{type:["JsonLdEvent"],code:"object with only @language",level:"warning",message:"Dropping object with only @language.",details:{value:h}},options:r}),h=null);return Kn(h)&&!r.keepFreeFloatingNodes&&!s&&(t===null||o==="@graph"||(Rn(e,t,"@container")||[]).includes("@graph"))&&(h=Q3({value:h,count:f,options:r})),h};function Q3({value:e,count:t,options:n}){if(t===0||"@value"in e||"@list"in e||t===1&&"@id"in e){if(n.eventHandler){let r,s;t===0?(r="empty object",s="Dropping empty object."):"@value"in e?(r="object with only @value",s="Dropping object with only @value."):"@list"in e?(r="object with only @list",s="Dropping object with only @list."):t===1&&"@id"in e&&(r="object with only @id",s="Dropping object with only @id."),nr({event:{type:["JsonLdEvent"],code:r,level:"warning",message:s,details:{value:e}},options:n})}return null}return e}async function X3({activeCtx:e,activeProperty:t,expandedActiveProperty:n,element:r,expandedParent:s,options:i={},insideList:u,typeKey:o,typeScopedContext:a}){const c=Object.keys(r).sort(),l=[];let d;const h=r[o]&&et(e,ir(r[o])?r[o][0]:r[o],{vocab:!0},{...i,typeExpansion:!0})==="@json";for(const f of c){let p=r[f],m;if(f==="@context")continue;const b=et(e,f,{vocab:!0},i);if(b===null||!(Uf(b)||Wg(b))){i.eventHandler&&nr({event:{type:["JsonLdEvent"],code:"invalid property",level:"warning",message:"Dropping property that did not expand into an absolute IRI or keyword.",details:{property:f,expandedProperty:b}},options:i});continue}if(Wg(b)){if(n==="@reverse")throw new Le("Invalid JSON-LD syntax; a keyword cannot be used as a @reverse property.","jsonld.SyntaxError",{code:"invalid reverse property map",value:p});if(b in s&&b!=="@included"&&b!=="@type")throw new Le("Invalid JSON-LD syntax; colliding keywords detected.","jsonld.SyntaxError",{code:"colliding keywords",keyword:b})}if(b==="@id"){if(!Bt(p)){if(!i.isFrame)throw new Le('Invalid JSON-LD syntax; "@id" value must a string.',"jsonld.SyntaxError",{code:"invalid @id value",value:p});if(Kn(p)){if(!Gg(p))throw new Le('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:p})}else if(ir(p)){if(!p.every(v=>Bt(v)))throw new Le('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:p})}else throw new Le('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:p})}In(s,"@id",xr(p).map(v=>{if(Bt(v)){const _=et(e,v,{base:!0},i);return i.eventHandler&&(_===null?nr(v===null?{event:{type:["JsonLdEvent"],code:"null @id value",level:"warning",message:"Null @id found.",details:{id:v}},options:i}:{event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:"Reserved @id found.",details:{id:v}},options:i}):Uf(_)||nr({event:{type:["JsonLdEvent"],code:"relative @id reference",level:"warning",message:"Relative @id reference found.",details:{id:v,expandedId:_}},options:i})),_}return v}),{propertyIsArray:i.isFrame});continue}if(b==="@type"){Kn(p)&&(p=Object.fromEntries(Object.entries(p).map(([v,_])=>[et(a,v,{vocab:!0}),xr(_).map(T=>et(a,T,{base:!0,vocab:!0},{...i,typeExpansion:!0}))]))),qD(p,i.isFrame),In(s,"@type",xr(p).map(v=>{if(Bt(v)){const _=et(a,v,{base:!0,vocab:!0},{...i,typeExpansion:!0});return _!=="@json"&&!Uf(_)&&i.eventHandler&&nr({event:{type:["JsonLdEvent"],code:"relative @type reference",level:"warning",message:"Relative @type reference found.",details:{type:v}},options:i}),_}return v}),{propertyIsArray:!!i.isFrame});continue}if(b==="@included"&&Bf(e,1.1)){const v=xr(await di.expand({activeCtx:e,activeProperty:t,element:p,options:i}));if(!v.every(_=>FD(_)))throw new Le("Invalid JSON-LD syntax; values of @included must expand to node objects.","jsonld.SyntaxError",{code:"invalid @included value",value:p});In(s,"@included",v,{propertyIsArray:!0});continue}if(b==="@graph"&&!(Kn(p)||ir(p)))throw new Le('Invalid JSON-LD syntax; "@graph" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid @graph value",value:p});if(b==="@value"){d=p,h&&Bf(e,1.1)?s["@value"]=p:In(s,"@value",p,{propertyIsArray:i.isFrame});continue}if(b==="@language"){if(p===null)continue;if(!Bt(p)&&!i.isFrame)throw new Le('Invalid JSON-LD syntax; "@language" value must be a string.',"jsonld.SyntaxError",{code:"invalid language-tagged string",value:p});p=xr(p).map(v=>Bt(v)?v.toLowerCase():v);for(const v of p)Bt(v)&&!v.match(W3)&&i.eventHandler&&nr({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:v}},options:i});In(s,"@language",p,{propertyIsArray:i.isFrame});continue}if(b==="@direction"){if(!Bt(p)&&!i.isFrame)throw new Le('Invalid JSON-LD syntax; "@direction" value must be a string.',"jsonld.SyntaxError",{code:"invalid base direction",value:p});p=xr(p);for(const v of p)if(Bt(v)&&v!=="ltr"&&v!=="rtl")throw new Le('Invalid JSON-LD syntax; "@direction" must be "ltr" or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",value:p});In(s,"@direction",p,{propertyIsArray:i.isFrame});continue}if(b==="@index"){if(!Bt(p))throw new Le('Invalid JSON-LD syntax; "@index" value must be a string.',"jsonld.SyntaxError",{code:"invalid @index value",value:p});In(s,"@index",p);continue}if(b==="@reverse"){if(!Kn(p))throw new Le('Invalid JSON-LD syntax; "@reverse" value must be an object.',"jsonld.SyntaxError",{code:"invalid @reverse value",value:p});if(m=await di.expand({activeCtx:e,activeProperty:"@reverse",element:p,options:i}),"@reverse"in m)for(const _ in m["@reverse"])In(s,_,m["@reverse"][_],{propertyIsArray:!0});let v=s["@reverse"]||null;for(const _ in m){if(_==="@reverse")continue;v===null&&(v=s["@reverse"]={}),In(v,_,[],{propertyIsArray:!0});const T=m[_];for(let $=0;$<T.length;++$){const z=T[$];if(Jg(z)||S0(z))throw new Le('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:m});In(v,_,z,{propertyIsArray:!0})}}continue}if(b==="@nest"){l.push(f);continue}let y=e;const w=Rn(e,f,"@context");hd(w)||(y=await lc({activeCtx:e,localCtx:w,propagate:!0,overrideProtected:!0,options:i}));const x=Rn(e,f,"@container")||[];if(x.includes("@language")&&Kn(p)){const v=Rn(y,f,"@direction");m=VD(y,p,v,i)}else if(x.includes("@index")&&Kn(p)){const v=x.includes("@graph"),_=Rn(y,f,"@index")||"@index",T=_!=="@index"&&et(e,_,{vocab:!0},i);m=await A0({activeCtx:y,options:i,activeProperty:f,value:p,asGraph:v,indexKey:_,propertyIndex:T})}else if(x.includes("@id")&&Kn(p)){const v=x.includes("@graph");m=await A0({activeCtx:y,options:i,activeProperty:f,value:p,asGraph:v,indexKey:"@id"})}else if(x.includes("@type")&&Kn(p))m=await A0({activeCtx:y.revertToPreviousContext(),options:i,activeProperty:f,value:p,asGraph:!1,indexKey:"@type"});else{const v=b==="@list";if(v||b==="@set"){let _=t;v&&n==="@graph"&&(_=null),m=await di.expand({activeCtx:y,activeProperty:_,element:p,options:i,insideList:v})}else Rn(e,f,"@type")==="@json"?m={"@type":"@json","@value":p}:m=await di.expand({activeCtx:y,activeProperty:f,element:p,options:i,insideList:!1})}if(!(m===null&&b!=="@value")){if(b!=="@list"&&!S0(m)&&x.includes("@list")&&(m={"@list":xr(m)}),x.includes("@graph")&&!x.some(v=>v==="@id"||v==="@index")){if(m=xr(m),i.isFrame||(m=m.filter(v=>{const _=Object.keys(v).length;return Q3({value:v,count:_,options:i})!==null})),m.length===0)continue;m=m.map(v=>({"@graph":xr(v)}))}if(y.mappings.has(f)&&y.mappings.get(f).reverse){const v=s["@reverse"]=s["@reverse"]||{};m=xr(m);for(let _=0;_<m.length;++_){const T=m[_];if(Jg(T)||S0(T))throw new Le('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:m});In(v,b,T,{propertyIsArray:!0})}continue}In(s,b,m,{propertyIsArray:!0})}}if("@value"in s&&!(s["@type"]==="@json"&&Bf(e,1.1))){if((Kn(d)||ir(d))&&!i.isFrame)throw new Le('Invalid JSON-LD syntax; "@value" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid value object value",value:d})}for(const f of l){const p=ir(r[f])?r[f]:[r[f]];for(const m of p){if(!Kn(m)||Object.keys(m).some(b=>et(e,b,{vocab:!0},i)==="@value"))throw new Le("Invalid JSON-LD syntax; nested value must be a node object.","jsonld.SyntaxError",{code:"invalid @nest value",value:m});await X3({activeCtx:e,activeProperty:t,expandedActiveProperty:n,element:m,expandedParent:s,options:i,insideList:u,typeScopedContext:a,typeKey:o})}}}function K3({activeCtx:e,activeProperty:t,value:n,options:r}){if(n==null)return null;const s=et(e,t,{vocab:!0},r);if(s==="@id")return et(e,n,{base:!0},r);if(s==="@type")return et(e,n,{vocab:!0,base:!0},{...r,typeExpansion:!0});const i=Rn(e,t,"@type");if((i==="@id"||s==="@graph")&&Bt(n)){const o=et(e,n,{base:!0},r);return o===null&&n.match(BD)&&r.eventHandler&&nr({event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:"Reserved @id found.",details:{id:t}},options:r}),{"@id":o}}if(i==="@vocab"&&Bt(n))return{"@id":et(e,n,{vocab:!0,base:!0},r)};if(Wg(s))return n;const u={};if(i&&!["@id","@vocab","@none"].includes(i))u["@type"]=i;else if(Bt(n)){const o=Rn(e,t,"@language");o!==null&&(u["@language"]=o);const a=Rn(e,t,"@direction");a!==null&&(u["@direction"]=a)}return["boolean","number","string"].includes(typeof n)||(n=n.toString()),u["@value"]=n,u}function VD(e,t,n,r){const s=[],i=Object.keys(t).sort();for(const u of i){const o=et(e,u,{vocab:!0},r);let a=t[u];ir(a)||(a=[a]);for(const c of a){if(c===null)continue;if(!Bt(c))throw new Le("Invalid JSON-LD syntax; language map values must be strings.","jsonld.SyntaxError",{code:"invalid language map value",languageMap:t});const l={"@value":c};o!=="@none"&&(u.match(W3)||r.eventHandler&&nr({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:u}},options:r}),l["@language"]=u.toLowerCase()),n&&(l["@direction"]=n),s.push(l)}}return s}async function A0({activeCtx:e,options:t,activeProperty:n,value:r,asGraph:s,indexKey:i,propertyIndex:u}){const o=[],a=Object.keys(r).sort(),c=i==="@type";for(let l of a){if(c){const f=Rn(e,l,"@context");hd(f)||(e=await lc({activeCtx:e,localCtx:f,propagate:!1,options:t}))}let d=r[l];ir(d)||(d=[d]),d=await di.expand({activeCtx:e,activeProperty:n,element:d,options:t,insideList:!1,insideIndex:!0});let h;u?l==="@none"?h="@none":h=K3({activeCtx:e,activeProperty:i,value:l,options:t}):h=et(e,l,{vocab:!0},t),i==="@id"?l=et(e,l,{base:!0},t):c&&(l=h);for(let f of d){if(s&&!LD(f)&&(f={"@graph":[f]}),i==="@type")h==="@none"||(f["@type"]?f["@type"]=[l].concat(f["@type"]):f["@type"]=[l]);else{if(Jg(f)&&!["@language","@type","@index"].includes(i))throw new Le(`Invalid JSON-LD syntax; Attempt to add illegal key to value object: "${i}".`,"jsonld.SyntaxError",{code:"invalid value object",value:f});u?h!=="@none"&&In(f,u,h,{propertyIsArray:!0,prependValue:!0}):h!=="@none"&&!(i in f)&&(f[i]=l)}o.push(f)}}return o}const{isKeyword:Y3}=zu,Kr=ti,_0=Vn,ts=gr,zD=pr,rn={};var Rh=rn;rn.createMergedNodeMap=(e,t)=>{t=t||{};const n=t.issuer||new ts.IdentifierIssuer("_:b"),r={"@default":{}};return rn.createNodeMap(e,r,"@default",n),rn.mergeNodeMaps(r)};rn.createNodeMap=(e,t,n,r,s,i)=>{if(_0.isArray(e)){for(const c of e)rn.createNodeMap(c,t,n,r,void 0,i);return}if(!_0.isObject(e)){i&&i.push(e);return}if(Kr.isValue(e)){if("@type"in e){let c=e["@type"];c.indexOf("_:")===0&&(e["@type"]=c=r.getId(c))}i&&i.push(e);return}else if(i&&Kr.isList(e)){const c=[];rn.createNodeMap(e["@list"],t,n,r,s,c),i.push({"@list":c});return}if("@type"in e){const c=e["@type"];for(const l of c)l.indexOf("_:")===0&&r.getId(l)}_0.isUndefined(s)&&(s=Kr.isBlankNode(e)?r.getId(e["@id"]):e["@id"]),i&&i.push({"@id":s});const u=t[n],o=u[s]=u[s]||{};o["@id"]=s;const a=Object.keys(e).sort();for(let c of a){if(c==="@id")continue;if(c==="@reverse"){const d={"@id":s},h=e["@reverse"];for(const f in h){const p=h[f];for(const m of p){let b=m["@id"];Kr.isBlankNode(m)&&(b=r.getId(b)),rn.createNodeMap(m,t,n,r,b),ts.addValue(u[b],f,d,{propertyIsArray:!0,allowDuplicate:!1})}}continue}if(c==="@graph"){s in t||(t[s]={}),rn.createNodeMap(e[c],t,s,r);continue}if(c==="@included"){rn.createNodeMap(e[c],t,n,r);continue}if(c!=="@type"&&Y3(c)){if(c==="@index"&&c in o&&(e[c]!==o[c]||e[c]["@id"]!==o[c]["@id"]))throw new zD("Invalid JSON-LD syntax; conflicting @index property detected.","jsonld.SyntaxError",{code:"conflicting indexes",subject:o});o[c]=e[c];continue}const l=e[c];if(c.indexOf("_:")===0&&(c=r.getId(c)),l.length===0){ts.addValue(o,c,[],{propertyIsArray:!0});continue}for(let d of l)if(c==="@type"&&(d=d.indexOf("_:")===0?r.getId(d):d),Kr.isSubject(d)||Kr.isSubjectReference(d)){if("@id"in d&&!d["@id"])continue;const h=Kr.isBlankNode(d)?r.getId(d["@id"]):d["@id"];ts.addValue(o,c,{"@id":h},{propertyIsArray:!0,allowDuplicate:!1}),rn.createNodeMap(d,t,n,r,h)}else if(Kr.isValue(d))ts.addValue(o,c,d,{propertyIsArray:!0,allowDuplicate:!1});else if(Kr.isList(d)){const h=[];rn.createNodeMap(d["@list"],t,n,r,s,h),d={"@list":h},ts.addValue(o,c,d,{propertyIsArray:!0,allowDuplicate:!1})}else rn.createNodeMap(d,t,n,r,s),ts.addValue(o,c,d,{propertyIsArray:!0,allowDuplicate:!1})}};rn.mergeNodeMapGraphs=e=>{const t={};for(const n of Object.keys(e).sort())for(const r of Object.keys(e[n]).sort()){const s=e[n][r];r in t||(t[r]={"@id":r});const i=t[r];for(const u of Object.keys(s).sort())if(Y3(u)&&u!=="@type")i[u]=ts.clone(s[u]);else for(const o of s[u])ts.addValue(i,u,ts.clone(o),{propertyIsArray:!0,allowDuplicate:!1})}return t};rn.mergeNodeMaps=e=>{const t=e["@default"],n=Object.keys(e).sort();for(const r of n){if(r==="@default")continue;const s=e[r];let i=t[r];i?"@graph"in i||(i["@graph"]=[]):t[r]=i={"@id":r,"@graph":[]};const u=i["@graph"];for(const o of Object.keys(s).sort()){const a=s[o];Kr.isSubjectReference(a)||u.push(a)}}return t};const{isSubjectReference:HD}=ti,{createMergedNodeMap:GD}=Rh,Z3={};var JD=Z3;Z3.flatten=e=>{const t=GD(e),n=[],r=Object.keys(t).sort();for(let s=0;s<r.length;++s){const i=t[r[s]];HD(i)||n.push(i)}return n};const Qg=pr,T0=ti,Ka=Vn,{REGEX_BCP47:uv,addValue:ov}=gr,{handleEvent:av}=Ol,{RDF_LIST:WD,RDF_FIRST:E0,RDF_REST:O0,RDF_NIL:I0,RDF_TYPE:QD,RDF_JSON_LITERAL:XD,XSD_BOOLEAN:cv,XSD_DOUBLE:lv,XSD_INTEGER:fv,XSD_STRING:N0}=Sy,eA={};var KD=eA;eA.fromRDF=async(e,t)=>{const{useRdfType:n=!1,useNativeTypes:r=!1,rdfDirection:s=null}=t,i={},u={"@default":i},o={};if(s){if(s==="compound-literal")throw new Qg("Unsupported rdfDirection value.","jsonld.InvalidRdfDirection",{value:s});if(s!=="i18n-datatype")throw new Qg("Unknown rdfDirection value.","jsonld.InvalidRdfDirection",{value:s})}for(const l of e){const d=l.graph.termType==="DefaultGraph"?"@default":l.graph.value;d in u||(u[d]={}),d!=="@default"&&!(d in i)&&(i[d]={"@id":d});const h=u[d],f=l.subject.value,p=l.predicate.value,m=l.object;f in h||(h[f]={"@id":f});const b=h[f],y=m.termType.endsWith("Node");if(y&&!(m.value in h)&&(h[m.value]={"@id":m.value}),p===QD&&!n&&y){ov(b,"@type",m.value,{propertyIsArray:!0});continue}const w=YD(m,r,s,t);if(ov(b,p,w,{propertyIsArray:!0}),y)if(m.value===I0){const x=h[m.value];"usages"in x||(x.usages=[]),x.usages.push({node:b,property:p,value:w})}else m.value in o?o[m.value]=!1:o[m.value]={node:b,property:p,value:w}}for(const l in u){const d=u[l];if(!(I0 in d))continue;const h=d[I0];if(h.usages){for(let f of h.usages){let p=f.node,m=f.property,b=f.value;const y=[],w=[];let x=Object.keys(p).length;for(;m===O0&&Ka.isObject(o[p["@id"]])&&Ka.isArray(p[E0])&&p[E0].length===1&&Ka.isArray(p[O0])&&p[O0].length===1&&(x===3||x===4&&Ka.isArray(p["@type"])&&p["@type"].length===1&&p["@type"][0]===WD)&&(y.push(p[E0][0]),w.push(p["@id"]),f=o[p["@id"]],p=f.node,m=f.property,b=f.value,x=Object.keys(p).length,!!T0.isBlankNode(p)););delete b["@id"],b["@list"]=y.reverse();for(const v of w)delete d[v]}delete h.usages}}const a=[],c=Object.keys(i).sort();for(const l of c){const d=i[l];if(l in u){const h=d["@graph"]=[],f=u[l],p=Object.keys(f).sort();for(const m of p){const b=f[m];T0.isSubjectReference(b)||h.push(b)}}T0.isSubjectReference(d)||a.push(d)}return a};function YD(e,t,n,r){if(e.termType.endsWith("Node"))return{"@id":e.value};const s={"@value":e.value};if(e.language)e.language.match(uv)||r.eventHandler&&av({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:e.language}},options:r}),s["@language"]=e.language;else{let i=e.datatype.value;if(i||(i=N0),i===XD){i="@json";try{s["@value"]=JSON.parse(s["@value"])}catch(u){throw new Qg("JSON literal could not be parsed.","jsonld.InvalidJsonLiteral",{code:"invalid JSON literal",value:s["@value"],cause:u})}}if(t){if(i===cv)s["@value"]==="true"?s["@value"]=!0:s["@value"]==="false"&&(s["@value"]=!1);else if(Ka.isNumeric(s["@value"]))if(i===fv){const u=parseInt(s["@value"],10);u.toFixed(0)===s["@value"]&&(s["@value"]=u)}else i===lv&&(s["@value"]=parseFloat(s["@value"]));[cv,fv,lv,N0].includes(i)||(s["@type"]=i)}else if(n==="i18n-datatype"&&i.startsWith("https://www.w3.org/ns/i18n#")){const[,u,o]=i.split(/[#_]/);u.length>0&&(s["@language"]=u,u.match(uv)||r.eventHandler&&av({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:u}},options:r})),s["@direction"]=o}else i!==N0&&(s["@type"]=i)}return s}var ZD=function e(t){return t===null||typeof t!="object"||t.toJSON!=null?JSON.stringify(t):Array.isArray(t)?"["+t.reduce((n,r,s)=>{const i=s===0?"":",",u=r===void 0||typeof r=="symbol"?null:r;return n+i+e(u)},"")+"]":"{"+Object.keys(t).sort().reduce((n,r,s)=>{if(t[r]===void 0||typeof t[r]=="symbol")return n;const i=n.length===0?"":",";return n+i+e(r)+":"+e(t[r])},"")+"}"};const{createNodeMap:e9}=Rh,{isKeyword:t9}=zu,dv=ti,n9=ZD,hv=pr,La=Vn,r9=gr,{handleEvent:Tu}=Ol,{RDF_FIRST:s9,RDF_REST:i9,RDF_NIL:u9,RDF_TYPE:o9,RDF_JSON_LITERAL:a9,RDF_LANGSTRING:c9,XSD_BOOLEAN:l9,XSD_DOUBLE:pv,XSD_INTEGER:f9,XSD_STRING:d9}=Sy,{isAbsolute:pd}=$i,tA={};var h9=tA;tA.toRDF=(e,t)=>{const n=new r9.IdentifierIssuer("_:b"),r={"@default":{}};e9(e,r,"@default",n);const s=[],i=Object.keys(r).sort();for(const u of i){let o;if(u==="@default")o={termType:"DefaultGraph",value:""};else if(pd(u))u.startsWith("_:")?o={termType:"BlankNode"}:o={termType:"NamedNode"},o.value=u;else{t.eventHandler&&Tu({event:{type:["JsonLdEvent"],code:"relative graph reference",level:"warning",message:"Relative graph reference found.",details:{graph:u}},options:t});continue}p9(s,r[u],o,n,t)}return s};function p9(e,t,n,r,s){const i=Object.keys(t).sort();for(const u of i){const o=t[u],a=Object.keys(o).sort();for(let c of a){const l=o[c];if(c==="@type")c=o9;else if(t9(c))continue;for(const d of l){const h={termType:u.startsWith("_:")?"BlankNode":"NamedNode",value:u};if(!pd(u)){s.eventHandler&&Tu({event:{type:["JsonLdEvent"],code:"relative subject reference",level:"warning",message:"Relative subject reference found.",details:{subject:u}},options:s});continue}const f={termType:c.startsWith("_:")?"BlankNode":"NamedNode",value:c};if(!pd(c)){s.eventHandler&&Tu({event:{type:["JsonLdEvent"],code:"relative predicate reference",level:"warning",message:"Relative predicate reference found.",details:{predicate:c}},options:s});continue}if(f.termType==="BlankNode"&&!s.produceGeneralizedRdf){s.eventHandler&&Tu({event:{type:["JsonLdEvent"],code:"blank node predicate",level:"warning",message:"Dropping blank node predicate.",details:{property:r.getOldIds().find(m=>r.getId(m)===c)}},options:s});continue}const p=Xg(d,r,e,n,s.rdfDirection,s);p&&e.push({subject:h,predicate:f,object:p,graph:n})}}}}function g9(e,t,n,r,s,i){const u={termType:"NamedNode",value:s9},o={termType:"NamedNode",value:i9},a={termType:"NamedNode",value:u9},c=e.pop(),l=c?{termType:"BlankNode",value:t.getId()}:a;let d=l;for(const h of e){const f=Xg(h,t,n,r,s,i),p={termType:"BlankNode",value:t.getId()};n.push({subject:d,predicate:u,object:f,graph:r}),n.push({subject:d,predicate:o,object:p,graph:r}),d=p}if(c){const h=Xg(c,t,n,r,s,i);n.push({subject:d,predicate:u,object:h,graph:r}),n.push({subject:d,predicate:o,object:a,graph:r})}return l}function Xg(e,t,n,r,s,i){const u={};if(dv.isValue(e)){u.termType="Literal",u.value=void 0,u.datatype={termType:"NamedNode"};let o=e["@value"];const a=e["@type"]||null;if(a==="@json")u.value=n9(o),u.datatype.value=a9;else if(La.isBoolean(o))u.value=o.toString(),u.datatype.value=a||l9;else if(La.isDouble(o)||a===pv)La.isDouble(o)||(o=parseFloat(o)),u.value=o.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),u.datatype.value=a||pv;else if(La.isNumber(o))u.value=o.toFixed(0),u.datatype.value=a||f9;else if("@direction"in e&&s==="i18n-datatype"){const c=(e["@language"]||"").toLowerCase(),l=e["@direction"],d=`https://www.w3.org/ns/i18n#${c}_${l}`;u.datatype.value=d,u.value=o}else{if("@direction"in e&&s==="compound-literal")throw new hv("Unsupported rdfDirection value.","jsonld.InvalidRdfDirection",{value:s});if("@direction"in e&&s)throw new hv("Unknown rdfDirection value.","jsonld.InvalidRdfDirection",{value:s});"@language"in e?("@direction"in e&&!s&&i.eventHandler&&Tu({event:{type:["JsonLdEvent"],code:"rdfDirection not set",level:"warning",message:"rdfDirection not set for @direction.",details:{object:u.value}},options:i}),u.value=o,u.datatype.value=a||c9,u.language=e["@language"]):("@direction"in e&&!s&&i.eventHandler&&Tu({event:{type:["JsonLdEvent"],code:"rdfDirection not set",level:"warning",message:"rdfDirection not set for @direction.",details:{object:u.value}},options:i}),u.value=o,u.datatype.value=a||d9)}}else if(dv.isList(e)){const o=g9(e["@list"],t,n,r,s,i);u.termType=o.termType,u.value=o.value}else{const o=La.isObject(e)?e["@id"]:e;u.termType=o.startsWith("_:")?"BlankNode":"NamedNode",u.value=o}return u.termType==="NamedNode"&&!pd(u.value)?(i.eventHandler&&Tu({event:{type:["JsonLdEvent"],code:"relative object reference",level:"warning",message:"Relative object reference found.",details:{object:u.value}},options:i}),null):u}const{isKeyword:Kg}=zu,Zn=ti,Ne=Vn,wt=gr,gv=$i,fc=pr,{createNodeMap:m9,mergeNodeMapGraphs:b9}=Rh,rr={};var y9=rr;rr.frameMergedOrDefault=(e,t,n)=>{const r={options:n,embedded:!1,graph:"@default",graphMap:{"@default":{}},subjectStack:[],link:{},bnodeMap:{}},s=new wt.IdentifierIssuer("_:b");m9(e,r.graphMap,"@default",s),n.merged&&(r.graphMap["@merged"]=b9(r.graphMap),r.graph="@merged"),r.subjects=r.graphMap[r.graph];const i=[];rr.frame(r,Object.keys(r.subjects).sort(),t,i),n.pruneBlankNodeIdentifiers&&(n.bnodesToClear=Object.keys(r.bnodeMap).filter(u=>r.bnodeMap[u].length===1));// remove @preserve from results
return n.link={},qf(i,n)};rr.frame=(e,t,n,r,s=null)=>{nA(n),n=n[0];const i=e.options,u={embed:of(n,i,"embed"),explicit:of(n,i,"explicit"),requireAll:of(n,i,"requireAll")};e.link.hasOwnProperty(e.graph)||(e.link[e.graph]={});const o=e.link[e.graph],a=v9(e,t,n,u),c=Object.keys(a).sort();for(const l of c){const d=a[l];if(s===null?e.uniqueEmbeds={[e.graph]:{}}:e.uniqueEmbeds[e.graph]=e.uniqueEmbeds[e.graph]||{},u.embed==="@link"&&l in o){eu(r,s,o[l]);continue}const h={"@id":l};if(l.indexOf("_:")===0&&wt.addValue(e.bnodeMap,l,h,{propertyIsArray:!0}),o[l]=h,(u.embed==="@first"||u.embed==="@last")&&e.is11)throw new fc("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:n});if(!(!e.embedded&&e.uniqueEmbeds[e.graph].hasOwnProperty(l))){if(e.embedded&&(u.embed==="@never"||w9(d,e.graph,e.subjectStack))){eu(r,s,h);continue}if(e.embedded&&(u.embed=="@first"||u.embed=="@once")&&e.uniqueEmbeds[e.graph].hasOwnProperty(l)){eu(r,s,h);continue}if(u.embed==="@last"&&l in e.uniqueEmbeds[e.graph]&&x9(e,l),e.uniqueEmbeds[e.graph][l]={parent:r,property:s},e.subjectStack.push({subject:d,graph:e.graph}),l in e.graphMap){let f=!1,p=null;"@graph"in n?(p=n["@graph"][0],f=!(l==="@merged"||l==="@default"),Ne.isObject(p)||(p={})):(f=e.graph!=="@merged",p={}),f&&rr.frame({...e,graph:l,embedded:!1},Object.keys(e.graphMap[l]).sort(),[p],h,"@graph")}"@included"in n&&rr.frame({...e,embedded:!1},t,n["@included"],h,"@included");for(const f of Object.keys(d).sort()){if(Kg(f)){if(h[f]=wt.clone(d[f]),f==="@type")for(const p of d["@type"])p.indexOf("_:")===0&&wt.addValue(e.bnodeMap,p,h,{propertyIsArray:!0});continue}if(!(u.explicit&&!(f in n)))for(const p of d[f]){const m=f in n?n[f]:mv(u);if(Zn.isList(p)){const b=n[f]&&n[f][0]&&n[f][0]["@list"]?n[f][0]["@list"]:mv(u),y={"@list":[]};eu(h,f,y);const w=p["@list"];for(const x of w)Zn.isSubjectReference(x)?rr.frame({...e,embedded:!0},[x["@id"]],b,y,"@list"):eu(y,"@list",wt.clone(x))}else Zn.isSubjectReference(p)?rr.frame({...e,embedded:!0},[p["@id"]],m,h,f):Yg(m[0],p)&&eu(h,f,wt.clone(p))}}for(const f of Object.keys(n).sort()){if(f==="@type"){if(!Ne.isObject(n[f][0])||!("@default"in n[f][0]))continue}else if(Kg(f))continue;const p=n[f][0]||{};if(!of(p,i,"omitDefault")&&!(f in h)){let b="@null";"@default"in p&&(b=wt.clone(p["@default"])),Ne.isArray(b)||(b=[b]),h[f]=[{"@preserve":b}]}}for(const f of Object.keys(n["@reverse"]||{}).sort()){const p=n["@reverse"][f];for(const m of Object.keys(e.subjects))wt.getValues(e.subjects[m],f).some(y=>y["@id"]===l)&&(h["@reverse"]=h["@reverse"]||{},wt.addValue(h["@reverse"],f,[],{propertyIsArray:!0}),rr.frame({...e,embedded:!0},[m],p,h["@reverse"][f],s))}eu(r,s,h),e.subjectStack.pop()}}};rr.cleanupNull=(e,t)=>{if(Ne.isArray(e))return e.map(r=>rr.cleanupNull(r,t)).filter(r=>r);if(e==="@null")return null;if(Ne.isObject(e)){if("@id"in e){const n=e["@id"];if(t.link.hasOwnProperty(n)){const r=t.link[n].indexOf(e);if(r!==-1)return t.link[n][r];t.link[n].push(e)}else t.link[n]=[e]}for(const n in e)e[n]=rr.cleanupNull(e[n],t)}return e};function mv(e){const t={};for(const n in e)e[n]!==void 0&&(t["@"+n]=[e[n]]);return[t]}function w9(e,t,n){for(let r=n.length-1;r>=0;--r){const s=n[r];if(s.graph===t&&s.subject["@id"]===e["@id"])return!0}return!1}function of(e,t,n){const r="@"+n;let s=r in e?e[r][0]:t[n];if(n==="embed"){if(s===!0)s="@once";else if(s===!1)s="@never";else if(s!=="@always"&&s!=="@never"&&s!=="@link"&&s!=="@first"&&s!=="@last"&&s!=="@once")throw new fc("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:e})}return s}function nA(e){if(!Ne.isArray(e)||e.length!==1||!Ne.isObject(e[0]))throw new fc("Invalid JSON-LD syntax; a JSON-LD frame must be a single object.","jsonld.SyntaxError",{frame:e});if("@id"in e[0]){for(const t of wt.asArray(e[0]["@id"]))if(!(Ne.isObject(t)||gv.isAbsolute(t))||Ne.isString(t)&&t.indexOf("_:")===0)throw new fc("Invalid JSON-LD syntax; invalid @id in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:e})}if("@type"in e[0]){for(const t of wt.asArray(e[0]["@type"]))if(!(Ne.isObject(t)||gv.isAbsolute(t)||t==="@json")||Ne.isString(t)&&t.indexOf("_:")===0)throw new fc("Invalid JSON-LD syntax; invalid @type in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:e})}}function v9(e,t,n,r){const s={};for(const i of t){const u=e.graphMap[e.graph][i];rA(e,u,n,r)&&(s[i]=u)}return s}function rA(e,t,n,r){let s=!0,i=!1;for(const u in n){let o=!1;const a=wt.getValues(t,u),c=wt.getValues(n,u).length===0;if(u==="@id"){if(Ne.isEmptyObject(n["@id"][0]||{})?o=!0:n["@id"].length>=0&&(o=n["@id"].includes(a[0])),!r.requireAll)return o}else if(u==="@type"){if(s=!1,c){if(a.length>0)return!1;o=!0}else if(n["@type"].length===1&&Ne.isEmptyObject(n["@type"][0]))o=a.length>0;else for(const l of n["@type"])Ne.isObject(l)&&"@default"in l?o=!0:o=o||a.some(d=>d===l);if(!r.requireAll)return o}else{if(Kg(u))continue;{const l=wt.getValues(n,u)[0];let d=!1;if(l&&(nA([l]),d="@default"in l),s=!1,a.length===0&&d)continue;if(a.length>0&&c)return!1;if(l===void 0){if(a.length>0)return!1;o=!0}else if(Zn.isList(l)){const h=l["@list"][0];if(Zn.isList(a[0])){const f=a[0]["@list"];Zn.isValue(h)?o=f.some(p=>Yg(h,p)):(Zn.isSubject(h)||Zn.isSubjectReference(h))&&(o=f.some(p=>bv(e,h,p,r)))}}else Zn.isValue(l)?o=a.some(h=>Yg(l,h)):Zn.isSubjectReference(l)?o=a.some(h=>bv(e,l,h,r)):Ne.isObject(l)?o=a.length>0:o=!1}}if(!o&&r.requireAll)return!1;i=i||o}return s||i}function x9(e,t){const n=e.uniqueEmbeds[e.graph],r=n[t],s=r.parent,i=r.property,u={"@id":t};if(Ne.isArray(s)){for(let a=0;a<s.length;++a)if(wt.compareValues(s[a],u)){s[a]=u;break}}else{const a=Ne.isArray(s[i]);wt.removeValue(s,i,u,{propertyIsArray:a}),wt.addValue(s,i,u,{propertyIsArray:a})}const o=a=>{const c=Object.keys(n);for(const l of c)l in n&&Ne.isObject(n[l].parent)&&n[l].parent["@id"]===a&&(delete n[l],o(l))};o(t)}/**
 * Removes the @preserve keywords from expanded result of framing.
 *
 * @param input the framed, framed output.
 * @param options the framing options used.
 *
 * @return the resulting output.
 */function qf(e,t){if(Ne.isArray(e))return e.map(n=>qf(n,t));if(Ne.isObject(e)){// remove @preserve
if("@preserve"in e)return e["@preserve"][0];if(Zn.isValue(e))return e;if(Zn.isList(e))return e["@list"]=qf(e["@list"],t),e;if("@id"in e){const n=e["@id"];if(t.link.hasOwnProperty(n)){const r=t.link[n].indexOf(e);if(r!==-1)return t.link[n][r];t.link[n].push(e)}else t.link[n]=[e]}for(const n in e){if(n==="@id"&&t.bnodesToClear.includes(e[n])){delete e["@id"];continue}e[n]=qf(e[n],t)}}return e}function eu(e,t,n){Ne.isObject(e)?wt.addValue(e,t,n,{propertyIsArray:!0}):e.push(n)}function bv(e,t,n,r){if(!("@id"in n))return!1;const s=e.subjects[n["@id"]];return s&&rA(e,s,t,r)}function Yg(e,t){const n=t["@value"],r=t["@type"],s=t["@language"],i=e["@value"]?Ne.isArray(e["@value"])?e["@value"]:[e["@value"]]:[],u=e["@type"]?Ne.isArray(e["@type"])?e["@type"]:[e["@type"]]:[],o=e["@language"]?Ne.isArray(e["@language"])?e["@language"]:[e["@language"]]:[];return i.length===0&&u.length===0&&o.length===0?!0:!(!(i.includes(n)||Ne.isEmptyObject(i[0]))||!(!r&&u.length===0||u.includes(r)||r&&Ne.isEmptyObject(u[0]))||!(!s&&o.length===0||o.includes(s)||s&&Ne.isEmptyObject(o[0])))}const Ty=pr,{isArray:ii,isObject:hi,isString:sA,isUndefined:R0}=Vn,{isList:Zg,isValue:Ls,isGraph:iA,isSimpleGraph:yv,isSubjectReference:k0}=ti,{expandIri:uA,getContextValue:nn,isKeyword:oA,process:C0,processingMode:S9}=zu,{removeBase:wv,prependBase:A9}=$i,{REGEX_KEYWORD:_9,addValue:On,asArray:af,compareShortestLeast:T9}=gr,oe={};var E9=oe;oe.compact=async({activeCtx:e,activeProperty:t=null,element:n,options:r={}})=>{if(ii(n)){let i=[];for(let u=0;u<n.length;++u){const o=await oe.compact({activeCtx:e,activeProperty:t,element:n[u],options:r});o!==null&&i.push(o)}return r.compactArrays&&i.length===1&&(nn(e,t,"@container")||[]).length===0&&(i=i[0]),i}const s=nn(e,t,"@context");if(R0(s)||(e=await C0({activeCtx:e,localCtx:s,propagate:!0,overrideProtected:!0,options:r})),hi(n)){if(r.link&&"@id"in n&&r.link.hasOwnProperty(n["@id"])){const h=r.link[n["@id"]];for(let f=0;f<h.length;++f)if(h[f].expanded===n)return h[f].compacted}if(Ls(n)||k0(n)){const h=oe.compactValue({activeCtx:e,activeProperty:t,value:n,options:r});return r.link&&k0(n)&&(r.link.hasOwnProperty(n["@id"])||(r.link[n["@id"]]=[]),r.link[n["@id"]].push({expanded:n,compacted:h})),h}if(Zg(n)&&(nn(e,t,"@container")||[]).includes("@list"))return oe.compact({activeCtx:e,activeProperty:t,element:n["@list"],options:r});const i=t==="@reverse",u={},o=e;!Ls(n)&&!k0(n)&&(e=e.revertToPreviousContext());const a=nn(o,t,"@context");R0(a)||(e=await C0({activeCtx:e,localCtx:a,propagate:!0,overrideProtected:!0,options:r})),r.link&&"@id"in n&&(r.link.hasOwnProperty(n["@id"])||(r.link[n["@id"]]=[]),r.link[n["@id"]].push({expanded:n,compacted:u}));let c=n["@type"]||[];c.length>1&&(c=Array.from(c).sort());const l=e;for(const h of c){const f=oe.compactIri({activeCtx:l,iri:h,relativeTo:{vocab:!0}}),p=nn(o,f,"@context");R0(p)||(e=await C0({activeCtx:e,localCtx:p,options:r,propagate:!1}))}const d=Object.keys(n).sort();for(const h of d){const f=n[h];if(h==="@id"){let p=af(f).map(b=>oe.compactIri({activeCtx:e,iri:b,relativeTo:{vocab:!1},base:r.base}));p.length===1&&(p=p[0]);const m=oe.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}});u[m]=p;continue}if(h==="@type"){let p=af(f).map(x=>oe.compactIri({activeCtx:o,iri:x,relativeTo:{vocab:!0}}));p.length===1&&(p=p[0]);const m=oe.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}}),w=(nn(e,m,"@container")||[]).includes("@set")&&S9(e,1.1)||ii(p)&&f.length===0;On(u,m,p,{propertyIsArray:w});continue}if(h==="@reverse"){const p=await oe.compact({activeCtx:e,activeProperty:"@reverse",element:f,options:r});for(const m in p)if(e.mappings.has(m)&&e.mappings.get(m).reverse){const b=p[m],w=(nn(e,m,"@container")||[]).includes("@set")||!r.compactArrays;On(u,m,b,{propertyIsArray:w}),delete p[m]}if(Object.keys(p).length>0){const m=oe.compactIri({activeCtx:e,iri:h,relativeTo:{vocab:!0}});On(u,m,p)}continue}if(h==="@preserve"){const p=await oe.compact({activeCtx:e,activeProperty:t,element:f,options:r});ii(p)&&p.length===0||On(u,h,p);continue}if(h==="@index"){if((nn(e,t,"@container")||[]).includes("@index"))continue;const m=oe.compactIri({activeCtx:e,iri:h,relativeTo:{vocab:!0}});On(u,m,f);continue}if(h!=="@graph"&&h!=="@list"&&h!=="@included"&&oA(h)){const p=oe.compactIri({activeCtx:e,iri:h,relativeTo:{vocab:!0}});On(u,p,f);continue}if(!ii(f))throw new Ty("JSON-LD expansion error; expanded value must be an array.","jsonld.SyntaxError");if(f.length===0){const p=oe.compactIri({activeCtx:e,iri:h,value:f,relativeTo:{vocab:!0},reverse:i}),m=e.mappings.has(p)?e.mappings.get(p)["@nest"]:null;let b=u;m&&(vv(e,m,r),hi(u[m])||(u[m]={}),b=u[m]),On(b,p,f,{propertyIsArray:!0})}for(const p of f){const m=oe.compactIri({activeCtx:e,iri:h,value:p,relativeTo:{vocab:!0},reverse:i}),b=e.mappings.has(m)?e.mappings.get(m)["@nest"]:null;let y=u;b&&(vv(e,b,r),hi(u[b])||(u[b]={}),y=u[b]);const w=nn(e,m,"@container")||[],x=iA(p),v=Zg(p);let _;v?_=p["@list"]:x&&(_=p["@graph"]);let T=await oe.compact({activeCtx:e,activeProperty:m,element:v||x?_:p,options:r});if(v)if(ii(T)||(T=[T]),!w.includes("@list"))T={[oe.compactIri({activeCtx:e,iri:"@list",relativeTo:{vocab:!0}})]:T},"@index"in p&&(T[oe.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=p["@index"]);else{On(y,m,T,{valueIsArray:!0,allowDuplicate:!0});continue}if(x)if(w.includes("@graph")&&(w.includes("@id")||w.includes("@index")&&yv(p))){let $;y.hasOwnProperty(m)?$=y[m]:y[m]=$={};const z=(w.includes("@id")?p["@id"]:p["@index"])||oe.compactIri({activeCtx:e,iri:"@none",relativeTo:{vocab:!0}});On($,z,T,{propertyIsArray:!r.compactArrays||w.includes("@set")})}else w.includes("@graph")&&yv(p)?(ii(T)&&T.length>1&&(T={"@included":T}),On(y,m,T,{propertyIsArray:!r.compactArrays||w.includes("@set")})):(ii(T)&&T.length===1&&r.compactArrays&&(T=T[0]),T={[oe.compactIri({activeCtx:e,iri:"@graph",relativeTo:{vocab:!0}})]:T},"@id"in p&&(T[oe.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}})]=p["@id"]),"@index"in p&&(T[oe.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=p["@index"]),On(y,m,T,{propertyIsArray:!r.compactArrays||w.includes("@set")}));else if(w.includes("@language")||w.includes("@index")||w.includes("@id")||w.includes("@type")){let $;y.hasOwnProperty(m)?$=y[m]:y[m]=$={};let z;if(w.includes("@language"))Ls(T)&&(T=T["@value"]),z=p["@language"];else if(w.includes("@index")){const W=nn(e,m,"@index")||"@index",pe=oe.compactIri({activeCtx:e,iri:W,relativeTo:{vocab:!0}});if(W==="@index")z=p["@index"],delete T[pe];else{let F;if([z,...F]=af(T[W]||[]),!sA(z))z=null;else switch(F.length){case 0:delete T[W];break;case 1:T[W]=F[0];break;default:T[W]=F;break}}}else if(w.includes("@id")){const W=oe.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}});z=T[W],delete T[W]}else if(w.includes("@type")){const W=oe.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}});let pe;switch([z,...pe]=af(T[W]||[]),pe.length){case 0:delete T[W];break;case 1:T[W]=pe[0];break;default:T[W]=pe;break}Object.keys(T).length===1&&"@id"in p&&(T=await oe.compact({activeCtx:e,activeProperty:m,element:{"@id":p["@id"]},options:r}))}z||(z=oe.compactIri({activeCtx:e,iri:"@none",relativeTo:{vocab:!0}})),On($,z,T,{propertyIsArray:w.includes("@set")})}else{const $=!r.compactArrays||w.includes("@set")||w.includes("@list")||ii(T)&&T.length===0||h==="@list"||h==="@graph";On(y,m,T,{propertyIsArray:$})}}}return u}return n};oe.compactIri=({activeCtx:e,iri:t,value:n=null,relativeTo:r={vocab:!1},reverse:s=!1,base:i=null})=>{if(t===null)return t;e.isPropertyTermScoped&&e.previousContext&&(e=e.previousContext);const u=e.getInverse();if(oA(t)&&t in u&&"@none"in u[t]&&"@type"in u[t]["@none"]&&"@none"in u[t]["@none"]["@type"])return u[t]["@none"]["@type"]["@none"];if(r.vocab&&t in u){const d=e["@language"]||"@none",h=[];hi(n)&&"@index"in n&&!("@graph"in n)&&h.push("@index","@index@set"),hi(n)&&"@preserve"in n&&(n=n["@preserve"][0]),iA(n)?("@index"in n&&h.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in n&&h.push("@graph@id","@graph@id@set"),h.push("@graph","@graph@set","@set"),"@index"in n||h.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in n||h.push("@graph@id","@graph@id@set")):hi(n)&&!Ls(n)&&h.push("@id","@id@set","@type","@set@type");let f="@language",p="@null";if(s)f="@type",p="@reverse",h.push("@set");else if(Zg(n)){"@index"in n||h.push("@list");const b=n["@list"];if(b.length===0)f="@any",p="@none";else{let y=b.length===0?d:null,w=null;for(let x=0;x<b.length;++x){const v=b[x];let _="@none",T="@none";if(Ls(v))if("@direction"in v){const $=(v["@language"]||"").toLowerCase(),z=v["@direction"];_=`${$}_${z}`}else"@language"in v?_=v["@language"].toLowerCase():"@type"in v?T=v["@type"]:_="@null";else T="@id";if(y===null?y=_:_!==y&&Ls(v)&&(y="@none"),w===null?w=T:T!==w&&(w="@none"),y==="@none"&&w==="@none")break}y=y||"@none",w=w||"@none",w!=="@none"?(f="@type",p=w):p=y}}else{if(Ls(n))if("@language"in n&&!("@index"in n)){h.push("@language","@language@set"),p=n["@language"];const b=n["@direction"];b&&(p=`${p}_${b}`)}else"@direction"in n&&!("@index"in n)?p=`_${n["@direction"]}`:"@type"in n&&(f="@type",p=n["@type"]);else f="@type",p="@id";h.push("@set")}h.push("@none"),hi(n)&&!("@index"in n)&&h.push("@index","@index@set"),Ls(n)&&Object.keys(n).length===1&&h.push("@language","@language@set");const m=O9(e,t,n,h,f,p);if(m!==null)return m}if(r.vocab&&"@vocab"in e){const d=e["@vocab"];if(t.indexOf(d)===0&&t!==d){const h=t.substr(d.length);if(!e.mappings.has(h))return h}}let o=null;const a=[];let c=e.fastCurieMap;const l=t.length-1;for(let d=0;d<l&&t[d]in c;++d)c=c[t[d]],""in c&&a.push(c[""][0]);for(let d=a.length-1;d>=0;--d){const h=a[d],f=h.terms;for(const p of f){const m=p+":"+t.substr(h.iri.length);e.mappings.get(p)._prefix&&(!e.mappings.has(m)||n===null&&e.mappings.get(m)["@id"]===t)&&(o===null||T9(m,o)<0)&&(o=m)}}if(o!==null)return o;for(const[d,h]of e.mappings)if(h&&h._prefix&&t.startsWith(d+":"))throw new Ty(`Absolute IRI "${t}" confused with prefix "${d}".`,"jsonld.SyntaxError",{code:"IRI confused with prefix",context:e});if(!r.vocab)if("@base"in e)if(e["@base"]){const d=wv(A9(i,e["@base"]),t);return _9.test(d)?`./${d}`:d}else return t;else return wv(i,t);return t};oe.compactValue=({activeCtx:e,activeProperty:t,value:n,options:r})=>{if(Ls(n)){const o=nn(e,t,"@type"),a=nn(e,t,"@language"),c=nn(e,t,"@direction"),l=nn(e,t,"@container")||[],d="@index"in n&&!l.includes("@index");if(!d&&o!=="@none"&&(n["@type"]===o||"@language"in n&&n["@language"]===a&&"@direction"in n&&n["@direction"]===c||"@language"in n&&n["@language"]===a||"@direction"in n&&n["@direction"]===c))return n["@value"];const h=Object.keys(n).length,f=h===1||h===2&&"@index"in n&&!d,p="@language"in e,m=sA(n["@value"]),b=e.mappings.has(t)&&e.mappings.get(t)["@language"]===null;if(f&&o!=="@none"&&(!p||!m||b))return n["@value"];const y={};return d&&(y[oe.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=n["@index"]),"@type"in n?y[oe.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}})]=oe.compactIri({activeCtx:e,iri:n["@type"],relativeTo:{vocab:!0}}):"@language"in n&&(y[oe.compactIri({activeCtx:e,iri:"@language",relativeTo:{vocab:!0}})]=n["@language"]),"@direction"in n&&(y[oe.compactIri({activeCtx:e,iri:"@direction",relativeTo:{vocab:!0}})]=n["@direction"]),y[oe.compactIri({activeCtx:e,iri:"@value",relativeTo:{vocab:!0}})]=n["@value"],y}const s=uA(e,t,{vocab:!0},r),i=nn(e,t,"@type"),u=oe.compactIri({activeCtx:e,iri:n["@id"],relativeTo:{vocab:i==="@vocab"},base:r.base});return i==="@id"||i==="@vocab"||s==="@graph"?u:{[oe.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}})]:u}};function O9(e,t,n,r,s,i){i===null&&(i="@null");const u=[];if((i==="@id"||i==="@reverse")&&hi(n)&&"@id"in n){i==="@reverse"&&u.push("@reverse");const a=oe.compactIri({activeCtx:e,iri:n["@id"],relativeTo:{vocab:!0}});e.mappings.has(a)&&e.mappings.get(a)&&e.mappings.get(a)["@id"]===n["@id"]?u.push.apply(u,["@vocab","@id"]):u.push.apply(u,["@id","@vocab"])}else{u.push(i);const a=u.find(c=>c.includes("_"));a&&u.push(a.replace(/^[^_]+_/,"_"))}u.push("@none");const o=e.inverse[t];for(const a of r){if(!(a in o))continue;const c=o[a][s];for(const l of u)if(l in c)return c[l]}return null}function vv(e,t,n){if(uA(e,t,{vocab:!0},n)!=="@nest")throw new Ty("JSON-LD compact error; nested property must have an @nest value resolving to @nest.","jsonld.SyntaxError",{code:"invalid @nest value"})}var D0,xv;function I9(){return xv||(xv=1,D0=e=>{class t{toString(){return"[object JsonLdProcessor]"}}return Object.defineProperty(t,"prototype",{writable:!1,enumerable:!1}),Object.defineProperty(t.prototype,"constructor",{writable:!0,enumerable:!1,configurable:!0,value:t}),t.compact=function(n,r){return arguments.length<2?Promise.reject(new TypeError("Could not compact, too few arguments.")):e.compact(n,r)},t.expand=function(n){return arguments.length<1?Promise.reject(new TypeError("Could not expand, too few arguments.")):e.expand(n)},t.flatten=function(n){return arguments.length<1?Promise.reject(new TypeError("Could not flatten, too few arguments.")):e.flatten(n)},t}),D0}/**
 * A JavaScript implementation of the JSON-LD API.
 *
 * @author Dave Longley
 *
 * @license BSD 3-Clause License
 * Copyright (c) 2011-2022 Digital Bazaar, Inc.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * Redistributions of source code must retain the above copyright notice,
 * this list of conditions and the following disclaimer.
 *
 * Redistributions in binary form must reproduce the above copyright
 * notice, this list of conditions and the following disclaimer in the
 * documentation and/or other materials provided with the distribution.
 *
 * Neither the name of the Digital Bazaar, Inc. nor the names of its
 * contributors may be used to endorse or promote products derived from
 * this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
 * IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED
 * TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A
 * PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
 * TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
 * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */const Sv=xy,Av=pD,oi=gr,Ss=OD,M0=oi.IdentifierIssuer,Jr=pr,N9=V3,cf=ND,{expand:R9}=$D,{flatten:k9}=JD,{fromRDF:C9}=KD,{toRDF:D9}=h9,{frameMergedOrDefault:M9,cleanupNull:P9}=y9,{isArray:so,isObject:tu,isString:Wr}=Vn,{isSubjectReference:j9}=ti,{expandIri:L9,getInitialContext:lf,process:_v,processingMode:P0}=zu,{compact:F9,compactIri:B9}=E9,{createNodeMap:U9,createMergedNodeMap:q9,mergeNodeMaps:$9}=Rh,{logEventHandler:V9,logWarningEventHandler:z9,safeEventHandler:H9,setDefaultEventHandler:G9,setupEventHandler:J9,strictEventHandler:W9,unhandledEventHandler:Q9}=Ol,aA=function(e){const t={},r=new N9({max:100});e.compact=async function(i,u,o){if(arguments.length<2)throw new TypeError("Could not compact, too few arguments.");if(u===null)throw new Jr("The compaction context must not be null.","jsonld.CompactError",{code:"invalid local context"});if(i===null)return null;o=s(o,{base:Wr(i)?i:"",compactArrays:!0,compactToRelative:!0,graph:!1,skipExpansion:!1,link:!1,issuer:new M0("_:b"),contextResolver:new Ss({sharedCache:r})}),o.link&&(o.skipExpansion=!0),o.compactToRelative||delete o.base;let a;o.skipExpansion?a=i:a=await e.expand(i,o);const c=await e.processContext(lf(o),u,o);let l=await F9({activeCtx:c,element:a,options:o});o.compactArrays&&!o.graph&&so(l)?l.length===1?l=l[0]:l.length===0&&(l={}):o.graph&&tu(l)&&(l=[l]),tu(u)&&"@context"in u&&(u=u["@context"]),u=oi.clone(u),so(u)||(u=[u]);const d=u;u=[];for(let f=0;f<d.length;++f)(!tu(d[f])||Object.keys(d[f]).length>0)&&u.push(d[f]);const h=u.length>0;if(u.length===1&&(u=u[0]),so(l)){const f=B9({activeCtx:c,iri:"@graph",relativeTo:{vocab:!0}}),p=l;l={},h&&(l["@context"]=u),l[f]=p}else if(tu(l)&&h){const f=l;l={"@context":u};for(const p in f)l[p]=f[p]}return l},e.expand=async function(i,u){if(arguments.length<1)throw new TypeError("Could not expand, too few arguments.");u=s(u,{keepFreeFloatingNodes:!1,contextResolver:new Ss({sharedCache:r})});const o={},a=[];if("expandContext"in u){const h=oi.clone(u.expandContext);tu(h)&&"@context"in h?o.expandContext=h:o.expandContext={"@context":h},a.push(o.expandContext)}let c;if(!Wr(i))o.input=oi.clone(i);else{const h=await e.get(i,u);c=h.documentUrl,o.input=h.document,h.contextUrl&&(o.remoteContext={"@context":h.contextUrl},a.push(o.remoteContext))}"base"in u||(u.base=c||"");let l=lf(u);for(const h of a)l=await _v({activeCtx:l,localCtx:h,options:u});let d=await R9({activeCtx:l,element:o.input,options:u});return tu(d)&&"@graph"in d&&Object.keys(d).length===1?d=d["@graph"]:d===null&&(d=[]),so(d)||(d=[d]),d},e.flatten=async function(i,u,o){if(arguments.length<1)return new TypeError("Could not flatten, too few arguments.");typeof u=="function"?u=null:u=u||null,o=s(o,{base:Wr(i)?i:"",contextResolver:new Ss({sharedCache:r})});const a=await e.expand(i,o),c=k9(a);return u===null?c:(o.graph=!0,o.skipExpansion=!0,await e.compact(c,u,o))},e.frame=async function(i,u,o){if(arguments.length<2)throw new TypeError("Could not frame, too few arguments.");if(o=s(o,{base:Wr(i)?i:"",embed:"@once",explicit:!1,requireAll:!1,omitDefault:!1,bnodesToClear:[],contextResolver:new Ss({sharedCache:r})}),Wr(u)){const b=await e.get(u,o);if(u=b.document,b.contextUrl){let y=u["@context"];y?so(y)?y.push(b.contextUrl):y=[y,b.contextUrl]:y=b.contextUrl,u["@context"]=y}}const a=u?u["@context"]||{}:{},c=await e.processContext(lf(o),a,o);o.hasOwnProperty("omitGraph")||(o.omitGraph=P0(c,1.1)),o.hasOwnProperty("pruneBlankNodeIdentifiers")||(o.pruneBlankNodeIdentifiers=P0(c,1.1));const l=await e.expand(i,o),d={...o};d.isFrame=!0,d.keepFreeFloatingNodes=!0;const h=await e.expand(u,d),f=Object.keys(u).map(b=>L9(c,b,{vocab:!0}));d.merged=!f.includes("@graph"),d.is11=P0(c,1.1);const p=M9(l,h,d);d.graph=!o.omitGraph,d.skipExpansion=!0,d.link={},d.framing=!0;let m=await e.compact(p,a,d);return d.link={},m=P9(m,d),m},e.link=async function(i,u,o){const a={};return u&&(a["@context"]=u),a["@embed"]="@link",e.frame(i,a,o)},e.normalize=e.canonize=async function(i,u){if(arguments.length<1)throw new TypeError("Could not canonize, too few arguments.");if(u=s(u,{base:Wr(i)?i:null,algorithm:"URDNA2015",skipExpansion:!1,safe:!0,contextResolver:new Ss({sharedCache:r})}),"inputFormat"in u){if(u.inputFormat!=="application/n-quads"&&u.inputFormat!=="application/nquads")throw new Jr("Unknown canonicalization input format.","jsonld.CanonizeError");const c=cf.parse(i);return Sv.canonize(c,u)}const o={...u};delete o.format,o.produceGeneralizedRdf=!1;const a=await e.toRDF(i,o);return Sv.canonize(a,u)},e.fromRDF=async function(i,u){if(arguments.length<1)throw new TypeError("Could not convert from RDF, too few arguments.");u=s(u,{format:Wr(i)?"application/n-quads":void 0});const{format:o}=u;let{rdfParser:a}=u;if(o){if(a=a||t[o],!a)throw new Jr("Unknown input format.","jsonld.UnknownFormat",{format:o})}else a=()=>i;const c=await a(i);return C9(c,u)},e.toRDF=async function(i,u){if(arguments.length<1)throw new TypeError("Could not convert to RDF, too few arguments.");u=s(u,{base:Wr(i)?i:"",skipExpansion:!1,contextResolver:new Ss({sharedCache:r})});let o;u.skipExpansion?o=i:o=await e.expand(i,u);const a=D9(o,u);if(u.format){if(u.format==="application/n-quads"||u.format==="application/nquads")return cf.serialize(a);throw new Jr("Unknown output format.","jsonld.UnknownFormat",{format:u.format})}return a},e.createNodeMap=async function(i,u){if(arguments.length<1)throw new TypeError("Could not create node map, too few arguments.");u=s(u,{base:Wr(i)?i:"",contextResolver:new Ss({sharedCache:r})});const o=await e.expand(i,u);return q9(o,u)},e.merge=async function(i,u,o){if(arguments.length<1)throw new TypeError("Could not merge, too few arguments.");if(!so(i))throw new TypeError('Could not merge, "docs" must be an array.');typeof u=="function"?u=null:u=u||null,o=s(o,{contextResolver:new Ss({sharedCache:r})});const a=await Promise.all(i.map(b=>{const y={...o};return e.expand(b,y)}));let c=!0;"mergeNodes"in o&&(c=o.mergeNodes);const l=o.issuer||new M0("_:b"),d={"@default":{}};for(let b=0;b<a.length;++b){const y=oi.relabelBlankNodes(a[b],{issuer:new M0("_:b"+b+"-")}),w=c||b===0?d:{"@default":{}};if(U9(y,w,"@default",l),w!==d)for(const x in w){const v=w[x];if(!(x in d)){d[x]=v;continue}const _=d[x];for(const T in v)T in _||(_[T]=v[T])}}const h=$9(d),f=[],p=Object.keys(h).sort();for(let b=0;b<p.length;++b){const y=h[p[b]];j9(y)||f.push(y)}return u===null?f:(o.graph=!0,o.skipExpansion=!0,await e.compact(f,u,o))},Object.defineProperty(e,"documentLoader",{get:()=>e._documentLoader,set:i=>e._documentLoader=i}),e.documentLoader=async i=>{throw new Jr("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",url:i})},e.get=async function(i,u){let o;typeof u.documentLoader=="function"?o=u.documentLoader:o=e.documentLoader;const a=await o(i);try{if(!a.document)throw new Jr("No remote document found at the given URL.","jsonld.NullRemoteDocument");Wr(a.document)&&(a.document=JSON.parse(a.document))}catch(c){throw new Jr("Could not retrieve a JSON-LD document from the URL.","jsonld.LoadDocumentError",{code:"loading document failed",cause:c,remoteDoc:a})}return a},e.processContext=async function(i,u,o){return o=s(o,{base:"",contextResolver:new Ss({sharedCache:r})}),u===null?lf(o):(u=oi.clone(u),tu(u)&&"@context"in u||(u={"@context":u}),_v({activeCtx:i,localCtx:u,options:o}))},e.getContextValue=zu.getContextValue,e.documentLoaders={},e.useDocumentLoader=function(i){if(!(i in e.documentLoaders))throw new Jr('Unknown document loader type: "'+i+'"',"jsonld.UnknownDocumentLoader",{type:i});e.documentLoader=e.documentLoaders[i].apply(e,Array.prototype.slice.call(arguments,1))},e.registerRDFParser=function(i,u){t[i]=u},e.unregisterRDFParser=function(i){delete t[i]},e.registerRDFParser("application/n-quads",cf.parse),e.registerRDFParser("application/nquads",cf.parse),e.url=$i,e.logEventHandler=V9,e.logWarningEventHandler=z9,e.safeEventHandler=H9,e.setDefaultEventHandler=G9,e.strictEventHandler=W9,e.unhandledEventHandler=Q9,e.util=oi,Object.assign(e,oi),e.promises=e,e.RequestQueue=q3(),e.JsonLdProcessor=I9()(e),Av.setupGlobals(e),Av.setupDocumentLoaders(e);function s(i,{documentLoader:u=e.documentLoader,...o}){if(i&&"compactionMap"in i)throw new Jr('"compactionMap" not supported.',"jsonld.OptionsError");if(i&&"expansionMap"in i)throw new Jr('"expansionMap" not supported.',"jsonld.OptionsError");return Object.assign({},{documentLoader:u},o,i,{eventHandler:J9({options:i})})}return e},Ey=function(){return aA(function(){return Ey()})};aA(Ey);var X9=Ey;const K9=RC(X9),Y9=new RegExp("([\\p{Ll}\\d])(\\p{Lu})","gu"),Z9=new RegExp("(\\p{Lu})([\\p{Lu}][\\p{Ll}])","gu"),eM=new RegExp("(\\d)\\p{Ll}|(\\p{L})\\d","u"),tM=/[^\p{L}\d]+/giu,Tv="$1\0$2",Ev="";function cA(e){let t=e.trim();t=t.replace(Y9,Tv).replace(Z9,Tv),t=t.replace(tM,"\0");let n=0,r=t.length;for(;t.charAt(n)==="\0";)n++;if(n===r)return[];for(;t.charAt(r-1)==="\0";)r--;return t.slice(n,r).split(/\0/g)}function nM(e){const t=cA(e);for(let n=0;n<t.length;n++){const r=t[n],s=eM.exec(r);if(s){const i=s.index+(s[1]??s[2]).length;t.splice(n,1,r.slice(0,i),r.slice(i))}}return t}function rM(e,t){const[n,r,s]=uM(e,t);return n+r.map(iM(t==null?void 0:t.locale)).join((t==null?void 0:t.delimiter)??" ")+s}function sM(e,t){return rM(e,{delimiter:"-",...t})}function iM(e){return e===!1?t=>t.toLowerCase():t=>t.toLocaleLowerCase(e)}function uM(e,t={}){const n=t.split??(t.separateNumbers?nM:cA),r=t.prefixCharacters??Ev,s=t.suffixCharacters??Ev;let i=0,u=e.length;for(;i<e.length;){const o=e.charAt(i);if(!r.includes(o))break;i++}for(;u>i;){const o=u-1,a=e.charAt(o);if(!s.includes(a))break;u=o}return[e.slice(0,i),n(e.slice(i,u)),e.slice(u)]}var Ya={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.toSeconds=e.end=e.parse=e.pattern=void 0;var t="\\d+",n="".concat(t,"(?:[\\.,]").concat(t,")?"),r="(".concat(t,"Y)?(").concat(t,"M)?(").concat(t,"W)?(").concat(t,"D)?"),s="T(".concat(n,"H)?(").concat(n,"M)?(").concat(n,"S)?"),i="P(?:".concat(r,"(?:").concat(s,")?)"),u=["years","months","weeks","days","hours","minutes","seconds"],o=Object.freeze({years:0,months:0,weeks:0,days:0,hours:0,minutes:0,seconds:0});e.pattern=new RegExp(i);var a=function(d){var h=d.replace(/,/g,".").match(e.pattern);if(!h)throw new RangeError("invalid duration: ".concat(d));var f=h.slice(1);if(f.filter(function(p){return p!=null}).length===0)throw new RangeError("invalid duration: ".concat(d));if(f.filter(function(p){return/\./.test(p||"")}).length>1)throw new RangeError("only the smallest unit can be fractional");return f.reduce(function(p,m,b){return p[u[b]]=parseFloat(m||"0")||0,p},{})};e.parse=a;var c=function(d,h){h===void 0&&(h=new Date);var f=Object.assign({},o,d),p=h.getTime(),m=new Date(p);m.setFullYear(m.getFullYear()+f.years),m.setMonth(m.getMonth()+f.months),m.setDate(m.getDate()+f.days);var b=f.hours*3600*1e3,y=f.minutes*60*1e3;return m.setMilliseconds(m.getMilliseconds()+f.seconds*1e3+b+y),m.setDate(m.getDate()+f.weeks*7),m};e.end=c;var l=function(d,h){h===void 0&&(h=new Date);var f=Object.assign({},o,d),p=h.getTime(),m=new Date(p),b=(0,e.end)(f,m),y=h.getTimezoneOffset(),w=b.getTimezoneOffset(),x=(y-w)*60,v=(b.getTime()-m.getTime())/1e3;return v+x};e.toSeconds=l,e.default={end:e.end,toSeconds:e.toSeconds,pattern:e.pattern,parse:e.parse}})(Ya);const gd=Symbol("changed"),co=Symbol("classList"),Or=Symbol("CustomElements"),ff=Symbol("content"),j0=Symbol("dataset"),nu=Symbol("doctype"),em=Symbol("DOMParser"),X=Symbol("end"),Fa=Symbol("EventTarget"),$f=Symbol("globals"),Ir=Symbol("image"),pa=Symbol("mime"),pi=Symbol("MutationObserver"),j=Symbol("next"),lA=Symbol("ownerElement"),xt=Symbol("prev"),Vt=Symbol("private"),io=Symbol("sheet"),bn=Symbol("start"),L0=Symbol("style"),dc=Symbol("upgrade"),Oe=Symbol("value");var fA=new Uint16Array('ᵁ<Õıʊҝջאٵ۞ޢߖࠏ੊ઑඡ๭༉༦჊ረዡᐕᒝᓃᓟᔥ\0\0\0\0\0\0ᕫᛍᦍᰒᷝ὾⁠↰⊍⏀⏻⑂⠤⤒ⴈ⹈⿎〖㊺㘹㞬㣾㨨㩱㫠㬮ࠀEMabcfglmnoprstu\\bfms¦³¹ÈÏlig耻Æ䃆P耻&䀦cute耻Á䃁reve;䄂Āiyx}rc耻Â䃂;䐐r;쀀𝔄rave耻À䃀pha;䎑acr;䄀d;橓Āgp¡on;䄄f;쀀𝔸plyFunction;恡ing耻Å䃅Ācs¾Ãr;쀀𝒜ign;扔ilde耻Ã䃃ml耻Ä䃄ЀaceforsuåûþėĜĢħĪĀcrêòkslash;或Ŷöø;櫧ed;挆y;䐑ƀcrtąċĔause;戵noullis;愬a;䎒r;쀀𝔅pf;쀀𝔹eve;䋘còēmpeq;扎܀HOacdefhilorsuōőŖƀƞƢƵƷƺǜȕɳɸɾcy;䐧PY耻©䂩ƀcpyŝŢźute;䄆Ā;iŧŨ拒talDifferentialD;慅leys;愭ȀaeioƉƎƔƘron;䄌dil耻Ç䃇rc;䄈nint;戰ot;䄊ĀdnƧƭilla;䂸terDot;䂷òſi;䎧rcleȀDMPTǇǋǑǖot;抙inus;抖lus;投imes;抗oĀcsǢǸkwiseContourIntegral;戲eCurlyĀDQȃȏoubleQuote;思uote;怙ȀlnpuȞȨɇɕonĀ;eȥȦ户;橴ƀgitȯȶȺruent;扡nt;戯ourIntegral;戮ĀfrɌɎ;愂oduct;成nterClockwiseContourIntegral;戳oss;樯cr;쀀𝒞pĀ;Cʄʅ拓ap;才րDJSZacefiosʠʬʰʴʸˋ˗ˡ˦̳ҍĀ;oŹʥtrahd;椑cy;䐂cy;䐅cy;䐏ƀgrsʿ˄ˇger;怡r;憡hv;櫤Āayː˕ron;䄎;䐔lĀ;t˝˞戇a;䎔r;쀀𝔇Āaf˫̧Ācm˰̢riticalȀADGT̖̜̀̆cute;䂴oŴ̋̍;䋙bleAcute;䋝rave;䁠ilde;䋜ond;拄ferentialD;慆Ѱ̽\0\0\0͔͂\0Ѕf;쀀𝔻ƀ;DE͈͉͍䂨ot;惜qual;扐blèCDLRUVͣͲ΂ϏϢϸontourIntegraìȹoɴ͹\0\0ͻ»͉nArrow;懓Āeo·ΤftƀARTΐΖΡrrow;懐ightArrow;懔eåˊngĀLRΫτeftĀARγιrrow;柸ightArrow;柺ightArrow;柹ightĀATϘϞrrow;懒ee;抨pɁϩ\0\0ϯrrow;懑ownArrow;懕erticalBar;戥ǹABLRTaВЪаўѿͼrrowƀ;BUНОТ憓ar;椓pArrow;懵reve;䌑eft˒к\0ц\0ѐightVector;楐eeVector;楞ectorĀ;Bљњ憽ar;楖ightǔѧ\0ѱeeVector;楟ectorĀ;BѺѻ懁ar;楗eeĀ;A҆҇护rrow;憧ĀctҒҗr;쀀𝒟rok;䄐ࠀNTacdfglmopqstuxҽӀӄӋӞӢӧӮӵԡԯԶՒ՝ՠեG;䅊H耻Ð䃐cute耻É䃉ƀaiyӒӗӜron;䄚rc耻Ê䃊;䐭ot;䄖r;쀀𝔈rave耻È䃈ement;戈ĀapӺӾcr;䄒tyɓԆ\0\0ԒmallSquare;旻erySmallSquare;斫ĀgpԦԪon;䄘f;쀀𝔼silon;䎕uĀaiԼՉlĀ;TՂՃ橵ilde;扂librium;懌Āci՗՚r;愰m;橳a;䎗ml耻Ë䃋Āipժկsts;戃onentialE;慇ʀcfiosօֈ֍ֲ׌y;䐤r;쀀𝔉lledɓ֗\0\0֣mallSquare;旼erySmallSquare;斪Ͱֺ\0ֿ\0\0ׄf;쀀𝔽All;戀riertrf;愱cò׋؀JTabcdfgorstר׬ׯ׺؀ؒؖ؛؝أ٬ٲcy;䐃耻>䀾mmaĀ;d׷׸䎓;䏜reve;䄞ƀeiy؇،ؐdil;䄢rc;䄜;䐓ot;䄠r;쀀𝔊;拙pf;쀀𝔾eater̀EFGLSTصلَٖٛ٦qualĀ;Lؾؿ扥ess;招ullEqual;执reater;檢ess;扷lantEqual;橾ilde;扳cr;쀀𝒢;扫ЀAacfiosuڅڋږڛڞڪھۊRDcy;䐪Āctڐڔek;䋇;䁞irc;䄤r;愌lbertSpace;愋ǰگ\0ڲf;愍izontalLine;攀Āctۃۅòکrok;䄦mpńېۘownHumðįqual;扏܀EJOacdfgmnostuۺ۾܃܇܎ܚܞܡܨ݄ݸދޏޕcy;䐕lig;䄲cy;䐁cute耻Í䃍Āiyܓܘrc耻Î䃎;䐘ot;䄰r;愑rave耻Ì䃌ƀ;apܠܯܿĀcgܴܷr;䄪inaryI;慈lieóϝǴ݉\0ݢĀ;eݍݎ戬Āgrݓݘral;戫section;拂isibleĀCTݬݲomma;恣imes;恢ƀgptݿރވon;䄮f;쀀𝕀a;䎙cr;愐ilde;䄨ǫޚ\0ޞcy;䐆l耻Ï䃏ʀcfosuެ޷޼߂ߐĀiyޱ޵rc;䄴;䐙r;쀀𝔍pf;쀀𝕁ǣ߇\0ߌr;쀀𝒥rcy;䐈kcy;䐄΀HJacfosߤߨ߽߬߱ࠂࠈcy;䐥cy;䐌ppa;䎚Āey߶߻dil;䄶;䐚r;쀀𝔎pf;쀀𝕂cr;쀀𝒦րJTaceflmostࠥࠩࠬࡐࡣ঳সে্਷ੇcy;䐉耻<䀼ʀcmnpr࠷࠼ࡁࡄࡍute;䄹bda;䎛g;柪lacetrf;愒r;憞ƀaeyࡗ࡜ࡡron;䄽dil;䄻;䐛Āfsࡨ॰tԀACDFRTUVarࡾࢩࢱࣦ࣠ࣼयज़ΐ४Ānrࢃ࢏gleBracket;柨rowƀ;BR࢙࢚࢞憐ar;懤ightArrow;懆eiling;挈oǵࢷ\0ࣃbleBracket;柦nǔࣈ\0࣒eeVector;楡ectorĀ;Bࣛࣜ懃ar;楙loor;挊ightĀAV࣯ࣵrrow;憔ector;楎Āerँगeƀ;AVउऊऐ抣rrow;憤ector;楚iangleƀ;BEतथऩ抲ar;槏qual;抴pƀDTVषूौownVector;楑eeVector;楠ectorĀ;Bॖॗ憿ar;楘ectorĀ;B॥०憼ar;楒ightáΜs̀EFGLSTॾঋকঝঢভqualGreater;拚ullEqual;扦reater;扶ess;檡lantEqual;橽ilde;扲r;쀀𝔏Ā;eঽা拘ftarrow;懚idot;䄿ƀnpw৔ਖਛgȀLRlr৞৷ਂਐeftĀAR০৬rrow;柵ightArrow;柷ightArrow;柶eftĀarγਊightáοightáϊf;쀀𝕃erĀLRਢਬeftArrow;憙ightArrow;憘ƀchtਾੀੂòࡌ;憰rok;䅁;扪Ѐacefiosuਗ਼੝੠੷੼અઋ઎p;椅y;䐜Ādl੥੯iumSpace;恟lintrf;愳r;쀀𝔐nusPlus;戓pf;쀀𝕄cò੶;䎜ҀJacefostuણધભીଔଙඑ඗ඞcy;䐊cute;䅃ƀaey઴હાron;䅇dil;䅅;䐝ƀgswે૰଎ativeƀMTV૓૟૨ediumSpace;怋hiĀcn૦૘ë૙eryThiî૙tedĀGL૸ଆreaterGreateòٳessLesóੈLine;䀊r;쀀𝔑ȀBnptଢନଷ଺reak;恠BreakingSpace;䂠f;愕ڀ;CDEGHLNPRSTV୕ୖ୪୼஡௫ఄ౞಄ದ೘ൡඅ櫬Āou୛୤ngruent;扢pCap;扭oubleVerticalBar;戦ƀlqxஃஊ஛ement;戉ualĀ;Tஒஓ扠ilde;쀀≂̸ists;戄reater΀;EFGLSTஶஷ஽௉௓௘௥扯qual;扱ullEqual;쀀≧̸reater;쀀≫̸ess;批lantEqual;쀀⩾̸ilde;扵umpń௲௽ownHump;쀀≎̸qual;쀀≏̸eĀfsఊధtTriangleƀ;BEచఛడ拪ar;쀀⧏̸qual;括s̀;EGLSTవశ఼ౄోౘ扮qual;扰reater;扸ess;쀀≪̸lantEqual;쀀⩽̸ilde;扴estedĀGL౨౹reaterGreater;쀀⪢̸essLess;쀀⪡̸recedesƀ;ESಒಓಛ技qual;쀀⪯̸lantEqual;拠ĀeiಫಹverseElement;戌ghtTriangleƀ;BEೋೌ೒拫ar;쀀⧐̸qual;拭ĀquೝഌuareSuĀbp೨೹setĀ;E೰ೳ쀀⊏̸qual;拢ersetĀ;Eഃആ쀀⊐̸qual;拣ƀbcpഓതൎsetĀ;Eഛഞ쀀⊂⃒qual;抈ceedsȀ;ESTലള഻െ抁qual;쀀⪰̸lantEqual;拡ilde;쀀≿̸ersetĀ;E൘൛쀀⊃⃒qual;抉ildeȀ;EFT൮൯൵ൿ扁qual;扄ullEqual;扇ilde;扉erticalBar;戤cr;쀀𝒩ilde耻Ñ䃑;䎝܀Eacdfgmoprstuvලෂ෉෕ෛ෠෧෼ขภยา฿ไlig;䅒cute耻Ó䃓Āiy෎ීrc耻Ô䃔;䐞blac;䅐r;쀀𝔒rave耻Ò䃒ƀaei෮ෲ෶cr;䅌ga;䎩cron;䎟pf;쀀𝕆enCurlyĀDQฎบoubleQuote;怜uote;怘;橔Āclวฬr;쀀𝒪ash耻Ø䃘iŬื฼de耻Õ䃕es;樷ml耻Ö䃖erĀBP๋๠Āar๐๓r;怾acĀek๚๜;揞et;掴arenthesis;揜Ҁacfhilors๿ງຊຏຒດຝະ໼rtialD;戂y;䐟r;쀀𝔓i;䎦;䎠usMinus;䂱Āipຢອncareplanåڝf;愙Ȁ;eio຺ູ໠໤檻cedesȀ;EST່້໏໚扺qual;檯lantEqual;扼ilde;找me;怳Ādp໩໮uct;戏ortionĀ;aȥ໹l;戝Āci༁༆r;쀀𝒫;䎨ȀUfos༑༖༛༟OT耻"䀢r;쀀𝔔pf;愚cr;쀀𝒬؀BEacefhiorsu༾གྷཇའཱིྦྷྪྭ႖ႩႴႾarr;椐G耻®䂮ƀcnrཎནབute;䅔g;柫rĀ;tཛྷཝ憠l;椖ƀaeyཧཬཱron;䅘dil;䅖;䐠Ā;vླྀཹ愜erseĀEUྂྙĀlq྇ྎement;戋uilibrium;懋pEquilibrium;楯r»ཹo;䎡ghtЀACDFTUVa࿁࿫࿳ဢဨၛႇϘĀnr࿆࿒gleBracket;柩rowƀ;BL࿜࿝࿡憒ar;懥eftArrow;懄eiling;按oǵ࿹\0စbleBracket;柧nǔည\0နeeVector;楝ectorĀ;Bဝသ懂ar;楕loor;挋Āerိ၃eƀ;AVဵံြ抢rrow;憦ector;楛iangleƀ;BEၐၑၕ抳ar;槐qual;抵pƀDTVၣၮၸownVector;楏eeVector;楜ectorĀ;Bႂႃ憾ar;楔ectorĀ;B႑႒懀ar;楓Āpuႛ႞f;愝ndImplies;楰ightarrow;懛ĀchႹႼr;愛;憱leDelayed;槴ڀHOacfhimoqstuფჱჷჽᄙᄞᅑᅖᅡᅧᆵᆻᆿĀCcჩხHcy;䐩y;䐨FTcy;䐬cute;䅚ʀ;aeiyᄈᄉᄎᄓᄗ檼ron;䅠dil;䅞rc;䅜;䐡r;쀀𝔖ortȀDLRUᄪᄴᄾᅉownArrow»ОeftArrow»࢚ightArrow»࿝pArrow;憑gma;䎣allCircle;战pf;쀀𝕊ɲᅭ\0\0ᅰt;戚areȀ;ISUᅻᅼᆉᆯ斡ntersection;抓uĀbpᆏᆞsetĀ;Eᆗᆘ抏qual;抑ersetĀ;Eᆨᆩ抐qual;抒nion;抔cr;쀀𝒮ar;拆ȀbcmpᇈᇛሉላĀ;sᇍᇎ拐etĀ;Eᇍᇕqual;抆ĀchᇠህeedsȀ;ESTᇭᇮᇴᇿ扻qual;檰lantEqual;扽ilde;承Tháྌ;我ƀ;esሒሓሣ拑rsetĀ;Eሜም抃qual;抇et»ሓրHRSacfhiorsሾቄ቉ቕ቞ቱቶኟዂወዑORN耻Þ䃞ADE;愢ĀHc቎ቒcy;䐋y;䐦Ābuቚቜ;䀉;䎤ƀaeyብቪቯron;䅤dil;䅢;䐢r;쀀𝔗Āeiቻ኉ǲኀ\0ኇefore;戴a;䎘Ācn኎ኘkSpace;쀀  Space;怉ldeȀ;EFTካኬኲኼ戼qual;扃ullEqual;扅ilde;扈pf;쀀𝕋ipleDot;惛Āctዖዛr;쀀𝒯rok;䅦ૡዷጎጚጦ\0ጬጱ\0\0\0\0\0ጸጽ፷ᎅ\0᏿ᐄᐊᐐĀcrዻጁute耻Ú䃚rĀ;oጇገ憟cir;楉rǣጓ\0጖y;䐎ve;䅬Āiyጞጣrc耻Û䃛;䐣blac;䅰r;쀀𝔘rave耻Ù䃙acr;䅪Ādiፁ፩erĀBPፈ፝Āarፍፐr;䁟acĀekፗፙ;揟et;掵arenthesis;揝onĀ;P፰፱拃lus;抎Āgp፻፿on;䅲f;쀀𝕌ЀADETadps᎕ᎮᎸᏄϨᏒᏗᏳrrowƀ;BDᅐᎠᎤar;椒ownArrow;懅ownArrow;憕quilibrium;楮eeĀ;AᏋᏌ报rrow;憥ownáϳerĀLRᏞᏨeftArrow;憖ightArrow;憗iĀ;lᏹᏺ䏒on;䎥ing;䅮cr;쀀𝒰ilde;䅨ml耻Ü䃜ҀDbcdefosvᐧᐬᐰᐳᐾᒅᒊᒐᒖash;披ar;櫫y;䐒ashĀ;lᐻᐼ抩;櫦Āerᑃᑅ;拁ƀbtyᑌᑐᑺar;怖Ā;iᑏᑕcalȀBLSTᑡᑥᑪᑴar;戣ine;䁼eparator;杘ilde;所ThinSpace;怊r;쀀𝔙pf;쀀𝕍cr;쀀𝒱dash;抪ʀcefosᒧᒬᒱᒶᒼirc;䅴dge;拀r;쀀𝔚pf;쀀𝕎cr;쀀𝒲Ȁfiosᓋᓐᓒᓘr;쀀𝔛;䎞pf;쀀𝕏cr;쀀𝒳ҀAIUacfosuᓱᓵᓹᓽᔄᔏᔔᔚᔠcy;䐯cy;䐇cy;䐮cute耻Ý䃝Āiyᔉᔍrc;䅶;䐫r;쀀𝔜pf;쀀𝕐cr;쀀𝒴ml;䅸ЀHacdefosᔵᔹᔿᕋᕏᕝᕠᕤcy;䐖cute;䅹Āayᕄᕉron;䅽;䐗ot;䅻ǲᕔ\0ᕛoWidtè૙a;䎖r;愨pf;愤cr;쀀𝒵௡ᖃᖊᖐ\0ᖰᖶᖿ\0\0\0\0ᗆᗛᗫᙟ᙭\0ᚕ᚛ᚲᚹ\0ᚾcute耻á䃡reve;䄃̀;Ediuyᖜᖝᖡᖣᖨᖭ戾;쀀∾̳;房rc耻â䃢te肻´̆;䐰lig耻æ䃦Ā;r²ᖺ;쀀𝔞rave耻à䃠ĀepᗊᗖĀfpᗏᗔsym;愵èᗓha;䎱ĀapᗟcĀclᗤᗧr;䄁g;樿ɤᗰ\0\0ᘊʀ;adsvᗺᗻᗿᘁᘇ戧nd;橕;橜lope;橘;橚΀;elmrszᘘᘙᘛᘞᘿᙏᙙ戠;榤e»ᘙsdĀ;aᘥᘦ戡ѡᘰᘲᘴᘶᘸᘺᘼᘾ;榨;榩;榪;榫;榬;榭;榮;榯tĀ;vᙅᙆ戟bĀ;dᙌᙍ抾;榝Āptᙔᙗh;戢»¹arr;捼Āgpᙣᙧon;䄅f;쀀𝕒΀;Eaeiop዁ᙻᙽᚂᚄᚇᚊ;橰cir;橯;扊d;手s;䀧roxĀ;e዁ᚒñᚃing耻å䃥ƀctyᚡᚦᚨr;쀀𝒶;䀪mpĀ;e዁ᚯñʈilde耻ã䃣ml耻ä䃤Āciᛂᛈoninôɲnt;樑ࠀNabcdefiklnoprsu᛭ᛱᜰ᜼ᝃᝈ᝸᝽០៦ᠹᡐᜍ᤽᥈ᥰot;櫭Ācrᛶ᜞kȀcepsᜀᜅᜍᜓong;扌psilon;䏶rime;怵imĀ;e᜚᜛戽q;拍Ŷᜢᜦee;抽edĀ;gᜬᜭ挅e»ᜭrkĀ;t፜᜷brk;掶Āoyᜁᝁ;䐱quo;怞ʀcmprtᝓ᝛ᝡᝤᝨausĀ;eĊĉptyv;榰séᜌnoõēƀahwᝯ᝱ᝳ;䎲;愶een;扬r;쀀𝔟g΀costuvwឍឝឳេ៕៛៞ƀaiuបពរðݠrc;旯p»፱ƀdptឤឨឭot;樀lus;樁imes;樂ɱឹ\0\0ើcup;樆ar;昅riangleĀdu៍្own;施p;斳plus;樄eåᑄåᒭarow;植ƀako៭ᠦᠵĀcn៲ᠣkƀlst៺֫᠂ozenge;槫riangleȀ;dlr᠒᠓᠘᠝斴own;斾eft;旂ight;斸k;搣Ʊᠫ\0ᠳƲᠯ\0ᠱ;斒;斑4;斓ck;斈ĀeoᠾᡍĀ;qᡃᡆ쀀=⃥uiv;쀀≡⃥t;挐Ȁptwxᡙᡞᡧᡬf;쀀𝕓Ā;tᏋᡣom»Ꮜtie;拈؀DHUVbdhmptuvᢅᢖᢪᢻᣗᣛᣬ᣿ᤅᤊᤐᤡȀLRlrᢎᢐᢒᢔ;敗;敔;敖;敓ʀ;DUduᢡᢢᢤᢦᢨ敐;敦;敩;敤;敧ȀLRlrᢳᢵᢷᢹ;敝;敚;敜;教΀;HLRhlrᣊᣋᣍᣏᣑᣓᣕ救;敬;散;敠;敫;敢;敟ox;槉ȀLRlrᣤᣦᣨᣪ;敕;敒;攐;攌ʀ;DUduڽ᣷᣹᣻᣽;敥;敨;攬;攴inus;抟lus;択imes;抠ȀLRlrᤙᤛᤝ᤟;敛;敘;攘;攔΀;HLRhlrᤰᤱᤳᤵᤷ᤻᤹攂;敪;敡;敞;攼;攤;攜Āevģ᥂bar耻¦䂦Ȁceioᥑᥖᥚᥠr;쀀𝒷mi;恏mĀ;e᜚᜜lƀ;bhᥨᥩᥫ䁜;槅sub;柈Ŭᥴ᥾lĀ;e᥹᥺怢t»᥺pƀ;Eeįᦅᦇ;檮Ā;qۜۛೡᦧ\0᧨ᨑᨕᨲ\0ᨷᩐ\0\0᪴\0\0᫁\0\0ᬡᬮ᭍᭒\0᯽\0ᰌƀcpr᦭ᦲ᧝ute;䄇̀;abcdsᦿᧀᧄ᧊᧕᧙戩nd;橄rcup;橉Āau᧏᧒p;橋p;橇ot;橀;쀀∩︀Āeo᧢᧥t;恁îړȀaeiu᧰᧻ᨁᨅǰ᧵\0᧸s;橍on;䄍dil耻ç䃧rc;䄉psĀ;sᨌᨍ橌m;橐ot;䄋ƀdmnᨛᨠᨦil肻¸ƭptyv;榲t脀¢;eᨭᨮ䂢räƲr;쀀𝔠ƀceiᨽᩀᩍy;䑇ckĀ;mᩇᩈ朓ark»ᩈ;䏇r΀;Ecefms᩟᩠ᩢᩫ᪤᪪᪮旋;槃ƀ;elᩩᩪᩭ䋆q;扗eɡᩴ\0\0᪈rrowĀlr᩼᪁eft;憺ight;憻ʀRSacd᪒᪔᪖᪚᪟»ཇ;擈st;抛irc;抚ash;抝nint;樐id;櫯cir;槂ubsĀ;u᪻᪼晣it»᪼ˬ᫇᫔᫺\0ᬊonĀ;eᫍᫎ䀺Ā;qÇÆɭ᫙\0\0᫢aĀ;t᫞᫟䀬;䁀ƀ;fl᫨᫩᫫戁îᅠeĀmx᫱᫶ent»᫩eóɍǧ᫾\0ᬇĀ;dኻᬂot;橭nôɆƀfryᬐᬔᬗ;쀀𝕔oäɔ脀©;sŕᬝr;愗Āaoᬥᬩrr;憵ss;朗Ācuᬲᬷr;쀀𝒸Ābpᬼ᭄Ā;eᭁᭂ櫏;櫑Ā;eᭉᭊ櫐;櫒dot;拯΀delprvw᭠᭬᭷ᮂᮬᯔ᯹arrĀlr᭨᭪;椸;椵ɰ᭲\0\0᭵r;拞c;拟arrĀ;p᭿ᮀ憶;椽̀;bcdosᮏᮐᮖᮡᮥᮨ截rcap;橈Āauᮛᮞp;橆p;橊ot;抍r;橅;쀀∪︀Ȁalrv᮵ᮿᯞᯣrrĀ;mᮼᮽ憷;椼yƀevwᯇᯔᯘqɰᯎ\0\0ᯒreã᭳uã᭵ee;拎edge;拏en耻¤䂤earrowĀlrᯮ᯳eft»ᮀight»ᮽeäᯝĀciᰁᰇoninôǷnt;戱lcty;挭ঀAHabcdefhijlorstuwz᰸᰻᰿ᱝᱩᱵᲊᲞᲬᲷ᳻᳿ᴍᵻᶑᶫᶻ᷆᷍rò΁ar;楥Ȁglrs᱈ᱍ᱒᱔ger;怠eth;愸òᄳhĀ;vᱚᱛ怐»ऊūᱡᱧarow;椏aã̕Āayᱮᱳron;䄏;䐴ƀ;ao̲ᱼᲄĀgrʿᲁr;懊tseq;橷ƀglmᲑᲔᲘ耻°䂰ta;䎴ptyv;榱ĀirᲣᲨsht;楿;쀀𝔡arĀlrᲳᲵ»ࣜ»သʀaegsv᳂͸᳖᳜᳠mƀ;oș᳊᳔ndĀ;ș᳑uit;晦amma;䏝in;拲ƀ;io᳧᳨᳸䃷de脀÷;o᳧ᳰntimes;拇nø᳷cy;䑒cɯᴆ\0\0ᴊrn;挞op;挍ʀlptuwᴘᴝᴢᵉᵕlar;䀤f;쀀𝕕ʀ;emps̋ᴭᴷᴽᵂqĀ;d͒ᴳot;扑inus;戸lus;戔quare;抡blebarwedgåúnƀadhᄮᵝᵧownarrowóᲃarpoonĀlrᵲᵶefôᲴighôᲶŢᵿᶅkaro÷གɯᶊ\0\0ᶎrn;挟op;挌ƀcotᶘᶣᶦĀryᶝᶡ;쀀𝒹;䑕l;槶rok;䄑Ādrᶰᶴot;拱iĀ;fᶺ᠖斿Āah᷀᷃ròЩaòྦangle;榦Āci᷒ᷕy;䑟grarr;柿ऀDacdefglmnopqrstuxḁḉḙḸոḼṉṡṾấắẽỡἪἷὄ὎὚ĀDoḆᴴoôᲉĀcsḎḔute耻é䃩ter;橮ȀaioyḢḧḱḶron;䄛rĀ;cḭḮ扖耻ê䃪lon;払;䑍ot;䄗ĀDrṁṅot;扒;쀀𝔢ƀ;rsṐṑṗ檚ave耻è䃨Ā;dṜṝ檖ot;檘Ȁ;ilsṪṫṲṴ檙nters;揧;愓Ā;dṹṺ檕ot;檗ƀapsẅẉẗcr;䄓tyƀ;svẒẓẕ戅et»ẓpĀ1;ẝẤĳạả;怄;怅怃ĀgsẪẬ;䅋p;怂ĀgpẴẸon;䄙f;쀀𝕖ƀalsỄỎỒrĀ;sỊị拕l;槣us;橱iƀ;lvỚớở䎵on»ớ;䏵ȀcsuvỪỳἋἣĀioữḱrc»Ḯɩỹ\0\0ỻíՈantĀglἂἆtr»ṝess»Ṻƀaeiἒ἖Ἒls;䀽st;扟vĀ;DȵἠD;橸parsl;槥ĀDaἯἳot;打rr;楱ƀcdiἾὁỸr;愯oô͒ĀahὉὋ;䎷耻ð䃰Āmrὓὗl耻ë䃫o;悬ƀcipὡὤὧl;䀡sôծĀeoὬὴctatioîՙnentialåչৡᾒ\0ᾞ\0ᾡᾧ\0\0ῆῌ\0ΐ\0ῦῪ \0 ⁚llingdotseñṄy;䑄male;晀ƀilrᾭᾳ῁lig;耀ﬃɩᾹ\0\0᾽g;耀ﬀig;耀ﬄ;쀀𝔣lig;耀ﬁlig;쀀fjƀaltῙ῜ῡt;晭ig;耀ﬂns;斱of;䆒ǰ΅\0ῳf;쀀𝕗ĀakֿῷĀ;vῼ´拔;櫙artint;樍Āao‌⁕Ācs‑⁒α‚‰‸⁅⁈\0⁐β•‥‧‪‬\0‮耻½䂽;慓耻¼䂼;慕;慙;慛Ƴ‴\0‶;慔;慖ʴ‾⁁\0\0⁃耻¾䂾;慗;慜5;慘ƶ⁌\0⁎;慚;慝8;慞l;恄wn;挢cr;쀀𝒻ࢀEabcdefgijlnorstv₂₉₟₥₰₴⃰⃵⃺⃿℃ℒℸ̗ℾ⅒↞Ā;lٍ₇;檌ƀcmpₐₕ₝ute;䇵maĀ;dₜ᳚䎳;檆reve;䄟Āiy₪₮rc;䄝;䐳ot;䄡Ȁ;lqsؾق₽⃉ƀ;qsؾٌ⃄lanô٥Ȁ;cdl٥⃒⃥⃕c;檩otĀ;o⃜⃝檀Ā;l⃢⃣檂;檄Ā;e⃪⃭쀀⋛︀s;檔r;쀀𝔤Ā;gٳ؛mel;愷cy;䑓Ȁ;Eajٚℌℎℐ;檒;檥;檤ȀEaesℛℝ℩ℴ;扩pĀ;p℣ℤ檊rox»ℤĀ;q℮ℯ檈Ā;q℮ℛim;拧pf;쀀𝕘Āci⅃ⅆr;愊mƀ;el٫ⅎ⅐;檎;檐茀>;cdlqr׮ⅠⅪⅮⅳⅹĀciⅥⅧ;檧r;橺ot;拗Par;榕uest;橼ʀadelsↄⅪ←ٖ↛ǰ↉\0↎proø₞r;楸qĀlqؿ↖lesó₈ií٫Āen↣↭rtneqq;쀀≩︀Å↪ԀAabcefkosy⇄⇇⇱⇵⇺∘∝∯≨≽ròΠȀilmr⇐⇔⇗⇛rsðᒄf»․ilôکĀdr⇠⇤cy;䑊ƀ;cwࣴ⇫⇯ir;楈;憭ar;意irc;䄥ƀalr∁∎∓rtsĀ;u∉∊晥it»∊lip;怦con;抹r;쀀𝔥sĀew∣∩arow;椥arow;椦ʀamopr∺∾≃≞≣rr;懿tht;戻kĀlr≉≓eftarrow;憩ightarrow;憪f;쀀𝕙bar;怕ƀclt≯≴≸r;쀀𝒽asè⇴rok;䄧Ābp⊂⊇ull;恃hen»ᱛૡ⊣\0⊪\0⊸⋅⋎\0⋕⋳\0\0⋸⌢⍧⍢⍿\0⎆⎪⎴cute耻í䃭ƀ;iyݱ⊰⊵rc耻î䃮;䐸Ācx⊼⊿y;䐵cl耻¡䂡ĀfrΟ⋉;쀀𝔦rave耻ì䃬Ȁ;inoܾ⋝⋩⋮Āin⋢⋦nt;樌t;戭fin;槜ta;愩lig;䄳ƀaop⋾⌚⌝ƀcgt⌅⌈⌗r;䄫ƀelpܟ⌏⌓inåގarôܠh;䄱f;抷ed;䆵ʀ;cfotӴ⌬⌱⌽⍁are;愅inĀ;t⌸⌹戞ie;槝doô⌙ʀ;celpݗ⍌⍐⍛⍡al;抺Āgr⍕⍙eróᕣã⍍arhk;樗rod;樼Ȁcgpt⍯⍲⍶⍻y;䑑on;䄯f;쀀𝕚a;䎹uest耻¿䂿Āci⎊⎏r;쀀𝒾nʀ;EdsvӴ⎛⎝⎡ӳ;拹ot;拵Ā;v⎦⎧拴;拳Ā;iݷ⎮lde;䄩ǫ⎸\0⎼cy;䑖l耻ï䃯̀cfmosu⏌⏗⏜⏡⏧⏵Āiy⏑⏕rc;䄵;䐹r;쀀𝔧ath;䈷pf;쀀𝕛ǣ⏬\0⏱r;쀀𝒿rcy;䑘kcy;䑔Ѐacfghjos␋␖␢␧␭␱␵␻ppaĀ;v␓␔䎺;䏰Āey␛␠dil;䄷;䐺r;쀀𝔨reen;䄸cy;䑅cy;䑜pf;쀀𝕜cr;쀀𝓀஀ABEHabcdefghjlmnoprstuv⑰⒁⒆⒍⒑┎┽╚▀♎♞♥♹♽⚚⚲⛘❝❨➋⟀⠁⠒ƀart⑷⑺⑼rò৆òΕail;椛arr;椎Ā;gঔ⒋;檋ar;楢ॣ⒥\0⒪\0⒱\0\0\0\0\0⒵Ⓔ\0ⓆⓈⓍ\0⓹ute;䄺mptyv;榴raîࡌbda;䎻gƀ;dlࢎⓁⓃ;榑åࢎ;檅uo耻«䂫rЀ;bfhlpst࢙ⓞⓦⓩ⓫⓮⓱⓵Ā;f࢝ⓣs;椟s;椝ë≒p;憫l;椹im;楳l;憢ƀ;ae⓿─┄檫il;椙Ā;s┉┊檭;쀀⪭︀ƀabr┕┙┝rr;椌rk;杲Āak┢┬cĀek┨┪;䁻;䁛Āes┱┳;榋lĀdu┹┻;榏;榍Ȁaeuy╆╋╖╘ron;䄾Ādi═╔il;䄼ìࢰâ┩;䐻Ȁcqrs╣╦╭╽a;椶uoĀ;rนᝆĀdu╲╷har;楧shar;楋h;憲ʀ;fgqs▋▌উ◳◿扤tʀahlrt▘▤▷◂◨rrowĀ;t࢙□aé⓶arpoonĀdu▯▴own»њp»०eftarrows;懇ightƀahs◍◖◞rrowĀ;sࣴࢧarpoonó྘quigarro÷⇰hreetimes;拋ƀ;qs▋ও◺lanôবʀ;cdgsব☊☍☝☨c;檨otĀ;o☔☕橿Ā;r☚☛檁;檃Ā;e☢☥쀀⋚︀s;檓ʀadegs☳☹☽♉♋pproøⓆot;拖qĀgq♃♅ôউgtò⒌ôছiíলƀilr♕࣡♚sht;楼;쀀𝔩Ā;Eজ♣;檑š♩♶rĀdu▲♮Ā;l॥♳;楪lk;斄cy;䑙ʀ;achtੈ⚈⚋⚑⚖rò◁orneòᴈard;楫ri;旺Āio⚟⚤dot;䅀ustĀ;a⚬⚭掰che»⚭ȀEaes⚻⚽⛉⛔;扨pĀ;p⛃⛄檉rox»⛄Ā;q⛎⛏檇Ā;q⛎⚻im;拦Ѐabnoptwz⛩⛴⛷✚✯❁❇❐Ānr⛮⛱g;柬r;懽rëࣁgƀlmr⛿✍✔eftĀar০✇ightá৲apsto;柼ightá৽parrowĀlr✥✩efô⓭ight;憬ƀafl✶✹✽r;榅;쀀𝕝us;樭imes;樴š❋❏st;戗áፎƀ;ef❗❘᠀旊nge»❘arĀ;l❤❥䀨t;榓ʀachmt❳❶❼➅➇ròࢨorneòᶌarĀ;d྘➃;業;怎ri;抿̀achiqt➘➝ੀ➢➮➻quo;怹r;쀀𝓁mƀ;egল➪➬;檍;檏Ābu┪➳oĀ;rฟ➹;怚rok;䅂萀<;cdhilqrࠫ⟒☹⟜⟠⟥⟪⟰Āci⟗⟙;檦r;橹reå◲mes;拉arr;楶uest;橻ĀPi⟵⟹ar;榖ƀ;ef⠀भ᠛旃rĀdu⠇⠍shar;楊har;楦Āen⠗⠡rtneqq;쀀≨︀Å⠞܀Dacdefhilnopsu⡀⡅⢂⢎⢓⢠⢥⢨⣚⣢⣤ઃ⣳⤂Dot;戺Ȁclpr⡎⡒⡣⡽r耻¯䂯Āet⡗⡙;時Ā;e⡞⡟朠se»⡟Ā;sျ⡨toȀ;dluျ⡳⡷⡻owîҌefôएðᏑker;斮Āoy⢇⢌mma;権;䐼ash;怔asuredangle»ᘦr;쀀𝔪o;愧ƀcdn⢯⢴⣉ro耻µ䂵Ȁ;acdᑤ⢽⣀⣄sôᚧir;櫰ot肻·Ƶusƀ;bd⣒ᤃ⣓戒Ā;uᴼ⣘;横ţ⣞⣡p;櫛ò−ðઁĀdp⣩⣮els;抧f;쀀𝕞Āct⣸⣽r;쀀𝓂pos»ᖝƀ;lm⤉⤊⤍䎼timap;抸ఀGLRVabcdefghijlmoprstuvw⥂⥓⥾⦉⦘⧚⧩⨕⨚⩘⩝⪃⪕⪤⪨⬄⬇⭄⭿⮮ⰴⱧⱼ⳩Āgt⥇⥋;쀀⋙̸Ā;v⥐௏쀀≫⃒ƀelt⥚⥲⥶ftĀar⥡⥧rrow;懍ightarrow;懎;쀀⋘̸Ā;v⥻ే쀀≪⃒ightarrow;懏ĀDd⦎⦓ash;抯ash;抮ʀbcnpt⦣⦧⦬⦱⧌la»˞ute;䅄g;쀀∠⃒ʀ;Eiop඄⦼⧀⧅⧈;쀀⩰̸d;쀀≋̸s;䅉roø඄urĀ;a⧓⧔普lĀ;s⧓ସǳ⧟\0⧣p肻 ଷmpĀ;e௹ఀʀaeouy⧴⧾⨃⨐⨓ǰ⧹\0⧻;橃on;䅈dil;䅆ngĀ;dൾ⨊ot;쀀⩭̸p;橂;䐽ash;怓΀;Aadqsxஒ⨩⨭⨻⩁⩅⩐rr;懗rĀhr⨳⨶k;椤Ā;oᏲᏰot;쀀≐̸uiöୣĀei⩊⩎ar;椨í஘istĀ;s஠டr;쀀𝔫ȀEest௅⩦⩹⩼ƀ;qs஼⩭௡ƀ;qs஼௅⩴lanô௢ií௪Ā;rஶ⪁»ஷƀAap⪊⪍⪑rò⥱rr;憮ar;櫲ƀ;svྍ⪜ྌĀ;d⪡⪢拼;拺cy;䑚΀AEadest⪷⪺⪾⫂⫅⫶⫹rò⥦;쀀≦̸rr;憚r;急Ȁ;fqs఻⫎⫣⫯tĀar⫔⫙rro÷⫁ightarro÷⪐ƀ;qs఻⪺⫪lanôౕĀ;sౕ⫴»శiíౝĀ;rవ⫾iĀ;eచథiäඐĀpt⬌⬑f;쀀𝕟膀¬;in⬙⬚⬶䂬nȀ;Edvஉ⬤⬨⬮;쀀⋹̸ot;쀀⋵̸ǡஉ⬳⬵;拷;拶iĀ;vಸ⬼ǡಸ⭁⭃;拾;拽ƀaor⭋⭣⭩rȀ;ast୻⭕⭚⭟lleì୻l;쀀⫽⃥;쀀∂̸lint;樔ƀ;ceಒ⭰⭳uåಥĀ;cಘ⭸Ā;eಒ⭽ñಘȀAait⮈⮋⮝⮧rò⦈rrƀ;cw⮔⮕⮙憛;쀀⤳̸;쀀↝̸ghtarrow»⮕riĀ;eೋೖ΀chimpqu⮽⯍⯙⬄୸⯤⯯Ȁ;cerല⯆ഷ⯉uå൅;쀀𝓃ortɭ⬅\0\0⯖ará⭖mĀ;e൮⯟Ā;q൴൳suĀbp⯫⯭å೸åഋƀbcp⯶ⰑⰙȀ;Ees⯿ⰀഢⰄ抄;쀀⫅̸etĀ;eഛⰋqĀ;qണⰀcĀ;eലⰗñസȀ;EesⰢⰣൟⰧ抅;쀀⫆̸etĀ;e൘ⰮqĀ;qൠⰣȀgilrⰽⰿⱅⱇìௗlde耻ñ䃱çృiangleĀlrⱒⱜeftĀ;eచⱚñదightĀ;eೋⱥñ೗Ā;mⱬⱭ䎽ƀ;esⱴⱵⱹ䀣ro;愖p;怇ҀDHadgilrsⲏⲔⲙⲞⲣⲰⲶⳓⳣash;抭arr;椄p;쀀≍⃒ash;抬ĀetⲨⲬ;쀀≥⃒;쀀>⃒nfin;槞ƀAetⲽⳁⳅrr;椂;쀀≤⃒Ā;rⳊⳍ쀀<⃒ie;쀀⊴⃒ĀAtⳘⳜrr;椃rie;쀀⊵⃒im;쀀∼⃒ƀAan⳰⳴ⴂrr;懖rĀhr⳺⳽k;椣Ā;oᏧᏥear;椧ቓ᪕\0\0\0\0\0\0\0\0\0\0\0\0\0ⴭ\0ⴸⵈⵠⵥ⵲ⶄᬇ\0\0ⶍⶫ\0ⷈⷎ\0ⷜ⸙⸫⸾⹃Ācsⴱ᪗ute耻ó䃳ĀiyⴼⵅrĀ;c᪞ⵂ耻ô䃴;䐾ʀabios᪠ⵒⵗǈⵚlac;䅑v;樸old;榼lig;䅓Ācr⵩⵭ir;榿;쀀𝔬ͯ⵹\0\0⵼\0ⶂn;䋛ave耻ò䃲;槁Ābmⶈ෴ar;榵Ȁacitⶕ⶘ⶥⶨrò᪀Āir⶝ⶠr;榾oss;榻nå๒;槀ƀaeiⶱⶵⶹcr;䅍ga;䏉ƀcdnⷀⷅǍron;䎿;榶pf;쀀𝕠ƀaelⷔ⷗ǒr;榷rp;榹΀;adiosvⷪⷫⷮ⸈⸍⸐⸖戨rò᪆Ȁ;efmⷷⷸ⸂⸅橝rĀ;oⷾⷿ愴f»ⷿ耻ª䂪耻º䂺gof;抶r;橖lope;橗;橛ƀclo⸟⸡⸧ò⸁ash耻ø䃸l;折iŬⸯ⸴de耻õ䃵esĀ;aǛ⸺s;樶ml耻ö䃶bar;挽ૡ⹞\0⹽\0⺀⺝\0⺢⺹\0\0⻋ຜ\0⼓\0\0⼫⾼\0⿈rȀ;astЃ⹧⹲຅脀¶;l⹭⹮䂶leìЃɩ⹸\0\0⹻m;櫳;櫽y;䐿rʀcimpt⺋⺏⺓ᡥ⺗nt;䀥od;䀮il;怰enk;怱r;쀀𝔭ƀimo⺨⺰⺴Ā;v⺭⺮䏆;䏕maô੶ne;明ƀ;tv⺿⻀⻈䏀chfork»´;䏖Āau⻏⻟nĀck⻕⻝kĀ;h⇴⻛;愎ö⇴sҀ;abcdemst⻳⻴ᤈ⻹⻽⼄⼆⼊⼎䀫cir;樣ir;樢Āouᵀ⼂;樥;橲n肻±ຝim;樦wo;樧ƀipu⼙⼠⼥ntint;樕f;쀀𝕡nd耻£䂣Ԁ;Eaceinosu່⼿⽁⽄⽇⾁⾉⾒⽾⾶;檳p;檷uå໙Ā;c໎⽌̀;acens່⽙⽟⽦⽨⽾pproø⽃urlyeñ໙ñ໎ƀaes⽯⽶⽺pprox;檹qq;檵im;拨iíໟmeĀ;s⾈ຮ怲ƀEas⽸⾐⽺ð⽵ƀdfp໬⾙⾯ƀals⾠⾥⾪lar;挮ine;挒urf;挓Ā;t໻⾴ï໻rel;抰Āci⿀⿅r;쀀𝓅;䏈ncsp;怈̀fiopsu⿚⋢⿟⿥⿫⿱r;쀀𝔮pf;쀀𝕢rime;恗cr;쀀𝓆ƀaeo⿸〉〓tĀei⿾々rnionóڰnt;樖stĀ;e【】䀿ñἙô༔઀ABHabcdefhilmnoprstux぀けさすムㄎㄫㅇㅢㅲㆎ㈆㈕㈤㈩㉘㉮㉲㊐㊰㊷ƀartぇおがròႳòϝail;検aròᱥar;楤΀cdenqrtとふへみわゔヌĀeuねぱ;쀀∽̱te;䅕iãᅮmptyv;榳gȀ;del࿑らるろ;榒;榥å࿑uo耻»䂻rր;abcfhlpstw࿜ガクシスゼゾダッデナp;極Ā;f࿠ゴs;椠;椳s;椞ë≝ð✮l;楅im;楴l;憣;憝Āaiパフil;椚oĀ;nホボ戶aló༞ƀabrョリヮrò៥rk;杳ĀakンヽcĀekヹ・;䁽;䁝Āes㄂㄄;榌lĀduㄊㄌ;榎;榐Ȁaeuyㄗㄜㄧㄩron;䅙Ādiㄡㄥil;䅗ì࿲âヺ;䑀Ȁclqsㄴㄷㄽㅄa;椷dhar;楩uoĀ;rȎȍh;憳ƀacgㅎㅟངlȀ;ipsླྀㅘㅛႜnåႻarôྩt;断ƀilrㅩဣㅮsht;楽;쀀𝔯ĀaoㅷㆆrĀduㅽㅿ»ѻĀ;l႑ㆄ;楬Ā;vㆋㆌ䏁;䏱ƀgns㆕ㇹㇼht̀ahlrstㆤㆰ㇂㇘㇤㇮rrowĀ;t࿜ㆭaéトarpoonĀduㆻㆿowîㅾp»႒eftĀah㇊㇐rrowó࿪arpoonóՑightarrows;應quigarro÷ニhreetimes;拌g;䋚ingdotseñἲƀahm㈍㈐㈓rò࿪aòՑ;怏oustĀ;a㈞㈟掱che»㈟mid;櫮Ȁabpt㈲㈽㉀㉒Ānr㈷㈺g;柭r;懾rëဃƀafl㉇㉊㉎r;榆;쀀𝕣us;樮imes;樵Āap㉝㉧rĀ;g㉣㉤䀩t;榔olint;樒arò㇣Ȁachq㉻㊀Ⴜ㊅quo;怺r;쀀𝓇Ābu・㊊oĀ;rȔȓƀhir㊗㊛㊠reåㇸmes;拊iȀ;efl㊪ၙᠡ㊫方tri;槎luhar;楨;愞ൡ㋕㋛㋟㌬㌸㍱\0㍺㎤\0\0㏬㏰\0㐨㑈㑚㒭㒱㓊㓱\0㘖\0\0㘳cute;䅛quï➺Ԁ;Eaceinpsyᇭ㋳㋵㋿㌂㌋㌏㌟㌦㌩;檴ǰ㋺\0㋼;檸on;䅡uåᇾĀ;dᇳ㌇il;䅟rc;䅝ƀEas㌖㌘㌛;檶p;檺im;择olint;樓iíሄ;䑁otƀ;be㌴ᵇ㌵担;橦΀Aacmstx㍆㍊㍗㍛㍞㍣㍭rr;懘rĀhr㍐㍒ë∨Ā;oਸ਼਴t耻§䂧i;䀻war;椩mĀin㍩ðnuóñt;朶rĀ;o㍶⁕쀀𝔰Ȁacoy㎂㎆㎑㎠rp;景Āhy㎋㎏cy;䑉;䑈rtɭ㎙\0\0㎜iäᑤaraì⹯耻­䂭Āgm㎨㎴maƀ;fv㎱㎲㎲䏃;䏂Ѐ;deglnprካ㏅㏉㏎㏖㏞㏡㏦ot;橪Ā;q኱ኰĀ;E㏓㏔檞;檠Ā;E㏛㏜檝;檟e;扆lus;樤arr;楲aròᄽȀaeit㏸㐈㐏㐗Āls㏽㐄lsetmé㍪hp;樳parsl;槤Ādlᑣ㐔e;挣Ā;e㐜㐝檪Ā;s㐢㐣檬;쀀⪬︀ƀflp㐮㐳㑂tcy;䑌Ā;b㐸㐹䀯Ā;a㐾㐿槄r;挿f;쀀𝕤aĀdr㑍ЂesĀ;u㑔㑕晠it»㑕ƀcsu㑠㑹㒟Āau㑥㑯pĀ;sᆈ㑫;쀀⊓︀pĀ;sᆴ㑵;쀀⊔︀uĀbp㑿㒏ƀ;esᆗᆜ㒆etĀ;eᆗ㒍ñᆝƀ;esᆨᆭ㒖etĀ;eᆨ㒝ñᆮƀ;afᅻ㒦ְrť㒫ֱ»ᅼaròᅈȀcemt㒹㒾㓂㓅r;쀀𝓈tmîñiì㐕aræᆾĀar㓎㓕rĀ;f㓔ឿ昆Āan㓚㓭ightĀep㓣㓪psiloîỠhé⺯s»⡒ʀbcmnp㓻㕞ሉ㖋㖎Ҁ;Edemnprs㔎㔏㔑㔕㔞㔣㔬㔱㔶抂;櫅ot;檽Ā;dᇚ㔚ot;櫃ult;櫁ĀEe㔨㔪;櫋;把lus;檿arr;楹ƀeiu㔽㕒㕕tƀ;en㔎㕅㕋qĀ;qᇚ㔏eqĀ;q㔫㔨m;櫇Ābp㕚㕜;櫕;櫓c̀;acensᇭ㕬㕲㕹㕻㌦pproø㋺urlyeñᇾñᇳƀaes㖂㖈㌛pproø㌚qñ㌗g;晪ڀ123;Edehlmnps㖩㖬㖯ሜ㖲㖴㗀㗉㗕㗚㗟㗨㗭耻¹䂹耻²䂲耻³䂳;櫆Āos㖹㖼t;檾ub;櫘Ā;dሢ㗅ot;櫄sĀou㗏㗒l;柉b;櫗arr;楻ult;櫂ĀEe㗤㗦;櫌;抋lus;櫀ƀeiu㗴㘉㘌tƀ;enሜ㗼㘂qĀ;qሢ㖲eqĀ;q㗧㗤m;櫈Ābp㘑㘓;櫔;櫖ƀAan㘜㘠㘭rr;懙rĀhr㘦㘨ë∮Ā;oਫ਩war;椪lig耻ß䃟௡㙑㙝㙠ዎ㙳㙹\0㙾㛂\0\0\0\0\0㛛㜃\0㜉㝬\0\0\0㞇ɲ㙖\0\0㙛get;挖;䏄rë๟ƀaey㙦㙫㙰ron;䅥dil;䅣;䑂lrec;挕r;쀀𝔱Ȁeiko㚆㚝㚵㚼ǲ㚋\0㚑eĀ4fኄኁaƀ;sv㚘㚙㚛䎸ym;䏑Ācn㚢㚲kĀas㚨㚮pproø዁im»ኬsðኞĀas㚺㚮ð዁rn耻þ䃾Ǭ̟㛆⋧es膀×;bd㛏㛐㛘䃗Ā;aᤏ㛕r;樱;樰ƀeps㛡㛣㜀á⩍Ȁ;bcf҆㛬㛰㛴ot;挶ir;櫱Ā;o㛹㛼쀀𝕥rk;櫚á㍢rime;怴ƀaip㜏㜒㝤dåቈ΀adempst㜡㝍㝀㝑㝗㝜㝟ngleʀ;dlqr㜰㜱㜶㝀㝂斵own»ᶻeftĀ;e⠀㜾ñम;扜ightĀ;e㊪㝋ñၚot;旬inus;樺lus;樹b;槍ime;樻ezium;揢ƀcht㝲㝽㞁Āry㝷㝻;쀀𝓉;䑆cy;䑛rok;䅧Āio㞋㞎xô᝷headĀlr㞗㞠eftarro÷ࡏightarrow»ཝऀAHabcdfghlmoprstuw㟐㟓㟗㟤㟰㟼㠎㠜㠣㠴㡑㡝㡫㢩㣌㣒㣪㣶ròϭar;楣Ācr㟜㟢ute耻ú䃺òᅐrǣ㟪\0㟭y;䑞ve;䅭Āiy㟵㟺rc耻û䃻;䑃ƀabh㠃㠆㠋ròᎭlac;䅱aòᏃĀir㠓㠘sht;楾;쀀𝔲rave耻ù䃹š㠧㠱rĀlr㠬㠮»ॗ»ႃlk;斀Āct㠹㡍ɯ㠿\0\0㡊rnĀ;e㡅㡆挜r»㡆op;挏ri;旸Āal㡖㡚cr;䅫肻¨͉Āgp㡢㡦on;䅳f;쀀𝕦̀adhlsuᅋ㡸㡽፲㢑㢠ownáᎳarpoonĀlr㢈㢌efô㠭ighô㠯iƀ;hl㢙㢚㢜䏅»ᏺon»㢚parrows;懈ƀcit㢰㣄㣈ɯ㢶\0\0㣁rnĀ;e㢼㢽挝r»㢽op;挎ng;䅯ri;旹cr;쀀𝓊ƀdir㣙㣝㣢ot;拰lde;䅩iĀ;f㜰㣨»᠓Āam㣯㣲rò㢨l耻ü䃼angle;榧ހABDacdeflnoprsz㤜㤟㤩㤭㦵㦸㦽㧟㧤㧨㧳㧹㧽㨁㨠ròϷarĀ;v㤦㤧櫨;櫩asèϡĀnr㤲㤷grt;榜΀eknprst㓣㥆㥋㥒㥝㥤㦖appá␕othinçẖƀhir㓫⻈㥙opô⾵Ā;hᎷ㥢ïㆍĀiu㥩㥭gmá㎳Ābp㥲㦄setneqĀ;q㥽㦀쀀⊊︀;쀀⫋︀setneqĀ;q㦏㦒쀀⊋︀;쀀⫌︀Āhr㦛㦟etá㚜iangleĀlr㦪㦯eft»थight»ၑy;䐲ash»ံƀelr㧄㧒㧗ƀ;beⷪ㧋㧏ar;抻q;扚lip;拮Ābt㧜ᑨaòᑩr;쀀𝔳tré㦮suĀbp㧯㧱»ജ»൙pf;쀀𝕧roð໻tré㦴Ācu㨆㨋r;쀀𝓋Ābp㨐㨘nĀEe㦀㨖»㥾nĀEe㦒㨞»㦐igzag;榚΀cefoprs㨶㨻㩖㩛㩔㩡㩪irc;䅵Ādi㩀㩑Ābg㩅㩉ar;機eĀ;qᗺ㩏;扙erp;愘r;쀀𝔴pf;쀀𝕨Ā;eᑹ㩦atèᑹcr;쀀𝓌ૣណ㪇\0㪋\0㪐㪛\0\0㪝㪨㪫㪯\0\0㫃㫎\0㫘ៜ៟tré៑r;쀀𝔵ĀAa㪔㪗ròσrò৶;䎾ĀAa㪡㪤ròθrò৫að✓is;拻ƀdptឤ㪵㪾Āfl㪺ឩ;쀀𝕩imåឲĀAa㫇㫊ròώròਁĀcq㫒ីr;쀀𝓍Āpt៖㫜ré។Ѐacefiosu㫰㫽㬈㬌㬑㬕㬛㬡cĀuy㫶㫻te耻ý䃽;䑏Āiy㬂㬆rc;䅷;䑋n耻¥䂥r;쀀𝔶cy;䑗pf;쀀𝕪cr;쀀𝓎Ācm㬦㬩y;䑎l耻ÿ䃿Ԁacdefhiosw㭂㭈㭔㭘㭤㭩㭭㭴㭺㮀cute;䅺Āay㭍㭒ron;䅾;䐷ot;䅼Āet㭝㭡træᕟa;䎶r;쀀𝔷cy;䐶grarr;懝pf;쀀𝕫cr;쀀𝓏Ājn㮅㮇;怍j;怌'.split("").map(e=>e.charCodeAt(0))),dA=new Uint16Array("Ȁaglq	\x1Bɭ\0\0p;䀦os;䀧t;䀾t;䀼uot;䀢".split("").map(e=>e.charCodeAt(0))),F0;const oM=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),tm=(F0=String.fromCodePoint)!==null&&F0!==void 0?F0:function(e){let t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|e&1023),t+=String.fromCharCode(e),t};function aM(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=oM.get(e))!==null&&t!==void 0?t:e}var St;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(St||(St={}));const cM=32;var gi;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(gi||(gi={}));function nm(e){return e>=St.ZERO&&e<=St.NINE}function lM(e){return e>=St.UPPER_A&&e<=St.UPPER_F||e>=St.LOWER_A&&e<=St.LOWER_F}function fM(e){return e>=St.UPPER_A&&e<=St.UPPER_Z||e>=St.LOWER_A&&e<=St.LOWER_Z||nm(e)}function dM(e){return e===St.EQUALS||fM(e)}var mt;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(mt||(mt={}));var rs;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(rs||(rs={}));class hA{constructor(t,n,r){this.decodeTree=t,this.emitCodePoint=n,this.errors=r,this.state=mt.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=rs.Strict}startEntity(t){this.decodeMode=t,this.state=mt.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,n){switch(this.state){case mt.EntityStart:return t.charCodeAt(n)===St.NUM?(this.state=mt.NumericStart,this.consumed+=1,this.stateNumericStart(t,n+1)):(this.state=mt.NamedEntity,this.stateNamedEntity(t,n));case mt.NumericStart:return this.stateNumericStart(t,n);case mt.NumericDecimal:return this.stateNumericDecimal(t,n);case mt.NumericHex:return this.stateNumericHex(t,n);case mt.NamedEntity:return this.stateNamedEntity(t,n)}}stateNumericStart(t,n){return n>=t.length?-1:(t.charCodeAt(n)|cM)===St.LOWER_X?(this.state=mt.NumericHex,this.consumed+=1,this.stateNumericHex(t,n+1)):(this.state=mt.NumericDecimal,this.stateNumericDecimal(t,n))}addToNumericResult(t,n,r,s){if(n!==r){const i=r-n;this.result=this.result*Math.pow(s,i)+parseInt(t.substr(n,i),s),this.consumed+=i}}stateNumericHex(t,n){const r=n;for(;n<t.length;){const s=t.charCodeAt(n);if(nm(s)||lM(s))n+=1;else return this.addToNumericResult(t,r,n,16),this.emitNumericEntity(s,3)}return this.addToNumericResult(t,r,n,16),-1}stateNumericDecimal(t,n){const r=n;for(;n<t.length;){const s=t.charCodeAt(n);if(nm(s))n+=1;else return this.addToNumericResult(t,r,n,10),this.emitNumericEntity(s,2)}return this.addToNumericResult(t,r,n,10),-1}emitNumericEntity(t,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===St.SEMI)this.consumed+=1;else if(this.decodeMode===rs.Strict)return 0;return this.emitCodePoint(aM(this.result),this.consumed),this.errors&&(t!==St.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,n){const{decodeTree:r}=this;let s=r[this.treeIndex],i=(s&gi.VALUE_LENGTH)>>14;for(;n<t.length;n++,this.excess++){const u=t.charCodeAt(n);if(this.treeIndex=hM(r,s,this.treeIndex+Math.max(1,i),u),this.treeIndex<0)return this.result===0||this.decodeMode===rs.Attribute&&(i===0||dM(u))?0:this.emitNotTerminatedNamedEntity();if(s=r[this.treeIndex],i=(s&gi.VALUE_LENGTH)>>14,i!==0){if(u===St.SEMI)return this.emitNamedEntityData(this.treeIndex,i,this.consumed+this.excess);this.decodeMode!==rs.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:n,decodeTree:r}=this,s=(r[n]&gi.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,s,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,n,r){const{decodeTree:s}=this;return this.emitCodePoint(n===1?s[t]&~gi.VALUE_LENGTH:s[t+1],r),n===3&&this.emitCodePoint(s[t+2],r),r}end(){var t;switch(this.state){case mt.NamedEntity:return this.result!==0&&(this.decodeMode!==rs.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case mt.NumericDecimal:return this.emitNumericEntity(0,2);case mt.NumericHex:return this.emitNumericEntity(0,3);case mt.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case mt.EntityStart:return 0}}}function pA(e){let t="";const n=new hA(e,r=>t+=tm(r));return function(s,i){let u=0,o=0;for(;(o=s.indexOf("&",o))>=0;){t+=s.slice(u,o),n.startEntity(i);const c=n.write(s,o+1);if(c<0){u=o+n.end();break}u=o+c,o=c===0?u+1:u}const a=t+s.slice(u);return t="",a}}function hM(e,t,n,r){const s=(t&gi.BRANCH_LENGTH)>>7,i=t&gi.JUMP_TABLE;if(s===0)return i!==0&&r===i?n:-1;if(i){const a=r-i;return a<0||a>=s?-1:e[n+a]-1}let u=n,o=u+s-1;for(;u<=o;){const a=u+o>>>1,c=e[a];if(c<r)u=a+1;else if(c>r)o=a-1;else return e[a+s]}return-1}pA(fA);pA(dA);var Q;(function(e){e[e.Tab=9]="Tab",e[e.NewLine=10]="NewLine",e[e.FormFeed=12]="FormFeed",e[e.CarriageReturn=13]="CarriageReturn",e[e.Space=32]="Space",e[e.ExclamationMark=33]="ExclamationMark",e[e.Number=35]="Number",e[e.Amp=38]="Amp",e[e.SingleQuote=39]="SingleQuote",e[e.DoubleQuote=34]="DoubleQuote",e[e.Dash=45]="Dash",e[e.Slash=47]="Slash",e[e.Zero=48]="Zero",e[e.Nine=57]="Nine",e[e.Semi=59]="Semi",e[e.Lt=60]="Lt",e[e.Eq=61]="Eq",e[e.Gt=62]="Gt",e[e.Questionmark=63]="Questionmark",e[e.UpperA=65]="UpperA",e[e.LowerA=97]="LowerA",e[e.UpperF=70]="UpperF",e[e.LowerF=102]="LowerF",e[e.UpperZ=90]="UpperZ",e[e.LowerZ=122]="LowerZ",e[e.LowerX=120]="LowerX",e[e.OpeningSquareBracket=91]="OpeningSquareBracket"})(Q||(Q={}));var C;(function(e){e[e.Text=1]="Text",e[e.BeforeTagName=2]="BeforeTagName",e[e.InTagName=3]="InTagName",e[e.InSelfClosingTag=4]="InSelfClosingTag",e[e.BeforeClosingTagName=5]="BeforeClosingTagName",e[e.InClosingTagName=6]="InClosingTagName",e[e.AfterClosingTagName=7]="AfterClosingTagName",e[e.BeforeAttributeName=8]="BeforeAttributeName",e[e.InAttributeName=9]="InAttributeName",e[e.AfterAttributeName=10]="AfterAttributeName",e[e.BeforeAttributeValue=11]="BeforeAttributeValue",e[e.InAttributeValueDq=12]="InAttributeValueDq",e[e.InAttributeValueSq=13]="InAttributeValueSq",e[e.InAttributeValueNq=14]="InAttributeValueNq",e[e.BeforeDeclaration=15]="BeforeDeclaration",e[e.InDeclaration=16]="InDeclaration",e[e.InProcessingInstruction=17]="InProcessingInstruction",e[e.BeforeComment=18]="BeforeComment",e[e.CDATASequence=19]="CDATASequence",e[e.InSpecialComment=20]="InSpecialComment",e[e.InCommentLike=21]="InCommentLike",e[e.BeforeSpecialS=22]="BeforeSpecialS",e[e.BeforeSpecialT=23]="BeforeSpecialT",e[e.SpecialStartSequence=24]="SpecialStartSequence",e[e.InSpecialTag=25]="InSpecialTag",e[e.InEntity=26]="InEntity"})(C||(C={}));function Ts(e){return e===Q.Space||e===Q.NewLine||e===Q.Tab||e===Q.FormFeed||e===Q.CarriageReturn}function df(e){return e===Q.Slash||e===Q.Gt||Ts(e)}function pM(e){return e>=Q.LowerA&&e<=Q.LowerZ||e>=Q.UpperA&&e<=Q.UpperZ}var kr;(function(e){e[e.NoValue=0]="NoValue",e[e.Unquoted=1]="Unquoted",e[e.Single=2]="Single",e[e.Double=3]="Double"})(kr||(kr={}));const Tt={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97])};class gA{constructor({xmlMode:t=!1,decodeEntities:n=!0},r){this.cbs=r,this.state=C.Text,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=C.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.xmlMode=t,this.decodeEntities=n,this.entityDecoder=new hA(t?dA:fA,(s,i)=>this.emitCodePoint(s,i))}reset(){this.state=C.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=C.Text,this.currentSequence=void 0,this.running=!0,this.offset=0}write(t){this.offset+=this.buffer.length,this.buffer=t,this.parse()}end(){this.running&&this.finish()}pause(){this.running=!1}resume(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()}stateText(t){t===Q.Lt||!this.decodeEntities&&this.fastForwardTo(Q.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=C.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&t===Q.Amp&&this.startEntity()}stateSpecialStartSequence(t){const n=this.sequenceIndex===this.currentSequence.length;if(!(n?df(t):(t|32)===this.currentSequence[this.sequenceIndex]))this.isSpecial=!1;else if(!n){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=C.InTagName,this.stateInTagName(t)}stateInSpecialTag(t){if(this.sequenceIndex===this.currentSequence.length){if(t===Q.Gt||Ts(t)){const n=this.index-this.currentSequence.length;if(this.sectionStart<n){const r=this.index;this.index=n,this.cbs.ontext(this.sectionStart,n),this.index=r}this.isSpecial=!1,this.sectionStart=n+2,this.stateInClosingTagName(t);return}this.sequenceIndex=0}(t|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===Tt.TitleEnd?this.decodeEntities&&t===Q.Amp&&this.startEntity():this.fastForwardTo(Q.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(t===Q.Lt)}stateCDATASequence(t){t===Tt.Cdata[this.sequenceIndex]?++this.sequenceIndex===Tt.Cdata.length&&(this.state=C.InCommentLike,this.currentSequence=Tt.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=C.InDeclaration,this.stateInDeclaration(t))}fastForwardTo(t){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===t)return!0;return this.index=this.buffer.length+this.offset-1,!1}stateInCommentLike(t){t===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===Tt.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=C.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):t!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}isTagStartChar(t){return this.xmlMode?!df(t):pM(t)}startSpecial(t,n){this.isSpecial=!0,this.currentSequence=t,this.sequenceIndex=n,this.state=C.SpecialStartSequence}stateBeforeTagName(t){if(t===Q.ExclamationMark)this.state=C.BeforeDeclaration,this.sectionStart=this.index+1;else if(t===Q.Questionmark)this.state=C.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(t)){const n=t|32;this.sectionStart=this.index,this.xmlMode?this.state=C.InTagName:n===Tt.ScriptEnd[2]?this.state=C.BeforeSpecialS:n===Tt.TitleEnd[2]?this.state=C.BeforeSpecialT:this.state=C.InTagName}else t===Q.Slash?this.state=C.BeforeClosingTagName:(this.state=C.Text,this.stateText(t))}stateInTagName(t){df(t)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=C.BeforeAttributeName,this.stateBeforeAttributeName(t))}stateBeforeClosingTagName(t){Ts(t)||(t===Q.Gt?this.state=C.Text:(this.state=this.isTagStartChar(t)?C.InClosingTagName:C.InSpecialComment,this.sectionStart=this.index))}stateInClosingTagName(t){(t===Q.Gt||Ts(t))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=C.AfterClosingTagName,this.stateAfterClosingTagName(t))}stateAfterClosingTagName(t){(t===Q.Gt||this.fastForwardTo(Q.Gt))&&(this.state=C.Text,this.sectionStart=this.index+1)}stateBeforeAttributeName(t){t===Q.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=C.InSpecialTag,this.sequenceIndex=0):this.state=C.Text,this.sectionStart=this.index+1):t===Q.Slash?this.state=C.InSelfClosingTag:Ts(t)||(this.state=C.InAttributeName,this.sectionStart=this.index)}stateInSelfClosingTag(t){t===Q.Gt?(this.cbs.onselfclosingtag(this.index),this.state=C.Text,this.sectionStart=this.index+1,this.isSpecial=!1):Ts(t)||(this.state=C.BeforeAttributeName,this.stateBeforeAttributeName(t))}stateInAttributeName(t){(t===Q.Eq||df(t))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=this.index,this.state=C.AfterAttributeName,this.stateAfterAttributeName(t))}stateAfterAttributeName(t){t===Q.Eq?this.state=C.BeforeAttributeValue:t===Q.Slash||t===Q.Gt?(this.cbs.onattribend(kr.NoValue,this.sectionStart),this.sectionStart=-1,this.state=C.BeforeAttributeName,this.stateBeforeAttributeName(t)):Ts(t)||(this.cbs.onattribend(kr.NoValue,this.sectionStart),this.state=C.InAttributeName,this.sectionStart=this.index)}stateBeforeAttributeValue(t){t===Q.DoubleQuote?(this.state=C.InAttributeValueDq,this.sectionStart=this.index+1):t===Q.SingleQuote?(this.state=C.InAttributeValueSq,this.sectionStart=this.index+1):Ts(t)||(this.sectionStart=this.index,this.state=C.InAttributeValueNq,this.stateInAttributeValueNoQuotes(t))}handleInAttributeValue(t,n){t===n||!this.decodeEntities&&this.fastForwardTo(n)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(n===Q.DoubleQuote?kr.Double:kr.Single,this.index+1),this.state=C.BeforeAttributeName):this.decodeEntities&&t===Q.Amp&&this.startEntity()}stateInAttributeValueDoubleQuotes(t){this.handleInAttributeValue(t,Q.DoubleQuote)}stateInAttributeValueSingleQuotes(t){this.handleInAttributeValue(t,Q.SingleQuote)}stateInAttributeValueNoQuotes(t){Ts(t)||t===Q.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(kr.Unquoted,this.index),this.state=C.BeforeAttributeName,this.stateBeforeAttributeName(t)):this.decodeEntities&&t===Q.Amp&&this.startEntity()}stateBeforeDeclaration(t){t===Q.OpeningSquareBracket?(this.state=C.CDATASequence,this.sequenceIndex=0):this.state=t===Q.Dash?C.BeforeComment:C.InDeclaration}stateInDeclaration(t){(t===Q.Gt||this.fastForwardTo(Q.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=C.Text,this.sectionStart=this.index+1)}stateInProcessingInstruction(t){(t===Q.Gt||this.fastForwardTo(Q.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=C.Text,this.sectionStart=this.index+1)}stateBeforeComment(t){t===Q.Dash?(this.state=C.InCommentLike,this.currentSequence=Tt.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=C.InDeclaration}stateInSpecialComment(t){(t===Q.Gt||this.fastForwardTo(Q.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=C.Text,this.sectionStart=this.index+1)}stateBeforeSpecialS(t){const n=t|32;n===Tt.ScriptEnd[3]?this.startSpecial(Tt.ScriptEnd,4):n===Tt.StyleEnd[3]?this.startSpecial(Tt.StyleEnd,4):(this.state=C.InTagName,this.stateInTagName(t))}stateBeforeSpecialT(t){const n=t|32;n===Tt.TitleEnd[3]?this.startSpecial(Tt.TitleEnd,4):n===Tt.TextareaEnd[3]?this.startSpecial(Tt.TextareaEnd,4):(this.state=C.InTagName,this.stateInTagName(t))}startEntity(){this.baseState=this.state,this.state=C.InEntity,this.entityStart=this.index,this.entityDecoder.startEntity(this.xmlMode?rs.Strict:this.baseState===C.Text||this.baseState===C.InSpecialTag?rs.Legacy:rs.Attribute)}stateInEntity(){const t=this.entityDecoder.write(this.buffer,this.index-this.offset);t>=0?(this.state=this.baseState,t===0&&(this.index=this.entityStart)):this.index=this.offset+this.buffer.length-1}cleanup(){this.running&&this.sectionStart!==this.index&&(this.state===C.Text||this.state===C.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===C.InAttributeValueDq||this.state===C.InAttributeValueSq||this.state===C.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}shouldContinue(){return this.index<this.buffer.length+this.offset&&this.running}parse(){for(;this.shouldContinue();){const t=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case C.Text:{this.stateText(t);break}case C.SpecialStartSequence:{this.stateSpecialStartSequence(t);break}case C.InSpecialTag:{this.stateInSpecialTag(t);break}case C.CDATASequence:{this.stateCDATASequence(t);break}case C.InAttributeValueDq:{this.stateInAttributeValueDoubleQuotes(t);break}case C.InAttributeName:{this.stateInAttributeName(t);break}case C.InCommentLike:{this.stateInCommentLike(t);break}case C.InSpecialComment:{this.stateInSpecialComment(t);break}case C.BeforeAttributeName:{this.stateBeforeAttributeName(t);break}case C.InTagName:{this.stateInTagName(t);break}case C.InClosingTagName:{this.stateInClosingTagName(t);break}case C.BeforeTagName:{this.stateBeforeTagName(t);break}case C.AfterAttributeName:{this.stateAfterAttributeName(t);break}case C.InAttributeValueSq:{this.stateInAttributeValueSingleQuotes(t);break}case C.BeforeAttributeValue:{this.stateBeforeAttributeValue(t);break}case C.BeforeClosingTagName:{this.stateBeforeClosingTagName(t);break}case C.AfterClosingTagName:{this.stateAfterClosingTagName(t);break}case C.BeforeSpecialS:{this.stateBeforeSpecialS(t);break}case C.BeforeSpecialT:{this.stateBeforeSpecialT(t);break}case C.InAttributeValueNq:{this.stateInAttributeValueNoQuotes(t);break}case C.InSelfClosingTag:{this.stateInSelfClosingTag(t);break}case C.InDeclaration:{this.stateInDeclaration(t);break}case C.BeforeDeclaration:{this.stateBeforeDeclaration(t);break}case C.BeforeComment:{this.stateBeforeComment(t);break}case C.InProcessingInstruction:{this.stateInProcessingInstruction(t);break}case C.InEntity:{this.stateInEntity();break}}this.index++}this.cleanup()}finish(){this.state===C.InEntity&&(this.entityDecoder.end(),this.state=this.baseState),this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const t=this.buffer.length+this.offset;this.sectionStart>=t||(this.state===C.InCommentLike?this.currentSequence===Tt.CdataEnd?this.cbs.oncdata(this.sectionStart,t,0):this.cbs.oncomment(this.sectionStart,t,0):this.state===C.InTagName||this.state===C.BeforeAttributeName||this.state===C.BeforeAttributeValue||this.state===C.AfterAttributeName||this.state===C.InAttributeName||this.state===C.InAttributeValueSq||this.state===C.InAttributeValueDq||this.state===C.InAttributeValueNq||this.state===C.InClosingTagName||this.cbs.ontext(this.sectionStart,t))}emitCodePoint(t,n){this.baseState!==C.Text&&this.baseState!==C.InSpecialTag?(this.sectionStart<this.entityStart&&this.cbs.onattribdata(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+n,this.index=this.sectionStart-1,this.cbs.onattribentity(t)):(this.sectionStart<this.entityStart&&this.cbs.ontext(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+n,this.index=this.sectionStart-1,this.cbs.ontextentity(t,this.sectionStart))}}const uo=new Set(["input","option","optgroup","select","button","datalist","textarea"]),Te=new Set(["p"]),Ov=new Set(["thead","tbody"]),Iv=new Set(["dd","dt"]),Nv=new Set(["rt","rp"]),gM=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",Te],["h1",Te],["h2",Te],["h3",Te],["h4",Te],["h5",Te],["h6",Te],["select",uo],["input",uo],["output",uo],["button",uo],["datalist",uo],["textarea",uo],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",Iv],["dt",Iv],["address",Te],["article",Te],["aside",Te],["blockquote",Te],["details",Te],["div",Te],["dl",Te],["fieldset",Te],["figcaption",Te],["figure",Te],["footer",Te],["form",Te],["header",Te],["hr",Te],["main",Te],["nav",Te],["ol",Te],["pre",Te],["section",Te],["table",Te],["ul",Te],["rt",Nv],["rp",Nv],["tbody",Ov],["tfoot",Ov]]),mM=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),Rv=new Set(["math","svg"]),kv=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),bM=/\s|\//;let kh=class{constructor(t,n={}){var r,s,i,u,o,a;this.options=n,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=t??{},this.htmlMode=!this.options.xmlMode,this.lowerCaseTagNames=(r=n.lowerCaseTags)!==null&&r!==void 0?r:this.htmlMode,this.lowerCaseAttributeNames=(s=n.lowerCaseAttributeNames)!==null&&s!==void 0?s:this.htmlMode,this.recognizeSelfClosing=(i=n.recognizeSelfClosing)!==null&&i!==void 0?i:!this.htmlMode,this.tokenizer=new((u=n.Tokenizer)!==null&&u!==void 0?u:gA)(this.options,this),this.foreignContext=[!this.htmlMode],(a=(o=this.cbs).onparserinit)===null||a===void 0||a.call(o,this)}ontext(t,n){var r,s;const i=this.getSlice(t,n);this.endIndex=n-1,(s=(r=this.cbs).ontext)===null||s===void 0||s.call(r,i),this.startIndex=n}ontextentity(t,n){var r,s;this.endIndex=n-1,(s=(r=this.cbs).ontext)===null||s===void 0||s.call(r,tm(t)),this.startIndex=n}isVoidElement(t){return this.htmlMode&&mM.has(t)}onopentagname(t,n){this.endIndex=n;let r=this.getSlice(t,n);this.lowerCaseTagNames&&(r=r.toLowerCase()),this.emitOpenTag(r)}emitOpenTag(t){var n,r,s,i;this.openTagStart=this.startIndex,this.tagname=t;const u=this.htmlMode&&gM.get(t);if(u)for(;this.stack.length>0&&u.has(this.stack[0]);){const o=this.stack.shift();(r=(n=this.cbs).onclosetag)===null||r===void 0||r.call(n,o,!0)}this.isVoidElement(t)||(this.stack.unshift(t),this.htmlMode&&(Rv.has(t)?this.foreignContext.unshift(!0):kv.has(t)&&this.foreignContext.unshift(!1))),(i=(s=this.cbs).onopentagname)===null||i===void 0||i.call(s,t),this.cbs.onopentag&&(this.attribs={})}endOpenTag(t){var n,r;this.startIndex=this.openTagStart,this.attribs&&((r=(n=this.cbs).onopentag)===null||r===void 0||r.call(n,this.tagname,this.attribs,t),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""}onopentagend(t){this.endIndex=t,this.endOpenTag(!1),this.startIndex=t+1}onclosetag(t,n){var r,s,i,u,o,a,c,l;this.endIndex=n;let d=this.getSlice(t,n);if(this.lowerCaseTagNames&&(d=d.toLowerCase()),this.htmlMode&&(Rv.has(d)||kv.has(d))&&this.foreignContext.shift(),this.isVoidElement(d))this.htmlMode&&d==="br"&&((u=(i=this.cbs).onopentagname)===null||u===void 0||u.call(i,"br"),(a=(o=this.cbs).onopentag)===null||a===void 0||a.call(o,"br",{},!0),(l=(c=this.cbs).onclosetag)===null||l===void 0||l.call(c,"br",!1));else{const h=this.stack.indexOf(d);if(h!==-1)for(let f=0;f<=h;f++){const p=this.stack.shift();(s=(r=this.cbs).onclosetag)===null||s===void 0||s.call(r,p,f!==h)}else this.htmlMode&&d==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=n+1}onselfclosingtag(t){this.endIndex=t,this.recognizeSelfClosing||this.foreignContext[0]?(this.closeCurrentTag(!1),this.startIndex=t+1):this.onopentagend(t)}closeCurrentTag(t){var n,r;const s=this.tagname;this.endOpenTag(t),this.stack[0]===s&&((r=(n=this.cbs).onclosetag)===null||r===void 0||r.call(n,s,!t),this.stack.shift())}onattribname(t,n){this.startIndex=t;const r=this.getSlice(t,n);this.attribname=this.lowerCaseAttributeNames?r.toLowerCase():r}onattribdata(t,n){this.attribvalue+=this.getSlice(t,n)}onattribentity(t){this.attribvalue+=tm(t)}onattribend(t,n){var r,s;this.endIndex=n,(s=(r=this.cbs).onattribute)===null||s===void 0||s.call(r,this.attribname,this.attribvalue,t===kr.Double?'"':t===kr.Single?"'":t===kr.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""}getInstructionName(t){const n=t.search(bM);let r=n<0?t:t.substr(0,n);return this.lowerCaseTagNames&&(r=r.toLowerCase()),r}ondeclaration(t,n){this.endIndex=n;const r=this.getSlice(t,n);if(this.cbs.onprocessinginstruction){const s=this.getInstructionName(r);this.cbs.onprocessinginstruction(`!${s}`,`!${r}`)}this.startIndex=n+1}onprocessinginstruction(t,n){this.endIndex=n;const r=this.getSlice(t,n);if(this.cbs.onprocessinginstruction){const s=this.getInstructionName(r);this.cbs.onprocessinginstruction(`?${s}`,`?${r}`)}this.startIndex=n+1}oncomment(t,n,r){var s,i,u,o;this.endIndex=n,(i=(s=this.cbs).oncomment)===null||i===void 0||i.call(s,this.getSlice(t,n-r)),(o=(u=this.cbs).oncommentend)===null||o===void 0||o.call(u),this.startIndex=n+1}oncdata(t,n,r){var s,i,u,o,a,c,l,d,h,f;this.endIndex=n;const p=this.getSlice(t,n-r);!this.htmlMode||this.options.recognizeCDATA?((i=(s=this.cbs).oncdatastart)===null||i===void 0||i.call(s),(o=(u=this.cbs).ontext)===null||o===void 0||o.call(u,p),(c=(a=this.cbs).oncdataend)===null||c===void 0||c.call(a)):((d=(l=this.cbs).oncomment)===null||d===void 0||d.call(l,`[CDATA[${p}]]`),(f=(h=this.cbs).oncommentend)===null||f===void 0||f.call(h)),this.startIndex=n+1}onend(){var t,n;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(let r=0;r<this.stack.length;r++)this.cbs.onclosetag(this.stack[r],!0)}(n=(t=this.cbs).onend)===null||n===void 0||n.call(t)}reset(){var t,n,r,s;(n=(t=this.cbs).onreset)===null||n===void 0||n.call(t),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(s=(r=this.cbs).onparserinit)===null||s===void 0||s.call(r,this),this.buffers.length=0,this.foreignContext.length=0,this.foreignContext.unshift(!this.htmlMode),this.bufferOffset=0,this.writeIndex=0,this.ended=!1}parseComplete(t){this.reset(),this.end(t)}getSlice(t,n){for(;t-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();let r=this.buffers[0].slice(t-this.bufferOffset,n-this.bufferOffset);for(;n-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),r+=this.buffers[0].slice(0,n-this.bufferOffset);return r}shiftBuffer(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()}write(t){var n,r;if(this.ended){(r=(n=this.cbs).onerror)===null||r===void 0||r.call(n,new Error(".write() after done!"));return}this.buffers.push(t),this.tokenizer.running&&(this.tokenizer.write(t),this.writeIndex++)}end(t){var n,r;if(this.ended){(r=(n=this.cbs).onerror)===null||r===void 0||r.call(n,new Error(".end() after done!"));return}t&&this.write(t),this.ended=!0,this.tokenizer.end()}pause(){this.tokenizer.pause()}resume(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()}parseChunk(t){this.write(t)}done(t){this.end(t)}};var be;(function(e){e.Root="root",e.Text="text",e.Directive="directive",e.Comment="comment",e.Script="script",e.Style="style",e.Tag="tag",e.CDATA="cdata",e.Doctype="doctype"})(be||(be={}));function mA(e){return e.type===be.Tag||e.type===be.Script||e.type===be.Style}const bA=be.Root,yA=be.Text,wA=be.Directive,vA=be.Comment,xA=be.Script,SA=be.Style,AA=be.Tag,_A=be.CDATA,TA=be.Doctype;var yM=Object.freeze({__proto__:null,CDATA:_A,Comment:vA,Directive:wA,Doctype:TA,get ElementType(){return be},Root:bA,Script:xA,Style:SA,Tag:AA,Text:yA,isTag:mA});let EA=class{constructor(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}get parentNode(){return this.parent}set parentNode(t){this.parent=t}get previousSibling(){return this.prev}set previousSibling(t){this.prev=t}get nextSibling(){return this.next}set nextSibling(t){this.next=t}cloneNode(t=!1){return CA(this,t)}};class Oy extends EA{constructor(t){super(),this.data=t}get nodeValue(){return this.data}set nodeValue(t){this.data=t}}let rm=class extends Oy{constructor(){super(...arguments),this.type=be.Text}get nodeType(){return 3}},OA=class extends Oy{constructor(){super(...arguments),this.type=be.Comment}get nodeType(){return 8}};class IA extends Oy{constructor(t,n){super(n),this.name=t,this.type=be.Directive}get nodeType(){return 1}}class Iy extends EA{constructor(t){super(),this.children=t}get firstChild(){var t;return(t=this.children[0])!==null&&t!==void 0?t:null}get lastChild(){return this.children.length>0?this.children[this.children.length-1]:null}get childNodes(){return this.children}set childNodes(t){this.children=t}}class NA extends Iy{constructor(){super(...arguments),this.type=be.CDATA}get nodeType(){return 4}}let sm=class extends Iy{constructor(){super(...arguments),this.type=be.Root}get nodeType(){return 9}},RA=class extends Iy{constructor(t,n,r=[],s=t==="script"?be.Script:t==="style"?be.Style:be.Tag){super(r),this.name=t,this.attribs=n,this.type=s}get nodeType(){return 1}get tagName(){return this.name}set tagName(t){this.name=t}get attributes(){return Object.keys(this.attribs).map(t=>{var n,r;return{name:t,value:this.attribs[t],namespace:(n=this["x-attribsNamespace"])===null||n===void 0?void 0:n[t],prefix:(r=this["x-attribsPrefix"])===null||r===void 0?void 0:r[t]}})}};function jn(e){return mA(e)}function Ch(e){return e.type===be.CDATA}function Du(e){return e.type===be.Text}function Ny(e){return e.type===be.Comment}function wM(e){return e.type===be.Directive}function kA(e){return e.type===be.Root}function Ni(e){return Object.prototype.hasOwnProperty.call(e,"children")}function CA(e,t=!1){let n;if(Du(e))n=new rm(e.data);else if(Ny(e))n=new OA(e.data);else if(jn(e)){const r=t?B0(e.children):[],s=new RA(e.name,{...e.attribs},r);r.forEach(i=>i.parent=s),e.namespace!=null&&(s.namespace=e.namespace),e["x-attribsNamespace"]&&(s["x-attribsNamespace"]={...e["x-attribsNamespace"]}),e["x-attribsPrefix"]&&(s["x-attribsPrefix"]={...e["x-attribsPrefix"]}),n=s}else if(Ch(e)){const r=t?B0(e.children):[],s=new NA(r);r.forEach(i=>i.parent=s),n=s}else if(kA(e)){const r=t?B0(e.children):[],s=new sm(r);r.forEach(i=>i.parent=s),e["x-mode"]&&(s["x-mode"]=e["x-mode"]),n=s}else if(wM(e)){const r=new IA(e.name,e.data);e["x-name"]!=null&&(r["x-name"]=e["x-name"],r["x-publicId"]=e["x-publicId"],r["x-systemId"]=e["x-systemId"]),n=r}else throw new Error(`Not implemented yet: ${e.type}`);return n.startIndex=e.startIndex,n.endIndex=e.endIndex,e.sourceCodeLocation!=null&&(n.sourceCodeLocation=e.sourceCodeLocation),n}function B0(e){const t=e.map(n=>CA(n,!0));for(let n=1;n<t.length;n++)t[n].prev=t[n-1],t[n-1].next=t[n];return t}const Cv={withStartIndices:!1,withEndIndices:!1,xmlMode:!1};class Rc{constructor(t,n,r){this.dom=[],this.root=new sm(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof n=="function"&&(r=n,n=Cv),typeof t=="object"&&(n=t,t=void 0),this.callback=t??null,this.options=n??Cv,this.elementCB=r??null}onparserinit(t){this.parser=t}onreset(){this.dom=[],this.root=new sm(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null}onend(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))}onerror(t){this.handleCallback(t)}onclosetag(){this.lastNode=null;const t=this.tagStack.pop();this.options.withEndIndices&&(t.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(t)}onopentag(t,n){const r=this.options.xmlMode?be.Tag:void 0,s=new RA(t,n,void 0,r);this.addNode(s),this.tagStack.push(s)}ontext(t){const{lastNode:n}=this;if(n&&n.type===be.Text)n.data+=t,this.options.withEndIndices&&(n.endIndex=this.parser.endIndex);else{const r=new rm(t);this.addNode(r),this.lastNode=r}}oncomment(t){if(this.lastNode&&this.lastNode.type===be.Comment){this.lastNode.data+=t;return}const n=new OA(t);this.addNode(n),this.lastNode=n}oncommentend(){this.lastNode=null}oncdatastart(){const t=new rm(""),n=new NA([t]);this.addNode(n),t.parent=n,this.lastNode=t}oncdataend(){this.lastNode=null}onprocessinginstruction(t,n){const r=new IA(t,n);this.addNode(r)}handleCallback(t){if(typeof this.callback=="function")this.callback(t,this.dom);else if(t)throw t}addNode(t){const n=this.tagStack[this.tagStack.length-1],r=n.children[n.children.length-1];this.options.withStartIndices&&(t.startIndex=this.parser.startIndex),this.options.withEndIndices&&(t.endIndex=this.parser.endIndex),n.children.push(t),r&&(t.prev=r,r.next=t),t.parent=n,this.lastNode=null}}const Dv=/["&'<>$\x80-\uFFFF]/g,vM=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]),xM=String.prototype.codePointAt!=null?(e,t)=>e.codePointAt(t):(e,t)=>(e.charCodeAt(t)&64512)===55296?(e.charCodeAt(t)-55296)*1024+e.charCodeAt(t+1)-56320+65536:e.charCodeAt(t);function DA(e){let t="",n=0,r;for(;(r=Dv.exec(e))!==null;){const s=r.index,i=e.charCodeAt(s),u=vM.get(i);u!==void 0?(t+=e.substring(n,s)+u,n=s+1):(t+=`${e.substring(n,s)}&#x${xM(e,s).toString(16)};`,n=Dv.lastIndex+=+((i&64512)===55296))}return t+e.substr(n)}function MA(e,t){return function(r){let s,i=0,u="";for(;s=e.exec(r);)i!==s.index&&(u+=r.substring(i,s.index)),u+=t.get(s[0].charCodeAt(0)),i=s.index+1;return u+r.substring(i)}}const SM=MA(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),AM=MA(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]])),_M=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),TM=new Map(["definitionURL","attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),EM=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function OM(e){return e.replace(/"/g,"&quot;")}function IM(e,t){var n;if(!e)return;const r=((n=t.encodeEntities)!==null&&n!==void 0?n:t.decodeEntities)===!1?OM:t.xmlMode||t.encodeEntities!=="utf8"?DA:SM;return Object.keys(e).map(s=>{var i,u;const o=(i=e[s])!==null&&i!==void 0?i:"";return t.xmlMode==="foreign"&&(s=(u=TM.get(s))!==null&&u!==void 0?u:s),!t.emptyAttrs&&!t.xmlMode&&o===""?s:`${s}="${r(o)}"`}).join(" ")}const Mv=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function Ry(e,t={}){const n="length"in e?e:[e];let r="";for(let s=0;s<n.length;s++)r+=NM(n[s],t);return r}function NM(e,t){switch(e.type){case bA:return Ry(e.children,t);case TA:case wA:return DM(e);case vA:return jM(e);case _A:return PM(e);case xA:case SA:case AA:return CM(e,t);case yA:return MM(e,t)}}const RM=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),kM=new Set(["svg","math"]);function CM(e,t){var n;t.xmlMode==="foreign"&&(e.name=(n=_M.get(e.name))!==null&&n!==void 0?n:e.name,e.parent&&RM.has(e.parent.name)&&(t={...t,xmlMode:!1})),!t.xmlMode&&kM.has(e.name)&&(t={...t,xmlMode:"foreign"});let r=`<${e.name}`;const s=IM(e.attribs,t);return s&&(r+=` ${s}`),e.children.length===0&&(t.xmlMode?t.selfClosingTags!==!1:t.selfClosingTags&&Mv.has(e.name))?(t.xmlMode||(r+=" "),r+="/>"):(r+=">",e.children.length>0&&(r+=Ry(e.children,t)),(t.xmlMode||!Mv.has(e.name))&&(r+=`</${e.name}>`)),r}function DM(e){return`<${e.data}>`}function MM(e,t){var n;let r=e.data||"";return((n=t.encodeEntities)!==null&&n!==void 0?n:t.decodeEntities)!==!1&&!(!t.xmlMode&&e.parent&&EM.has(e.parent.name))&&(r=t.xmlMode||t.encodeEntities!=="utf8"?DA(r):AM(r)),r}function PM(e){return`<![CDATA[${e.children[0].data}]]>`}function jM(e){return`<!--${e.data}-->`}function PA(e,t){return Ry(e,t)}function LM(e,t){return Ni(e)?e.children.map(n=>PA(n,t)).join(""):""}function Vf(e){return Array.isArray(e)?e.map(Vf).join(""):jn(e)?e.name==="br"?`
`:Vf(e.children):Ch(e)?Vf(e.children):Du(e)?e.data:""}function md(e){return Array.isArray(e)?e.map(md).join(""):Ni(e)&&!Ny(e)?md(e.children):Du(e)?e.data:""}function im(e){return Array.isArray(e)?e.map(im).join(""):Ni(e)&&(e.type===be.Tag||Ch(e))?im(e.children):Du(e)?e.data:""}function jA(e){return Ni(e)?e.children:[]}function LA(e){return e.parent||null}function FM(e){const t=LA(e);if(t!=null)return jA(t);const n=[e];let{prev:r,next:s}=e;for(;r!=null;)n.unshift(r),{prev:r}=r;for(;s!=null;)n.push(s),{next:s}=s;return n}function BM(e,t){var n;return(n=e.attribs)===null||n===void 0?void 0:n[t]}function UM(e,t){return e.attribs!=null&&Object.prototype.hasOwnProperty.call(e.attribs,t)&&e.attribs[t]!=null}function qM(e){return e.name}function $M(e){let{next:t}=e;for(;t!==null&&!jn(t);)({next:t}=t);return t}function VM(e){let{prev:t}=e;for(;t!==null&&!jn(t);)({prev:t}=t);return t}function Il(e){if(e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e.parent){const t=e.parent.children,n=t.lastIndexOf(e);n>=0&&t.splice(n,1)}e.next=null,e.prev=null,e.parent=null}function zM(e,t){const n=t.prev=e.prev;n&&(n.next=t);const r=t.next=e.next;r&&(r.prev=t);const s=t.parent=e.parent;if(s){const i=s.children;i[i.lastIndexOf(e)]=t,e.parent=null}}function HM(e,t){if(Il(t),t.next=null,t.parent=e,e.children.push(t)>1){const n=e.children[e.children.length-2];n.next=t,t.prev=n}else t.prev=null}function GM(e,t){Il(t);const{parent:n}=e,r=e.next;if(t.next=r,t.prev=e,e.next=t,t.parent=n,r){if(r.prev=t,n){const s=n.children;s.splice(s.lastIndexOf(r),0,t)}}else n&&n.children.push(t)}function JM(e,t){if(Il(t),t.parent=e,t.prev=null,e.children.unshift(t)!==1){const n=e.children[1];n.prev=t,t.next=n}else t.next=null}function WM(e,t){Il(t);const{parent:n}=e;if(n){const r=n.children;r.splice(r.indexOf(e),0,t)}e.prev&&(e.prev.next=t),t.parent=n,t.prev=e.prev,t.next=e,e.prev=t}function Dh(e,t,n=!0,r=1/0){return FA(e,Array.isArray(t)?t:[t],n,r)}function FA(e,t,n,r){const s=[],i=[t],u=[0];for(;;){if(u[0]>=i[0].length){if(u.length===1)return s;i.shift(),u.shift();continue}const o=i[0][u[0]++];if(e(o)&&(s.push(o),--r<=0))return s;n&&Ni(o)&&o.children.length>0&&(u.unshift(0),i.unshift(o.children))}}function QM(e,t){return t.find(e)}function ky(e,t,n=!0){let r=null;for(let s=0;s<t.length&&!r;s++){const i=t[s];if(jn(i))e(i)?r=i:n&&i.children.length>0&&(r=ky(e,i.children,!0));else continue}return r}function BA(e,t){return t.some(n=>jn(n)&&(e(n)||BA(e,n.children)))}function XM(e,t){const n=[],r=[t],s=[0];for(;;){if(s[0]>=r[0].length){if(r.length===1)return n;r.shift(),s.shift();continue}const i=r[0][s[0]++];jn(i)&&(e(i)&&n.push(i),i.children.length>0&&(s.unshift(0),r.unshift(i.children)))}}const bd={tag_name(e){return typeof e=="function"?t=>jn(t)&&e(t.name):e==="*"?jn:t=>jn(t)&&t.name===e},tag_type(e){return typeof e=="function"?t=>e(t.type):t=>t.type===e},tag_contains(e){return typeof e=="function"?t=>Du(t)&&e(t.data):t=>Du(t)&&t.data===e}};function UA(e,t){return typeof t=="function"?n=>jn(n)&&t(n.attribs[e]):n=>jn(n)&&n.attribs[e]===t}function KM(e,t){return n=>e(n)||t(n)}function qA(e){const t=Object.keys(e).map(n=>{const r=e[n];return Object.prototype.hasOwnProperty.call(bd,n)?bd[n](r):UA(n,r)});return t.length===0?null:t.reduce(KM)}function YM(e,t){const n=qA(e);return n?n(t):!0}function ZM(e,t,n,r=1/0){const s=qA(e);return s?Dh(s,t,n,r):[]}function e7(e,t,n=!0){return Array.isArray(t)||(t=[t]),ky(UA("id",e),t,n)}function ga(e,t,n=!0,r=1/0){return Dh(bd.tag_name(e),t,n,r)}function t7(e,t,n=!0,r=1/0){return Dh(bd.tag_type(e),t,n,r)}function n7(e){let t=e.length;for(;--t>=0;){const n=e[t];if(t>0&&e.lastIndexOf(n,t-1)>=0){e.splice(t,1);continue}for(let r=n.parent;r;r=r.parent)if(e.includes(r)){e.splice(t,1);break}}return e}var er;(function(e){e[e.DISCONNECTED=1]="DISCONNECTED",e[e.PRECEDING=2]="PRECEDING",e[e.FOLLOWING=4]="FOLLOWING",e[e.CONTAINS=8]="CONTAINS",e[e.CONTAINED_BY=16]="CONTAINED_BY"})(er||(er={}));function $A(e,t){const n=[],r=[];if(e===t)return 0;let s=Ni(e)?e:e.parent;for(;s;)n.unshift(s),s=s.parent;for(s=Ni(t)?t:t.parent;s;)r.unshift(s),s=s.parent;const i=Math.min(n.length,r.length);let u=0;for(;u<i&&n[u]===r[u];)u++;if(u===0)return er.DISCONNECTED;const o=n[u-1],a=o.children,c=n[u],l=r[u];return a.indexOf(c)>a.indexOf(l)?o===t?er.FOLLOWING|er.CONTAINED_BY:er.FOLLOWING:o===e?er.PRECEDING|er.CONTAINS:er.PRECEDING}function r7(e){return e=e.filter((t,n,r)=>!r.includes(t,n+1)),e.sort((t,n)=>{const r=$A(t,n);return r&er.PRECEDING?-1:r&er.FOLLOWING?1:0}),e}function Cy(e){const t=yd(a7,e);return t?t.name==="feed"?s7(t):i7(t):null}function s7(e){var t;const n=e.children,r={type:"atom",items:ga("entry",n).map(u=>{var o;const{children:a}=u,c={media:VA(a)};wn(c,"id","id",a),wn(c,"title","title",a);const l=(o=yd("link",a))===null||o===void 0?void 0:o.attribs.href;l&&(c.link=l);const d=mi("summary",a)||mi("content",a);d&&(c.description=d);const h=mi("updated",a);return h&&(c.pubDate=new Date(h)),c})};wn(r,"id","id",n),wn(r,"title","title",n);const s=(t=yd("link",n))===null||t===void 0?void 0:t.attribs.href;s&&(r.link=s),wn(r,"description","subtitle",n);const i=mi("updated",n);return i&&(r.updated=new Date(i)),wn(r,"author","email",n,!0),r}function i7(e){var t,n;const r=(n=(t=yd("channel",e.children))===null||t===void 0?void 0:t.children)!==null&&n!==void 0?n:[],s={type:e.name.substr(0,3),id:"",items:ga("item",e.children).map(u=>{const{children:o}=u,a={media:VA(o)};wn(a,"id","guid",o),wn(a,"title","title",o),wn(a,"link","link",o),wn(a,"description","description",o);const c=mi("pubDate",o)||mi("dc:date",o);return c&&(a.pubDate=new Date(c)),a})};wn(s,"title","title",r),wn(s,"link","link",r),wn(s,"description","description",r);const i=mi("lastBuildDate",r);return i&&(s.updated=new Date(i)),wn(s,"author","managingEditor",r,!0),s}const u7=["url","type","lang"],o7=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function VA(e){return ga("media:content",e).map(t=>{const{attribs:n}=t,r={medium:n.medium,isDefault:!!n.isDefault};for(const s of u7)n[s]&&(r[s]=n[s]);for(const s of o7)n[s]&&(r[s]=parseInt(n[s],10));return n.expression&&(r.expression=n.expression),r})}function yd(e,t){return ga(e,t,!0,1)[0]}function mi(e,t,n=!1){return md(ga(e,t,n,1)).trim()}function wn(e,t,n,r,s=!1){const i=mi(n,r,s);i&&(e[t]=i)}function a7(e){return e==="rss"||e==="feed"||e==="rdf:RDF"}var Dy=Object.freeze({__proto__:null,get DocumentPosition(){return er},append:GM,appendChild:HM,compareDocumentPosition:$A,existsOne:BA,filter:Dh,find:FA,findAll:XM,findOne:ky,findOneChild:QM,getAttributeValue:BM,getChildren:jA,getElementById:e7,getElements:ZM,getElementsByTagName:ga,getElementsByTagType:t7,getFeed:Cy,getInnerHTML:LM,getName:qM,getOuterHTML:PA,getParent:LA,getSiblings:FM,getText:Vf,hasAttrib:UM,hasChildren:Ni,innerText:im,isCDATA:Ch,isComment:Ny,isDocument:kA,isTag:jn,isText:Du,nextElementSibling:$M,prepend:WM,prependChild:JM,prevElementSibling:VM,removeElement:Il,removeSubsets:n7,replaceElement:zM,testElement:YM,textContent:md,uniqueSort:r7});function zA(e,t){const n=new Rc(void 0,t);return new kh(n,t).end(e),n.root}function HA(e,t){return zA(e,t).children}function c7(e,t,n){const r=new Rc(s=>e(s,r.root),t,n);return new kh(r,t)}function l7(e,t,n){const r=new Rc(e,t,n);return new kh(r,t)}const f7={xmlMode:!0};function d7(e,t=f7){return Cy(HA(e,t))}var h7=Object.freeze({__proto__:null,DefaultHandler:Rc,DomHandler:Rc,DomUtils:Dy,ElementType:yM,Parser:kh,get QuoteType(){return kr},Tokenizer:gA,createDocumentStream:c7,createDomStream:l7,getFeed:Cy,parseDOM:HA,parseDocument:zA,parseFeed:d7});const Ri=-1,ge=1,It=2,Wt=3,Js=4,Ws=8,hu=9,zo=10,Us=11,p7=new Set(["ARTICLE","ASIDE","BLOCKQUOTE","BODY","BR","BUTTON","CANVAS","CAPTION","COL","COLGROUP","DD","DIV","DL","DT","EMBED","FIELDSET","FIGCAPTION","FIGURE","FOOTER","FORM","H1","H2","H3","H4","H5","H6","LI","UL","OL","P"]),g7=-1,m7=1,b7=4,y7=8,w7=128,v7=1,Pv=2,jv=4,x7=8,S7=16,A7=32,wd="http://www.w3.org/2000/svg",{assign:_7,create:T7,defineProperties:E7,entries:O7,getOwnPropertyDescriptors:Pne,keys:I7,setPrototypeOf:hn}=Object,Eu=String,Mn=e=>e.nodeType===ge?e[X]:e,ki=({ownerDocument:e})=>e[pa].ignoreCase,Fr=(e,t)=>{e[j]=t,t[xt]=e},GA=(e,t,n)=>{Fr(e,t),Fr(Mn(t),n)},N7=(e,t,n,r)=>{Fr(e,t),Fr(Mn(n),r)},Mh=(e,t,n)=>{Fr(e,t),Fr(t,n)},um=({localName:e,ownerDocument:t})=>t[pa].ignoreCase?e.toUpperCase():e,JA=(e,t)=>{e&&(e[j]=t),t&&(t[xt]=e)},bi=new WeakMap;let Ph=!1;const yo=new WeakMap,Mu=new WeakMap,jh=(e,t,n,r)=>{Ph&&Mu.has(e)&&e.attributeChangedCallback&&e.constructor.observedAttributes.includes(t)&&e.attributeChangedCallback(t,n,r)},WA=(e,t)=>n=>{if(Mu.has(n)){const r=Mu.get(n);r.connected!==t&&n.isConnected===t&&(r.connected=t,e in n&&n[e]())}},Lv=WA("connectedCallback",!0),om=e=>{if(Ph){Lv(e),bi.has(e)&&(e=bi.get(e).shadowRoot);let{[j]:t,[X]:n}=e;for(;t!==n;)t.nodeType===ge&&Lv(t),t=t[j]}},Fv=WA("disconnectedCallback",!1),R7=e=>{if(Ph){Fv(e),bi.has(e)&&(e=bi.get(e).shadowRoot);let{[j]:t,[X]:n}=e;for(;t!==n;)t.nodeType===ge&&Fv(t),t=t[j]}};class k7{constructor(t){this.ownerDocument=t,this.registry=new Map,this.waiting=new Map,this.active=!1}define(t,n,r={}){const{ownerDocument:s,registry:i,waiting:u}=this;if(i.has(t))throw new Error("unable to redefine "+t);if(yo.has(n))throw new Error("unable to redefine the same class: "+n);this.active=Ph=!0;const{extends:o}=r;yo.set(n,{ownerDocument:s,options:{is:o?t:""},localName:o||t});const a=o?c=>c.localName===o&&c.getAttribute("is")===t:c=>c.localName===t;if(i.set(t,{Class:n,check:a}),u.has(t)){for(const c of u.get(t))c(n);u.delete(t)}s.querySelectorAll(o?`${o}[is="${t}"]`:t).forEach(this.upgrade,this)}upgrade(t){if(Mu.has(t))return;const{ownerDocument:n,registry:r}=this,s=t.getAttribute("is")||t.localName;if(r.has(s)){const{Class:i,check:u}=r.get(s);if(u(t)){const{attributes:o,isConnected:a}=t;for(const l of o)t.removeAttributeNode(l);const c=O7(t);for(const[l]of c)delete t[l];hn(t,i.prototype),n[dc]={element:t,values:c},new i(n,s),Mu.set(t,{connected:a});for(const l of o)t.setAttributeNode(l);a&&t.connectedCallback&&t.connectedCallback()}}}whenDefined(t){const{registry:n,waiting:r}=this;return new Promise(s=>{n.has(t)?s(n.get(t).Class):(r.has(t)||r.set(t,[]),r.get(t).push(s))})}get(t){const n=this.registry.get(t);return n&&n.Class}getName(t){if(yo.has(t)){const{localName:n}=yo.get(t);return n}return null}}const{Parser:C7}=h7,ru=(e,t,n)=>{const r=e[X];return t.parentNode=e,GA(r[xt],t,r),n&&t.nodeType===ge&&om(t),t},D7=(e,t,n,r,s)=>{n[Oe]=r,n.ownerElement=e,Mh(t[xt],n,t),n.name==="class"&&(e.className=r),s&&jh(e,n.name,null,r)},QA=(e,t,n)=>{const{active:r,registry:s}=e[Or];let i=e,u=null,o=!1;const a=new C7({onprocessinginstruction(c,l){c.toLowerCase()==="!doctype"&&(e.doctype=l.slice(c.length).trim())},onopentag(c,l){let d=!0;if(t){if(u)i=ru(i,e.createElementNS(wd,c),r),i.ownerSVGElement=u,d=!1;else if(c==="svg"||c==="SVG")u=e.createElementNS(wd,c),i=ru(i,u,r),d=!1;else if(r){const f=c.includes("-")?c:l.is||"";if(f&&s.has(f)){const{Class:p}=s.get(f);i=ru(i,new p,r),delete l.is,d=!1}}}d&&(i=ru(i,e.createElement(c),!1));let h=i[X];for(const f of I7(l))D7(i,h,e.createAttribute(f),l[f],r)},oncomment(c){ru(i,e.createComment(c),r)},ontext(c){o?ru(i,e.createCDATASection(c),r):ru(i,e.createTextNode(c),r)},oncdatastart(){o=!0},oncdataend(){o=!1},onclosetag(){t&&i===u&&(u=null),i=i.parentNode}},{lowerCaseAttributeNames:!1,decodeEntities:!0,xmlMode:!t});return a.write(n),a.end(),e},vd=new Map,gt=(e,t)=>{for(const n of[].concat(e))vd.set(n,t),vd.set(n.toUpperCase(),t)},M7=globalThis.performance,XA=({[j]:e,[X]:t},n)=>{for(;e!==t;){switch(e.nodeType){case It:KA(e,n);break;case Wt:case Ws:case Js:YA(e,n);break;case ge:e6(e,n),e=Mn(e);break;case zo:ZA(e,n);break}e=e[j]}const r=n.length-1,s=n[r];typeof s=="number"&&s<0?n[r]+=Ri:n.push(Ri)},KA=(e,t)=>{t.push(It,e.name);const n=e[Oe].trim();n&&t.push(n)},YA=(e,t)=>{const n=e[Oe];n.trim()&&t.push(e.nodeType,n)},P7=(e,t)=>{t.push(e.nodeType),XA(e,t)},ZA=({name:e,publicId:t,systemId:n},r)=>{r.push(zo,e),t&&r.push(t),n&&r.push(n)},e6=(e,t)=>{t.push(ge,e.localName),XA(e,t)},t6=(e,t,n,r,s,i)=>({type:e,target:t,addedNodes:n,removedNodes:r,attributeName:s,oldValue:i}),Bv=(e,t,n,r,s,i)=>{if(!r||r.includes(n)){const{callback:u,records:o,scheduled:a}=e;o.push(t6("attributes",t,[],[],n,s?i:void 0)),a||(e.scheduled=!0,Promise.resolve().then(()=>{e.scheduled=!1,u(o.splice(0),e)}))}},My=(e,t,n)=>{const{ownerDocument:r}=e,{active:s,observers:i}=r[pi];if(s){for(const u of i)for(const[o,{childList:a,subtree:c,attributes:l,attributeFilter:d,attributeOldValue:h}]of u.nodes)if(a){if(c&&(o===r||o.contains(e))||!c&&o.children.includes(e)){Bv(u,e,t,d,h,n);break}}else if(l&&o===e){Bv(u,e,t,d,h,n);break}}},hc=(e,t)=>{const{ownerDocument:n}=e,{active:r,observers:s}=n[pi];if(r){for(const i of s)for(const[u,{subtree:o,childList:a,characterData:c}]of i.nodes)if(a&&(t&&(u===t||o&&u.contains(t))||!t&&(o&&(u===n||u.contains(e))||!o&&u[c?"childNodes":"children"].includes(e)))){const{callback:l,records:d,scheduled:h}=i;d.push(t6("childList",u,t?[]:[e],t?[e]:[])),h||(i.scheduled=!0,Promise.resolve().then(()=>{i.scheduled=!1,l(d.splice(0),i)}));break}}};class j7{constructor(t){const n=new Set;this.observers=n,this.active=!1,this.class=class{constructor(s){this.callback=s,this.nodes=new Map,this.records=[],this.scheduled=!1}disconnect(){this.records.splice(0),this.nodes.clear(),n.delete(this),t[pi].active=!!n.size}observe(s,i={subtree:!1,childList:!1,attributes:!1,attributeFilter:null,attributeOldValue:!1,characterData:!1}){("attributeOldValue"in i||"attributeFilter"in i)&&(i.attributes=!0),i.childList=!!i.childList,i.subtree=!!i.subtree,this.nodes.set(s,i),n.add(this),t[pi].active=!0}takeRecords(){return this.records.splice(0)}}}}const L7=new Set(["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","class","contenteditable","controls","default","defer","disabled","draggable","formnovalidate","hidden","id","ismap","itemscope","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected","style","truespeed"]),am=(e,t)=>{const{[Oe]:n,name:r}=t;t.ownerElement=e,Mh(e,t,e[j]),r==="class"&&(e.className=n),My(e,r,null),jh(e,r,null,n)},Uv=(e,t)=>{const{[Oe]:n,name:r}=t;Fr(t[xt],t[j]),t.ownerElement=t[xt]=t[j]=null,r==="class"&&(e[co]=null),My(e,r,n),jh(e,r,n,null)},ve={get(e,t){return e.hasAttribute(t)},set(e,t,n){n?e.setAttribute(t,""):e.removeAttribute(t)}},yi={get(e,t){return parseFloat(e.getAttribute(t)||0)},set(e,t,n){e.setAttribute(t,n)}},D={get(e,t){return e.getAttribute(t)||""},set(e,t,n){e.setAttribute(t,n)}},zf=new WeakMap;function F7(e,t){return typeof t=="function"?t.call(e.target,e):t.handleEvent(e),e._stopImmediatePropagationFlag}function B7({currentTarget:e,target:t}){const n=zf.get(e);if(n&&n.has(this.type)){const r=n.get(this.type);e===t?this.eventPhase=this.AT_TARGET:this.eventPhase=this.BUBBLING_PHASE,this.currentTarget=e,this.target=t;for(const[s,i]of r)if(i&&i.once&&r.delete(s),F7(this,s))break;return delete this.currentTarget,delete this.target,this.cancelBubble}}class Py{constructor(){zf.set(this,new Map)}_getParent(){return null}addEventListener(t,n,r){const s=zf.get(this);s.has(t)||s.set(t,new Map),s.get(t).set(n,r)}removeEventListener(t,n){const r=zf.get(this);if(r.has(t)){const s=r.get(t);s.delete(n)&&!s.size&&r.delete(t)}}dispatchEvent(t){let n=this;for(t.eventPhase=t.CAPTURING_PHASE;n;)n.dispatchEvent&&t._path.push({currentTarget:n,target:this}),n=t.bubbles&&n._getParent&&n._getParent();return t._path.some(B7,t),t._path=[],t.eventPhase=t.NONE,!t.defaultPrevented}}class ss extends Array{item(t){return t<this.length?this[t]:null}}const qv=({parentNode:e})=>{let t=0;for(;e;)t++,e=e.parentNode;return t};let Hu=class extends Py{static get ELEMENT_NODE(){return ge}static get ATTRIBUTE_NODE(){return It}static get TEXT_NODE(){return Wt}static get CDATA_SECTION_NODE(){return Js}static get COMMENT_NODE(){return Ws}static get DOCUMENT_NODE(){return hu}static get DOCUMENT_FRAGMENT_NODE(){return Us}static get DOCUMENT_TYPE_NODE(){return zo}constructor(t,n,r){super(),this.ownerDocument=t,this.localName=n,this.nodeType=r,this.parentNode=null,this[j]=null,this[xt]=null}get ELEMENT_NODE(){return ge}get ATTRIBUTE_NODE(){return It}get TEXT_NODE(){return Wt}get CDATA_SECTION_NODE(){return Js}get COMMENT_NODE(){return Ws}get DOCUMENT_NODE(){return hu}get DOCUMENT_FRAGMENT_NODE(){return Us}get DOCUMENT_TYPE_NODE(){return zo}get baseURI(){const t=this.nodeType===hu?this:this.ownerDocument;if(t){const n=t.querySelector("base");if(n)return n.getAttribute("href");const{location:r}=t.defaultView;if(r)return r.href}return null}get isConnected(){return!1}get nodeName(){return this.localName}get parentElement(){return null}get previousSibling(){return null}get previousElementSibling(){return null}get nextSibling(){return null}get nextElementSibling(){return null}get childNodes(){return new ss}get firstChild(){return null}get lastChild(){return null}get nodeValue(){return null}set nodeValue(t){}get textContent(){return null}set textContent(t){}normalize(){}cloneNode(){return null}contains(){return!1}insertBefore(t,n){return t}appendChild(t){return t}replaceChild(t,n){return n}removeChild(t){return t}toString(){return""}hasChildNodes(){return!!this.lastChild}isSameNode(t){return this===t}compareDocumentPosition(t){let n=0;if(this!==t){let r=qv(this),s=qv(t);if(r<s)n+=jv,this.contains(t)&&(n+=S7);else if(s<r)n+=Pv,t.contains(this)&&(n+=x7);else if(r&&s){const{childNodes:i}=this.parentNode;i.indexOf(this)<i.indexOf(t)?n+=jv:n+=Pv}(!r||!s)&&(n+=A7,n+=v7)}return n}isEqualNode(t){if(this===t)return!0;if(this.nodeType===t.nodeType){switch(this.nodeType){case hu:case Us:{const n=this.childNodes,r=t.childNodes;return n.length===r.length&&n.every((s,i)=>s.isEqualNode(r[i]))}}return this.toString()===t.toString()}return!1}_getParent(){return this.parentNode}getRootNode(){let t=this;for(;t.parentNode;)t=t.parentNode;return t}};const{replace:U7}="",q7=/[<>&\xA0]/g,$7={" ":"&#160;","&":"&amp;","<":"&lt;",">":"&gt;"},V7=e=>$7[e],jy=e=>U7.call(e,q7,V7),z7=/"/g;let Nl=class n6 extends Hu{constructor(t,n,r=""){super(t,n,It),this.ownerElement=null,this.name=Eu(n),this[Oe]=Eu(r),this[gd]=!1}get value(){return this[Oe]}set value(t){const{[Oe]:n,name:r,ownerElement:s}=this;this[Oe]=Eu(t),this[gd]=!0,s&&(My(s,r,n),jh(s,r,n,this[Oe]))}cloneNode(){const{ownerDocument:t,name:n,[Oe]:r}=this;return new n6(t,n,r)}toString(){const{name:t,[Oe]:n}=this;if(L7.has(t)&&!n)return ki(this)?t:`${t}=""`;const r=(ki(this)?n:jy(n)).replace(z7,"&quot;");return`${t}="${r}"`}toJSON(){const t=[];return KA(this,t),t}};const r6=({ownerDocument:e,parentNode:t})=>{for(;t;){if(t===e)return!0;t=t.parentNode||t.host}return!1},s6=({parentNode:e})=>{if(e)switch(e.nodeType){case hu:case Us:return null}return e},kc=({[xt]:e})=>{switch(e?e.nodeType:0){case Ri:return e[bn];case Wt:case Ws:case Js:return e}return null},Ou=e=>{const t=Mn(e)[j];return t&&(t.nodeType===Ri?null:t)},Ly=e=>{let t=Ou(e);for(;t&&t.nodeType!==ge;)t=Ou(t);return t},i6=e=>{let t=kc(e);for(;t&&t.nodeType!==ge;)t=kc(t);return t},Fy=(e,t)=>{const n=e.createDocumentFragment();return n.append(...t),n},u6=(e,t)=>{const{ownerDocument:n,parentNode:r}=e;r&&r.insertBefore(Fy(n,t),e)},o6=(e,t)=>{const{ownerDocument:n,parentNode:r}=e;r&&r.insertBefore(Fy(n,t),Mn(e)[j])},By=(e,t)=>{const{ownerDocument:n,parentNode:r}=e;r&&(t.includes(e)&&By(e,[e=e.cloneNode()]),r.insertBefore(Fy(n,t),e),e.remove())},a6=(e,t,n)=>{const{parentNode:r,nodeType:s}=t;(e||n)&&(JA(e,n),t[xt]=null,Mn(t)[j]=null),r&&(t.parentNode=null,hc(t,r),s===ge&&R7(t))};let Rl=class extends Hu{constructor(t,n,r,s){super(t,n,r),this[Oe]=Eu(s)}get isConnected(){return r6(this)}get parentElement(){return s6(this)}get previousSibling(){return kc(this)}get nextSibling(){return Ou(this)}get previousElementSibling(){return i6(this)}get nextElementSibling(){return Ly(this)}before(...t){u6(this,t)}after(...t){o6(this,t)}replaceWith(...t){By(this,t)}remove(){a6(this[xt],this,this[j])}get data(){return this[Oe]}set data(t){this[Oe]=Eu(t),hc(this,this.parentNode)}get nodeValue(){return this.data}set nodeValue(t){this.data=t}get textContent(){return this.data}set textContent(t){this.data=t}get length(){return this.data.length}substringData(t,n){return this.data.substr(t,n)}appendData(t){this.data+=t}insertData(t,n){const{data:r}=this;this.data=r.slice(0,t)+n+r.slice(t)}deleteData(t,n){const{data:r}=this;this.data=r.slice(0,t)+r.slice(t+n)}replaceData(t,n,r){const{data:s}=this;this.data=s.slice(0,t)+r+s.slice(t+n)}toJSON(){const t=[];return YA(this,t),t}},Uy=class c6 extends Rl{constructor(t,n=""){super(t,"#cdatasection",Js,n)}cloneNode(){const{ownerDocument:t,[Oe]:n}=this;return new c6(t,n)}toString(){return`<![CDATA[${this[Oe]}]]>`}},qy=class l6 extends Rl{constructor(t,n=""){super(t,"#comment",Ws,n)}cloneNode(){const{ownerDocument:t,[Oe]:n}=this;return new l6(t,n)}toString(){return`<!--${this[Oe]}-->`}};function H7(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var G7={trueFunc:function(){return!0},falseFunc:function(){return!1}},le=H7(G7),Y;(function(e){e.Attribute="attribute",e.Pseudo="pseudo",e.PseudoElement="pseudo-element",e.Tag="tag",e.Universal="universal",e.Adjacent="adjacent",e.Child="child",e.Descendant="descendant",e.Parent="parent",e.Sibling="sibling",e.ColumnCombinator="column-combinator"})(Y||(Y={}));var ht;(function(e){e.Any="any",e.Element="element",e.End="end",e.Equals="equals",e.Exists="exists",e.Hyphen="hyphen",e.Not="not",e.Start="start"})(ht||(ht={}));const $v=/^[^\\#]?(?:\\(?:[\da-f]{1,6}\s?|.)|[\w\-\u00b0-\uFFFF])+/,J7=/\\([\da-f]{1,6}\s?|(\s)|.)/gi,W7=new Map([[126,ht.Element],[94,ht.Start],[36,ht.End],[42,ht.Any],[33,ht.Not],[124,ht.Hyphen]]),Q7=new Set(["has","not","matches","is","where","host","host-context"]);function X7(e){switch(e.type){case Y.Adjacent:case Y.Child:case Y.Descendant:case Y.Parent:case Y.Sibling:case Y.ColumnCombinator:return!0;default:return!1}}const K7=new Set(["contains","icontains"]);function Y7(e,t,n){const r=parseInt(t,16)-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,r&1023|56320)}function Ba(e){return e.replace(J7,Y7)}function U0(e){return e===39||e===34}function Vv(e){return e===32||e===9||e===10||e===12||e===13}function f6(e){const t=[],n=d6(t,`${e}`,0);if(n<e.length)throw new Error(`Unmatched selector: ${e.slice(n)}`);return t}function d6(e,t,n){let r=[];function s(h){const f=t.slice(n+h).match($v);if(!f)throw new Error(`Expected name, found ${t.slice(n)}`);const[p]=f;return n+=h+p.length,Ba(p)}function i(h){for(n+=h;n<t.length&&Vv(t.charCodeAt(n));)n++}function u(){n+=1;const h=n;let f=1;for(;f>0&&n<t.length;n++)t.charCodeAt(n)===40&&!o(n)?f++:t.charCodeAt(n)===41&&!o(n)&&f--;if(f)throw new Error("Parenthesis not matched");return Ba(t.slice(h,n-1))}function o(h){let f=0;for(;t.charCodeAt(--h)===92;)f++;return(f&1)===1}function a(){if(r.length>0&&X7(r[r.length-1]))throw new Error("Did not expect successive traversals.")}function c(h){if(r.length>0&&r[r.length-1].type===Y.Descendant){r[r.length-1].type=h;return}a(),r.push({type:h})}function l(h,f){r.push({type:Y.Attribute,name:h,action:f,value:s(1),namespace:null,ignoreCase:"quirks"})}function d(){if(r.length&&r[r.length-1].type===Y.Descendant&&r.pop(),r.length===0)throw new Error("Empty sub-selector");e.push(r)}if(i(0),t.length===n)return n;e:for(;n<t.length;){const h=t.charCodeAt(n);switch(h){case 32:case 9:case 10:case 12:case 13:{(r.length===0||r[0].type!==Y.Descendant)&&(a(),r.push({type:Y.Descendant})),i(1);break}case 62:{c(Y.Child),i(1);break}case 60:{c(Y.Parent),i(1);break}case 126:{c(Y.Sibling),i(1);break}case 43:{c(Y.Adjacent),i(1);break}case 46:{l("class",ht.Element);break}case 35:{l("id",ht.Equals);break}case 91:{i(1);let f,p=null;t.charCodeAt(n)===124?f=s(1):t.startsWith("*|",n)?(p="*",f=s(2)):(f=s(0),t.charCodeAt(n)===124&&t.charCodeAt(n+1)!==61&&(p=f,f=s(1))),i(0);let m=ht.Exists;const b=W7.get(t.charCodeAt(n));if(b){if(m=b,t.charCodeAt(n+1)!==61)throw new Error("Expected `=`");i(2)}else t.charCodeAt(n)===61&&(m=ht.Equals,i(1));let y="",w=null;if(m!=="exists"){if(U0(t.charCodeAt(n))){const _=t.charCodeAt(n);let T=n+1;for(;T<t.length&&(t.charCodeAt(T)!==_||o(T));)T+=1;if(t.charCodeAt(T)!==_)throw new Error("Attribute value didn't end");y=Ba(t.slice(n+1,T)),n=T+1}else{const _=n;for(;n<t.length&&(!Vv(t.charCodeAt(n))&&t.charCodeAt(n)!==93||o(n));)n+=1;y=Ba(t.slice(_,n))}i(0);const v=t.charCodeAt(n)|32;v===115?(w=!1,i(1)):v===105&&(w=!0,i(1))}if(t.charCodeAt(n)!==93)throw new Error("Attribute selector didn't terminate");n+=1;const x={type:Y.Attribute,name:f,action:m,value:y,namespace:p,ignoreCase:w};r.push(x);break}case 58:{if(t.charCodeAt(n+1)===58){r.push({type:Y.PseudoElement,name:s(2).toLowerCase(),data:t.charCodeAt(n)===40?u():null});continue}const f=s(1).toLowerCase();let p=null;if(t.charCodeAt(n)===40)if(Q7.has(f)){if(U0(t.charCodeAt(n+1)))throw new Error(`Pseudo-selector ${f} cannot be quoted`);if(p=[],n=d6(p,t,n+1),t.charCodeAt(n)!==41)throw new Error(`Missing closing parenthesis in :${f} (${t})`);n+=1}else{if(p=u(),K7.has(f)){const m=p.charCodeAt(0);m===p.charCodeAt(p.length-1)&&U0(m)&&(p=p.slice(1,-1))}p=Ba(p)}r.push({type:Y.Pseudo,name:f,data:p});break}case 44:{d(),r=[],i(1);break}default:{if(t.startsWith("/*",n)){const m=t.indexOf("*/",n+2);if(m<0)throw new Error("Comment was not terminated");n=m+2,r.length===0&&i(0);break}let f=null,p;if(h===42)n+=1,p="*";else if(h===124){if(p="",t.charCodeAt(n+1)===124){c(Y.ColumnCombinator),i(2);break}}else if($v.test(t.slice(n)))p=s(0);else break e;t.charCodeAt(n)===124&&t.charCodeAt(n+1)!==124&&(f=p,t.charCodeAt(n+1)===42?(p="*",n+=2):p=s(1)),r.push(p==="*"?{type:Y.Universal,namespace:f}:{type:Y.Tag,name:p,namespace:f})}}}return d(),n}const h6=new Map([[Y.Universal,50],[Y.Tag,30],[Y.Attribute,1],[Y.Pseudo,0]]);function $y(e){return!h6.has(e.type)}const Z7=new Map([[ht.Exists,10],[ht.Equals,8],[ht.Not,7],[ht.Start,6],[ht.End,6],[ht.Any,5]]);function eP(e){const t=e.map(p6);for(let n=1;n<e.length;n++){const r=t[n];if(!(r<0))for(let s=n-1;s>=0&&r<t[s];s--){const i=e[s+1];e[s+1]=e[s],e[s]=i,t[s+1]=t[s],t[s]=r}}}function p6(e){var t,n;let r=(t=h6.get(e.type))!==null&&t!==void 0?t:-1;return e.type===Y.Attribute?(r=(n=Z7.get(e.action))!==null&&n!==void 0?n:4,e.action===ht.Equals&&e.name==="id"&&(r=9),e.ignoreCase&&(r>>=1)):e.type===Y.Pseudo&&(e.data?e.name==="has"||e.name==="contains"?r=0:Array.isArray(e.data)?(r=Math.min(...e.data.map(s=>Math.min(...s.map(p6)))),r<0&&(r=0)):r=2:r=3),r}const tP=/[-[\]{}()*+?.,\\^$|#\s]/g;function zv(e){return e.replace(tP,"\\$&")}const nP=new Set(["accept","accept-charset","align","alink","axis","bgcolor","charset","checked","clear","codetype","color","compact","declare","defer","dir","direction","disabled","enctype","face","frame","hreflang","http-equiv","lang","language","link","media","method","multiple","nohref","noresize","noshade","nowrap","readonly","rel","rev","rules","scope","scrolling","selected","shape","target","text","type","valign","valuetype","vlink"]);function su(e,t){return typeof e.ignoreCase=="boolean"?e.ignoreCase:e.ignoreCase==="quirks"?!!t.quirksMode:!t.xmlMode&&nP.has(e.name)}const rP={equals(e,t,n){const{adapter:r}=n,{name:s}=t;let{value:i}=t;return su(t,n)?(i=i.toLowerCase(),u=>{const o=r.getAttributeValue(u,s);return o!=null&&o.length===i.length&&o.toLowerCase()===i&&e(u)}):u=>r.getAttributeValue(u,s)===i&&e(u)},hyphen(e,t,n){const{adapter:r}=n,{name:s}=t;let{value:i}=t;const u=i.length;return su(t,n)?(i=i.toLowerCase(),function(a){const c=r.getAttributeValue(a,s);return c!=null&&(c.length===u||c.charAt(u)==="-")&&c.substr(0,u).toLowerCase()===i&&e(a)}):function(a){const c=r.getAttributeValue(a,s);return c!=null&&(c.length===u||c.charAt(u)==="-")&&c.substr(0,u)===i&&e(a)}},element(e,t,n){const{adapter:r}=n,{name:s,value:i}=t;if(/\s/.test(i))return le.falseFunc;const u=new RegExp(`(?:^|\\s)${zv(i)}(?:$|\\s)`,su(t,n)?"i":"");return function(a){const c=r.getAttributeValue(a,s);return c!=null&&c.length>=i.length&&u.test(c)&&e(a)}},exists(e,{name:t},{adapter:n}){return r=>n.hasAttrib(r,t)&&e(r)},start(e,t,n){const{adapter:r}=n,{name:s}=t;let{value:i}=t;const u=i.length;return u===0?le.falseFunc:su(t,n)?(i=i.toLowerCase(),o=>{const a=r.getAttributeValue(o,s);return a!=null&&a.length>=u&&a.substr(0,u).toLowerCase()===i&&e(o)}):o=>{var a;return!!(!((a=r.getAttributeValue(o,s))===null||a===void 0)&&a.startsWith(i))&&e(o)}},end(e,t,n){const{adapter:r}=n,{name:s}=t;let{value:i}=t;const u=-i.length;return u===0?le.falseFunc:su(t,n)?(i=i.toLowerCase(),o=>{var a;return((a=r.getAttributeValue(o,s))===null||a===void 0?void 0:a.substr(u).toLowerCase())===i&&e(o)}):o=>{var a;return!!(!((a=r.getAttributeValue(o,s))===null||a===void 0)&&a.endsWith(i))&&e(o)}},any(e,t,n){const{adapter:r}=n,{name:s,value:i}=t;if(i==="")return le.falseFunc;if(su(t,n)){const u=new RegExp(zv(i),"i");return function(a){const c=r.getAttributeValue(a,s);return c!=null&&c.length>=i.length&&u.test(c)&&e(a)}}return u=>{var o;return!!(!((o=r.getAttributeValue(u,s))===null||o===void 0)&&o.includes(i))&&e(u)}},not(e,t,n){const{adapter:r}=n,{name:s}=t;let{value:i}=t;return i===""?u=>!!r.getAttributeValue(u,s)&&e(u):su(t,n)?(i=i.toLowerCase(),u=>{const o=r.getAttributeValue(u,s);return(o==null||o.length!==i.length||o.toLowerCase()!==i)&&e(u)}):u=>r.getAttributeValue(u,s)!==i&&e(u)}},sP=new Set([9,10,12,13,32]),Hv=48,iP=57;function uP(e){if(e=e.trim().toLowerCase(),e==="even")return[2,0];if(e==="odd")return[2,1];let t=0,n=0,r=i(),s=u();if(t<e.length&&e.charAt(t)==="n"&&(t++,n=r*(s??1),o(),t<e.length?(r=i(),o(),s=u()):r=s=0),s===null||t<e.length)throw new Error(`n-th rule couldn't be parsed ('${e}')`);return[n,r*s];function i(){return e.charAt(t)==="-"?(t++,-1):(e.charAt(t)==="+"&&t++,1)}function u(){const a=t;let c=0;for(;t<e.length&&e.charCodeAt(t)>=Hv&&e.charCodeAt(t)<=iP;)c=c*10+(e.charCodeAt(t)-Hv),t++;return t===a?null:c}function o(){for(;t<e.length&&sP.has(e.charCodeAt(t));)t++}}function oP(e){const t=e[0],n=e[1]-1;if(n<0&&t<=0)return le.falseFunc;if(t===-1)return i=>i<=n;if(t===0)return i=>i===n;if(t===1)return n<0?le.trueFunc:i=>i>=n;const r=Math.abs(t),s=(n%r+r)%r;return t>1?i=>i>=n&&i%r===s:i=>i<=n&&i%r===s}function hf(e){return oP(uP(e))}function pf(e,t){return n=>{const r=t.getParent(n);return r!=null&&t.isTag(r)&&e(n)}}const cm={contains(e,t,{adapter:n}){return function(s){return e(s)&&n.getText(s).includes(t)}},icontains(e,t,{adapter:n}){const r=t.toLowerCase();return function(i){return e(i)&&n.getText(i).toLowerCase().includes(r)}},"nth-child"(e,t,{adapter:n,equals:r}){const s=hf(t);return s===le.falseFunc?le.falseFunc:s===le.trueFunc?pf(e,n):function(u){const o=n.getSiblings(u);let a=0;for(let c=0;c<o.length&&!r(u,o[c]);c++)n.isTag(o[c])&&a++;return s(a)&&e(u)}},"nth-last-child"(e,t,{adapter:n,equals:r}){const s=hf(t);return s===le.falseFunc?le.falseFunc:s===le.trueFunc?pf(e,n):function(u){const o=n.getSiblings(u);let a=0;for(let c=o.length-1;c>=0&&!r(u,o[c]);c--)n.isTag(o[c])&&a++;return s(a)&&e(u)}},"nth-of-type"(e,t,{adapter:n,equals:r}){const s=hf(t);return s===le.falseFunc?le.falseFunc:s===le.trueFunc?pf(e,n):function(u){const o=n.getSiblings(u);let a=0;for(let c=0;c<o.length;c++){const l=o[c];if(r(u,l))break;n.isTag(l)&&n.getName(l)===n.getName(u)&&a++}return s(a)&&e(u)}},"nth-last-of-type"(e,t,{adapter:n,equals:r}){const s=hf(t);return s===le.falseFunc?le.falseFunc:s===le.trueFunc?pf(e,n):function(u){const o=n.getSiblings(u);let a=0;for(let c=o.length-1;c>=0;c--){const l=o[c];if(r(u,l))break;n.isTag(l)&&n.getName(l)===n.getName(u)&&a++}return s(a)&&e(u)}},root(e,t,{adapter:n}){return r=>{const s=n.getParent(r);return(s==null||!n.isTag(s))&&e(r)}},scope(e,t,n,r){const{equals:s}=n;return!r||r.length===0?cm.root(e,t,n):r.length===1?i=>s(r[0],i)&&e(i):i=>r.includes(i)&&e(i)},hover:q0("isHovered"),visited:q0("isVisited"),active:q0("isActive")};function q0(e){return function(n,r,{adapter:s}){const i=s[e];return typeof i!="function"?le.falseFunc:function(o){return i(o)&&n(o)}}}const Gv={empty(e,{adapter:t}){return!t.getChildren(e).some(n=>t.isTag(n)||t.getText(n)!=="")},"first-child"(e,{adapter:t,equals:n}){if(t.prevElementSibling)return t.prevElementSibling(e)==null;const r=t.getSiblings(e).find(s=>t.isTag(s));return r!=null&&n(e,r)},"last-child"(e,{adapter:t,equals:n}){const r=t.getSiblings(e);for(let s=r.length-1;s>=0;s--){if(n(e,r[s]))return!0;if(t.isTag(r[s]))break}return!1},"first-of-type"(e,{adapter:t,equals:n}){const r=t.getSiblings(e),s=t.getName(e);for(let i=0;i<r.length;i++){const u=r[i];if(n(e,u))return!0;if(t.isTag(u)&&t.getName(u)===s)break}return!1},"last-of-type"(e,{adapter:t,equals:n}){const r=t.getSiblings(e),s=t.getName(e);for(let i=r.length-1;i>=0;i--){const u=r[i];if(n(e,u))return!0;if(t.isTag(u)&&t.getName(u)===s)break}return!1},"only-of-type"(e,{adapter:t,equals:n}){const r=t.getName(e);return t.getSiblings(e).every(s=>n(e,s)||!t.isTag(s)||t.getName(s)!==r)},"only-child"(e,{adapter:t,equals:n}){return t.getSiblings(e).every(r=>n(e,r)||!t.isTag(r))}};function Jv(e,t,n,r){if(n===null){if(e.length>r)throw new Error(`Pseudo-class :${t} requires an argument`)}else if(e.length===r)throw new Error(`Pseudo-class :${t} doesn't have any arguments`)}const aP={"any-link":":is(a, area, link)[href]",link:":any-link:not(:visited)",disabled:`:is(
        :is(button, input, select, textarea, optgroup, option)[disabled],
        optgroup[disabled] > option,
        fieldset[disabled]:not(fieldset[disabled] legend:first-of-type *)
    )`,enabled:":not(:disabled)",checked:":is(:is(input[type=radio], input[type=checkbox])[checked], option:selected)",required:":is(input, select, textarea)[required]",optional:":is(input, select, textarea):not([required])",selected:"option:is([selected], select:not([multiple]):not(:has(> option[selected])) > :first-of-type)",checkbox:"[type=checkbox]",file:"[type=file]",password:"[type=password]",radio:"[type=radio]",reset:"[type=reset]",image:"[type=image]",submit:"[type=submit]",parent:":not(:empty)",header:":is(h1, h2, h3, h4, h5, h6)",button:":is(button, input[type=button])",input:":is(input, textarea, select, button)",text:"input:is(:not([type!='']), [type=text])"},g6={};function m6(e,t){return e===le.falseFunc?le.falseFunc:n=>t.isTag(n)&&e(n)}function cP(e,t){const n=t.getSiblings(e);if(n.length<=1)return[];const r=n.indexOf(e);return r<0||r===n.length-1?[]:n.slice(r+1).filter(t.isTag)}function lm(e){return{xmlMode:!!e.xmlMode,lowerCaseAttributeNames:!!e.lowerCaseAttributeNames,lowerCaseTags:!!e.lowerCaseTags,quirksMode:!!e.quirksMode,cacheResults:!!e.cacheResults,pseudos:e.pseudos,adapter:e.adapter,equals:e.equals}}const $0=(e,t,n,r,s)=>{const i=s(t,lm(n),r);return i===le.trueFunc?e:i===le.falseFunc?le.falseFunc:u=>i(u)&&e(u)},V0={is:$0,matches:$0,where:$0,not(e,t,n,r,s){const i=s(t,lm(n),r);return i===le.falseFunc?e:i===le.trueFunc?le.falseFunc:u=>!i(u)&&e(u)},has(e,t,n,r,s){const{adapter:i}=n,u=lm(n);u.relativeSelector=!0;const o=t.some(l=>l.some($y))?[g6]:void 0,a=s(t,u,o);if(a===le.falseFunc)return le.falseFunc;const c=m6(a,i);if(o&&a!==le.trueFunc){const{shouldTestNextSiblings:l=!1}=a;return d=>{if(!e(d))return!1;o[0]=d;const h=i.getChildren(d),f=l?[...h,...cP(d,i)]:h;return i.existsOne(c,f)}}return l=>e(l)&&i.existsOne(c,i.getChildren(l))}};function lP(e,t,n,r,s){var i;const{name:u,data:o}=t;if(Array.isArray(o)){if(!(u in V0))throw new Error(`Unknown pseudo-class :${u}(${o})`);return V0[u](e,o,n,r,s)}const a=(i=n.pseudos)===null||i===void 0?void 0:i[u],c=typeof a=="string"?a:aP[u];if(typeof c=="string"){if(o!=null)throw new Error(`Pseudo ${u} doesn't have any arguments`);const l=f6(c);return V0.is(e,l,n,r,s)}if(typeof a=="function")return Jv(a,u,o,1),l=>a(l,o)&&e(l);if(u in cm)return cm[u](e,o,n,r);if(u in Gv){const l=Gv[u];return Jv(l,u,o,2),d=>l(d,n,o)&&e(d)}throw new Error(`Unknown pseudo-class :${u}`)}function z0(e,t){const n=t.getParent(e);return n&&t.isTag(n)?n:null}function fP(e,t,n,r,s){const{adapter:i,equals:u}=n;switch(t.type){case Y.PseudoElement:throw new Error("Pseudo-elements are not supported by css-select");case Y.ColumnCombinator:throw new Error("Column combinators are not yet supported by css-select");case Y.Attribute:{if(t.namespace!=null)throw new Error("Namespaced attributes are not yet supported by css-select");return(!n.xmlMode||n.lowerCaseAttributeNames)&&(t.name=t.name.toLowerCase()),rP[t.action](e,t,n)}case Y.Pseudo:return lP(e,t,n,r,s);case Y.Tag:{if(t.namespace!=null)throw new Error("Namespaced tag names are not yet supported by css-select");let{name:o}=t;return(!n.xmlMode||n.lowerCaseTags)&&(o=o.toLowerCase()),function(c){return i.getName(c)===o&&e(c)}}case Y.Descendant:{if(n.cacheResults===!1||typeof WeakSet>"u")return function(c){let l=c;for(;l=z0(l,i);)if(e(l))return!0;return!1};const o=new WeakSet;return function(c){let l=c;for(;l=z0(l,i);)if(!o.has(l)){if(i.isTag(l)&&e(l))return!0;o.add(l)}return!1}}case"_flexibleDescendant":return function(a){let c=a;do if(e(c))return!0;while(c=z0(c,i));return!1};case Y.Parent:return function(a){return i.getChildren(a).some(c=>i.isTag(c)&&e(c))};case Y.Child:return function(a){const c=i.getParent(a);return c!=null&&i.isTag(c)&&e(c)};case Y.Sibling:return function(a){const c=i.getSiblings(a);for(let l=0;l<c.length;l++){const d=c[l];if(u(a,d))break;if(i.isTag(d)&&e(d))return!0}return!1};case Y.Adjacent:return i.prevElementSibling?function(a){const c=i.prevElementSibling(a);return c!=null&&e(c)}:function(a){const c=i.getSiblings(a);let l;for(let d=0;d<c.length;d++){const h=c[d];if(u(a,h))break;i.isTag(h)&&(l=h)}return!!l&&e(l)};case Y.Universal:{if(t.namespace!=null&&t.namespace!=="*")throw new Error("Namespaced universal selectors are not yet supported by css-select");return e}}}function b6(e,t,n){const r=dP(e,t,n);return m6(r,t.adapter)}function dP(e,t,n){const r=typeof e=="string"?f6(e):e;return w6(r,t,n)}function y6(e){return e.type===Y.Pseudo&&(e.name==="scope"||Array.isArray(e.data)&&e.data.some(t=>t.some(y6)))}const hP={type:Y.Descendant},pP={type:"_flexibleDescendant"},gP={type:Y.Pseudo,name:"scope",data:null};function mP(e,{adapter:t},n){const r=!!(n!=null&&n.every(s=>{const i=t.isTag(s)&&t.getParent(s);return s===g6||i&&t.isTag(i)}));for(const s of e){if(!(s.length>0&&$y(s[0])&&s[0].type!==Y.Descendant))if(r&&!s.some(y6))s.unshift(hP);else continue;s.unshift(gP)}}function w6(e,t,n){var r;e.forEach(eP),n=(r=t.context)!==null&&r!==void 0?r:n;const s=Array.isArray(n),i=n&&(Array.isArray(n)?n:[n]);if(t.relativeSelector!==!1)mP(e,t,i);else if(e.some(a=>a.length>0&&$y(a[0])))throw new Error("Relative selectors are not allowed when the `relativeSelector` option is disabled");let u=!1;const o=e.map(a=>{if(a.length>=2){const[c,l]=a;c.type!==Y.Pseudo||c.name!=="scope"||(s&&l.type===Y.Descendant?a[1]=pP:(l.type===Y.Adjacent||l.type===Y.Sibling)&&(u=!0))}return bP(a,t,i)}).reduce(yP,le.falseFunc);return o.shouldTestNextSiblings=u,o}function bP(e,t,n){var r;return e.reduce((s,i)=>s===le.falseFunc?le.falseFunc:fP(s,i,t,n,w6),(r=t.rootFunc)!==null&&r!==void 0?r:le.trueFunc)}function yP(e,t){return t===le.falseFunc||e===le.trueFunc?e:e===le.falseFunc||t===le.trueFunc?t:function(r){return e(r)||t(r)}}const v6=(e,t)=>e===t,wP={adapter:Dy,equals:v6};function x6(e){var t,n,r,s;const i=e??wP;return(t=i.adapter)!==null&&t!==void 0||(i.adapter=Dy),(n=i.equals)!==null&&n!==void 0||(i.equals=(s=(r=i.adapter)===null||r===void 0?void 0:r.equals)!==null&&s!==void 0?s:v6),i}function vP(e){return function(n,r,s){const i=x6(r);return e(n,i,s)}}const xP=vP(b6);function SP(e,t,n){const r=x6(n);return(typeof t=="function"?t:b6(t,r))(e)}const{isArray:AP}=Array,Lh=({nodeType:e})=>e===ge,S6=(e,t)=>t.some(n=>Lh(n)&&(e(n)||S6(e,ma(n)))),_P=(e,t)=>t==="class"?e.classList.value:e.getAttribute(t),ma=({childNodes:e})=>e,TP=e=>{const{localName:t}=e;return ki(e)?t.toLowerCase():t},EP=({parentNode:e})=>e,OP=e=>{const{parentNode:t}=e;return t?ma(t):e},fm=e=>AP(e)?e.map(fm).join(""):Lh(e)?fm(ma(e)):e.nodeType===Wt?e.data:"",IP=(e,t)=>e.hasAttribute(t),NP=e=>{let{length:t}=e;for(;t--;){const n=e[t];if(t&&-1<e.lastIndexOf(n,t-1)){e.splice(t,1);continue}for(let{parentNode:r}=n;r;r=r.parentNode)if(e.includes(r)){e.splice(t,1);break}}return e},A6=(e,t)=>{const n=[];for(const r of t)Lh(r)&&(e(r)&&n.push(r),n.push(...A6(e,ma(r))));return n},_6=(e,t)=>{for(let n of t)if(e(n)||(n=_6(e,ma(n))))return n;return null},T6={isTag:Lh,existsOne:S6,getAttributeValue:_P,getChildren:ma,getName:TP,getParent:EP,getSiblings:OP,getText:fm,hasAttrib:IP,removeSubsets:NP,findAll:A6,findOne:_6},dm=(e,t)=>xP(t,{context:t.includes(":scope")?e:void 0,xmlMode:!ki(e),adapter:T6}),RP=(e,t)=>SP(e,t,{strict:!0,context:t.includes(":scope")?e:void 0,xmlMode:!ki(e),adapter:T6});let kl=class E6 extends Rl{constructor(t,n=""){super(t,"#text",Wt,n)}get wholeText(){const t=[];let{previousSibling:n,nextSibling:r}=this;for(;n&&n.nodeType===Wt;){t.unshift(n[Oe]);n=n.previousSibling}for(t.push(this[Oe]);r&&r.nodeType===Wt;){t.push(r[Oe]);r=r.nextSibling}return t.join("")}cloneNode(){const{ownerDocument:t,[Oe]:n}=this;return new E6(t,n)}toString(){return jy(this[Oe])}};const kP=e=>e instanceof Hu,H0=(e,t,n)=>{const{ownerDocument:r}=e;for(const s of n)e.insertBefore(kP(s)?s:new kl(r,s),t)};class O6 extends Hu{constructor(t,n,r){super(t,n,r),this[Vt]=null,this[j]=this[X]={[j]:null,[xt]:this,[bn]:this,nodeType:Ri,ownerDocument:this.ownerDocument,parentNode:null}}get childNodes(){const t=new ss;let{firstChild:n}=this;for(;n;)t.push(n),n=Ou(n);return t}get children(){const t=new ss;let{firstElementChild:n}=this;for(;n;)t.push(n),n=Ly(n);return t}get firstChild(){let{[j]:t,[X]:n}=this;for(;t.nodeType===It;)t=t[j];return t===n?null:t}get firstElementChild(){let{firstChild:t}=this;for(;t;){if(t.nodeType===ge)return t;t=Ou(t)}return null}get lastChild(){const t=this[X][xt];switch(t.nodeType){case Ri:return t[bn];case It:return null}return t===this?null:t}get lastElementChild(){let{lastChild:t}=this;for(;t;){if(t.nodeType===ge)return t;t=kc(t)}return null}get childElementCount(){return this.children.length}prepend(...t){H0(this,this.firstChild,t)}append(...t){H0(this,this[X],t)}replaceChildren(...t){let{[j]:n,[X]:r}=this;for(;n!==r&&n.nodeType===It;)n=n[j];for(;n!==r;){const s=Mn(n)[j];n.remove(),n=s}t.length&&H0(this,r,t)}getElementsByClassName(t){const n=new ss;let{[j]:r,[X]:s}=this;for(;r!==s;)r.nodeType===ge&&r.hasAttribute("class")&&r.classList.has(t)&&n.push(r),r=r[j];return n}getElementsByTagName(t){const n=new ss;let{[j]:r,[X]:s}=this;for(;r!==s;)r.nodeType===ge&&(r.localName===t||um(r)===t)&&n.push(r),r=r[j];return n}querySelector(t){const n=dm(this,t);let{[j]:r,[X]:s}=this;for(;r!==s;){if(r.nodeType===ge&&n(r))return r;r=r.nodeType===ge&&r.localName==="template"?r[X]:r[j]}return null}querySelectorAll(t){const n=dm(this,t),r=new ss;let{[j]:s,[X]:i}=this;for(;s!==i;)s.nodeType===ge&&n(s)&&r.push(s),s=s.nodeType===ge&&s.localName==="template"?s[X]:s[j];return r}appendChild(t){return this.insertBefore(t,this[X])}contains(t){let n=t;for(;n&&n!==this;)n=n.parentNode;return n===this}insertBefore(t,n=null){if(t===n)return t;if(t===this)throw new Error("unable to append a node to itself");const r=n||this[X];switch(t.nodeType){case ge:t.remove(),t.parentNode=this,GA(r[xt],t,r),hc(t,null),om(t);break;case Us:{let{[Vt]:s,firstChild:i,lastChild:u}=t;if(i){N7(r[xt],i,u,r),Fr(t,t[X]),s&&s.replaceChildren();do i.parentNode=this,hc(i,null),i.nodeType===ge&&om(i);while(i!==u&&(i=Ou(i)))}break}case Wt:case Ws:case Js:t.remove();default:t.parentNode=this,Mh(r[xt],t,r),hc(t,null);break}return t}normalize(){let{[j]:t,[X]:n}=this;for(;t!==n;){const{[j]:r,[xt]:s,nodeType:i}=t;i===Wt&&(t[Oe]?s&&s.nodeType===Wt&&(s.textContent+=t.textContent,t.remove()):t.remove()),t=r}}removeChild(t){if(t.parentNode!==this)throw new Error("node is not a child");return t.remove(),t}replaceChild(t,n){const r=Mn(n)[j];return n.remove(),this.insertBefore(t,r),n}}class Vy extends O6{getElementById(t){let{[j]:n,[X]:r}=this;for(;n!==r;){if(n.nodeType===ge&&n.id===t)return n;n=n[j]}return null}cloneNode(t){const{ownerDocument:n,constructor:r}=this,s=new r(n);if(t){const{[X]:i}=s;for(const u of this.childNodes)s.insertBefore(u.cloneNode(t),i)}return s}toString(){const{childNodes:t,localName:n}=this;return`<${n}>${t.join("")}</${n}>`}toJSON(){const t=[];return P7(this,t),t}}let zy=class extends Vy{constructor(t){super(t,"#document-fragment",Us)}},xd=class I6 extends Hu{constructor(t,n,r="",s=""){super(t,"#document-type",zo),this.name=n,this.publicId=r,this.systemId=s}cloneNode(){const{ownerDocument:t,name:n,publicId:r,systemId:s}=this;return new I6(t,n,r,s)}toString(){const{name:t,publicId:n,systemId:r}=this,s=0<n.length,i=[t];return s&&i.push("PUBLIC",`"${n}"`),r.length&&(s||i.push("SYSTEM"),i.push(`"${r}"`)),`<!DOCTYPE ${i.join(" ")}>`}toJSON(){const t=[];return ZA(this,t),t}};const N6=e=>e.childNodes.join(""),R6=(e,t)=>{const{ownerDocument:n}=e,{constructor:r}=n,s=new r;s[Or]=n[Or];const{childNodes:i}=QA(s,ki(e),t);e.replaceChildren(...i.map(k6,n))};function k6(e){switch(e.ownerDocument=this,e.nodeType){case ge:case Us:e.childNodes.forEach(k6,this);break}return e}var Hf=e=>e.replace(/(([A-Z0-9])([A-Z0-9][a-z]))|(([a-z0-9]+)([A-Z]))/g,"$2$5-$3$6").toLowerCase();const Gf=new WeakMap,G0=e=>`data-${Hf(e)}`,CP=e=>e.slice(5).replace(/-([a-z])/g,(t,n)=>n.toUpperCase()),DP={get(e,t){if(t in e)return Gf.get(e).getAttribute(G0(t))},set(e,t,n){return e[t]=n,Gf.get(e).setAttribute(G0(t),n),!0},deleteProperty(e,t){return t in e&&Gf.get(e).removeAttribute(G0(t)),delete e[t]}};class C6{constructor(t){for(const{name:n,value:r}of t.attributes)/^data-/.test(n)&&(this[CP(n)]=r);return Gf.set(this,t),new Proxy(this,DP)}}hn(C6.prototype,null);const{add:MP}=Set.prototype,Wv=(e,t)=>{for(const n of t)n&&MP.call(e,n)},Ua=({[lA]:e,value:t})=>{const n=e.getAttributeNode("class");n?n.value=t:am(e,new Nl(e.ownerDocument,"class",t))};class PP extends Set{constructor(t){super(),this[lA]=t;const n=t.getAttributeNode("class");n&&Wv(this,n.value.split(/\s+/))}get length(){return this.size}get value(){return[...this].join(" ")}add(...t){Wv(this,t),Ua(this)}contains(t){return this.has(t)}remove(...t){for(const n of t)this.delete(n);Ua(this)}toggle(t,n){if(this.has(t)){if(n)return!0;this.delete(t),Ua(this)}else if(n||arguments.length===1)return super.add(t),Ua(this),!0;return!1}replace(t,n){return this.has(t)?(this.delete(t),super.add(n),Ua(this),!0):!1}supports(){return!0}}const Sd=new WeakMap,hm=e=>[...e.keys()].filter(t=>t!==Vt),Ad=e=>{const t=Sd.get(e).getAttributeNode("style");if((!t||t[gd]||e.get(Vt)!==t)&&(e.clear(),t)){e.set(Vt,t);for(const n of t[Oe].split(/\s*;\s*/)){let[r,...s]=n.split(":");if(s.length>0){r=r.trim();const i=s.join(":").trim();r&&i&&e.set(r,i)}}}return t},gf={get(e,t){return t in jP?e[t]:(Ad(e),t==="length"?hm(e).length:/^\d+$/.test(t)?hm(e)[t]:e.get(Hf(t)))},set(e,t,n){if(t==="cssText")e[t]=n;else{let r=Ad(e);if(n==null?e.delete(Hf(t)):e.set(Hf(t),n),!r){const s=Sd.get(e);r=s.ownerDocument.createAttribute("style"),s.setAttributeNode(r),e.set(Vt,r)}r[gd]=!1,r[Oe]=e.toString()}return!0}};let D6=class extends Map{constructor(t){return super(),Sd.set(this,t),new Proxy(this,gf)}get cssText(){return this.toString()}set cssText(t){Sd.get(this).setAttribute("style",t)}getPropertyValue(t){const n=this[Vt];return gf.get(n,t)}setProperty(t,n){const r=this[Vt];gf.set(r,t,n)}removeProperty(t){const n=this[Vt];gf.set(n,t,null)}[Symbol.iterator](){const t=this[Vt];Ad(t);const n=hm(t),{length:r}=n;let s=0;return{next(){const i=s===r;return{done:i,value:i?null:n[s++]}}}}get[Vt](){return this}toString(){const t=this[Vt];Ad(t);const n=[];return t.forEach(LP,n),n.join(";")}};const{prototype:jP}=D6;function LP(e,t){t!==Vt&&this.push(`${t}:${e}`)}const Qv=3,Xv=2,Kv=1,Yv=0;function FP(e){return e.currentTarget}class Pu{static get BUBBLING_PHASE(){return Qv}static get AT_TARGET(){return Xv}static get CAPTURING_PHASE(){return Kv}static get NONE(){return Yv}constructor(t,n={}){this.type=t,this.bubbles=!!n.bubbles,this.cancelBubble=!1,this._stopImmediatePropagationFlag=!1,this.cancelable=!!n.cancelable,this.eventPhase=this.NONE,this.timeStamp=Date.now(),this.defaultPrevented=!1,this.originalTarget=null,this.returnValue=null,this.srcElement=null,this.target=null,this._path=[]}get BUBBLING_PHASE(){return Qv}get AT_TARGET(){return Xv}get CAPTURING_PHASE(){return Kv}get NONE(){return Yv}preventDefault(){this.defaultPrevented=!0}composedPath(){return this._path.map(FP)}stopPropagation(){this.cancelBubble=!0}stopImmediatePropagation(){this.stopPropagation(),this._stopImmediatePropagationFlag=!0}}class M6 extends Array{constructor(t){super(),this.ownerElement=t}getNamedItem(t){return this.ownerElement.getAttributeNode(t)}setNamedItem(t){this.ownerElement.setAttributeNode(t),this.unshift(t)}removeNamedItem(t){const n=this.getNamedItem(t);this.ownerElement.removeAttribute(t),this.splice(this.indexOf(n),1)}item(t){return t<this.length?this[t]:null}getNamedItemNS(t,n){return this.getNamedItem(n)}setNamedItemNS(t,n){return this.setNamedItem(n)}removeNamedItemNS(t,n){return this.removeNamedItem(n)}}let Hy=class extends Vy{constructor(t){super(t.ownerDocument,"#shadow-root",Us),this.host=t}get innerHTML(){return N6(this)}set innerHTML(t){R6(this,t)}};const BP={get(e,t){return t in e?e[t]:e.find(({name:n})=>n===t)}},Zv=(e,t,n)=>{if("ownerSVGElement"in t){const r=e.createElementNS(wd,n);return r.ownerSVGElement=t.ownerSVGElement,r}return e.createElement(n)},UP=({localName:e,ownerDocument:t})=>t[pa].voidElements.test(e);let Cl=class extends O6{constructor(t,n){super(t,n,ge),this[co]=null,this[j0]=null,this[L0]=null}get isConnected(){return r6(this)}get parentElement(){return s6(this)}get previousSibling(){return kc(this)}get nextSibling(){return Ou(this)}get namespaceURI(){return"http://www.w3.org/1999/xhtml"}get previousElementSibling(){return i6(this)}get nextElementSibling(){return Ly(this)}before(...t){u6(this,t)}after(...t){o6(this,t)}replaceWith(...t){By(this,t)}remove(){a6(this[xt],this,this[X][j])}get id(){return D.get(this,"id")}set id(t){D.set(this,"id",t)}get className(){return this.classList.value}set className(t){const{classList:n}=this;n.clear(),n.add(...Eu(t).split(/\s+/))}get nodeName(){return um(this)}get tagName(){return um(this)}get classList(){return this[co]||(this[co]=new PP(this))}get dataset(){return this[j0]||(this[j0]=new C6(this))}getBoundingClientRect(){return{x:0,y:0,bottom:0,height:0,left:0,right:0,top:0,width:0}}get nonce(){return D.get(this,"nonce")}set nonce(t){D.set(this,"nonce",t)}get style(){return this[L0]||(this[L0]=new D6(this))}get tabIndex(){return yi.get(this,"tabindex")||-1}set tabIndex(t){yi.set(this,"tabindex",t)}get slot(){return D.get(this,"slot")}set slot(t){D.set(this,"slot",t)}get innerText(){const t=[];let{[j]:n,[X]:r}=this;for(;n!==r;)n.nodeType===Wt?t.push(n.textContent.replace(/\s+/g," ")):t.length&&n[j]!=r&&p7.has(n.tagName)&&t.push(`
`),n=n[j];return t.join("")}get textContent(){const t=[];let{[j]:n,[X]:r}=this;for(;n!==r;)n.nodeType===Wt&&t.push(n.textContent),n=n[j];return t.join("")}set textContent(t){this.replaceChildren(),t!=null&&t!==""&&this.appendChild(new kl(this.ownerDocument,t))}get innerHTML(){return N6(this)}set innerHTML(t){R6(this,t)}get outerHTML(){return this.toString()}set outerHTML(t){const n=this.ownerDocument.createElement("");n.innerHTML=t,this.replaceWith(...n.childNodes)}get attributes(){const t=new M6(this);let n=this[j];for(;n.nodeType===It;)t.push(n),n=n[j];return new Proxy(t,BP)}focus(){this.dispatchEvent(new Pu("focus"))}getAttribute(t){if(t==="class")return this.className;const n=this.getAttributeNode(t);return n&&(ki(this)?n.value:jy(n.value))}getAttributeNode(t){let n=this[j];for(;n.nodeType===It;){if(n.name===t)return n;n=n[j]}return null}getAttributeNames(){const t=new ss;let n=this[j];for(;n.nodeType===It;)t.push(n.name),n=n[j];return t}hasAttribute(t){return!!this.getAttributeNode(t)}hasAttributes(){return this[j].nodeType===It}removeAttribute(t){t==="class"&&this[co]&&this[co].clear();let n=this[j];for(;n.nodeType===It;){if(n.name===t){Uv(this,n);return}n=n[j]}}removeAttributeNode(t){let n=this[j];for(;n.nodeType===It;){if(n===t){Uv(this,n);return}n=n[j]}}setAttribute(t,n){if(t==="class")this.className=n;else{const r=this.getAttributeNode(t);r?r.value=n:am(this,new Nl(this.ownerDocument,t,n))}}setAttributeNode(t){const{name:n}=t,r=this.getAttributeNode(n);if(r!==t){r&&this.removeAttributeNode(r);const{ownerElement:s}=t;s&&s.removeAttributeNode(t),am(this,t)}return r}toggleAttribute(t,n){return this.hasAttribute(t)?n?!0:(this.removeAttribute(t),!1):n||arguments.length===1?(this.setAttribute(t,""),!0):!1}get shadowRoot(){if(bi.has(this)){const{mode:t,shadowRoot:n}=bi.get(this);if(t==="open")return n}return null}attachShadow(t){if(bi.has(this))throw new Error("operation not supported");const n=new Hy(this);return bi.set(this,{mode:t.mode,shadowRoot:n}),n}matches(t){return RP(this,t)}closest(t){let n=this;const r=dm(n,t);for(;n&&!r(n);)n=n.parentElement;return n}insertAdjacentElement(t,n){const{parentElement:r}=this;switch(t){case"beforebegin":if(r){r.insertBefore(n,this);break}return null;case"afterbegin":this.insertBefore(n,this.firstChild);break;case"beforeend":this.insertBefore(n,null);break;case"afterend":if(r){r.insertBefore(n,this.nextSibling);break}return null}return n}insertAdjacentHTML(t,n){const r=this.ownerDocument.createElement("template");r.innerHTML=n,this.insertAdjacentElement(t,r.content)}insertAdjacentText(t,n){const r=this.ownerDocument.createTextNode(n);this.insertAdjacentElement(t,r)}cloneNode(t=!1){const{ownerDocument:n,localName:r}=this,s=l=>{l.parentNode=u,Fr(o,l),o=l},i=Zv(n,this,r);let u=i,o=i,{[j]:a,[X]:c}=this;for(;a!==c&&(t||a.nodeType===It);){switch(a.nodeType){case Ri:Fr(o,u[X]),o=u[X],u=u.parentNode;break;case ge:{const l=Zv(n,a,a.localName);s(l),u=l;break}case It:{const l=a.cloneNode(t);l.ownerElement=u,s(l);break}case Wt:case Ws:case Js:s(a.cloneNode(t));break}a=a[j]}return Fr(o,i[X]),i}toString(){const t=[],{[X]:n}=this;let r={[j]:this},s=!1;do switch(r=r[j],r.nodeType){case It:{const i=" "+r;switch(i){case" id":case" class":case" style":break;default:t.push(i)}break}case Ri:{const i=r[bn];s?("ownerSVGElement"in i?t.push(" />"):UP(i)?t.push(ki(i)?">":" />"):t.push(`></${i.localName}>`),s=!1):t.push(`</${i.localName}>`);break}case ge:s&&t.push(">"),r.toString!==this.toString?(t.push(r.toString()),r=r[X],s=!1):(t.push(`<${r.localName}`),s=!0);break;case Wt:case Ws:case Js:t.push((s?">":"")+r),s=!1;break}while(r!==n);return t.join("")}toJSON(){const t=[];return e6(this,t),t}getAttributeNS(t,n){return this.getAttribute(n)}getElementsByTagNameNS(t,n){return this.getElementsByTagName(n)}hasAttributeNS(t,n){return this.hasAttribute(n)}removeAttributeNS(t,n){this.removeAttribute(n)}setAttributeNS(t,n,r){this.setAttribute(n,r)}setAttributeNodeNS(t){return this.setAttributeNode(t)}};const J0=new WeakMap,qP={get(e,t){return e[t]},set(e,t,n){return e[t]=n,!0}};let Cc=class extends Cl{constructor(t,n,r=null){super(t,n),this.ownerSVGElement=r}get className(){return J0.has(this)||J0.set(this,new Proxy({baseVal:"",animVal:""},qP)),J0.get(this)}set className(t){const{classList:n}=this;n.clear(),n.add(...Eu(t).split(/\s+/))}get namespaceURI(){return"http://www.w3.org/2000/svg"}getAttribute(t){return t==="class"?[...this.classList].join(" "):super.getAttribute(t)}setAttribute(t,n){if(t==="class")this.className=n;else if(t==="style"){const{className:r}=this;r.baseVal=r.animVal=n}super.setAttribute(t,n)}};const zn=()=>{throw new TypeError("Illegal constructor")};function Gy(){zn()}hn(Gy,Nl);Gy.prototype=Nl.prototype;function Jy(){zn()}hn(Jy,Uy);Jy.prototype=Uy.prototype;function Wy(){zn()}hn(Wy,Rl);Wy.prototype=Rl.prototype;function Qy(){zn()}hn(Qy,qy);Qy.prototype=qy.prototype;function Xy(){zn()}hn(Xy,zy);Xy.prototype=zy.prototype;function Ky(){zn()}hn(Ky,xd);Ky.prototype=xd.prototype;function Yy(){zn()}hn(Yy,Cl);Yy.prototype=Cl.prototype;function Zy(){zn()}hn(Zy,Hu);Zy.prototype=Hu.prototype;function e1(){zn()}hn(e1,Hy);e1.prototype=Hy.prototype;function t1(){zn()}hn(t1,kl);t1.prototype=kl.prototype;function n1(){zn()}hn(n1,Cc);n1.prototype=Cc.prototype;const $P={Attr:Gy,CDATASection:Jy,CharacterData:Wy,Comment:Qy,DocumentFragment:Xy,DocumentType:Ky,Element:Yy,Node:Zy,ShadowRoot:e1,Text:t1,SVGElement:n1},qa=new WeakMap,E={get(e,t){return qa.has(e)&&qa.get(e)[t]||null},set(e,t,n){qa.has(e)||qa.set(e,{});const r=qa.get(e),s=t.slice(2);r[t]&&e.removeEventListener(s,r[t],!1),(r[t]=n)&&e.addEventListener(s,n,!1)}};let q=class extends Cl{static get observedAttributes(){return[]}constructor(t=null,n=""){super(t,n);const r=!t;let s;if(r){const{constructor:i}=this;if(!yo.has(i))throw new Error("unable to initialize this Custom Element");({ownerDocument:t,localName:n,options:s}=yo.get(i))}if(t[dc]){const{element:i,values:u}=t[dc];t[dc]=null;for(const[o,a]of u)i[o]=a;return i}r&&(this.ownerDocument=this[X].ownerDocument=t,this.localName=n,Mu.set(this,{connected:!1}),s.is&&this.setAttribute("is",s.is))}blur(){this.dispatchEvent(new Pu("blur"))}click(){const t=new Pu("click",{bubbles:!0,cancelable:!0});t.button=0,this.dispatchEvent(t)}get accessKeyLabel(){const{accessKey:t}=this;return t&&`Alt+Shift+${t}`}get isContentEditable(){return this.hasAttribute("contenteditable")}get contentEditable(){return ve.get(this,"contenteditable")}set contentEditable(t){ve.set(this,"contenteditable",t)}get draggable(){return ve.get(this,"draggable")}set draggable(t){ve.set(this,"draggable",t)}get hidden(){return ve.get(this,"hidden")}set hidden(t){ve.set(this,"hidden",t)}get spellcheck(){return ve.get(this,"spellcheck")}set spellcheck(t){ve.set(this,"spellcheck",t)}get accessKey(){return D.get(this,"accesskey")}set accessKey(t){D.set(this,"accesskey",t)}get dir(){return D.get(this,"dir")}set dir(t){D.set(this,"dir",t)}get lang(){return D.get(this,"lang")}set lang(t){D.set(this,"lang",t)}get title(){return D.get(this,"title")}set title(t){D.set(this,"title",t)}get onabort(){return E.get(this,"onabort")}set onabort(t){E.set(this,"onabort",t)}get onblur(){return E.get(this,"onblur")}set onblur(t){E.set(this,"onblur",t)}get oncancel(){return E.get(this,"oncancel")}set oncancel(t){E.set(this,"oncancel",t)}get oncanplay(){return E.get(this,"oncanplay")}set oncanplay(t){E.set(this,"oncanplay",t)}get oncanplaythrough(){return E.get(this,"oncanplaythrough")}set oncanplaythrough(t){E.set(this,"oncanplaythrough",t)}get onchange(){return E.get(this,"onchange")}set onchange(t){E.set(this,"onchange",t)}get onclick(){return E.get(this,"onclick")}set onclick(t){E.set(this,"onclick",t)}get onclose(){return E.get(this,"onclose")}set onclose(t){E.set(this,"onclose",t)}get oncontextmenu(){return E.get(this,"oncontextmenu")}set oncontextmenu(t){E.set(this,"oncontextmenu",t)}get oncuechange(){return E.get(this,"oncuechange")}set oncuechange(t){E.set(this,"oncuechange",t)}get ondblclick(){return E.get(this,"ondblclick")}set ondblclick(t){E.set(this,"ondblclick",t)}get ondrag(){return E.get(this,"ondrag")}set ondrag(t){E.set(this,"ondrag",t)}get ondragend(){return E.get(this,"ondragend")}set ondragend(t){E.set(this,"ondragend",t)}get ondragenter(){return E.get(this,"ondragenter")}set ondragenter(t){E.set(this,"ondragenter",t)}get ondragleave(){return E.get(this,"ondragleave")}set ondragleave(t){E.set(this,"ondragleave",t)}get ondragover(){return E.get(this,"ondragover")}set ondragover(t){E.set(this,"ondragover",t)}get ondragstart(){return E.get(this,"ondragstart")}set ondragstart(t){E.set(this,"ondragstart",t)}get ondrop(){return E.get(this,"ondrop")}set ondrop(t){E.set(this,"ondrop",t)}get ondurationchange(){return E.get(this,"ondurationchange")}set ondurationchange(t){E.set(this,"ondurationchange",t)}get onemptied(){return E.get(this,"onemptied")}set onemptied(t){E.set(this,"onemptied",t)}get onended(){return E.get(this,"onended")}set onended(t){E.set(this,"onended",t)}get onerror(){return E.get(this,"onerror")}set onerror(t){E.set(this,"onerror",t)}get onfocus(){return E.get(this,"onfocus")}set onfocus(t){E.set(this,"onfocus",t)}get oninput(){return E.get(this,"oninput")}set oninput(t){E.set(this,"oninput",t)}get oninvalid(){return E.get(this,"oninvalid")}set oninvalid(t){E.set(this,"oninvalid",t)}get onkeydown(){return E.get(this,"onkeydown")}set onkeydown(t){E.set(this,"onkeydown",t)}get onkeypress(){return E.get(this,"onkeypress")}set onkeypress(t){E.set(this,"onkeypress",t)}get onkeyup(){return E.get(this,"onkeyup")}set onkeyup(t){E.set(this,"onkeyup",t)}get onload(){return E.get(this,"onload")}set onload(t){E.set(this,"onload",t)}get onloadeddata(){return E.get(this,"onloadeddata")}set onloadeddata(t){E.set(this,"onloadeddata",t)}get onloadedmetadata(){return E.get(this,"onloadedmetadata")}set onloadedmetadata(t){E.set(this,"onloadedmetadata",t)}get onloadstart(){return E.get(this,"onloadstart")}set onloadstart(t){E.set(this,"onloadstart",t)}get onmousedown(){return E.get(this,"onmousedown")}set onmousedown(t){E.set(this,"onmousedown",t)}get onmouseenter(){return E.get(this,"onmouseenter")}set onmouseenter(t){E.set(this,"onmouseenter",t)}get onmouseleave(){return E.get(this,"onmouseleave")}set onmouseleave(t){E.set(this,"onmouseleave",t)}get onmousemove(){return E.get(this,"onmousemove")}set onmousemove(t){E.set(this,"onmousemove",t)}get onmouseout(){return E.get(this,"onmouseout")}set onmouseout(t){E.set(this,"onmouseout",t)}get onmouseover(){return E.get(this,"onmouseover")}set onmouseover(t){E.set(this,"onmouseover",t)}get onmouseup(){return E.get(this,"onmouseup")}set onmouseup(t){E.set(this,"onmouseup",t)}get onmousewheel(){return E.get(this,"onmousewheel")}set onmousewheel(t){E.set(this,"onmousewheel",t)}get onpause(){return E.get(this,"onpause")}set onpause(t){E.set(this,"onpause",t)}get onplay(){return E.get(this,"onplay")}set onplay(t){E.set(this,"onplay",t)}get onplaying(){return E.get(this,"onplaying")}set onplaying(t){E.set(this,"onplaying",t)}get onprogress(){return E.get(this,"onprogress")}set onprogress(t){E.set(this,"onprogress",t)}get onratechange(){return E.get(this,"onratechange")}set onratechange(t){E.set(this,"onratechange",t)}get onreset(){return E.get(this,"onreset")}set onreset(t){E.set(this,"onreset",t)}get onresize(){return E.get(this,"onresize")}set onresize(t){E.set(this,"onresize",t)}get onscroll(){return E.get(this,"onscroll")}set onscroll(t){E.set(this,"onscroll",t)}get onseeked(){return E.get(this,"onseeked")}set onseeked(t){E.set(this,"onseeked",t)}get onseeking(){return E.get(this,"onseeking")}set onseeking(t){E.set(this,"onseeking",t)}get onselect(){return E.get(this,"onselect")}set onselect(t){E.set(this,"onselect",t)}get onshow(){return E.get(this,"onshow")}set onshow(t){E.set(this,"onshow",t)}get onstalled(){return E.get(this,"onstalled")}set onstalled(t){E.set(this,"onstalled",t)}get onsubmit(){return E.get(this,"onsubmit")}set onsubmit(t){E.set(this,"onsubmit",t)}get onsuspend(){return E.get(this,"onsuspend")}set onsuspend(t){E.set(this,"onsuspend",t)}get ontimeupdate(){return E.get(this,"ontimeupdate")}set ontimeupdate(t){E.set(this,"ontimeupdate",t)}get ontoggle(){return E.get(this,"ontoggle")}set ontoggle(t){E.set(this,"ontoggle",t)}get onvolumechange(){return E.get(this,"onvolumechange")}set onvolumechange(t){E.set(this,"onvolumechange",t)}get onwaiting(){return E.get(this,"onwaiting")}set onwaiting(t){E.set(this,"onwaiting",t)}get onauxclick(){return E.get(this,"onauxclick")}set onauxclick(t){E.set(this,"onauxclick",t)}get ongotpointercapture(){return E.get(this,"ongotpointercapture")}set ongotpointercapture(t){E.set(this,"ongotpointercapture",t)}get onlostpointercapture(){return E.get(this,"onlostpointercapture")}set onlostpointercapture(t){E.set(this,"onlostpointercapture",t)}get onpointercancel(){return E.get(this,"onpointercancel")}set onpointercancel(t){E.set(this,"onpointercancel",t)}get onpointerdown(){return E.get(this,"onpointerdown")}set onpointerdown(t){E.set(this,"onpointerdown",t)}get onpointerenter(){return E.get(this,"onpointerenter")}set onpointerenter(t){E.set(this,"onpointerenter",t)}get onpointerleave(){return E.get(this,"onpointerleave")}set onpointerleave(t){E.set(this,"onpointerleave",t)}get onpointermove(){return E.get(this,"onpointermove")}set onpointermove(t){E.set(this,"onpointermove",t)}get onpointerout(){return E.get(this,"onpointerout")}set onpointerout(t){E.set(this,"onpointerout",t)}get onpointerover(){return E.get(this,"onpointerover")}set onpointerover(t){E.set(this,"onpointerover",t)}get onpointerup(){return E.get(this,"onpointerup")}set onpointerup(t){E.set(this,"onpointerup",t)}};const P6="template";class j6 extends q{constructor(t){super(t,P6);const n=this.ownerDocument.createDocumentFragment();(this[ff]=n)[Vt]=this}get content(){if(this.hasChildNodes()&&!this[ff].hasChildNodes())for(const t of this.childNodes)this[ff].appendChild(t.cloneNode(!0));return this[ff]}}gt(P6,j6);class VP extends q{constructor(t,n="html"){super(t,n)}}const{toString:zP}=q.prototype;class Fh extends q{get innerHTML(){return this.textContent}set innerHTML(t){this.textContent=t}toString(){return zP.call(this.cloneNode()).replace(/></,`>${this.textContent}<`)}}const L6="script";class F6 extends Fh{constructor(t,n=L6){super(t,n)}get type(){return D.get(this,"type")}set type(t){D.set(this,"type",t)}get src(){return D.get(this,"src")}set src(t){D.set(this,"src",t)}get defer(){return ve.get(this,"defer")}set defer(t){ve.set(this,"defer",t)}get crossOrigin(){return D.get(this,"crossorigin")}set crossOrigin(t){D.set(this,"crossorigin",t)}get nomodule(){return ve.get(this,"nomodule")}set nomodule(t){ve.set(this,"nomodule",t)}get referrerPolicy(){return D.get(this,"referrerpolicy")}set referrerPolicy(t){D.set(this,"referrerpolicy",t)}get nonce(){return D.get(this,"nonce")}set nonce(t){D.set(this,"nonce",t)}get async(){return ve.get(this,"async")}set async(t){ve.set(this,"async",t)}get text(){return this.textContent}set text(t){this.textContent=t}}gt(L6,F6);class HP extends q{constructor(t,n="frame"){super(t,n)}}const B6="iframe";class U6 extends q{constructor(t,n=B6){super(t,n)}get src(){return D.get(this,"src")}set src(t){D.set(this,"src",t)}get srcdoc(){return D.get(this,"srcdoc")}set srcdoc(t){D.set(this,"srcdoc",t)}get name(){return D.get(this,"name")}set name(t){D.set(this,"name",t)}get allow(){return D.get(this,"allow")}set allow(t){D.set(this,"allow",t)}get allowFullscreen(){return ve.get(this,"allowfullscreen")}set allowFullscreen(t){ve.set(this,"allowfullscreen",t)}get referrerPolicy(){return D.get(this,"referrerpolicy")}set referrerPolicy(t){D.set(this,"referrerpolicy",t)}get loading(){return D.get(this,"loading")}set loading(t){D.set(this,"loading",t)}}gt(B6,U6);class GP extends q{constructor(t,n="object"){super(t,n)}}class JP extends q{constructor(t,n="head"){super(t,n)}}class WP extends q{constructor(t,n="body"){super(t,n)}}var W0={},Q0={},X0={},q6={},$6={};$6.StyleSheet=function(){this.parentStyleSheet=null};q6.StyleSheet=$6.StyleSheet;var K0={},Hn={},We={};We.CSSRule=function(){this.parentRule=null,this.parentStyleSheet=null};We.CSSRule.UNKNOWN_RULE=0;We.CSSRule.STYLE_RULE=1;We.CSSRule.CHARSET_RULE=2;We.CSSRule.IMPORT_RULE=3;We.CSSRule.MEDIA_RULE=4;We.CSSRule.FONT_FACE_RULE=5;We.CSSRule.PAGE_RULE=6;We.CSSRule.KEYFRAMES_RULE=7;We.CSSRule.KEYFRAME_RULE=8;We.CSSRule.MARGIN_RULE=9;We.CSSRule.NAMESPACE_RULE=10;We.CSSRule.COUNTER_STYLE_RULE=11;We.CSSRule.SUPPORTS_RULE=12;We.CSSRule.DOCUMENT_RULE=13;We.CSSRule.FONT_FEATURE_VALUES_RULE=14;We.CSSRule.VIEWPORT_RULE=15;We.CSSRule.REGION_STYLE_RULE=16;We.CSSRule.prototype={constructor:We.CSSRule};Hn.CSSRule=We.CSSRule;var ex;function Bh(){if(ex)return K0;ex=1;var e={CSSStyleDeclaration:ya().CSSStyleDeclaration,CSSRule:Hn.CSSRule};return e.CSSStyleRule=function(){e.CSSRule.call(this),this.selectorText="",this.style=new e.CSSStyleDeclaration,this.style.parentRule=this},e.CSSStyleRule.prototype=new e.CSSRule,e.CSSStyleRule.prototype.constructor=e.CSSStyleRule,e.CSSStyleRule.prototype.type=1,Object.defineProperty(e.CSSStyleRule.prototype,"cssText",{get:function(){var t;return this.selectorText?t=this.selectorText+" {"+this.style.cssText+"}":t="",t},set:function(t){var n=e.CSSStyleRule.parse(t);this.style=n.style,this.selectorText=n.selectorText}}),e.CSSStyleRule.parse=function(t){for(var n=0,r="selector",s,i=n,u="",o={selector:!0,value:!0},a=new e.CSSStyleRule,c,l="",d;d=t.charAt(n);n++)switch(d){case" ":case"	":case"\r":case`
`:case"\f":if(o[r])switch(t.charAt(n-1)){case" ":case"	":case"\r":case`
`:case"\f":break;default:u+=" ";break}break;case'"':if(i=n+1,s=t.indexOf('"',i)+1,!s)throw'" is missing';u+=t.slice(n,s),n=s-1;break;case"'":if(i=n+1,s=t.indexOf("'",i)+1,!s)throw"' is missing";u+=t.slice(n,s),n=s-1;break;case"/":if(t.charAt(n+1)==="*"){if(n+=2,s=t.indexOf("*/",n),s===-1)throw new SyntaxError("Missing */");n=s+1}else u+=d;break;case"{":r==="selector"&&(a.selectorText=u.trim(),u="",r="name");break;case":":r==="name"?(c=u.trim(),u="",r="value"):u+=d;break;case"!":r==="value"&&t.indexOf("!important",n)===n?(l="important",n+=9):u+=d;break;case";":r==="value"?(a.style.setProperty(c,u.trim(),l),l="",u="",r="name"):u+=d;break;case"}":if(r==="value")a.style.setProperty(c,u.trim(),l),l="",u="";else{if(r==="name")break;u+=d}r="selector";break;default:u+=d;break}return a},K0.CSSStyleRule=e.CSSStyleRule,K0}var tx;function Uh(){if(tx)return X0;tx=1;var e={StyleSheet:q6.StyleSheet,CSSStyleRule:Bh().CSSStyleRule};return e.CSSStyleSheet=function(){e.StyleSheet.call(this),this.cssRules=[]},e.CSSStyleSheet.prototype=new e.StyleSheet,e.CSSStyleSheet.prototype.constructor=e.CSSStyleSheet,e.CSSStyleSheet.prototype.insertRule=function(t,n){if(n<0||n>this.cssRules.length)throw new RangeError("INDEX_SIZE_ERR");var r=e.parse(t).cssRules[0];return r.parentStyleSheet=this,this.cssRules.splice(n,0,r),n},e.CSSStyleSheet.prototype.deleteRule=function(t){if(t<0||t>=this.cssRules.length)throw new RangeError("INDEX_SIZE_ERR");this.cssRules.splice(t,1)},e.CSSStyleSheet.prototype.toString=function(){for(var t="",n=this.cssRules,r=0;r<n.length;r++)t+=n[r].cssText+`
`;return t},X0.CSSStyleSheet=e.CSSStyleSheet,e.parse=a1().parse,X0}var Y0={},r1={},_d={};_d.MediaList=function(){this.length=0};_d.MediaList.prototype={constructor:_d.MediaList,get mediaText(){return Array.prototype.join.call(this,", ")},set mediaText(e){for(var t=e.split(","),n=this.length=t.length,r=0;r<n;r++)this[r]=t[r].trim()},appendMedium:function(e){Array.prototype.indexOf.call(this,e)===-1&&(this[this.length]=e,this.length++)},deleteMedium:function(e){var t=Array.prototype.indexOf.call(this,e);t!==-1&&Array.prototype.splice.call(this,t,1)}};r1.MediaList=_d.MediaList;var nx;function V6(){if(nx)return Y0;nx=1;var e={CSSRule:Hn.CSSRule,CSSStyleSheet:Uh().CSSStyleSheet,MediaList:r1.MediaList};return e.CSSImportRule=function(){e.CSSRule.call(this),this.href="",this.media=new e.MediaList,this.styleSheet=new e.CSSStyleSheet},e.CSSImportRule.prototype=new e.CSSRule,e.CSSImportRule.prototype.constructor=e.CSSImportRule,e.CSSImportRule.prototype.type=3,Object.defineProperty(e.CSSImportRule.prototype,"cssText",{get:function(){var t=this.media.mediaText;return"@import url("+this.href+")"+(t?" "+t:"")+";"},set:function(t){for(var n=0,r="",s="",i,u;u=t.charAt(n);n++)switch(u){case" ":case"	":case"\r":case`
`:case"\f":r==="after-import"?r="url":s+=u;break;case"@":!r&&t.indexOf("@import",n)===n&&(r="after-import",n+=6,s="");break;case"u":if(r==="url"&&t.indexOf("url(",n)===n){if(i=t.indexOf(")",n+1),i===-1)throw n+': ")" not found';n+=4;var o=t.slice(n,i);o[0]===o[o.length-1]&&(o[0]==='"'||o[0]==="'")&&(o=o.slice(1,-1)),this.href=o,n=i,r="media"}break;case'"':if(r==="url"){if(i=t.indexOf('"',n+1),!i)throw n+`: '"' not found`;this.href=t.slice(n+1,i),n=i,r="media"}break;case"'":if(r==="url"){if(i=t.indexOf("'",n+1),!i)throw n+`: "'" not found`;this.href=t.slice(n+1,i),n=i,r="media"}break;case";":r==="media"&&s&&(this.media.mediaText=s.trim());break;default:r==="media"&&(s+=u);break}}}),Y0.CSSImportRule=e.CSSImportRule,Y0}var ba={},ps={CSSRule:Hn.CSSRule};ps.CSSGroupingRule=function(){ps.CSSRule.call(this),this.cssRules=[]};ps.CSSGroupingRule.prototype=new ps.CSSRule;ps.CSSGroupingRule.prototype.constructor=ps.CSSGroupingRule;ps.CSSGroupingRule.prototype.insertRule=function(t,n){if(n<0||n>this.cssRules.length)throw new RangeError("INDEX_SIZE_ERR");var r=ps.parse(t).cssRules[0];return r.parentRule=this,this.cssRules.splice(n,0,r),n};ps.CSSGroupingRule.prototype.deleteRule=function(t){if(t<0||t>=this.cssRules.length)throw new RangeError("INDEX_SIZE_ERR");this.cssRules.splice(t,1)[0].parentRule=null};ba.CSSGroupingRule=ps.CSSGroupingRule;var s1={},Dl={},Qs={CSSRule:Hn.CSSRule,CSSGroupingRule:ba.CSSGroupingRule};Qs.CSSConditionRule=function(){Qs.CSSGroupingRule.call(this),this.cssRules=[]};Qs.CSSConditionRule.prototype=new Qs.CSSGroupingRule;Qs.CSSConditionRule.prototype.constructor=Qs.CSSConditionRule;Qs.CSSConditionRule.prototype.conditionText="";Qs.CSSConditionRule.prototype.cssText="";Dl.CSSConditionRule=Qs.CSSConditionRule;var as={CSSRule:Hn.CSSRule,CSSGroupingRule:ba.CSSGroupingRule,CSSConditionRule:Dl.CSSConditionRule,MediaList:r1.MediaList};as.CSSMediaRule=function(){as.CSSConditionRule.call(this),this.media=new as.MediaList};as.CSSMediaRule.prototype=new as.CSSConditionRule;as.CSSMediaRule.prototype.constructor=as.CSSMediaRule;as.CSSMediaRule.prototype.type=4;Object.defineProperties(as.CSSMediaRule.prototype,{conditionText:{get:function(){return this.media.mediaText},set:function(e){this.media.mediaText=e},configurable:!0,enumerable:!0},cssText:{get:function(){for(var e=[],t=0,n=this.cssRules.length;t<n;t++)e.push(this.cssRules[t].cssText);return"@media "+this.media.mediaText+" {"+e.join("")+"}"},configurable:!0,enumerable:!0}});s1.CSSMediaRule=as.CSSMediaRule;var i1={},Xs={CSSRule:Hn.CSSRule,CSSGroupingRule:ba.CSSGroupingRule,CSSConditionRule:Dl.CSSConditionRule};Xs.CSSSupportsRule=function(){Xs.CSSConditionRule.call(this)};Xs.CSSSupportsRule.prototype=new Xs.CSSConditionRule;Xs.CSSSupportsRule.prototype.constructor=Xs.CSSSupportsRule;Xs.CSSSupportsRule.prototype.type=12;Object.defineProperty(Xs.CSSSupportsRule.prototype,"cssText",{get:function(){for(var e=[],t=0,n=this.cssRules.length;t<n;t++)e.push(this.cssRules[t].cssText);return"@supports "+this.conditionText+" {"+e.join("")+"}"}});i1.CSSSupportsRule=Xs.CSSSupportsRule;var Z0={},rx;function z6(){if(rx)return Z0;rx=1;var e={CSSStyleDeclaration:ya().CSSStyleDeclaration,CSSRule:Hn.CSSRule};return e.CSSFontFaceRule=function(){e.CSSRule.call(this),this.style=new e.CSSStyleDeclaration,this.style.parentRule=this},e.CSSFontFaceRule.prototype=new e.CSSRule,e.CSSFontFaceRule.prototype.constructor=e.CSSFontFaceRule,e.CSSFontFaceRule.prototype.type=5,Object.defineProperty(e.CSSFontFaceRule.prototype,"cssText",{get:function(){return"@font-face {"+this.style.cssText+"}"}}),Z0.CSSFontFaceRule=e.CSSFontFaceRule,Z0}var H6={},Ks={CSSRule:Hn.CSSRule};Ks.CSSHostRule=function(){Ks.CSSRule.call(this),this.cssRules=[]};Ks.CSSHostRule.prototype=new Ks.CSSRule;Ks.CSSHostRule.prototype.constructor=Ks.CSSHostRule;Ks.CSSHostRule.prototype.type=1001;Object.defineProperty(Ks.CSSHostRule.prototype,"cssText",{get:function(){for(var e=[],t=0,n=this.cssRules.length;t<n;t++)e.push(this.cssRules[t].cssText);return"@host {"+e.join("")+"}"}});H6.CSSHostRule=Ks.CSSHostRule;var eg={},sx;function u1(){if(sx)return eg;sx=1;var e={CSSRule:Hn.CSSRule,CSSStyleDeclaration:ya().CSSStyleDeclaration};return e.CSSKeyframeRule=function(){e.CSSRule.call(this),this.keyText="",this.style=new e.CSSStyleDeclaration,this.style.parentRule=this},e.CSSKeyframeRule.prototype=new e.CSSRule,e.CSSKeyframeRule.prototype.constructor=e.CSSKeyframeRule,e.CSSKeyframeRule.prototype.type=8,Object.defineProperty(e.CSSKeyframeRule.prototype,"cssText",{get:function(){return this.keyText+" {"+this.style.cssText+"} "}}),eg.CSSKeyframeRule=e.CSSKeyframeRule,eg}var o1={},Ys={CSSRule:Hn.CSSRule};Ys.CSSKeyframesRule=function(){Ys.CSSRule.call(this),this.name="",this.cssRules=[]};Ys.CSSKeyframesRule.prototype=new Ys.CSSRule;Ys.CSSKeyframesRule.prototype.constructor=Ys.CSSKeyframesRule;Ys.CSSKeyframesRule.prototype.type=7;Object.defineProperty(Ys.CSSKeyframesRule.prototype,"cssText",{get:function(){for(var e=[],t=0,n=this.cssRules.length;t<n;t++)e.push("  "+this.cssRules[t].cssText);return"@"+(this._vendorPrefix||"")+"keyframes "+this.name+` { 
`+e.join(`
`)+`
}`}});o1.CSSKeyframesRule=Ys.CSSKeyframesRule;var G6={},J6={},Td={};Td.CSSValue=function(){};Td.CSSValue.prototype={constructor:Td.CSSValue,set cssText(e){var t=this._getConstructorName();throw new Error('DOMException: property "cssText" of "'+t+'" is readonly and can not be replaced with "'+e+'"!')},get cssText(){var e=this._getConstructorName();throw new Error('getter "cssText" of "'+e+'" is not implemented!')},_getConstructorName:function(){var e=this.constructor.toString(),t=e.match(/function\s([^\(]+)/),n=t[1];return n}};J6.CSSValue=Td.CSSValue;var qr={CSSValue:J6.CSSValue};qr.CSSValueExpression=function(t,n){this._token=t,this._idx=n};qr.CSSValueExpression.prototype=new qr.CSSValue;qr.CSSValueExpression.prototype.constructor=qr.CSSValueExpression;qr.CSSValueExpression.prototype.parse=function(){for(var e=this._token,t=this._idx,n="",r="",s="",i,u=[];;++t){if(n=e.charAt(t),n===""){s="css expression error: unfinished expression!";break}switch(n){case"(":u.push(n),r+=n;break;case")":u.pop(n),r+=n;break;case"/":(i=this._parseJSComment(e,t))?i.error?s="css expression error: unfinished comment in expression!":t=i.idx:(i=this._parseJSRexExp(e,t))?(t=i.idx,r+=i.text):r+=n;break;case"'":case'"':i=this._parseJSString(e,t,n),i?(t=i.idx,r+=i.text):r+=n;break;default:r+=n;break}if(s||u.length===0)break}var o;return s?o={error:s}:o={idx:t,expression:r},o};qr.CSSValueExpression.prototype._parseJSComment=function(e,t){var n=e.charAt(t+1),r;if(n==="/"||n==="*"){var s=t,i,u;if(n==="/"?u=`
`:n==="*"&&(u="*/"),i=e.indexOf(u,s+1+1),i!==-1)return i=i+u.length-1,r=e.substring(t,i+1),{idx:i,text:r};var o="css expression error: unfinished comment in expression!";return{error:o}}else return!1};qr.CSSValueExpression.prototype._parseJSString=function(e,t,n){var r=this._findMatchedIdx(e,t,n),s;return r===-1?!1:(s=e.substring(t,r+n.length),{idx:r,text:s})};qr.CSSValueExpression.prototype._parseJSRexExp=function(e,t){var n=e.substring(0,t).replace(/\s+$/,""),r=[/^$/,/\($/,/\[$/,/\!$/,/\+$/,/\-$/,/\*$/,/\/\s+/,/\%$/,/\=$/,/\>$/,/<$/,/\&$/,/\|$/,/\^$/,/\~$/,/\?$/,/\,$/,/delete$/,/in$/,/instanceof$/,/new$/,/typeof$/,/void$/],s=r.some(function(u){return u.test(n)});if(s){var i="/";return this._parseJSString(e,t,i)}else return!1};qr.CSSValueExpression.prototype._findMatchedIdx=function(e,t,n){for(var r=t,s,i=-1;;)if(s=e.indexOf(n,r+1),s===-1){s=i;break}else{var u=e.substring(t+1,s),o=u.match(/\\+$/);if(!o||o[0]%2===0)break;r=s}var a=e.indexOf(`
`,t+1);return a<s&&(s=i),s};G6.CSSValueExpression=qr.CSSValueExpression;var W6={},Q6={},Ed={};Ed.MatcherList=function(){this.length=0};Ed.MatcherList.prototype={constructor:Ed.MatcherList,get matcherText(){return Array.prototype.join.call(this,", ")},set matcherText(e){for(var t=e.split(","),n=this.length=t.length,r=0;r<n;r++)this[r]=t[r].trim()},appendMatcher:function(e){Array.prototype.indexOf.call(this,e)===-1&&(this[this.length]=e,this.length++)},deleteMatcher:function(e){var t=Array.prototype.indexOf.call(this,e);t!==-1&&Array.prototype.splice.call(this,t,1)}};Q6.MatcherList=Ed.MatcherList;var cs={CSSRule:Hn.CSSRule,MatcherList:Q6.MatcherList};cs.CSSDocumentRule=function(){cs.CSSRule.call(this),this.matcher=new cs.MatcherList,this.cssRules=[]};cs.CSSDocumentRule.prototype=new cs.CSSRule;cs.CSSDocumentRule.prototype.constructor=cs.CSSDocumentRule;cs.CSSDocumentRule.prototype.type=10;Object.defineProperty(cs.CSSDocumentRule.prototype,"cssText",{get:function(){for(var e=[],t=0,n=this.cssRules.length;t<n;t++)e.push(this.cssRules[t].cssText);return"@-moz-document "+this.matcher.matcherText+" {"+e.join("")+"}"}});W6.CSSDocumentRule=cs.CSSDocumentRule;var ix;function a1(){if(ix)return Q0;ix=1;var e={};return e.parse=function(n){for(var r=0,s="before-selector",i,u="",o=0,a={selector:!0,value:!0,"value-parenthesis":!0,atRule:!0,"importRule-begin":!0,importRule:!0,atBlock:!0,conditionBlock:!0,"documentRule-begin":!0},c=new e.CSSStyleSheet,l=c,d,h=[],f=!1,p,m,b="",y,w,x,v,_,T,$,z,W=/@(-(?:\w+-)+)?keyframes/g,pe=function(Wn){var Qn=n.substring(0,r).split(`
`),Da=Qn.length,Zl=Qn.pop().length+1,Xi=new Error(Wn+" (line "+Da+", char "+Zl+")");throw Xi.line=Da,Xi.char=Zl,Xi.styleSheet=c,Xi},F;F=n.charAt(r);r++)switch(F){case" ":case"	":case"\r":case`
`:case"\f":a[s]&&(u+=F);break;case'"':i=r+1;do i=n.indexOf('"',i)+1,i||pe('Unmatched "');while(n[i-2]==="\\");switch(u+=n.slice(r,i),r=i-1,s){case"before-value":s="value";break;case"importRule-begin":s="importRule";break}break;case"'":i=r+1;do i=n.indexOf("'",i)+1,i||pe("Unmatched '");while(n[i-2]==="\\");switch(u+=n.slice(r,i),r=i-1,s){case"before-value":s="value";break;case"importRule-begin":s="importRule";break}break;case"/":n.charAt(r+1)==="*"?(r+=2,i=n.indexOf("*/",r),i===-1?pe("Missing */"):r=i+1):u+=F,s==="importRule-begin"&&(u+=" ",s="importRule");break;case"@":if(n.indexOf("@-moz-document",r)===r){s="documentRule-begin",$=new e.CSSDocumentRule,$.__starts=r,r+=13,u="";break}else if(n.indexOf("@media",r)===r){s="atBlock",w=new e.CSSMediaRule,w.__starts=r,r+=5,u="";break}else if(n.indexOf("@supports",r)===r){s="conditionBlock",x=new e.CSSSupportsRule,x.__starts=r,r+=8,u="";break}else if(n.indexOf("@host",r)===r){s="hostRule-begin",r+=4,z=new e.CSSHostRule,z.__starts=r,u="";break}else if(n.indexOf("@import",r)===r){s="importRule-begin",r+=6,u+="@import";break}else if(n.indexOf("@font-face",r)===r){s="fontFaceRule-begin",r+=9,_=new e.CSSFontFaceRule,_.__starts=r,u="";break}else{W.lastIndex=r;var ae=W.exec(n);if(ae&&ae.index===r){s="keyframesRule-begin",T=new e.CSSKeyframesRule,T.__starts=r,T._vendorPrefix=ae[1],r+=ae[0].length-1,u="";break}else s==="selector"&&(s="atRule")}u+=F;break;case"{":s==="selector"||s==="atRule"?(y.selectorText=u.trim(),y.style.__starts=r,u="",s="before-name"):s==="atBlock"?(w.media.mediaText=u.trim(),d&&h.push(d),l=d=w,w.parentStyleSheet=c,u="",s="before-selector"):s==="conditionBlock"?(x.conditionText=u.trim(),d&&h.push(d),l=d=x,x.parentStyleSheet=c,u="",s="before-selector"):s==="hostRule-begin"?(d&&h.push(d),l=d=z,z.parentStyleSheet=c,u="",s="before-selector"):s==="fontFaceRule-begin"?(d&&(_.parentRule=d),_.parentStyleSheet=c,y=_,u="",s="before-name"):s==="keyframesRule-begin"?(T.name=u.trim(),d&&(h.push(d),T.parentRule=d),T.parentStyleSheet=c,l=d=T,u="",s="keyframeRule-begin"):s==="keyframeRule-begin"?(y=new e.CSSKeyframeRule,y.keyText=u.trim(),y.__starts=r,u="",s="before-name"):s==="documentRule-begin"&&($.matcher.matcherText=u.trim(),d&&(h.push(d),$.parentRule=d),l=d=$,$.parentStyleSheet=c,u="",s="before-selector");break;case":":s==="name"?(m=u.trim(),u="",s="before-value"):u+=F;break;case"(":if(s==="value")if(u.trim()==="expression"){var Ke=new e.CSSValueExpression(n,r).parse();Ke.error?pe(Ke.error):(u+=Ke.expression,r=Ke.idx)}else s="value-parenthesis",o=1,u+=F;else s==="value-parenthesis"&&o++,u+=F;break;case")":s==="value-parenthesis"&&(o--,o===0&&(s="value")),u+=F;break;case"!":s==="value"&&n.indexOf("!important",r)===r?(b="important",r+=9):u+=F;break;case";":switch(s){case"value":y.style.setProperty(m,u.trim(),b),b="",u="",s="before-name";break;case"atRule":u="",s="before-selector";break;case"importRule":v=new e.CSSImportRule,v.parentStyleSheet=v.styleSheet.parentStyleSheet=c,v.cssText=u+F,c.cssRules.push(v),u="",s="before-selector";break;default:u+=F;break}break;case"}":switch(s){case"value":y.style.setProperty(m,u.trim(),b),b="";case"before-name":case"name":y.__ends=r+1,d&&(y.parentRule=d),y.parentStyleSheet=c,l.cssRules.push(y),u="",l.constructor===e.CSSKeyframesRule?s="keyframeRule-begin":s="before-selector";break;case"keyframeRule-begin":case"before-selector":case"selector":for(d||pe("Unexpected }"),f=h.length>0;h.length>0;){if(d=h.pop(),d.constructor.name==="CSSMediaRule"||d.constructor.name==="CSSSupportsRule"){p=l,l=d,l.cssRules.push(p);break}h.length===0&&(f=!1)}f||(l.__ends=r+1,c.cssRules.push(l),l=c,d=null),u="",s="before-selector";break}break;default:switch(s){case"before-selector":s="selector",y=new e.CSSStyleRule,y.__starts=r;break;case"before-name":s="name";break;case"before-value":s="value";break;case"importRule-begin":s="importRule";break}u+=F;break}return c},Q0.parse=e.parse,e.CSSStyleSheet=Uh().CSSStyleSheet,e.CSSStyleRule=Bh().CSSStyleRule,e.CSSImportRule=V6().CSSImportRule,e.CSSGroupingRule=ba.CSSGroupingRule,e.CSSMediaRule=s1.CSSMediaRule,e.CSSConditionRule=Dl.CSSConditionRule,e.CSSSupportsRule=i1.CSSSupportsRule,e.CSSFontFaceRule=z6().CSSFontFaceRule,e.CSSHostRule=H6.CSSHostRule,e.CSSStyleDeclaration=ya().CSSStyleDeclaration,e.CSSKeyframeRule=u1().CSSKeyframeRule,e.CSSKeyframesRule=o1.CSSKeyframesRule,e.CSSValueExpression=G6.CSSValueExpression,e.CSSDocumentRule=W6.CSSDocumentRule,Q0}var ux;function ya(){if(ux)return W0;ux=1;var e={};return e.CSSStyleDeclaration=function(){this.length=0,this.parentRule=null,this._importants={}},e.CSSStyleDeclaration.prototype={constructor:e.CSSStyleDeclaration,getPropertyValue:function(t){return this[t]||""},setProperty:function(t,n,r){if(this[t]){var s=Array.prototype.indexOf.call(this,t);s<0&&(this[this.length]=t,this.length++)}else this[this.length]=t,this.length++;this[t]=n+"",this._importants[t]=r},removeProperty:function(t){if(!(t in this))return"";var n=Array.prototype.indexOf.call(this,t);if(n<0)return"";var r=this[t];return this[t]="",Array.prototype.splice.call(this,n,1),r},getPropertyCSSValue:function(){},getPropertyPriority:function(t){return this._importants[t]||""},getPropertyShorthand:function(){},isPropertyImplicit:function(){},get cssText(){for(var t=[],n=0,r=this.length;n<r;++n){var s=this[n],i=this.getPropertyValue(s),u=this.getPropertyPriority(s);u&&(u=" !"+u),t[n]=s+": "+i+u+";"}return t.join(" ")},set cssText(t){var n,r;for(n=this.length;n--;)r=this[n],this[r]="";Array.prototype.splice.call(this,0,this.length),this._importants={};var s=e.parse("#bogus{"+t+"}").cssRules[0].style,i=s.length;for(n=0;n<i;++n)r=s[n],this.setProperty(s[n],s.getPropertyValue(r),s.getPropertyPriority(r))}},W0.CSSStyleDeclaration=e.CSSStyleDeclaration,e.parse=a1().parse,W0}Uh().CSSStyleSheet,Hn.CSSRule,Bh().CSSStyleRule,ba.CSSGroupingRule,Dl.CSSConditionRule,s1.CSSMediaRule,i1.CSSSupportsRule,ya().CSSStyleDeclaration,u1().CSSKeyframeRule,o1.CSSKeyframesRule;ya().CSSStyleDeclaration;Bh().CSSStyleRule;V6().CSSImportRule;z6().CSSFontFaceRule;Uh().CSSStyleSheet;u1().CSSKeyframeRule;var QP=a1().parse;const X6="style";class K6 extends Fh{constructor(t,n=X6){super(t,n),this[io]=null}get sheet(){const t=this[io];return t!==null?t:this[io]=QP(this.textContent)}get innerHTML(){return super.innerHTML||""}set innerHTML(t){super.textContent=t,this[io]=null}get innerText(){return super.innerText||""}set innerText(t){super.textContent=t,this[io]=null}get textContent(){return super.textContent||""}set textContent(t){super.textContent=t,this[io]=null}}gt(X6,K6);class Y6 extends q{constructor(t,n="time"){super(t,n)}get dateTime(){return D.get(this,"datetime")}set dateTime(t){D.set(this,"datetime",t)}}gt("time",Y6);class XP extends q{constructor(t,n="fieldset"){super(t,n)}}class KP extends q{constructor(t,n="embed"){super(t,n)}}class YP extends q{constructor(t,n="hr"){super(t,n)}}class ZP extends q{constructor(t,n="progress"){super(t,n)}}class ej extends q{constructor(t,n="p"){super(t,n)}}class tj extends q{constructor(t,n="table"){super(t,n)}}class nj extends q{constructor(t,n="frameset"){super(t,n)}}class rj extends q{constructor(t,n="li"){super(t,n)}}class sj extends q{constructor(t,n="base"){super(t,n)}}class ij extends q{constructor(t,n="datalist"){super(t,n)}}const Z6="input";class e_ extends q{constructor(t,n=Z6){super(t,n)}get autofocus(){return ve.get(this,"autofocus")||-1}set autofocus(t){ve.set(this,"autofocus",t)}get disabled(){return ve.get(this,"disabled")}set disabled(t){ve.set(this,"disabled",t)}get name(){return this.getAttribute("name")}set name(t){this.setAttribute("name",t)}get placeholder(){return this.getAttribute("placeholder")}set placeholder(t){this.setAttribute("placeholder",t)}get type(){return this.getAttribute("type")}set type(t){this.setAttribute("type",t)}get value(){return D.get(this,"value")}set value(t){D.set(this,"value",t)}}gt(Z6,e_);class uj extends q{constructor(t,n="param"){super(t,n)}}class oj extends q{constructor(t,n="media"){super(t,n)}}class aj extends q{constructor(t,n="audio"){super(t,n)}}const t_="h1";class n_ extends q{constructor(t,n=t_){super(t,n)}}gt([t_,"h2","h3","h4","h5","h6"],n_);class cj extends q{constructor(t,n="dir"){super(t,n)}}class lj extends q{constructor(t,n="quote"){super(t,n)}}class fj{constructor(t,n){this.width=t,this.height=n}getContext(){return null}toDataURL(){return""}}var dj={createCanvas:(e,t)=>new fj(e,t)};const{createCanvas:hj}=dj,r_="canvas";class s_ extends q{constructor(t,n=r_){super(t,n),this[Ir]=hj(300,150)}get width(){return this[Ir].width}set width(t){yi.set(this,"width",t),this[Ir].width=t}get height(){return this[Ir].height}set height(t){yi.set(this,"height",t),this[Ir].height=t}getContext(t){return this[Ir].getContext(t)}toDataURL(...t){return this[Ir].toDataURL(...t)}}gt(r_,s_);class pj extends q{constructor(t,n="legend"){super(t,n)}}const i_="option";class u_ extends q{constructor(t,n=i_){super(t,n)}get value(){return D.get(this,"value")}set value(t){D.set(this,"value",t)}get selected(){return ve.get(this,"selected")}set selected(t){var r;const n=(r=this.parentElement)==null?void 0:r.querySelector("option[selected]");n&&n!==this&&(n.selected=!1),ve.set(this,"selected",t)}}gt(i_,u_);class gj extends q{constructor(t,n="span"){super(t,n)}}class mj extends q{constructor(t,n="meter"){super(t,n)}}class bj extends q{constructor(t,n="video"){super(t,n)}}class yj extends q{constructor(t,n="td"){super(t,n)}}const o_="title";class a_ extends Fh{constructor(t,n=o_){super(t,n)}}gt(o_,a_);class wj extends q{constructor(t,n="output"){super(t,n)}}class vj extends q{constructor(t,n="tr"){super(t,n)}}class xj extends q{constructor(t,n="data"){super(t,n)}}class Sj extends q{constructor(t,n="menu"){super(t,n)}}const c_="select";class l_ extends q{constructor(t,n=c_){super(t,n)}get options(){let t=new ss,{firstElementChild:n}=this;for(;n;)n.tagName==="OPTGROUP"?t.push(...n.children):t.push(n),n=n.nextElementSibling;return t}get disabled(){return ve.get(this,"disabled")}set disabled(t){ve.set(this,"disabled",t)}get name(){return this.getAttribute("name")}set name(t){this.setAttribute("name",t)}get value(){var t;return(t=this.querySelector("option[selected]"))==null?void 0:t.value}}gt(c_,l_);class Aj extends q{constructor(t,n="br"){super(t,n)}}const f_="button";class d_ extends q{constructor(t,n=f_){super(t,n)}get disabled(){return ve.get(this,"disabled")}set disabled(t){ve.set(this,"disabled",t)}get name(){return this.getAttribute("name")}set name(t){this.setAttribute("name",t)}get type(){return this.getAttribute("type")}set type(t){this.setAttribute("type",t)}}gt(f_,d_);class _j extends q{constructor(t,n="map"){super(t,n)}}class Tj extends q{constructor(t,n="optgroup"){super(t,n)}}class Ej extends q{constructor(t,n="dl"){super(t,n)}}const h_="textarea";class p_ extends Fh{constructor(t,n=h_){super(t,n)}get disabled(){return ve.get(this,"disabled")}set disabled(t){ve.set(this,"disabled",t)}get name(){return this.getAttribute("name")}set name(t){this.setAttribute("name",t)}get placeholder(){return this.getAttribute("placeholder")}set placeholder(t){this.setAttribute("placeholder",t)}get type(){return this.getAttribute("type")}set type(t){this.setAttribute("type",t)}get value(){return this.textContent}set value(t){this.textContent=t}}gt(h_,p_);class Oj extends q{constructor(t,n="font"){super(t,n)}}class Ij extends q{constructor(t,n="div"){super(t,n)}}const g_="link";class m_ extends q{constructor(t,n=g_){super(t,n)}get disabled(){return ve.get(this,"disabled")}set disabled(t){ve.set(this,"disabled",t)}get href(){return D.get(this,"href")}set href(t){D.set(this,"href",t)}get hreflang(){return D.get(this,"hreflang")}set hreflang(t){D.set(this,"hreflang",t)}get media(){return D.get(this,"media")}set media(t){D.set(this,"media",t)}get rel(){return D.get(this,"rel")}set rel(t){D.set(this,"rel",t)}get type(){return D.get(this,"type")}set type(t){D.set(this,"type",t)}}gt(g_,m_);const b_="slot";class y_ extends q{constructor(t,n=b_){super(t,n)}get name(){return this.getAttribute("name")}set name(t){this.setAttribute("name",t)}assign(){}assignedNodes(t){var i;const n=!!this.name,r=((i=this.getRootNode().host)==null?void 0:i.childNodes)??[];let s;if(n?s=[...r].filter(u=>u.slot===this.name):s=[...r].filter(u=>!u.slot),t!=null&&t.flatten){const u=[];for(let o of s)o.localName==="slot"?u.push(...o.assignedNodes({flatten:!0})):u.push(o);s=u}return s.length?s:[...this.childNodes]}assignedElements(t){const n=this.assignedNodes(t).filter(r=>r.nodeType===1);return n.length?n:[...this.children]}}gt(b_,y_);class Nj extends q{constructor(t,n="form"){super(t,n)}}const w_="img";class c1 extends q{constructor(t,n=w_){super(t,n)}get alt(){return D.get(this,"alt")}set alt(t){D.set(this,"alt",t)}get sizes(){return D.get(this,"sizes")}set sizes(t){D.set(this,"sizes",t)}get src(){return D.get(this,"src")}set src(t){D.set(this,"src",t)}get srcset(){return D.get(this,"srcset")}set srcset(t){D.set(this,"srcset",t)}get title(){return D.get(this,"title")}set title(t){D.set(this,"title",t)}get width(){return yi.get(this,"width")}set width(t){yi.set(this,"width",t)}get height(){return yi.get(this,"height")}set height(t){yi.set(this,"height",t)}}gt(w_,c1);class Rj extends q{constructor(t,n="pre"){super(t,n)}}class kj extends q{constructor(t,n="ul"){super(t,n)}}const v_="meta";class x_ extends q{constructor(t,n=v_){super(t,n)}get name(){return D.get(this,"name")}set name(t){D.set(this,"name",t)}get httpEquiv(){return D.get(this,"http-equiv")}set httpEquiv(t){D.set(this,"http-equiv",t)}get content(){return D.get(this,"content")}set content(t){D.set(this,"content",t)}get charset(){return D.get(this,"charset")}set charset(t){D.set(this,"charset",t)}get media(){return D.get(this,"media")}set media(t){D.set(this,"media",t)}}gt(v_,x_);class Cj extends q{constructor(t,n="picture"){super(t,n)}}class Dj extends q{constructor(t,n="area"){super(t,n)}}class Mj extends q{constructor(t,n="ol"){super(t,n)}}class Pj extends q{constructor(t,n="caption"){super(t,n)}}const S_="a";class A_ extends q{constructor(t,n=S_){super(t,n)}get href(){return encodeURI(decodeURI(D.get(this,"href")))}set href(t){D.set(this,"href",decodeURI(t))}get download(){return encodeURI(decodeURI(D.get(this,"download")))}set download(t){D.set(this,"download",decodeURI(t))}get target(){return D.get(this,"target")}set target(t){D.set(this,"target",t)}get type(){return D.get(this,"type")}set type(t){D.set(this,"type",t)}get rel(){return D.get(this,"rel")}set rel(t){D.set(this,"rel",t)}}gt(S_,A_);class jj extends q{constructor(t,n="label"){super(t,n)}}class Lj extends q{constructor(t,n="unknown"){super(t,n)}}class Fj extends q{constructor(t,n="mod"){super(t,n)}}class Bj extends q{constructor(t,n="details"){super(t,n)}}const __="source";class T_ extends q{constructor(t,n=__){super(t,n)}get src(){return D.get(this,"src")}set src(t){D.set(this,"src",t)}get srcset(){return D.get(this,"srcset")}set srcset(t){D.set(this,"srcset",t)}get sizes(){return D.get(this,"sizes")}set sizes(t){D.set(this,"sizes",t)}get type(){return D.get(this,"type")}set type(t){D.set(this,"type",t)}}gt(__,T_);class Uj extends q{constructor(t,n="track"){super(t,n)}}class qj extends q{constructor(t,n="marquee"){super(t,n)}}const $j={HTMLElement:q,HTMLTemplateElement:j6,HTMLHtmlElement:VP,HTMLScriptElement:F6,HTMLFrameElement:HP,HTMLIFrameElement:U6,HTMLObjectElement:GP,HTMLHeadElement:JP,HTMLBodyElement:WP,HTMLStyleElement:K6,HTMLTimeElement:Y6,HTMLFieldSetElement:XP,HTMLEmbedElement:KP,HTMLHRElement:YP,HTMLProgressElement:ZP,HTMLParagraphElement:ej,HTMLTableElement:tj,HTMLFrameSetElement:nj,HTMLLIElement:rj,HTMLBaseElement:sj,HTMLDataListElement:ij,HTMLInputElement:e_,HTMLParamElement:uj,HTMLMediaElement:oj,HTMLAudioElement:aj,HTMLHeadingElement:n_,HTMLDirectoryElement:cj,HTMLQuoteElement:lj,HTMLCanvasElement:s_,HTMLLegendElement:pj,HTMLOptionElement:u_,HTMLSpanElement:gj,HTMLMeterElement:mj,HTMLVideoElement:bj,HTMLTableCellElement:yj,HTMLTitleElement:a_,HTMLOutputElement:wj,HTMLTableRowElement:vj,HTMLDataElement:xj,HTMLMenuElement:Sj,HTMLSelectElement:l_,HTMLBRElement:Aj,HTMLButtonElement:d_,HTMLMapElement:_j,HTMLOptGroupElement:Tj,HTMLDListElement:Ej,HTMLTextAreaElement:p_,HTMLFontElement:Oj,HTMLDivElement:Ij,HTMLLinkElement:m_,HTMLSlotElement:y_,HTMLFormElement:Nj,HTMLImageElement:c1,HTMLPreElement:Rj,HTMLUListElement:kj,HTMLMetaElement:x_,HTMLPictureElement:Cj,HTMLAreaElement:Dj,HTMLOListElement:Mj,HTMLTableCaptionElement:Pj,HTMLAnchorElement:A_,HTMLLabelElement:jj,HTMLUnknownElement:Lj,HTMLModElement:Fj,HTMLDetailsElement:Bj,HTMLSourceElement:T_,HTMLTrackElement:Uj,HTMLMarqueeElement:qj},mf={test:()=>!0},Vj={"text/html":{docType:"<!DOCTYPE html>",ignoreCase:!0,voidElements:/^(?:area|base|br|col|embed|hr|img|input|keygen|link|menuitem|meta|param|source|track|wbr)$/i},"image/svg+xml":{docType:'<?xml version="1.0" encoding="utf-8"?>',ignoreCase:!1,voidElements:mf},"text/xml":{docType:'<?xml version="1.0" encoding="utf-8"?>',ignoreCase:!1,voidElements:mf},"application/xml":{docType:'<?xml version="1.0" encoding="utf-8"?>',ignoreCase:!1,voidElements:mf},"application/xhtml+xml":{docType:'<?xml version="1.0" encoding="utf-8"?>',ignoreCase:!1,voidElements:mf}};let E_=class extends Pu{constructor(t,n={}){super(t,n),this.detail=n.detail}};class zj extends Pu{constructor(t,n={}){super(t,n),this.inputType=n.inputType,this.data=n.data,this.dataTransfer=n.dataTransfer,this.isComposing=n.isComposing||!1,this.ranges=n.ranges}}const Hj=e=>class extends c1{constructor(n,r){switch(super(e),arguments.length){case 1:this.height=n,this.width=n;break;case 2:this.height=r,this.width=n;break}}},ox=({[bn]:e,[X]:t},n=null)=>{JA(e[xt],t[j]);do{const r=Mn(e),s=r===t?r:r[j];n?n.insertBefore(e,n[X]):e.remove(),e=s}while(e!==t)};class l1{constructor(){this[bn]=null,this[X]=null,this.commonAncestorContainer=null}insertNode(t){this[X].parentNode.insertBefore(t,this[bn])}selectNode(t){this[bn]=t,this[X]=Mn(t)}selectNodeContents(t){this.selectNode(t),this.commonAncestorContainer=t}surroundContents(t){t.replaceChildren(this.extractContents())}setStartBefore(t){this[bn]=t}setStartAfter(t){this[bn]=t.nextSibling}setEndBefore(t){this[X]=Mn(t.previousSibling)}setEndAfter(t){this[X]=Mn(t)}cloneContents(){let{[bn]:t,[X]:n}=this;const r=t.ownerDocument.createDocumentFragment();for(;t!==n;)r.insertBefore(t.cloneNode(!0),r[X]),t=Mn(t),t!==n&&(t=t[j]);return r}deleteContents(){ox(this)}extractContents(){const t=this[bn].ownerDocument.createDocumentFragment();return ox(this,t),t}createContextualFragment(t){const{commonAncestorContainer:n}=this,r="ownerSVGElement"in n,s=r?n.ownerDocument:n,i=s.createElement("template");i.innerHTML=t;let{content:u}=i;if(r){const o=[...u.childNodes];u=s.createDocumentFragment(),Object.setPrototypeOf(u,Cc.prototype),u.ownerSVGElement=s;for(const a of o)Object.setPrototypeOf(a,Cc.prototype),a.ownerSVGElement=s,u.appendChild(a)}else this.selectNode(u);return u}cloneRange(){const t=new l1;return t[bn]=this[bn],t[X]=this[X],t}}const Gj=({nodeType:e},t)=>{switch(e){case ge:return t&m7;case Wt:return t&b7;case Ws:return t&w7;case Js:return t&y7}return 0};class Jj{constructor(t,n=g7){this.root=t,this.currentNode=t,this.whatToShow=n;let{[j]:r,[X]:s}=t;if(t.nodeType===hu){const{documentElement:u}=t;r=u,s=u[X]}const i=[];for(;r!==s;)Gj(r,n)&&i.push(r),r=r[j];this[Vt]={i:0,nodes:i}}nextNode(){const t=this[Vt];return this.currentNode=t.i<t.nodes.length?t.nodes[t.i++]:null,this.currentNode}}const ax=(e,t,n)=>{let{[j]:r,[X]:s}=t;return e.call({ownerDocument:t,[j]:r,[X]:s},n)},O_=_7({},$P,$j,{CustomEvent:E_,Event:Pu,EventTarget:Py,InputEvent:zj,NamedNodeMap:M6,NodeList:ss}),bf=new WeakMap;let ju=class extends Vy{constructor(t){super(null,"#document",hu),this[Or]={active:!1,registry:null},this[pi]={active:!1,class:null},this[pa]=Vj[t],this[nu]=null,this[em]=null,this[$f]=null,this[Ir]=null,this[dc]=null}get defaultView(){return bf.has(this)||bf.set(this,new Proxy(globalThis,{set:(t,n,r)=>{switch(n){case"addEventListener":case"removeEventListener":case"dispatchEvent":this[Fa][n]=r;break;default:t[n]=r;break}return!0},get:(t,n)=>{switch(n){case"addEventListener":case"removeEventListener":case"dispatchEvent":if(!this[Fa]){const r=this[Fa]=new Py;r.dispatchEvent=r.dispatchEvent.bind(r),r.addEventListener=r.addEventListener.bind(r),r.removeEventListener=r.removeEventListener.bind(r)}return this[Fa][n];case"document":return this;case"navigator":return{userAgent:"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.150 Safari/537.36"};case"window":return bf.get(this);case"customElements":return this[Or].registry||(this[Or]=new k7(this)),this[Or];case"performance":return M7;case"DOMParser":return this[em];case"Image":return this[Ir]||(this[Ir]=Hj(this)),this[Ir];case"MutationObserver":return this[pi].class||(this[pi]=new j7(this)),this[pi].class}return this[$f]&&this[$f][n]||O_[n]||t[n]}})),bf.get(this)}get doctype(){const t=this[nu];if(t)return t;const{firstChild:n}=this;return n&&n.nodeType===zo?this[nu]=n:null}set doctype(t){if(/^([a-z:]+)(\s+system|\s+public(\s+"([^"]+)")?)?(\s+"([^"]+)")?/i.test(t)){const{$1:n,$4:r,$6:s}=RegExp;this[nu]=new xd(this,n,r,s),Mh(this,this[nu],this[j])}}get documentElement(){return this.firstElementChild}get isConnected(){return!0}_getParent(){return this[Fa]}createAttribute(t){return new Nl(this,t)}createCDATASection(t){return new Uy(this,t)}createComment(t){return new qy(this,t)}createDocumentFragment(){return new zy(this)}createDocumentType(t,n,r){return new xd(this,t,n,r)}createElement(t){return new Cl(this,t)}createRange(){const t=new l1;return t.commonAncestorContainer=this,t}createTextNode(t){return new kl(this,t)}createTreeWalker(t,n=-1){return new Jj(t,n)}createNodeIterator(t,n=-1){return this.createTreeWalker(t,n)}createEvent(t){const n=T7(t==="Event"?new Pu(""):new E_(""));return n.initEvent=n.initCustomEvent=(r,s=!1,i=!1,u)=>{n.bubbles=!!s,E7(n,{type:{value:r},canBubble:{value:s},cancelable:{value:i},detail:{value:u}})},n}cloneNode(t=!1){const{constructor:n,[Or]:r,[nu]:s}=this,i=new n;if(i[Or]=r,t){const u=i[X],{childNodes:o}=this;for(let{length:a}=o,c=0;c<a;c++)i.insertBefore(o[c].cloneNode(!0),u);s&&(i[nu]=o[0])}return i}importNode(t){const n=1<arguments.length&&!!arguments[1],r=t.cloneNode(n),{[Or]:s}=this,{active:i}=s,u=o=>{const{ownerDocument:a,nodeType:c}=o;o.ownerDocument=this,i&&a!==this&&c===ge&&s.upgrade(o)};if(u(r),n)switch(r.nodeType){case ge:case Us:{let{[j]:o,[X]:a}=r;for(;o!==a;)o.nodeType===ge&&u(o),o=o[j];break}}return r}toString(){return this.childNodes.join("")}querySelector(t){return ax(super.querySelector,this,t)}querySelectorAll(t){return ax(super.querySelectorAll,this,t)}getElementsByTagNameNS(t,n){return this.getElementsByTagName(n)}createAttributeNS(t,n){return this.createAttribute(n)}createElementNS(t,n,r){return t===wd?new Cc(this,n,null):this.createElement(n,r)}};hn(O_.Document=function(){zn()},ju).prototype=ju.prototype;const Wj=(e,t,n,r)=>{if(!t&&vd.has(n)){const u=vd.get(n);return new u(e,n)}const{[Or]:{active:s,registry:i}}=e;if(s){const u=t?r.is:n;if(i.has(u)){const{Class:o}=i.get(u),a=new o(e,n);return Mu.set(a,{connected:!1}),a}}return new q(e,n)};class Qj extends ju{constructor(){super("text/html")}get all(){const t=new ss;let{[j]:n,[X]:r}=this;for(;n!==r;){switch(n.nodeType){case ge:t.push(n);break}n=n[j]}return t}get head(){const{documentElement:t}=this;let{firstElementChild:n}=t;return(!n||n.tagName!=="HEAD")&&(n=this.createElement("head"),t.prepend(n)),n}get body(){const{head:t}=this;let{nextElementSibling:n}=t;return(!n||n.tagName!=="BODY")&&(n=this.createElement("body"),t.after(n)),n}get title(){var n;const{head:t}=this;return((n=t.getElementsByTagName("title").at(0))==null?void 0:n.textContent)||""}set title(t){const{head:n}=this;let r=n.getElementsByTagName("title").at(0);r?r.textContent=t:n.insertBefore(this.createElement("title"),n.firstChild).textContent=t}createElement(t,n){const r=!!(n&&n.is),s=Wj(this,r,t,n);return r&&s.setAttribute("is",n.is),s}}class Xj extends ju{constructor(){super("image/svg+xml")}toString(){return this[pa].docType+super.toString()}}class Kj extends ju{constructor(){super("text/xml")}toString(){return this[pa].docType+super.toString()}}class f1{parseFromString(t,n,r=null){let s=!1,i;return n==="text/html"?(s=!0,i=new Qj):n==="image/svg+xml"?i=new Xj:i=new Kj,i[em]=f1,r&&(i[$f]=r),s&&t==="..."&&(t="<!doctype html><html><head></head><body></body></html>"),t?QA(i,s,t):i}}const Yj=(e,t=null)=>new f1().parseFromString(e,"text/html",t).defaultView;function Zj(){zn()}hn(Zj,ju).prototype=ju.prototype;async function eL(e){const t=await fetch(e).then(s=>s.text()),{document:n}=Yj(t),r=await tL(n);return r?G(r):xe("Could not parse recipe")}async function tL(e){const t=e.querySelector('script[type="application/ld+json"]');if(t){const n=t.innerHTML,r={"@context":"https://schema.org/","@type":"Recipe","@explicit":!0,cookTime:{},prepTime:{},recipeYield:{},cookingMethod:{},datePublished:{},author:{},description:{},name:{},title:{},recipeIngredient:{},recipeCategory:{},recipeCuisine:{},recipeInstructions:{},url:{"@explicit":!0,id:{}}},{frame:s}=K9,i=await s(JSON.parse(n),r),u=i!=null&&i.recipeIngredient?i.recipeIngredient:[],o=i!=null&&i.recipeInstructions?i.recipeInstructions:[],a=new Date().toISOString(),c=(()=>{switch(!0){case Object.hasOwn(i,"name"):return i.name;case Object.hasOwn(i,"title"):return i.title;default:return`Imported Recipe-${a}`}})();return{slug:sM(c),title:c,cook_time:i!=null&&i.cookTime?Ya.toSeconds(Ya.parse(i==null?void 0:i.cookTime))/60:null,prep_time:i!=null&&i.prepTime?Ya.toSeconds(Ya.parse(i==null?void 0:i.prepTime))/60:null,serves:i!=null&&i.recipeYield?i.recipeYield[0]:0,ingredients:u.map(d=>({name:d})),method_steps:o.map(d=>({stepText:d.text}))}}}function nL(e){return pt(e)&&!ws(e)&&!$h(e)&&Symbol.asyncIterator in e}function ws(e){return Array.isArray(e)}function I_(e){return typeof e=="bigint"}function qh(e){return typeof e=="boolean"}function N_(e){return e instanceof globalThis.Date}function rL(e){return typeof e=="function"}function sL(e){return pt(e)&&!ws(e)&&!$h(e)&&Symbol.iterator in e}function iL(e){return e===null}function Ci(e){return typeof e=="number"}function pt(e){return typeof e=="object"&&e!==null}function uL(e){return e instanceof globalThis.RegExp}function nt(e){return typeof e=="string"}function oL(e){return typeof e=="symbol"}function $h(e){return e instanceof globalThis.Uint8Array}function Ge(e){return e===void 0}function aL(e){return e.map(t=>Od(t))}function cL(e){return new Date(e.getTime())}function lL(e){return new Uint8Array(e)}function fL(e){return new RegExp(e.source,e.flags)}function dL(e){const t={};for(const n of Object.getOwnPropertyNames(e))t[n]=Od(e[n]);for(const n of Object.getOwnPropertySymbols(e))t[n]=Od(e[n]);return t}function Od(e){return ws(e)?aL(e):N_(e)?cL(e):$h(e)?lL(e):uL(e)?fL(e):pt(e)?dL(e):e}function hL(e){return Od(e)}function Ln(e){return e.map(t=>ne(t))}function ne(e,t={}){return{...hL(e),...t}}class Gn extends Error{constructor(t){super(t)}}const us=Symbol.for("TypeBox.Transform"),Vh=Symbol.for("TypeBox.Readonly"),Vi=Symbol.for("TypeBox.Optional"),zh=Symbol.for("TypeBox.Hint"),V=Symbol.for("TypeBox.Kind");function pL(e){return pt(e)&&e[Vh]==="Readonly"}function wa(e){return pt(e)&&e[Vi]==="Optional"}function gL(e){return de(e,"Any")}function Ml(e){return de(e,"Array")}function d1(e){return de(e,"AsyncIterator")}function R_(e){return de(e,"BigInt")}function k_(e){return de(e,"Boolean")}function h1(e){return de(e,"Constructor")}function mL(e){return de(e,"Date")}function p1(e){return de(e,"Function")}function Hh(e){return de(e,"Integer")}function Hr(e){return de(e,"Intersect")}function g1(e){return de(e,"Iterator")}function de(e,t){return pt(e)&&V in e&&e[V]===t}function Pl(e){return de(e,"Literal")}function Gu(e){return de(e,"MappedKey")}function Jn(e){return de(e,"MappedResult")}function Gh(e){return de(e,"Never")}function bL(e){return de(e,"Not")}function yL(e){return de(e,"Null")}function Jh(e){return de(e,"Number")}function vs(e){return de(e,"Object")}function Wh(e){return de(e,"Promise")}function C_(e){return de(e,"Record")}function D_(e){return de(e,"Ref")}function M_(e){return de(e,"RegExp")}function m1(e){return de(e,"String")}function wL(e){return de(e,"Symbol")}function Ju(e){return de(e,"TemplateLiteral")}function vL(e){return de(e,"This")}function b1(e){return pt(e)&&us in e}function va(e){return de(e,"Tuple")}function xL(e){return de(e,"Undefined")}function Dt(e){return de(e,"Union")}function SL(e){return de(e,"Uint8Array")}function AL(e){return de(e,"Unknown")}function _L(e){return de(e,"Unsafe")}function TL(e){return de(e,"Void")}function EL(e){return pt(e)&&V in e&&nt(e[V])}function Lu(e){return gL(e)||Ml(e)||k_(e)||R_(e)||d1(e)||h1(e)||mL(e)||p1(e)||Hh(e)||Hr(e)||g1(e)||Pl(e)||Gu(e)||Jn(e)||Gh(e)||bL(e)||yL(e)||Jh(e)||vs(e)||Wh(e)||C_(e)||D_(e)||M_(e)||m1(e)||wL(e)||Ju(e)||vL(e)||va(e)||xL(e)||Dt(e)||SL(e)||AL(e)||_L(e)||TL(e)||EL(e)}const OL=["Any","Array","AsyncIterator","BigInt","Boolean","Constructor","Date","Enum","Function","Integer","Intersect","Iterator","Literal","MappedKey","MappedResult","Not","Null","Number","Object","Promise","Record","Ref","RegExp","String","Symbol","TemplateLiteral","This","Tuple","Undefined","Union","Uint8Array","Unknown","Void"];function P_(e){try{return new RegExp(e),!0}catch{return!1}}function y1(e){if(!nt(e))return!1;for(let t=0;t<e.length;t++){const n=e.charCodeAt(t);if(n>=7&&n<=13||n===27||n===127)return!1}return!0}function j_(e){return w1(e)||Ct(e)}function $a(e){return Ge(e)||I_(e)}function Re(e){return Ge(e)||Ci(e)}function w1(e){return Ge(e)||qh(e)}function _e(e){return Ge(e)||nt(e)}function IL(e){return Ge(e)||nt(e)&&y1(e)&&P_(e)}function NL(e){return Ge(e)||nt(e)&&y1(e)}function L_(e){return Ge(e)||Ct(e)}function Id(e){return pt(e)&&e[Vi]==="Optional"}function $r(e){return he(e,"Any")&&_e(e.$id)}function Wu(e){return he(e,"Array")&&e.type==="array"&&_e(e.$id)&&Ct(e.items)&&Re(e.minItems)&&Re(e.maxItems)&&w1(e.uniqueItems)&&L_(e.contains)&&Re(e.minContains)&&Re(e.maxContains)}function v1(e){return he(e,"AsyncIterator")&&e.type==="AsyncIterator"&&_e(e.$id)&&Ct(e.items)}function Qh(e){return he(e,"BigInt")&&e.type==="bigint"&&_e(e.$id)&&$a(e.exclusiveMaximum)&&$a(e.exclusiveMinimum)&&$a(e.maximum)&&$a(e.minimum)&&$a(e.multipleOf)}function Qu(e){return he(e,"Boolean")&&e.type==="boolean"&&_e(e.$id)}function Xh(e){return he(e,"Constructor")&&e.type==="Constructor"&&_e(e.$id)&&ws(e.parameters)&&e.parameters.every(t=>Ct(t))&&Ct(e.returns)}function Kh(e){return he(e,"Date")&&e.type==="Date"&&_e(e.$id)&&Re(e.exclusiveMaximumTimestamp)&&Re(e.exclusiveMinimumTimestamp)&&Re(e.maximumTimestamp)&&Re(e.minimumTimestamp)&&Re(e.multipleOfTimestamp)}function Yh(e){return he(e,"Function")&&e.type==="Function"&&_e(e.$id)&&ws(e.parameters)&&e.parameters.every(t=>Ct(t))&&Ct(e.returns)}function ni(e){return he(e,"Integer")&&e.type==="integer"&&_e(e.$id)&&Re(e.exclusiveMaximum)&&Re(e.exclusiveMinimum)&&Re(e.maximum)&&Re(e.minimum)&&Re(e.multipleOf)}function F_(e){return pt(e)&&Object.entries(e).every(([t,n])=>y1(t)&&Ct(n))}function Xu(e){return he(e,"Intersect")&&!(nt(e.type)&&e.type!=="object")&&ws(e.allOf)&&e.allOf.every(t=>Ct(t)&&!PL(t))&&_e(e.type)&&(w1(e.unevaluatedProperties)||L_(e.unevaluatedProperties))&&_e(e.$id)}function x1(e){return he(e,"Iterator")&&e.type==="Iterator"&&_e(e.$id)&&Ct(e.items)}function he(e,t){return pt(e)&&V in e&&e[V]===t}function B_(e){return zi(e)&&nt(e.const)}function U_(e){return zi(e)&&Ci(e.const)}function q_(e){return zi(e)&&qh(e.const)}function zi(e){return he(e,"Literal")&&_e(e.$id)&&RL(e.const)}function RL(e){return qh(e)||Ci(e)||nt(e)}function kL(e){return he(e,"MappedKey")&&ws(e.keys)&&e.keys.every(t=>Ci(t)||nt(t))}function CL(e){return he(e,"MappedResult")&&F_(e.properties)}function Hi(e){return he(e,"Never")&&pt(e.not)&&Object.getOwnPropertyNames(e.not).length===0}function Ho(e){return he(e,"Not")&&Ct(e.not)}function S1(e){return he(e,"Null")&&e.type==="null"&&_e(e.$id)}function An(e){return he(e,"Number")&&e.type==="number"&&_e(e.$id)&&Re(e.exclusiveMaximum)&&Re(e.exclusiveMinimum)&&Re(e.maximum)&&Re(e.minimum)&&Re(e.multipleOf)}function Ve(e){return he(e,"Object")&&e.type==="object"&&_e(e.$id)&&F_(e.properties)&&j_(e.additionalProperties)&&Re(e.minProperties)&&Re(e.maxProperties)}function A1(e){return he(e,"Promise")&&e.type==="Promise"&&_e(e.$id)&&Ct(e.item)}function kt(e){return he(e,"Record")&&e.type==="object"&&_e(e.$id)&&j_(e.additionalProperties)&&pt(e.patternProperties)&&(t=>{const n=Object.getOwnPropertyNames(t.patternProperties);return n.length===1&&P_(n[0])&&pt(t.patternProperties)&&Ct(t.patternProperties[n[0]])})(e)}function DL(e){return he(e,"Ref")&&_e(e.$id)&&nt(e.$ref)}function Dc(e){return he(e,"RegExp")&&_e(e.$id)&&nt(e.source)&&nt(e.flags)&&Re(e.maxLength)&&Re(e.minLength)}function Vr(e){return he(e,"String")&&e.type==="string"&&_e(e.$id)&&Re(e.minLength)&&Re(e.maxLength)&&IL(e.pattern)&&NL(e.format)}function Mc(e){return he(e,"Symbol")&&e.type==="symbol"&&_e(e.$id)}function Pc(e){return he(e,"TemplateLiteral")&&e.type==="string"&&nt(e.pattern)&&e.pattern[0]==="^"&&e.pattern[e.pattern.length-1]==="$"}function ML(e){return he(e,"This")&&_e(e.$id)&&nt(e.$ref)}function PL(e){return pt(e)&&us in e}function Zh(e){return he(e,"Tuple")&&e.type==="array"&&_e(e.$id)&&Ci(e.minItems)&&Ci(e.maxItems)&&e.minItems===e.maxItems&&(Ge(e.items)&&Ge(e.additionalItems)&&e.minItems===0||ws(e.items)&&e.items.every(t=>Ct(t)))}function Fu(e){return he(e,"Undefined")&&e.type==="undefined"&&_e(e.$id)}function Zs(e){return he(e,"Union")&&_e(e.$id)&&pt(e)&&ws(e.anyOf)&&e.anyOf.every(t=>Ct(t))}function jl(e){return he(e,"Uint8Array")&&e.type==="Uint8Array"&&_e(e.$id)&&Re(e.minByteLength)&&Re(e.maxByteLength)}function zr(e){return he(e,"Unknown")&&_e(e.$id)}function jL(e){return he(e,"Unsafe")}function ep(e){return he(e,"Void")&&e.type==="void"&&_e(e.$id)}function LL(e){return pt(e)&&V in e&&nt(e[V])&&!OL.includes(e[V])}function Ct(e){return pt(e)&&($r(e)||Wu(e)||Qu(e)||Qh(e)||v1(e)||Xh(e)||Kh(e)||Yh(e)||ni(e)||Xu(e)||x1(e)||zi(e)||kL(e)||CL(e)||Hi(e)||Ho(e)||S1(e)||An(e)||Ve(e)||A1(e)||kt(e)||DL(e)||Dc(e)||Vr(e)||Mc(e)||Pc(e)||ML(e)||Zh(e)||Fu(e)||Zs(e)||jl(e)||zr(e)||jL(e)||ep(e)||LL(e))}const FL="(true|false)",Jf="(0|[1-9][0-9]*)",$_="(.*)",jc=`^${Jf}$`,Nd=`^${$_}$`,_1=new Map;function V_(e){return _1.has(e)}function BL(e,t){_1.set(e,t)}function UL(e){return _1.get(e)}const T1=new Map;function E1(e){return T1.has(e)}function qL(e,t){T1.set(e,t)}function $L(e){return T1.get(e)}function VL(e,t){return e.includes(t)}function zL(e){return[...new Set(e)]}function HL(e,t){return e.filter(n=>t.includes(n))}function GL(e,t){return e.reduce((n,r)=>HL(n,r),t)}function JL(e){return e.length===1?e[0]:e.length>1?GL(e.slice(1),e[0]):[]}function WL(e){const t=[];for(const n of e)t.push(...n);return t}function Lc(e={}){return{...e,[V]:"Any"}}function z_(e,t={}){return{...t,[V]:"Array",type:"array",items:ne(e)}}function H_(e,t={}){return{...t,[V]:"AsyncIterator",type:"AsyncIterator",items:ne(e)}}function QL(e,t){const{[t]:n,...r}=e;return r}function dr(e,t){return t.reduce((n,r)=>QL(n,r),e)}function En(e={}){return{...e,[V]:"Never",not:{}}}function Mt(e){return{[V]:"MappedResult",properties:e}}function G_(e,t,n){return{...n,[V]:"Constructor",type:"Constructor",parameters:Ln(e),returns:ne(t)}}function tp(e,t,n){return{...n,[V]:"Function",type:"Function",parameters:Ln(e),returns:ne(t)}}function pm(e,t){return{...t,[V]:"Union",anyOf:Ln(e)}}function XL(e){return e.some(t=>wa(t))}function cx(e){return e.map(t=>wa(t)?KL(t):t)}function KL(e){return dr(e,[Vi])}function YL(e,t){return XL(e)?Yu(pm(cx(e),t)):pm(cx(e),t)}function xa(e,t={}){return e.length===0?En(t):e.length===1?ne(e[0],t):YL(e,t)}function pn(e,t={}){return e.length===0?En(t):e.length===1?ne(e[0],t):pm(e,t)}class lx extends Gn{}function ZL(e){return e.replace(/\\\$/g,"$").replace(/\\\*/g,"*").replace(/\\\^/g,"^").replace(/\\\|/g,"|").replace(/\\\(/g,"(").replace(/\\\)/g,")")}function O1(e,t,n){return e[t]===n&&e.charCodeAt(t-1)!==92}function Bs(e,t){return O1(e,t,"(")}function Fc(e,t){return O1(e,t,")")}function J_(e,t){return O1(e,t,"|")}function eF(e){if(!(Bs(e,0)&&Fc(e,e.length-1)))return!1;let t=0;for(let n=0;n<e.length;n++)if(Bs(e,n)&&(t+=1),Fc(e,n)&&(t-=1),t===0&&n!==e.length-1)return!1;return!0}function tF(e){return e.slice(1,e.length-1)}function nF(e){let t=0;for(let n=0;n<e.length;n++)if(Bs(e,n)&&(t+=1),Fc(e,n)&&(t-=1),J_(e,n)&&t===0)return!0;return!1}function rF(e){for(let t=0;t<e.length;t++)if(Bs(e,t))return!0;return!1}function sF(e){let[t,n]=[0,0];const r=[];for(let i=0;i<e.length;i++)if(Bs(e,i)&&(t+=1),Fc(e,i)&&(t-=1),J_(e,i)&&t===0){const u=e.slice(n,i);u.length>0&&r.push(Go(u)),n=i+1}const s=e.slice(n);return s.length>0&&r.push(Go(s)),r.length===0?{type:"const",const:""}:r.length===1?r[0]:{type:"or",expr:r}}function iF(e){function t(s,i){if(!Bs(s,i))throw new lx("TemplateLiteralParser: Index must point to open parens");let u=0;for(let o=i;o<s.length;o++)if(Bs(s,o)&&(u+=1),Fc(s,o)&&(u-=1),u===0)return[i,o];throw new lx("TemplateLiteralParser: Unclosed group parens in expression")}function n(s,i){for(let u=i;u<s.length;u++)if(Bs(s,u))return[i,u];return[i,s.length]}const r=[];for(let s=0;s<e.length;s++)if(Bs(e,s)){const[i,u]=t(e,s),o=e.slice(i,u+1);r.push(Go(o)),s=u}else{const[i,u]=n(e,s),o=e.slice(i,u);o.length>0&&r.push(Go(o)),s=u-1}return r.length===0?{type:"const",const:""}:r.length===1?r[0]:{type:"and",expr:r}}function Go(e){return eF(e)?Go(tF(e)):nF(e)?sF(e):rF(e)?iF(e):{type:"const",const:ZL(e)}}function I1(e){return Go(e.slice(1,e.length-1))}class uF extends Gn{}function oF(e){return e.type==="or"&&e.expr.length===2&&e.expr[0].type==="const"&&e.expr[0].const==="0"&&e.expr[1].type==="const"&&e.expr[1].const==="[1-9][0-9]*"}function aF(e){return e.type==="or"&&e.expr.length===2&&e.expr[0].type==="const"&&e.expr[0].const==="true"&&e.expr[1].type==="const"&&e.expr[1].const==="false"}function cF(e){return e.type==="const"&&e.const===".*"}function Bc(e){return oF(e)||cF(e)?!1:aF(e)?!0:e.type==="and"?e.expr.every(t=>Bc(t)):e.type==="or"?e.expr.every(t=>Bc(t)):e.type==="const"?!0:(()=>{throw new uF("Unknown expression type")})()}function lF(e){const t=I1(e.pattern);return Bc(t)}class fF extends Gn{}function*W_(e){if(e.length===1)return yield*e[0];for(const t of e[0])for(const n of W_(e.slice(1)))yield`${t}${n}`}function*dF(e){return yield*W_(e.expr.map(t=>[...np(t)]))}function*hF(e){for(const t of e.expr)yield*np(t)}function*pF(e){return yield e.const}function*np(e){return e.type==="and"?yield*dF(e):e.type==="or"?yield*hF(e):e.type==="const"?yield*pF(e):(()=>{throw new fF("Unknown expression")})()}function Q_(e){const t=I1(e.pattern);return Bc(t)?[...np(t)]:[]}function Je(e,t={}){return{...t,[V]:"Literal",const:e,type:typeof e}}function X_(e={}){return{...e,[V]:"Boolean",type:"boolean"}}function N1(e={}){return{...e,[V]:"BigInt",type:"bigint"}}function Sa(e={}){return{...e,[V]:"Number",type:"number"}}function Di(e={}){return{...e,[V]:"String",type:"string"}}function*gF(e){const t=e.trim().replace(/"|'/g,"");return t==="boolean"?yield X_():t==="number"?yield Sa():t==="bigint"?yield N1():t==="string"?yield Di():yield(()=>{const n=t.split("|").map(r=>Je(r.trim()));return n.length===0?En():n.length===1?n[0]:xa(n)})()}function*mF(e){if(e[1]!=="{"){const t=Je("$"),n=gm(e.slice(1));return yield*[t,...n]}for(let t=2;t<e.length;t++)if(e[t]==="}"){const n=gF(e.slice(2,t)),r=gm(e.slice(t+1));return yield*[...n,...r]}yield Je(e)}function*gm(e){for(let t=0;t<e.length;t++)if(e[t]==="$"){const n=Je(e.slice(0,t)),r=mF(e.slice(t));return yield*[n,...r]}yield Je(e)}function bF(e){return[...gm(e)]}class yF extends Gn{}function wF(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function K_(e,t){return Ju(e)?e.pattern.slice(1,e.pattern.length-1):Dt(e)?`(${e.anyOf.map(n=>K_(n,t)).join("|")})`:Jh(e)?`${t}${Jf}`:Hh(e)?`${t}${Jf}`:R_(e)?`${t}${Jf}`:m1(e)?`${t}${$_}`:Pl(e)?`${t}${wF(e.const.toString())}`:k_(e)?`${t}${FL}`:(()=>{throw new yF(`Unexpected Kind '${e[V]}'`)})()}function fx(e){return`^${e.map(t=>K_(t,"")).join("")}$`}function Rd(e){const n=Q_(e).map(r=>Je(r));return xa(n)}function Y_(e,t={}){const n=nt(e)?fx(bF(e)):fx(e);return{...t,[V]:"TemplateLiteral",type:"string",pattern:n}}function vF(e){return Q_(e).map(n=>n.toString())}function xF(e){const t=[];for(const n of e)t.push(...Gi(n));return t}function SF(e){return[e.toString()]}function Gi(e){return[...new Set(Ju(e)?vF(e):Dt(e)?xF(e.anyOf):Pl(e)?SF(e.const):Jh(e)?["[number]"]:Hh(e)?["[number]"]:[])]}function AF(e,t,n){const r={};for(const s of Object.getOwnPropertyNames(t))r[s]=R1(e,Gi(t[s]),n);return r}function _F(e,t,n){return AF(e,t.properties,n)}function TF(e,t,n){const r=_F(e,t,n);return Mt(r)}function Z_(e,t){return e.map(n=>eT(n,t))}function EF(e){return e.filter(t=>!Gh(t))}function OF(e,t){return iT(EF(Z_(e,t)))}function IF(e){return e.some(t=>Gh(t))?[]:e}function NF(e,t){return xa(IF(Z_(e,t)))}function RF(e,t){return t in e?e[t]:t==="[number]"?xa(e):En()}function kF(e,t){return t==="[number]"?e:En()}function CF(e,t){return t in e?e[t]:En()}function eT(e,t){return Hr(e)?OF(e.allOf,t):Dt(e)?NF(e.anyOf,t):va(e)?RF(e.items??[],t):Ml(e)?kF(e.items,t):vs(e)?CF(e.properties,t):En()}function tT(e,t){return t.map(n=>eT(e,n))}function dx(e,t){return xa(tT(e,t))}function R1(e,t,n={}){return Jn(t)?ne(TF(e,t,n)):Gu(t)?ne(jF(e,t,n)):Lu(t)?ne(dx(e,Gi(t)),n):ne(dx(e,t),n)}function DF(e,t,n){return{[t]:R1(e,[t],n)}}function MF(e,t,n){return t.reduce((r,s)=>({...r,...DF(e,s,n)}),{})}function PF(e,t,n){return MF(e,t.keys,n)}function jF(e,t,n){const r=PF(e,t,n);return Mt(r)}function nT(e,t={}){return{...t,[V]:"Iterator",type:"Iterator",items:ne(e)}}function LF(e,t={}){const n=globalThis.Object.getOwnPropertyNames(e),r=n.filter(o=>wa(e[o])),s=n.filter(o=>!r.includes(o)),i=Lu(t.additionalProperties)?{additionalProperties:ne(t.additionalProperties)}:{},u={};for(const o of n)u[o]=ne(e[o]);return s.length>0?{...t,...i,[V]:"Object",type:"object",properties:u,required:s}:{...t,...i,[V]:"Object",type:"object",properties:u}}const _t=LF;function rT(e,t={}){return{...t,[V]:"Promise",type:"Promise",item:ne(e)}}function FF(e){return dr(ne(e),[Vh])}function BF(e){return{...ne(e),[Vh]:"Readonly"}}function UF(e,t){return t===!1?FF(e):BF(e)}function Ku(e,t){const n=t??!0;return Jn(e)?VF(e,n):UF(e,n)}function qF(e,t){const n={};for(const r of globalThis.Object.getOwnPropertyNames(e))n[r]=Ku(e[r],t);return n}function $F(e,t){return qF(e.properties,t)}function VF(e,t){const n=$F(e,t);return Mt(n)}function Ll(e,t={}){const[n,r,s]=[!1,e.length,e.length];return e.length>0?{...t,[V]:"Tuple",type:"array",items:Ln(e),additionalItems:n,minItems:r,maxItems:s}:{...t,[V]:"Tuple",type:"array",minItems:r,maxItems:s}}function sT(e,t){return e in t?Yn(e,t[e]):Mt(t)}function zF(e){return{[e]:Je(e)}}function HF(e){const t={};for(const n of e)t[n]=Je(n);return t}function GF(e,t){return VL(t,e)?zF(e):HF(t)}function JF(e,t){const n=GF(e,t);return sT(e,n)}function Va(e,t){return t.map(n=>Yn(e,n))}function WF(e,t){const n={};for(const r of globalThis.Object.getOwnPropertyNames(t))n[r]=Yn(e,t[r]);return n}function Yn(e,t){return wa(t)?Yu(Yn(e,dr(t,[Vi]))):pL(t)?Ku(Yn(e,dr(t,[Vh]))):Jn(t)?sT(e,t.properties):Gu(t)?JF(e,t.keys):h1(t)?G_(Va(e,t.parameters),Yn(e,t.returns)):p1(t)?tp(Va(e,t.parameters),Yn(e,t.returns)):d1(t)?H_(Yn(e,t.items)):g1(t)?nT(Yn(e,t.items)):Hr(t)?Zu(Va(e,t.allOf)):Dt(t)?pn(Va(e,t.anyOf)):va(t)?Ll(Va(e,t.items??[])):vs(t)?_t(WF(e,t.properties)):Ml(t)?z_(Yn(e,t.items)):Wh(t)?rT(Yn(e,t.item)):t}function QF(e,t){const n={};for(const r of e)n[r]=Yn(r,t);return n}function XF(e,t,n={}){const r=Lu(e)?Gi(e):e,s=t({[V]:"MappedKey",keys:r}),i=QF(r,s);return ne(_t(i),n)}function KF(e){return dr(ne(e),[Vi])}function YF(e){return{...ne(e),[Vi]:"Optional"}}function ZF(e,t){return t===!1?KF(e):YF(e)}function Yu(e,t){const n=t??!0;return Jn(e)?nB(e,n):ZF(e,n)}function eB(e,t){const n={};for(const r of globalThis.Object.getOwnPropertyNames(e))n[r]=Yu(e[r],t);return n}function tB(e,t){return eB(e.properties,t)}function nB(e,t){const n=tB(e,t);return Mt(n)}function mm(e,t){const n=e.every(s=>vs(s)),r=Lu(t.unevaluatedProperties)?{unevaluatedProperties:ne(t.unevaluatedProperties)}:{};return t.unevaluatedProperties===!1||Lu(t.unevaluatedProperties)||n?{...t,...r,[V]:"Intersect",type:"object",allOf:Ln(e)}:{...t,...r,[V]:"Intersect",allOf:Ln(e)}}function rB(e){return e.every(t=>wa(t))}function sB(e){return dr(e,[Vi])}function hx(e){return e.map(t=>wa(t)?sB(t):t)}function iB(e,t){return rB(e)?Yu(mm(hx(e),t)):mm(hx(e),t)}function iT(e,t={}){if(e.length===0)return En(t);if(e.length===1)return ne(e[0],t);if(e.some(n=>b1(n)))throw new Error("Cannot intersect transform types");return iB(e,t)}function Zu(e,t={}){if(e.length===0)return En(t);if(e.length===1)return ne(e[0],t);if(e.some(n=>b1(n)))throw new Error("Cannot intersect transform types");return mm(e,t)}function uT(e){return e.map(t=>k1(t))}function uB(e){return Zu(uT(e))}function oB(e){return pn(uT(e))}function aB(e){return k1(e)}function k1(e){return Hr(e)?uB(e.allOf):Dt(e)?oB(e.anyOf):Wh(e)?aB(e.item):e}function cB(e,t={}){return ne(k1(e),t)}function oT(e){const t=[];for(const n of e)t.push(rp(n));return t}function lB(e){const t=oT(e);return WL(t)}function fB(e){const t=oT(e);return JL(t)}function dB(e){return e.map((t,n)=>n.toString())}function hB(e){return["[number]"]}function pB(e){return globalThis.Object.getOwnPropertyNames(e)}function gB(e){return bm?globalThis.Object.getOwnPropertyNames(e).map(n=>n[0]==="^"&&n[n.length-1]==="$"?n.slice(1,n.length-1):n):[]}function rp(e){return Hr(e)?lB(e.allOf):Dt(e)?fB(e.anyOf):va(e)?dB(e.items??[]):Ml(e)?hB(e.items):vs(e)?pB(e.properties):C_(e)?gB(e.patternProperties):[]}let bm=!1;function px(e){bm=!0;const t=rp(e);return bm=!1,`^(${t.map(r=>`(${r})`).join("|")})$`}function mB(e){return e.map(t=>t==="[number]"?Sa():Je(t))}function aT(e,t={}){if(Jn(e))return wB(e,t);{const n=rp(e),r=mB(n),s=xa(r);return ne(s,t)}}function bB(e,t){const n={};for(const r of globalThis.Object.getOwnPropertyNames(e))n[r]=aT(e[r],t);return n}function yB(e,t){return bB(e.properties,t)}function wB(e,t){const n=yB(e,t);return Mt(n)}function vB(e){const t=[];for(const n of e)t.push(...rp(n));return zL(t)}function xB(e){return e.filter(t=>!Gh(t))}function SB(e,t){const n=[];for(const r of e)n.push(...tT(r,[t]));return xB(n)}function AB(e,t){const n={};for(const r of t)n[r]=iT(SB(e,r));return n}function _B(e,t={}){const n=vB(e),r=AB(e,n);return _t(r,t)}function cT(e={}){return{...e,[V]:"Date",type:"Date"}}function lT(e={}){return{...e,[V]:"Null",type:"null"}}function fT(e){return{...e,[V]:"Symbol",type:"symbol"}}function dT(e={}){return{...e,[V]:"Undefined",type:"undefined"}}function hT(e={}){return{...e,[V]:"Uint8Array",type:"Uint8Array"}}function Fl(e={}){return{...e,[V]:"Unknown"}}function TB(e){return e.map(t=>C1(t,!1))}function EB(e){const t={};for(const n of globalThis.Object.getOwnPropertyNames(e))t[n]=Ku(C1(e[n],!1));return t}function yf(e,t){return t===!0?e:Ku(e)}function C1(e,t){return nL(e)||sL(e)?yf(Lc(),t):ws(e)?Ku(Ll(TB(e))):$h(e)?hT():N_(e)?cT():pt(e)?yf(_t(EB(e)),t):rL(e)?yf(tp([],Fl()),t):Ge(e)?dT():iL(e)?lT():oL(e)?fT():I_(e)?N1():Ci(e)||qh(e)||nt(e)?Je(e):_t({})}function OB(e,t={}){return ne(C1(e,!0),t)}function IB(e,t={}){return Ll(Ln(e.parameters),{...t})}function Bl(e,t){return e.map(n=>xs(n,t))}function NB(e,t){const n={};for(const r of globalThis.Object.getOwnPropertyNames(e))n[r]=xs(e[r],t);return n}function RB(e,t){return e.parameters=Bl(e.parameters,t),e.returns=xs(e.returns,t),e}function kB(e,t){return e.parameters=Bl(e.parameters,t),e.returns=xs(e.returns,t),e}function CB(e,t){return e.allOf=Bl(e.allOf,t),e}function DB(e,t){return e.anyOf=Bl(e.anyOf,t),e}function MB(e,t){return Ge(e.items)||(e.items=Bl(e.items,t)),e}function PB(e,t){return e.items=xs(e.items,t),e}function jB(e,t){return e.properties=NB(e.properties,t),e}function LB(e,t){return e.item=xs(e.item,t),e}function FB(e,t){return e.items=xs(e.items,t),e}function BB(e,t){return e.items=xs(e.items,t),e}function UB(e,t){const n=t.find(s=>s.$id===e.$ref);if(n===void 0)throw Error(`Unable to dereference schema with $id ${e.$ref}`);const r=dr(n,["$id"]);return xs(r,t)}function qB(e,t){return h1(e)?RB(e,t):p1(e)?kB(e,t):Hr(e)?CB(e,t):Dt(e)?DB(e,t):va(e)?MB(e,t):Ml(e)?PB(e,t):vs(e)?jB(e,t):Wh(e)?LB(e,t):d1(e)?FB(e,t):g1(e)?BB(e,t):D_(e)?UB(e,t):e}function xs(e,t){return qB(ne(e),Ln(t))}function $B(e,t={}){if(Ge(e))throw new Error("Enum undefined or empty");const n=globalThis.Object.getOwnPropertyNames(e).filter(i=>isNaN(i)).map(i=>e[i]),s=[...new Set(n)].map(i=>Je(i));return pn(s,{...t,[zh]:"Enum"})}class VB extends Gn{}var N;(function(e){e[e.Union=0]="Union",e[e.True=1]="True",e[e.False=2]="False"})(N||(N={}));function hr(e){return e===N.False?e:N.True}function Aa(e){throw new VB(e)}function rt(e){return Hi(e)||Xu(e)||Zs(e)||zr(e)||$r(e)}function st(e,t){return Hi(t)?mT():Xu(t)?sp(e,t):Zs(t)?M1(e,t):zr(t)?vT():$r(t)?D1():Aa("StructuralRight")}function D1(e,t){return N.True}function zB(e,t){return Xu(t)?sp(e,t):Zs(t)&&t.anyOf.some(n=>$r(n)||zr(n))?N.True:Zs(t)?N.Union:zr(t)||$r(t)?N.True:N.Union}function HB(e,t){return zr(e)?N.False:$r(e)?N.Union:Hi(e)?N.True:N.False}function GB(e,t){return Ve(t)&&ip(t)?N.True:rt(t)?st(e,t):Wu(t)?hr(Ae(e.items,t.items)):N.False}function JB(e,t){return rt(t)?st(e,t):v1(t)?hr(Ae(e.items,t.items)):N.False}function WB(e,t){return rt(t)?st(e,t):Ve(t)?tn(e,t):kt(t)?mr(e,t):Qh(t)?N.True:N.False}function pT(e,t){return q_(e)||Qu(e)?N.True:N.False}function QB(e,t){return rt(t)?st(e,t):Ve(t)?tn(e,t):kt(t)?mr(e,t):Qu(t)?N.True:N.False}function XB(e,t){return rt(t)?st(e,t):Ve(t)?tn(e,t):Xh(t)?e.parameters.length>t.parameters.length?N.False:e.parameters.every((n,r)=>hr(Ae(t.parameters[r],n))===N.True)?hr(Ae(e.returns,t.returns)):N.False:N.False}function KB(e,t){return rt(t)?st(e,t):Ve(t)?tn(e,t):kt(t)?mr(e,t):Kh(t)?N.True:N.False}function YB(e,t){return rt(t)?st(e,t):Ve(t)?tn(e,t):Yh(t)?e.parameters.length>t.parameters.length?N.False:e.parameters.every((n,r)=>hr(Ae(t.parameters[r],n))===N.True)?hr(Ae(e.returns,t.returns)):N.False:N.False}function gT(e,t){return zi(e)&&Ci(e.const)||An(e)||ni(e)?N.True:N.False}function ZB(e,t){return ni(t)||An(t)?N.True:rt(t)?st(e,t):Ve(t)?tn(e,t):kt(t)?mr(e,t):N.False}function sp(e,t){return t.allOf.every(n=>Ae(e,n)===N.True)?N.True:N.False}function eU(e,t){return e.allOf.some(n=>Ae(n,t)===N.True)?N.True:N.False}function tU(e,t){return rt(t)?st(e,t):x1(t)?hr(Ae(e.items,t.items)):N.False}function nU(e,t){return zi(t)&&t.const===e.const?N.True:rt(t)?st(e,t):Ve(t)?tn(e,t):kt(t)?mr(e,t):Vr(t)?wT(e):An(t)?bT(e):ni(t)?gT(e):Qu(t)?pT(e):N.False}function mT(e,t){return N.False}function rU(e,t){return N.True}function gx(e){let[t,n]=[e,0];for(;Ho(t);)t=t.not,n+=1;return n%2===0?t:Fl()}function sU(e,t){return Ho(e)?Ae(gx(e),t):Ho(t)?Ae(e,gx(t)):Aa("Invalid fallthrough for Not")}function iU(e,t){return rt(t)?st(e,t):Ve(t)?tn(e,t):kt(t)?mr(e,t):S1(t)?N.True:N.False}function bT(e,t){return U_(e)||An(e)||ni(e)?N.True:N.False}function uU(e,t){return rt(t)?st(e,t):Ve(t)?tn(e,t):kt(t)?mr(e,t):ni(t)||An(t)?N.True:N.False}function Tn(e,t){return Object.getOwnPropertyNames(e.properties).length===t}function mx(e){return ip(e)}function bx(e){return Tn(e,0)||Tn(e,1)&&"description"in e.properties&&Zs(e.properties.description)&&e.properties.description.anyOf.length===2&&(Vr(e.properties.description.anyOf[0])&&Fu(e.properties.description.anyOf[1])||Vr(e.properties.description.anyOf[1])&&Fu(e.properties.description.anyOf[0]))}function tg(e){return Tn(e,0)}function yx(e){return Tn(e,0)}function oU(e){return Tn(e,0)}function aU(e){return Tn(e,0)}function cU(e){return ip(e)}function lU(e){const t=Sa();return Tn(e,0)||Tn(e,1)&&"length"in e.properties&&hr(Ae(e.properties.length,t))===N.True}function fU(e){return Tn(e,0)}function ip(e){const t=Sa();return Tn(e,0)||Tn(e,1)&&"length"in e.properties&&hr(Ae(e.properties.length,t))===N.True}function dU(e){const t=tp([Lc()],Lc());return Tn(e,0)||Tn(e,1)&&"then"in e.properties&&hr(Ae(e.properties.then,t))===N.True}function yT(e,t){return Ae(e,t)===N.False||Id(e)&&!Id(t)?N.False:N.True}function tn(e,t){return zr(e)?N.False:$r(e)?N.Union:Hi(e)||B_(e)&&mx(t)||U_(e)&&tg(t)||q_(e)&&yx(t)||Mc(e)&&bx(t)||Qh(e)&&oU(t)||Vr(e)&&mx(t)||Mc(e)&&bx(t)||An(e)&&tg(t)||ni(e)&&tg(t)||Qu(e)&&yx(t)||jl(e)&&cU(t)||Kh(e)&&aU(t)||Xh(e)&&fU(t)||Yh(e)&&lU(t)?N.True:kt(e)&&Vr(ym(e))?t[zh]==="Record"?N.True:N.False:kt(e)&&An(ym(e))?Tn(t,0)?N.True:N.False:N.False}function hU(e,t){return rt(t)?st(e,t):kt(t)?mr(e,t):Ve(t)?(()=>{for(const n of Object.getOwnPropertyNames(t.properties)){if(!(n in e.properties)&&!Id(t.properties[n]))return N.False;if(Id(t.properties[n]))return N.True;if(yT(e.properties[n],t.properties[n])===N.False)return N.False}return N.True})():N.False}function pU(e,t){return rt(t)?st(e,t):Ve(t)&&dU(t)?N.True:A1(t)?hr(Ae(e.item,t.item)):N.False}function ym(e){return jc in e.patternProperties?Sa():Nd in e.patternProperties?Di():Aa("Unknown record key pattern")}function wm(e){return jc in e.patternProperties?e.patternProperties[jc]:Nd in e.patternProperties?e.patternProperties[Nd]:Aa("Unable to get record value schema")}function mr(e,t){const[n,r]=[ym(t),wm(t)];return B_(e)&&An(n)&&hr(Ae(e,r))===N.True?N.True:jl(e)&&An(n)||Vr(e)&&An(n)||Wu(e)&&An(n)?Ae(e,r):Ve(e)?(()=>{for(const s of Object.getOwnPropertyNames(e.properties))if(yT(r,e.properties[s])===N.False)return N.False;return N.True})():N.False}function gU(e,t){return rt(t)?st(e,t):Ve(t)?tn(e,t):kt(t)?Ae(wm(e),wm(t)):N.False}function mU(e,t){const n=Dc(e)?Di():e,r=Dc(t)?Di():t;return Ae(n,r)}function wT(e,t){return zi(e)&&nt(e.const)||Vr(e)?N.True:N.False}function bU(e,t){return rt(t)?st(e,t):Ve(t)?tn(e,t):kt(t)?mr(e,t):Vr(t)?N.True:N.False}function yU(e,t){return rt(t)?st(e,t):Ve(t)?tn(e,t):kt(t)?mr(e,t):Mc(t)?N.True:N.False}function wU(e,t){return Pc(e)?Ae(Rd(e),t):Pc(t)?Ae(e,Rd(t)):Aa("Invalid fallthrough for TemplateLiteral")}function vU(e,t){return Wu(t)&&e.items!==void 0&&e.items.every(n=>Ae(n,t.items)===N.True)}function xU(e,t){return Hi(e)?N.True:zr(e)?N.False:$r(e)?N.Union:N.False}function SU(e,t){return rt(t)?st(e,t):Ve(t)&&ip(t)||Wu(t)&&vU(e,t)?N.True:Zh(t)?Ge(e.items)&&!Ge(t.items)||!Ge(e.items)&&Ge(t.items)?N.False:Ge(e.items)&&!Ge(t.items)||e.items.every((n,r)=>Ae(n,t.items[r])===N.True)?N.True:N.False:N.False}function AU(e,t){return rt(t)?st(e,t):Ve(t)?tn(e,t):kt(t)?mr(e,t):jl(t)?N.True:N.False}function _U(e,t){return rt(t)?st(e,t):Ve(t)?tn(e,t):kt(t)?mr(e,t):ep(t)?OU(e):Fu(t)?N.True:N.False}function M1(e,t){return t.anyOf.some(n=>Ae(e,n)===N.True)?N.True:N.False}function TU(e,t){return e.anyOf.every(n=>Ae(n,t)===N.True)?N.True:N.False}function vT(e,t){return N.True}function EU(e,t){return Hi(t)?mT():Xu(t)?sp(e,t):Zs(t)?M1(e,t):$r(t)?D1():Vr(t)?wT(e):An(t)?bT(e):ni(t)?gT(e):Qu(t)?pT(e):Wu(t)?HB(e):Zh(t)?xU(e):Ve(t)?tn(e,t):zr(t)?N.True:N.False}function OU(e,t){return Fu(e)||Fu(e)?N.True:N.False}function IU(e,t){return Xu(t)?sp(e,t):Zs(t)?M1(e,t):zr(t)?vT():$r(t)?D1():Ve(t)?tn(e,t):ep(t)?N.True:N.False}function Ae(e,t){return Pc(e)||Pc(t)?wU(e,t):Dc(e)||Dc(t)?mU(e,t):Ho(e)||Ho(t)?sU(e,t):$r(e)?zB(e,t):Wu(e)?GB(e,t):Qh(e)?WB(e,t):Qu(e)?QB(e,t):v1(e)?JB(e,t):Xh(e)?XB(e,t):Kh(e)?KB(e,t):Yh(e)?YB(e,t):ni(e)?ZB(e,t):Xu(e)?eU(e,t):x1(e)?tU(e,t):zi(e)?nU(e,t):Hi(e)?rU():S1(e)?iU(e,t):An(e)?uU(e,t):Ve(e)?hU(e,t):kt(e)?gU(e,t):Vr(e)?bU(e,t):Mc(e)?yU(e,t):Zh(e)?SU(e,t):A1(e)?pU(e,t):jl(e)?AU(e,t):Fu(e)?_U(e,t):Zs(e)?TU(e,t):zr(e)?EU(e,t):ep(e)?IU(e,t):Aa(`Unknown left type operand '${e[V]}'`)}function Ul(e,t){return Ae(e,t)}function NU(e,t,n,r,s){const i={};for(const u of globalThis.Object.getOwnPropertyNames(e))i[u]=P1(e[u],t,n,r,s);return i}function RU(e,t,n,r,s){return NU(e.properties,t,n,r,s)}function kU(e,t,n,r,s){const i=RU(e,t,n,r,s);return Mt(i)}function CU(e,t,n,r){const s=Ul(e,t);return s===N.Union?pn([n,r]):s===N.True?n:r}function P1(e,t,n,r,s={}){return Jn(e)?kU(e,t,n,r,s):Gu(e)?ne(jU(e,t,n,r,s)):ne(CU(e,t,n,r),s)}function DU(e,t,n,r,s){return{[e]:P1(Je(e),t,n,r,s)}}function MU(e,t,n,r,s){return e.reduce((i,u)=>({...i,...DU(u,t,n,r,s)}),{})}function PU(e,t,n,r,s){return MU(e.keys,t,n,r,s)}function jU(e,t,n,r,s){const i=PU(e,t,n,r,s);return Mt(i)}function LU(e){return e.allOf.every(t=>up(t))}function FU(e){return e.anyOf.some(t=>up(t))}function BU(e){return!up(e.not)}function up(e){return e[V]==="Intersect"?LU(e):e[V]==="Union"?FU(e):e[V]==="Not"?BU(e):e[V]==="Undefined"}function UU(e,t){return j1(Rd(e),t)}function qU(e,t){const n=e.filter(r=>Ul(r,t)===N.False);return n.length===1?n[0]:pn(n)}function j1(e,t,n={}){return Ju(e)?ne(UU(e,t),n):Jn(e)?ne(zU(e,t),n):ne(Dt(e)?qU(e.anyOf,t):Ul(e,t)!==N.False?En():e,n)}function $U(e,t){const n={};for(const r of globalThis.Object.getOwnPropertyNames(e))n[r]=j1(e[r],t);return n}function VU(e,t){return $U(e.properties,t)}function zU(e,t){const n=VU(e,t);return Mt(n)}function HU(e,t){return L1(Rd(e),t)}function GU(e,t){const n=e.filter(r=>Ul(r,t)!==N.False);return n.length===1?n[0]:pn(n)}function L1(e,t,n={}){return Ju(e)?ne(HU(e,t),n):Jn(e)?ne(QU(e,t),n):ne(Dt(e)?GU(e.anyOf,t):Ul(e,t)!==N.False?e:En(),n)}function JU(e,t){const n={};for(const r of globalThis.Object.getOwnPropertyNames(e))n[r]=L1(e[r],t);return n}function WU(e,t){return JU(e.properties,t)}function QU(e,t){const n=WU(e,t);return Mt(n)}function XU(e,t={}){return ne(e.returns,t)}function KU(e={}){return{...e,[V]:"Integer",type:"integer"}}function YU(e,t,n){return{[e]:_a(Je(e),t,n)}}function ZU(e,t,n){return e.reduce((r,s)=>({...r,...YU(s,t,n)}),{})}function eq(e,t,n){return ZU(e.keys,t,n)}function tq(e,t,n){const r=eq(e,t,n);return Mt(r)}function nq(e){const[t,n]=[e.slice(0,1),e.slice(1)];return[t.toLowerCase(),n].join("")}function rq(e){const[t,n]=[e.slice(0,1),e.slice(1)];return[t.toUpperCase(),n].join("")}function sq(e){return e.toUpperCase()}function iq(e){return e.toLowerCase()}function uq(e,t,n){const r=I1(e.pattern);if(!Bc(r))return{...e,pattern:xT(e.pattern,t)};const u=[...np(r)].map(c=>Je(c)),o=ST(u,t),a=pn(o);return Y_([a],n)}function xT(e,t){return typeof e=="string"?t==="Uncapitalize"?nq(e):t==="Capitalize"?rq(e):t==="Uppercase"?sq(e):t==="Lowercase"?iq(e):e:e.toString()}function ST(e,t){return e.map(n=>_a(n,t))}function _a(e,t,n={}){return Gu(e)?tq(e,t,n):Ju(e)?uq(e,t,e):Dt(e)?pn(ST(e.anyOf,t),n):Pl(e)?Je(xT(e.const,t),n):e}function oq(e,t={}){return _a(e,"Capitalize",t)}function aq(e,t={}){return _a(e,"Lowercase",t)}function cq(e,t={}){return _a(e,"Uncapitalize",t)}function lq(e,t={}){return _a(e,"Uppercase",t)}function fq(e,t){return{...t,[V]:"Not",not:ne(e)}}function dq(e,t,n){const r={};for(const s of globalThis.Object.getOwnPropertyNames(e))r[s]=B1(e[s],t,n);return r}function hq(e,t,n){return dq(e.properties,t,n)}function pq(e,t,n){const r=hq(e,t,n);return Mt(r)}function gq(e,t){return e.map(n=>F1(n,t))}function mq(e,t){return e.map(n=>F1(n,t))}function bq(e,t){const{[t]:n,...r}=e;return r}function yq(e,t){return t.reduce((n,r)=>bq(n,r),e)}function F1(e,t){return Hr(e)?Zu(gq(e.allOf,t)):Dt(e)?pn(mq(e.anyOf,t)):vs(e)?_t(yq(e.properties,t)):_t({})}function B1(e,t,n={}){if(Gu(t))return Sq(e,t,n);if(Jn(e))return pq(e,t,n);const r=Lu(t)?Gi(t):t,s=dr(e,[us,"$id","required"]),i=ne(F1(e,r),n);return{...s,...i}}function wq(e,t,n){return{[t]:B1(e,[t],n)}}function vq(e,t,n){return t.reduce((r,s)=>({...r,...wq(e,s,n)}),{})}function xq(e,t,n){return vq(e,t.keys,n)}function Sq(e,t,n){const r=xq(e,t,n);return Mt(r)}function Aq(e,t={}){return Ll(Ln(e.parameters),{...t})}function wx(e){return e.map(t=>AT(t))}function _q(e){const t={};for(const n of globalThis.Object.getOwnPropertyNames(e))t[n]=Yu(e[n]);return t}function AT(e){return Hr(e)?Zu(wx(e.allOf)):Dt(e)?pn(wx(e.anyOf)):vs(e)?_t(_q(e.properties)):_t({})}function _T(e,t={}){if(Jn(e))return Oq(e,t);const n=dr(e,[us,"$id","required"]),r=ne(AT(e),t);return{...n,...r}}function Tq(e,t){const n={};for(const r of globalThis.Object.getOwnPropertyNames(e))n[r]=_T(e[r],t);return n}function Eq(e,t){return Tq(e.properties,t)}function Oq(e,t){const n=Eq(e,t);return Mt(n)}function Iq(e,t,n){const r={};for(const s of globalThis.Object.getOwnPropertyNames(e))r[s]=q1(e[s],t,n);return r}function Nq(e,t,n){return Iq(e.properties,t,n)}function Rq(e,t,n){const r=Nq(e,t,n);return Mt(r)}function kq(e,t){return e.map(n=>U1(n,t))}function Cq(e,t){return e.map(n=>U1(n,t))}function Dq(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function U1(e,t){return Hr(e)?Zu(kq(e.allOf,t)):Dt(e)?pn(Cq(e.anyOf,t)):vs(e)?_t(Dq(e.properties,t)):_t({})}function q1(e,t,n={}){if(Gu(t))return Lq(e,t,n);if(Jn(e))return Rq(e,t,n);const r=Lu(t)?Gi(t):t,s=dr(e,[us,"$id","required"]),i=ne(U1(e,r),n);return{...s,...i}}function Mq(e,t,n){return{[t]:q1(e,[t],n)}}function Pq(e,t,n){return t.reduce((r,s)=>({...r,...Mq(e,s,n)}),{})}function jq(e,t,n){return Pq(e,t.keys,n)}function Lq(e,t,n){const r=jq(e,t,n);return Mt(r)}function Fq(e){return Ku(Yu(e))}function ql(e,t,n){return{...n,[V]:"Record",type:"object",patternProperties:{[e]:ne(t)}}}function $1(e,t,n){const r={};for(const s of e)r[s]=ne(t);return _t(r,{...n,[zh]:"Record"})}function Bq(e,t,n){return lF(e)?$1(Gi(e),t,n):ql(e.pattern,t,n)}function Uq(e,t,n){return $1(Gi(pn(e)),t,n)}function qq(e,t,n){return $1([e.toString()],t,n)}function $q(e,t,n){return ql(e.source,t,n)}function Vq(e,t,n){const r=Ge(e.pattern)?Nd:e.pattern;return ql(r,t,n)}function zq(e,t,n){return ql(jc,t,n)}function Hq(e,t,n){return ql(jc,t,n)}function Gq(e,t,n={}){return Dt(e)?Uq(e.anyOf,t,n):Ju(e)?Bq(e,t,n):Pl(e)?qq(e.const,t,n):Hh(e)?zq(e,t,n):Jh(e)?Hq(e,t,n):M_(e)?$q(e,t,n):m1(e)?Vq(e,t,n):En(n)}let Jq=0;function Wq(e,t={}){Ge(t.$id)&&(t.$id=`T${Jq++}`);const n=e({[V]:"This",$ref:`${t.$id}`});return n.$id=t.$id,ne({...t,[zh]:"Recursive",...n})}function Qq(e,t={}){if(nt(e))return{...t,[V]:"Ref",$ref:e};if(Ge(e.$id))throw new Error("Reference target type must specify an $id");return{...t,[V]:"Ref",$ref:e.$id}}function Xq(e,t={}){const n=nt(e)?new globalThis.RegExp(e):e;return{...t,[V]:"RegExp",type:"RegExp",source:n.source,flags:n.flags}}function vx(e){return e.map(t=>TT(t))}function Kq(e){const t={};for(const n of globalThis.Object.getOwnPropertyNames(e))t[n]=dr(e[n],[Vi]);return t}function TT(e){return Hr(e)?Zu(vx(e.allOf)):Dt(e)?pn(vx(e.anyOf)):vs(e)?_t(Kq(e.properties)):_t({})}function ET(e,t={}){if(Jn(e))return e$(e,t);{const n=dr(e,[us,"$id","required"]),r=ne(TT(e),t);return{...n,...r}}}function Yq(e,t){const n={};for(const r of globalThis.Object.getOwnPropertyNames(e))n[r]=ET(e[r],t);return n}function Zq(e,t){return Yq(e.properties,t)}function e$(e,t){const n=Zq(e,t);return Mt(n)}function t$(e){return Hr(e)?Ln(e.allOf):Dt(e)?Ln(e.anyOf):va(e)?Ln(e.items??[]):[]}function n$(e){return Ln(t$(e))}function r$(e,t={}){return ne(e.returns,t)}function s$(e){return JSON.parse(JSON.stringify(e))}class i${constructor(t){this.schema=t}Decode(t){return new u$(this.schema,t)}}class u${constructor(t,n){this.schema=t,this.decode=n}EncodeTransform(t,n){const i={Encode:u=>n[us].Encode(t(u)),Decode:u=>this.decode(n[us].Decode(u))};return{...n,[us]:i}}EncodeSchema(t,n){const r={Decode:this.decode,Encode:t};return{...n,[us]:r}}Encode(t){const n=ne(this.schema);return b1(n)?this.EncodeTransform(t,n):this.EncodeSchema(t,n)}}function o$(e){return new i$(e)}function OT(e={}){return{...e,[V]:e[V]??"Unsafe"}}function a$(e={}){return{...e,[V]:"Void",type:"void"}}const c$=Object.freeze(Object.defineProperty({__proto__:null,Any:Lc,Array:z_,AsyncIterator:H_,Awaited:cB,BigInt:N1,Boolean:X_,Capitalize:oq,Composite:_B,Const:OB,Constructor:G_,ConstructorParameters:IB,Date:cT,Deref:xs,Enum:$B,Exclude:j1,Extends:P1,Extract:L1,Function:tp,Index:R1,InstanceType:XU,Integer:KU,Intersect:Zu,Iterator:nT,KeyOf:aT,Literal:Je,Lowercase:aq,Mapped:XF,Never:En,Not:fq,Null:lT,Number:Sa,Object:_t,Omit:B1,Optional:Yu,Parameters:Aq,Partial:_T,Pick:q1,Promise:rT,Readonly:Ku,ReadonlyOptional:Fq,Record:Gq,Recursive:Wq,Ref:Qq,RegExp:Xq,Required:ET,Rest:n$,ReturnType:r$,Strict:s$,String:Di,Symbol:fT,TemplateLiteral:Y_,Transform:o$,Tuple:Ll,Uint8Array:hT,Uncapitalize:cq,Undefined:dT,Union:pn,Unknown:Fl,Unsafe:OT,Uppercase:lq,Void:a$},Symbol.toStringTag,{value:"Module"})),Ze=c$,op=["string","number","boolean","date"],V1=["set"],l$=["record"];[...op,...V1,...l$];const f$=Ze.Object({func:Ze.String(),args:Ze.Optional(Ze.Union([Ze.Array(Ze.Any()),Ze.Null()]))}),d$=Ze.Object({nullable:Ze.Optional(Ze.Boolean()),default:Ze.Optional(Ze.Union([Ze.String(),Ze.Number(),Ze.Boolean(),Ze.Null(),f$]))}),ee={Success:200,"Bad Request":400,Unauthorized:401,"Payment Required":402,Forbidden:403,"Not Found":404,Conflict:409,"Too Many Requests":429,"Internal Server Error":500,"Service Unavailable":503,"Gateway Timeout":504};class L extends Error{constructor(n,...r){super(...r);R(this,"status",ee["Internal Server Error"]);R(this,"baseMessage");R(this,"contextMessage");R(this,"__isTriplitError",!0);this.name="TriplitError",this.baseMessage=r[0]||"Triplit Error",this.contextMessage=n}get message(){return this.contextMessage?`${this.baseMessage} | Context: ${this.contextMessage}`:this.baseMessage}toString(){return JSON.stringify(this.toJSON())}toJSON(){return{name:this.name,message:this.baseMessage,status:this.status,contextMessage:this.contextMessage}}static fromJson(n){const r=new L(n.contextMessage);return n.baseMessage&&(r.baseMessage=n.baseMessage),n.name&&(r.name=n.name),n.status&&(r.status=n.status),r}}class kd extends L{constructor(t,...n){super(...n),this.name="InvalidCollectionNameError",this.baseMessage=`${t} is not a valid collection name.`,this.status=ee["Bad Request"]}}class xx extends L{constructor(...t){super(...t),this.name="InvalidInsertDocumentError",this.baseMessage="The document you are attempting to insert is invalid.",this.status=ee["Bad Request"]}}class h$ extends L{constructor(t,...n){super(...n),this.name="InvalidInternalEntityIdError",this.baseMessage=`${t} is not a valid internal entity id.`,this.status=ee["Internal Server Error"]}}class p$ extends L{constructor(...t){super(...t),this.name="DBScanFailureError",this.baseMessage="DB scan failed.",this.status=ee["Internal Server Error"]}}class g$ extends L{constructor(...t){super(...t),this.name="InvalidTimestampIndexScanError",this.baseMessage="The scan over the timestamp index you are attempting is invalid.",this.status=ee["Bad Request"]}}class m$ extends L{constructor(t,...n){super(...n),this.name="IndexNotFoundError",this.baseMessage=`${t} is not a valid index.`,this.status=ee["Bad Request"]}}class b$ extends L{constructor(t,n,...r){super(...r),this.name="EntityNotFoundError",this.baseMessage=`Could not find entity with id ${t} in collection ${n}.`,this.status=ee["Not Found"]}}class Wf extends L{constructor(...t){super(...t),this.name="InvalidFilterError",this.baseMessage="Your query passed a filter that is invalid.",this.status=ee["Bad Request"]}}class Sx extends L{constructor(t,...n){super(...n),this.name="SessionVariableNotFoundError",this.baseMessage=`${t} could not be found in the provided variables for this query.`,this.status=ee["Bad Request"]}}class IT extends L{constructor(...t){super(...t),this.name="InvalidOperationError",this.baseMessage="You are attempting to perform an operation that is not valid.",this.status=ee["Bad Request"]}}class y$ extends L{constructor(t,n,r,...s){super(...s),this.name="ValueSchemaMismatchError",this.baseMessage=`Cannot assign ${r} to '${n.join(".")}' because it does not match the schema for ${t}.`,this.status=ee["Bad Request"]}}class w$ extends L{constructor(...t){super(...t),this.name="NoSchemaRegisteredError",this.baseMessage="No schema was availabe when one was expected to be.",this.status=ee["Internal Server Error"]}}class pc extends L{constructor(t,n,...r){super(...r),this.name="CollectionNotFoundError",this.baseMessage=`Could not find a collection with name ${t} in your schema. Valid collections are: [${Object.keys(n).map(s=>`'${s}'`).join(", ")}].`,this.status=ee["Bad Request"]}}class Ax extends L{constructor(t,...n){super(...n),this.name="InvalidEntityIdError",this.baseMessage=`${t} is not a valid entity id.`,this.status=ee["Bad Request"]}}class v$ extends L{constructor(t,...n){super(...n),this.name="InvalidSetTypeError",this.baseMessage=`When constructing the schema, an invalid type for the items in a set was recieved. A set may only be of type ${V1}. You passed '${t}'.`,this.status=ee["Bad Request"]}}class ur extends L{constructor(t,...n){super(...n),this.name="InvalidSchemaPathError",this.baseMessage=`The path '${t.join(".")}' is not a valid path in the schema.`,this.status=ee["Bad Request"]}}class x$ extends L{constructor(t,n,...r){super(...r),this.name="RelationDoesNotExistError",this.baseMessage=`The attribute '${t}' does not exist in the schema for the '${n}' collection.`,this.status=ee["Bad Request"]}}class S$ extends L{constructor(t,n,...r){super(...r),this.name="IncludedNonRelationError",this.baseMessage=`The attribute '${t}' in the '${n}' can not be used in the 'include' clause as it is not a relation.`,this.status=ee["Bad Request"]}}class ap extends L{constructor(t,...n){super(...n),this.name="InvalidTypeOptionsError",this.baseMessage=`Received ${JSON.stringify(t)}`,this.status=ee["Bad Request"]}}class A$ extends L{constructor(...t){super(...t),this.name="InvalidMigrationOperationError",this.baseMessage="Invalid migration operation.",this.status=ee["Bad Request"]}}class NT extends L{constructor(...t){super(...t),this.name="WriteRuleError",this.baseMessage="Write failed because it didn't pass a Rule.",this.status=ee.Unauthorized}}class _$ extends L{constructor(t,n,r,s,...i){super(...i),this.name="WritePermissionError",this.baseMessage=`Write to collection '${t}' with id '${n}' is not permitted. Failed operation: ${r}. Session roles: [${s.map(u=>u.key).join(", ")}].`,this.status=ee.Unauthorized}}class T$ extends L{constructor(t,n,...r){super(...r),this.name="UnrecognizedPropertyInUpdateError",this.baseMessage=`Cannot set unrecognized property ${t} to ${String(n)} during an entity update. The property may not be defined in your schema.`,this.status=ee["Bad Request"]}}class E$ extends L{constructor(...t){super(...t),this.name="TypeJSONParseError",this.baseMessage="Failed to parse this type from a JSON form.",this.status=ee["Internal Server Error"]}}class O$ extends L{constructor(t,...n){super(...n),this.name="UnrecognizedAttributeTypeError",this.baseMessage=`An attribute in the schema contains an unsupported type: ${t}. Valid types are ${[op,...V1,"query"]}`,this.status=ee["Bad Request"]}}class _x extends L{constructor(t,...n){super(...n),this.name="InvalidTripleStoreValueError",this.baseMessage=`Cannot store value ${String(t)} in the triple store.`,this.status=ee["Bad Request"]}}class I$ extends L{constructor(...t){super(...t),this.name="QueryCacheError",this.baseMessage="An error ocurred inside the query cache",this.status=ee["Bad Request"]}}class N$ extends L{constructor(t,...n){super(...n),this.name="UnserializableValueError",this.baseMessage=`Cannot serialize value ${String(t)} for insertion into the database.`,this.status=ee["Bad Request"]}}class Tx extends L{constructor(...t){super(...t),this.name="TripleStoreOptionsError",this.baseMessage="There was an error in the configuration of the triple store.",this.status=ee["Bad Request"]}}class ng extends L{constructor(t,n,...r){super(...r),this.name="QueryClauseFormattingError",this.baseMessage=`The ${t} clause is not formatted correctly.
    
    Received: ${JSON.stringify(n)}`,this.status=ee["Bad Request"]}}class R$ extends L{constructor(...t){super(...t),this.name="AfterClauseWithNoOrderError",this.baseMessage="The 'after' clause must be used after an 'order' clause.",this.status=ee["Bad Request"]}}class Ex extends L{constructor(...t){super(...t),this.name="DBOptionsError",this.baseMessage="There was an error in the configuration of the Triplit database.",this.status=ee["Bad Request"]}}class Ta extends L{constructor(t,n,...r){super(...r),this.name="DBSerializationError",this.baseMessage=`When inserting or updating an entity, there was an error serializing the data: ${n} as type: ${t}`,this.status=ee["Bad Request"]}}class k$ extends L{constructor(...t){super(...t),this.name="InvalidAttributeOptionsError",this.baseMessage="The options for an attribute in the schema are invalid.",this.status=ee["Bad Request"]}}class RT extends L{constructor(...t){super(...t),this.name="NotImplementedError",this.baseMessage="This feature is not yet implemented.",this.status=ee["Bad Request"]}}class Ea extends L{constructor(t,n,...r){super(...r),this.name="JSONValueParseError",this.baseMessage=`Failed to parse a ${t} value from the provided JSON input: ${JSON.stringify(n)}`,this.status=ee["Bad Request"]}}class C$ extends L{constructor(t,n,...r){super(...r),this.name="JSToJSONValueParseError",this.baseMessage=`Failed to tranform to JSON from the provided ${t} input: ${JSON.stringify(n)}`,this.status=ee["Bad Request"]}}class rg extends L{constructor(t,...n){super(...n),this.name="InvalidQueryCardinalityError",this.baseMessage=`The cardinality ${t} is not valid for the query type.`,this.status=ee["Bad Request"]}}class D$ extends L{constructor(...t){super(...t),this.name="InvalidOrderClauseError",this.baseMessage="An order clause has been determined to be invalid.",this.status=ee["Bad Request"]}}class M$ extends L{constructor(...t){super(...t),this.name="InvalidWhereClauseError",this.baseMessage="A where clause has been determined to be invalid.",this.status=ee["Bad Request"]}}class P$ extends L{constructor(...t){super(...t),this.name="InvalidSelectClauseError",this.baseMessage="The select clause of this query has been determined to be invalid.",this.status=ee["Bad Request"]}}class j$ extends L{constructor(...t){super(...t),this.name="QueryNotPreparedError",this.baseMessage="The query has not been prepared yet. This indicates a bug. Please inform the Triplit team.",this.status=ee["Internal Server Error"]}}function L$(e){return new Map(Array.from(e).map(t=>[F$(t),!0]))}function cp(e,t=[]){if(e===null||typeof e!="object")return[[t,e]];if(Object.keys(e).length===0)return[[t,"{}"]];if(Array.isArray(e))return[[t,e]];const n=[];t.length&&n.push([t,"{}"]);const r=Object.keys(e).flatMap(s=>cp(e[s],[...t,s]));for(const s of r)n.push(s);return n}function lo(e,t=[]){if(e==null||typeof e!="object")return[[...t,e]];if(e instanceof Date)return[[...t,e.toISOString()]];if(e instanceof Map)return[...e.entries()].flatMap(([n,r])=>lo(r,[...t,n]));if(e instanceof Set){const n=L$(e);return n.size===0?lo(new Map([["_",!1]]),t):lo(n,t)}return e instanceof Array?e.flatMap((n,r)=>lo(n,[...t,r])):Object.keys(e).flatMap(n=>lo(e[n],[...t,n]))}function F$(e){if(e==null||typeof e!="object")return e;if(e instanceof Date)return e.toISOString();throw new N$(e)}function kT(e){const t={};for(const[n,r,s]of e)t[n]||(t[n]={}),r.reduce((i,u,o)=>o===r.length-1?(i[u]=s,i):(i[u]||(i[u]=typeof r[o+1]=="number"?[]:{}),i[u]),t[n]);return t}function Cd(e){return Object.entries(e).reduce((t,[n,r])=>(t[n]=[...r],t),{})}function ln(e,t){if(typeof e!="object"||e===null)return e;if(B$(e))return ln(e[0]);if(e instanceof Array)return e.map(s=>ln(s)).filter(s=>!!t||s!==void 0);if(e instanceof Map)return new Map(Array.from(e.entries()).map(([s,i])=>[s,ln(i)]));const n=Object.entries(e).map(([s,i])=>[s,ln(i)]).filter(([s,i])=>!!t||i!==void 0);return Object.fromEntries(n)}function B$(e){return e instanceof Array&&e.length===2&&e[1]instanceof Array&&e[1].length===2}function ls(e,t){return!e&&!t?0:e?t?e[0]!==t[0]?e[0]<t[0]?-1:1:e[1]!==t[1]?e[1]<t[1]?-1:1:0:1:-1}var sg={},lp={},Bu={};Object.defineProperty(Bu,"__esModule",{value:!0});Bu.getWrittenTuples=Bu.iterateWrittenTuples=void 0;function*CT(e){for(const{key:t}of e.set||[])yield t;for(const t of e.remove||[])yield t}Bu.iterateWrittenTuples=CT;function U$(e){return Array.from(CT(e))}Bu.getWrittenTuples=U$;var eo={},q$=function(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))};function DT(e,t,n){var r=function(i){return e.apply(void 0,q$([i],Array.from(t),!1))},s=n??e.lazy;return s===void 0?r:Object.assign(r,{lazy:s,lazyArgs:t})}function O(e,t,n){var r=e.length-t.length;if(r===0)return e.apply(void 0,Array.from(t));if(r===1)return DT(e,t,n);throw new Error("Wrong number of arguments")}function $$(){return O(V$,arguments)}function V$(e,t){return e+t}var Dd=function(){return Dd=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Dd.apply(this,arguments)};function z$(){return O(H$,arguments)}function H$(e,t,n){var r;return Dd(Dd({},e),(r={},r[t]=n,r))}function G$(){return O(J$,arguments)}function J$(e,t){return t.every(function(n){return n(e)})}function W$(){return O(Q$,arguments)}function Q$(e,t){return t.some(function(n){return n(e)})}var Ox=15;function z1(e){return function(t,n){if(n===0)return e(t);if(!Number.isInteger(n))throw new TypeError("precision must be an integer: ".concat(n));if(n>Ox||n<-Ox)throw new RangeError("precision must be between -15 and 15");if(Number.isNaN(t)||!Number.isFinite(t))return e(t);var r=Math.pow(10,n);return e(t*r)/r}}function X$(){return O(z1(Math.ceil),arguments)}function K$(){return O(Y$,arguments)}function Y$(e,t){for(var n=[],r=0;r<e.length;r+=t)n.push(e.slice(r,r+t));return n}function Z$(){return O(eV,arguments)}function eV(e,t){var n=t.min,r=t.max;return n!==void 0&&e<n?n:r!==void 0&&e>r?r:e}function MT(e){return e===null?"Null":e===void 0?"Undefined":Object.prototype.toString.call(e).slice(8,-1)}function tV(e){return new RegExp(e.source,(e.global?"g":"")+(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.sticky?"y":"")+(e.unicode?"u":""))}function PT(e,t,n,r){function s(i){for(var u=t.length,o=0;o<u;){if(e===t[o])return n[o];o+=1}t[o+1]=e,n[o+1]=i;for(var a in e)i[a]=PT(e[a],t,n);return i}switch(MT(e)){case"Object":return s({});case"Array":return s([]);case"Date":return new Date(e.valueOf());case"RegExp":return tV(e);default:return e}}function nV(e){return e!=null&&typeof e.clone=="function"?e.clone():PT(e,[],[])}function jT(e){return!!e}function rV(e){return e.filter(jT)}function sV(){return O(iV,arguments)}function iV(e,t){return e.concat(t)}var uV=function(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))};function oV(e,t,n){var r=Array.from(n);return e(n[0])?function(s){return t.apply(void 0,uV([s],r,!1))}:t.apply(void 0,r)}function vm(){return oV(cV,aV,arguments)}function aV(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,s=t;r<s.length;r++){var i=s[r],u=i[0],o=i[1];if(u(e))return o(e)}throw new Error("conditional: data failed for all cases")}function cV(e){if(!Array.isArray(e))return!1;var t=e,n=t[0],r=t[1],s=t.slice(2);return typeof n=="function"&&n.length<=1&&typeof r=="function"&&r.length<=1&&s.length===0}(function(e){function t(n){return n===void 0&&(n=fV),[lV,n]}e.defaultCase=t})(vm||(vm={}));var lV=function(){return!0},fV=function(){};function dV(e){return function(){return e}}var LT=function(e){return function(t,n){for(var r=0,s=0;s<t.length;s++){var i=t[s],u=e?n(i,s,t):n(i);r+=u?1:0}return r}};function xm(){return O(LT(!1),arguments)}(function(e){function t(){return O(LT(!0),arguments)}e.indexed=t})(xm||(xm={}));function H1(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];for(var s=e,i=n.map(function(y){return"lazy"in y?hV(y):void 0}),u=0;u<n.length;){var o=i[u];if(o===void 0||!pV(s)){var a=n[u];s=a(s),u+=1;continue}for(var c=[],l=u;l<n.length;l++){var d=i[l];if(d===void 0||(c.push(d),d.isSingle))break}for(var h=[],f=s[Symbol.iterator]();;){var p=f.next();if((t=p.done)!==null&&t!==void 0&&t)break;var m=FT(p.value,h,c);if(m)break}var b=c[c.length-1].isSingle;s=b?h[0]:h,u+=c.length}return s}function FT(e,t,n){var r;if(n.length===0)return t.push(e),!1;for(var s=e,i={done:!1,hasNext:!1},u=!1,o=0;o<n.length;o++){var a=n[o],c=a.isIndexed,l=a.index,d=a.items;if(d.push(s),i=c?a(s,l,d):a(s),a.index+=1,i.hasNext){if((r=i.hasMany)!==null&&r!==void 0&&r){for(var h=0,f=i.next;h<f.length;h++){var p=f[h],m=FT(p,t,n.slice(o+1));if(m)return!0}return!1}s=i.next}if(!i.hasNext)break;i.done&&(u=!0)}return i.hasNext&&t.push(s),!!u}function hV(e){var t=e.lazy,n=e.lazyArgs,r=t.apply(void 0,n??[]);return Object.assign(r,{isIndexed:t.indexed,isSingle:t.single,index:0,items:[]})}function pV(e){return typeof e=="string"||typeof e=="object"&&e!==null&&Symbol.iterator in e}var gV=function(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))};function mV(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(n){return H1.apply(void 0,gV([n],e,!1))}}function bV(e,t){var n=t.waitMs,r=t.timing,s=r===void 0?"trailing":r,i=t.maxWaitMs;if(i!==void 0&&n!==void 0&&i<n)throw new Error("debounce: maxWaitMs (".concat(i,") cannot be less than waitMs (").concat(n,")"));var u,o,a,c,l=function(){if(a!==void 0){if(o!==void 0){var f=o;o=void 0,clearTimeout(f)}var p=a;a=void 0,c=e.apply(void 0,p)}},d=function(){if(u!==void 0){var f=u;u=void 0,clearTimeout(f),a!==void 0&&l()}},h=function(f){a=f,i!==void 0&&o===void 0&&(o=setTimeout(l,i))};return{call:function(){for(var f,p=[],m=0;m<arguments.length;m++)p[m]=arguments[m];if(u===void 0)s==="trailing"?h(p):c=e.apply(void 0,p);else{s!=="leading"&&h(p);var b=u;u=void 0,clearTimeout(b)}return u=setTimeout(d,(f=n??i)!==null&&f!==void 0?f:0),c},cancel:function(){if(u!==void 0){var f=u;u=void 0,clearTimeout(f)}if(o!==void 0){var f=o;o=void 0,clearTimeout(f)}a=void 0},flush:function(){return d(),c},get isPending(){return u!==void 0},get cachedValue(){return c}}}function Xe(e,t,n){n===void 0&&(n=!1);for(var r=[],s=0;s<e.length;s++){var i=e[s],u=n?t(i,s,e):t(i);if(u.hasMany===!0?r.push.apply(r,u.next):u.hasNext&&r.push(u.next),u.done)break}return r}var yV={done:!0,hasNext:!1},wV=function(){return yV},vV=function(e){return{hasNext:!0,next:e,done:!1}};function Uc(){return O(xV,arguments,Uc.lazy)}function xV(e,t){var n=Uc.lazy(t);return Xe(e,n)}(function(e){function t(r){var s=new Set(r);return function(i){return s.has(i)?{done:!1,hasNext:!1}:{done:!1,hasNext:!0,next:i}}}e.lazy=t;function n(){return O(SV,arguments,BT)}e.multiset=n})(Uc||(Uc={}));var SV=function(e,t){return Xe(e,BT(t))};function BT(e){var t;if(e.length===0)return vV;for(var n=new Map,r=0,s=e;r<s.length;r++){var i=s[r];n.set(i,((t=n.get(i))!==null&&t!==void 0?t:0)+1)}return function(u){var o=n.get(u);return o===void 0||o===0?{done:!1,hasNext:!0,next:u}:(n.set(u,o-1),{done:!1,hasNext:!1})}}function qc(){return O(AV,arguments,qc.lazy)}function AV(e,t,n){var r=qc.lazy(t,n);return Xe(e,r)}(function(e){e.lazy=function(t,n){return function(r){return t.every(function(s){return!n(r,s)})?{done:!1,hasNext:!0,next:r}:{done:!1,hasNext:!1}}}})(qc||(qc={}));function _V(){return O(TV,arguments)}function TV(e,t){return e/t}function EV(){return OV}function OV(){}function $c(){return O(IV,arguments,$c.lazy)}function IV(e,t){return Xe(e,$c.lazy(t))}(function(e){function t(n){var r=n;return function(s){return r>0?(r-=1,{done:!1,hasNext:!1}):{done:!1,hasNext:!0,next:s}}}e.lazy=t})($c||($c={}));function Sm(e,t,n){var r;r=[e[n],e[t]],e[t]=r[0],e[n]=r[1]}function Vc(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return O(NV,e)}var NV=function(e,t){return e.length>=t};function UT(e,t){for(var n=Math.floor(e.length/2)-1;n>=0;n--)$T(e,n,t)}function qT(e,t,n){if(Vc(e,1)){var r=e[0];if(!(t(n,r)>=0))return e[0]=n,$T(e,0,t),r}}function $T(e,t,n){for(var r=t;r*2+1<e.length;){var s=r*2+1,i=n(e[r],e[s])<0?s:r,u=s+1;if(u<e.length&&n(e[i],e[u])<0&&(i=u),i===r)return;Sm(e,r,i),r=i}}var wo=function(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))},VT={asc:function(e,t){return e>t},desc:function(e,t){return e<t}};function G1(e,t){var n=Array.isArray(t)?t:Array.from(t),r=n[0],s=n.slice(1);if(!zT(r)){var i=Am.apply(void 0,s);return e(r,i)}var u=Am.apply(void 0,wo([r],s,!1));return function(o){return e(o,u)}}function fp(e,t){var n=Array.from(t),r=n[0],s=n[1],i=n.slice(2),u,o;return zT(s)?(u=r,o=wo([s],i,!0)):(u=s,o=wo([r],i,!0)),G1(function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];return e.apply(void 0,wo(wo([],a,!1),[u],!1))},o)}function Am(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var s=typeof e=="function"?e:e[0],i=typeof e=="function"?"asc":e[1],u=VT,o=i,a=u[o],c=t===void 0?void 0:Am.apply(void 0,wo([t],n,!1));return function(l,d){var h,f=s(l),p=s(d);return a(f,p)?1:a(p,f)?-1:(h=c==null?void 0:c(l,d))!==null&&h!==void 0?h:0}}function zT(e){if(Ix(e))return!0;if(typeof e!="object"||!Array.isArray(e))return!1;var t=e,n=t[0],r=t[1],s=t.slice(2);return Ix(n)&&typeof r=="string"&&r in VT&&s.length===0}var Ix=function(e){return typeof e=="function"&&e.length===1};function RV(){return fp(kV,arguments)}function kV(e,t,n){if(n>=e.length)return[];if(n<=0)return e.slice();var r=e.slice(0,n);UT(r,t);for(var s=[],i=e.slice(n),u=0,o=i;u<o.length;u++){var a=o[u],c=qT(r,t,a);s.push(c??a)}return s}function CV(){return O(DV,arguments)}function DV(e,t){var n=e.slice();return t>0&&n.splice(-t),n}function MV(){return O(PV,arguments)}function PV(e,t){for(var n=e.length-1;n>=0;n--)if(!t(e[n]))return e.slice(0,n+1);return[]}function jV(){return O(LV,arguments)}function LV(e,t){for(var n=0;n<e.length;n++)if(!t(e[n]))return e.slice(n);return[]}function _m(){return O(Object.entries,arguments)}(function(e){e.strict=e})(_m||(_m={}));function FV(){return O(Tm,arguments)}function Tm(e,t){if(e===t)return!0;if(typeof e=="number"&&typeof t=="number")return e!==e&&t!==t;if(typeof e!="object"||typeof t!="object"||e===null||t===null)return!1;var n=Array.isArray(e),r=Array.isArray(t);if(n&&r){if(e.length!==t.length)return!1;for(var s=0;s<e.length;s++)if(!Tm(e[s],t[s]))return!1;return!0}if(n!==r)return!1;var i=e instanceof Date,u=t instanceof Date;if(i&&u)return e.getTime()===t.getTime();if(i!==u)return!1;var o=e instanceof RegExp,a=t instanceof RegExp;if(o&&a)return e.toString()===t.toString();if(o!==a)return!1;var c=Object.keys(e);if(c.length!==Object.keys(t).length)return!1;for(var l=0,d=c;l<d.length;l++){var h=d[l];if(!Object.prototype.hasOwnProperty.call(t,h)||!Tm(e[h],t[h]))return!1}return!0}function Jo(){return O(Object.entries,arguments)}(function(e){e.strict=e})(Jo||(Jo={}));var Em=function(){return Em=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Em.apply(this,arguments)};function BV(){return O(HT,arguments)}function HT(e,t){if(typeof e!="object"||e===null)return e;for(var n=Em({},e),r=0,s=Jo.strict(t);r<s.length;r++){var i=s[r],u=i[0],o=i[1];u in n&&(n[u]=typeof o=="function"?o(n[u]):HT(n[u],o))}return n}var ri=function(e){return Object.assign(e,{indexed:!0})};function Wo(){return O(GT(!1),arguments,Wo.lazy)}var GT=function(e){return function(t,n){return Xe(t,e?Wo.lazyIndexed(n):Wo.lazy(n),e)}},Nx=function(e){return function(t){return function(n,r,s){return(e?t(n,r,s):t(n))?{done:!1,hasNext:!0,next:n}:{done:!1,hasNext:!1}}}};(function(e){function t(){return O(GT(!0),arguments,e.lazyIndexed)}e.indexed=t,e.lazy=Nx(!1),e.lazyIndexed=ri(Nx(!0))})(Wo||(Wo={}));var Md=function(e){return Object.assign(e,{single:!0})};function Pd(){return O(JT(!1),arguments,Pd.lazy)}var JT=function(e){return function(t,n){return t.find(function(r,s,i){return e?n(r,s,i):n(r)})}},Rx=function(e){return function(t){return function(n,r,s){return(e?t(n,r,s):t(n))?{done:!0,hasNext:!0,next:n}:{done:!1,hasNext:!1}}}};(function(e){function t(){return O(JT(!0),arguments,e.lazyIndexed)}e.indexed=t,e.lazy=Md(Rx(!1)),e.lazyIndexed=Md(ri(Rx(!0)))})(Pd||(Pd={}));function jd(){return O(WT(!1),arguments,jd.lazy)}var WT=function(e){return function(t,n){return t.findIndex(function(r,s,i){return e?n(r,s,i):n(r)})}},kx=function(e){return function(t){var n=0;return function(r,s,i){return(e?t(r,s,i):t(r))?{done:!0,hasNext:!0,next:n}:(n+=1,{done:!1,hasNext:!1})}}};(function(e){function t(){return O(WT(!0),arguments,e.lazyIndexed)}e.indexed=t,e.lazy=Md(kx(!1)),e.lazyIndexed=Md(ri(kx(!0)))})(jd||(jd={}));function Om(){return O(QT(!1),arguments)}var QT=function(e){return function(t,n){for(var r=t.length-1;r>=0;r--)if(e?n(t[r],r,t):n(t[r]))return t[r]}};(function(e){function t(){return O(QT(!0),arguments)}e.indexed=t})(Om||(Om={}));function Im(){return O(XT(!1),arguments)}var XT=function(e){return function(t,n){for(var r=t.length-1;r>=0;r--)if(e?n(t[r],r,t):n(t[r]))return r;return-1}};(function(e){function t(){return O(XT(!0),arguments)}e.indexed=t})(Im||(Im={}));function Ld(){return O(UV,arguments,Ld.lazy)}function UV(e){var t=e[0];return t}(function(e){function t(){return function(n){return{done:!0,hasNext:!0,next:n}}}e.lazy=t,function(n){n.single=!0}(t=e.lazy||(e.lazy={}))})(Ld||(Ld={}));function qV(){return G1($V,arguments)}function $V(e,t){if(!Vc(e,2))return e[0];for(var n=e[0],r=e.slice(1),s=0,i=r;s<i.length;s++){var u=i[s];t(u,n)<0&&(n=u)}return n}var KT=1;function VV(e,t){return typeof e=="object"?Fd(e,t):DT(Fd,arguments,zV)}var zV=function(e){return e===void 0&&(e=KT),e<=0?HV:e===1?GV:function(t){return Array.isArray(t)?{next:Fd(t,e-1),hasNext:!0,hasMany:!0,done:!1}:{next:t,hasNext:!0,done:!1}}},HV=function(e){return{next:e,hasNext:!0,done:!1}},GV=function(e){return Array.isArray(e)?{next:e,hasNext:!0,hasMany:!0,done:!1}:{next:e,hasNext:!0,done:!1}};function Fd(e,t){if(t===void 0&&(t=KT),t<=0)return e.slice();for(var n=[],r=0,s=e;r<s.length;r++){var i=s[r];Array.isArray(i)?n.push.apply(n,Fd(i,t-1)):n.push(i)}return n}function Qo(){return O(JV,arguments,Qo.lazy)}function JV(e){return Xe(e,Qo.lazy())}(function(e){e.lazy=function(){return function(t){return Array.isArray(t)?{done:!1,hasNext:!0,hasMany:!0,next:t}:{done:!1,hasNext:!0,next:t}}}})(Qo||(Qo={}));function Bd(){return O(WV,arguments,Bd.lazy)}function WV(e,t){return Qo(e.map(function(n){return t(n)}))}(function(e){e.lazy=function(t){return function(n){var r=t(n);return Array.isArray(r)?{done:!1,hasNext:!0,hasMany:!0,next:r}:{done:!1,hasNext:!0,next:r}}}})(Bd||(Bd={}));function Nm(){return O(YT(!1),arguments)}var YT=function(e){return function(t,n){for(var r={},s=0;s<t.length;s++)for(var i=t[s],u=e?n(i,s,t):n(i),o=0,a=u;o<a.length;o++){var c=a[o],l=c[0],d=c[1];r[l]=d}return r}};(function(e){function t(){return O(YT(!0),arguments)}e.indexed=t})(Nm||(Nm={}));function Xo(){return O(QV,arguments,Xo.lazy)}function QV(e){return Xe(e,Xo.lazy())}function XV(e){if(!Array.isArray(e))return e;for(var t=[],n=0,r=e;n<r.length;n++){var s=r[n];Array.isArray(s)?t.push.apply(t,Xo(s)):t.push(s)}return t}(function(e){e.lazy=function(){return function(t){var n=XV(t);return Array.isArray(n)?{done:!1,hasNext:!0,hasMany:!0,next:n}:{done:!1,hasNext:!0,next:n}}}})(Xo||(Xo={}));function KV(){return O(z1(Math.floor),arguments)}function Ko(){return O(ZT(!1),arguments,Ko.lazy)}var ZT=function(e){return function(t,n){return Xe(t,e?Ko.lazyIndexed(n):Ko.lazy(n),e)}},Cx=function(e){return function(t){return function(n,r,s){return e?t(n,r,s):t(n),{done:!1,hasNext:!0,next:n}}}};(function(e){function t(){return O(ZT(!0),arguments,e.lazyIndexed)}e.indexed=t,e.lazy=Cx(!1),e.lazyIndexed=ri(Cx(!0))})(Ko||(Ko={}));function Rm(){return O(eE(!1),arguments)}var eE=function(e){return function(t,n){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var s=t,i=r,u=s[i];e?n(u,r,t):n(u)}return t}};(function(e){function t(){return O(eE(!0),arguments)}e.indexed=t})(Rm||(Rm={}));function Ud(){return O(YV,arguments)}function YV(e){for(var t={},n=0,r=e;n<r.length;n++){var s=r[n],i=s[0],u=s[1];t[i]=u}return t}(function(e){e.strict=e})(Ud||(Ud={}));function ZV(){return O(ez,arguments)}function ez(e,t){for(var n={},r=0,s=e;r<s.length;r++){var i=s[r];n[i]=t(i)}return n}function km(){return O(tz,arguments)}function tz(e){for(var t={},n=0,r=e;n<r.length;n++){var s=r[n],i=s[0],u=s[1];t[i]=u}return t}(function(e){e.strict=e})(km||(km={}));function Cm(){return O(tE(!1),arguments)}var tE=function(e){return function(t,n){for(var r={},s=0;s<t.length;s++){var i=t[s],u=e?n(i,s,t):n(i);if(u!==void 0){var o=String(u),a=r[o];a===void 0&&(a=[],r[o]=a),a.push(i)}}return r}};(function(e){function t(){return O(tE(!0),arguments)}e.indexed=t,e.strict=e})(Cm||(Cm={}));function nE(){return O(zc,arguments)}function zc(e,t){if(e===t)return!0;if(typeof e=="number"&&typeof t=="number")return e!==e&&t!==t;if(typeof e!="object"||typeof t!="object"||e===null||t===null||Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;if(e instanceof Set)return rz(e,t);if(Array.isArray(e)){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!zc(e[n],t[n]))return!1;return!0}if(e instanceof Date)return e.getTime()===t.getTime();if(e instanceof RegExp)return e.toString()===t.toString();if(e instanceof Map)return nz(e,t);var r=Object.keys(e);if(r.length!==Object.keys(t).length)return!1;for(var s=0,i=r;s<i.length;s++){var u=i[s];if(!Object.prototype.hasOwnProperty.call(t,u)||!zc(e[u],t[u]))return!1}return!0}function nz(e,t){if(e.size!==t.size)return!1;for(var n=Array.from(e.keys()),r=0,s=n;r<s.length;r++){var i=s[r];if(!t.has(i)||!zc(e.get(i),t.get(i)))return!1}return!0}function rz(e,t){if(e.size!==t.size)return!1;for(var n=Array.from(e.values()),r=Array.from(t.values()),s=0,i=n;s<i.length;s++){for(var u=i[s],o=!1,a=0;a<r.length;a++)if(zc(u,r[a])){o=!0,r.splice(a,1);break}if(!o)return!1}return!0}function sz(){return O(iz,arguments)}function iz(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var s=r[n];if(!Object.prototype.hasOwnProperty.call(e,s)||!nE(t[s],e[s]))return!1}return!0}function uz(e){return e}function Dm(){return O(rE(!1),arguments)}var rE=function(e){return function(t,n){for(var r={},s=0;s<t.length;s++){var i=t[s],u=e?n(i,s,t):n(i),o=String(u);r[o]=i}return r}};function oz(){return O(az,arguments)}function az(e,t){for(var n={},r=0,s=e;r<s.length;r++){var i=s[r],u=t(i);n[u]=i}return n}(function(e){function t(){return O(rE(!0),arguments)}e.indexed=t,e.strict=oz})(Dm||(Dm={}));function Hc(){return O(cz,arguments,Hc.lazy)}function cz(e,t){var n=Hc.lazy(t);return Xe(e,n)}(function(e){function t(r){var s=new Set(r);return function(i){return s.has(i)?{done:!1,hasNext:!0,next:i}:{done:!1,hasNext:!1}}}e.lazy=t;function n(){return O(lz,arguments,sE)}e.multiset=n})(Hc||(Hc={}));var lz=function(e,t){return Xe(e,sE(t))};function sE(e){var t;if(e.length===0)return wV;for(var n=new Map,r=0,s=e;r<s.length;r++){var i=s[r];n.set(i,((t=n.get(i))!==null&&t!==void 0?t:0)+1)}return function(u){var o=n.get(u);return o===void 0||o===0?{done:!1,hasNext:!1}:(o===1?n.delete(u):n.set(u,o-1),{hasNext:!0,next:u,done:n.size===0})}}function Gc(){return O(fz,arguments,Gc.lazy)}function fz(e,t,n){var r=Gc.lazy(t,n);return Xe(e,r)}(function(e){e.lazy=function(t,n){return function(r){return t.some(function(s){return n(r,s)})?{done:!1,hasNext:!0,next:r}:{done:!1,hasNext:!1}}}})(Gc||(Gc={}));function dz(){return O(hz,arguments)}function hz(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[e[n]]=n);return t}function iE(e){return Array.isArray(e)}function pz(e){return typeof e=="boolean"}function gz(e){return e instanceof Date}function Mm(e){return e!=null}(function(e){function t(n){return n!==void 0}e.strict=t})(Mm||(Mm={}));function uE(e){return!!e&&!Array.isArray(e)&&typeof e=="object"}function oE(e){return typeof e=="string"}function mz(e){return e===void 0?!0:iE(e)||oE(e)?e.length===0:uE(e)?Object.keys(e).length===0:!1}function bz(e){return e instanceof Error}function yz(e){return typeof e=="function"}function wz(e,t){if(t===void 0){var n=new Set(e);return function(r){return n.has(r)}}return t.indexOf(e)>=0}function vz(e){return e==null}function xz(e){return e!==null}function Sz(e){return e!=null}function Az(e){return function(t){return!e(t)}}function _z(e){return e==null}function Tz(e){return typeof e=="number"&&!isNaN(e)}var Ez=function(e){return typeof e=="object"&&e!==null};function Oz(e){if(typeof e!="object"||e===null)return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function Iz(e){return e instanceof Promise}function Nz(e){return typeof e=="symbol"}function Rz(){return O(kz,arguments)}var kz=function(e,t){return e.join(t)};function Jc(){return O(Object.keys,arguments)}(function(e){e.strict=e})(Jc||(Jc={}));function Cz(){return O(Dz,arguments)}function Dz(e){return e[e.length-1]}function Mz(){return O(Pz,arguments)}function Pz(e){return"length"in e?e.length:Array.from(e).length}function Yo(){return O(aE(!1),arguments,Yo.lazy)}var aE=function(e){return function(t,n){return Xe(t,e?Yo.lazyIndexed(n):Yo.lazy(n),e)}},Dx=function(e){return function(t){return function(n,r,s){return{done:!1,hasNext:!0,next:e?t(n,r,s):t(n)}}}};(function(e){function t(){return O(aE(!0),arguments,e.lazyIndexed)}e.indexed=t,e.lazy=Dx(!1),e.lazyIndexed=ri(Dx(!0)),e.strict=e})(Yo||(Yo={}));function jz(){return O(Lz,arguments)}function Lz(e,t){for(var n={},r=0,s=Jo.strict(e);r<s.length;r++){var i=s[r],u=i[0],o=i[1];n[t(u,o)]=o}return n}function Pm(){return O(cE(!1),arguments)}var cE=function(e){return function(t,n){for(var r={},s=0;s<t.length;s++){var i=t[s],u=e?n(i,s,t):n(i),o=u[0],a=u[1];r[o]=a}return r}};(function(e){function t(){return O(cE(!0),arguments)}e.indexed=t})(Pm||(Pm={}));function Fz(){return O(Bz,arguments)}function Bz(e,t){for(var n={},r=0,s=Jo.strict(e);r<s.length;r++){var i=s[r],u=i[0],o=i[1],a=t(o,u);n[u]=a}return n}function Zo(){return O(lE(!1),arguments,Zo.lazy)}var lE=function(e){return function(t,n,r){var s=e?Zo.lazyIndexed:Zo.lazy;return Xe(t,s(n,r),e)}},Mx=function(e){return function(t,n){var r=n;return function(s,i,u){return r=e?t(r,s,i,u):t(r,s),{done:!1,hasNext:!0,next:r}}}};(function(e){function t(){return O(lE(!0),arguments,e.lazyIndexed)}e.indexed=t,e.lazy=Mx(!1),e.lazyIndexed=ri(Mx(!0))})(Zo||(Zo={}));var fE=function(e){return function(t,n){for(var r,s,i=0;i<t.length;i++){var u=t[i],o=e?n(u,i,t):n(u);(s===void 0||o>s)&&(r=u,s=o)}return r}};function jm(){return O(fE(!1),arguments)}(function(e){function t(){return O(fE(!0),arguments)}e.indexed=t})(jm||(jm={}));var dE=function(e){return function(t,n){if(t.length===0)return NaN;for(var r=0,s=0;s<t.length;s++){var i=t[s];r+=e?n(i,s,t):n(i)}return r/t.length}};function Lm(){return O(dE(!1),arguments)}(function(e){function t(){return O(dE(!0),arguments)}e.indexed=t})(Lm||(Lm={}));var qd=function(){return qd=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},qd.apply(this,arguments)};function Uz(){return O(qz,arguments)}function qz(e,t){return qd(qd({},e),t)}var $d=function(){return $d=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},$d.apply(this,arguments)};function $z(e){for(var t={},n=0,r=e;n<r.length;n++){var s=r[n];t=$d($d({},t),s)}return t}var Vd=function(){return Vd=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Vd.apply(this,arguments)};function Vz(){return O(hE,arguments)}function hE(e,t){var n=Vd(Vd({},e),t);for(var r in t)if(r in e){var s=e,i=r,u=s[i];if(Px(u)){var o=t,a=r,c=o[a];Px(c)&&(n[r]=hE(u,c))}}return n}function Px(e){return typeof e=="object"&&e!==null&&Object.getPrototypeOf(e)===Object.prototype}var pE=function(e){return function(t,n){for(var r,s,i=0;i<t.length;i++){var u=t[i],o=e?n(u,i,t):n(u);(s===void 0||o<s)&&(r=u,s=o)}return r}};function Fm(){return O(pE(!1),arguments)}(function(e){function t(){return O(pE(!0),arguments)}e.indexed=t})(Fm||(Fm={}));function zz(){return O(Hz,arguments)}function Hz(e,t){return e*t}var Gz=function(){},Jz=function(e,t,n){return t<0||t>=e.length?void 0:gE(e.slice(),0,e.length-1,t,n)};function gE(e,t,n,r,s){if(t===n)return e[t];var i=Wz(e,t,n,s);return r===i?e[r]:gE(e,r<i?t:i+1,r<i?i-1:n,r,s)}function Wz(e,t,n,r){for(var s=e[n],i=t,u=t;u<n;u++)r(e[u],s)<0&&(Sm(e,i,u),i+=1);return Sm(e,i,n),i}function Qz(){return fp(Xz,arguments)}var Xz=function(e,t,n){return Jz(e,n>=0?n:e.length+n,t)};function Kz(){return O(Yz,arguments)}function Yz(e,t){var n;return n={},n[t]=e,n}var zd=function(){return zd=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},zd.apply(this,arguments)},Zz=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};function eH(){return O(tH,arguments)}function tH(e,t){if(!Vc(t,1))return zd({},e);if(!Vc(t,2)){var n=t[0],r=e,s=n;r[s];var i=Zz(r,[typeof s=="symbol"?s:s+""]);return i}if(!t.some(function(o){return o in e}))return zd({},e);var u=new Set(t);return Ud(Object.entries(e).filter(function(o){var a=o[0];return!u.has(a)}))}function nH(){return O(rH,arguments)}function rH(e,t){if(e==null)return e;for(var n={},r=0,s=Jc.strict(e);r<s.length;r++){var i=s[r];t(e[i],i)||(n[i]=e[i])}return n}function sH(e){var t=!1,n;return function(){return t||(n=e(),t=!0),n}}function iH(){return O(uH,arguments)}function uH(e){return e.length===1?e[0]:void 0}function Bm(){return O(mE(!1),arguments)}var mE=function(e){return function(t,n){for(var r=[[],[]],s=0;s<t.length;s++){var i=t[s],u=e?n(i,s,t):n(i);r[u?0:1].push(i)}return r}};(function(e){function t(){return O(mE(!0),arguments)}e.indexed=t})(Bm||(Bm={}));function oH(){return O(aH,arguments)}function aH(e,t,n){for(var r=e,s=0,i=t;s<i.length;s++){var u=i[s];if(r==null)break;r=r[u]}return r??n}function cH(){return O(lH,arguments)}function lH(e,t){for(var n={},r=0,s=t;r<s.length;r++){var i=s[r];i in e&&(n[i]=e[i])}return n}function fH(){return O(dH,arguments)}function dH(e,t){if(e==null)return{};for(var n={},r=0,s=Jc.strict(e);r<s.length;r++){var i=s[r];t(e[i],i)&&(n[i]=e[i])}return n}var hH=function(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))};function pH(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(n){return H1.apply(void 0,hH([n],e,!1))}}function gH(){return O(mH,arguments)}function mH(e){for(var t=1,n=0,r=e;n<r.length;n++){var s=r[n];t*=s}return t}var bH=function(e){return function(t){var n=e,r=t[n];return r}};function yH(){return O(wH,arguments)}function wH(e,t,n){for(var r={},s=0,i=e;s<i.length;s++){var u=i[s],o=t(u),a=n(u);r[o]=a}return r}function bE(){return O(vH,arguments)}function vH(e,t){if(e<0)throw new RangeError("n must be a non-negative number");for(var n=[],r=0;r<e;r++)n.push(t(r));return n}var jx="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";function xH(){return O(SH,arguments)}function SH(e){return bE(e,AH).join("")}var AH=function(){return jx[Math.floor(Math.random()*jx.length)]};function _H(){return O(TH,arguments)}function TH(e,t){for(var n=[],r=e;r<t;r++)n.push(r);return n}function EH(){return fp(OH,arguments)}function OH(e,t,n){for(var r=0,s=0,i=e;s<i.length;s++){var u=i[s];t(n,u)>0&&(r+=1)}return r}function Um(){return O(yE(!1),arguments)}var yE=function(e){return function(t,n,r){return t.reduce(function(s,i,u){return e?n(s,i,u,t):n(s,i)},r)}};(function(e){function t(){return O(yE(!0),arguments)}e.indexed=t})(Um||(Um={}));function ea(){return O(wE(!1),arguments,ea.lazy)}var wE=function(e){return function(t,n){return Xe(t,e?ea.lazyIndexed(n):ea.lazy(n),e)}},Lx=function(e){return function(t){return function(n,r,s){return(e?t(n,r,s):t(n))?{done:!1,hasNext:!1}:{done:!1,hasNext:!0,next:n}}}};(function(e){function t(){return O(wE(!0),arguments,e.lazyIndexed)}e.indexed=t,e.lazy=Lx(!1),e.lazyIndexed=ri(Lx(!0))})(ea||(ea={}));function IH(){return O(NH,arguments)}function NH(e){return e.slice().reverse()}function RH(){return O(z1(Math.round),arguments)}function kH(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return O(CH,e)}function CH(e,t){if(t<0)throw new RangeError("sampleSize must cannot be negative: ".concat(t));if(!Number.isInteger(t))throw new TypeError("sampleSize must be an integer: ".concat(t));if(t>=e.length)return e.slice();if(t===0)return[];for(var n=Math.min(t,e.length-t),r=new Set;r.size<n;){var s=Math.floor(Math.random()*e.length);r.add(s)}return t===n?Array.from(r).sort(function(i,u){return i-u}).map(function(i){return e[i]}):e.filter(function(i,u){return!r.has(u)})}var Hd=function(){return Hd=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Hd.apply(this,arguments)};function DH(){return O(MH,arguments)}function MH(e,t,n){var r;return Hd(Hd({},e),(r={},r[t]=n,r))}var Gd=function(){return Gd=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Gd.apply(this,arguments)};function PH(){return O(Jd,arguments)}function Jd(e,t,n){var r,s=t[0],i=t.slice(1);if(s===void 0)return n;if(Array.isArray(e))return e.map(function(u,o){return o===s?Jd(u,i,n):u});if(e==null)throw new Error("Path doesn't exist in object!");return Gd(Gd({},e),(r={},r[s]=Jd(e[s],i,n),r))}function jH(){return O(LH,arguments)}function LH(e){for(var t=e.slice(),n=0;n<e.length;n++){var r=n+Math.floor(Math.random()*(e.length-n)),s=t[r];t[r]=t[n],t[n]=s}return t}var FH=function(e,t){return function(n){return n.slice(e,t)}};function qm(){return O(BH,arguments)}function BH(e,t){var n=e.slice();return n.sort(t),n}(function(e){e.strict=e})(qm||(qm={}));function $m(){return G1(UH,arguments)}var UH=function(e,t){return e.slice().sort(t)};(function(e){e.strict=e})($m||($m={}));function Oa(e,t){for(var n=0,r=e.length;n<r;){var s=n+r>>>1,i=e[s];t(i,s)?n=s+1:r=s}return r}function qH(){return O($H,arguments)}var $H=function(e,t){return Oa(e,function(n){return n<t})};function Vm(){return O(vE,arguments)}(function(e){function t(){return O(vE,arguments)}e.indexed=t})(Vm||(Vm={}));function vE(e,t,n){var r=n(t);return Oa(e,function(s,i){return n(s,i)<r})}function zm(){return O(Oa,arguments)}(function(e){function t(){return O(Oa,arguments)}e.indexed=t})(zm||(zm={}));function VH(){return O(zH,arguments)}var zH=function(e,t){return Oa(e,function(n){return n<=t})};function Hm(){return O(xE,arguments)}(function(e){function t(){return O(xE,arguments)}e.indexed=t})(Hm||(Hm={}));function xE(e,t,n){var r=n(t);return Oa(e,function(s,i){return n(s,i)<=r})}var HH=function(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))};function GH(){return O(JH,arguments)}function JH(e,t,n,r){var s=e.slice();return s.splice.apply(s,HH([t,n],r,!1)),s}function SE(){return O(WH,arguments)}function WH(e,t){var n=e.slice(),r=n.splice(t);return[n,r]}function QH(){return O(XH,arguments)}function XH(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return SE(e,n);return[e.slice(),[]]}var KH=function(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))};function YH(e){return AE(e)}function AE(e){var t;if(e.length===0)return[];var n=(t=/^\[(.+?)\](.*)$/u.exec(e))!==null&&t!==void 0?t:/^\.?([^.[\]]+)(.*)$/u.exec(e);if(n!==null){var r=n[1],s=n[2];return KH([r],AE(s),!0)}return[e]}function ZH(){return O(eG,arguments)}function eG(e,t){return e-t}function tG(){return O(nG,arguments)}function nG(e){for(var t=0,n=0,r=e;n<r.length;n++){var s=r[n];t+=s}return t}var _E=function(e){return function(t,n){for(var r=0,s=0;s<t.length;s++){var i=t[s],u=e?n(i,s,t):n(i);r+=u}return r}};function Gm(){return O(_E(!1),arguments)}(function(e){function t(){return O(_E(!0),arguments)}e.indexed=t})(Gm||(Gm={}));function rG(){return O(sG,arguments)}function sG(e,t,n){return typeof e=="string"?iG(e,t,n):TE(e,t,n)}function TE(e,t,n){var r=e.slice();if(isNaN(t)||isNaN(n))return r;var s=t<0?e.length+t:t,i=n<0?e.length+n:n;return s<0||s>e.length||i<0||i>e.length||(r[s]=e[i],r[i]=e[s]),r}function iG(e,t,n){var r=TE(e.split(""),t,n);return r.join("")}var Wd=function(){return Wd=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Wd.apply(this,arguments)};function uG(){return O(oG,arguments)}function oG(e,t,n){var r,s=e,i=t,u=s[i],o=n,a=s[o];return Wd(Wd({},e),(r={},r[t]=a,r[n]=u,r))}function Wc(){return O(aG,arguments,Wc.lazy)}function aG(e,t){return Xe(e,Wc.lazy(t))}(function(e){function t(n){if(n<=0)return function(){return{done:!0,hasNext:!1}};var r=n;return function(s){return r-=1,{done:r<=0,hasNext:!0,next:s}}}e.lazy=t})(Wc||(Wc={}));function cG(){return fp(lG,arguments)}function lG(e,t,n){if(n<=0)return[];if(n>=e.length)return e.slice();var r=e.slice(0,n);UT(r,t);for(var s=e.slice(n),i=0,u=s;i<u.length;i++){var o=u[i];qT(r,t,o)}return r}function fG(){return O(dG,arguments)}function dG(e,t){for(var n=e.length-1;n>=0;n--)if(!t(e[n]))return e.slice(n+1);return e.slice()}function hG(){return O(pG,arguments)}function pG(e,t){for(var n=[],r=0,s=e;r<s.length;r++){var i=s[r];if(!t(i))break;n.push(i)}return n}function gG(){return O(mG,arguments)}function mG(e,t){return t(e),e}function Qc(){return O(bG,arguments,Qc.lazy)}function bG(e){return Xe(e,Qc.lazy())}(function(e){function t(){var n=new Set;return function(r){return n.has(r)?{done:!1,hasNext:!1}:(n.add(r),{done:!1,hasNext:!0,next:r})}}e.lazy=t})(Qc||(Qc={}));function yG(){return O(wG,arguments,EE)}function wG(e,t){return Xe(e,EE(t))}function EE(e){var t=new Set;return function(n){var r=e(n);return t.has(r)?{done:!1,hasNext:!1}:(t.add(r),{done:!1,hasNext:!0,next:n})}}function Xc(){return O(vG,arguments,Xc.lazy)}function vG(e,t){var n=Xc.lazy(t);return Xe(e,n,!0)}var xG=function(e){return function(t,n,r){return r!==void 0&&r.findIndex(function(s){return e(t,s)})===n?{done:!1,hasNext:!0,next:t}:{done:!1,hasNext:!1}}};(function(e){e.lazy=ri(xG)})(Xc||(Xc={}));function Kc(){return O(SG,arguments,Kc.lazy)}function SG(e){return Xe(e,Kc.lazy())}(function(e){function t(){var n=new Set;return function(r){return n.has(r)?{done:!1,hasNext:!1}:(n.add(r),{done:!1,hasNext:!0,next:r})}}e.lazy=t})(Kc||(Kc={}));function AG(){return O(_G,arguments,OE)}function _G(e,t){return Xe(e,OE(t))}function OE(e){var t=new Set;return function(n){var r=e(n);return t.has(r)?{done:!1,hasNext:!1}:(t.add(r),{done:!1,hasNext:!0,next:n})}}function Yc(){return O(TG,arguments,Yc.lazy)}function TG(e,t){var n=Yc.lazy(t);return Xe(e,n,!0)}var EG=function(e){return function(t,n,r){return r!==void 0&&r.findIndex(function(s){return e(t,s)})===n?{done:!1,hasNext:!0,next:t}:{done:!1,hasNext:!1}}};(function(e){e.lazy=ri(EG)})(Yc||(Yc={}));function OG(){return O(Object.values,arguments)}function Jm(){return O(IG,arguments)}function IG(e,t){for(var n=e.length>t.length?t.length:e.length,r=[],s=0;s<n;s++)r.push([e[s],t[s]]);return r}(function(e){e.strict=e})(Jm||(Jm={}));function NG(){return O(RG,arguments)}function RG(e,t){for(var n=e.length>t.length?t.length:e.length,r={},s=0;s<n;s++)r[e[s]]=t[s];return r}function kG(e,t,n){if(typeof e=="function")return t===void 0?function(r,s){return ig(r,s,e)}:function(r){return ig(r,t,e)};if(t===void 0||n===void 0)throw new Error("zipWith: Missing arguments in dataFirst function call");return ig(e,t,n)}function ig(e,t,n){for(var r=e.length>t.length?t.length:e.length,s=[],i=0;i<r;i++)s.push(n(e[i],t[i]));return s}const CG=Object.freeze(Object.defineProperty({__proto__:null,_setPath:Jd,add:$$,addProp:z$,allPass:G$,anyPass:W$,ceil:X$,chunk:K$,clamp:Z$,clone:nV,compact:rV,concat:sV,get conditional(){return vm},constant:dV,get countBy(){return xm},createPipe:mV,debounce:bV,get difference(){return Uc},get differenceWith(){return qc},divide:_V,doNothing:EV,get drop(){return $c},dropFirstBy:RV,dropLast:CV,dropLastWhile:MV,dropWhile:jV,get entries(){return _m},equals:FV,evolve:BV,get filter(){return Wo},get find(){return Pd},get findIndex(){return jd},get findLast(){return Om},get findLastIndex(){return Im},get first(){return Ld},firstBy:qV,flat:VV,get flatMap(){return Bd},get flatMapToObj(){return Nm},get flatten(){return Qo},get flattenDeep(){return Xo},floor:KV,get forEach(){return Ko},get forEachObj(){return Rm},get fromEntries(){return Ud},fromKeys:ZV,get fromPairs(){return km},get groupBy(){return Cm},hasAtLeast:Vc,hasSubObject:sz,identity:uz,get indexBy(){return Dm},get intersection(){return Hc},get intersectionWith(){return Gc},invert:dz,isArray:iE,isBoolean:pz,isDate:gz,isDeepEqual:nE,get isDefined(){return Mm},isEmpty:mz,isError:bz,isFunction:yz,isIncludedIn:wz,isNil:vz,isNonNull:xz,isNonNullish:Sz,isNot:Az,isNullish:_z,isNumber:Tz,isObject:uE,isObjectType:Ez,isPlainObject:Oz,isPromise:Iz,isString:oE,isSymbol:Nz,isTruthy:jT,join:Rz,get keys(){return Jc},last:Cz,length:Mz,get map(){return Yo},mapKeys:jz,get mapToObj(){return Pm},mapValues:Fz,get mapWithFeedback(){return Zo},get maxBy(){return jm},get meanBy(){return Lm},merge:Uz,mergeAll:$z,mergeDeep:Vz,get minBy(){return Fm},multiply:zz,noop:Gz,nthBy:Qz,objOf:Kz,omit:eH,omitBy:nH,once:sH,only:iH,get partition(){return Bm},pathOr:oH,pick:cH,pickBy:fH,pipe:H1,piped:pH,product:gH,prop:bH,pullObject:yH,purry:O,randomString:xH,range:_H,rankBy:EH,get reduce(){return Um},get reject(){return ea},reverse:IH,round:RH,sample:kH,set:DH,setPath:PH,shuffle:jH,sliceString:FH,get sort(){return qm},get sortBy(){return $m},sortedIndex:qH,get sortedIndexBy(){return Vm},get sortedIndexWith(){return zm},sortedLastIndex:VH,get sortedLastIndexBy(){return Hm},splice:GH,splitAt:SE,splitWhen:QH,stringToPath:YH,subtract:ZH,sum:tG,get sumBy(){return Gm},swapIndices:rG,swapProps:uG,get take(){return Wc},takeFirstBy:cG,takeLastWhile:fG,takeWhile:hG,tap:gG,times:bE,get toPairs(){return Jo},type:MT,get uniq(){return Qc},uniqBy:yG,get uniqWith(){return Xc},get unique(){return Kc},uniqueBy:AG,get uniqueWith(){return Yc},values:OG,get zip(){return Jm},zipObj:NG,zipWith:kG},Symbol.toStringTag,{value:"Module"})),dp=yy(CG);var IE={},hp={},pp={};Object.defineProperty(pp,"__esModule",{value:!0});pp.default=MG;let wf;const DG=new Uint8Array(16);function MG(){if(!wf&&(wf=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!wf))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return wf(DG)}var Ji={},to={},gp={};Object.defineProperty(gp,"__esModule",{value:!0});gp.default=void 0;var PG=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;gp.default=PG;Object.defineProperty(to,"__esModule",{value:!0});to.default=void 0;var jG=LG(gp);function LG(e){return e&&e.__esModule?e:{default:e}}function FG(e){return typeof e=="string"&&jG.default.test(e)}var BG=FG;to.default=BG;Object.defineProperty(Ji,"__esModule",{value:!0});Ji.default=void 0;Ji.unsafeStringify=NE;var UG=qG(to);function qG(e){return e&&e.__esModule?e:{default:e}}const Ot=[];for(let e=0;e<256;++e)Ot.push((e+256).toString(16).slice(1));function NE(e,t=0){return Ot[e[t+0]]+Ot[e[t+1]]+Ot[e[t+2]]+Ot[e[t+3]]+"-"+Ot[e[t+4]]+Ot[e[t+5]]+"-"+Ot[e[t+6]]+Ot[e[t+7]]+"-"+Ot[e[t+8]]+Ot[e[t+9]]+"-"+Ot[e[t+10]]+Ot[e[t+11]]+Ot[e[t+12]]+Ot[e[t+13]]+Ot[e[t+14]]+Ot[e[t+15]]}function $G(e,t=0){const n=NE(e,t);if(!(0,UG.default)(n))throw TypeError("Stringified UUID is invalid");return n}var VG=$G;Ji.default=VG;Object.defineProperty(hp,"__esModule",{value:!0});hp.default=void 0;var zG=GG(pp),HG=Ji;function GG(e){return e&&e.__esModule?e:{default:e}}let Fx,ug,og=0,ag=0;function JG(e,t,n){let r=t&&n||0;const s=t||new Array(16);e=e||{};let i=e.node||Fx,u=e.clockseq!==void 0?e.clockseq:ug;if(i==null||u==null){const h=e.random||(e.rng||zG.default)();i==null&&(i=Fx=[h[0]|1,h[1],h[2],h[3],h[4],h[5]]),u==null&&(u=ug=(h[6]<<8|h[7])&16383)}let o=e.msecs!==void 0?e.msecs:Date.now(),a=e.nsecs!==void 0?e.nsecs:ag+1;const c=o-og+(a-ag)/1e4;if(c<0&&e.clockseq===void 0&&(u=u+1&16383),(c<0||o>og)&&e.nsecs===void 0&&(a=0),a>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");og=o,ag=a,ug=u,o+=122192928e5;const l=((o&268435455)*1e4+a)%4294967296;s[r++]=l>>>24&255,s[r++]=l>>>16&255,s[r++]=l>>>8&255,s[r++]=l&255;const d=o/4294967296*1e4&268435455;s[r++]=d>>>8&255,s[r++]=d&255,s[r++]=d>>>24&15|16,s[r++]=d>>>16&255,s[r++]=u>>>8|128,s[r++]=u&255;for(let h=0;h<6;++h)s[r+h]=i[h];return t||(0,HG.unsafeStringify)(s)}var WG=JG;hp.default=WG;var mp={},Mi={},$l={};Object.defineProperty($l,"__esModule",{value:!0});$l.default=void 0;var QG=XG(to);function XG(e){return e&&e.__esModule?e:{default:e}}function KG(e){if(!(0,QG.default)(e))throw TypeError("Invalid UUID");let t;const n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=t&255,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=t&255,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=t&255,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=t&255,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=t&255,n}var YG=KG;$l.default=YG;Object.defineProperty(Mi,"__esModule",{value:!0});Mi.URL=Mi.DNS=void 0;Mi.default=rJ;var ZG=Ji,eJ=tJ($l);function tJ(e){return e&&e.__esModule?e:{default:e}}function nJ(e){e=unescape(encodeURIComponent(e));const t=[];for(let n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}const RE="6ba7b810-9dad-11d1-80b4-00c04fd430c8";Mi.DNS=RE;const kE="6ba7b811-9dad-11d1-80b4-00c04fd430c8";Mi.URL=kE;function rJ(e,t,n){function r(s,i,u,o){var a;if(typeof s=="string"&&(s=nJ(s)),typeof i=="string"&&(i=(0,eJ.default)(i)),((a=i)===null||a===void 0?void 0:a.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let c=new Uint8Array(16+s.length);if(c.set(i),c.set(s,i.length),c=n(c),c[6]=c[6]&15|t,c[8]=c[8]&63|128,u){o=o||0;for(let l=0;l<16;++l)u[o+l]=c[l];return u}return(0,ZG.unsafeStringify)(c)}try{r.name=e}catch{}return r.DNS=RE,r.URL=kE,r}var bp={};Object.defineProperty(bp,"__esModule",{value:!0});bp.default=void 0;function sJ(e){if(typeof e=="string"){const t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(let n=0;n<t.length;++n)e[n]=t.charCodeAt(n)}return iJ(uJ(oJ(e),e.length*8))}function iJ(e){const t=[],n=e.length*32,r="0123456789abcdef";for(let s=0;s<n;s+=8){const i=e[s>>5]>>>s%32&255,u=parseInt(r.charAt(i>>>4&15)+r.charAt(i&15),16);t.push(u)}return t}function CE(e){return(e+64>>>9<<4)+14+1}function uJ(e,t){e[t>>5]|=128<<t%32,e[CE(t)-1]=t;let n=1732584193,r=-271733879,s=-1732584194,i=271733878;for(let u=0;u<e.length;u+=16){const o=n,a=r,c=s,l=i;n=Pt(n,r,s,i,e[u],7,-680876936),i=Pt(i,n,r,s,e[u+1],12,-389564586),s=Pt(s,i,n,r,e[u+2],17,606105819),r=Pt(r,s,i,n,e[u+3],22,-1044525330),n=Pt(n,r,s,i,e[u+4],7,-176418897),i=Pt(i,n,r,s,e[u+5],12,1200080426),s=Pt(s,i,n,r,e[u+6],17,-1473231341),r=Pt(r,s,i,n,e[u+7],22,-45705983),n=Pt(n,r,s,i,e[u+8],7,1770035416),i=Pt(i,n,r,s,e[u+9],12,-1958414417),s=Pt(s,i,n,r,e[u+10],17,-42063),r=Pt(r,s,i,n,e[u+11],22,-1990404162),n=Pt(n,r,s,i,e[u+12],7,1804603682),i=Pt(i,n,r,s,e[u+13],12,-40341101),s=Pt(s,i,n,r,e[u+14],17,-1502002290),r=Pt(r,s,i,n,e[u+15],22,1236535329),n=jt(n,r,s,i,e[u+1],5,-165796510),i=jt(i,n,r,s,e[u+6],9,-1069501632),s=jt(s,i,n,r,e[u+11],14,643717713),r=jt(r,s,i,n,e[u],20,-373897302),n=jt(n,r,s,i,e[u+5],5,-701558691),i=jt(i,n,r,s,e[u+10],9,38016083),s=jt(s,i,n,r,e[u+15],14,-660478335),r=jt(r,s,i,n,e[u+4],20,-405537848),n=jt(n,r,s,i,e[u+9],5,568446438),i=jt(i,n,r,s,e[u+14],9,-1019803690),s=jt(s,i,n,r,e[u+3],14,-187363961),r=jt(r,s,i,n,e[u+8],20,1163531501),n=jt(n,r,s,i,e[u+13],5,-1444681467),i=jt(i,n,r,s,e[u+2],9,-51403784),s=jt(s,i,n,r,e[u+7],14,1735328473),r=jt(r,s,i,n,e[u+12],20,-1926607734),n=Lt(n,r,s,i,e[u+5],4,-378558),i=Lt(i,n,r,s,e[u+8],11,-2022574463),s=Lt(s,i,n,r,e[u+11],16,1839030562),r=Lt(r,s,i,n,e[u+14],23,-35309556),n=Lt(n,r,s,i,e[u+1],4,-1530992060),i=Lt(i,n,r,s,e[u+4],11,1272893353),s=Lt(s,i,n,r,e[u+7],16,-155497632),r=Lt(r,s,i,n,e[u+10],23,-1094730640),n=Lt(n,r,s,i,e[u+13],4,681279174),i=Lt(i,n,r,s,e[u],11,-358537222),s=Lt(s,i,n,r,e[u+3],16,-722521979),r=Lt(r,s,i,n,e[u+6],23,76029189),n=Lt(n,r,s,i,e[u+9],4,-640364487),i=Lt(i,n,r,s,e[u+12],11,-421815835),s=Lt(s,i,n,r,e[u+15],16,530742520),r=Lt(r,s,i,n,e[u+2],23,-995338651),n=Ft(n,r,s,i,e[u],6,-198630844),i=Ft(i,n,r,s,e[u+7],10,1126891415),s=Ft(s,i,n,r,e[u+14],15,-1416354905),r=Ft(r,s,i,n,e[u+5],21,-57434055),n=Ft(n,r,s,i,e[u+12],6,1700485571),i=Ft(i,n,r,s,e[u+3],10,-1894986606),s=Ft(s,i,n,r,e[u+10],15,-1051523),r=Ft(r,s,i,n,e[u+1],21,-2054922799),n=Ft(n,r,s,i,e[u+8],6,1873313359),i=Ft(i,n,r,s,e[u+15],10,-30611744),s=Ft(s,i,n,r,e[u+6],15,-1560198380),r=Ft(r,s,i,n,e[u+13],21,1309151649),n=Ft(n,r,s,i,e[u+4],6,-145523070),i=Ft(i,n,r,s,e[u+11],10,-1120210379),s=Ft(s,i,n,r,e[u+2],15,718787259),r=Ft(r,s,i,n,e[u+9],21,-343485551),n=wi(n,o),r=wi(r,a),s=wi(s,c),i=wi(i,l)}return[n,r,s,i]}function oJ(e){if(e.length===0)return[];const t=e.length*8,n=new Uint32Array(CE(t));for(let r=0;r<t;r+=8)n[r>>5]|=(e[r/8]&255)<<r%32;return n}function wi(e,t){const n=(e&65535)+(t&65535);return(e>>16)+(t>>16)+(n>>16)<<16|n&65535}function aJ(e,t){return e<<t|e>>>32-t}function yp(e,t,n,r,s,i){return wi(aJ(wi(wi(t,e),wi(r,i)),s),n)}function Pt(e,t,n,r,s,i,u){return yp(t&n|~t&r,e,t,s,i,u)}function jt(e,t,n,r,s,i,u){return yp(t&r|n&~r,e,t,s,i,u)}function Lt(e,t,n,r,s,i,u){return yp(t^n^r,e,t,s,i,u)}function Ft(e,t,n,r,s,i,u){return yp(n^(t|~r),e,t,s,i,u)}var cJ=sJ;bp.default=cJ;Object.defineProperty(mp,"__esModule",{value:!0});mp.default=void 0;var lJ=DE(Mi),fJ=DE(bp);function DE(e){return e&&e.__esModule?e:{default:e}}const dJ=(0,lJ.default)("v3",48,fJ.default);var hJ=dJ;mp.default=hJ;var wp={},vp={};Object.defineProperty(vp,"__esModule",{value:!0});vp.default=void 0;const pJ=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var gJ={randomUUID:pJ};vp.default=gJ;Object.defineProperty(wp,"__esModule",{value:!0});wp.default=void 0;var Bx=ME(vp),mJ=ME(pp),bJ=Ji;function ME(e){return e&&e.__esModule?e:{default:e}}function yJ(e,t,n){if(Bx.default.randomUUID&&!t&&!e)return Bx.default.randomUUID();e=e||{};const r=e.random||(e.rng||mJ.default)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(let s=0;s<16;++s)t[n+s]=r[s];return t}return(0,bJ.unsafeStringify)(r)}var wJ=yJ;wp.default=wJ;var xp={},Sp={};Object.defineProperty(Sp,"__esModule",{value:!0});Sp.default=void 0;function vJ(e,t,n,r){switch(e){case 0:return t&n^~t&r;case 1:return t^n^r;case 2:return t&n^t&r^n&r;case 3:return t^n^r}}function cg(e,t){return e<<t|e>>>32-t}function xJ(e){const t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof e=="string"){const u=unescape(encodeURIComponent(e));e=[];for(let o=0;o<u.length;++o)e.push(u.charCodeAt(o))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);const r=e.length/4+2,s=Math.ceil(r/16),i=new Array(s);for(let u=0;u<s;++u){const o=new Uint32Array(16);for(let a=0;a<16;++a)o[a]=e[u*64+a*4]<<24|e[u*64+a*4+1]<<16|e[u*64+a*4+2]<<8|e[u*64+a*4+3];i[u]=o}i[s-1][14]=(e.length-1)*8/Math.pow(2,32),i[s-1][14]=Math.floor(i[s-1][14]),i[s-1][15]=(e.length-1)*8&4294967295;for(let u=0;u<s;++u){const o=new Uint32Array(80);for(let f=0;f<16;++f)o[f]=i[u][f];for(let f=16;f<80;++f)o[f]=cg(o[f-3]^o[f-8]^o[f-14]^o[f-16],1);let a=n[0],c=n[1],l=n[2],d=n[3],h=n[4];for(let f=0;f<80;++f){const p=Math.floor(f/20),m=cg(a,5)+vJ(p,c,l,d)+h+t[p]+o[f]>>>0;h=d,d=l,l=cg(c,30)>>>0,c=a,a=m}n[0]=n[0]+a>>>0,n[1]=n[1]+c>>>0,n[2]=n[2]+l>>>0,n[3]=n[3]+d>>>0,n[4]=n[4]+h>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,n[0]&255,n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,n[1]&255,n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,n[2]&255,n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,n[3]&255,n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,n[4]&255]}var SJ=xJ;Sp.default=SJ;Object.defineProperty(xp,"__esModule",{value:!0});xp.default=void 0;var AJ=PE(Mi),_J=PE(Sp);function PE(e){return e&&e.__esModule?e:{default:e}}const TJ=(0,AJ.default)("v5",80,_J.default);var EJ=TJ;xp.default=EJ;var Ap={};Object.defineProperty(Ap,"__esModule",{value:!0});Ap.default=void 0;var OJ="00000000-0000-0000-0000-000000000000";Ap.default=OJ;var _p={};Object.defineProperty(_p,"__esModule",{value:!0});_p.default=void 0;var IJ=NJ(to);function NJ(e){return e&&e.__esModule?e:{default:e}}function RJ(e){if(!(0,IJ.default)(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}var kJ=RJ;_p.default=kJ;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"NIL",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"parse",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"v1",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"v3",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"v4",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"v5",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"validate",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"version",{enumerable:!0,get:function(){return u.default}});var t=l(hp),n=l(mp),r=l(wp),s=l(xp),i=l(Ap),u=l(_p),o=l(to),a=l(Ji),c=l($l);function l(d){return d&&d.__esModule?d:{default:d}}})(IE);var jE={exports:{}},LE={exports:{}};(function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t={rotl:function(n,r){return n<<r|n>>>32-r},rotr:function(n,r){return n<<32-r|n>>>r},endian:function(n){if(n.constructor==Number)return t.rotl(n,8)&16711935|t.rotl(n,24)&4278255360;for(var r=0;r<n.length;r++)n[r]=t.endian(n[r]);return n},randomBytes:function(n){for(var r=[];n>0;n--)r.push(Math.floor(Math.random()*256));return r},bytesToWords:function(n){for(var r=[],s=0,i=0;s<n.length;s++,i+=8)r[i>>>5]|=n[s]<<24-i%32;return r},wordsToBytes:function(n){for(var r=[],s=0;s<n.length*32;s+=8)r.push(n[s>>>5]>>>24-s%32&255);return r},bytesToHex:function(n){for(var r=[],s=0;s<n.length;s++)r.push((n[s]>>>4).toString(16)),r.push((n[s]&15).toString(16));return r.join("")},hexToBytes:function(n){for(var r=[],s=0;s<n.length;s+=2)r.push(parseInt(n.substr(s,2),16));return r},bytesToBase64:function(n){for(var r=[],s=0;s<n.length;s+=3)for(var i=n[s]<<16|n[s+1]<<8|n[s+2],u=0;u<4;u++)s*8+u*6<=n.length*8?r.push(e.charAt(i>>>6*(3-u)&63)):r.push("=");return r.join("")},base64ToBytes:function(n){n=n.replace(/[^A-Z0-9+\/]/ig,"");for(var r=[],s=0,i=0;s<n.length;i=++s%4)i!=0&&r.push((e.indexOf(n.charAt(s-1))&Math.pow(2,-2*i+8)-1)<<i*2|e.indexOf(n.charAt(s))>>>6-i*2);return r}};LE.exports=t})();var CJ=LE.exports,Wm={utf8:{stringToBytes:function(e){return Wm.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(Wm.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(e.charCodeAt(n)&255);return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}},Ux=Wm;/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var DJ=function(e){return e!=null&&(FE(e)||MJ(e)||!!e._isBuffer)};function FE(e){return!!e.constructor&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function MJ(e){return typeof e.readFloatLE=="function"&&typeof e.slice=="function"&&FE(e.slice(0,0))}(function(){var e=CJ,t=Ux.utf8,n=DJ,r=Ux.bin,s=function(i,u){i.constructor==String?u&&u.encoding==="binary"?i=r.stringToBytes(i):i=t.stringToBytes(i):n(i)?i=Array.prototype.slice.call(i,0):!Array.isArray(i)&&i.constructor!==Uint8Array&&(i=i.toString());for(var o=e.bytesToWords(i),a=i.length*8,c=1732584193,l=-271733879,d=-1732584194,h=271733878,f=0;f<o.length;f++)o[f]=(o[f]<<8|o[f]>>>24)&16711935|(o[f]<<24|o[f]>>>8)&4278255360;o[a>>>5]|=128<<a%32,o[(a+64>>>9<<4)+14]=a;for(var p=s._ff,m=s._gg,b=s._hh,y=s._ii,f=0;f<o.length;f+=16){var w=c,x=l,v=d,_=h;c=p(c,l,d,h,o[f+0],7,-680876936),h=p(h,c,l,d,o[f+1],12,-389564586),d=p(d,h,c,l,o[f+2],17,606105819),l=p(l,d,h,c,o[f+3],22,-1044525330),c=p(c,l,d,h,o[f+4],7,-176418897),h=p(h,c,l,d,o[f+5],12,1200080426),d=p(d,h,c,l,o[f+6],17,-1473231341),l=p(l,d,h,c,o[f+7],22,-45705983),c=p(c,l,d,h,o[f+8],7,1770035416),h=p(h,c,l,d,o[f+9],12,-1958414417),d=p(d,h,c,l,o[f+10],17,-42063),l=p(l,d,h,c,o[f+11],22,-1990404162),c=p(c,l,d,h,o[f+12],7,1804603682),h=p(h,c,l,d,o[f+13],12,-40341101),d=p(d,h,c,l,o[f+14],17,-1502002290),l=p(l,d,h,c,o[f+15],22,1236535329),c=m(c,l,d,h,o[f+1],5,-165796510),h=m(h,c,l,d,o[f+6],9,-1069501632),d=m(d,h,c,l,o[f+11],14,643717713),l=m(l,d,h,c,o[f+0],20,-373897302),c=m(c,l,d,h,o[f+5],5,-701558691),h=m(h,c,l,d,o[f+10],9,38016083),d=m(d,h,c,l,o[f+15],14,-660478335),l=m(l,d,h,c,o[f+4],20,-405537848),c=m(c,l,d,h,o[f+9],5,568446438),h=m(h,c,l,d,o[f+14],9,-1019803690),d=m(d,h,c,l,o[f+3],14,-187363961),l=m(l,d,h,c,o[f+8],20,1163531501),c=m(c,l,d,h,o[f+13],5,-1444681467),h=m(h,c,l,d,o[f+2],9,-51403784),d=m(d,h,c,l,o[f+7],14,1735328473),l=m(l,d,h,c,o[f+12],20,-1926607734),c=b(c,l,d,h,o[f+5],4,-378558),h=b(h,c,l,d,o[f+8],11,-2022574463),d=b(d,h,c,l,o[f+11],16,1839030562),l=b(l,d,h,c,o[f+14],23,-35309556),c=b(c,l,d,h,o[f+1],4,-1530992060),h=b(h,c,l,d,o[f+4],11,1272893353),d=b(d,h,c,l,o[f+7],16,-155497632),l=b(l,d,h,c,o[f+10],23,-1094730640),c=b(c,l,d,h,o[f+13],4,681279174),h=b(h,c,l,d,o[f+0],11,-358537222),d=b(d,h,c,l,o[f+3],16,-722521979),l=b(l,d,h,c,o[f+6],23,76029189),c=b(c,l,d,h,o[f+9],4,-640364487),h=b(h,c,l,d,o[f+12],11,-421815835),d=b(d,h,c,l,o[f+15],16,530742520),l=b(l,d,h,c,o[f+2],23,-995338651),c=y(c,l,d,h,o[f+0],6,-198630844),h=y(h,c,l,d,o[f+7],10,1126891415),d=y(d,h,c,l,o[f+14],15,-1416354905),l=y(l,d,h,c,o[f+5],21,-57434055),c=y(c,l,d,h,o[f+12],6,1700485571),h=y(h,c,l,d,o[f+3],10,-1894986606),d=y(d,h,c,l,o[f+10],15,-1051523),l=y(l,d,h,c,o[f+1],21,-2054922799),c=y(c,l,d,h,o[f+8],6,1873313359),h=y(h,c,l,d,o[f+15],10,-30611744),d=y(d,h,c,l,o[f+6],15,-1560198380),l=y(l,d,h,c,o[f+13],21,1309151649),c=y(c,l,d,h,o[f+4],6,-145523070),h=y(h,c,l,d,o[f+11],10,-1120210379),d=y(d,h,c,l,o[f+2],15,718787259),l=y(l,d,h,c,o[f+9],21,-343485551),c=c+w>>>0,l=l+x>>>0,d=d+v>>>0,h=h+_>>>0}return e.endian([c,l,d,h])};s._ff=function(i,u,o,a,c,l,d){var h=i+(u&o|~u&a)+(c>>>0)+d;return(h<<l|h>>>32-l)+u},s._gg=function(i,u,o,a,c,l,d){var h=i+(u&a|o&~a)+(c>>>0)+d;return(h<<l|h>>>32-l)+u},s._hh=function(i,u,o,a,c,l,d){var h=i+(u^o^a)+(c>>>0)+d;return(h<<l|h>>>32-l)+u},s._ii=function(i,u,o,a,c,l,d){var h=i+(o^(u|~a))+(c>>>0)+d;return(h<<l|h>>>32-l)+u},s._blocksize=16,s._digestsize=16,jE.exports=function(i,u){if(i==null)throw new Error("Illegal argument "+i);var o=e.wordsToBytes(s(i,u));return u&&u.asBytes?o:u&&u.asString?r.bytesToString(o):e.bytesToHex(o)}})();var PJ=jE.exports,jJ=U&&U.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),LJ=U&&U.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),FJ=U&&U.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&jJ(t,e,n);return LJ(t,e),t},BJ=U&&U.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(eo,"__esModule",{value:!0});eo.randomId=void 0;const UJ=dp,qx=FJ(IE),qJ=BJ(PJ);function $J(e){if(e){const t=(0,qJ.default)(e),n=(0,UJ.chunk)(t,2).map(r=>parseInt(r.join(""),16));return qx.v4({random:n})}else return qx.v4()}eo.randomId=$J;var gs={},Tp={};Object.defineProperty(Tp,"__esModule",{value:!0});Tp.mutableFilter=void 0;function VJ(e,t){let n=0;for(;!(n>=e.length);){const r=e[n];t(r)?n++:e.splice(n,1)}}Tp.mutableFilter=VJ;var Ep={};Object.defineProperty(Ep,"__esModule",{value:!0});Ep.outdent=void 0;const zJ=2;function HJ(e){return e.replace(/\t/g," ".repeat(zJ))}function GJ(e){let t=0;for(const n of e)if(n===" ")t+=1;else return t;return t}function JJ(e){let t=e.split(`
`).map(HJ);t[0].trim()===""&&(t=t.slice(1)),t[t.length-1].trim()===""&&(t=t.slice(0,t.length-1));const n=t.map(GJ),r=Math.min(...n);return t.map(i=>i.slice(r)).join(`
`)}Ep.outdent=JJ;var Wi={},Pi={};Object.defineProperty(Pi,"__esModule",{value:!0});Pi.MAX=Pi.MIN=void 0;Pi.MIN=null;Pi.MAX=!0;var Pn={},Ia={};Object.defineProperty(Ia,"__esModule",{value:!0});Ia.isPlainObject=void 0;function WJ(e){if(e===null||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);return t===Object.prototype||t===null}Ia.isPlainObject=WJ;var Op={};const BE=2047,UE=0xfffffffffffff;function QJ({sign:e,exponent:t,mantissa:n}){if(e!==0&&e!==1)throw new Error(`Invalid value for sign: ${e}.`);if(typeof t!="number"||t<0||BE<t)throw new Error(`Invalid value for exponent: ${t}.`);if(typeof n!="number"||n<0||UE<n)throw new Error(`Invalid value for mantissa: ${n}.`);const r=new ArrayBuffer(8),s=new Float64Array(r),i=new Uint8Array(r);return YJ(e,i),eW(t,i),nW(n,i),s[0]}function XJ(e){if(typeof e!="number")throw new Error(`Value is not of type number: ${e}.`);const t=new ArrayBuffer(8),n=new Float64Array(t),r=new Uint8Array(t);return n[0]=e,{sign:KJ(r),exponent:ZJ(r),mantissa:tW(r)}}function KJ(e){return Rs(e[7],7)}function YJ(e,t){t[7]|=Ns(e,7)}function ZJ(e){let t=0;return t+=Ns(e[7]&127,4),t+=Rs(e[6],4),t}function eW(e,t){t[7]|=Rs(e,4),t[6]|=Ns(e&15,4)}function tW(e){let t=0;return t+=Ns(e[6]&15,48),t+=Ns(e[5],40),t+=Ns(e[4],32),t+=Ns(e[3],24),t+=Ns(e[2],16),t+=Ns(e[1],8),t+=e[0],t}function nW(e,t){t[6]|=Rs(e,48)&255,t[5]|=Rs(e,40)&255,t[4]|=Rs(e,32)&255,t[3]|=Rs(e,24)&255,t[2]|=Rs(e,16)&255,t[1]|=Rs(e,8)&255,t[0]|=e&255}function Ns(e,t){return e*Math.pow(2,t)}function Rs(e,t){return Math.floor(e/Math.pow(2,t))}var rW={MAX_EXPONENT:BE,MAX_MANTISSA:UE,construct:QJ,deconstruct:XJ};/***
 * @license
 * https://github.com/ealmansi/elen
 * Copyright (c) 2017 Emilio Almansi
 * Distributed under the MIT software license, see the accompanying
 * file LICENSE or http://www.opensource.org/licenses/mit-license.php.
 */const Ti=rW,J1=";",qE=">",$E="<";function sW(e){if(typeof e!="number")throw new Error(`Value is not of type number: ${e}.`);const{sign:t,exponent:n,mantissa:r}=Ti.deconstruct(e);let s="";return s+=t===1?$E:qE,s+=Qm(t===1?Ti.MAX_EXPONENT-n:n),s+=Qm(t===1?Ti.MAX_MANTISSA-r:r),s}function Qm(e){let t="";e>0&&(t+=J1);const n=e.toString();return n.length>1&&(t+=Qm(n.length)),t+=n,t}function iW(e){if(typeof e!="string")throw new Error(`Value is not of type string: ${e}.`);const{signLength:t,sign:n}=uW(e,0),{exponentLength:r,exponent:s}=oW(e,n,t),{mantissaLength:i,mantissa:u}=aW(e,n,t+r);return qs(e.length===t+r+i,e),Ti.construct({sign:n,exponent:s,mantissa:u})}function uW(e,t){if(qs(t<e.length,e),e[t]===qE)return{signLength:1,sign:0};if(e[t]===$E)return{signLength:1,sign:1};qs(!1,e)}function oW(e,t,n){if(qs(n<e.length,e),e[n]==="0")return{exponentLength:1,exponent:t===0?0:Ti.MAX_EXPONENT};let r=n,s=0,i,u;for(;e[r]===J1;)s=s+1,r=r+1;for(qs(s!==0,e),u=1;s>0;)i=u,u=Number.parseInt(e.substr(r,u)),qs(u>0,e),r=r+i,s=s-1;return{exponentLength:r-n,exponent:t===0?u:Ti.MAX_EXPONENT-u}}function aW(e,t,n){if(qs(n<e.length,e),e[n]==="0")return{mantissaLength:1,mantissa:t===0?0:Ti.MAX_MANTISSA};let r=n,s=0,i,u;for(;e[r]===J1;)s=s+1,r=r+1;for(qs(s!==0,e),u=1;s>0;)i=u,u=Number.parseInt(e.substr(r,u)),qs(u>0,e),r=r+i,s=s-1;return{mantissaLength:r-n,mantissa:t===0?u:Ti.MAX_MANTISSA-u}}function qs(e,t){if(!e)throw new Error(`Input is not a valid ELEN-encoded number: ${t}.`)}var cW={encode:sW,decode:iW},Vl={};Object.defineProperty(Vl,"__esModule",{value:!0});Vl.compare=void 0;function lW(e,t){return e>t?1:e<t?-1:0}Vl.compare=lW;var zl={};Object.defineProperty(zl,"__esModule",{value:!0});zl.UnreachableError=void 0;class fW extends Error{constructor(t,n){super((n+": "||"Unreachable: ")+t)}}zl.UnreachableError=fW;(function(e){var t=U&&U.__createBinding||(Object.create?function(y,w,x,v){v===void 0&&(v=x);var _=Object.getOwnPropertyDescriptor(w,x);(!_||("get"in _?!w.__esModule:_.writable||_.configurable))&&(_={enumerable:!0,get:function(){return w[x]}}),Object.defineProperty(y,v,_)}:function(y,w,x,v){v===void 0&&(v=x),y[v]=w[x]}),n=U&&U.__setModuleDefault||(Object.create?function(y,w){Object.defineProperty(y,"default",{enumerable:!0,value:w})}:function(y,w){y.default=w}),r=U&&U.__importStar||function(y){if(y&&y.__esModule)return y;var w={};if(y!=null)for(var x in y)x!=="default"&&Object.prototype.hasOwnProperty.call(y,x)&&t(w,y,x);return n(w,y),w};Object.defineProperty(e,"__esModule",{value:!0}),e.decodeTuple=e.encodeTuple=e.decodeValue=e.encodingTypeOf=e.encodeValue=e.encodingRank=e.encodingByte=void 0;const s=r(cW),i=dp,u=Ia,o=Vl,a=zl;e.encodingByte={null:"b",object:"c",array:"d",number:"e",string:"f",boolean:"g"},e.encodingRank=new Map((0,i.sortBy)(Object.entries(e.encodingByte),([y,w])=>w).map(([y],w)=>[y,w]));function c(y,w){if(y===null)return e.encodingByte.null;if(y===!0||y===!1)return e.encodingByte.boolean+y;if(typeof y=="string"){for(const x of(w==null?void 0:w.disallow)??[])if(y.includes(x))throw new Error(`Disallowed character found: ${x}.`);return e.encodingByte.string+y}if(typeof y=="number")return e.encodingByte.number+s.encode(y);if(Array.isArray(y))return e.encodingByte.array+f(y,w);if(typeof y=="object")return e.encodingByte.object+m(y,w);throw new a.UnreachableError(y,"Unknown value type")}e.encodeValue=c;function l(y){if(y===null)return"null";if(y===!0||y===!1)return"boolean";if(typeof y=="string")return"string";if(typeof y=="number")return"number";if(Array.isArray(y))return"array";if(typeof y=="object")return"object";throw new a.UnreachableError(y,"Unknown value type")}e.encodingTypeOf=l;const d=(0,i.invert)(e.encodingByte);function h(y,w){const x=d[y[0]],v=y.slice(1);if(x==="null")return null;if(x==="boolean")return JSON.parse(v);if(x==="string")return v;if(x==="number")return s.decode(v);if(x==="array")return p(v,w);if(x==="object")return b(v,w);throw new a.UnreachableError(x,"Invalid encoding byte")}e.decodeValue=h;function f(y,w){const x=(w==null?void 0:w.delimiter)??"\0",v=(w==null?void 0:w.escape)??"",_=new RegExp(`${v}`,"g"),T=new RegExp(`${x}`,"g");return y.map(($,z)=>c($,w).replace(_,v+v).replace(T,v+x)+x).join("")}e.encodeTuple=f;function p(y,w){if(y==="")return[];const x=(w==null?void 0:w.delimiter)??"\0",v=(w==null?void 0:w.escape)??"",_=new RegExp(`(${v}(${v}|${x})|${x})`,"g"),T=new RegExp(v+v,"g"),$=new RegExp(v+x,"g"),z=[];let W=0;for(;;){const pe=_.exec(y);if(pe===null)return z;if(pe[0][0]===v)continue;const F=pe.index,ae=y.slice(W,F);typeof ae!="string"&&console.log(ae);const Ke=ae.replace(T,v).replace($,x),Wn=h(Ke,w);z.push(Wn),W=F+1}}e.decodeTuple=p;function m(y,w){if(!(0,u.isPlainObject)(y))throw new Error("Cannot serialize this object.");const x=Object.entries(y).sort(([v],[_])=>(0,o.compare)(v,_)).filter(([v,_])=>_!==void 0);return f(x,w)}function b(y,w){const x=p(y,w),v={};for(const[_,T]of x)v[_]=T;return v}})(Op);Object.defineProperty(Pn,"__esModule",{value:!0});Pn.TupleToString=Pn.ValueToString=Ip=Pn.compareTuple=Pn.compareValue=void 0;const lg=Ia,vf=Op,vo=Vl,dW=zl;function Qd(e,t){const n=(0,vf.encodingTypeOf)(e),r=(0,vf.encodingTypeOf)(t);if(n===r){if(n==="array")return VE(e,t);if(n==="object")return e===t?0:(0,lg.isPlainObject)(e)?(0,lg.isPlainObject)(t)?hW(e,t):-1:((0,lg.isPlainObject)(t),1);if(n==="boolean")return(0,vo.compare)(e,t);if(n==="null")return 0;if(n==="number")return(0,vo.compare)(e,t);if(n==="string")return(0,vo.compare)(e,t);throw new dW.UnreachableError(n)}return(0,vo.compare)(vf.encodingRank.get(n),vf.encodingRank.get(r))}Pn.compareValue=Qd;function hW(e,t){const n=Object.entries(e).filter(([i,u])=>u!==void 0).sort(([i],[u])=>(0,vo.compare)(i,u)),r=Object.entries(t).filter(([i,u])=>u!==void 0).sort(([i],[u])=>(0,vo.compare)(i,u)),s=Math.min(n.length,r.length);for(let i=0;i<s;i++){const[u,o]=n[i],[a,c]=r[i],l=Qd(u,a);if(l===0){const d=Qd(o,c);if(d===0)continue;return d}return l}return n.length>r.length?1:n.length<r.length?-1:0}function VE(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const s=Qd(e[r],t[r]);if(s!==0)return s}return e.length>t.length?1:e.length<t.length?-1:0}var Ip=Pn.compareTuple=VE;function zE(e){return e===null?"null":JSON.stringify(e)}Pn.ValueToString=zE;function pW(e){return`[${e.map(zE).join(",")}]`}Pn.TupleToString=pW;var kn={},Ei={};Object.defineProperty(Ei,"__esModule",{value:!0});Ei.binarySearchAssociativeList=Ei.binarySearch=Ei.generalizedBinarySearch=void 0;function W1(e,t){return function(n,r){for(var s=0,i=n.length-1;s<=i;){var u=i+s>>1,o=t(r,e(n[u]));if(o>0)s=u+1;else if(o<0)i=u-1;else return{found:u}}return{closest:s}}}Ei.generalizedBinarySearch=W1;function gW(e,t,n){return W1(r=>r,n)(e,t)}Ei.binarySearch=gW;function mW(e,t,n){return W1(r=>r[0],n)(e,t)}Ei.binarySearchAssociativeList=mW;Object.defineProperty(kn,"__esModule",{value:!0});kn.scan=kn.remove=kn.exists=kn.get=kn.set=void 0;const ta=Ei;function bW(e,t,n){const r=(0,ta.binarySearch)(e,t,n);r.found!==void 0?e.splice(r.found,1,t):e.splice(r.closest,0,t)}kn.set=bW;function yW(e,t,n){const r=(0,ta.binarySearch)(e,t,n);if(r.found!==void 0)return e[r.found]}kn.get=yW;function wW(e,t,n){return(0,ta.binarySearch)(e,t,n).found!==void 0}kn.exists=wW;function vW(e,t,n){let{found:r}=(0,ta.binarySearch)(e,t,n);if(r!==void 0)return e.splice(r,1)[0]}kn.remove=vW;function xW(e,t,n){const r=t.gte||t.gt,s=t.lte||t.lt;if(r!==void 0&&s!==void 0&&n(r,s)>0)throw new Error("Invalid bounds.");let i,u;if(r===void 0)i=0;else{const c=(0,ta.binarySearch)(e,r,n);c.found===void 0?i=c.closest:t.gt?i=c.found+1:i=c.found}if(s===void 0)u=e.length;else{const c=(0,ta.binarySearch)(e,s,n);c.found===void 0?u=c.closest:t.lt?u=c.found:u=c.found+1}const o=t.reverse&&t.limit?Math.max(i,u-t.limit):i,a=!t.reverse&&t.limit?Math.min(i+t.limit,u):u;return t.reverse?e.slice(o,a).reverse():e.slice(o,a)}kn.scan=xW;(function(e){var t=U&&U.__createBinding||(Object.create?function(m,b,y,w){w===void 0&&(w=y);var x=Object.getOwnPropertyDescriptor(b,y);(!x||("get"in x?!b.__esModule:x.writable||x.configurable))&&(x={enumerable:!0,get:function(){return b[y]}}),Object.defineProperty(m,w,x)}:function(m,b,y,w){w===void 0&&(w=y),m[w]=b[y]}),n=U&&U.__setModuleDefault||(Object.create?function(m,b){Object.defineProperty(m,"default",{enumerable:!0,value:b})}:function(m,b){m.default=b}),r=U&&U.__importStar||function(m){if(m&&m.__esModule)return m;var b={};if(m!=null)for(var y in m)y!=="default"&&Object.prototype.hasOwnProperty.call(m,y)&&t(b,m,y);return n(b,m),b};Object.defineProperty(e,"__esModule",{value:!0}),e.scan=e.isTupleWithinBounds=e.getPrefixContainingBounds=e.normalizeTupleBounds=e.MaxTuple=e.remove=e.exists=e.set=void 0;const s=dp,i=Pi,u=Pn,o=r(kn);function a(m,b){return o.set(m,b,u.compareTuple)}e.set=a;function c(m,b){return o.exists(m,b,u.compareTuple)}e.exists=c;function l(m,b){return o.remove(m,b,u.compareTuple)}e.remove=l,e.MaxTuple=[i.MAX,i.MAX,i.MAX,i.MAX,i.MAX,i.MAX,i.MAX,i.MAX,i.MAX,i.MAX];function d(m){let b,y,w,x;return m.gte?m.prefix?b=[...m.prefix,...m.gte]:b=[...m.gte]:m.gt?m.prefix?y=[...m.prefix,...m.gt]:y=[...m.gt]:m.prefix&&(b=[...m.prefix]),m.lte?m.prefix?w=[...m.prefix,...m.lte]:w=[...m.lte]:m.lt?m.prefix?x=[...m.prefix,...m.lt]:x=[...m.lt]:m.prefix&&(w=[...m.prefix,...e.MaxTuple]),(0,s.omitBy)({gte:b,gt:y,lte:w,lt:x},v=>v===void 0)}e.normalizeTupleBounds=d;function h(m){const b=[],y=m.gt||m.gte||[],w=m.lt||m.lte||[],x=Math.min(y.length,w.length);for(let v=0;v<x&&y[v]===w[v];v++)b.push(y[v]);return b}e.getPrefixContainingBounds=h;function f(m,b){return!(b.gt&&(0,u.compareTuple)(m,b.gt)!==1||b.gte&&(0,u.compareTuple)(m,b.gte)===-1||b.lt&&(0,u.compareTuple)(m,b.lt)!==-1||b.lte&&(0,u.compareTuple)(m,b.lte)===1)}e.isTupleWithinBounds=f;function p(m,b={}){const{limit:y,reverse:w,...x}=b,v=d(x);return o.scan(m,{limit:y,reverse:w,...v},u.compareTuple)}e.scan=p})(Wi);Object.defineProperty(gs,"__esModule",{value:!0});gs.ConcurrencyLog=gs.ReadWriteConflictError=void 0;const $x=Tp,SW=Ep,fg=Wi;class HE extends Error{constructor(t,n,r){const s=(0,SW.outdent)(`
      ReadWriteConflictError: ${t}
      Write to tuple ${n}
      conflicted with a read at the bounds ${JSON.stringify(r)}
    `);super(s)}}gs.ReadWriteConflictError=HE;class AW{constructor(){this.log=[]}read(t,n){this.log.push({type:"read",txId:t,bounds:n})}write(t,n){for(const r of this.log)if(r.type==="read"&&(0,fg.isTupleWithinBounds)(n,r.bounds)){this.log.push({type:"write",tuple:n,txId:t});break}}commit(t){try{const n=[];for(const r of this.log)if(r.type==="read")r.txId===t&&n.push(r.bounds);else if(r.type==="write"){for(const s of n)if((0,fg.isTupleWithinBounds)(r.tuple,s))throw new HE(r.txId,r.tuple,s)}}finally{this.cleanupReads(t),this.cleanupWrites()}}cancel(t){this.cleanupReads(t),this.cleanupWrites()}cleanupReads(t){(0,$x.mutableFilter)(this.log,n=>!(n.txId===t&&n.type==="read"))}cleanupWrites(){const t=[];(0,$x.mutableFilter)(this.log,n=>{if(n.type==="read")return t.push(n.bounds),!0;for(const r of t)if((0,fg.isTupleWithinBounds)(n.tuple,r))return!0;return!1})}}gs.ConcurrencyLog=AW;var Np={},Hl={};Object.defineProperty(Hl,"__esModule",{value:!0});Hl.maybePromiseAll=void 0;function _W(e){return e.some(t=>t instanceof Promise)?Promise.all(e.map(t=>t instanceof Promise?t.catch(n=>console.error(n)):t)):e}Hl.maybePromiseAll=_W;var TW=U&&U.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),EW=U&&U.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),OW=U&&U.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&TW(t,e,n);return EW(t,e),t};Object.defineProperty(Np,"__esModule",{value:!0});Np.AsyncReactivityTracker=void 0;const IW=Hl,Vx=OW(Wi);class NW{constructor(){this.listeners=new Map}subscribe(t,n){return kW(this.listeners,t,n)}computeReactivityEmits(t){return RW(this.listeners,t)}async emit(t,n){let r=[];for(const[s,i]of t.entries())try{r.push(s(i,n))}catch(u){console.error(u)}return(0,IW.maybePromiseAll)(r)}}Np.AsyncReactivityTracker=NW;function RW(e,t){const n=new Map;for(const[r,s]of e){const i=[],u=[];for(const o of t.set||[])Vx.isTupleWithinBounds(o.key,s)&&i.push(o);for(const o of t.remove||[])Vx.isTupleWithinBounds(o,s)&&u.push(o);(i.length>0||u.length>0)&&n.set(r,{set:i,remove:u})}return n}function kW(e,t,n){return e.set(n,t),()=>{e.delete(n)}}Object.defineProperty(lp,"__esModule",{value:!0});lp.AsyncTupleDatabase=void 0;const CW=Bu,DW=eo,MW=gs,PW=Np;class jW{constructor(t){this.storage=t,this.log=new MW.ConcurrencyLog,this.reactivity=new PW.AsyncReactivityTracker}async scan(t={},n){const{reverse:r,limit:s,...i}=t;return n&&this.log.read(n,i),this.storage.scan({...i,reverse:r,limit:s})}async subscribe(t,n){return this.reactivity.subscribe(t,n)}async commit(t,n){const r=this.reactivity.computeReactivityEmits(t);n&&this.log.commit(n);for(const s of(0,CW.iterateWrittenTuples)(t))this.log.write(n,s);return await this.storage.commit(t),this.reactivity.emit(r,n||(0,DW.randomId)())}async cancel(t){this.log.cancel(t)}async close(){await this.storage.close()}}lp.AsyncTupleDatabase=jW;var As={},zt={},LW=U&&U.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),FW=U&&U.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),BW=U&&U.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&LW(t,e,n);return FW(t,e),t};Object.defineProperty(zt,"__esModule",{value:!0});zt.scan=zt.exists=zt.get=zt.remove=zt.set=zt.compareTupleValuePair=void 0;const GE=Pn,Gl=BW(kn),UW=Wi;function Na(e,t){return(0,GE.compareTuple)(e.key,t.key)}zt.compareTupleValuePair=Na;function Rp(e,t){return(0,GE.compareTuple)(e.key,t.key)*-1}function qW(e,t,n,r=!1){return Gl.set(e,{key:t,value:n},r?Rp:Na)}zt.set=qW;function $W(e,t,n=!1){return Gl.remove(e,{key:t,value:null},n?Rp:Na)}zt.remove=$W;function VW(e,t,n=!1){const r=Gl.get(e,{key:t,value:null},n?Rp:Na);if(r!==void 0)return r.value}zt.get=VW;function zW(e,t,n=!1){return Gl.exists(e,{key:t,value:null},n?Rp:Na)}zt.exists=zW;function HW(e){const t=(0,UW.normalizeTupleBounds)(e),{gt:n,lt:r,gte:s,lte:i}=t;return{gt:n?{key:n,value:null}:void 0,gte:s?{key:s,value:null}:void 0,lt:r?{key:r,value:null}:void 0,lte:i?{key:i,value:null}:void 0}}function GW(e,t={}){const{limit:n,reverse:r,...s}=t,i=HW(s);return Gl.scan(e,{limit:n,reverse:r,...i},Na)}zt.scan=GW;var un={};Object.defineProperty(un,"__esModule",{value:!0});un.normalizeSubspaceScanArgs=un.removePrefixFromTupleValuePairs=un.removePrefixFromTuple=un.removePrefixFromWriteOps=un.prependPrefixToWriteOps=un.prependPrefixToTuple=void 0;const JE=dp,JW=Wi;function Q1(e,t){return e.length?[...e,...t]:t}un.prependPrefixToTuple=Q1;function WW(e,t){return e.length?t.map(n=>Q1(e,n)):t}function QW(e,t){if(!e.length)return t;const{key:n,value:r}=t;return{key:Q1(e,n),value:r}}function XW(e,t){return e.length?t.map(n=>QW(e,n)):t}function KW(e,t){if(!e.length)return t;const n=t.set?XW(e,t.set):void 0,r=t.remove?WW(e,t.remove):void 0;return{set:n,remove:r}}un.prependPrefixToWriteOps=KW;function YW(e,t){if(!e.length)return t;const n=t.set?WE(e,t.set):void 0,r=t.remove?ZW(e,t.remove):void 0;return{set:n,remove:r}}un.removePrefixFromWriteOps=YW;function X1(e,t){if(!e.length)return t;if(!(0,JE.equals)(t.slice(0,e.length),e))throw new Error("Invalid prefix: "+JSON.stringify({prefix:e,tuple:t}));return t.slice(e.length)}un.removePrefixFromTuple=X1;function ZW(e,t){return e.length?t.map(n=>X1(e,n)):t}function eQ(e,t){if(!e.length)return t;const{key:n,value:r}=t;return{key:X1(e,n),value:r}}function WE(e,t){return e.length?t.map(n=>eQ(e,n)):t}un.removePrefixFromTupleValuePairs=WE;function tQ(e,t){const n=t.prefix?[...e,...t.prefix]:e,r=(0,JW.normalizeTupleBounds)({...t,prefix:n}),{limit:s,reverse:i}=t;return(0,JE.omitBy)({...r,limit:s,reverse:i},u=>u===void 0)}un.normalizeSubspaceScanArgs=tQ;var zx;function XE(){if(zx)return As;zx=1;var e=U&&U.__createBinding||(Object.create?function(d,h,f,p){p===void 0&&(p=f);var m=Object.getOwnPropertyDescriptor(h,f);(!m||("get"in m?!h.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return h[f]}}),Object.defineProperty(d,p,m)}:function(d,h,f,p){p===void 0&&(p=f),d[p]=h[f]}),t=U&&U.__setModuleDefault||(Object.create?function(d,h){Object.defineProperty(d,"default",{enumerable:!0,value:h})}:function(d,h){d.default=h}),n=U&&U.__importStar||function(d){if(d&&d.__esModule)return d;var h={};if(d!=null)for(var f in d)f!=="default"&&Object.prototype.hasOwnProperty.call(d,f)&&e(h,d,f);return t(h,d),h};Object.defineProperty(As,"__esModule",{value:!0}),As.AsyncTupleSubspaceTransaction=As.AsyncTupleRootTransaction=As.AsyncTupleDatabaseClient=void 0;const r=eo,s=n(Wi),i=n(zt),u=un,o=K1();let a=class QE{constructor(h,f=[]){this.db=h,this.subspacePrefix=f}async scan(h={},f){const p=(0,u.normalizeSubspaceScanArgs)(this.subspacePrefix,h),m=await this.db.scan(p,f);return(0,u.removePrefixFromTupleValuePairs)(this.subspacePrefix,m)}async subscribe(h,f){const p=(0,u.normalizeSubspaceScanArgs)(this.subspacePrefix,h);return this.db.subscribe(p,(m,b)=>f((0,u.removePrefixFromWriteOps)(this.subspacePrefix,m),b))}async commit(h,f){const p=(0,u.prependPrefixToWriteOps)(this.subspacePrefix,h);await this.db.commit(p,f)}async cancel(h){return this.db.cancel(h)}async get(h,f){const p=await this.scan({gte:h,lte:h},f);if(p.length===0)return;if(p.length>1)throw new Error("Get expects only one value.");return p[0].value}async exists(h,f){const p=await this.scan({gte:h,lte:h},f);return p.length===0?!1:p.length>=1}subspace(h){const f=[...this.subspacePrefix,...h];return new QE(this.db,f)}transact(h,f){const p=h||(0,r.randomId)();return new c(this.db,this.subspacePrefix,p,f)}async close(){return this.db.close()}};As.AsyncTupleDatabaseClient=a;class c{constructor(h,f,p,m){this.db=h,this.subspacePrefix=f,this.id=p,this.committed=!1,this.canceled=!1,this.setsDirty=!1,this.removesDirty=!1,this.writes={set:[],remove:[],...m}}cleanWrites(){this.cleanSets(),this.cleanRemoves()}cleanSets(){this.setsDirty&&(this.writes.set=this.writes.set.sort(i.compareTupleValuePair),this.setsDirty=!1)}cleanRemoves(){this.removesDirty&&(this.writes.remove=this.writes.remove.sort(o.compareTuple),this.removesDirty=!1)}checkActive(){if(this.committed)throw new Error("Transaction already committed");if(this.canceled)throw new Error("Transaction already canceled")}async scan(h={}){this.checkActive(),this.cleanWrites();const{limit:f,...p}=(0,u.normalizeSubspaceScanArgs)(this.subspacePrefix,h),m=i.scan(this.writes.set,p),b=s.scan(this.writes.remove,p),y=f?f+b.length:void 0,w=await this.db.scan({...p,limit:y},this.id),x=(0,u.removePrefixFromTupleValuePairs)(this.subspacePrefix,w);for(const{key:v,value:_}of m){const T=(0,u.removePrefixFromTuple)(this.subspacePrefix,v);i.set(x,T,_,p.reverse)}for(const v of b){const _=(0,u.removePrefixFromTuple)(this.subspacePrefix,v);i.remove(x,_,p.reverse)}return f&&x.length>f&&x.splice(f,x.length),x}async get(h){this.checkActive(),this.cleanWrites();const f=(0,u.prependPrefixToTuple)(this.subspacePrefix,h);if(i.exists(this.writes.set,f))return i.get(this.writes.set,f);if(s.exists(this.writes.remove,f))return;const p=await this.db.scan({gte:f,lte:f},this.id);if(p.length===0)return;if(p.length>1)throw new Error("Get expects only one value.");return p[0].value}async exists(h){this.checkActive(),this.cleanWrites();const f=(0,u.prependPrefixToTuple)(this.subspacePrefix,h);if(i.exists(this.writes.set,f))return!0;if(s.exists(this.writes.remove,f))return!1;const p=await this.db.scan({gte:f,lte:f},this.id);return p.length===0?!1:p.length>=1}set(h,f){this.checkActive(),this.cleanRemoves();const p=(0,u.prependPrefixToTuple)(this.subspacePrefix,h);return s.remove(this.writes.remove,p),this.writes.set.push({key:p,value:f}),this.setsDirty=!0,this}remove(h){this.checkActive(),this.cleanSets();const f=(0,u.prependPrefixToTuple)(this.subspacePrefix,h);return i.remove(this.writes.set,f),this.writes.remove.push(f),this.removesDirty=!0,this}write(h){this.checkActive();const{set:f,remove:p}=h;for(const m of p||[])this.remove(m);for(const{key:m,value:b}of f||[])this.set(m,b);return this}async commit(){return this.checkActive(),this.committed=!0,this.db.commit(this.writes,this.id)}async cancel(){return this.checkActive(),this.canceled=!0,this.db.cancel(this.id)}subspace(h){return this.checkActive(),new l(this,h)}}As.AsyncTupleRootTransaction=c;class l{constructor(h,f){this.tx=h,this.subspacePrefix=f}async scan(h={}){const f=(0,u.normalizeSubspaceScanArgs)(this.subspacePrefix,h),p=await this.tx.scan(f);return(0,u.removePrefixFromTupleValuePairs)(this.subspacePrefix,p)}async get(h){const f=(0,u.prependPrefixToTuple)(this.subspacePrefix,h);return this.tx.get(f)}async exists(h){const f=(0,u.prependPrefixToTuple)(this.subspacePrefix,h);return this.tx.exists(f)}set(h,f){const p=(0,u.prependPrefixToTuple)(this.subspacePrefix,h);return this.tx.set(p,f),this}remove(h){const f=(0,u.prependPrefixToTuple)(this.subspacePrefix,h);return this.tx.remove(f),this}write(h){const{set:f,remove:p}=h;for(const m of p||[])this.remove(m);for(const{key:m,value:b}of f||[])this.set(m,b);return this}subspace(h){return new l(this.tx,[...this.subspacePrefix,...h])}}return As.AsyncTupleSubspaceTransaction=l,As}var KE={};Object.defineProperty(KE,"__esModule",{value:!0});var za={},Jl={};Object.defineProperty(Jl,"__esModule",{value:!0});Jl.isEmptyWrites=void 0;function nQ(e){var t,n;return!((t=e.remove)!=null&&t.length||(n=e.set)!=null&&n.length)}Jl.isEmptyWrites=nQ;var Wl={};Object.defineProperty(Wl,"__esModule",{value:!0});Wl.Queue=void 0;class rQ{enqueue(t){if(this.currentPromise){const r=this.currentPromise.then(t).then(s=>(this.currentPromise===r&&(this.currentPromise=void 0),s));return this.currentPromise=r,r}const n=t();if(n instanceof Promise){const r=n.then(s=>(this.currentPromise===r&&(this.currentPromise=void 0),s));return this.currentPromise=r,r}return n}}Wl.Queue=rQ;var Hx;function sQ(){if(Hx)return za;Hx=1,Object.defineProperty(za,"__esModule",{value:!0}),za.subscribeQueryAsync=void 0;const e=Jl,t=Wl,n=XE(),r=()=>{throw new Error};async function s(i,u,o){let a=!1;const c=new Set,l=()=>u(m),d=()=>{c.forEach(w=>w()),c.clear()};let h;const f=async w=>{if(a||w===h)return;h=w,d();const x=await l();o(x)},p=new t.Queue,m=new n.AsyncTupleDatabaseClient({scan:async(w,x)=>{const v=await i.subscribe(w,async(T,$)=>p.enqueue(()=>f($)));return c.add(v),await i.scan(w)},cancel:async w=>{await i.cancel(w)},commit:async(w,x)=>{if(!(0,e.isEmptyWrites)(w))throw new Error("No writing in a subscribeQueryAsync.");await i.commit({},x)},subscribe:r,close:r});return{result:await l(),destroy:()=>{d(),a=!0}}}return za.subscribeQueryAsync=s,za}var kp={},Ra={};Object.defineProperty(Ra,"__esModule",{value:!0});Ra.retry=void 0;const iQ=gs;function uQ(e,t){for(;;)try{return t()}catch(n){if(e<=0||!(n instanceof iQ.ReadWriteConflictError))throw n;e-=1}}Ra.retry=uQ;Object.defineProperty(kp,"__esModule",{value:!0});kp.transactionalReadAsync=void 0;const oQ=Ra;function aQ(e=5){return function(t){return function(n,...r){return"transact"in n?(0,oQ.retry)(e,()=>{const s=n.transact(),i=t(s,...r);return s.commit(),i}):t(n,...r)}}}kp.transactionalReadAsync=aQ;var na={},Cp={};Object.defineProperty(Cp,"__esModule",{value:!0});Cp.retryAsync=void 0;const cQ=gs,lQ=1e3,fQ=10;async function dQ(e,t,n={}){let r=0,s=0;const{exponentialBackoff:i,jitter:u}=n,o=n.backoffBase??fQ,a=n.maxDelay??lQ;for(;;)try{return s+=1,await t()}catch(c){if(e<=0||!(c instanceof cQ.ReadWriteConflictError))throw c;i&&(r=Math.min(o*2**s,a)),u&&(r=hQ(0,r||a)),e-=1,r&&await new Promise(d=>setTimeout(d,r))}}Cp.retryAsync=dQ;function hQ(e,t){return Math.floor(Math.random()*(t-e+1)+e)}Object.defineProperty(na,"__esModule",{value:!0});na.transactionalAsyncQuery=na.transactionalReadWriteAsync=void 0;const pQ=Cp;function YE(e=5,t={}){return function(n){return async function(r,...s){return"transact"in r?await(0,pQ.retryAsync)(e,async()=>{const i=r.transact(),u=await n(i,...s);return await i.commit(),u},t):n(r,...s)}}}na.transactionalReadWriteAsync=YE;na.transactionalAsyncQuery=YE;var Ha={},_s={},Gx;function e4(){if(Gx)return _s;Gx=1;var e=U&&U.__createBinding||(Object.create?function(d,h,f,p){p===void 0&&(p=f);var m=Object.getOwnPropertyDescriptor(h,f);(!m||("get"in m?!h.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return h[f]}}),Object.defineProperty(d,p,m)}:function(d,h,f,p){p===void 0&&(p=f),d[p]=h[f]}),t=U&&U.__setModuleDefault||(Object.create?function(d,h){Object.defineProperty(d,"default",{enumerable:!0,value:h})}:function(d,h){d.default=h}),n=U&&U.__importStar||function(d){if(d&&d.__esModule)return d;var h={};if(d!=null)for(var f in d)f!=="default"&&Object.prototype.hasOwnProperty.call(d,f)&&e(h,d,f);return t(h,d),h};Object.defineProperty(_s,"__esModule",{value:!0}),_s.TupleSubspaceTransaction=_s.TupleRootTransaction=_s.TupleDatabaseClient=void 0;const r=eo,s=n(Wi),i=n(zt),u=un,o=K1();let a=class ZE{constructor(h,f=[]){this.db=h,this.subspacePrefix=f}scan(h={},f){const p=(0,u.normalizeSubspaceScanArgs)(this.subspacePrefix,h),m=this.db.scan(p,f);return(0,u.removePrefixFromTupleValuePairs)(this.subspacePrefix,m)}subscribe(h,f){const p=(0,u.normalizeSubspaceScanArgs)(this.subspacePrefix,h);return this.db.subscribe(p,(m,b)=>f((0,u.removePrefixFromWriteOps)(this.subspacePrefix,m),b))}commit(h,f){const p=(0,u.prependPrefixToWriteOps)(this.subspacePrefix,h);this.db.commit(p,f)}cancel(h){return this.db.cancel(h)}get(h,f){const p=this.scan({gte:h,lte:h},f);if(p.length===0)return;if(p.length>1)throw new Error("Get expects only one value.");return p[0].value}exists(h,f){const p=this.scan({gte:h,lte:h},f);return p.length===0?!1:p.length>=1}subspace(h){const f=[...this.subspacePrefix,...h];return new ZE(this.db,f)}transact(h,f){const p=h||(0,r.randomId)();return new c(this.db,this.subspacePrefix,p,f)}close(){return this.db.close()}};_s.TupleDatabaseClient=a;class c{constructor(h,f,p,m){this.db=h,this.subspacePrefix=f,this.id=p,this.committed=!1,this.canceled=!1,this.setsDirty=!1,this.removesDirty=!1,this.writes={set:[],remove:[],...m}}cleanWrites(){this.cleanSets(),this.cleanRemoves()}cleanSets(){this.setsDirty&&(this.writes.set=this.writes.set.sort(i.compareTupleValuePair),this.setsDirty=!1)}cleanRemoves(){this.removesDirty&&(this.writes.remove=this.writes.remove.sort(o.compareTuple),this.removesDirty=!1)}checkActive(){if(this.committed)throw new Error("Transaction already committed");if(this.canceled)throw new Error("Transaction already canceled")}scan(h={}){this.checkActive(),this.cleanWrites();const{limit:f,...p}=(0,u.normalizeSubspaceScanArgs)(this.subspacePrefix,h),m=i.scan(this.writes.set,p),b=s.scan(this.writes.remove,p),y=f?f+b.length:void 0,w=this.db.scan({...p,limit:y},this.id),x=(0,u.removePrefixFromTupleValuePairs)(this.subspacePrefix,w);for(const{key:v,value:_}of m){const T=(0,u.removePrefixFromTuple)(this.subspacePrefix,v);i.set(x,T,_,p.reverse)}for(const v of b){const _=(0,u.removePrefixFromTuple)(this.subspacePrefix,v);i.remove(x,_,p.reverse)}return f&&x.length>f&&x.splice(f,x.length),x}get(h){this.checkActive(),this.cleanWrites();const f=(0,u.prependPrefixToTuple)(this.subspacePrefix,h);if(i.exists(this.writes.set,f))return i.get(this.writes.set,f);if(s.exists(this.writes.remove,f))return;const p=this.db.scan({gte:f,lte:f},this.id);if(p.length===0)return;if(p.length>1)throw new Error("Get expects only one value.");return p[0].value}exists(h){this.checkActive(),this.cleanWrites();const f=(0,u.prependPrefixToTuple)(this.subspacePrefix,h);if(i.exists(this.writes.set,f))return!0;if(s.exists(this.writes.remove,f))return!1;const p=this.db.scan({gte:f,lte:f},this.id);return p.length===0?!1:p.length>=1}set(h,f){this.checkActive(),this.cleanRemoves();const p=(0,u.prependPrefixToTuple)(this.subspacePrefix,h);return s.remove(this.writes.remove,p),this.writes.set.push({key:p,value:f}),this.setsDirty=!0,this}remove(h){this.checkActive(),this.cleanSets();const f=(0,u.prependPrefixToTuple)(this.subspacePrefix,h);return i.remove(this.writes.set,f),this.writes.remove.push(f),this.removesDirty=!0,this}write(h){this.checkActive();const{set:f,remove:p}=h;for(const m of p||[])this.remove(m);for(const{key:m,value:b}of f||[])this.set(m,b);return this}commit(){return this.checkActive(),this.committed=!0,this.db.commit(this.writes,this.id)}cancel(){return this.checkActive(),this.canceled=!0,this.db.cancel(this.id)}subspace(h){return this.checkActive(),new l(this,h)}}_s.TupleRootTransaction=c;class l{constructor(h,f){this.tx=h,this.subspacePrefix=f}scan(h={}){const f=(0,u.normalizeSubspaceScanArgs)(this.subspacePrefix,h),p=this.tx.scan(f);return(0,u.removePrefixFromTupleValuePairs)(this.subspacePrefix,p)}get(h){const f=(0,u.prependPrefixToTuple)(this.subspacePrefix,h);return this.tx.get(f)}exists(h){const f=(0,u.prependPrefixToTuple)(this.subspacePrefix,h);return this.tx.exists(f)}set(h,f){const p=(0,u.prependPrefixToTuple)(this.subspacePrefix,h);return this.tx.set(p,f),this}remove(h){const f=(0,u.prependPrefixToTuple)(this.subspacePrefix,h);return this.tx.remove(f),this}write(h){const{set:f,remove:p}=h;for(const m of p||[])this.remove(m);for(const{key:m,value:b}of f||[])this.set(m,b);return this}subspace(h){return new l(this.tx,[...this.subspacePrefix,...h])}}return _s.TupleSubspaceTransaction=l,_s}var Jx;function gQ(){if(Jx)return Ha;Jx=1,Object.defineProperty(Ha,"__esModule",{value:!0}),Ha.subscribeQuery=void 0;const e=Jl,t=Wl,n=e4(),r=()=>{throw new Error};function s(i,u,o){let a=!1;const c=new Set,l=()=>u(m),d=()=>{c.forEach(w=>w()),c.clear()};let h;const f=w=>{if(a||w===h)return;h=w,d();const x=l();o(x)},p=new t.Queue,m=new n.TupleDatabaseClient({scan:(w,x)=>{const v=i.subscribe(w,(T,$)=>p.enqueue(()=>f($)));return c.add(v),i.scan(w)},cancel:w=>{i.cancel(w)},commit:(w,x)=>{if(!(0,e.isEmptyWrites)(w))throw new Error("No writing in a subscribeQuery.");i.commit({},x)},subscribe:r,close:r});return{result:l(),destroy:()=>{d(),a=!0}}}return Ha.subscribeQuery=s,Ha}var Dp={};Object.defineProperty(Dp,"__esModule",{value:!0});Dp.transactionalRead=void 0;const mQ=Ra;function bQ(e=5){return function(t){return function(n,...r){return"transact"in n?(0,mQ.retry)(e,()=>{const s=n.transact(),i=t(s,...r);return s.commit(),i}):t(n,...r)}}}Dp.transactionalRead=bQ;var ra={},Mp={};Object.defineProperty(Mp,"__esModule",{value:!0});Mp.retry=void 0;const yQ=gs,wQ=1e3,vQ=10;function xQ(e,t,n={}){let r=0,s=0;const{exponentialBackoff:i,jitter:u}=n,o=n.backoffBase??vQ,a=n.maxDelay??wQ;for(;;)try{return s+=1,t()}catch(c){if(e<=0||!(c instanceof yQ.ReadWriteConflictError))throw c;i&&(r=Math.min(o*2**s,a)),u&&(r=SQ(0,r||a)),e-=1,r&&new Promise(d=>setTimeout(d,r))}}Mp.retry=xQ;function SQ(e,t){return Math.floor(Math.random()*(t-e+1)+e)}Object.defineProperty(ra,"__esModule",{value:!0});ra.transactionalQuery=ra.transactionalReadWrite=void 0;const AQ=Mp;function t4(e=5,t={}){return function(n){return function(r,...s){return"transact"in r?(0,AQ.retry)(e,()=>{const i=r.transact(),u=n(i,...s);return i.commit(),u},t):n(r,...s)}}}ra.transactionalReadWrite=t4;ra.transactionalQuery=t4;var Pp={},jp={},_Q=U&&U.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),TQ=U&&U.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),EQ=U&&U.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&_Q(t,e,n);return TQ(t,e),t};Object.defineProperty(jp,"__esModule",{value:!0});jp.ReactivityTracker=void 0;const OQ=Hl,Wx=EQ(Wi);class IQ{constructor(){this.listeners=new Map}subscribe(t,n){return RQ(this.listeners,t,n)}computeReactivityEmits(t){return NQ(this.listeners,t)}emit(t,n){let r=[];for(const[s,i]of t.entries())try{r.push(s(i,n))}catch(u){console.error(u)}return(0,OQ.maybePromiseAll)(r)}}jp.ReactivityTracker=IQ;function NQ(e,t){const n=new Map;for(const[r,s]of e){const i=[],u=[];for(const o of t.set||[])Wx.isTupleWithinBounds(o.key,s)&&i.push(o);for(const o of t.remove||[])Wx.isTupleWithinBounds(o,s)&&u.push(o);(i.length>0||u.length>0)&&n.set(r,{set:i,remove:u})}return n}function RQ(e,t,n){return e.set(n,t),()=>{e.delete(n)}}Object.defineProperty(Pp,"__esModule",{value:!0});Pp.TupleDatabase=void 0;const kQ=Bu,CQ=eo,DQ=gs,MQ=jp;class PQ{constructor(t){this.storage=t,this.log=new DQ.ConcurrencyLog,this.reactivity=new MQ.ReactivityTracker}scan(t={},n){const{reverse:r,limit:s,...i}=t;return n&&this.log.read(n,i),this.storage.scan({...i,reverse:r,limit:s})}subscribe(t,n){return this.reactivity.subscribe(t,n)}commit(t,n){const r=this.reactivity.computeReactivityEmits(t);n&&this.log.commit(n);for(const s of(0,kQ.iterateWrittenTuples)(t))this.log.write(n,s);return this.storage.commit(t),this.reactivity.emit(r,n||(0,CQ.randomId)())}cancel(t){this.log.cancel(t)}close(){this.storage.close()}}Pp.TupleDatabase=PQ;var n4={};Object.defineProperty(n4,"__esModule",{value:!0});var Lp={};Object.defineProperty(Lp,"__esModule",{value:!0});Lp.transactionalWrite=void 0;const jQ=Ra;function LQ(e=5){return function(t){return function(n,...r){return"set"in n?t(n,...r):(0,jQ.retry)(e,()=>{const s=n.transact(),i=t(s,...r);return s.commit(),i})}}}Lp.transactionalWrite=LQ;var r4={};Object.defineProperty(r4,"__esModule",{value:!0});var Fp={};Object.defineProperty(Fp,"__esModule",{value:!0});Fp.namedTupleToObject=void 0;const FQ=Ia;function BQ(e){return(0,FQ.isPlainObject)(e)}function UQ(e){return e.filter(BQ).reduce((n,r)=>Object.assign(n,r),{})}Fp.namedTupleToObject=UQ;var Bp={},qQ=U&&U.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),$Q=U&&U.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),VQ=U&&U.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&qQ(t,e,n);return $Q(t,e),t};Object.defineProperty(Bp,"__esModule",{value:!0});Bp.InMemoryTupleStorage=void 0;const dg=VQ(zt);class zQ{constructor(t){this.data=t||[]}scan(t){return dg.scan(this.data,t)}commit(t){const{set:n,remove:r}=t;for(const s of r||[])dg.remove(this.data,s);for(const{key:s,value:i}of n||[])dg.set(this.data,s,i)}close(){}}Bp.InMemoryTupleStorage=zQ;var Qx;function K1(){return Qx||(Qx=1,function(e){var t=U&&U.__createBinding||(Object.create?function(s,i,u,o){o===void 0&&(o=u);var a=Object.getOwnPropertyDescriptor(i,u);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[u]}}),Object.defineProperty(s,o,a)}:function(s,i,u,o){o===void 0&&(o=u),s[o]=i[u]}),n=U&&U.__exportStar||function(s,i){for(var u in s)u!=="default"&&!Object.prototype.hasOwnProperty.call(i,u)&&t(i,s,u)};Object.defineProperty(e,"__esModule",{value:!0}),e.compareTuple=void 0,n(lp,e),n(XE(),e),n(KE,e),n(sQ(),e),n(kp,e),n(na,e),n(gQ(),e),n(Dp,e),n(ra,e),n(Pp,e),n(e4(),e),n(n4,e),n(Lp,e),n(r4,e),n(Fp,e),n(Bp,e),n(Pi,e);var r=Pn;Object.defineProperty(e,"compareTuple",{enumerable:!0,get:function(){return r.compareTuple}}),n(Op,e)}(sg)),sg}var ie=K1();function ji(e){return e instanceof Array&&e.length===3&&typeof e[0]=="string"&&typeof e[1]=="string"}function ms(e){return e instanceof Object&&"mod"in e}function ei(e){return e instanceof Object&&"exists"in e}function Ql(e){return e instanceof Object&&"type"in e&&e.type==="relationshipExists"}function Up(e){return typeof e=="boolean"}class qp{constructor(t){R(this,"data",{});R(this,"triples",{});R(this,"tripleHistory",{});t&&(this.data=t.data??{},this.triples=t.triples.reduce((n,r)=>(n["/"+r.attribute.join("/")]=r,n),{}))}applyTriple(t){const{attribute:n,value:r,timestamp:s,expired:i}=t;let u=i?void 0:r;if(Array.isArray(u)&&(u=[...u]),n[0]==="_collection"){const d="/_collection";return ns.Set(this.data,d,u,s),this.triples[d]=t,this.tripleHistory[d]?this.tripleHistory[d].push(t):this.tripleHistory[d]=[t],!0}const[o,...a]=n,l="/"+a.map(d=>d.toString().replaceAll("/","~")).join("/");this.tripleHistory[l]?this.tripleHistory[l].push(t):this.tripleHistory[l]=[t];for(let d=0;d<a.length;d++)if(typeof a[d]=="number"){const f="/"+a.slice(0,d).join("/");ns.Get(this.data,f)||ns.Set(this.data,f,[],s)}{let d="/";for(let h=0;h<a.length;h++){d+=a[h];const f=ns.Get(this.data,d);if(f&&ls(s,f[1])<0)return!1;d+="/"}}if(u==="{}"){const d=ns.Get(this.data,l);if(d===void 0)u={};else{const h=s4(d,s);h?u=h[0]:u={}}}return ns.Set(this.data,l,u,s),this.triples[l]=t,!0}}function s4(e,t){if(typeof e[0]=="object"&&e[0]!==null){const[n,r]=e;for(const s in n){const i=n[s];s4(i,t)||delete n[s]}return Object.keys(n).length===0&&ls(r,t)===-1?void 0:[n,r]}if(ls(e[1],t)!==-1)return e}var ns;(function(e){function t(o){return o.indexOf("~")===-1?o:o.replace(/~1/g,"/").replace(/~0/g,"~")}function*n(o){if(o==="")throw new Error(`Invalid pointer: "${o}"`);let[a,c]=[0,0];for(let l=0;l<o.length;l++)o.charAt(l)==="/"?(l===0||(c=l,yield t(o.slice(a,c))),a=l+1):c=l;yield t(o.slice(a))}e.Format=n;function r(o,a,c,l){if(a==="")throw new Error(`ValuePointerRootSetError - (${JSON.stringify(o)}, ${a}, ${JSON.stringify([c,l])})`);let[d,h,f]=[null,o,""];for(const p of n(a)){if(c===void 0&&h===void 0)return;h===void 0&&(h={},d[f][0]=h),h[p]===void 0&&(h[p]=[{},void 0]),d=h,h=h[p][0],f=p}d[f]=[c,l]}e.Set=r;function s(o,a){throw new Error("EntityPointer.Delete() is not implemented")}e.Delete=s;function i(o,a){throw new Error("EntityPointer.Has() is not implemented")}e.Has=i;function u(o,a){var d;if(a==="")return o;let c=o,l=!0;for(const h of n(a)){const f=l?c[h]:(d=c[0])==null?void 0:d[h];if(f===void 0)return;c=f,l=!1}return c}e.Get=u})(ns||(ns={}));function Y1(e,t){return t.reduce((n,r)=>e.applyTriple(r)||n,!1)}function ka(e,t){return e.reduce((n,r)=>{const{id:s,timestamp:i}=r;if(t){const[o,a]=i;if(!t.has(a))return n;const c=t.get(a);if(c&&ls(i,[c,a])>0)return n}const u=n.get(s)??new qp;return u.applyTriple(r),n.set(s,u),n},new Map)}function sa(e,t){return ka(e).get(t)}function HQ(e,t){return{type:"relationshipExists",relationship:e,query:t}}function GQ(e,t){if(!e&&!t)return 0;if(!e)return-1;if(!t)return 1;let n=e[0],r=t[0];return n instanceof Date&&(n=n.getTime()),r instanceof Date&&(r=r.getTime()),n!==r?ie.encodeValue(n)>ie.encodeValue(r)?1:-1:e[1]!==t[1]?e[1]>t[1]?1:-1:0}function JQ(e){return zp(e)&&Symbol.asyncIterator in e}function WQ(e){return zp(e)&&Symbol.iterator in e}function Xl(e){return zp(e)&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function QQ(e){return e instanceof Promise}function $p(e){return e instanceof Date&&Number.isFinite(e.getTime())}function Vp(e){return ArrayBuffer.isView(e)}function i4(e){return e instanceof globalThis.Uint8Array}function zp(e){return e!==null&&typeof e=="object"}function Qi(e){return Array.isArray(e)&&!ArrayBuffer.isView(e)}function Fs(e){return e===void 0}function Z1(e){return e===null}function ew(e){return typeof e=="boolean"}function pu(e){return typeof e=="number"}function XQ(e){return Number.isInteger(e)}function tw(e){return typeof e=="bigint"}function Hp(e){return typeof e=="string"}function KQ(e){return typeof e=="function"}function gu(e){return typeof e=="symbol"}function u4(e){return tw(e)||ew(e)||Z1(e)||pu(e)||Hp(e)||gu(e)||Fs(e)}var Uu;(function(e){e.ExactOptionalPropertyTypes=!1,e.AllowArrayObject=!1,e.AllowNaN=!1,e.AllowNullVoid=!1;function t(u,o){return e.ExactOptionalPropertyTypes?o in u:u[o]!==void 0}e.IsExactOptionalProperty=t;function n(u){const o=zp(u);return e.AllowArrayObject?o:o&&!Qi(u)}e.IsObjectLike=n;function r(u){return n(u)&&!(u instanceof Date)&&!(u instanceof Uint8Array)}e.IsRecordLike=r;function s(u){return e.AllowNaN?pu(u):Number.isFinite(u)}e.IsNumberLike=s;function i(u){const o=Fs(u);return e.AllowNullVoid?o||u===null:o}e.IsVoidLike=i})(Uu||(Uu={}));class YQ extends Gn{constructor(t){super(`Duplicate type kind '${t}' detected`)}}class ZQ extends Gn{constructor(t){super(`Duplicate string format '${t}' detected`)}}var Xx;(function(e){function t(r,s){if(E1(r))throw new YQ(r);return qL(r,s),(i={})=>OT({...i,[V]:r})}e.Type=t;function n(r,s){if(V_(r))throw new ZQ(r);return BL(r,s),r}e.Format=n})(Xx||(Xx={}));class eX extends Gn{constructor(t){super(`Unable to dereference schema with $id '${t.$id}'`),this.schema=t}}function tX(e,t){const n=t.find(r=>r.$id===e.$ref);if(n===void 0)throw new eX(e);return nw(n,t)}function nw(e,t){return e[V]==="This"||e[V]==="Ref"?tX(e,t):e}class nX extends Gn{constructor(t){super("Unable to hash value"),this.value=t}}var $n;(function(e){e[e.Undefined=0]="Undefined",e[e.Null=1]="Null",e[e.Boolean=2]="Boolean",e[e.Number=3]="Number",e[e.String=4]="String",e[e.Object=5]="Object",e[e.Array=6]="Array",e[e.Date=7]="Date",e[e.Uint8Array=8]="Uint8Array",e[e.Symbol=9]="Symbol",e[e.BigInt=10]="BigInt"})($n||($n={}));let xo=BigInt("14695981039346656037");const[rX,sX]=[BigInt("1099511628211"),BigInt("2")**BigInt("64")],iX=Array.from({length:256}).map((e,t)=>BigInt(t)),o4=new Float64Array(1),a4=new DataView(o4.buffer),c4=new Uint8Array(o4.buffer);function*uX(e){const t=e===0?1:Math.ceil(Math.floor(Math.log2(e)+1)/8);for(let n=0;n<t;n++)yield e>>8*(t-1-n)&255}function oX(e){en($n.Array);for(const t of e)ia(t)}function aX(e){en($n.Boolean),en(e?1:0)}function cX(e){en($n.BigInt),a4.setBigInt64(0,e);for(const t of c4)en(t)}function lX(e){en($n.Date),ia(e.getTime())}function fX(e){en($n.Null)}function dX(e){en($n.Number),a4.setFloat64(0,e);for(const t of c4)en(t)}function hX(e){en($n.Object);for(const t of globalThis.Object.getOwnPropertyNames(e).sort())ia(t),ia(e[t])}function pX(e){en($n.String);for(let t=0;t<e.length;t++)for(const n of uX(e.charCodeAt(t)))en(n)}function gX(e){en($n.Symbol),ia(e.description)}function mX(e){en($n.Uint8Array);for(let t=0;t<e.length;t++)en(e[t])}function bX(e){return en($n.Undefined)}function ia(e){if(Qi(e))return oX(e);if(ew(e))return aX(e);if(tw(e))return cX(e);if($p(e))return lX(e);if(Z1(e))return fX();if(pu(e))return dX(e);if(Xl(e))return hX(e);if(Hp(e))return pX(e);if(gu(e))return gX(e);if(i4(e))return mX(e);if(Fs(e))return bX();throw new nX(e)}function en(e){xo=xo^iX[e],xo=xo*rX%sX}function l4(e){return xo=BigInt("14695981039346656037"),ia(e),xo}var Kx;(function(e){e[e.ArrayContains=0]="ArrayContains",e[e.ArrayMaxContains=1]="ArrayMaxContains",e[e.ArrayMaxItems=2]="ArrayMaxItems",e[e.ArrayMinContains=3]="ArrayMinContains",e[e.ArrayMinItems=4]="ArrayMinItems",e[e.ArrayUniqueItems=5]="ArrayUniqueItems",e[e.Array=6]="Array",e[e.AsyncIterator=7]="AsyncIterator",e[e.BigIntExclusiveMaximum=8]="BigIntExclusiveMaximum",e[e.BigIntExclusiveMinimum=9]="BigIntExclusiveMinimum",e[e.BigIntMaximum=10]="BigIntMaximum",e[e.BigIntMinimum=11]="BigIntMinimum",e[e.BigIntMultipleOf=12]="BigIntMultipleOf",e[e.BigInt=13]="BigInt",e[e.Boolean=14]="Boolean",e[e.DateExclusiveMaximumTimestamp=15]="DateExclusiveMaximumTimestamp",e[e.DateExclusiveMinimumTimestamp=16]="DateExclusiveMinimumTimestamp",e[e.DateMaximumTimestamp=17]="DateMaximumTimestamp",e[e.DateMinimumTimestamp=18]="DateMinimumTimestamp",e[e.DateMultipleOfTimestamp=19]="DateMultipleOfTimestamp",e[e.Date=20]="Date",e[e.Function=21]="Function",e[e.IntegerExclusiveMaximum=22]="IntegerExclusiveMaximum",e[e.IntegerExclusiveMinimum=23]="IntegerExclusiveMinimum",e[e.IntegerMaximum=24]="IntegerMaximum",e[e.IntegerMinimum=25]="IntegerMinimum",e[e.IntegerMultipleOf=26]="IntegerMultipleOf",e[e.Integer=27]="Integer",e[e.IntersectUnevaluatedProperties=28]="IntersectUnevaluatedProperties",e[e.Intersect=29]="Intersect",e[e.Iterator=30]="Iterator",e[e.Kind=31]="Kind",e[e.Literal=32]="Literal",e[e.Never=33]="Never",e[e.Not=34]="Not",e[e.Null=35]="Null",e[e.NumberExclusiveMaximum=36]="NumberExclusiveMaximum",e[e.NumberExclusiveMinimum=37]="NumberExclusiveMinimum",e[e.NumberMaximum=38]="NumberMaximum",e[e.NumberMinimum=39]="NumberMinimum",e[e.NumberMultipleOf=40]="NumberMultipleOf",e[e.Number=41]="Number",e[e.ObjectAdditionalProperties=42]="ObjectAdditionalProperties",e[e.ObjectMaxProperties=43]="ObjectMaxProperties",e[e.ObjectMinProperties=44]="ObjectMinProperties",e[e.ObjectRequiredProperty=45]="ObjectRequiredProperty",e[e.Object=46]="Object",e[e.Promise=47]="Promise",e[e.RegExp=48]="RegExp",e[e.StringFormatUnknown=49]="StringFormatUnknown",e[e.StringFormat=50]="StringFormat",e[e.StringMaxLength=51]="StringMaxLength",e[e.StringMinLength=52]="StringMinLength",e[e.StringPattern=53]="StringPattern",e[e.String=54]="String",e[e.Symbol=55]="Symbol",e[e.TupleLength=56]="TupleLength",e[e.Tuple=57]="Tuple",e[e.Uint8ArrayMaxByteLength=58]="Uint8ArrayMaxByteLength",e[e.Uint8ArrayMinByteLength=59]="Uint8ArrayMinByteLength",e[e.Uint8Array=60]="Uint8Array",e[e.Undefined=61]="Undefined",e[e.Union=62]="Union",e[e.Void=63]="Void"})(Kx||(Kx={}));class yX extends Gn{constructor(t){super("Unknown type"),this.schema=t}}function wX(e){return e[V]==="Any"||e[V]==="Unknown"}function fe(e){return e!==void 0}function vX(e,t,n){return!0}function xX(e,t,n){if(!Qi(n)||fe(e.minItems)&&!(n.length>=e.minItems)||fe(e.maxItems)&&!(n.length<=e.maxItems)||!n.every(i=>Rt(e.items,t,i))||e.uniqueItems===!0&&!function(){const i=new Set;for(const u of n){const o=l4(u);if(i.has(o))return!1;i.add(o)}return!0}())return!1;if(!(fe(e.contains)||pu(e.minContains)||pu(e.maxContains)))return!0;const r=fe(e.contains)?e.contains:En(),s=n.reduce((i,u)=>Rt(r,t,u)?i+1:i,0);return!(s===0||pu(e.minContains)&&s<e.minContains||pu(e.maxContains)&&s>e.maxContains)}function SX(e,t,n){return JQ(n)}function AX(e,t,n){return!(!tw(n)||fe(e.exclusiveMaximum)&&!(n<e.exclusiveMaximum)||fe(e.exclusiveMinimum)&&!(n>e.exclusiveMinimum)||fe(e.maximum)&&!(n<=e.maximum)||fe(e.minimum)&&!(n>=e.minimum)||fe(e.multipleOf)&&n%e.multipleOf!==BigInt(0))}function _X(e,t,n){return ew(n)}function TX(e,t,n){return Rt(e.returns,t,n.prototype)}function EX(e,t,n){return!(!$p(n)||fe(e.exclusiveMaximumTimestamp)&&!(n.getTime()<e.exclusiveMaximumTimestamp)||fe(e.exclusiveMinimumTimestamp)&&!(n.getTime()>e.exclusiveMinimumTimestamp)||fe(e.maximumTimestamp)&&!(n.getTime()<=e.maximumTimestamp)||fe(e.minimumTimestamp)&&!(n.getTime()>=e.minimumTimestamp)||fe(e.multipleOfTimestamp)&&n.getTime()%e.multipleOfTimestamp!==0)}function OX(e,t,n){return KQ(n)}function IX(e,t,n){return!(!XQ(n)||fe(e.exclusiveMaximum)&&!(n<e.exclusiveMaximum)||fe(e.exclusiveMinimum)&&!(n>e.exclusiveMinimum)||fe(e.maximum)&&!(n<=e.maximum)||fe(e.minimum)&&!(n>=e.minimum)||fe(e.multipleOf)&&n%e.multipleOf!==0)}function NX(e,t,n){const r=e.allOf.every(s=>Rt(s,t,n));if(e.unevaluatedProperties===!1){const s=new RegExp(px(e)),i=Object.getOwnPropertyNames(n).every(u=>s.test(u));return r&&i}else if(Ct(e.unevaluatedProperties)){const s=new RegExp(px(e)),i=Object.getOwnPropertyNames(n).every(u=>s.test(u)||Rt(e.unevaluatedProperties,t,n[u]));return r&&i}else return r}function RX(e,t,n){return WQ(n)}function kX(e,t,n){return n===e.const}function CX(e,t,n){return!1}function DX(e,t,n){return!Rt(e.not,t,n)}function MX(e,t,n){return Z1(n)}function PX(e,t,n){return!(!Uu.IsNumberLike(n)||fe(e.exclusiveMaximum)&&!(n<e.exclusiveMaximum)||fe(e.exclusiveMinimum)&&!(n>e.exclusiveMinimum)||fe(e.minimum)&&!(n>=e.minimum)||fe(e.maximum)&&!(n<=e.maximum)||fe(e.multipleOf)&&n%e.multipleOf!==0)}function jX(e,t,n){if(!Uu.IsObjectLike(n)||fe(e.minProperties)&&!(Object.getOwnPropertyNames(n).length>=e.minProperties)||fe(e.maxProperties)&&!(Object.getOwnPropertyNames(n).length<=e.maxProperties))return!1;const r=Object.getOwnPropertyNames(e.properties);for(const s of r){const i=e.properties[s];if(e.required&&e.required.includes(s)){if(!Rt(i,t,n[s])||(up(i)||wX(i))&&!(s in n))return!1}else if(Uu.IsExactOptionalProperty(n,s)&&!Rt(i,t,n[s]))return!1}if(e.additionalProperties===!1){const s=Object.getOwnPropertyNames(n);return e.required&&e.required.length===r.length&&s.length===r.length?!0:s.every(i=>r.includes(i))}else return typeof e.additionalProperties=="object"?Object.getOwnPropertyNames(n).every(i=>r.includes(i)||Rt(e.additionalProperties,t,n[i])):!0}function LX(e,t,n){return QQ(n)}function FX(e,t,n){if(!Uu.IsRecordLike(n)||fe(e.minProperties)&&!(Object.getOwnPropertyNames(n).length>=e.minProperties)||fe(e.maxProperties)&&!(Object.getOwnPropertyNames(n).length<=e.maxProperties))return!1;const[r,s]=Object.entries(e.patternProperties)[0],i=new RegExp(r),u=Object.entries(n).every(([c,l])=>i.test(c)?Rt(s,t,l):!0),o=typeof e.additionalProperties=="object"?Object.entries(n).every(([c,l])=>i.test(c)?!0:Rt(e.additionalProperties,t,l)):!0,a=e.additionalProperties===!1?Object.getOwnPropertyNames(n).every(c=>i.test(c)):!0;return u&&o&&a}function BX(e,t,n){return Rt(nw(e,t),t,n)}function UX(e,t,n){const r=new RegExp(e.source,e.flags);return fe(e.minLength)&&!(n.length>=e.minLength)||fe(e.maxLength)&&!(n.length<=e.maxLength)?!1:r.test(n)}function qX(e,t,n){return!Hp(n)||fe(e.minLength)&&!(n.length>=e.minLength)||fe(e.maxLength)&&!(n.length<=e.maxLength)||fe(e.pattern)&&!new RegExp(e.pattern).test(n)?!1:fe(e.format)?V_(e.format)?UL(e.format)(n):!1:!0}function $X(e,t,n){return gu(n)}function VX(e,t,n){return Hp(n)&&new RegExp(e.pattern).test(n)}function zX(e,t,n){return Rt(nw(e,t),t,n)}function HX(e,t,n){if(!Qi(n)||e.items===void 0&&n.length!==0||n.length!==e.maxItems)return!1;if(!e.items)return!0;for(let r=0;r<e.items.length;r++)if(!Rt(e.items[r],t,n[r]))return!1;return!0}function GX(e,t,n){return Fs(n)}function JX(e,t,n){return e.anyOf.some(r=>Rt(r,t,n))}function WX(e,t,n){return!(!i4(n)||fe(e.maxByteLength)&&!(n.length<=e.maxByteLength)||fe(e.minByteLength)&&!(n.length>=e.minByteLength))}function QX(e,t,n){return!0}function XX(e,t,n){return Uu.IsVoidLike(n)}function KX(e,t,n){return E1(e[V])?$L(e[V])(e,n):!1}function Rt(e,t,n){const r=fe(e.$id)?[...t,e]:t,s=e;switch(s[V]){case"Any":return vX();case"Array":return xX(s,r,n);case"AsyncIterator":return SX(s,r,n);case"BigInt":return AX(s,r,n);case"Boolean":return _X(s,r,n);case"Constructor":return TX(s,r,n);case"Date":return EX(s,r,n);case"Function":return OX(s,r,n);case"Integer":return IX(s,r,n);case"Intersect":return NX(s,r,n);case"Iterator":return RX(s,r,n);case"Literal":return kX(s,r,n);case"Never":return CX();case"Not":return DX(s,r,n);case"Null":return MX(s,r,n);case"Number":return PX(s,r,n);case"Object":return jX(s,r,n);case"Promise":return LX(s,r,n);case"Record":return FX(s,r,n);case"Ref":return BX(s,r,n);case"RegExp":return UX(s,r,n);case"String":return qX(s,r,n);case"Symbol":return $X(s,r,n);case"TemplateLiteral":return VX(s,r,n);case"This":return zX(s,r,n);case"Tuple":return HX(s,r,n);case"Undefined":return GX(s,r,n);case"Union":return JX(s,r,n);case"Uint8Array":return WX(s,r,n);case"Unknown":return QX();case"Void":return XX(s,r,n);default:if(!E1(s[V]))throw new yX(s);return KX(s,r,n)}}function Yx(...e){return e.length===3?Rt(e[0],e[1],e[2]):Rt(e[0],[],e[1])}class YX extends Gn{constructor(t,n,r){super("Cannot set root value"),this.value=t,this.path=n,this.update=r}}class ZX extends Gn{constructor(t,n){super("Cannot delete root value"),this.value=t,this.path=n}}function Zx(e){return e.indexOf("~")===-1?e:e.replace(/~1/g,"/").replace(/~0/g,"~")}function*Gp(e){if(e==="")return;let[t,n]=[0,0];for(let r=0;r<e.length;r++)e.charAt(r)==="/"?(r===0||(n=r,yield Zx(e.slice(t,n))),t=r+1):n=r;yield Zx(e.slice(t))}function eK(e,t,n){if(t==="")throw new YX(e,t,n);let[r,s,i]=[null,e,""];for(const u of Gp(t))s[u]===void 0&&(s[u]={}),r=s,s=s[u],i=u;r[i]=n}function f4(e,t){if(t==="")throw new ZX(e,t);let[n,r,s]=[null,e,""];for(const i of Gp(t)){if(r[i]===void 0||r[i]===null)return;n=r,r=r[i],s=i}if(Array.isArray(n)){const i=parseInt(s);n.splice(i,1)}else delete n[s]}function tK(e,t){if(t==="")return!0;let[n,r,s]=[null,e,""];for(const i of Gp(t)){if(r[i]===void 0)return!1;n=r,r=r[i],s=i}return Object.getOwnPropertyNames(n).includes(s)}function rw(e,t){if(t==="")return e;let n=e;for(const r of Gp(t)){if(n[r]===void 0)return;n=n[r]}return n}const nK=_t({type:Je("insert"),path:Di(),value:Fl()}),rK=_t({type:Je("update"),path:Di(),value:Fl()}),sK=_t({type:Je("delete"),path:Di()});pn([nK,rK,sK]);class d4 extends Gn{constructor(t,n){super(n),this.value=t}}class xf extends d4{constructor(t){super(t,"Cannot diff objects with symbol keys"),this.value=t}}function Zc(e,t){return{type:"update",path:e,value:t}}function h4(e,t){return{type:"insert",path:e,value:t}}function p4(e){return{type:"delete",path:e}}function*iK(e,t,n){if(!Xl(n))return yield Zc(e,n);const r=[...globalThis.Object.keys(t),...globalThis.Object.getOwnPropertySymbols(t)],s=[...globalThis.Object.keys(n),...globalThis.Object.getOwnPropertySymbols(n)];for(const i of r){if(gu(i))throw new xf(i);Fs(n[i])&&s.includes(i)&&(yield Zc(`${e}/${globalThis.String(i)}`,void 0))}for(const i of s)if(!(Fs(t[i])||Fs(n[i]))){if(gu(i))throw new xf(i);yield*Jp(`${e}/${globalThis.String(i)}`,t[i],n[i])}for(const i of s){if(gu(i))throw new xf(i);Fs(t[i])&&(yield h4(`${e}/${globalThis.String(i)}`,n[i]))}for(const i of r.reverse()){if(gu(i))throw new xf(i);Fs(n[i])&&!s.includes(i)&&(yield p4(`${e}/${globalThis.String(i)}`))}}function*uK(e,t,n){if(!Qi(n))return yield Zc(e,n);for(let r=0;r<Math.min(t.length,n.length);r++)yield*Jp(`${e}/${r}`,t[r],n[r]);for(let r=0;r<n.length;r++)r<t.length||(yield h4(`${e}/${r}`,n[r]));for(let r=t.length-1;r>=0;r--)r<n.length||(yield p4(`${e}/${r}`))}function*oK(e,t,n){if(!Vp(n)||t.length!==n.length||globalThis.Object.getPrototypeOf(t).constructor.name!==globalThis.Object.getPrototypeOf(n).constructor.name)return yield Zc(e,n);for(let r=0;r<Math.min(t.length,n.length);r++)yield*Jp(`${e}/${r}`,t[r],n[r])}function*aK(e,t,n){t!==n&&(yield Zc(e,n))}function*Jp(e,t,n){if(Xl(t))return yield*iK(e,t,n);if(Qi(t))return yield*uK(e,t,n);if(Vp(t))return yield*oK(e,t,n);if(u4(t))return yield*aK(e,t,n);throw new d4(t,"Unable to create diff edits for unknown value")}function hg(e,t){return[...Jp("",e,t)]}function cK(e,t){if(!Xl(t))return!1;const n=[...Object.keys(e),...Object.getOwnPropertySymbols(e)],r=[...Object.keys(t),...Object.getOwnPropertySymbols(t)];return n.length!==r.length?!1:n.every(s=>Kl(e[s],t[s]))}function lK(e,t){return $p(t)&&e.getTime()===t.getTime()}function fK(e,t){return!Qi(t)||e.length!==t.length?!1:e.every((n,r)=>Kl(n,t[r]))}function dK(e,t){return!Vp(t)||e.length!==t.length||Object.getPrototypeOf(e).constructor.name!==Object.getPrototypeOf(t).constructor.name?!1:e.every((n,r)=>Kl(n,t[r]))}function hK(e,t){return e===t}function Kl(e,t){if(Xl(e))return cK(e,t);if($p(e))return lK(e,t);if(Vp(e))return dK(e,t);if(Qi(e))return fK(e,t);if(u4(e))return hK(e,t);throw new Error("ValueEquals: Unable to compare value")}function pK(...e){return Yx.apply(Yx,e)}function gK(e,t){return Kl(e,t)}function g4(e){return l4(e)}function mK(e){return e._diff==="collectionAttribute"}function m4(e,t,n=[]){var o,a,c,l,d,h;if(e===void 0&&t===void 0)return[];const r=(e==null?void 0:e.properties)??{},s=(t==null?void 0:t.properties)??{},i=new Set([...Object.keys(r),...Object.keys(s)]),u=[];for(const f of i){if(!(f in r)){const p=[...n,f];u.push({type:"insert",attribute:p,metadata:{type:s[f].type,options:s[f].options,optional:((o=t==null?void 0:t.optional)==null?void 0:o.includes(f))??!1},isNewCollection:e===void 0});continue}if(!(f in s)){const p=[...n,f];u.push({type:"delete",attribute:p,metadata:{type:r[f].type,options:r[f].options,optional:((a=e==null?void 0:e.optional)==null?void 0:a.includes(f))??!1}});continue}if(f in r&&f in s){if(gK(r[f].toJSON(),s[f].toJSON())&&(((c=e==null?void 0:e.optional)==null?void 0:c.includes(f))??!1)===(((l=t==null?void 0:t.optional)==null?void 0:l.includes(f))??!1))continue;const p=[...n,f];if(r[f].type==="record"&&s[f].type==="record"){u.push(...m4(r[f],s[f],p));continue}const m={type:"update",attribute:p,changes:{options:{}}};r[f].type!==s[f].type&&(m.changes.type=s[f].type),r[f].type==="set"&&r[f].items.type!==s[f].items.type&&(m.changes.items={type:s[f].items.type});const b=((d=e==null?void 0:e.optional)==null?void 0:d.includes(f))??!1,y=((h=t==null?void 0:t.optional)==null?void 0:h.includes(f))??!1;b!==y&&(m.changes.optional=y),m.changes.options=bK(r[f].options??{},s[f].options??{}),u.push(m);continue}}return u}function bK(e,t){var i;const n={};e.nullable!==t.nullable&&(n.nullable=!!t.nullable),e.default!==t.default&&(n.default=t.default);const r=t.enum&&!e.enum,s=e.enum&&t.enum&&!((i=e.enum)!=null&&i.every(u=>{var o;return(o=t.enum)==null?void 0:o.includes(u)}));return(r||s)&&(n.enum=t.enum),n}function yK(e,t){const n=new Set([...Object.keys(e.collections),...Object.keys(t.collections)]),r=[];for(const i of n){const u=e.collections[i],o=t.collections[i];r.push(...m4(u==null?void 0:u.schema,o==null?void 0:o.schema).map(l=>({_diff:"collectionAttribute",collection:i,...l}))),hg(u==null?void 0:u.rules,o==null?void 0:o.rules).length>0&&r.push({_diff:"collectionRules",collection:i}),hg(u==null?void 0:u.permissions,o==null?void 0:o.permissions).length>0&&r.push({_diff:"collectionPermissions",collection:i})}return hg(e.roles,t.roles).length>0&&r.push({_diff:"roles"}),r}function wK(e){return e.reduce((t,n)=>{if(!mK(n))return t;const r=vK.find(s=>s.matchesDiff(n));return r&&t.push({issue:r.description,allowedIf:r.allowedIf,context:n,attributeCure:r.attributeCure}),t},[])}const vK=[{description:"removed an optional attribute",matchesDiff:e=>e.type==="delete"&&e.metadata.optional===!0,allowedIf:"attribute_is_empty",attributeCure:()=>null},{description:"removed a non-optional attribute",matchesDiff:e=>e.type==="delete",allowedIf:"collection_is_empty",attributeCure:(e,t)=>`make '${t.join(".")}' optional`},{description:"changed a attribute from optional to required",matchesDiff:e=>e.type==="update"?e.changes.optional===!1:!1,allowedIf:"attribute_has_no_undefined",attributeCure:()=>null},{description:"changed the type of an attribute",matchesDiff:e=>e.type==="update"?e.changes.type!==void 0:!1,allowedIf:"attribute_is_empty",attributeCure:(e,t)=>`revert the change to '${t.join(".")}' and create a different, optional, attribute with the new type`},{description:"changed the type of a set's items",matchesDiff:e=>e.type==="update"?e.changes.items!==void 0:!1,allowedIf:"attribute_is_empty",attributeCure:(e,t)=>`revert the change to '${t.join(".")}' and create a different, optional, attribute with the new type`},{description:"added an attribute where optional is not set",matchesDiff:e=>e.type==="insert"&&!e.isNewCollection&&e.metadata.optional===!1&&e.metadata.type!=="query",allowedIf:"collection_is_empty",attributeCure:(e,t)=>`make '${t.join(".")}' optional`},{description:"changed an attribute from nullable to non-nullable",matchesDiff:e=>{var t;return e.type==="update"?((t=e.changes.options)==null?void 0:t.nullable)===!1:!1},allowedIf:"attribute_has_no_null",attributeCure:()=>null},{description:"added an enum to an attribute or removed an option from an existing enum",matchesDiff:e=>e.type==="update"?e.changes.options.enum!==void 0:!1,allowedIf:"attribute_satisfies_enum",attributeCure:(e,t,n)=>`revert the change to '${t.join(".")}' and create a different, optional, attribute with the new enum OR ensure all values of '${t.join(".")} are in the new enum: ${n}`}];async function xK(e,t,n){return await AK[n](e,t.collection,t.attribute,(t==null?void 0:t.type)==="update"?t.changes.options.enum:void 0)}async function SK(e,t){const n=wK(t);return await Promise.all(n.map(async s=>{const i=!await xK(e,s.context,s.allowedIf),u=_K[s.allowedIf](s.context.collection,s.context.attribute),o=s.attributeCure(s.context.collection,s.context.attribute);return{...s,violatesExistingData:i,cure:o?o+" or "+u:u}}))}const AK={never:async()=>!1,collection_is_empty:NK,attribute_is_empty:OK,attribute_has_no_undefined:EK,attribute_has_no_null:IK,attribute_satisfies_enum:TK},_K={never:()=>"This edit is never allowed",collection_is_empty:e=>`delete all entities in '${e}' to allow this edit`,attribute_is_empty:(e,t)=>`set all values of '${t.join(".")}' to undefined to allow this edit`,attribute_has_no_undefined:(e,t)=>`ensure all values of '${t.join(".")}' are not undefined to allow this edit`,attribute_has_no_null:(e,t)=>`ensure all values of '${t.join(".")}' are not null to allow this edit`,attribute_satisfies_enum:(e,t)=>`ensure all values of '${t.join(".")}' are in the enum to allow this edit`};async function TK(e,t,n,r){return(await e.fetch(e.db.query(t).select([n.join(".")]).where(n.join("."),"nin",r).build(),{skipRules:!0})).size===0}async function EK(e,t,n){const r=await e.fetch(e.db.query(t).select([n.join(".")]).build(),{skipRules:!0});return!Array.from(r.values()).some(s=>rw(s,"/"+n.join("/"))===void 0)}async function OK(e,t,n){const r=await e.fetch(e.db.query(t).select([n.join(".")]).build(),{skipRules:!0});return Array.from(r.values()).every(s=>rw(s,"/"+n.join("/"))===void 0)}async function IK(e,t,n){return(await e.fetch(e.db.query(t).select([n.join(".")]).where(n.join("."),"=",null).limit(1).build(),{skipRules:!0})).size===0}async function NK(e,t){return(await e.fetch(e.db.query(t).select([]).limit(1).build(),{skipRules:!0})).size===0}class ai{constructor({stages:t,limit:n,takeWhile:r}={}){R(this,"limit",1/0);R(this,"stages");R(this,"takeWhileFilter");this.stages=t??[],this.limit=n??1/0,this.takeWhileFilter=r}map(t){return new ai({stages:this.stages.concat([["map",t]]),limit:this.limit})}tap(t){return new ai({stages:this.stages.concat([["map",async(n,r)=>(await t(n,r),n)]]),limit:this.limit})}takeWhile(t){return new ai({takeWhile:t,stages:this.stages,limit:this.limit})}filter(t){return new ai({stages:this.stages.concat([["filter",t]]),limit:this.limit})}take(t){return new ai({stages:this.stages,limit:t})}sort(t){return new ai({stages:this.stages.concat([["aggregate",async n=>n.slice().sort(t),{limit:this.limit,takeWhile:this.takeWhileFilter}]])})}async run(t){this.stages.push(["aggregate",async i=>i,{limit:this.limit,takeWhile:this.takeWhileFilter}]);const n=this.stages.reduce((i,u,o,a)=>{const c=a[o-1];return c&&c[0]==="aggregate"?i.push([u]):i.length===0?i.push([u]):i[i.length-1].push(u),i},[]);async function r(i,u,o){let a=[];const c=Math.min(i.length??1/0,o.limit);e:for(let l=0;l<i.length;l++){let d=i[l];t:for(const h of u){const[f,p]=h;if(f==="map"){d=await p(d,l);continue}if(f==="filter"){if(await p(d,l))continue t;continue e}}if(o.takeWhile&&!o.takeWhile(d,l)||(a.push(d),a.length>=c))break e}return a}let s=t;for(const i of n){const[u,o,a]=i.at(-1),c=i.slice(0,-1);s=await o(await r(s,c,a))}return s}}class b4{constructor(t){R(this,"db");R(this,"cache");this.db=t,this.cache=new Map}static canCacheQuery(t,n){if(t.limit!==void 0||t.where&&t.where.some(i=>!ji(i))||t.include&&Object.keys(t.include).length>0||t.select&&t.select.some(i=>typeof i=="object"))return!1;const s=(t.where??[]).filter(ji).filter(([,,i])=>typeof i=="string"&&i.startsWith("$"));return!(s.length!==1||!["=","<","<=",">",">=","!="].includes(s[0][1])||n&&Ro(n,s[0][0].split(".")).type==="set")}async createView(t,n){return new Promise(r=>{const s=this.viewQueryToId(t);R4(this.db,this.db.tripleStore,t,([i,u])=>{this.cache.set(s,{results:i,triples:u}),r()},i=>{console.error("error in view",i),this.cache.delete(s)},{schema:n,skipRules:!0})})}viewQueryToId(t){return g4(t)}async resolveFromCache(t,n,r,s){const{views:i,variableFilters:u}=this.queryToViews(t),o=this.viewQueryToId(i[0]);this.cache.has(o)||await this.createView(i[0],s.schema);const[a,c,l]=u[0],d=l.slice(1),f=k4(t,{systemVars:this.db.systemVars,roles:this.db.sessionRoles},r)[d],p=this.cache.get(o),m=[...p.results.entries()];let b,y;if(["=","<","<=",">",">="].includes(c)&&(b=Sf(m,f,([,x])=>x[a],"start",(x,v)=>c==="<"?x<v?0:1:c==="<="?x<=v?0:1:c===">"?x>v?0:-1:c===">="?x>=v?0:-1:x===v?0:x<v?-1:1),y=Sf(m,f,([,x])=>x[a],"end",(x,v)=>c==="<"?x<v?0:1:c==="<="?x<=v?0:1:c===">"?x>v?0:-1:c===">="?x>=v?0:-1:x===v?0:x<v?-1:1)),c==="!="){b=Sf(m,f,([,v])=>v[a],"start",(v,_)=>v===_?0:v<_?-1:1),y=Sf(m,f,([,v])=>v[a],"end",(v,_)=>v===_?0:v<_?-1:1);const x=[...m.slice(0,b+1),...m.slice(y)];return{results:new Map(x),triples:new Map(x.map(([v,_])=>[v,p.triples.get(v)]))}}if(b==null||y==null)throw new I$(`Queries with the operator ${c} in a where clause can't be stored in the query cache. Currently, supported operators are: ${["=","!=","<","<=",">",">="]}`);const w=m.slice(b,y+1);return{results:new Map(w),triples:new Map(w.map(([x,v])=>[x,p.triples.get(x)]))}}queryToViews(t){const n=[],r=t.where?t.where.filter(s=>{if(!(s instanceof Array))return!0;const[i,u,o]=s;return Ca(o)?(n.push([i,u,o]),!1):!0}):void 0;return{views:[{collectionName:t.collectionName,where:r,select:t.select,order:[...n.map(s=>[s[0],"ASC"]),...t.order??[]]}],variableFilters:n}}}function Sf(e,t,n,r="start",s=(i,u)=>i<u?-1:i>u?1:0){let i=0,u=e.length-1,o=-1;for(;i<=u;){const a=Math.floor((i+u)/2),c=n(e[a]);s(c,t)===0?(o=a,r==="start"?u=a-1:i=a+1):s(c,t)<0?i=a+1:u=a-1}return o}function RK(e){return e&&"_collection"in e&&e._collection[0]==null}class Tr{constructor(t){R(this,"query");this.query=t}build(){return this.query}select(t){return new Tr({...this.query,select:t})}where(...t){return new Tr({...this.query,where:vi().where(this.query,...t)})}id(t){const n=[["id","=",t],...(this.query.where??[]).filter(r=>!Array.isArray(r)||r[0]!=="id")];return new Tr({...this.query,where:n})}order(...t){return new Tr({...this.query,order:vi().order(this.query,...t)})}after(t,n){return new Tr({...this.query,after:vi().after(this.query,t,n)})}include(t,n){return new Tr({...this.query,include:vi().include(this.query,t,n)})}limit(t){return new Tr({...this.query,limit:t})}vars(t){return new Tr({...this.query,vars:t})}entityId(t){return this.id(t)}}const vi=()=>({where:(e,...t)=>{let n=[];if(t[0]==null)return e.where??[];if(typeof t[0]=="boolean")n=[t[0]];else if(typeof t[0]=="string")n=[t];else if(t.length===1&&t[0]instanceof Array&&t[0].every(r=>typeof r=="object"))n=t[0];else if(t.every(r=>typeof r=="object"))n=t;else throw new ng("where",t);return[...e.where??[],...n]},order:(e,...t)=>{if(!t[0])return;let n=[];if(t.length===2&&t.every(r=>typeof r=="string"))n=[[...t]];else if(t.length===1&&t[0]instanceof Array&&t[0].every(r=>r instanceof Array))n=t[0];else if(t.every(r=>r instanceof Array))n=t;else throw new ng("order",t);return[...e.order??[],...n]},include(e,t,n){return{...e.include,[t]:n??null}},after(e,t,n){if(!t)return;if(!e.order)throw new R$(t);const r=e.order[0][0];if(t instanceof Array&&t.length===2)return[t,n??!1];if(typeof t=="object"&&!(t instanceof Array)&&Object.hasOwn(t,"id")&&Object.hasOwn(t,r))return[[t[r],t.id],n??!1];throw new ng("after",t)}});function kK(e,t){return e.reduce(async(n,r,s,i)=>await n||await t(r,s,i),Promise.resolve(!1))}function CK(e,t){return e.reduce(async(n,r,s,i)=>await n&&await t(r,s,i),Promise.resolve(!0))}async function Xm(e,t,n,r,s,i,u){if(Up(u))return u;if(ms(u)){const{mod:o,filters:a}=u;return o==="and"?await CK(a,c=>Xm(e,t,n,r,s,i,c)):o==="or"?await kK(a,c=>Xm(e,t,n,r,s,i,c)):!1}if(ei(u))return await DK(e,t,n,r,s,i,u);if(Ql(u))throw new j$("Untranslated exists filter");return MK(n,s,i,u)}async function DK(e,t,n,r,s,i,u){const{exists:o}=u,a={...o,limit:1},{results:c,triples:l}=await ua(e,t,n,a,"one",r,s,i.entity);if(!!!c)return!1;for(const h of l.values())for(const f of h)i.existsFilterTriples.push(f);return!0}function MK(e,t,n,r){const{collectionName:s}=e,{schema:i}=t,{entity:u}=n,[o,a,c]=r,l=i?oa(o.split("."),i,s):void 0;return l&&l.type==="set"?y4(u,o,a,c):w4(u,o,a,c)}function y4(e,t,n,r){const s="/"+t.replaceAll(".","/"),i=ns.Get(e,s);if(Array.isArray(i)&&i[0]===void 0)return!1;const u=ln(i);if(!u)return!1;const o=Object.entries(u).filter(([a,c])=>c);return n==="has"?o.some(([a])=>a===r):n==="!has"?o.every(([a])=>a!==r):o.some(([a])=>v4(n,a,r))}function w4(e,t,n,r){const s=ns.Get(e,"/"+t.replaceAll(".","/")),i=!!s&&s instanceof Array&&s.length===2,u=!!s&&i&&(typeof s[0]!="object"||s[0]===null);if(s&&(!i||!u))return console.warn(`Received an unexpected value at path '${t}' in entity ${JSON.stringify(e)} which could not be interpreted as a register when reading filter ${JSON.stringify([t,n,r])}. This is likely caused by (1) the database not properly loading its schema and attempting to interpret a value that is not a regsiter as a register, (2) a schemaless database attempting to interpret a value that is not properly formatted as a register, or (3) a query with a path that does not lead to a leaf attribute in the entity.`),!1;const[o,a]=s??[void 0,void 0];return v4(n,o,r)}function v4(e,t,n){switch(e){case"=":return t==n;case"!=":return t!==n;case">":return t>n;case">=":return t>=n;case"<":return t<n;case"<=":return t<=n;case"like":return eS(t,n);case"nlike":return!eS(t,n);case"in":return new Set(n).has(t);case"nin":return!new Set(n).has(t);default:throw new Wf(`The operator ${e} is not recognized.`)}}function eS(e,t){return t=t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),t=t.replace(/%/g,".*"),t=t.replace(/_/g,"."),new RegExp(`^${t}$`,"i").test(e)}function x4(e){if(ei(e))return"relational";if(ms(e)){const{filters:t}=e;if(t.map(r=>x4(r)).includes("relational"))return"relational"}return"basic"}function PK(e){const{where:t=[]}=e,n=[],r=[];for(let s=0;s<t.length;s++){const i=t[s];x4(i)==="relational"?r.push(s):n.push(s)}return[...n,...r]}function jK(e){return typeof e=="string"&&e.startsWith("$")}function S4(e,t){const n={};for(const r in e){const s=e[r],i=t[r];if(i===void 0)return;if(typeof s=="object"){const u=S4(s,i);if(u===void 0)return;Object.assign(n,u);continue}if(jK(s)){const u=s.slice(1);n[u]=i;continue}if(s!==i)return}return n}function LK(e,t){if(!e)return;const n=e.roles;if(!n)return[];const r=[];for(const[s,i]of Object.entries(n)){const u=S4(i.match,t);u!==void 0&&r.push({key:s,roleVars:u})}return r}function A4(e,t){if(!e)return;const n=e[t];if(n)return n.permissions}function Mr(e,t,n,r={}){let s={...e};BK(s,t);const i=FK(s,t),u=UK(s,t,n,r),o=qK(s,t,n,r),a=VK(s,t),c=zK(s);return{...s,select:i,include:u,where:o,order:a,after:c,vars:{...s.vars??{}}}}function FK(e,t,n){if(!e.select)return e.select;if(!t)return[...e.select];for(const r of e.select){const{valid:s,path:i,reason:u}=sw(r,t,e.collectionName,(o,a,c)=>o?o.type==="query"?{valid:!1,reason:"Cannot select into relationships, please use 'include' instead"}:{valid:!0}:{valid:!1,reason:"Path not found"});if(!s)throw new P$(`Select field ${r} is not valid: ${u} at path ${i}`)}return[...e.select]}function Km(e){return e==="_metadata"}function BK(e,t){const n=e.collectionName;if(!(typeof n=="string"))throw new kd(n,"Collection name must be a string");if(t&&!t[n]&&!Km(n))throw new kd(n,`Collection '${n}' does not exist in the schema`)}function UK(e,t,n,r){if(!t||!e.include)return e.include;const s={};for(const[i,u]of Object.entries(e.include)){const o=oa(i.split("."),t,e.collectionName);if(o&&o.type==="query"){let a=u;const c=GK({...o.query},a),l={subquery:Mr(c,t,n,r),cardinality:o.cardinality};s[i]=l}else if(u!=null&&u.subquery)s[i]=u;else throw o?new S$(i,e.collectionName):new x$(i,e.collectionName)}return s}function qK(e,t,n,r){var u;const s=e.where?[...e.where]:[];if(e.entityId&&s.push(["id","=",e.entityId]),t&&!Km(e.collectionName)&&!r.skipRules){const o=$K(t,e.collectionName);(o==null?void 0:o.length)>0&&s.push(...o);const a=A4(t,e.collectionName);if(a){let c=[],l=!1;if(n.roles)for(const d of n.roles){const h=(u=a[d.key])==null?void 0:u.read;h!=null&&h.filter&&(l=!0,Array.isArray(h.filter)&&c.push(...h.filter))}l||(c=[!1]),s.push(...c)}}const i=HK(t,e.collectionName);return _4(s,o=>{if(i(o),Ql(o)){const{relationship:d,query:h}=o;if(!t)throw new Wf("A schema is required to execute an exists filter");const f=d.split("."),[p,...m]=f,b=m.length>0,y=oa([p],t,e.collectionName);if(!y)throw new Wf(`Could not find property '${d}' in the schema`);if(y.type!=="query")throw new Wf("Cannot execute an exists filter on a non-relation property");const w={...y.query},x=b?[HQ(m.join("."),h)]:h==null?void 0:h.where;return w.where=[...y.query.where??[],...x??[]],{exists:Mr(w,t,n,r)}}if(!Array.isArray(o))return o;let[a,c,l]=o;if(t&&!Km(e.collectionName)){const d=oa([a.split(".")[0]],t,e.collectionName);if(d.type==="query"){const[h,...f]=a.split("."),p={...d.query};return Ca(l)&&(l="$"+bY(l.slice(1))),p.where=[...p.where,[f.join("."),c,l]],{exists:Mr(p,t,n,r)}}}return[a,c,l instanceof Date?l.toISOString():l]})}function $K(e,t){var n,r,s;return(r=(n=e==null?void 0:e[t])==null?void 0:n.rules)!=null&&r.read?Object.values(((s=e[t].rules)==null?void 0:s.read)??{}).flatMap(i=>i.filter):[]}function VK(e,t,n){if(!e.order)return e.order;if(!t)return[...e.order];for(const[r,s]of e.order){const{valid:i,path:u,reason:o}=sw(r,t,e.collectionName,(a,c,l)=>a?c===l.length-1&&(a.type==="query"||a.type==="set"||a.type==="record")?{valid:!1,reason:"Order by field is not sortable"}:a.type==="query"&&a.cardinality!=="one"?{valid:!1,reason:"Order by field is a query with cardinality not equal to one"}:{valid:!0}:{valid:!1,reason:"Path not found"});if(!i)throw new D$(`Order by field ${r} is not valid: ${o} at path ${u}`)}return[...e.order]}function zK(e,t,n){if(!e.after)return e.after;if(!e.order||e.order.length===0)throw new L("Cannot use after without an order clause");const[r,s]=e.after;return[[r[0]instanceof Date?r[0].toISOString():r[0],Zt(e.collectionName,r[1])],s]}function HK(e,t){return n=>{if(!e||t==="_metadata"||ei(n)||Ql(n)||ms(n)||Up(n))return!0;const[r,s,i]=n,{valid:u,path:o,reason:a}=sw(r,e,t,(c,l,d)=>c?l===d.length-1&&(c.type==="query"||c.type==="record")?{valid:!1,reason:"Where filter is not operable"}:{valid:!0}:{valid:!1,reason:"Path not found"});if(!u)throw new M$(`Where filter ${JSON.stringify([r,s,i])} is not valid: ${a} at path ${o}`);return!0}}function GK(e,t){if(!t)return e;const n=[...e.where??[],...t.where??[]],r=[...e.select??[],...t.select??[]];return{...e,...t,where:n,select:r}}function _4(e,t){return e.map(n=>ms(n)?(n.filters=_4(n.filters,t),n):t(n))}function sw(e,t,n,r){let s=Yp(t,n);const i=e.split(".");let u=[];for(let o=0;o<i.length;o++){const a=i[o];s=s.get(a),u.push(a);const{valid:c,reason:l}=r(s.current,o,i);if(!c)return{valid:c,path:u.join("."),reason:l}}return{valid:!0}}function T4(e,t){const n={collectionName:e,...t};return new Tr(n)}function JK(e){const{where:t,collectionName:n}=e,r=(t??[]).filter(ji).filter(s=>s[0]==="id"&&s[1]==="=");return r.length>0?Zt(n,r[0][2]):null}async function WK(e,t,n,r){const{order:s,after:i}=t;if(!(s!=null&&s.length))return;const u=s.length===1,[o,a]=s[0],c=o.split(".");let l=!1,d=!1;if(n){const h=q4(c,n,t.collectionName);for(const f of h){if(!f){d=!0;break}if(f.type==="query"){l=!0;break}}}if(!l&&!d){const[h,f]=i??[void 0,!1],p=u&&a==="ASC"?h:void 0,m=u&&a==="DESC"?h:void 0;r.after=i?!!p||!!m:!0,r.order[0]=!0;const b={direction:a,greaterThanCursor:f?void 0:p,greaterThanOrEqualCursor:f?p:void 0,lessThanCursor:f?void 0:m,lessThanOrEqualCursor:f?m:void 0},y=await e.findValuesInRange([t.collectionName,...c],b),w=new Map,x=new Set;for(let v of y){const _=[v.id,...v.attribute].join("-");if(!w.has(_))w.set(_,v.timestamp),x.add(v.id);else{const T=w.get(_);ls(v.timestamp,T)>0&&(w.set(_,v.timestamp),x.delete(v.id),x.add(v.id))}}return x}}async function QK(e,t,n,r){const{where:s}=t,[i,u,o]=tY(t,n);if(i===-1)return;const a=s[i];if(u==="range"){r.where[i]=!0;let c;const l=eY(t,a[0],i,Wp.includes(a[1])?"lt":"gt");return l!==-1&&(c=s[l],r.where[l]=!0),new Set((await YK(e,t,[a,c])).map(d=>d.id))}if(u==="equality")return r.where[i]=!0,new Set((await ZK(e,t,a,o)).map(c=>c.id))}const XK=["="],Wp=[">",">="],iw=["<","<="],KK=[...Wp,...iw];async function YK(e,t,n){const{collectionName:r}=t,[s,i]=n,u=s[0].split("."),o=Wp.includes(s[1])?s:i,a=iw.includes(s[1])?s:i,c={greaterThan:(o==null?void 0:o[1])===">"?Za(o[2]):void 0,greaterThanOrEqual:(o==null?void 0:o[1])===">="?Za(o[2]):void 0,lessThan:(a==null?void 0:a[1])==="<"?Za(a[2]):void 0,lessThanOrEqual:(a==null?void 0:a[1])==="<="?Za(a[2]):void 0};return await e.findValuesInRange([r,...u],c)}function Za(e){return e instanceof Date?e.toISOString():Array.isArray(e)?JSON.stringify(e.map(Za)):e}async function ZK(e,t,n,r){return(r==null?void 0:r.type)==="query"||(r==null?void 0:r.type)==="record"?[]:(r==null?void 0:r.type)==="set"?await rY(e,t,n):await nY(e,t,n)}function eY(e,t,n,r){const{where:s}=e;if(!s)return-1;for(let i=n+1;i<s.length;i++){const u=s[i];if(Up(u)||ei(u)||ms(u)||Ql(u))continue;const[o,a,c]=u;if(o===t&&(r==="gt"&&Wp.includes(a)||r==="lt"&&iw.includes(a)))return i}return-1}function tY(e,t){const{where:n,collectionName:r}=e;function s(i,u,o){if(!u)return;const a=oa(i.split("."),u,o);if(a&&!(a.type==="query"||a.type==="record"))return a}if(n)for(let i=0;i<n.length;i++){const u=n[i];if(Up(u)||ei(u)||ms(u)||Ql(u))continue;const[o,a,c]=u;if(XK.includes(a))return[i,"equality",s(o,t,r)];if(KK.includes(a))return[i,"range",s(o,t,r)]}return[-1,void 0,void 0]}async function nY(e,t,n){return await e.findByAVE([[t.collectionName,...n[0].split(".")],n[2]])}async function rY(e,t,n){return await e.findByAVE([[t.collectionName,...n[0].split("."),n[2]],!0])}async function sY(e,t){return Array.from(new Set((await e.findByAVE([["_collection"],t.collectionName])).map(n=>n.id)))}async function iY(e,t,n){const r={where:t.where?new Array(t.where.length).fill(!1):[],order:t.order?new Array(t.order.length).fill(!1):[],after:!t.after},s=JK(t);if(s)return{candidates:[s],fulfilled:r};const i=await QK(e,t,n,r);if(i)return{candidates:Array.from(i),fulfilled:r};const u=await WK(e,t,n,r);return u?{candidates:Array.from(u),fulfilled:r}:{candidates:await sY(e,t),fulfilled:r}}function uY(e,t,n){return!!O4(e,t,n).length}function E4(e,t,n){var o;let r=Yp(t,n);const s=e.split("."),i=[],u={};for(const a of s)i.push(a),r=r.get(a),((o=r.current)==null?void 0:o.type)==="query"&&(u[i.join(".")]=r.current);return u}function O4(e,t,n){return Object.keys(E4(e,t,n))}function oY(e,t,n){const r={};for(const s of e){const i=O4(s,t,n);if(!i.length)continue;const u=i.shift();r[u]||(r[u]=new Set);for(let o of i)o=o.slice(u.length+1),r[u].add(o)}return r}function tS(e,t){return ka(e,t&&t.size>0?t:void 0)}async function aY(e,t){const n=[],r=await e.findAllClientIds(),s=new Map(r.map(i=>[i,t.get(i)??0]));for(const[i,u]of s){const o=await e.findByClientTimestamp(i,"gt",[u,i]);for(const a of o)n.push(a)}return n}async function nS(e,t,n,r,s,i={}){var l,d,h;const u=cY(await aw(e,t,n,s,i)),o=r.reduce((f,p)=>(f.has(p.id)||f.set(p.id,[]),f.get(p.id).push(p),f),new Map),a=[],c=r.reduce((f,p)=>{const[m,b]=p.timestamp;return(!f.has(b)||m<f.get(b)+1)&&f.set(b,Math.max(m-1,0)),f},new Map);for(const f of o.keys()){const p=await t.findByEntity(f),m=(l=tS(p,c).get(f))==null?void 0:l.data,b=tS(p).get(f),y=b==null?void 0:b.data;for(const w of u){if(w.collectionName!==sr(f)[0])continue;const x=!!m&&el(m,w.where,i.schema&&((d=i.schema[w.collectionName])==null?void 0:d.schema)),v=!!y&&el(y,w.where,i.schema&&((h=i.schema[w.collectionName])==null?void 0:h.schema));if(!x&&!v)continue;const _=(w.where??[]).filter(W=>ei(W));let T=x;if(x&&_.length>0)for(const{exists:W}of _){const{results:pe}=await ua(e,t,w,W,"one",s,i,m);if(pe===null){T=!1;continue}}const $=[];let z=v;if(v&&_.length>0)for(const{exists:W}of _){const pe=await ua(e,t,w,W,"one",s,i,y);if(pe.results===null){z=!1;continue}for(const F of pe.triples.values())for(const ae of F)$.push(ae)}if(!(!T&&!z)){if(!T){if(_.length===0){const W=o.get(f),pe=new Set(W.map(ae=>ae.id+JSON.stringify(ae.attribute)+JSON.stringify(ae.timestamp))),F=Object.values(b.triples).flat().filter(ae=>!pe.has(ae.id+JSON.stringify(ae.attribute)+JSON.stringify(ae.timestamp)));for(const ae of F)$.push(ae)}for(const W of $)a.push(W)}for(const W of o.get(f))a.push(W)}}}return a}function cY(e){const t=[];for(const n of N4(e))t.push(I4(n.slice().reverse()));return t}function I4(e,t=[]){const[n,...r]=e;if(r.length===0)return{...n,where:[...n.where??[],...t]};const s=(n.where??[]).filter(ji).filter(o=>sS(o[2])),i=(n.where??[]).filter(ji).filter(o=>!sS(o[2])),u=I4(r,s.map(fY));return{...n,where:[...i,...t,{exists:u}]}}function*N4(e,t=[]){yield[...t,e];const n=(e.where??[]).filter(i=>ei(i)),r=Object.values(e.include??{}),s=[...n.map(i=>i.exists),...r.map(i=>i.subquery)];for(const i of s){const u={...e,where:(e.where??[]).filter(o=>!ei(o)||o.exists!==i)};yield*N4(i,[...t,u])}}const lY={"=":"=","!=":"!=","<":">",">":"<","<=":">=",">=":"<=",in:"has",nin:"!has",has:"in","!has":"nin"};function fY(e){const[t,n,r]=e;if(!Ca(r))throw new L(`Expected filter value to be a relation variable, but got ${r}`);return[r.slice(1),lY[n],"$"+t]}function dY(e){return async t=>{var i;const n=await e.findByEntity(t),r=(i=ka(n).get(t))==null?void 0:i.data;return[So(t),{triples:n,entity:r,relationships:{},existsFilterTriples:[]}]}}function hY(e,t,n,r,s){const{where:i}=n,u=PK(n);return async([o,a])=>{const{entity:c}=a;if(!c)return!1;if(!i)return!0;for(const l of u){const d=i[l];if(!await Xm(e,t,n,r,s,a,d))return!1}return!0}}function pY(e){const{order:t,after:n,collectionName:r}=e;let s=!1,i=!1,u=!1;return async([o,{entity:a}])=>{if(!n)return!0;const[c,l]=n;if(s&&u||i)return!0;const[d,h]=t&&t.length>0?t[0]:["id","ASC"],f=a[d][0],[p,m]=c,b=ie.encodeValue(p),y=ie.encodeValue(f);return y===b?(s=!0,Zt(r,o)===m&&(u=!0)):(h==="ASC"?y>b:y<b)&&(i=!0),l&&(s&&u||i)}}function gY(e,t,n,r,s){const{order:i,collectionName:u}=n,{schema:o,skipRules:a,cache:c,stateVector:l}=s,d=o?oY((i??[]).map(h=>h[0]),o,u):{};return async([h,{entity:f,relationships:p,triples:m,existsFilterTriples:b}])=>{if(!Object.keys(d).length)return[h,{entity:f,relationships:p,triples:m,existsFilterTriples:b}];for(const[y,w]of Object.entries(d)){if(p[y])continue;const x=o?oa(y.split("."),o,n.collectionName):void 0;if(!x||(x==null?void 0:x.type)!=="query")throw new L(`Could not find relationship info for ${y} in the schema.`);const v=x.query,_=Array.from(w.values()).reduce((z,W)=>(z[W]=null,z),{});let T={...v,include:{...v.include??{},..._}};const $=await ua(e,t,n,T,x.cardinality,r,s,f);f[y]=$.results,p[y]=Array.from($.triples.values()).flat()}return[h,{entity:f,relationships:p,triples:m,existsFilterTriples:b}]}}function mY(e,t,n,r,s){const{include:i}=n,u=Object.entries(i??{});return async([o,{entity:a,relationships:c,triples:l,existsFilterTriples:d}])=>{for(const[h,{subquery:f,cardinality:p}]of u){if(c[h])continue;const m=await ua(e,t,n,f,p,r,s,a);a[h]=m.results,c[h]=Array.from(m.triples.values()).flat()}return[o,{entity:a,triples:l,relationships:c,existsFilterTriples:d}]}}function bY(e){const t=e.indexOf(".");if(t===-1)return e;const[n,r]=[e.slice(0,t),e.slice(t+1)],s=parseInt(n);return isNaN(s)?e:`${s+1}.${r}`}async function ua(e,t,n,r,s,i,u,o){const{schema:a}=u,c=AY(o,a,n.collectionName);i.queriedDataStack=[...i.queriedDataStack,c];let l={...r,vars:{...n.vars??{},...r.vars??{}}};l=Mr(l,a,{roles:e.sessionRoles},{skipRules:u.skipRules});const d=s==="one"?await ow(e,t,l,i,u):await $s(e,t,l,i,u);return i.queriedDataStack.pop(),d}function cr(){return{queriedDataStack:[]}}function yY(e){return e==="_collection"}async function $s(e,t,n,r,s={}){var v;const{schema:i,cache:u}=s,o=(v=i==null?void 0:i[n.collectionName])==null?void 0:v.schema;if(u&&b4.canCacheQuery(n,o))return u.resolveFromCache(n,e.systemVars,r,s);const a=await aw(e,t,n,r,s),{order:c,limit:l,select:d,where:h,collectionName:f,after:p}=a,{candidates:m,fulfilled:b}=await iY(t,a,i),y=new Map;let w=new ai().map(dY(t)).filter(hY(e,t,a,r,s)).tap(async([_,{triples:T}])=>{y.has(_)?y.set(_,y.get(_).concat(T)):y.set(_,T)}).filter(async([,{entity:_}])=>!RK(_));c&&!b.order.every(_=>_)&&(w=w.map(gY(e,t,n,r,s)).sort(([_,{entity:T}],[$,{entity:z}])=>uw(n)(T,z))),p&&!b.after&&(w=w.filter(pY(n)),b.after=!0),l&&(w=w.take(l)),(!d||d.length>0||n.include&&Object.keys(n.include).length>0)&&(w=w.map(mY(e,t,n,r,s)).map(async([_,{entity:T,relationships:$,triples:z,existsFilterTriples:W}])=>{const pe=d||(i&&n.collectionName!=="_metadata"?Object.entries(i[n.collectionName].schema.properties).filter(([Ke,Wn])=>Wn.type!=="query").map(([Ke])=>Ke):Object.keys(T).filter(Ke=>!yY(Ke))),F=Object.keys(n.include??{}),ae=pe.concat(F).reduce(_Y(T),{});return[_,{entity:ae,relationships:$,triples:z,existsFilterTriples:W}]})),w=w.tap(([_,{relationships:T,existsFilterTriples:$}])=>{y.has(_)||y.set(_,[]);for(const z of Object.values(T))y.set(_,y.get(_).concat(z));y.set(_,y.get(_).concat($))}).map(([_,{entity:T}])=>[_,T]);const x=await w.run(m);return{results:new Map(x),triples:y}}function wY(e,t){e.order&&t.sort((n,r)=>uw(e)(n[1],r[1]))}function uw(e){return(t,n)=>{var r,s;for(const[i,u]of e.order){const o=(r=rS(t,i.split(".")))==null?void 0:r[0],a=(s=rS(n,i.split(".")))==null?void 0:s[0],c=ie.encodeValue(o??ie.MIN),l=ie.encodeValue(a??ie.MIN),d=c<l?-1:c>l?1:0;if(d!==0)return u==="ASC"?d:d*-1}return 0}}function rS(e,t){return t.reduce((n,r)=>n[r],e)}async function ow(e,t,n,r,s={}){n={...n,limit:1};const i=await $s(e,t,n,r,s),{results:u,triples:o}=i;return{results:[...u.values()][0]??null,triples:o}}function el(e,t,n){if(!t)return!0;const r=t.filter(ji),s=t.filter(ms).filter(c=>c.mod==="or"),i=t.filter(ms).filter(c=>c.mod==="and");return!(!vY(e,r,n)||!s.every(({filters:c})=>c.some(l=>el(e,[l],n)))||!i.every(({filters:c})=>el(e,c,n)))}function vY(e,t,n){const r=t.reduce((s,i)=>{const[u,o,a]=i;return s.has(u)?s.get(u).push([o,a]):s.set(u,[[o,a]]),s},new Map);return r.size===0||[...r.entries()].every(([s,i])=>{const u=n&&Ro(n,s.split("."));return i.every(([o,a])=>u&&u.type==="set"?y4(e,s,o,a):w4(e,s,o,a))})}function R4(e,t,n,r,s,i={}){const{select:u,order:o,limit:a,include:c}=n,l=cr(),h=(async()=>{let f=new Map,p=new Map,m=()=>{};try{const b=await $s(e,t,n,l,i);f=b.results,p=b.triples;const{where:y}=await aw(e,t,n,l,i);m=t.onWrite(async w=>{var v;try{if(y&&IY(y,F=>ei(F))||c&&Object.keys(c).length>0||o&&o.some(F=>i.schema&&uY(F[0],i.schema,n.collectionName))){const F=await $s(e,t,n,cr(),{schema:i.schema,skipRules:i.skipRules,cache:i.cache});f=F.results,p=F.triples,await r([new Map([...f].map(([ae,Ke])=>[ae,Oi(Ke,i.schema,n.collectionName)])),p]);return}const _=Object.values(w).flatMap(F=>F.inserts),T=Object.values(w).flatMap(F=>F.deletes);let $=new Map(f);const z=new Map,W=new Set([..._,...T].map(({id:F})=>sr(F)).filter(([F,ae])=>F===n.collectionName).map(([F,ae])=>ae));if(!W.size)return;let pe=!1;for(const F of W){let Ke=function(no,Ki){var Tw;if(!Ki.after||!((Tw=Ki.order)!=null&&Tw.length))return!0;const Aw=Ki.order[0][0],cI=Ki.order[0][1],[lI,_w]=Ki.after,[ef,tf]=lI,nf=no[Aw][0];return cI==="ASC"?nf===ef?_w?no.id[0]>=So(tf):no.id[0]>So(tf):nf>ef:nf===ef?_w?no.id[0]<=So(tf):no.id[0]<So(tf):nf<ef};var x=Ke;const ae=await t.findByEntity(Zt(n.collectionName,F)),Wn=new qp;Y1(Wn,ae);const Qn=Wn.data,Zl=Qn._collection&&Qn._collection[0]===n.collectionName&&el(Qn,y??[],i.schema&&((v=i.schema[n.collectionName])==null?void 0:v.schema))&&Ke(Qn,n);let Xi=!0;if(o&&a&&$.size>=a){const Ki=[...$.values()].at(-1);Xi=uw(n)(Qn,Ki)<1}Zl&&Xi?(!$.has(F)||!Kl($.get(F),Qn))&&($.set(F,Qn),z.set(F,Object.values(Wn.triples)),pe=!0):$.has(F)&&($.delete(F),z.set(F,Object.values(Wn.triples)),pe=!0)}if(!pe)return;if(o||a){const F=[...$];if(a&&F.length<a){const ae=F.at(F.length-1),Ke=ae&&Zt(n.collectionName,ae[0]),Wn={...n,limit:a-F.length,after:Ke?[[o?ae[1][o[0][0]][0]:Ke,Ke],!1]:void 0},Qn=await $s(e,t,Wn,cr(),{schema:i.schema,skipRules:i.skipRules,cache:i.cache});for(const Da of Qn.results)F.push(Da)}o&&wY(n,F),$=new Map(F.slice(0,a))}f=$,p=z,await r([new Map([...f].map(([F,ae])=>[F,Oi(ae,i.schema,n.collectionName)])),p])}catch(_){console.error(_),s&&await s(_)}}),await r([new Map([...f].map(([w,x])=>[w,Oi(x,i.schema,n.collectionName)])),p])}catch(b){console.error(b),s&&await s(b)}return m})();return async()=>{(await h)()}}function xY(e,t,n,r,s,i={}){return R4(e,t,n,([u])=>r(u),s,i)}function SY(e,t,n,r,s,i={}){const o=(async()=>{let a=new Map;try{if(i.stateVector&&i.stateVector.size>0){const l=await aY(t,i.stateVector);a=(await nS(e,t,n,l,cr(),i)).reduce((h,f)=>(h.has(f.id)?h.get(f.id).push(f):h.set(f.id,[f]),h),new Map)}else a=(await $s(e,t,n,cr(),{schema:i.schema,stateVector:i.stateVector,cache:i.cache})).triples;const c=t.onWrite(async l=>{const d=Object.values(l).flatMap(p=>p.inserts),f=(await nS(e,t,n,d,cr(),i)).reduce((p,m)=>(p.has(m.id)?p.get(m.id).push(m):p.set(m.id,[m]),p),new Map);f.size>0&&r(f)});return await r(a),c}catch(c){console.error(c),s&&await s(c)}return()=>{}})();return async()=>{(await o)()}}function AY(e,t,n){var s;let r={};if(t){const i=(s=t[n])==null?void 0:s.schema;r={...Object.entries(i.properties).reduce((o,[a,c])=>(c.type==="query"||(o[a]=void 0),o),{}),...Oi(e,t,n)}}else r={...ln(e,!0)};return r._collection=n,r}function _Y(e){return(t,n)=>{const r=n.split("."),s=r.pop();let i=t,u=e;for(const o of r)i[o]=i[o]??{},i=i[o],u=e[o][0];return i[s]=u[s],t}}async function aw(e,t,n,r,s){const i=(n.where??[]).filter(ji);for(const a of i){const[c,l,d]=a;Ca(d)&&await TY(d,e,t,r,s)}const u=k4(n,{systemVars:e.systemVars,roles:e.sessionRoles},r),o=n.where?C4(n.where,u):void 0;return{...n,where:o}}function k4(e,t,n){var i,u,o,a,c;const r={...((i=t.systemVars)==null?void 0:i.global)??{},...((u=t.systemVars)==null?void 0:u.session)??{},...e.vars??{},...((n==null?void 0:n.queriedDataStack)??[]).reduce((l,d)=>({...l,...d}),{})},s={global:((o=t.systemVars)==null?void 0:o.global)??{},session:((a=t.systemVars)==null?void 0:a.session)??{},query:e.vars??{},role:e.collectionName==="_metadata"||(c=t.roles)==null?void 0:c.reduce((l,d)=>({...l,...d.roleVars}),{}),...((n==null?void 0:n.queriedDataStack)??[]).reduce((l,d,h,f)=>({...l,[f.length-h]:d}),{})};return{...r,...s}}async function TY(e,t,n,r,s){if(!s.schema)return;const[i,u]=cw(e),o=parseInt(i??"");if(!isNaN(o)){const a=r.queriedDataStack.length-o,c=r.queriedDataStack[a],l=E4(u,s.schema,c._collection),d=Object.entries(l);if(d.length>0){const h=d.at(0),p=d.at(-1)[0],m=h[1],b=p.split(".");if(m.cardinality!=="one")throw new L('Cannot load variables with cardinality "many"');const y=b.slice(1).reverse().reduce((v,_)=>({[_]:v}),null);let w={...m.query};y!==null&&(w.include=y);const{results:x}=await ua(t,n,{collectionName:c._collection},w,m.cardinality,cr(),s,c);c[b[0]]=ln(x)}}}function Oi(e,t,n){var i;const r=ln(e);delete r._collection;const s=(i=t==null?void 0:t[n])==null?void 0:i.schema;return s?s.convertDBValueToJS(r,t):r}const tl="#";function EY(e){if(!e)return new Ax(e,"id cannot be undefined.");if(String(e).includes(tl))return new Ax(e,`Id cannot include ${tl}.`)}function Zt(e,t){return`${e}${tl}${t}`}function sr(e){const t=e.split(tl);if(t.length!==2)throw new h$(`Malformed ID: ${e} should only include one separator(${tl})`);return[t[0],t[1]]}function So(e){const[t,n]=sr(e);return n}function C4(e,t){return e.map(n=>{if(ms(n))return{...n,filters:C4(n.filters,t)};if(ji(n)){const r=OY(n[2],t);return[n[0],n[1],r]}return n})}function OY(e,t={}){if(!Ca(e))return e;const[n,r]=cw(e);if(n){const s=t[n],i=r.split(".");let u=s;for(const o of i){if(u==null)throw new Sx(e);u=u[o]}return u}else{if(r in t)return t[r];throw new Sx(e)}}function*D4(e){for(const t of e)ms(t)?yield*D4(t.filters):yield t}function IY(e,t){for(const n of D4(e))if(t(n))return!0;return!1}async function M4(e){return e.findByEntity(Zt("_metadata","_schema"))}async function Ym(e){const t=await M4(e);return{schema:t.length>0?ZY(t):void 0,schemaTriples:t}}async function NY(e,t){if(!t)return{successful:!1,issues:[]};const n=await e.transact(async r=>{const s=await r.getSchema();let i=[];if(s){const l=yK(s,t);if(l.length===0)return{successful:!0,issues:i};if(i=await SK(r,l),i.length>0&&i.some(d=>d.violatesExistingData))return{successful:!1,issues:i};l.length>0&&e.logger.info(`applying ${l.length} changes to schema`)}const u=await r.storeTx.findByEntity(Zt("_metadata","_schema"));await r.storeTx.deleteTriples(u);const o=YY(t),a=await r.storeTx.clock.getNextTimestamp(),c=o.map(([l,d,h])=>({id:l,attribute:d,value:h,timestamp:a,expired:!1}));return await r.storeTx.insertTriples(c),{successful:!0,issues:i}},{dangerouslyBypassSchemaInitialization:!0});return(n==null?void 0:n.output)??{successful:!1,issues:[]}}function RY(e,t,n){const r=n??console,s=`Found ${t.length} backwards incompatible schema changes.`;t.length>0?r.warn(s):r.info(s),e?r.info("Schema update successful"):(r.error("Schema update failed. Please resolve the following issues:"),t.filter(o=>o.violatesExistingData).reduce((o,a)=>{const c=a.context.collection,l=o.get(c)??[];return o.set(c,[...l,a]),o},new Map).forEach((o,a)=>{r.error(`
Collection: '${a}'`),o.forEach(({issue:c,violatesExistingData:l,context:d,cure:h})=>{l&&r.error(`	'${d.attribute.join(".")}'
		Issue: ${c}
		Fix:   ${h}`)})}),r.info(""))}function kY(e,t,n){var a;if(e==null)throw new w$("Unable to run triple validation due to missing schema. This is unexpected and likely a bug.");const[r,...s]=t;if(r==="_collection"||r==="_metadata")return;const i=e[r];if(!i)throw new pc(r,e);const u=Ro(i.schema,s);if(n==="{}"&&["record","set"].includes(u.type))return;const o=op.includes(u.type);if(!(!o&&["record","set"].includes(u.type)&&((a=u.options)==null?void 0:a.nullable)===!0&&n===null)){if(!o)throw new ur(s,"Cannot set a non-value type to a value. For example, you may be attempting to set a value on a record type.");if(!u.validateTripleValue(n))throw new y$(r,t,n)}}function P4(e,t,n){return e.forEach((r,s)=>{e.set(s,Oi(r,t,n))}),e}function Ca(e){return typeof e=="string"&&e.startsWith("$")}function sS(e){if(!Ca(e))return!1;const[t,n]=cw(e);return t===void 0&&n!=="SESSION_USER_ID"?!0:!isNaN(parseInt(t??""))}const CY=["global","session","role","query"];function cw(e){const t=e.slice(1).split(".");if(t.length<1)throw new L(`Invalid variable: ${e}`);return t.length===1?[void 0,t[0]]:DY(t[0])?[t[0],t.slice(1).join(".")]:[void 0,t.join(".")]}function DY(e){return CY.includes(e??"")||!isNaN(parseInt(e??""))}let nl=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,n)=>(n&=63,n<36?t+=n.toString(36):n<62?t+=(n-26).toString(36).toUpperCase():n>62?t+="-":t+="_",t),"");function Qp(e,t,n){return`Expected a ${e} value${t.nullable?" or null":""}, but got ${typeof n} instead.`}const MY=["=","!=","like","nlike","in","nin"];function Zm(e={}){if(e&&!Xp(e))throw new ap(e);return{type:"string",supportedOperations:MY,context:{},options:e,toJSON(){return{type:this.type,options:this.options}},convertInputToDBValue(t){const n=this.validateInput(t);if(n)throw new Ta("string",t,n);return t},convertDBValueToJS(t){return t},convertJSONToJS(t){if(e.nullable&&t===null)return null;if(typeof t!="string")throw new Ea("string",t);return t},convertJSToJSON(t){return t},defaultInput(){return Kp(e)},validateInput(t){if(!(e.nullable&&t===null)){if(typeof t!="string")return Qp("string",e,t);if(e.enum&&!e.enum.includes(t))return PY(e.enum,t)}},validateTripleValue(t){return typeof t=="string"&&(!e.enum||e.enum.includes(t))||!!e.nullable&&t===null},fromString(t){return t}}}function PY(e,t){return`Expected a value in the enum [${e.join(", ")}], but got ${t} instead.`}const jY=/t|\s/i;function LY(e){const t=e.split(jY);return t.length===2&&qY(t[0])&&VY(t[1],!0)}function FY(e){return e%4===0&&(e%100!==0||e%400===0)}const BY=/^[\+\-]?([\d]{4,6})-(\d\d)-(\d\d)$/,UY=[0,31,28,31,30,31,30,31,31,30,31,30,31];function qY(e){const t=BY.exec(e);if(!t)return!1;const n=+t[1],r=+t[2],s=+t[3];return r>=1&&r<=12&&s>=1&&s<=(r===2&&FY(n)?29:UY[r])}const $Y=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function VY(e,t){const n=$Y.exec(e);if(!n)return!1;const r=+n[1],s=+n[2],i=+n[3],u=n[5];return(r<=23&&s<=59&&i<=59||r===23&&s===59&&i===60)&&(!t||u!=="")}const zY=["=","!=","<",">","<=",">="];function j4(e={}){if(!Xp(e))throw new ap(e);return{type:"date",supportedOperations:zY,context:{},options:e,toJSON(){return{type:this.type,options:this.options}},convertInputToDBValue(t){const n=this.validateInput(t);if(n)throw new Ta("date",t,n);return t?new Date(t).toISOString():null},convertDBValueToJS(t){return t?new Date(t):null},convertJSONToJS(t){if(e.nullable&&t===null)return null;if(typeof t!="string")throw new Ea("date",t);return new Date(t)},convertJSToJSON(t){return t===null?t:t.toISOString()},defaultInput(){const t=Kp(e);return t==null?t:new Date(t)},validateInput(t){const n=t instanceof Date&&!Number.isNaN(t.getTime()),r=typeof t=="string"&&!Number.isNaN(Date.parse(t)),s=e.nullable&&t===null;if(!(n||r||s))return Qp("date",e,t)},validateTripleValue(t){return e.nullable&&t===null?!0:typeof t!="string"?!1:LY(t)},fromString(t){return new Date(t)}}}function L4(e){const t=(Object.entries(e).filter(([r,s])=>!!s.context.optional).map(([r,s])=>r)||[]).sort();function n(r){return t.includes(r)}return{type:"record",supportedOperations:[],context:{},properties:e,optional:t,toJSON(){const r=Object.fromEntries(Object.entries(e).map(([i,u])=>[i,u.toJSON()])),s={type:this.type,properties:r};return t.length>0&&(s.optional=t),s},convertInputToDBValue(r){const s=this.validateInput(r);if(s)throw new Ta("record",JSON.stringify(r),s);return Object.fromEntries(Object.entries(e).filter(([i,u])=>{const o=u.type==="query",a=n(i)&&r[i]===void 0;return!o&&!a}).map(([i,u])=>[i,u.convertInputToDBValue(r[i])]))},convertDBValueToJS(r,s){const i={};for(const u in r)if(Object.prototype.hasOwnProperty.call(r,u)){const o=r[u];if(o===void 0)continue;if(!e[u]){i[u]=o;continue}i[u]=e[u].convertDBValueToJS(o,s)}return i},convertJSONToJS(r,s){if(typeof r!="object")throw new Ea("record",r);return Object.fromEntries(Object.entries(r).map(([i,u])=>{const o=e[i];if(!o)throw new L(`Invalid property ${i} for record`);return[i,o.convertJSONToJS(u,s)]}))},convertJSToJSON(r,s){return Object.fromEntries(Object.entries(e).filter(([i,u])=>!(n(i)&&r[i]===void 0)).map(([i,u])=>[i,u.convertJSToJSON(r[i],s)]))},defaultInput(){if(!this.context.optional)return Object.fromEntries(Object.entries(e).map(([r,s])=>[r,s.defaultInput()]).filter(([r,s])=>s!==void 0))},validateInput(r){if(r===null)return"value cannot be null";if(typeof r!="object")return"value must be an object";const s=Object.entries(e).filter(([o,a])=>!n(o)&&a.type!=="query"&&a.defaultInput()===void 0),i=new Set(Object.keys(r)),u=s.filter(([o,a])=>!i.has(o)).map(([o,a])=>o);if(u.length>0)return`missing properties: ${u.join(", ")}`;for(const o in r)if(e[o]){const a=e[o];if(n(o)&&r[o]===void 0)continue;const c=a.validateInput(r[o]);if(c)return`invalid value for ${o} (${c})`}else return`invalid property ${o}`},validateTripleValue(r){return!0}}}const HY=["=","!=","<",">","<=",">=","in","nin"];function F4(e={}){if(e&&!Xp(e))throw new ap(e);return{type:"number",supportedOperations:HY,context:{},options:e,toJSON(){return{type:this.type,options:this.options}},convertInputToDBValue(t){const n=this.validateInput(t);if(n)throw new Ta("number",t,n);return t},convertDBValueToJS(t){return t},convertJSONToJS(t){if(e.nullable&&t===null)return null;if(typeof t!="number")throw new Ea("number",t);return t},convertJSToJSON(t){return t},defaultInput(){return Kp(e)},validateInput(t){if(!(typeof t=="number"||e.nullable&&t===null))return Qp("number",e,t)},validateTripleValue(t){return typeof t=="number"||!!e.nullable&&t===null},fromString(t){return parseFloat(t)}}}const GY=["=","!="];function lw(e={}){if(!Xp(e))throw new ap(e);return{type:"boolean",supportedOperations:GY,context:{},options:e,toJSON(){return{type:this.type,options:this.options}},convertInputToDBValue(t){const n=this.validateInput(t);if(n)throw new Ta("boolean",t,n);return t},convertDBValueToJS(t){return t},convertJSONToJS(t){if(e.nullable&&t===null)return null;if(typeof t!="boolean")throw new Ea("boolean",t);return t},convertJSToJSON(t){return t},defaultInput(){return Kp(e)},validateInput(t){if(!(typeof t=="boolean"||e.nullable&&t===null))return Qp("boolean",e,t)},validateTripleValue(t){return typeof t=="boolean"||!!e.nullable&&t===null},fromString(t){return t==="true"}}}const JY=["=","!=","has","!has"];function B4(e,t={}){var n;if(!op.includes(e.type))throw new v$(e.type);if((n=e.options)!=null&&n.nullable)throw new k$("Set types cannot contain nullable types");return{type:"set",supportedOperations:JY,context:{},items:e,options:t,toJSON(){return{type:this.type,items:this.items.toJSON(),options:this.options}},convertInputToDBValue(r){const s=this.validateInput(r);if(s)throw new Ta(`set<${e.type}>`,r,s);return t.nullable&&r===null?null:[...r.values()].reduce((i,u)=>({...i,[u]:!0}),{})},convertJSONToJS(r){if(t.nullable&&r===null)return null;if(!Array.isArray(r))throw new Ea(`set<${this.items.type}>`,r);return new Set(r)},defaultInput(){if(!this.context.optional)return new Set},convertDBValueToJS(r){return t.nullable&&r===null?null:new Set(Object.entries(r).filter(([s,i])=>!!i).map(([s,i])=>this.items.fromString(s)))},convertJSToJSON(r){if(t.nullable&&r===null)return null;if(!(r instanceof Set)&&!(r instanceof Array))throw new C$(`set<${this.items.type}>`,r);return[...r.values()]},validateInput(r){if(t.nullable===!0&&r===null)return;if(!(r instanceof Set)&&!(r instanceof Array))return`Expected Set, got ${WY(r)}`;const s=Array.from(r.values());if(s.includes(null))return"Set cannot contain null values";const i=s.reduce((u,o)=>{if(u)return u;const a=this.items.validateInput(o);if(a)return[o,a]},void 0);if(i)return`Invalid value ${i[0]} for set<${e.type}>. Reason: ${i[1]}.`},validateTripleValue(r){throw new RT("Set validation")}}}function WY(e){return e===null?"null":Array.isArray(e)?"array":e instanceof Set?"set":e instanceof Map?"map":typeof e}class QY{constructor(t,n,r){R(this,"changeTracker");R(this,"prefix");R(this,"schema");this.changeTracker=t,this.prefix=n,this.schema=r}add(t){const n=this.schema.items.convertInputToDBValue(t);this.changeTracker.set([...this.prefix.split("/"),n].join("/"),!0)}clear(){U4(this.changeTracker,this.prefix).forEach(n=>{this.changeTracker.set([...this.prefix.split("/"),n].join("/"),!1)})}delete(t){const n=this.schema.items.convertInputToDBValue(t);this.changeTracker.get([...this.prefix.split("/"),n].join("/"))&&this.changeTracker.set([...this.prefix.split("/"),n].join("/"),!1)}}function U4(e,t){const n=e.get(t);if(!n)return new Set;const r=Object.entries(n).filter(([s,i])=>!!i).map(([s,i])=>s);return new Set(r)}function XY(e,t,n){const r=U4(e,t),s=new Set([...r].map(u=>n.items.convertDBValueToJS(u))),i=new QY(e,t,n);return new Proxy(s,{get(u,o){return typeof u[o]=="function"?function(...a){return i[o]&&i[o](...a),u[o](...a)}:Reflect.get(u,o)}})}function ec(e,t="many"){return{type:"query",supportedOperations:[],context:{},cardinality:t,query:e,toJSON(){return{type:this.type,query:e,cardinality:t}},convertInputToDBValue(n){throw new L("Invalid Operation - Inserting relational data is not supported")},convertDBValueToJS(n,r){var i;if(!r)throw new L("A schema is required to convert DB value to JS");const s=(i=r==null?void 0:r[e.collectionName])==null?void 0:i.schema;if(!s)throw new pc(e.collectionName,r);if(!n)return n;if(t==="one")return s.convertDBValueToJS(n,r);if(t==="many")return new Map(Array.from(n.entries()).map(([u,o])=>[u,s.convertDBValueToJS(o,r)]));throw new rg(t)},convertJSONToJS(n,r){var i;if(!r)throw new L("A schema is required to convert JSON value to JS");const s=(i=r==null?void 0:r[e.collectionName])==null?void 0:i.schema;if(!s)throw new pc(e.collectionName,r);if(!n)return n;if(t==="one")return s.convertJSONToJS(n,r);if(t==="many")return new Map(n.map(([u,o])=>[u,s.convertJSONToJS(o,r)]));throw new rg(t)},convertJSToJSON(n,r){var i;if(!r)throw new L("A schema is required to convert JSON value to JS");const s=(i=r==null?void 0:r[e.collectionName])==null?void 0:i.schema;if(!s)throw new pc(e.collectionName,r);if(!n)return n;if(t==="one")return s.convertJSToJSON(n,r);if(t==="many")return Array.from(n.entries()).map(([u,o])=>[u,s.convertJSToJSON(o,r)]);throw new rg(t)},defaultInput(){},validateInput(n){},validateTripleValue(n){return!1}}}function Xp(e){return pK(d$,e)}Ze.Readonly(Ze.Tuple([Ze.Number(),Ze.String()]));function Kp(e){let t=e.default;if(t!==void 0){if(typeof t!="object"||t===null)return t;{const{args:n,func:r}=t;if(r==="uuid")return n&&typeof n[0]=="number"?nl(n[0]):nl();if(r==="now")return new Date().toISOString()}}}function Xd(e,t={}){if(!e)throw new E$("Failed to parse this schema definition from its serialized form because it is undefined.");let n;switch(e.type){case"string":n=Zm(e.options);break;case"number":n=F4(e.options);break;case"boolean":n=lw(e.options);break;case"date":n=j4(e.options);break;case"set":n=B4(Xd(e.items),e.options);break;case"query":n=ec(e.query,e.cardinality);break;case"record":const r=e.optional||[];n=L4(Object.fromEntries(Object.entries(e.properties).map(([s,i])=>[s,Xd(i,{optional:r.includes(s)})])));break;default:throw new O$(e.type)}for(const r in t)n.context[r]=t[r];return n}function Ro(e,t){if(t.length===0)throw new ur([]);let n=e.properties[t[0]];if(!n)throw new ur(t);for(let r=1;r<t.length;r++){if(!n)throw new ur(t);if(n.type==="query")return n;if(n.type==="set")n=lw();else if(n.type==="record"){const s=t[r];n=n.properties[s]}else throw new ur(t)}if(!n)throw new ur(t);return n}function q4(e,t,n){let r=0,s=Yp(t,n);return{next(){if(r>=e.length)return{done:!0,value:s.current};const u=e[r];return s=s.get(u),r++,{done:!1,value:s.current}},[Symbol.iterator](){return this}}}function Yp(e,t){var s,i;let n=(s=e[t])==null?void 0:s.schema;const r=u=>{let o=n;if((n==null?void 0:n.type)==="record")o=n.properties[u];else if((n==null?void 0:n.type)==="query"){const{query:a}=n;return Yp(e,a.collectionName).get(u)}else o=void 0;return n=o,{get:r,current:n}};return{get:r,current:(i=e[t])==null?void 0:i.schema}}function oa(e,t,n){let r=q4(e,t,n),s=r.next();for(;!s.done;)s=r.next();return s.value}function KY(e,t){return t?t.convertInputToDBValue(e):e}function $4(e){return Object.fromEntries(Object.entries(e).map(([t,n])=>[t,{...n,schema:Xd(n.schema)}]))}function YY(e){const t=fw(e),n=cp(t),r=Zt("_metadata","_schema");return[[r,["_collection"],"_metadata"],[r,["_metadata","id"],"_schema"],...n.map(u=>[r,["_metadata",...u[0]],u[1]])]}function ZY(e){const t=sa(e,Zt("_metadata","_schema"));if(t)return eb(t.data)}function eb(e){const t=ln(e);delete t._collection,delete t.id;const n=t.version||0,r=t.collections||{};return eZ({...t,version:n,collections:r})}function eZ(e){if(!e)return;const t=$4(e.collections);return{...e,version:e.version,collections:t}}function fw(e){if(!e)return;const t={};for(const[n,r]of Object.entries(e.collections)){const s=tZ(r);t[n]=s}return{...e,version:e.version,collections:t}}function tZ(e){const t=e.rules?{rules:e.rules}:{},n=e.permissions?{permissions:e.permissions}:{};return{schema:e.schema.toJSON(),...t,...n}}function nZ(e){return e.schema.defaultInput()}function rZ(e){if(!e)return;const n=lo(e).map(r=>JSON.stringify(r)).sort().join("");return sZ(n)}function sZ(e,t=31,n=1000000009){let r=0;for(let s=0;s<e.length;s++)r=(r*t+e.charCodeAt(s))%n;return r}var Zp={},Pr={},iZ=U&&U.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(r[i]=s[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Pr,"__esModule",{value:!0});Pr.EmptyBTree=Pr.asSet=Pr.simpleComparator=Pr.defaultComparator=void 0;function V4(e,t){if(Number.isFinite(e)&&Number.isFinite(t))return e-t;var n=typeof e,r=typeof t;if(n!==r)return n<r?-1:1;if(n==="object"){if(e===null)return t===null?0:-1;if(t===null)return 1;if(e=e.valueOf(),t=t.valueOf(),n=typeof e,r=typeof t,n!==r)return n<r?-1:1}return e<t?-1:e>t?1:e===t?0:Number.isNaN(e)?Number.isNaN(t)?0:-1:Number.isNaN(t)?1:Array.isArray(e)?0:Number.NaN}Pr.defaultComparator=V4;function uZ(e,t){return e>t?1:e<t?-1:0}Pr.simpleComparator=uZ;var bs=function(){function e(t,n,r){this._root=pg,this._size=0,this._maxNodeSize=r>=4?Math.min(r,256):32,this._compare=n||V4,t&&this.setPairs(t)}return Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this._size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isEmpty",{get:function(){return this._size===0},enumerable:!1,configurable:!0}),e.prototype.clear=function(){this._root=pg,this._size=0},e.prototype.forEach=function(t,n){var r=this;return n!==void 0&&(t=t.bind(n)),this.forEachPair(function(s,i){return t(i,s,r)})},e.prototype.forEachPair=function(t,n){var r=this.minKey(),s=this.maxKey();return this.forRange(r,s,!0,t,n)},e.prototype.get=function(t,n){return this._root.get(t,n,this)},e.prototype.set=function(t,n,r){this._root.isShared&&(this._root=this._root.clone());var s=this._root.set(t,n,r,this);return s===!0||s===!1?s:(this._root=new aZ([this._root,s]),!0)},e.prototype.has=function(t){return this.forRange(t,t,!0,void 0)!==0},e.prototype.delete=function(t){return this.editRange(t,t,!0,iS)!==0},e.prototype.with=function(t,n,r){var s=this.clone();return s.set(t,n,r)||r?s:this},e.prototype.withPairs=function(t,n){var r=this.clone();return r.setPairs(t,n)!==0||n?r:this},e.prototype.withKeys=function(t,n){for(var r=this.clone(),s=!1,i=0;i<t.length;i++)s=r.set(t[i],void 0,!1)||s;return n&&!s?this:r},e.prototype.without=function(t,n){return this.withoutRange(t,t,!0,n)},e.prototype.withoutKeys=function(t,n){var r=this.clone();return r.deleteKeys(t)||!n?r:this},e.prototype.withoutRange=function(t,n,r,s){var i=this.clone();return i.deleteRange(t,n,r)===0&&s?this:i},e.prototype.filter=function(t,n){var r=this.greedyClone(),s;return r.editAll(function(i,u,o){if(!t(i,u,o))return s=H4}),!s&&n?this:r},e.prototype.mapValues=function(t){var n={},r=this.greedyClone();return r.editAll(function(s,i,u){return n.value=t(i,s,u),n}),r},e.prototype.reduce=function(t,n){for(var r=0,s=n,i=this.entries(this.minKey(),Ga),u;!(u=i.next()).done;)s=t(s,u.value,r++,this);return s},e.prototype.entries=function(t,n){var r=this.findPath(t);if(r===void 0)return oo();var s=r.nodequeue,i=r.nodeindex,u=r.leaf,o=n!==void 0?1:0,a=t===void 0?-1:u.indexOf(t,0,this._compare)-1;return oo(function(){e:for(;;)switch(o){case 0:if(++a<u.keys.length)return{done:!1,value:[u.keys[a],u.values[a]]};o=2;continue;case 1:if(++a<u.keys.length)return n[0]=u.keys[a],n[1]=u.values[a],{done:!1,value:n};o=2;case 2:for(var c=-1;;){if(++c>=s.length){o=3;continue e}if(++i[c]<s[c].length)break}for(;c>0;c--)s[c-1]=s[c][i[c]].children,i[c-1]=0;u=s[0][i[0]],a=-1,o=n!==void 0?1:0;continue;case 3:return{done:!0,value:void 0}}})},e.prototype.entriesReversed=function(t,n,r){if(t===void 0&&(t=this.maxKey(),r=void 0,t===void 0))return oo();var s=this.findPath(t)||this.findPath(this.maxKey()),i=s.nodequeue,u=s.nodeindex,o=s.leaf;Nn(!i[0]||o===i[0][u[0]],"wat!");var a=o.indexOf(t,0,this._compare);!r&&a<o.keys.length&&this._compare(o.keys[a],t)<=0&&a++;var c=n!==void 0?1:0;return oo(function(){e:for(;;)switch(c){case 0:if(--a>=0)return{done:!1,value:[o.keys[a],o.values[a]]};c=2;continue;case 1:if(--a>=0)return n[0]=o.keys[a],n[1]=o.values[a],{done:!1,value:n};c=2;case 2:for(var l=-1;;){if(++l>=i.length){c=3;continue e}if(--u[l]>=0)break}for(;l>0;l--)i[l-1]=i[l][u[l]].children,u[l-1]=i[l-1].length-1;o=i[0][u[0]],a=o.keys.length,c=n!==void 0?1:0;continue;case 3:return{done:!0,value:void 0}}})},e.prototype.findPath=function(t){var n=this._root,r,s;if(n.isLeaf)r=uS,s=uS;else{r=[],s=[];for(var i=0;!n.isLeaf;i++){if(r[i]=n.children,s[i]=t===void 0?0:n.indexOf(t,0,this._compare),s[i]>=r[i].length)return;n=r[i][s[i]]}r.reverse(),s.reverse()}return{nodequeue:r,nodeindex:s,leaf:n}},e.prototype.diffAgainst=function(t,n,r,s){if(t._compare!==this._compare)throw new Error("Tree comparators are not the same.");if(this.isEmpty||t.isEmpty)return this.isEmpty&&t.isEmpty?void 0:this.isEmpty?r===void 0?void 0:e.stepToEnd(e.makeDiffCursor(t),r):n===void 0?void 0:e.stepToEnd(e.makeDiffCursor(this),n);for(var i=this._compare,u=e.makeDiffCursor(this),o=e.makeDiffCursor(t),a=!0,c=!0,l=e.compare(u,o,i);a&&c;){var d=e.compare(u,o,i),h=u.leaf,f=u.internalSpine,p=u.levelIndices,m=o.leaf,b=o.internalSpine,y=o.levelIndices;if(h||m){if(l!==0){if(d===0){if(h&&m&&s){var w=h.values[p[p.length-1]],x=m.values[y[y.length-1]];if(!Object.is(w,x)){var v=s(u.currentKey,w,x);if(v&&v.break)return v.break}}}else if(d>0){if(m&&r){var _=m.values[y[y.length-1]],v=r(o.currentKey,_);if(v&&v.break)return v.break}}else if(n&&h&&l!==0){var w=h.values[p[p.length-1]],v=n(u.currentKey,w);if(v&&v.break)return v.break}}}else if(!h&&!m&&d===0){var T=f.length-1,$=b.length-1,z=f[T][p[T]],W=b[$][y[$]];if(W===z){l=0,a=e.step(u,!0),c=e.step(o,!0);continue}}l=d,d<0?a=e.step(u):c=e.step(o)}if(a&&n)return e.finishCursorWalk(u,o,i,n);if(c&&r)return e.finishCursorWalk(o,u,i,r)},e.finishCursorWalk=function(t,n,r,s){var i=e.compare(t,n,r);if(i===0){if(!e.step(t))return}else i<0&&Nn(!1,"cursor walk terminated early");return e.stepToEnd(t,s)},e.stepToEnd=function(t,n){for(var r=!0;r;){var s=t.leaf,i=t.levelIndices,u=t.currentKey;if(s){var o=s.values[i[i.length-1]],a=n(u,o);if(a&&a.break)return a.break}r=e.step(t)}},e.makeDiffCursor=function(t){var n=t._root,r=t.height;return{height:r,internalSpine:[[n]],levelIndices:[0],leaf:void 0,currentKey:n.maxKey()}},e.step=function(t,n){var r=t.internalSpine,s=t.levelIndices,i=t.leaf;if(n===!0||i){var u=s.length;if(n===!0||s[u-1]===0){var o=r.length;if(o===0)return!1;for(var a=o-1,c=a;c>=0;){if(s[c]>0)return c<u-1&&(t.leaf=void 0,s.pop()),c<a&&(t.internalSpine=r.slice(0,c+1)),t.currentKey=r[c][--s[c]].maxKey(),!0;c--}return!1}else{var l=--s[u-1];return t.currentKey=i.keys[l],!0}}else{var d=r.length,h=d-1,f=r[h][s[h]];if(f.isLeaf){t.leaf=f;var l=s[d]=f.values.length-1;t.currentKey=f.keys[l]}else{var p=f.children;r[d]=p;var m=p.length-1;s[d]=m,t.currentKey=p[m].maxKey()}return!0}},e.compare=function(t,n,r){var s=t.height,i=t.currentKey,u=t.levelIndices,o=n.height,a=n.currentKey,c=n.levelIndices,l=r(a,i);if(l!==0)return l;var d=s<o?s:o,h=u.length-(s-d),f=c.length-(o-d);return h-f},e.prototype.keys=function(t){var n=this.entries(t,Ga);return oo(function(){var r=n.next();return r.value&&(r.value=r.value[0]),r})},e.prototype.values=function(t){var n=this.entries(t,Ga);return oo(function(){var r=n.next();return r.value&&(r.value=r.value[1]),r})},Object.defineProperty(e.prototype,"maxNodeSize",{get:function(){return this._maxNodeSize},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this._root.minKey()},e.prototype.maxKey=function(){return this._root.maxKey()},e.prototype.clone=function(){this._root.isShared=!0;var t=new e(void 0,this._compare,this._maxNodeSize);return t._root=this._root,t._size=this._size,t},e.prototype.greedyClone=function(t){var n=new e(void 0,this._compare,this._maxNodeSize);return n._root=this._root.greedyClone(t),n._size=this._size,n},e.prototype.toArray=function(t){t===void 0&&(t=2147483647);var n=this.minKey(),r=this.maxKey();return n!==void 0?this.getRange(n,r,!0,t):[]},e.prototype.keysArray=function(){var t=[];return this._root.forRange(this.minKey(),this.maxKey(),!0,!1,this,0,function(n,r){t.push(n)}),t},e.prototype.valuesArray=function(){var t=[];return this._root.forRange(this.minKey(),this.maxKey(),!0,!1,this,0,function(n,r){t.push(r)}),t},e.prototype.toString=function(){return this.toArray().toString()},e.prototype.setIfNotPresent=function(t,n){return this.set(t,n,!1)},e.prototype.nextHigherPair=function(t,n){return n=n||[],t===void 0?this._root.minPair(n):this._root.getPairOrNextHigher(t,this._compare,!1,n)},e.prototype.nextHigherKey=function(t){var n=this.nextHigherPair(t,Ga);return n&&n[0]},e.prototype.nextLowerPair=function(t,n){return n=n||[],t===void 0?this._root.maxPair(n):this._root.getPairOrNextLower(t,this._compare,!1,n)},e.prototype.nextLowerKey=function(t){var n=this.nextLowerPair(t,Ga);return n&&n[0]},e.prototype.getPairOrNextLower=function(t,n){return this._root.getPairOrNextLower(t,this._compare,!0,n||[])},e.prototype.getPairOrNextHigher=function(t,n){return this._root.getPairOrNextHigher(t,this._compare,!0,n||[])},e.prototype.changeIfPresent=function(t,n){return this.editRange(t,t,!0,function(r,s){return{value:n}})!==0},e.prototype.getRange=function(t,n,r,s){s===void 0&&(s=67108863);var i=[];return this._root.forRange(t,n,r,!1,this,0,function(u,o){return i.push([u,o]),i.length>s?cZ:void 0}),i},e.prototype.setPairs=function(t,n){for(var r=0,s=0;s<t.length;s++)this.set(t[s][0],t[s][1],n)&&r++;return r},e.prototype.forRange=function(t,n,r,s,i){var u=this._root.forRange(t,n,r,!1,this,i||0,s);return typeof u=="number"?u:u.break},e.prototype.editRange=function(t,n,r,s,i){var u=this._root;u.isShared&&(this._root=u=u.clone());try{var o=u.forRange(t,n,r,!0,this,i||0,s);return typeof o=="number"?o:o.break}finally{for(var a=void 0;u.keys.length<=1&&!u.isLeaf;)a||(a=u.isShared),this._root=u=u.keys.length===0?pg:u.children[0];a&&(u.isShared=!0)}},e.prototype.editAll=function(t,n){return this.editRange(this.minKey(),this.maxKey(),!0,t,n)},e.prototype.deleteRange=function(t,n,r){return this.editRange(t,n,r,iS)},e.prototype.deleteKeys=function(t){for(var n=0,r=0;n<t.length;n++)this.delete(t[n])&&r++;return r},Object.defineProperty(e.prototype,"height",{get:function(){for(var t=this._root,n=-1;t;)n++,t=t.isLeaf?void 0:t.children[0];return n},enumerable:!1,configurable:!0}),e.prototype.freeze=function(){var t=this;t.clear=t.set=t.editRange=function(){throw new Error("Attempted to modify a frozen BTree")}},e.prototype.unfreeze=function(){delete this.clear,delete this.set,delete this.editRange},Object.defineProperty(e.prototype,"isFrozen",{get:function(){return this.hasOwnProperty("editRange")},enumerable:!1,configurable:!0}),e.prototype.checkValid=function(){var t=this._root.checkValid(0,this,0);Nn(t===this.size,"size mismatch: counted ",t,"but stored",this.size)},e}();Pr.default=bs;function oZ(e){return e}Pr.asSet=oZ;Symbol&&Symbol.iterator&&(bs.prototype[Symbol.iterator]=bs.prototype.entries);bs.prototype.where=bs.prototype.filter;bs.prototype.setRange=bs.prototype.setPairs;bs.prototype.add=bs.prototype.set;function oo(e){e===void 0&&(e=function(){return{done:!0,value:void 0}});var t={next:e};return Symbol&&Symbol.iterator&&(t[Symbol.iterator]=function(){return this}),t}var z4=function(){function e(t,n){t===void 0&&(t=[]),this.keys=t,this.values=n||Et,this.isShared=void 0}return Object.defineProperty(e.prototype,"isLeaf",{get:function(){return this.children===void 0},enumerable:!1,configurable:!0}),e.prototype.maxKey=function(){return this.keys[this.keys.length-1]},e.prototype.indexOf=function(t,n,r){for(var s=this.keys,i=0,u=s.length,o=u>>1;i<u;){var a=r(s[o],t);if(a<0)i=o+1;else if(a>0)u=o;else{if(a===0)return o;if(t===t)return s.length;throw new Error("BTree: NaN was used as a key")}o=i+u>>1}return o^n},e.prototype.minKey=function(){return this.keys[0]},e.prototype.minPair=function(t){if(this.keys.length!==0)return t[0]=this.keys[0],t[1]=this.values[0],t},e.prototype.maxPair=function(t){if(this.keys.length!==0){var n=this.keys.length-1;return t[0]=this.keys[n],t[1]=this.values[n],t}},e.prototype.clone=function(){var t=this.values;return new e(this.keys.slice(0),t===Et?t:t.slice(0))},e.prototype.greedyClone=function(t){return this.isShared&&!t?this:this.clone()},e.prototype.get=function(t,n,r){var s=this.indexOf(t,-1,r._compare);return s<0?n:this.values[s]},e.prototype.getPairOrNextLower=function(t,n,r,s){var i=this.indexOf(t,-1,n),u=i<0?~i-1:r?i:i-1;if(u>=0)return s[0]=this.keys[u],s[1]=this.values[u],s},e.prototype.getPairOrNextHigher=function(t,n,r,s){var i=this.indexOf(t,-1,n),u=i<0?~i:r?i:i+1,o=this.keys;if(u<o.length)return s[0]=o[u],s[1]=this.values[u],s},e.prototype.checkValid=function(t,n,r){var s=this.keys.length,i=this.values.length;return Nn(this.values===Et?s<=i:s===i,"keys/values length mismatch: depth",t,"with lengths",s,i,"and baseIndex",r),Nn(t==0||s>0,"empty leaf at depth",t,"and baseIndex",r),s},e.prototype.set=function(t,n,r,s){var i=this.indexOf(t,-1,s._compare);if(i<0){if(i=~i,s._size++,this.keys.length<s._maxNodeSize)return this.insertInLeaf(i,t,n,s);var u=this.splitOffRightSide(),o=this;return i>this.keys.length&&(i-=this.keys.length,o=u),o.insertInLeaf(i,t,n,s),u}else return r!==!1&&(n!==void 0&&this.reifyValues(),this.keys[i]=t,this.values[i]=n),!1},e.prototype.reifyValues=function(){return this.values===Et?this.values=this.values.slice(0,this.keys.length):this.values},e.prototype.insertInLeaf=function(t,n,r,s){if(this.keys.splice(t,0,n),this.values===Et){for(;Et.length<s._maxNodeSize;)Et.push(void 0);if(r===void 0)return!0;this.values=Et.slice(0,this.keys.length-1)}return this.values.splice(t,0,r),!0},e.prototype.takeFromRight=function(t){var n=this.values;t.values===Et?n!==Et&&n.push(void 0):(n=this.reifyValues(),n.push(t.values.shift())),this.keys.push(t.keys.shift())},e.prototype.takeFromLeft=function(t){var n=this.values;t.values===Et?n!==Et&&n.unshift(void 0):(n=this.reifyValues(),n.unshift(t.values.pop())),this.keys.unshift(t.keys.pop())},e.prototype.splitOffRightSide=function(){var t=this.keys.length>>1,n=this.keys.splice(t),r=this.values===Et?Et:this.values.splice(t);return new e(n,r)},e.prototype.forRange=function(t,n,r,s,i,u,o){var a=i._compare,c,l;if(n===t){if(!r||(l=(c=this.indexOf(t,-1,a))+1,c<0))return u}else c=this.indexOf(t,0,a),l=this.indexOf(n,-1,a),l<0?l=~l:r===!0&&l++;var d=this.keys,h=this.values;if(o!==void 0)for(var f=c;f<l;f++){var p=d[f],m=o(p,h[f],u++);if(m!==void 0){if(s===!0){if(p!==d[f]||this.isShared===!0)throw new Error("BTree illegally changed or cloned in editRange");m.delete?(this.keys.splice(f,1),this.values!==Et&&this.values.splice(f,1),i._size--,f--,l--):m.hasOwnProperty("value")&&(h[f]=m.value)}if(m.break!==void 0)return m}}else u+=l-c;return u},e.prototype.mergeSibling=function(t,n){if(this.keys.push.apply(this.keys,t.keys),this.values===Et){if(t.values===Et)return;this.values=this.values.slice(0,this.keys.length)}this.values.push.apply(this.values,t.reifyValues())},e}(),aZ=function(e){iZ(t,e);function t(n,r){var s=this;if(!r){r=[];for(var i=0;i<n.length;i++)r[i]=n[i].maxKey()}return s=e.call(this,r)||this,s.children=n,s}return t.prototype.clone=function(){for(var n=this.children.slice(0),r=0;r<n.length;r++)n[r].isShared=!0;return new t(n,this.keys.slice(0))},t.prototype.greedyClone=function(n){if(this.isShared&&!n)return this;for(var r=new t(this.children.slice(0),this.keys.slice(0)),s=0;s<r.children.length;s++)r.children[s]=r.children[s].greedyClone(n);return r},t.prototype.minKey=function(){return this.children[0].minKey()},t.prototype.minPair=function(n){return this.children[0].minPair(n)},t.prototype.maxPair=function(n){return this.children[this.children.length-1].maxPair(n)},t.prototype.get=function(n,r,s){var i=this.indexOf(n,0,s._compare),u=this.children;return i<u.length?u[i].get(n,r,s):void 0},t.prototype.getPairOrNextLower=function(n,r,s,i){var u=this.indexOf(n,0,r),o=this.children;if(u>=o.length)return this.maxPair(i);var a=o[u].getPairOrNextLower(n,r,s,i);return a===void 0&&u>0?o[u-1].maxPair(i):a},t.prototype.getPairOrNextHigher=function(n,r,s,i){var u=this.indexOf(n,0,r),o=this.children,a=o.length;if(!(u>=a)){var c=o[u].getPairOrNextHigher(n,r,s,i);return c===void 0&&u<a-1?o[u+1].minPair(i):c}},t.prototype.checkValid=function(n,r,s){var i=this.keys.length,u=this.children.length;Nn(i===u,"keys/children length mismatch: depth",n,"lengths",i,u,"baseIndex",s),Nn(i>1||n>0,"internal node has length",i,"at depth",n,"baseIndex",s);for(var o=0,a=this.children,c=this.keys,l=0,d=0;d<u;d++)o+=a[d].checkValid(n+1,r,s+o),l+=a[d].keys.length,Nn(o>=l,"wtf",s),Nn(d===0||a[d-1].constructor===a[d].constructor,"type mismatch, baseIndex:",s),a[d].maxKey()!=c[d]&&Nn(!1,"keys[",d,"] =",c[d],"is wrong, should be ",a[d].maxKey(),"at depth",n,"baseIndex",s),d===0||r._compare(c[d-1],c[d])<0||Nn(!1,"sort violation at depth",n,"index",d,"keys",c[d-1],c[d]);var h=l===0;return(h||l>r.maxNodeSize*u)&&Nn(!1,h?"too few":"too many","children (",l,o,") at depth",n,"maxNodeSize:",r.maxNodeSize,"children.length:",u,"baseIndex:",s),o},t.prototype.set=function(n,r,s,i){var u=this.children,o=i._maxNodeSize,a=i._compare,c=Math.min(this.indexOf(n,0,a),u.length-1),l=u[c];if(l.isShared&&(u[c]=l=l.clone()),l.keys.length>=o){var d;c>0&&(d=u[c-1]).keys.length<o&&a(l.keys[0],n)<0?(d.isShared&&(u[c-1]=d=d.clone()),d.takeFromRight(l),this.keys[c-1]=d.maxKey()):(d=u[c+1])!==void 0&&d.keys.length<o&&a(l.maxKey(),n)<0&&(d.isShared&&(u[c+1]=d=d.clone()),d.takeFromLeft(l),this.keys[c]=u[c].maxKey())}var h=l.set(n,r,s,i);if(h===!1)return!1;if(this.keys[c]=l.maxKey(),h===!0)return!0;if(this.keys.length<o)return this.insert(c+1,h),!0;var f=this.splitOffRightSide(),p=this;return a(h.maxKey(),this.maxKey())>0&&(p=f,c-=this.keys.length),p.insert(c+1,h),f},t.prototype.insert=function(n,r){this.children.splice(n,0,r),this.keys.splice(n,0,r.maxKey())},t.prototype.splitOffRightSide=function(){var n=this.children.length>>1;return new t(this.children.splice(n),this.keys.splice(n))},t.prototype.takeFromRight=function(n){this.keys.push(n.keys.shift()),this.children.push(n.children.shift())},t.prototype.takeFromLeft=function(n){this.keys.unshift(n.keys.pop()),this.children.unshift(n.children.pop())},t.prototype.forRange=function(n,r,s,i,u,o,a){var c=u._compare,l=this.keys,d=this.children,h=this.indexOf(n,0,c),f=h,p=Math.min(r===n?h:this.indexOf(r,0,c),l.length-1);if(i){if(f<=p)try{for(;f<=p;f++){d[f].isShared&&(d[f]=d[f].clone());var m=d[f].forRange(n,r,s,i,u,o,a);if(l[f]=d[f].maxKey(),typeof m!="number")return m;o=m}}finally{var b=u._maxNodeSize>>1;for(h>0&&h--,f=p;f>=h;f--)d[f].keys.length<=b&&(d[f].keys.length!==0?this.tryMerge(f,u._maxNodeSize):(l.splice(f,1),d.splice(f,1)));d.length!==0&&d[0].keys.length===0&&Nn(!1,"emptiness bug")}}else for(;f<=p;f++){var m=d[f].forRange(n,r,s,i,u,o,a);if(typeof m!="number")return m;o=m}return o},t.prototype.tryMerge=function(n,r){var s=this.children;return n>=0&&n+1<s.length&&s[n].keys.length+s[n+1].keys.length<=r?(s[n].isShared&&(s[n]=s[n].clone()),s[n].mergeSibling(s[n+1],r),s.splice(n+1,1),this.keys.splice(n+1,1),this.keys[n]=s[n].maxKey(),!0):!1},t.prototype.mergeSibling=function(n,r){var s=this.keys.length;this.keys.push.apply(this.keys,n.keys);var i=n.children;if(this.children.push.apply(this.children,i),n.isShared&&!this.isShared)for(var u=0;u<i.length;u++)i[u].isShared=!0;this.tryMerge(s-1,r)},t}(z4),Et=[],H4={delete:!0},iS=function(){return H4},cZ={break:!0},pg=function(){var e=new z4;return e.isShared=!0,e}(),uS=[],Ga=[];function Nn(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!e)throw t.unshift("B+ tree"),new Error(t.join(" "))}Pr.EmptyBTree=function(){var e=new bs;return e.freeze(),e}();var lZ=U&&U.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Zp,"__esModule",{value:!0});var Kd=Zp.MemoryBTreeStorage=void 0;const gg=lZ(Pr),oS=Pi,mg=Pn,aS=gg.default.default?gg.default.default:gg.default;class fZ{constructor(){this.btree=new aS(void 0,mg.compareTuple)}scan(t){const n=(t==null?void 0:t.gte)??(t==null?void 0:t.gt)??oS.MIN,r=(t==null?void 0:t.lte)??(t==null?void 0:t.lt)??oS.MAX,s=[];return this.btree.forRange(n,r,(t==null?void 0:t.lte)!=null,(i,u,o)=>{if(!(t!=null&&t.gt&&(0,mg.compareTuple)(i,t.gt)===0)&&(s.push({key:i,value:u}),(t==null?void 0:t.reverse)!==!0&&s.length>=((t==null?void 0:t.limit)??1/0)))return{break:!0}}),t!=null&&t.reverse&&s.reverse(),t!=null&&t.limit?s.slice(0,t.limit):s}commit(t){const{set:n,remove:r}=t;for(const s of r||[])this.btree.delete(s);for(const{key:s,value:i}of n||[])this.btree.set(s,i,!0)}close(){}wipe(){this.btree=new aS(void 0,mg.compareTuple)}}Kd=Zp.MemoryBTreeStorage=fZ;const G4=new Set(["_metadata"]);async function Af(e,t,n,r,s){if(!r)return;const[i,u]=sr(n);if(G4.has(i))return;const o=e.db.sessionRoles,a=A4(r.collections,i);if(!a)return;let c=[],l=!1;if(o)for(const f of o){const p=a[f.key],m=p==null?void 0:p[s];m&&m.filter&&(l=!0,Array.isArray(m.filter)&&c.push(...m.filter))}if(!l){if(s==="postUpdate")return;c=[!1]}const d=Mr({collectionName:i,where:[["id","=",u],...c]},r.collections,{roles:e.db.sessionRoles},{skipRules:!0}),{results:h}=await ow(e.db,t,d,cr(),{schema:r.collections});if(!h)throw new _$(i,u,s,o??[])}async function bg(e,t,n,r){var c;const[s,i]=sr(n);if(G4.has(s))return;const u=r==null?void 0:r.collections;if(!u)return;const o=r==null?void 0:r.collections[s];if(!o)return;const a=Object.values(((c=o==null?void 0:o.rules)==null?void 0:c.write)??{});if(a.length){const l=a.flatMap(f=>f.filter),d=Mr({collectionName:s,where:[["id","=",i],...l]},u,{roles:e.db.sessionRoles},{skipRules:!1}),{results:h}=await ow(e.db,t,d,cr(),{schema:u});if(!h)throw new NT("Update does not match write rules")}}function dZ(e){const t=Array.from(ka(e).entries()),n={inserts:[],updates:[],deletes:[]};for(const[r,s]of t){let i="update";"_collection"in s.data&&(s.data._collection[0]===void 0?i="delete":i="insert"),i==="insert"?n.inserts.push([r,s.data]):i==="update"?n.updates.push([r,s.data]):i==="delete"&&n.deletes.push([r,s.data])}return n}async function cS(e,t){const n=Array.from(ka(e).entries()),r={inserts:[],updates:[],deletes:[]};for(const[s,i]of n){let u="update";"_collection"in i.data&&(i.data._collection[0]===void 0?u="delete":u="insert");const o=sa(await t.findByEntity(s),s);if(o)switch(u){case"insert":r.inserts.push([s,ln(o.data)]);break;case"update":r.updates.push([s,ln(o.data)]);break;case"delete":const[a,c]=sr(s);r.deletes.push([s,{id:c,_collection:a,...ln(o.data)}]);break}}return r}class lS{constructor(t,n,r,s={}){R(this,"db");R(this,"storeTx");R(this,"hooks");R(this,"options");R(this,"schema");R(this,"_schema");R(this,"_permissionCache",new Map);R(this,"logger");R(this,"PreWriteCheckPermissions",async(t,n)=>{const r=dZ(t);for(const[s,i]of r.updates)await Af(this,n,s,this.schema,"update")});R(this,"PostCheckWritePermissions",async(t,n)=>{for(const[r,s]of Object.entries(t)){const i=new Set,u=new Set([...s.map(a=>a.id)]),o=new Set;for(const a of s)if(!(o.has(a.id)||i.has(a.id))){if(a.attribute[0]==="_collection"&&a.expired){u.delete(a.id),o.add(a.id);continue}if(a.attribute[0]==="_collection"&&!a.expired){i.add(a.id),u.delete(a.id);continue}}for(const a of u)await bg(this,n,a,this.schema),await Af(this,n,a,this.schema,"postUpdate");for(const a of i)await bg(this,n,a,this.schema),await Af(this,n,a,this.schema,"insert");for(const a of o)await bg(this,this.db.tripleStore,a,this.schema),await Af(this,this.db.tripleStore,a,this.schema,"delete")}});R(this,"ValidateTripleSchema",async t=>{if(this.schema)for(const n of t)n.attribute[0]!=="_metadata"&&n.attribute[0]!=="_collection"&&(n.expired||kY(this.schema.collections,n.attribute,n.value))});R(this,"UpdateLocalSchema",async(t,n)=>{const r=t.filter(({attribute:i})=>i[0]==="_metadata");if(r.length===0)return;if(!this._schema){const{schemaTriples:i}=await Ym(n);r.unshift(...i)}this._schema=this._schema??new qp,Y1(this._schema,r);const s=ln(this._schema.data);this.schema={version:(s==null?void 0:s.version)??0,collections:(s==null?void 0:s.collections)&&$4(s.collections)}});R(this,"CallBeforeCommitDBHooks",async(t,n)=>{var u;if(!(this.hooks.beforeCommit.length>0||this.hooks.beforeInsert.length>0||this.hooks.beforeUpdate.length>0||this.hooks.beforeDelete.length>0)||!((u=t[tc])!=null&&u.length))return;const s=t[tc],i=await cS(s,this.storeTx);if(i.inserts.length)for(const[o,a]of this.hooks.beforeInsert){const c=i.inserts.filter(([l])=>sr(l)[0]===a.collectionName);for(const[l,d]of c)await o({entity:d,tx:this,db:this.db})}if(i.updates.length)for(const[o,a]of this.hooks.beforeUpdate){const c=i.updates.filter(([l])=>sr(l)[0]===a.collectionName);for(const[l,d]of c)await o({entity:d,tx:this,db:this.db})}if(i.deletes.length)for(const[o,a]of this.hooks.beforeDelete){const c=i.deletes.filter(([l])=>sr(l)[0]===a.collectionName);for(const[l,d]of c)await o({entity:d,tx:this,db:this.db})}for(const[o,a]of this.hooks.beforeCommit){const c=i.inserts,l=i.updates,d=i.deletes;!c.length&&!l.length&&!d.length||await o({opSet:{inserts:c,updates:l,deletes:d},tx:this,db:this.db})}});R(this,"CallAfterCommitDBHooks",async(t,n)=>{var u;if(!(this.hooks.afterCommit.length>0||this.hooks.afterInsert.length>0||this.hooks.afterUpdate.length>0||this.hooks.afterDelete.length>0)||!((u=t[tc])!=null&&u.length))return;const s=t[tc],i=await cS(s,this.db.tripleStore);if(i.inserts.length)for(const[o,a]of this.hooks.afterInsert){const c=i.inserts.filter(([l])=>sr(l)[0]===a.collectionName);for(const[l,d]of c)await o({entity:d,tx:this,db:this.db})}if(i.updates.length)for(const[o,a]of this.hooks.afterUpdate){const c=i.updates.filter(([l])=>sr(l)[0]===a.collectionName);for(const[l,d]of c)await o({entity:d,tx:this,db:this.db})}if(i.deletes.length)for(const[o,a]of this.hooks.afterDelete){const c=i.deletes.filter(([l])=>sr(l)[0]===a.collectionName);for(const[l,d]of c)await o({entity:d,tx:this,db:this.db})}for(const[o,a]of this.hooks.afterCommit){const c=i.inserts,l=i.updates,d=i.deletes;!c.length&&!l.length&&!d.length||await o({opSet:{inserts:c,updates:l,deletes:d},tx:this,db:this.db})}});R(this,"METADATA_COLLECTION_NAME","_metadata");this.db=t,this.storeTx=n,this.hooks=r,this.options=s,this.logger=s.logger??t.logger,this.schema=s.schema,this.storeTx.beforeInsert(this.ValidateTripleSchema),s!=null&&s.skipRules||(this.storeTx.beforeInsert(this.PreWriteCheckPermissions),this.storeTx.beforeCommit(this.PostCheckWritePermissions)),this.storeTx.beforeInsert(this.UpdateLocalSchema),this.storeTx.beforeCommit(this.CallBeforeCommitDBHooks),this.storeTx.afterCommit(this.CallAfterCommitDBHooks)}async getSchema(){return this.schema}async commit(){await this.storeTx.commit()}async cancel(){await this.storeTx.cancel()}async insert(t,n){var m;if(!t)throw new kd(t,"Collection name must be defined");if(!n)throw new xx("The document being inserted is undefined");if(typeof n!="object"||Array.isArray(n))throw new xx("The document being inserted must be an object.");this.logger.debug("insert START",t,n);const r=(m=await this.getSchema())==null?void 0:m.collections,s=r==null?void 0:r[t],u={...s?nZ(s):{},...n},o=KY(u,s==null?void 0:s.schema);!s&&o.id===void 0&&(o.id=nl());const a=EY(o.id);if(a)throw a;const c=await this.storeTx.getTransactionTimestamp(),l=cp(o),d=Zt(t,o.id),h=l.map(([b,y])=>({id:d,attribute:[t,...b],value:y,timestamp:c,expired:!1}));h.push({id:d,attribute:["_collection"],value:t,timestamp:c,expired:!1}),await this.storeTx.insertTriples(h);const f=sa(h,d);if(!f)throw new Error("Malformed id");const p=Oi(f.data,r,t);return this.logger.debug("insert END",t,p),p}async update(t,n,r){var i;this.logger.debug("update START",t,n);const s=(i=await this.getSchema())==null?void 0:i.collections;await this.updateRaw(t,n,async u=>{const o=new J4(u),a=t==="_metadata"?Yd(o,u):Yd(o,u,s,t);return await r(a),o.getTuples()}),this.logger.debug("update END",t,n)}async updateRaw(t,n,r){this.logger.debug("updateRaw START");const s=Zt(t,n),i=await this.storeTx.findByEntity(s),u=sa(i,s),o=ln(u.data);if(t!=="_metadata"&&!(o!=null&&o._collection))throw new b$(n,t,"Cannot perform an update on an entity that doesn't exist");const a=await r(o);for(const[l,d]of a)if(l.at(0)==="id")throw new IT(`Attempted to update the id of an entity in the ${t} from ${o.id} to ${d}. The 'id' attribute of an entity is immutable and cannot be updated.`);const c=[];for(let l of a){const[d,h]=l,f=[t,...d];(h===void 0||h==="{}")&&await this.storeTx.expireEntityAttributes([{id:s,attribute:f}]),h!==void 0&&c.push([s,f,h])}await this.storeTx.setValues(c),this.logger.debug("updateRaw END",c)}async delete(t,n){if(!t)throw new kd(t,"Collection name must be defined");this.logger.debug("delete START",t,n);const r=Zt(t,n);await this.storeTx.expireEntity(r),this.logger.debug("delete END",t,n)}async fetch(t,n={}){var u;const r=(u=await this.getSchema())==null?void 0:u.collections,s=Mr(t,r,{roles:this.db.sessionRoles},{skipRules:n.skipRules}),{results:i}=await $s(this.db,this.storeTx,s,cr(),{schema:r});return P4(i,r,s.collectionName)}query(t,n){return T4(t,n)}async fetchById(t,n,r={}){const s=this.query(t).id(n).build();return this.fetchOne(s,r)}async fetchOne(t,n={}){t={...t,limit:1};const s=[...(await this.fetch(t,n)).values()][0];return s||null}async checkOrCreateSchema(){await this.fetchById(this.METADATA_COLLECTION_NAME,"_schema")||await this.insert(this.METADATA_COLLECTION_NAME,{id:"_schema"})}async createCollection(t){await this.checkOrCreateSchema();const{name:n,schema:r,rules:s,optional:i}=t;await this.update(this.METADATA_COLLECTION_NAME,"_schema",async u=>{u.collections||(u.collections={});const o=i?i.slice().sort():void 0,c={schema:Xd({type:"record",properties:r,optional:o}).toJSON()};s&&(c.rules=s),u.collections[n]=c})}async dropCollection(t){const{name:n}=t;await this.update(this.METADATA_COLLECTION_NAME,"_schema",async r=>{r.collections||(r.collections={}),delete r.collections[n]})}async addAttribute(t){const{collection:n,path:r,attribute:s,optional:i}=t;Wa(r),await this.update(this.METADATA_COLLECTION_NAME,"_schema",async u=>{Qa(u.collections,n);const o=r.slice(0,-1),a=r[r.length-1],c=Ja(o,u.collections[n]);fo(c,r),c.properties[a]=s,yg(c,a,i??!1)})}async dropAttribute(t){const{collection:n,path:r}=t;Wa(r),await this.update(this.METADATA_COLLECTION_NAME,"_schema",async s=>{Qa(s.collections,n);const i=r.slice(0,-1),u=r[r.length-1],o=Ja(i,s.collections[n]);fo(o,r),delete o.properties[u],yg(o,u,!1)})}async alterAttributeOption(t){const{collection:n,path:r,options:s}=t;Wa(r),await this.update(this.METADATA_COLLECTION_NAME,"_schema",async i=>{Qa(i.collections,n);const u=r.slice(0,-1),o=r[r.length-1],a=Ja(u,i.collections[n]);fo(a,r);const c=a.properties[o];if(!c)throw new ur(r,"Could not traverse this path");for(const[l,d]of Object.entries(s))c.options||(c.options={}),c.options[l]=d})}async dropAttributeOption(t){const{collection:n,path:r,option:s}=t;Wa(r),await this.update(this.METADATA_COLLECTION_NAME,"_schema",async i=>{Qa(i.collections,n);const u=r.slice(0,-1),o=r[r.length-1],a=Ja(u,i.collections[n]);fo(a,r);const c=a.properties[o];if(!c)throw new ur(r,"Could not traverse this path");c.options&&delete c.options[s]})}async addRule(t){const{collection:n,scope:r,id:s,rule:i}=t;await this.update(this.METADATA_COLLECTION_NAME,"_schema",async u=>{const o=u.collections[n];o.rules||(o.rules={}),o.rules[r]||(o.rules[r]={}),o.rules[r][s]=i})}async dropRule(t){const{collection:n,scope:r,id:s}=t;await this.update(this.METADATA_COLLECTION_NAME,"_schema",async i=>{const u=i.collections[n];delete u.rules[r][s]})}async setAttributeOptional(t){const{collection:n,path:r,optional:s}=t;Wa(r),await this.update(this.METADATA_COLLECTION_NAME,"_schema",async i=>{Qa(i.collections,n);const u=r.slice(0,-1),o=r[r.length-1],a=Ja(u,i.collections[n]);if(fo(a,r),!a.properties[o])throw new ur(r,"Could not traverse this path");yg(a,o,s)})}}function yg(e,t,n){if(!e.optional&&n&&(e.optional=[t]),e.optional)if(!e.optional.includes(t)&&n){const r=[];for(let s=0;s<e.optional.length;s++)r.push(e.optional[s]);e.optional=[...r,t].sort()}else e.optional.includes(t)&&!n&&(e.optional=e.optional.filter(r=>r!==t).sort())}function Ja(e,t){return e.reduce((n,r)=>(fo(n,e),n.properties[r]),t.schema)}function fo(e,t){if(!e)throw new ur(t,"Could not traverse this path");if(!e.properties)throw new ur(t,"This path terminated at a non-record type.")}function Wa(e){if(e.length===0)throw new ur(e,"The provided path is empty. Paths must be at least one level deep.")}function Qa(e,t){const n=e[t];if(!(n!=null&&n.schema))throw new pc(t,e)}class J4{constructor(t){R(this,"tuplesTracker",{});R(this,"changes",{});this.changes=t}set(t,n){eK(this.changes,t,n);const r=cp(n,t.slice(1).split("/"));for(const s of r){const[i,u]=s;this.tuplesTracker[i.join("/")]=u}}delete(t){f4(this.changes,t)}get(t){return rw(this.changes,t)}has(t){return tK(this.changes,t)}getChanges(){return this.changes}getTuples(){return Object.entries(this.tuplesTracker).map(([t,n])=>[t.split("/"),n])}}function Yd(e,t,n,r,s=""){var a;function i(c){const l=[s,c].join("/");return e.set(l,void 0),f4(t,c),!0}const u=(a=n==null?void 0:n[r])==null?void 0:a.schema,o=Oi(t,n,r);return new Proxy(o,{set:(c,l,d)=>{if(typeof l=="symbol")return!0;const h=[s,l].join("/");if(!u)return d===void 0?i(l):(e.set(h,d),!0);const f=h.slice(1).split("/"),p=Ro(u,f);if(!p)throw new T$(h,d);if(p.context.optional&&d===void 0)return i(l);const m=p.convertInputToDBValue(d);return e.set(h,m),!0},deleteProperty:(c,l)=>{if(typeof l=="symbol")return!0;if(u){const h=[s,l].join("/").slice(1).split("/");if(!Ro(u,h).context.optional)throw new IT(`Cannot delete property ${l} because it is not optional. Please mark this property optional in your schema. If the property is nullable you may also set it to null.`)}return i(l)},get:(c,l)=>{if(typeof l=="symbol")return;const d=[s,l].join("/"),h=e.get(d);if(h===void 0)return;if(h===null)return null;const f=u&&Ro(u,d.slice(1).split("/"));return f&&f.type==="set"?XY(e,d,f):typeof h=="object"&&h!==null?Yd(e,h,n,r,d):f?f.convertDBValueToJS(h):h}})}function ko(e,t=[]){const n=e.key.slice(0+((t==null?void 0:t.length)??0)),r=n[0];let s,i,u,o;switch(r){case"EAT":[,s,i,o]=n,u=e.value[0];break;case"AVE":[,i,u,s,o]=n;break;case"clientTimestamp":[,,o,s,i,u]=n;break;default:throw new m$(r)}return{id:s,attribute:i,value:u,timestamp:o,expired:r==="EAT"?e.value[1]:r==="AVE"?!1:e.value.expired}}async function Yl(e,...t){return(await e.scan(...t)).map(ko)}async function W4(e,t,n){return Yl(e,{prefix:["EAT"],gte:[t],lt:[t+ie.MAX],reverse:n==="DESC"})}async function e0(e,[t,n]=[],r){const s={prefix:["EAT"],gte:[t??ie.MIN,n??ie.MIN],lt:[t??ie.MAX,[...n??[],ie.MAX],ie.MAX],reverse:r==="DESC"};return Yl(e,s)}function dw(e,[t,n,r]=[],s){return Yl(e,{prefix:["AVE"],gte:[t??ie.MIN,n??ie.MIN,r??ie.MIN],lt:[[...t??[],...n?[]:[ie.MAX]],n??ie.MAX,ie.MAX],reverse:s==="DESC"})}function Q4(e,t,n={}){const r=["AVE",t],s=5,i=n.greaterThanCursor?n.greaterThanCursor:n.greaterThan?[n.greaterThan,ie.MAX]:void 0,u=n.greaterThanOrEqualCursor?n.greaterThanOrEqualCursor:n.greaterThanOrEqual?[n.greaterThanOrEqual,ie.MIN]:void 0,o=n.lessThanCursor?n.lessThanCursor:n.lessThan?[n.lessThan,ie.MIN]:void 0,a=n.lessThanOrEqualCursor?n.lessThanOrEqualCursor:n.lessThanOrEqual?[n.lessThanOrEqual,ie.MAX]:void 0,c={prefix:r,gt:i&&[...i,...new Array(s-r.length-i.length).fill(ie.MAX)],gte:u&&[...u,...new Array(s-r.length-u.length).fill(ie.MIN)],lt:o&&[...o,...new Array(s-r.length-o.length).fill(ie.MIN)],lte:a&&[...a,...new Array(s-r.length-a.length).fill(ie.MAX)],reverse:n.direction==="DESC"};return Yl(e,c)}async function X4(e,t){return e0(e,[t])}async function K4(e,t,n){return e0(e,[t,n])}async function Y4(e,t){return dw(e,[t])}function Z4(e){const[t,n,...r]=e.key;return[n,r,e.value]}async function eO(e,t,n,r){if(!r&&!n.startsWith("gt"))return[];let s;switch(n){case"lt":s={lt:[r]};break;case"lte":s={lte:[[...r,ie.MAX]]};break;case"gt":s={gt:[[...r??[],ie.MIN]]};break;case"gte":s={gte:[[...r??[]]]};break;case"eq":s={gte:[r],lt:[[...r,ie.MAX]]};break;default:throw new g$(`Cannot perform a scan with direction ${n}.`)}return await Yl(e,{prefix:["clientTimestamp",t],...s})}async function tO(e,t){var r;return(r=(await e.scan({prefix:["clientTimestamp",t],reverse:!0,limit:1}))[0])==null?void 0:r.key[2]}async function nO(e){const t=new Set;let n=ie.MIN;for(;;){const r=await e.scan({prefix:["clientTimestamp"],gt:[n,ie.MAX,ie.MAX,ie.MAX,ie.MAX],limit:1});if(r.length===0)break;const s=r[0],i=s.key[1];if(!i)throw new Error("Empty client ID found in clientTimestamp index");if(t.has(i))throw new Error("Duplicate client ID found in clientTimestamp index");t.add(s.key[1]),n=i}return Array.from(t)}class Zd{constructor({storage:t,storageScope:n,hooks:r,reactivity:s}){R(this,"storageScope");R(this,"storage");R(this,"hooks");R(this,"reactivity");this.storage=t,this.storageScope=n,this.hooks=r??{beforeCommit:[],beforeInsert:[],beforeScan:[],afterCommit:[]},this.reactivity=s??new rO}getStorageClients(t){return t&&this.storageScope&&this.storageScope[t]?this.storageScope[t].map(n=>this.storage[n]):Object.values(this.storage)}getStorageClientsEntries(t){return t&&this.storageScope&&this.storageScope[t]?this.storageScope[t].map(n=>[n,this.storage[n]]):Object.entries(this.storage)}beforeInsert(t){this.hooks.beforeInsert.push(t)}beforeCommit(t){this.hooks.beforeCommit.push(t)}afterCommit(t){this.hooks.afterCommit.push(t)}beforeScan(t){this.hooks.beforeScan.push(t)}async scan(t,n){const r=this.getStorageClients("read"),s=(i,u)=>Ip(i.key,u.key)*(t!=null&&t.reverse?-1:1);return hw(await Promise.all(r.map(i=>i.scan(t,n))),s)}subscribe(t,n){const r=this.getStorageClientsEntries("read").map(([s,i])=>i.subscribe(t,(u,o)=>{const a=this.reactivity.getReactivityId(s,o);if(!a){console.warn("Not tracking reactivity for",s,o);return}this.reactivity.updateCallback(a,n,u,s,o)}));return()=>{Promise.all(r).then(s=>s.forEach(i=>i()))}}async exists(t,n){return(await Promise.all(this.getStorageClients("read").map(r=>r.exists(t,n)))).some(r=>r)}subspace(t){const n=Object.fromEntries(Object.entries(this.storage).map(([r,s])=>[r,s.subspace(t)]));return new Zd({storage:n,storageScope:this.storageScope,hooks:{beforeCommit:[...this.hooks.beforeCommit],beforeInsert:[...this.hooks.beforeInsert],beforeScan:[...this.hooks.beforeScan],afterCommit:[...this.hooks.afterCommit]},reactivity:this.reactivity})}transact(t){return new hZ({scope:t??this.storageScope,store:this,hooks:{beforeCommit:[...this.hooks.beforeCommit],beforeInsert:[...this.hooks.beforeInsert],beforeScan:[...this.hooks.beforeScan],afterCommit:[...this.hooks.afterCommit]}})}async autoTransact(t,n){try{return await ie.transactionalReadWriteAsync(5,{exponentialBackoff:!0,jitter:!0})(t)(n?new Zd({storage:this.storage,storageScope:n,hooks:{beforeCommit:[...this.hooks.beforeCommit],beforeInsert:[...this.hooks.beforeInsert],beforeScan:[...this.hooks.beforeScan],afterCommit:[...this.hooks.afterCommit]},reactivity:this.reactivity}):this)}catch(r){throw r}}async clear(){await this.autoTransact(async t=>{(await t.scan()).forEach(r=>t.remove(r.key))},this.storageScope)}close(){throw new RT("MultiTupleStore.close() method")}}class fS{constructor({txScope:t,hooks:n}){R(this,"txScope");R(this,"hooks");this.txScope=t,this.hooks=n}async scan(t){const n=(r,s)=>Ip(r.key,s.key)*(t!=null&&t.reverse?-1:1);return hw(await Promise.all(this.txScope.read.map(r=>r.scan(t))),n)}async exists(t){return(await Promise.all(this.txScope.read.map(n=>n.exists(t)))).some(n=>n)}remove(t){this.txScope.write.forEach(n=>n.remove(t))}async set(t,n){for(const r of this.hooks.beforeInsert)await r({key:t,value:n},this);this.txScope.write.forEach(r=>r.set(t,n))}}function hw(e,t){const n=e.map(()=>0),r=e.reduce((u,o)=>u+o.length,0),s=new Array(r);let i=0;for(;i<r;){let u=null;for(let o=0;o<e.length;o++){const a=e[o][n[o]];if(a){if(u==null){u=o;continue}t(a,e[u][n[u]])<0&&(u=o)}}if(u==null)throw new p$("While merging scan results, could not select a result set to take from. This should never happen.");s[i++]=e[u][n[u]++]}return s}class hZ extends fS{constructor({store:n,scope:r,hooks:s}){const i=Object.entries(n.storage).map(([c,l])=>[c,l.transact()]),u=Object.fromEntries(i),o=(r==null?void 0:r.read)??Object.keys(n.storage),a=(r==null?void 0:r.write)??Object.keys(n.storage);super({txScope:{read:o.map(c=>u[c]),write:a.map(c=>u[c])},hooks:s});R(this,"txs");R(this,"store");R(this,"isCanceled",!1);R(this,"hooks");R(this,"id",Math.random().toString(36).slice(2));for(const[c,l]of i)n.reactivity.trackSubTx(c,l.id,this.id);this.txs=u,this.store=n,this.hooks=s}get writes(){return Object.fromEntries(Object.entries(this.txs).map(([n,r])=>[n,r.writes]))}beforeScan(n){this.hooks.beforeScan.push(n)}async scan(n){for(const s of this.hooks.beforeScan)await s(n,this);const r=(s,i)=>Ip(s.key,i.key)*(n!=null&&n.reverse?-1:1);return hw(await Promise.all(this.txScope.read.map(s=>s.scan(n))),r)}withScope(n){const r=n.read??Object.keys(this.store.storage),s=n.write??Object.keys(this.store.storage);return new fS({txScope:{read:r.map(i=>this.txs[i]),write:s.map(i=>this.txs[i])},hooks:this.hooks})}async commit(){if(this.isCanceled){console.warn("Cannot commit already canceled transaction.");return}for(const n of this.hooks.beforeCommit)await n(this);await Promise.all(Object.values(this.txs).map(n=>n.commit()));for(const n of this.hooks.afterCommit)await n(this);this.store.reactivity.emit(this.id)}async cancel(){if(this.isCanceled){console.warn("Attempted to cancel already canceled transaction.");return}await Promise.all(Object.values(this.txs).map(n=>n.cancel())),this.isCanceled=!0}}class rO{constructor(){R(this,"txCallbacks",{});R(this,"subTxReactivityIds",{});R(this,"taskQueue",new pZ)}trackSubTx(t,n,r){this.subTxReactivityIds[`${t}_${n}`]=r}getReactivityId(t,n){return this.subTxReactivityIds[`${t}_${n}`]}updateCallback(t,n,r,s,i){this.txCallbacks[t]||(this.txCallbacks[t]={callbacks:new Set,args:{},subTxs:[]}),this.txCallbacks[t].callbacks.add(n),this.txCallbacks[t].args[s]=r,this.txCallbacks[t].subTxs.push(i)}emit(t){const n=this.txCallbacks[t];if(n){this.taskQueue.schedule(Array.from(n.callbacks),n.args);for(const r of n.subTxs)delete this.subTxReactivityIds[r];delete this.txCallbacks[t]}}}class pZ{constructor(){R(this,"queue",[]);R(this,"isRunning",!1)}async schedule(t,n){if(this.isRunning){setTimeout(()=>{this.queue.push(...t.map(r=>[r,n])),this.run()});return}this.queue.push(...t.map(r=>[r,n])),this.run()}async run(){if(!this.isRunning){for(this.isRunning=!0;this.queue.length;){const t=this.queue.shift();if(!t)break;const[n,r]=t;await n(r)}this.isRunning=!1}}}class gZ{constructor({clientId:t,tick:n}={}){R(this,"clientId");R(this,"tick");this.clientId=t??nl(),this.tick=n??0}async assignToStore(t){const n=await t.findMaxClientTimestamp(this.clientId);n&&this.setTick(n[0]),t.onInsert(r=>{Object.values(r).flat().forEach(({timestamp:i})=>{this.tick<i[0]&&this.setTick(i[0])})})}getCurrentTimestamp(){return new Promise(t=>t([this.tick,this.clientId]))}getNextTimestamp(){const t=[++this.tick,this.clientId];return new Promise(n=>n(t))}setTick(t){return this.tick=t,new Promise(n=>n())}}function _f(e){return Object.fromEntries(Object.entries(e.txs).map(([t,n])=>[t,n.writes.set.filter(r=>r.key[1]==="EAT").map(r=>ko(r,["client"]))]))}class pw{constructor({tupleTx:t,clock:n,hooks:r}){R(this,"tupleTx");R(this,"txMetadataListeners",new Set);R(this,"assignedTimestamp");R(this,"clock");R(this,"hooks");this.tupleTx=t,this.clock=n,this.hooks=r,this.hooks.beforeCommit.forEach(s=>{this.tupleTx.hooks.beforeCommit.push(i=>{const u=_f(i);return s(u,this)})}),this.hooks.afterCommit.forEach(s=>{this.tupleTx.hooks.afterCommit.push(i=>{const u=_f(i);return s(u,this)})})}async getTransactionTimestamp(){return this.assignedTimestamp||(this.assignedTimestamp=await this.clock.getNextTimestamp()),this.assignedTimestamp}async findByCollection(t,n){return W4(this.tupleTx,t,n)}async findValuesInRange(t,n){return Q4(this.tupleTx,t,n)}async findByEAT(t,n){return e0(this.tupleTx,t,n)}findByAVE(t,n){return dw(this.tupleTx,t,n)}async findByEntity(t){return X4(this.tupleTx,t)}async findByEntityAttribute(t,n){return K4(this.tupleTx,t,n)}async findByAttribute(t){return Y4(this.tupleTx,t)}findMaxClientTimestamp(t){return tO(this.tupleTx,t)}findByClientTimestamp(t,n,r){return eO(this.tupleTx,t,n,r)}findAllClientIds(){return nO(this.tupleTx)}async insertTriple(t){await this.insertTriples([t])}async insertTriples(t){if(t.length){for(const n of this.hooks.beforeInsert)await n(t,this);for(const n of t){if(n.value===void 0)throw new _x(void 0);await this.addTripleToIndex(this.tupleTx,n)}}}async addTripleToIndex(t,n){const{id:r,attribute:s,value:i,timestamp:u,expired:o}=n;t.set(["EAT",r,s,u],[i,o])}async deleteTriple(t){await this.deleteTriples([t])}async deleteTriples(t){const n=this.tupleTx;for(const r of t){const{id:s,attribute:i,value:u,timestamp:o}=r;n.remove(["EAT",s,i,o]),n.remove(["AVE",i,u,s,o]),n.remove(["clientTimestamp",o[1],o,s,i,u])}}async readMetadataTuples(t,n){return(await this.tupleTx.scan({prefix:["metadata",t,...n??[]]})).map(Z4)}async updateMetadataTuples(t){for(const[n,r,s]of t)this.tupleTx.set(["metadata",n,...r],s);await Promise.all([...this.txMetadataListeners].map(n=>n({updates:t,deletes:[]})))}async deleteMetadataTuples(t){for(const[n,r]of t)(await this.tupleTx.scan({prefix:["metadata",n,...r??[]]})).forEach(s=>this.tupleTx.remove(s.key));await Promise.all([...this.txMetadataListeners].map(n=>n({updates:[],deletes:t})))}onMetadataChange(t){return this.txMetadataListeners.add(t),()=>{this.txMetadataListeners.delete(t)}}async setValue(t,n,r){return await this.setValues([[t,n,r]])}async setValues(t){if(!t.length)return;const n=await this.getTransactionTimestamp(),r=[];for(const s of t){const[i,u,o]=s;if(o===void 0)throw new _x(void 0);(await this.findByEntityAttribute(i,u)).filter(({timestamp:l})=>ls(l,n)===1).length===0&&r.push({id:i,attribute:u,value:o,timestamp:n,expired:!1})}await this.insertTriples(r)}async expireEntity(t){var s;const n=await this.findByEntity(t),r=new Map;for(const i of n){const u=JSON.stringify(i.attribute),o=(s=r.get(u))==null?void 0:s.timestamp;(!o||ls(i.timestamp,o)>0)&&r.set(u,i)}await this.expireEntityAttributes([...r.values()].map(({attribute:i,id:u})=>({id:u,attribute:i})))}async expireEntityAttribute(t,n){return this.expireEntityAttributes([{id:t,attribute:n}])}async expireEntityAttributes(t){const n=[];for(const{id:s,attribute:i}of t){const u=await this.findByEntityAttribute(s,i);for(const o of u)n.push(o)}const r=await this.getTransactionTimestamp();await this.deleteTriples(n.filter(s=>ls(s.timestamp,r)===0)),await this.insertTriples(n.map(({id:s,attribute:i})=>({id:s,attribute:i,value:null,timestamp:r,expired:!0})))}async commit(){await this.tupleTx.commit()}async cancel(){await this.tupleTx.cancel()}withScope(t){return new pw({tupleTx:this.tupleTx.withScope(t),clock:this.clock,hooks:Cd(this.hooks)})}beforeInsert(t){this.hooks.beforeInsert.push(t)}beforeCommit(t){this.tupleTx.hooks.beforeCommit.push(n=>t(_f(n),this))}afterCommit(t){this.tupleTx.hooks.afterCommit.push(n=>t(_f(n),this))}}const mZ=[async function(t){const n=await t.scan({prefix:["EAV"]});if(n.length===0)return;const r=[];for(const s of n){const[i,u,o,a,c]=s.key,{expired:l}=s.value;r.push({key:["EAT",u,o,c],value:[a,l]})}await t.autoTransact(async s=>{for(const i of n)s.remove(i.key);for(const i of r)await s.set(i.key,i.value)},void 0)}];function bZ(e){return typeof e!="object"?!1:["close","commit","scan"].every(n=>n in e)}async function dS(e){for(const[t,n]of Object.entries(e.writes)){const{set:r=[]}=n;if(r.length===0)continue;const s=e.withScope({read:[t],write:[t]});let i=[];for(const{key:u,value:o}of r.slice()){const[a,c,...l]=u;if(c!=="EAT")continue;const[d,h,f]=l,[p,m]=o;m?i.push(["AVE",h,p,d,f]):s.set(["AVE",h,p,d,f],{expired:m}),s.set(["clientTimestamp",f[1],f,d,h,p],{expired:m})}for(const u of i)s.remove(u)}}class gw{constructor({storage:t,stores:n,tenantId:r,clock:s,reactivity:i,storageScope:u=[],enableGarbageCollection:o=!1}){R(this,"stores");R(this,"storageScope");R(this,"tupleStore");R(this,"clock");R(this,"tenantId");R(this,"hooks");R(this,"reactivity");if(this.hooks={beforeCommit:[],beforeInsert:[],afterCommit:[]},!n&&!t)throw new Tx("Must provide either storage or stores");if(n&&t)throw new Tx("Cannot provide both storage and stores");this.storageScope=u;let a;if(n)a=n;else{const c=t;a=bZ(c)?{primary:new ie.AsyncTupleDatabaseClient(new ie.AsyncTupleDatabase(c))}:Object.fromEntries(Object.entries(c).map(([l,d])=>[l,new ie.AsyncTupleDatabaseClient(new ie.AsyncTupleDatabase(d))]))}this.stores=a,this.tenantId=r??"client",this.reactivity=i??new rO,this.tupleStore=new Zd({storage:a,reactivity:this.reactivity}).subspace([this.tenantId]),this.clock=s??new gZ,this.clock.assignToStore(this),this.tupleStore.beforeCommit(dS),o&&this.afterCommit(yZ(()=>{this.collectGarbage()},1e3))}async ensureStorageIsMigrated(){for(const t of mZ)await t(this.tupleStore)}beforeInsert(t){this.hooks.beforeInsert.push(t)}beforeCommit(t){this.hooks.beforeCommit.push(t)}afterCommit(t){this.hooks.afterCommit.push(t)}findByCollection(t,n){return W4(this.tupleStore,t,n)}findByEAT([t,n],r){return e0(this.tupleStore,[t,n],r)}findByAVE([t,n,r],s){return dw(this.tupleStore,[t,n,r],s)}findByEntity(t){return X4(this.tupleStore,t)}findByEntityAttribute(t,n){return K4(this.tupleStore,t,n)}findByAttribute(t){return Y4(this.tupleStore,t)}async findValuesInRange(t,n){return Q4(this.tupleStore,t,n)}findMaxClientTimestamp(t){return tO(this.tupleStore,t)}findAllClientIds(){return nO(this.tupleStore)}findByClientTimestamp(t,n,r){return eO(this.tupleStore,t,n,r)}async transact(t,n){let r=!1;const{tx:s,output:i}=await this.tupleStore.autoTransact(async u=>{u.beforeScan(async(c,l)=>{c.prefix[0]!=="EAT"&&await dS(l)});const o=new pw({tupleTx:u,clock:this.clock,hooks:Cd(this.hooks)});let a;if(r)return{tx:o,output:a};try{a=await t(o)}catch(c){throw c instanceof NT&&(r=!0,await o.cancel()),c}return{tx:o,output:a}},n);return{txId:s.assignedTimestamp?JSON.stringify(s.assignedTimestamp):void 0,output:i}}setStorageScope(t){return new gw({stores:Object.fromEntries(Object.entries(this.stores).filter(([n])=>t.includes(n))),storageScope:t,tenantId:this.tenantId,clock:this.clock,reactivity:this.reactivity})}async setValue(t,n,r){await this.transact(async s=>{await s.setValue(t,n,r)})}async setValues(t){await this.transact(async n=>{await n.setValues(t)})}async expireEntity(t){await this.transact(async n=>{await n.expireEntity(t)})}async expireEntityAttribute(t,n){await this.transact(async r=>{await r.expireEntityAttribute(t,n)})}async expireEntityAttributes(t){await this.transact(async n=>{await n.expireEntityAttributes(t)})}async insertTriple(t){await this.transact(async n=>{await n.insertTriple(t)})}async insertTriples(t){await this.transact(async n=>{await n.insertTriples(t)})}onInsert(t){async function n(s){const i=Object.fromEntries(Object.entries(s).filter(([u,o])=>{const{set:a=[]}=o;return a.length>0}).map(([u,o])=>{const{set:a=[]}=o,c=a.map(l=>ko(l));return[u,c]}));await t(i)}const r=this.tupleStore.subscribe({prefix:["EAT"]},n);return()=>{r()}}onWrite(t){async function n(s){const i=Object.fromEntries(Object.entries(s).filter(([u,o])=>{const{set:a=[],remove:c=[]}=o;return a.length>0||c.length>0}).map(([u,o])=>{const{set:a=[],remove:c=[]}=o,l=a.map(h=>ko(h)),d=c.map(h=>ko({key:h,value:{expired:!1}}));return[u,{inserts:l,deletes:d}]}));await t(i)}return this.tupleStore.subscribe({prefix:["EAT"]},n)}async deleteTriple(t){await this.transact(async n=>{await n.deleteTriples([t])})}async deleteTriples(t){await this.transact(async n=>{await n.deleteTriples(t)})}async readMetadataTuples(t,n){return(await this.tupleStore.scan({prefix:["metadata",t,...n??[]]})).map(Z4)}async updateMetadataTuples(t){await this.transact(async n=>{await n.updateMetadataTuples(t)})}async deleteMetadataTuples(t){await this.transact(async n=>{await n.deleteMetadataTuples(t)})}async clear(){await this.tupleStore.clear()}async collectGarbage(){const t=await this.findByEAT([]),n=[];let r=null,s=[];for(let i=t.length-1;i>=0;i--){const u=t[i];if(u.id===r&&ie.compareTuple(u.attribute,s)===0){n.push(u);continue}r=u.id,s=u.attribute}await this.deleteTriples(n)}}function yZ(e,t){let n=!1,r=!1;function s(){r?(e(),r=!1,setTimeout(s,t)):n=!1}return function(){n?r=!0:(e(),n=!0,setTimeout(s,t))}}const wg=!0,tc="default";class sO{constructor({schema:t,source:n,sources:r,tenantId:s,migrations:i,clock:u,variables:o,logger:a}={}){R(this,"tripleStore");R(this,"systemVars");R(this,"cache");R(this,"storageReady");R(this,"schemaInitialized");R(this,"isSchemaInitialized",!1);R(this,"ready");R(this,"_schema");R(this,"schema");R(this,"onSchemaChangeCallbacks");R(this,"hooks",{afterCommit:[],afterInsert:[],afterUpdate:[],afterDelete:[],beforeCommit:[],beforeInsert:[],beforeUpdate:[],beforeDelete:[]});R(this,"_pendingSchemaRequest");R(this,"logger");this.logger=a??{info:console.info,warn:console.warn,error:console.error,debug:()=>{},scope:()=>this.logger},this.systemVars={global:o??{},session:{}};const c=r??{[tc]:n??new Kd};if(Object.keys(c).length===0)throw new Ex("No triple stores provided.");if(t&&i)throw new Ex("Cannot provide both schema and migrations");const l=t?{...t,version:t.version??0,collections:t.collections}:void 0;this._pendingSchemaRequest=null,this.tripleStore=new gw({storage:c,tenantId:s,clock:u}),this.cache=new b4(this);const d=h=>this.schema=h;this.onSchemaChangeCallbacks=new Set([d]),this.logger.debug("Initializing",{schema:t,migrations:i,tripleStoreSchema:l}),this.storageReady=this.tripleStore.ensureStorageIsMigrated(),this.schemaInitialized=l?this.storageReady.then(()=>{this.setupSchemaListener()}).then(()=>this.initializeDBWithSchema(l)):i?this.storageReady.then(()=>this.initializeDBWithMigrations(i)).then(()=>{this.setupSchemaListener()}):this.storageReady.then(()=>{this.setupSchemaListener()}),this.schemaInitialized.then(()=>this.isSchemaInitialized=!0).catch(()=>{}),this.ready=Promise.all([this.storageReady,this.schemaInitialized]).then(()=>this.logger.debug("Ready"))}get sessionRoles(){const t=this.getSchemaSync(!0);return LK(t,this.systemVars.session)}getSchemaSync(t=!1){if(!t&&!this.isSchemaInitialized)throw new L("Schema not initialized");return this.schema}initializeDBWithMigrations(t){return t?Array.isArray(t)?this.migrate(t,"up"):this.migrate(t.definitions,"up",t.scopes):Promise.resolve()}initializeDBWithSchema(t){return t?this.overrideSchema(t).then(()=>{}):Promise.resolve()}setupSchemaListener(){return this.tripleStore.tupleStore.subscribe({prefix:["EAT",Zt("_metadata","_schema")]},async t=>{Object.values(t).some(s=>{var i;return!!((i=s.remove)!=null&&i.length)})&&(this.schema=void 0,this._schema=void 0);const n=Object.values(t).flatMap(s=>{var i;return((i=s.set)==null?void 0:i.map(u=>ko(u)))??[]});if(!n.length)return;this._schema||await this.loadSchemaData(),Y1(this._schema,n);const r=eb(this._schema.data);for(const s of this.onSchemaChangeCallbacks)s(r)})}addTrigger(t,n){switch(t.when){case"afterCommit":this.hooks.afterCommit.push([n,t]);break;case"afterInsert":this.hooks.afterInsert.push([n,t]);break;case"afterUpdate":this.hooks.afterUpdate.push([n,t]);break;case"afterDelete":this.hooks.afterDelete.push([n,t]);break;case"beforeCommit":this.hooks.beforeCommit.push([n,t]);break;case"beforeInsert":this.hooks.beforeInsert.push([n,t]);break;case"beforeUpdate":this.hooks.beforeUpdate.push([n,t]);break;case"beforeDelete":this.hooks.beforeDelete.push([n,t]);break}}withSessionVars(t){return vZ(this,t)}async getClientId(){return(await this.tripleStore.clock.getCurrentTimestamp())[1]}async loadSchemaData(){const t=await M4(this.tripleStore);this._schema=sa(t,Zt("_metadata","_schema"))??new qp,t.length&&(this.schema=eb(this._schema.data))}async getSchema(t=!1){return await(t?this.storageReady:this.schemaInitialized),this._pendingSchemaRequest&&await this._pendingSchemaRequest,this._schema||(this._pendingSchemaRequest=this.loadSchemaData(),await this._pendingSchemaRequest,this._pendingSchemaRequest=null),this.schema}async transact(t,n={}){this.logger.debug("transact START",{options:n}),await this.storageReady;const r=await this.getSchema(n.dangerouslyBypassSchemaInitialization);try{const s=await this.tripleStore.transact(async i=>{const u=new lS(this,i,Cd(this.hooks),{schema:r,skipRules:n.skipRules,logger:this.logger.scope("tx")});return await t(u)},n.storeScope);return this.logger.debug("transact RESULT",s),s}catch(s){throw this.logger.error("transact ERROR",s),s}finally{this.logger.debug("transact END")}}updateGlobalVariables(t){this.systemVars.global={...this.systemVars.global,...t}}async overrideSchema(t){const{successful:n,issues:r}=await NY(this,t);return RY(n,r,this.logger),{successful:n,issues:r}}async fetch(t,n={}){var o;this.logger.debug("fetch START",{query:t}),await this.storageReady;const r=(o=await this.getSchema())==null?void 0:o.collections,s=Mr(t,r,{roles:this.sessionRoles},{skipRules:n.skipRules}),i=n.noCache===void 0?wg:n.noCache,{results:u}=await $s(this,n.scope?this.tripleStore.setStorageScope(n.scope):this.tripleStore,s,cr(),{schema:r,cache:i?void 0:this.cache,skipRules:n.skipRules});return this.logger.debug("fetch END",{query:t,result:u}),P4(u,r,s.collectionName)}async fetchTriples(t,n={}){var i;await this.storageReady;const r=(i=await this.getSchema())==null?void 0:i.collections,s=Mr(t,r,{roles:this.sessionRoles},{skipRules:n.skipRules});return[...(await $s(this,n.scope?this.tripleStore.setStorageScope(n.scope):this.tripleStore,s,cr(),{schema:r,stateVector:n.stateVector})).triples.values()].flat()}async fetchById(t,n,r={}){const s=this.query(t).id(n).build();return this.fetchOne(s,r)}async fetchOne(t,n={}){t={...t,limit:1};const s=[...(await this.fetch(t,n)).values()][0];return s||null}async insert(t,n,r={}){return this.transact(async s=>await s.insert(t,n),r)}async delete(t,n,r={}){return this.transact(async s=>{await s.delete(t,n)},r)}subscribe(t,n,r,s={}){let i=!1;const o=(async()=>{var h;await this.storageReady;const a=(h=await this.getSchema())==null?void 0:h.collections;let c=Mr(t,a,{roles:this.sessionRoles},{skipRules:s.skipRules});this.logger.debug("subscribe START",{query:t});const l=s.noCache===void 0?wg:s.noCache;return xY(this,s.scope?this.tripleStore.setStorageScope(s.scope):this.tripleStore,c,(...f)=>{i||(this.logger.debug("subscribe RESULTS",{query:t,results:f}),n(...f))},(...f)=>{i||r==null||r(...f)},{schema:a,cache:l?void 0:this.cache,skipRules:s.skipRules,stateVector:s.stateVector})})();return async()=>(i=!0,this.logger.debug("subscribe END",{query:t}),(await o)())}subscribeTriples(t,n,r,s={}){const u=(async()=>{var d;await this.storageReady;const o=(d=await this.getSchema())==null?void 0:d.collections;let a=Mr(t,o,{roles:this.sessionRoles},{skipRules:s.skipRules});const c=s.noCache===void 0?wg:s.noCache;return SY(this,s.scope?this.tripleStore.setStorageScope(s.scope):this.tripleStore,a,h=>n([...h.values()].flat()),r,{schema:o,skipRules:s.skipRules,stateVector:s.stateVector,cache:c?void 0:this.cache})})();return async()=>(await u)()}async update(t,n,r,s={}){return await this.transact(async i=>{await i.update(t,n,r)},s)}query(t,n){return T4(t,n)}async createCollection(t){await this.transact(async n=>{await n.createCollection(t)})}async dropCollection(t){await this.transact(async n=>{await n.dropCollection(t)})}async addAttribute(t){await this.transact(async n=>{await n.addAttribute(t)})}async dropAttribute(t){await this.transact(async n=>{await n.dropAttribute(t)})}async alterAttributeOption(t){await this.transact(async n=>{await n.alterAttributeOption(t)})}async dropAttributeOption(t){await this.transact(async n=>{await n.dropAttributeOption(t)})}async addRule(t){await this.transact(async n=>{await n.addRule(t)})}async dropRule(t){await this.transact(async n=>{await n.dropRule(t)})}async setAttributeOptional(t){await this.transact(async n=>{await n.setAttributeOptional(t)})}async applySchemaMigration(t,n,r){const s=t[n],{schema:i}=await Ym(this.tripleStore);await this.tripleStore.transact(async u=>{const o=new lS(this,u,Cd(this.hooks),{schema:i});for(const a of s)switch(a[0]){case"create_collection":await o.createCollection(a[1]);break;case"drop_collection":await o.dropCollection(a[1]);break;case"add_attribute":await o.addAttribute(a[1]);break;case"drop_attribute":await o.dropAttribute(a[1]);break;case"alter_attribute_option":await o.alterAttributeOption(a[1]);break;case"drop_attribute_option":await o.dropAttributeOption(a[1]);break;case"add_rule":await o.addRule(a[1]);break;case"drop_rule":await o.dropRule(a[1]);break;case"set_attribute_optional":await o.setAttributeOptional(a[1]);break;default:throw new A$(`The operation ${a[0]} is not recognized.`)}await u.insertTriples([{id:Zt("_metadata","_schema"),attribute:["_metadata","version"],value:n==="up"?t.version:t.parent,timestamp:await u.clock.getNextTimestamp(),expired:!1}]),n==="up"?await u.updateMetadataTuples([["migrations",[`${t.version}`,"id"],t.version],["migrations",[`${t.version}`,"parent"],t.parent],["migrations",[`${t.version}`,"name"],t.name],["migrations",[`${t.version}`,"applied"],new Date().toISOString()]]):n==="down"&&await u.deleteMetadataTuples([["migrations",[`${t.version}`]]])},r?{read:r,write:r}:void 0)}async migrate(t,n,r){const s=t.sort((i,u)=>(i.version-u.version)*(n==="up"?1:-1));for(const i of s){const{schema:u}=await Ym(this.tripleStore),o=(u==null?void 0:u.version)??0;if(wZ(i,n,o))try{await this.applySchemaMigration(i,n,r)}catch(a){throw console.error(`Error applying ${n} migration with verison`,i.version,a),a}else console.info("skipping migration",i)}}async getAppliedMigrations(){const t=await this.tripleStore.readMetadataTuples("migrations");return kT(t).migrations||{}}async getLatestMigrationId(){const t=await this.getAppliedMigrations();return Object.values(t).reduce((r,s)=>Math.max(r||0,s.id),void 0)}async getCollectionStats(){const t=await this.tripleStore.findByAttribute(["_collection"]),n=new Map;for(let r of t){if(r.expired)continue;const s=r.value;n.set(s,(n.get(s)??0)+1)}return n}async clear({full:t}={}){t?await this.tripleStore.clear():await this.tripleStore.transact(async n=>{const s=(await n.findByEntity()).filter(({id:i})=>!i.includes("_metadata"));await n.deleteTriples(s)})}onSchemaChange(t){return this.onSchemaChangeCallbacks.add(t),()=>this.onSchemaChangeCallbacks.delete(t)}}R(sO,"ABORT_TRANSACTION",Symbol("abort transaction"));function wZ(e,t,n){return t==="up"?e.parent===n:e.version===n}function vZ(e,t){const n={global:e.systemVars.global,session:t};return new Proxy(e,{get(r,s,i){return s==="systemVars"?n:Reflect.get(r,s,i)},set:Reflect.set,deleteProperty:Reflect.deleteProperty})}const gn=class gn{static Schema(...t){return this.Record(...t)}static get Default(){return{uuid:t=>({func:"uuid",args:t?[t]:null}),now:()=>({func:"now",args:null})}}static Optional(t){return t.context.optional=!0,t}};R(gn,"Id",()=>Zm({nullable:!1,default:gn.Default.uuid()})),R(gn,"String",Zm),R(gn,"Number",F4),R(gn,"Boolean",lw),R(gn,"Date",j4),R(gn,"Record",L4),R(gn,"Set",B4),R(gn,"Query",ec),R(gn,"RelationMany",(t,n)=>ec({collectionName:t,...n},"many")),R(gn,"RelationOne",(t,n)=>ec({collectionName:t,...n,limit:1},"one")),R(gn,"RelationById",(t,n)=>ec({collectionName:t,where:[["id","=",n]]},"one"));let ce=gn;class xZ{constructor(t,n){R(this,"clock");R(this,"scope");R(this,"scopedStore");R(this,"clockReady");R(this,"readyCallbacks");R(this,"assigned");R(this,"clientId");this.scope=t,this.clientId=n||nl(),this.clockReady=new Promise(async(r,s)=>{this.readyCallbacks=[r,s]})}async assignToStore(t){if(this.assigned)return;this.assigned=!0;const[n,r]=this.readyCallbacks;try{this.scopedStore=this.scope?t.setStorageScope([this.scope]):t;const s=await this.scopedStore.readMetadataTuples("clock");if(s.length===0)this.clock=[0,this.clientId],await this.scopedStore.updateMetadataTuples([["clock",["tick"],this.clock[0]],["clock",["clientId"],this.clock[1]]]);else{const{clock:i}=kT(s);this.clock=[i.tick,i.clientId]}n()}catch(s){return console.error(s),r(s)}t.onInsert(async s=>{const u=Object.values(s).flat().reduce((o,a)=>ls(a.timestamp,o)>0?a.timestamp:o,void 0);await this.clockReady,ls(u,this.clock)>0&&(this.clock=[u[0],this.clock[1]],this.scopedStore.updateMetadataTuples([["clock",["tick"],this.clock[0]],["clock",["clientId"],this.clock[1]]]))})}async getCurrentTimestamp(){return await this.clockReady,this.clock}async getNextTimestamp(){const[t,n]=await this.getCurrentTimestamp();return[t+1,n]}async setTick(t){await this.clockReady,this.clock=[t,this.clock[1]],this.scopedStore.updateMetadataTuples([["clock",["tick"],t]])}}function hS(e,t){const n=SZ(e);return n?((t==null?void 0:t.split("."))??[]).reduce((i,u)=>{if(i&&i[u])return i[u]},n)["x-triplit-user-id"]:void 0}function SZ(e){var t=e.split(".")[1],n=t.replace(/-/g,"+").replace(/_/g,"/"),r=decodeURIComponent(atob(n).split("").map(function(s){return"%"+("00"+s.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(r)}class AZ extends L{constructor(t,...n){super(...n),this.name="UnrecognizedFetchPolicyError",this.baseMessage="The fetch policy "+t+" is not recognized.",this.status=ee["Bad Request"]}}class _Z extends L{constructor(...t){super(...t),this.name="MissingConnectionInformationError",this.baseMessage="Missing connection information. A token and server must be provided.",this.status=ee["Internal Server Error"]}}class pS extends L{constructor(t,...n){super(...n),this.name="RemoteSyncFailedError",this.baseMessage="Remote sync failed for query: "+JSON.stringify(t,null,2),this.status=ee["Internal Server Error"]}}class Tf extends L{constructor(t,...n){super(...n),this.name="RemoteFetchFailedError",this.baseMessage="Remote fetch failed for query: "+JSON.stringify(t,null,2),this.status=ee["Internal Server Error"]}}var mw={},t0={};const tb=(e,t)=>t.some(n=>e instanceof n);let gS,mS;function TZ(){return gS||(gS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function EZ(){return mS||(mS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const iO=new WeakMap,nb=new WeakMap,uO=new WeakMap,vg=new WeakMap,n0=new WeakMap;function OZ(e){const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("success",i),e.removeEventListener("error",u)},i=()=>{n(fs(e.result)),s()},u=()=>{r(e.error),s()};e.addEventListener("success",i),e.addEventListener("error",u)});return t.then(n=>{n instanceof IDBCursor&&iO.set(n,e)}).catch(()=>{}),n0.set(t,e),t}function IZ(e){if(nb.has(e))return;const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",u),e.removeEventListener("abort",u)},i=()=>{n(),s()},u=()=>{r(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",i),e.addEventListener("error",u),e.addEventListener("abort",u)});nb.set(e,t)}let rb={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return nb.get(e);if(t==="objectStoreNames")return e.objectStoreNames||uO.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return fs(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function oO(e){rb=e(rb)}function NZ(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(gc(this),t,...n);return uO.set(r,t.sort?t.sort():[t]),fs(r)}:EZ().includes(e)?function(...t){return e.apply(gc(this),t),fs(iO.get(this))}:function(...t){return fs(e.apply(gc(this),t))}}function RZ(e){return typeof e=="function"?NZ(e):(e instanceof IDBTransaction&&IZ(e),tb(e,TZ())?new Proxy(e,rb):e)}function fs(e){if(e instanceof IDBRequest)return OZ(e);if(vg.has(e))return vg.get(e);const t=RZ(e);return t!==e&&(vg.set(e,t),n0.set(t,e)),t}const gc=e=>n0.get(e);function kZ(e,t,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const u=indexedDB.open(e,t),o=fs(u);return r&&u.addEventListener("upgradeneeded",a=>{r(fs(u.result),a.oldVersion,a.newVersion,fs(u.transaction),a)}),n&&u.addEventListener("blocked",a=>n(a.oldVersion,a.newVersion,a)),o.then(a=>{i&&a.addEventListener("close",()=>i()),s&&a.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}function CZ(e,{blocked:t}={}){const n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",r=>t(r.oldVersion,r)),fs(n).then(()=>{})}const DZ=["get","getKey","getAll","getAllKeys","count"],MZ=["put","add","delete","clear"],xg=new Map;function bS(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(xg.get(t))return xg.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,s=MZ.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||DZ.includes(n)))return;const i=async function(u,...o){const a=this.transaction(u,s?"readwrite":"readonly");let c=a.store;return r&&(c=c.index(o.shift())),(await Promise.all([c[n](...o),s&&a.done]))[0]};return xg.set(t,i),i}oO(e=>({...e,get:(t,n,r)=>bS(t,n)||e.get(t,n,r),has:(t,n)=>!!bS(t,n)||e.has(t,n)}));const PZ=["continue","continuePrimaryKey","advance"],yS={},sb=new WeakMap,aO=new WeakMap,jZ={get(e,t){if(!PZ.includes(t))return e[t];let n=yS[t];return n||(n=yS[t]=function(...r){sb.set(this,aO.get(this)[t](...r))}),n}};async function*LZ(...e){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...e)),!t)return;t=t;const n=new Proxy(t,jZ);for(aO.set(n,t),n0.set(n,gc(t));t;)yield n,t=await(sb.get(n)||t.continue()),sb.delete(n)}function wS(e,t){return t===Symbol.asyncIterator&&tb(e,[IDBIndex,IDBObjectStore,IDBCursor])||t==="iterate"&&tb(e,[IDBIndex,IDBObjectStore])}oO(e=>({...e,get(t,n,r){return wS(t,n)?LZ:e.get(t,n,r)},has(t,n){return wS(t,n)||e.has(t,n)}}));const FZ=Object.freeze(Object.defineProperty({__proto__:null,deleteDB:CZ,openDB:kZ,unwrap:gc,wrap:fs},Symbol.toStringTag,{value:"Module"})),BZ=yy(FZ);Object.defineProperty(t0,"__esModule",{value:!0});t0.IndexedDbTupleStorage=void 0;const UZ=BZ,iu=Op,qZ=1,Sg="tupledb";class $Z{constructor(t){this.dbName=t,this.db=(0,UZ.openDB)(t,qZ,{upgrade(n){n.createObjectStore(Sg)}})}async scan(t){const r=(await this.db).transaction(Sg,"readonly",{durability:"relaxed"}),s=r.store,i=(t==null?void 0:t.gt)||(t==null?void 0:t.gte),u=!!(t!=null&&t.gte),o=(t==null?void 0:t.lt)||(t==null?void 0:t.lte),a=!!(t!=null&&t.lte);let c;o?i?c=IDBKeyRange.bound((0,iu.encodeTuple)(i),(0,iu.encodeTuple)(o),!u,!a):c=IDBKeyRange.upperBound((0,iu.encodeTuple)(o),!a):i?c=IDBKeyRange.lowerBound((0,iu.encodeTuple)(i),!u):c=null;const l=t!=null&&t.reverse?"prev":"next",d=(t==null?void 0:t.limit)||1/0;let h=[];for await(const f of s.iterate(c,l))if(h.push({key:(0,iu.decodeTuple)(f.key),value:f.value}),h.length>=d)break;return await r.done,h}async commit(t){const r=(await this.db).transaction(Sg,"readwrite",{durability:"relaxed"});for(const{key:s,value:i}of t.set||[])r.store.put(i,(0,iu.encodeTuple)(s));for(const s of t.remove||[])r.store.delete((0,iu.encodeTuple)(s));await r.done}async close(){(await this.db).close()}}t0.IndexedDbTupleStorage=$Z;Object.defineProperty(mw,"__esModule",{value:!0});var ib=mw.CachedIndexedDbStorage=void 0;const VZ=t0,zZ=Zp;class HZ{constructor(t,n={cache:!0}){this.dbName=t,this.options=n,this._cacheReadyForReads=!1,this._indexedDB=new VZ.IndexedDbTupleStorage(t),this._cache=new zZ.MemoryBTreeStorage,n.cache&&this.initializeCacheFromIndexedDB()}async initializeCacheFromIndexedDB(){const t=await this._indexedDB.scan();this._cache.commit({set:t}),this._cacheReadyForReads=!0}async scan(t){return this.options.cache&&this._cacheReadyForReads?this._cache.scan(t):this._indexedDB.scan(t)}async commit(t){this.options.cache?(this._cache.commit(t),await this._indexedDB.commit(t)):await this._indexedDB.commit(t)}async close(){this._cache&&this._cache.close(),await this._indexedDB.close()}}ib=mw.CachedIndexedDbStorage=HZ;var ub=function(e,t){return ub=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},ub(e,t)};function r0(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");ub(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function ob(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ab(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),s,i=[],u;try{for(;(t===void 0||t-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(o){u={error:o}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(u)throw u.error}}return i}function cb(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}function Vs(e){return typeof e=="function"}function cO(e){var t=function(r){Error.call(r),r.stack=new Error().stack},n=e(t);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Ag=cO(function(e){return function(n){e(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,s){return s+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function lb(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var s0=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,n,r,s,i;if(!this.closed){this.closed=!0;var u=this._parentage;if(u)if(this._parentage=null,Array.isArray(u))try{for(var o=ob(u),a=o.next();!a.done;a=o.next()){var c=a.value;c.remove(this)}}catch(m){t={error:m}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}else u.remove(this);var l=this.initialTeardown;if(Vs(l))try{l()}catch(m){i=m instanceof Ag?m.errors:[m]}var d=this._finalizers;if(d){this._finalizers=null;try{for(var h=ob(d),f=h.next();!f.done;f=h.next()){var p=f.value;try{vS(p)}catch(m){i=i??[],m instanceof Ag?i=cb(cb([],ab(i)),ab(m.errors)):i.push(m)}}}catch(m){r={error:m}}finally{try{f&&!f.done&&(s=h.return)&&s.call(h)}finally{if(r)throw r.error}}}if(i)throw new Ag(i)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)vS(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}},e.prototype._hasParent=function(t){var n=this._parentage;return n===t||Array.isArray(n)&&n.includes(t)},e.prototype._addParent=function(t){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t},e.prototype._removeParent=function(t){var n=this._parentage;n===t?this._parentage=null:Array.isArray(n)&&lb(n,t)},e.prototype.remove=function(t){var n=this._finalizers;n&&lb(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),lO=s0.EMPTY;function fO(e){return e instanceof s0||e&&"closed"in e&&Vs(e.remove)&&Vs(e.add)&&Vs(e.unsubscribe)}function vS(e){Vs(e)?e():e.unsubscribe()}var dO={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},hO={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout.apply(void 0,cb([e,t],ab(n)))},clearTimeout:function(e){var t=hO.delegate;return((t==null?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function GZ(e){hO.setTimeout(function(){throw e})}function xS(){}function Qf(e){e()}var pO=function(e){r0(t,e);function t(n){var r=e.call(this)||this;return r.isStopped=!1,n?(r.destination=n,fO(n)&&n.add(r)):r.destination=XZ,r}return t.create=function(n,r,s){return new fb(n,r,s)},t.prototype.next=function(n){this.isStopped||this._next(n)},t.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(n){this.destination.next(n)},t.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(s0),JZ=Function.prototype.bind;function _g(e,t){return JZ.call(e,t)}var WZ=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var n=this.partialObserver;if(n.next)try{n.next(t)}catch(r){Ef(r)}},e.prototype.error=function(t){var n=this.partialObserver;if(n.error)try{n.error(t)}catch(r){Ef(r)}else Ef(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(n){Ef(n)}},e}(),fb=function(e){r0(t,e);function t(n,r,s){var i=e.call(this)||this,u;if(Vs(n)||!n)u={next:n??void 0,error:r??void 0,complete:s??void 0};else{var o;i&&dO.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=function(){return i.unsubscribe()},u={next:n.next&&_g(n.next,o),error:n.error&&_g(n.error,o),complete:n.complete&&_g(n.complete,o)}):u=n}return i.destination=new WZ(u),i}return t}(pO);function Ef(e){GZ(e)}function QZ(e){throw e}var XZ={closed:!0,next:xS,error:QZ,complete:xS},KZ=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function YZ(e){return e}function ZZ(e){return e.length===0?YZ:e.length===1?e[0]:function(n){return e.reduce(function(r,s){return s(r)},n)}}var SS=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(t,n,r){var s=this,i=tee(t)?t:new fb(t,n,r);return Qf(function(){var u=s,o=u.operator,a=u.source;i.add(o?o.call(i,a):a?s._subscribe(i):s._trySubscribe(i))}),i},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){t.error(n)}},e.prototype.forEach=function(t,n){var r=this;return n=AS(n),new n(function(s,i){var u=new fb({next:function(o){try{t(o)}catch(a){i(a),u.unsubscribe()}},error:i,complete:s});r.subscribe(u)})},e.prototype._subscribe=function(t){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(t)},e.prototype[KZ]=function(){return this},e.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return ZZ(t)(this)},e.prototype.toPromise=function(t){var n=this;return t=AS(t),new t(function(r,s){var i;n.subscribe(function(u){return i=u},function(u){return s(u)},function(){return r(i)})})},e.create=function(t){return new e(t)},e}();function AS(e){var t;return(t=e??dO.Promise)!==null&&t!==void 0?t:Promise}function eee(e){return e&&Vs(e.next)&&Vs(e.error)&&Vs(e.complete)}function tee(e){return e&&e instanceof pO||eee(e)&&fO(e)}var nee=cO(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),db=function(e){r0(t,e);function t(){var n=e.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return t.prototype.lift=function(n){var r=new _S(this,this);return r.operator=n,r},t.prototype._throwIfClosed=function(){if(this.closed)throw new nee},t.prototype.next=function(n){var r=this;Qf(function(){var s,i;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var u=ob(r.currentObservers),o=u.next();!o.done;o=u.next()){var a=o.value;a.next(n)}}catch(c){s={error:c}}finally{try{o&&!o.done&&(i=u.return)&&i.call(u)}finally{if(s)throw s.error}}}})},t.prototype.error=function(n){var r=this;Qf(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var s=r.observers;s.length;)s.shift().error(n)}})},t.prototype.complete=function(){var n=this;Qf(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(n){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,n)},t.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},t.prototype._innerSubscribe=function(n){var r=this,s=this,i=s.hasError,u=s.isStopped,o=s.observers;return i||u?lO:(this.currentObservers=null,o.push(n),new s0(function(){r.currentObservers=null,lb(o,n)}))},t.prototype._checkFinalizedStatuses=function(n){var r=this,s=r.hasError,i=r.thrownError,u=r.isStopped;s?n.error(i):u&&n.complete()},t.prototype.asObservable=function(){var n=new SS;return n.source=this,n},t.create=function(n,r){return new _S(n,r)},t}(SS),_S=function(e){r0(t,e);function t(n,r){var s=e.call(this)||this;return s.destination=n,s.source=r,s}return t.prototype.next=function(n){var r,s;(s=(r=this.destination)===null||r===void 0?void 0:r.next)===null||s===void 0||s.call(r,n)},t.prototype.error=function(n){var r,s;(s=(r=this.destination)===null||r===void 0?void 0:r.error)===null||s===void 0||s.call(r,n)},t.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},t.prototype._subscribe=function(n){var r,s;return(s=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&s!==void 0?s:lO},t}(db);const ree=1024*1024/2;class see{constructor(t={}){R(this,"options");R(this,"ws");R(this,"connectionListeners",new Set);this.options=t,this.options.messagePayloadSizeLimit=this.options.messagePayloadSizeLimit==null?ree:this.options.messagePayloadSizeLimit}get isOpen(){return!!this.ws&&this.ws.readyState===this.ws.OPEN}get connectionStatus(){return this.ws?gO(this.ws):"CLOSED"}onOpen(t){this.ws&&(this.ws.onopen=t)}sendMessage(t){if(!this.ws||!this.isOpen)return;const n=JSON.stringify(t),r=iee(n);if(this.options.messagePayloadSizeLimit&&r>this.options.messagePayloadSizeLimit){const s=uee(n,Math.ceil(r/this.options.messagePayloadSizeLimit)),i=(Math.random()+1).toString(36).substring(7);for(let u=0;u<s.length;u++)this.ws.send(JSON.stringify({type:"CHUNK",payload:{data:s[u],total:s.length,index:u,id:i}}));return}this.ws.send(JSON.stringify(t))}connect(t){this.ws&&this.isOpen&&this.close();const{token:n,clientId:r,schema:s,syncSchema:i,server:u,secure:o}=t,a=[];if(!n||!r||!u){n||a.push("token"),r||a.push("clientId"),u||a.push("server"),console.warn(`Missing required params: [${a.join(", ")}]. Skipping sync connection.`);return}const c=new URLSearchParams;s&&c.set("schema",s.toString()),c.set("sync-schema",String(i)),c.set("client",r),c.set("token",n);const l=`${o?"wss":"ws"}://${u}?${c.toString()}`;this.ws=new WebSocket(l),this.ws.onconnectionchange=d=>{this.connectionListeners.forEach(h=>h(d))}}onMessage(t){this.ws&&(this.ws.onmessage=t)}onError(t){this.ws&&(this.ws.onerror=t)}close(t){this.ws&&this.ws.close(1e3,JSON.stringify(t))}onClose(t){this.ws&&(this.ws.onclose=t)}onConnectionChange(t){return this.connectionListeners.add(t),()=>{this.connectionListeners.delete(t)}}}function iee(e){var t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);t+=r<128?1:r<2048?2:r<65536?3:4}return t}function uee(e,t){let n=[];const r=Math.ceil(e.length/t);for(let s=0;s<e.length;s+=r)n.push(e.slice(s,s+r));return n}function gO(e){switch(e.readyState){case e.CONNECTING:return"CONNECTING";case e.OPEN:return"OPEN";case e.CLOSING:return"CLOSING";case e.CLOSED:default:return"CLOSED"}}var US;if(typeof WebSocket<"u"&&typeof self<"u"&&((US=Object.getOwnPropertyDescriptor(self,"WebSocket"))!=null&&US.writable)){var oee=new Proxy(WebSocket,{construct:function(e,t){const n=new e(...t);function r(){n.dispatchEvent(new Event("connectionchange")),n.onconnectionchange&&typeof n.onconnectionchange=="function"&&n.onconnectionchange(gO(n))}setTimeout(function(){r()},0);const s=()=>{r()},i=()=>{r(),n.removeEventListener("open",s),n.removeEventListener("close",i)};return n.addEventListener("open",s),n.addEventListener("close",i),n}});WebSocket=oee}const TS="query-state";class aee{constructor(t,n){R(this,"transport");R(this,"queries",new Map);R(this,"reconnectTimeoutDelay",250);R(this,"reconnectTimeout");R(this,"client");R(this,"syncOptions");R(this,"connectionChangeHandlers",new Set);R(this,"queryFulfillmentCallbacks");R(this,"txCommits$",new db);R(this,"txFailures$",new db);R(this,"messageReceivedSubscribers",new Set);R(this,"messageSentSubscribers",new Set);R(this,"awaitingAck",new Set);R(this,"logger");R(this,"commitCallbacks",new Map);R(this,"failureCallbacks",new Map);this.client=t,this.logger=n.logger,this.syncOptions=n,this.syncOptions.secure=n.secure??!0,this.syncOptions.syncSchema=n.syncSchema??!1,this.transport=n.transport??new see,this.txCommits$.subscribe(s=>{const i=this.commitCallbacks.get(s);if(i){for(const u of i)u();this.commitCallbacks.delete(s),this.failureCallbacks.delete(s)}}),this.txFailures$.subscribe(({txId:s,error:i})=>{const u=this.failureCallbacks.get(s);if(u)for(const o of u)o(i)}),this.queryFulfillmentCallbacks=new Map;const r=cee(()=>this.signalOutboxTriples(),100);this.db.tripleStore.setStorageScope(["outbox"]).onInsert(s=>{var i;(i=s.outbox)!=null&&i.length&&r()})}get token(){return this.syncOptions.token}get db(){return this.client.db}get httpUri(){return this.syncOptions.server?`${this.syncOptions.secure?"https":"http"}://${this.syncOptions.server}`:void 0}onSyncMessageReceived(t){return this.messageReceivedSubscribers.add(t),()=>{this.messageReceivedSubscribers.delete(t)}}onSyncMessageSent(t){return this.messageSentSubscribers.add(t),()=>{this.messageSentSubscribers.delete(t)}}async getConnectionParams(){var r;const t=await this.db.getClientId(),n=rZ((r=fw(await this.db.getSchema()))==null?void 0:r.collections);return{clientId:t,schema:n,syncSchema:this.syncOptions.syncSchema,token:this.syncOptions.token,server:this.syncOptions.server,secure:this.syncOptions.secure}}async getQueryState(t){const n=await this.db.tripleStore.readMetadataTuples(TS,[t]);return n.length===0?void 0:JSON.parse(n[0][2])}async isFirstTimeFetchingQuery(t){await this.db.ready;const n=this.getQueryHash(t);return await this.getQueryState(n)===void 0}async setQueryState(t,n){await this.db.tripleStore.updateMetadataTuples([[TS,[t],JSON.stringify(n)]])}getQueryHash(t){const{id:n,...r}=t;return g4(r).toString()}subscribe(t,n){const r=this.getQueryHash(t);return this.getQueryState(r).then(s=>{this.sendMessage({type:"CONNECT_QUERY",payload:{id:r,params:t,state:s}}),this.queries.set(r,{params:t,fulfilled:!1}),this.onQueryFulfilled(r,i=>{const{triples:u}=i;if(u.length>0){const o=this.triplesToStateVector(u),a=new Map((s??[]).map(([c,l])=>[l,c]));o.forEach(([c,l])=>{const d=a.get(l);(!d||c>d)&&a.set(l,c)}),this.setQueryState(r,[...a.entries()].map(([c,l])=>[l,c]))}this.queries.set(r,{params:t,fulfilled:!0}),n&&n()})}),()=>{this.disconnectQuery(r)}}triplesToStateVector(t){const n=new Map;return t.forEach(r=>{const[s,i]=r.timestamp,u=n.get(i);(!u||s>u)&&n.set(i,s)}),[...n.entries()].map(([r,s])=>[s,r])}onQueryFulfilled(t,n){this.queryFulfillmentCallbacks.set(t,n)}hasQueryBeenFulfilled(t){var n;return((n=this.queries.get(t))==null?void 0:n.fulfilled)??!1}disconnectQuery(t){this.sendMessage({type:"DISCONNECT_QUERY",payload:{id:t}}),this.queries.delete(t)}onTxCommit(t,n){var r;return this.commitCallbacks.has(t)?(r=this.commitCallbacks.get(t))==null||r.add(n):this.commitCallbacks.set(t,new Set([n])),()=>{var s;(s=this.commitCallbacks.get(t))==null||s.delete(n)}}onTxFailure(t,n){var r;return this.failureCallbacks.has(t)?(r=this.failureCallbacks.get(t))==null||r.add(n):this.failureCallbacks.set(t,new Set([n])),()=>{var s;(s=this.failureCallbacks.get(t))==null||s.delete(n)}}signalOutboxTriples(){this.sendMessage({type:"TRIPLES_PENDING",payload:{}})}async connect(){this.transport.connectionStatus!=="CLOSED"&&this.closeConnection({type:"CONNECTION_OVERRIDE",retry:!1});const t=await this.getConnectionParams();this.transport.connect(t),this.transport.onMessage(async n=>{const r=JSON.parse(n.data);this.logger.debug("received",r);for(const s of this.messageReceivedSubscribers)s(r);if(r.type==="ERROR"&&await this.handleErrorMessage(r),r.type==="TRIPLES"){const{payload:s}=r,i=s.triples,u=s.forQueries;for(const o of u){const a=this.queryFulfillmentCallbacks.get(o);a&&a(s)}i.length!==0&&await this.db.transact(async o=>{await o.storeTx.withScope({read:["cache"],write:["cache"]}).insertTriples(i)},{skipRules:!0})}if(r.type==="TRIPLES_ACK"){const{payload:s}=r,{txIds:i,failedTxIds:u}=s;try{const o=new Set(u);await this.db.tripleStore.transact(async c=>{const l=c.withScope({read:["outbox"],write:["outbox"]}),d=c.withScope({read:["cache"],write:["cache"]});for(const h of i){const f=JSON.parse(h),p=await l.findByClientTimestamp(await this.db.getClientId(),"eq",f);p.length>0&&(await d.insertTriples(p),await l.deleteTriples(p))}});for(const c of i)this.txCommits$.next(c);(await this.getTriplesToSend(this.db.tripleStore.setStorageScope(["outbox"]))).filter(c=>!o.has(JSON.stringify(c.timestamp))).length&&this.signalOutboxTriples()}finally{for(const o of i)this.awaitingAck.delete(o);for(const o of u)this.awaitingAck.delete(o)}}if(r.type==="TRIPLES_REQUEST"){const s=await this.getTriplesToSend(this.db.tripleStore.setStorageScope(["outbox"]));this.sendTriples(s)}if(r.type==="CLOSE"){const{payload:s}=r;this.logger.info(`Closing connection${s!=null&&s.message?`: ${s.message}`:"."}`);const{type:i,retry:u}=s;this.closeConnection({type:i,retry:u})}}),this.transport.onOpen(async()=>{this.logger.info("sync connection has opened"),this.resetReconnectTimeout(),!!(await this.getTriplesToSend(this.db.tripleStore.setStorageScope(["outbox"]))).length&&this.signalOutboxTriples();for(const[s,i]of this.queries)this.getQueryState(s).then(u=>{this.sendMessage({type:"CONNECT_QUERY",payload:{id:s,params:i.params,state:u}})})}),this.transport.onClose(n=>{if(this.awaitingAck=new Set,n.reason){let s,i;try{const{type:u,retry:o}=JSON.parse(n.reason);s=u,i=o}catch{s="UNKNOWN",i=!0}if(s==="SCHEMA_MISMATCH"&&this.logger.error("The server has closed the connection because the client schema does not match the server schema. Please update your client schema."),!i){this.logger.warn("Connection will not automatically retry.");return}}const r=this.connect.bind(this);this.reconnectTimeout=setTimeout(r,this.reconnectTimeoutDelay),this.reconnectTimeoutDelay=Math.min(3e4,this.reconnectTimeoutDelay*2)}),this.transport.onError(n=>{this.logger.error("transport error",n),this.transport.close()}),this.transport.onConnectionChange(n=>{for(const r of this.connectionChangeHandlers)r(n)})}get connectionStatus(){return this.transport.connectionStatus}updateConnection(t){Object.keys(t).some(r=>this.syncOptions[r]!==t[r])&&(this.disconnect(),this.syncOptions={...this.syncOptions,...t},this.connect())}disconnect(){this.closeConnection({type:"MANUAL_DISCONNECT",retry:!1})}async handleErrorMessage(t){const{error:n,metadata:r}=t.payload;switch(this.logger.error(n.name,r),n.name){case"MalformedMessagePayloadError":case"UnrecognizedMessageTypeError":this.logger.warn("You sent a malformed message to the server. This might occur if your client is not up to date with the server. Please ensure your client is updated.");break;case"TriplesInsertError":const s=(r==null?void 0:r.failures)??[];for(const u of s){const{txId:o,error:a}=u;this.txFailures$.next({txId:o,error:a})}case"QuerySyncError":const i=r==null?void 0:r.queryKey;i&&this.disconnectQuery(i)}}sendTriples(t){const n=this.syncOptions.syncSchema?t:t.filter(({id:r})=>!r.includes("_metadata#_schema"));n.length!==0&&(n.forEach(r=>this.awaitingAck.add(JSON.stringify(r.timestamp))),this.sendMessage({type:"TRIPLES",payload:{triples:n}}))}sendMessage(t){this.transport.sendMessage(t),this.logger.debug("sent",t);for(const n of this.messageSentSubscribers)n(t)}async retry(t){const n=JSON.parse(t),r=await this.db.tripleStore.setStorageScope(["outbox"]).findByClientTimestamp(await this.db.getClientId(),"eq",n);r.length>0&&this.sendTriples(r)}async rollback(t){const n=Array.isArray(t)?t:[t];await this.db.transact(async r=>{const s=r.storeTx.withScope({read:["outbox"],write:["outbox"]});for(const i of n){const u=JSON.parse(i),o=await s.findByClientTimestamp(await this.db.getClientId(),"eq",u);await s.deleteTriples(o)}},{skipRules:!0})}onConnectionStatusChange(t,n=!1){return this.connectionChangeHandlers.add(t),n&&t(this.transport.connectionStatus),()=>{this.connectionChangeHandlers.delete(t)}}closeConnection(t){this.transport&&this.transport.close(t)}resetReconnectTimeout(){clearTimeout(this.reconnectTimeout),this.reconnectTimeoutDelay=250}async syncQuery(t){try{const n=await this.getRemoteTriples(t);await this.db.transact(async r=>{await r.storeTx.withScope({read:["cache"],write:["cache"]}).insertTriples(n)},{skipRules:!0})}catch(n){throw n instanceof L?n:n instanceof Error?new pS(t,n.message):new pS(t,"An unknown error occurred.")}}async fetchQuery(t){var n;try{const r=await this.getRemoteTriples(t),s=ka(r),i=(n=await this.db.getSchema())==null?void 0:n.collections;return new Map([...s].map(([u,o])=>[So(u),Oi(o.data,i)]))}catch(r){throw r instanceof L?r:r instanceof Error?new Tf(t,r.message):new Tf(t,"An unknown error occurred.")}}async getRemoteTriples(t){const n=await this.fetchFromServer("/queryTriples",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:t})});if(!n.ok){let r;try{r=await n.json()}catch{throw new Tf(t,`The server responded with an error: ${await n.text()}`)}const s=r.message??JSON.stringify(r);throw new Tf(t,s)}return await n.json()}fetchFromServer(t,n){if(!this.httpUri||!this.token){const r=[];throw this.httpUri||r.push("No server specified."),this.token||r.push("No token specified."),new _Z(r.join(" "))}return fetch(`${this.httpUri}${t}`,{...n,headers:{Authorization:`Bearer ${this.token}`,...n==null?void 0:n.headers}})}async getTriplesToSend(t){return(await t.findByEntity()).filter(n=>this.shouldSendTriple(n))}shouldSendTriple(t){return!this.awaitingAck.has(JSON.stringify(t.timestamp))&&(this.syncOptions.syncSchema||!t.id.includes("_metadata#_schema"))}}function cee(e,t){let n=!1,r=!1;function s(){r?(e(),r=!1,setTimeout(s,t)):n=!1}return function(){n?r=!0:(e(),n=!0,setTimeout(s,t))}}function lee(e,t){const n={collectionName:e,...t};return new Ar(n)}class Ar{constructor(t){R(this,"query");this.query=t}build(){return this.query}select(t){return new Ar({...this.query,select:t})}where(...t){return new Ar({...this.query,where:vi().where(this.query,...t)})}id(t){const n=[["id","=",t],...(this.query.where??[]).filter(r=>!Array.isArray(r)||r[0]!=="id")];return new Ar({...this.query,where:n})}order(...t){return new Ar({...this.query,order:vi().order(this.query,...t)})}after(t,n){return new Ar({...this.query,after:vi().after(this.query,t,n)})}include(t,n){return new Ar({...this.query,include:vi().include(this.query,t,n)})}limit(t){return new Ar({...this.query,limit:t})}vars(t){return new Ar({...this.query,vars:t})}entityId(t){return this.id(t)}syncStatus(t){return new Ar({...this.query,syncStatus:t})}}function fee(e,t){const n={collectionName:e,...t};return new Tr(n)}function dee(e){try{const t=JSON.parse(e);return L.fromJson(t)}catch{return new L(`Failed to parse remote error response: ${e}`)}}class hee{constructor(t){R(this,"options");this.options=t}async schema(){var t,n;return this.options.schema||await((n=(t=this.options).schemaFactory)==null?void 0:n.call(t))}updateOptions(t){this.options={...this.options,...t}}async sendRequest(t,n,r,s={isFile:!1}){if(!this.options.server)throw new L("No server url provided");if(!this.options.token)throw new L("No token provided");const i={Authorization:"Bearer "+this.options.token,"Content-Type":"application/json"},u=JSON.stringify(r);let o;s.isFile&&(o=new FormData,o.append("data",u),delete i["Content-Type"]);const a=await fetch(this.options.server+t,{method:n,headers:i,body:s.isFile?o:u});return a.ok?{data:await a.json(),error:void 0}:{data:void 0,error:dee(await a.text())}}async fetch(t){const{data:n,error:r}=await this.sendRequest("/fetch","POST",{query:t});if(r)throw r;return ES(t,n.result,await this.schema())}async queryTriples(t){const{data:n,error:r}=await this.sendRequest("/queryTriples","POST",{query:t});if(r)throw r;return n}async fetchOne(t){t={...t,limit:1};const{data:n,error:r}=await this.sendRequest("/fetch","POST",{query:t});if(r)throw r;const i=[...ES(t,n.result,await this.schema()).values()][0];return i||null}async fetchById(t,n){const r=this.query(t).id(n).build();return this.fetchOne(r)}async insert(t,n){var a;const r=await this.schema(),s=(a=r==null?void 0:r[t])==null?void 0:a.schema,i=s?Object.fromEntries(Object.entries(n).map(([c,l])=>[c,s.properties[c].convertJSToJSON(l,r)])):n,{data:u,error:o}=await this.sendRequest("/insert","POST",{collectionName:t,entity:i});if(o)throw o;return u}async bulkInsert(t){const n=await this.schema(),r=n?Object.fromEntries(Object.entries(t).map(([u,o])=>[u,o==null?void 0:o.map(a=>Object.fromEntries(Object.entries(a).map(([c,l])=>{var d;return[c,(d=n[u])==null?void 0:d.schema.properties[c].convertJSToJSON(l,n)]})))])):t,{data:s,error:i}=await this.sendRequest("/bulk-insert-file","POST",r,{isFile:!0});if(i)throw i;return s}async insertTriples(t){const{data:n,error:r}=await this.sendRequest("/insert-triples","POST",{triples:t});if(r)throw r;return n}async deleteTriples(t){const{data:n,error:r}=await this.sendRequest("/delete-triples","POST",{entityAttributes:t});if(r)throw r;return n}async update(t,n,r){var m;const s=await this.schema();(m=s==null?void 0:s[t])==null||m.schema;const i=this.query(t).id(n).build(),u=await this.queryTriples(i),o=sa(u,Zt(t,n)),a=ln(o==null?void 0:o.data),c=new J4(a),l=Yd(c,a,s,t);await r(l);const h=c.getTuples().map(b=>b[1]===void 0?["delete",b[0]]:["set",b[0],b[1]]),{data:f,error:p}=await this.sendRequest("/update","POST",{collectionName:t,entityId:n,patches:h});if(p)throw p;return f}async delete(t,n){const{data:r,error:s}=await this.sendRequest("/delete","POST",{collectionName:t,entityId:n});if(s)throw s;return r}query(t){return fee(t)}}function ES(e,t,n){return new Map(t.map(r=>[r[0],pee(e,r[1],n)]))}function pee(e,t,n){var o;const{include:r,collectionName:s}=e,i=(o=n==null?void 0:n[s])==null?void 0:o.schema;return i?i.convertJSONToJS(t,n):t}class gee{constructor(){this.keyToValue=new Map,this.valueToKey=new Map}set(t,n){this.keyToValue.set(t,n),this.valueToKey.set(n,t)}getByKey(t){return this.keyToValue.get(t)}getByValue(t){return this.valueToKey.get(t)}clear(){this.keyToValue.clear(),this.valueToKey.clear()}}class mO{constructor(t){this.generateIdentifier=t,this.kv=new gee}register(t,n){this.kv.getByValue(t)||(n||(n=this.generateIdentifier(t)),this.kv.set(n,t))}clear(){this.kv.clear()}getIdentifier(t){return this.kv.getByValue(t)}getValue(t){return this.kv.getByKey(t)}}class mee extends mO{constructor(){super(t=>t.name),this.classToAllowedProps=new Map}register(t,n){typeof n=="object"?(n.allowProps&&this.classToAllowedProps.set(t,n.allowProps),super.register(t,n.identifier)):super.register(t,n)}getAllowedProps(t){return this.classToAllowedProps.get(t)}}function bee(e){if("values"in Object)return Object.values(e);const t=[];for(const n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t}function yee(e,t){const n=bee(e);if("find"in n)return n.find(t);const r=n;for(let s=0;s<r.length;s++){const i=r[s];if(t(i))return i}}function aa(e,t){Object.entries(e).forEach(([n,r])=>t(r,n))}function Xf(e,t){return e.indexOf(t)!==-1}function OS(e,t){for(let n=0;n<e.length;n++){const r=e[n];if(t(r))return r}}class wee{constructor(){this.transfomers={}}register(t){this.transfomers[t.name]=t}findApplicable(t){return yee(this.transfomers,n=>n.isApplicable(t))}findByName(t){return this.transfomers[t]}}const vee=e=>Object.prototype.toString.call(e).slice(8,-1),bO=e=>typeof e>"u",xee=e=>e===null,rl=e=>typeof e!="object"||e===null||e===Object.prototype?!1:Object.getPrototypeOf(e)===null?!0:Object.getPrototypeOf(e)===Object.prototype,hb=e=>rl(e)&&Object.keys(e).length===0,Li=e=>Array.isArray(e),See=e=>typeof e=="string",Aee=e=>typeof e=="number"&&!isNaN(e),_ee=e=>typeof e=="boolean",Tee=e=>e instanceof RegExp,sl=e=>e instanceof Map,il=e=>e instanceof Set,yO=e=>vee(e)==="Symbol",Eee=e=>e instanceof Date&&!isNaN(e.valueOf()),Oee=e=>e instanceof Error,IS=e=>typeof e=="number"&&isNaN(e),Iee=e=>_ee(e)||xee(e)||bO(e)||Aee(e)||See(e)||yO(e),Nee=e=>typeof e=="bigint",Ree=e=>e===1/0||e===-1/0,kee=e=>ArrayBuffer.isView(e)&&!(e instanceof DataView),Cee=e=>e instanceof URL,wO=e=>e.replace(/\./g,"\\."),Tg=e=>e.map(String).map(wO).join("."),mc=e=>{const t=[];let n="";for(let s=0;s<e.length;s++){let i=e.charAt(s);if(i==="\\"&&e.charAt(s+1)==="."){n+=".",s++;continue}if(i==="."){t.push(n),n="";continue}n+=i}const r=n;return t.push(r),t};function Qr(e,t,n,r){return{isApplicable:e,annotation:t,transform:n,untransform:r}}const vO=[Qr(bO,"undefined",()=>null,()=>{}),Qr(Nee,"bigint",e=>e.toString(),e=>typeof BigInt<"u"?BigInt(e):(console.error("Please add a BigInt polyfill."),e)),Qr(Eee,"Date",e=>e.toISOString(),e=>new Date(e)),Qr(Oee,"Error",(e,t)=>{const n={name:e.name,message:e.message};return t.allowedErrorProps.forEach(r=>{n[r]=e[r]}),n},(e,t)=>{const n=new Error(e.message);return n.name=e.name,n.stack=e.stack,t.allowedErrorProps.forEach(r=>{n[r]=e[r]}),n}),Qr(Tee,"regexp",e=>""+e,e=>{const t=e.slice(1,e.lastIndexOf("/")),n=e.slice(e.lastIndexOf("/")+1);return new RegExp(t,n)}),Qr(il,"set",e=>[...e.values()],e=>new Set(e)),Qr(sl,"map",e=>[...e.entries()],e=>new Map(e)),Qr(e=>IS(e)||Ree(e),"number",e=>IS(e)?"NaN":e>0?"Infinity":"-Infinity",Number),Qr(e=>e===0&&1/e===-1/0,"number",()=>"-0",Number),Qr(Cee,"URL",e=>e.toString(),e=>new URL(e))];function i0(e,t,n,r){return{isApplicable:e,annotation:t,transform:n,untransform:r}}const xO=i0((e,t)=>yO(e)?!!t.symbolRegistry.getIdentifier(e):!1,(e,t)=>["symbol",t.symbolRegistry.getIdentifier(e)],e=>e.description,(e,t,n)=>{const r=n.symbolRegistry.getValue(t[1]);if(!r)throw new Error("Trying to deserialize unknown symbol");return r}),Dee=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,Uint8ClampedArray].reduce((e,t)=>(e[t.name]=t,e),{}),SO=i0(kee,e=>["typed-array",e.constructor.name],e=>[...e],(e,t)=>{const n=Dee[t[1]];if(!n)throw new Error("Trying to deserialize unknown typed array");return new n(e)});function AO(e,t){return e!=null&&e.constructor?!!t.classRegistry.getIdentifier(e.constructor):!1}const _O=i0(AO,(e,t)=>["class",t.classRegistry.getIdentifier(e.constructor)],(e,t)=>{const n=t.classRegistry.getAllowedProps(e.constructor);if(!n)return{...e};const r={};return n.forEach(s=>{r[s]=e[s]}),r},(e,t,n)=>{const r=n.classRegistry.getValue(t[1]);if(!r)throw new Error("Trying to deserialize unknown class - check https://github.com/blitz-js/superjson/issues/116#issuecomment-773996564");return Object.assign(Object.create(r.prototype),e)}),TO=i0((e,t)=>!!t.customTransformerRegistry.findApplicable(e),(e,t)=>["custom",t.customTransformerRegistry.findApplicable(e).name],(e,t)=>t.customTransformerRegistry.findApplicable(e).serialize(e),(e,t,n)=>{const r=n.customTransformerRegistry.findByName(t[1]);if(!r)throw new Error("Trying to deserialize unknown custom value");return r.deserialize(e)}),Mee=[_O,xO,TO,SO],NS=(e,t)=>{const n=OS(Mee,s=>s.isApplicable(e,t));if(n)return{value:n.transform(e,t),type:n.annotation(e,t)};const r=OS(vO,s=>s.isApplicable(e,t));if(r)return{value:r.transform(e,t),type:r.annotation}},EO={};vO.forEach(e=>{EO[e.annotation]=e});const Pee=(e,t,n)=>{if(Li(t))switch(t[0]){case"symbol":return xO.untransform(e,t,n);case"class":return _O.untransform(e,t,n);case"custom":return TO.untransform(e,t,n);case"typed-array":return SO.untransform(e,t,n);default:throw new Error("Unknown transformation: "+t)}else{const r=EO[t];if(!r)throw new Error("Unknown transformation: "+t);return r.untransform(e,n)}},Ao=(e,t)=>{const n=e.keys();for(;t>0;)n.next(),t--;return n.next().value};function OO(e){if(Xf(e,"__proto__"))throw new Error("__proto__ is not allowed as a property");if(Xf(e,"prototype"))throw new Error("prototype is not allowed as a property");if(Xf(e,"constructor"))throw new Error("constructor is not allowed as a property")}const jee=(e,t)=>{OO(t);for(let n=0;n<t.length;n++){const r=t[n];if(il(e))e=Ao(e,+r);else if(sl(e)){const s=+r,i=+t[++n]==0?"key":"value",u=Ao(e,s);switch(i){case"key":e=u;break;case"value":e=e.get(u);break}}else e=e[r]}return e},pb=(e,t,n)=>{if(OO(t),t.length===0)return n(e);let r=e;for(let i=0;i<t.length-1;i++){const u=t[i];if(Li(r)){const o=+u;r=r[o]}else if(rl(r))r=r[u];else if(il(r)){const o=+u;r=Ao(r,o)}else if(sl(r)){if(i===t.length-2)break;const a=+u,c=+t[++i]==0?"key":"value",l=Ao(r,a);switch(c){case"key":r=l;break;case"value":r=r.get(l);break}}}const s=t[t.length-1];if(Li(r)?r[+s]=n(r[+s]):rl(r)&&(r[s]=n(r[s])),il(r)){const i=Ao(r,+s),u=n(i);i!==u&&(r.delete(i),r.add(u))}if(sl(r)){const i=+t[t.length-2],u=Ao(r,i);switch(+s==0?"key":"value"){case"key":{const a=n(u);r.set(a,r.get(u)),a!==u&&r.delete(u);break}case"value":{r.set(u,n(r.get(u)));break}}}return e};function gb(e,t,n=[]){if(!e)return;if(!Li(e)){aa(e,(i,u)=>gb(i,t,[...n,...mc(u)]));return}const[r,s]=e;s&&aa(s,(i,u)=>{gb(i,t,[...n,...mc(u)])}),t(r,n)}function Lee(e,t,n){return gb(t,(r,s)=>{e=pb(e,s,i=>Pee(i,r,n))}),e}function Fee(e,t){function n(r,s){const i=jee(e,mc(s));r.map(mc).forEach(u=>{e=pb(e,u,()=>i)})}if(Li(t)){const[r,s]=t;r.forEach(i=>{e=pb(e,mc(i),()=>e)}),s&&aa(s,n)}else aa(t,n);return e}const Bee=(e,t)=>rl(e)||Li(e)||sl(e)||il(e)||AO(e,t);function Uee(e,t,n){const r=n.get(e);r?r.push(t):n.set(e,[t])}function qee(e,t){const n={};let r;return e.forEach(s=>{if(s.length<=1)return;t||(s=s.map(o=>o.map(String)).sort((o,a)=>o.length-a.length));const[i,...u]=s;i.length===0?r=u.map(Tg):n[Tg(i)]=u.map(Tg)}),r?hb(n)?[r]:[r,n]:hb(n)?void 0:n}const IO=(e,t,n,r,s=[],i=[],u=new Map)=>{const o=Iee(e);if(!o){Uee(e,s,t);const f=u.get(e);if(f)return r?{transformedValue:null}:f}if(!Bee(e,n)){const f=NS(e,n),p=f?{transformedValue:f.value,annotations:[f.type]}:{transformedValue:e};return o||u.set(e,p),p}if(Xf(i,e))return{transformedValue:null};const a=NS(e,n),c=(a==null?void 0:a.value)??e,l=Li(c)?[]:{},d={};aa(c,(f,p)=>{if(p==="__proto__"||p==="constructor"||p==="prototype")throw new Error(`Detected property ${p}. This is a prototype pollution risk, please remove it from your object.`);const m=IO(f,t,n,r,[...s,p],[...i,e],u);l[p]=m.transformedValue,Li(m.annotations)?d[p]=m.annotations:rl(m.annotations)&&aa(m.annotations,(b,y)=>{d[wO(p)+"."+y]=b})});const h=hb(d)?{transformedValue:l,annotations:a?[a.type]:void 0}:{transformedValue:l,annotations:a?[a.type,d]:d};return o||u.set(e,h),h};function NO(e){return Object.prototype.toString.call(e).slice(8,-1)}function RS(e){return NO(e)==="Array"}function $ee(e){if(NO(e)!=="Object")return!1;const t=Object.getPrototypeOf(e);return!!t&&t.constructor===Object&&t===Object.prototype}function Vee(e,t,n,r,s){const i={}.propertyIsEnumerable.call(r,t)?"enumerable":"nonenumerable";i==="enumerable"&&(e[t]=n),s&&i==="nonenumerable"&&Object.defineProperty(e,t,{value:n,enumerable:!1,writable:!0,configurable:!0})}function mb(e,t={}){if(RS(e))return e.map(s=>mb(s,t));if(!$ee(e))return e;const n=Object.getOwnPropertyNames(e),r=Object.getOwnPropertySymbols(e);return[...n,...r].reduce((s,i)=>{if(RS(t.props)&&!t.props.includes(i))return s;const u=e[i],o=mb(u,t);return Vee(s,i,o,e,t.nonenumerable),s},{})}class ke{constructor({dedupe:t=!1}={}){this.classRegistry=new mee,this.symbolRegistry=new mO(n=>n.description??""),this.customTransformerRegistry=new wee,this.allowedErrorProps=[],this.dedupe=t}serialize(t){const n=new Map,r=IO(t,n,this,this.dedupe),s={json:r.transformedValue};r.annotations&&(s.meta={...s.meta,values:r.annotations});const i=qee(n,this.dedupe);return i&&(s.meta={...s.meta,referentialEqualities:i}),s}deserialize(t){const{json:n,meta:r}=t;let s=mb(n);return r!=null&&r.values&&(s=Lee(s,r.values,this)),r!=null&&r.referentialEqualities&&(s=Fee(s,r.referentialEqualities)),s}stringify(t){return JSON.stringify(this.serialize(t))}parse(t){return this.deserialize(JSON.parse(t))}registerClass(t,n){this.classRegistry.register(t,n)}registerSymbol(t,n){this.symbolRegistry.register(t,n)}registerCustom(t,n){this.customTransformerRegistry.register({name:n,...t})}allowErrorProps(...t){this.allowedErrorProps.push(...t)}}ke.defaultInstance=new ke;ke.serialize=ke.defaultInstance.serialize.bind(ke.defaultInstance);ke.deserialize=ke.defaultInstance.deserialize.bind(ke.defaultInstance);ke.stringify=ke.defaultInstance.stringify.bind(ke.defaultInstance);ke.parse=ke.defaultInstance.parse.bind(ke.defaultInstance);ke.registerClass=ke.defaultInstance.registerClass.bind(ke.defaultInstance);ke.registerSymbol=ke.defaultInstance.registerSymbol.bind(ke.defaultInstance);ke.registerCustom=ke.defaultInstance.registerCustom.bind(ke.defaultInstance);ke.allowErrorProps=ke.defaultInstance.allowErrorProps.bind(ke.defaultInstance);const Eg=["error","warn","info","debug"];class bw{constructor(t){R(this,"onLog");R(this,"logScope");R(this,"levelIndex");this.logScope=t.scope,this.onLog=t.onLog??(()=>{}),this.level=t.level??"info",this.levelIndex=Eg.indexOf(this.level)}set level(t){this.levelIndex=Eg.indexOf(t)}get level(){return Eg[this.levelIndex]}constructLogObj(t,n,...r){const s={args:r.map(ke.serialize),scope:this.logScope,message:n,timestamp:Date.now(),level:t};return this.onLog(s),s}scope(t){return new bw({scope:t,onLog:this.onLog,level:this.level})}info(t,...n){const r=this.constructLogObj("info",t,...n);this.levelIndex<2||console.info(`%c${r.scope}`,"color: #888",t,n)}warn(t,...n){const r=this.constructLogObj("warn",t,...n);this.levelIndex<1||console.warn(r.scope,t,n)}error(t,...n){const r=n.length===1&&n[0]instanceof L?n[0].toJSON():n,s=this.constructLogObj("error",t,...n);console.error(s.scope,s.message,r)}debug(t,...n){const r=this.constructLogObj("debug",t,...n);if(!(this.levelIndex<3)){if(r.scope==="sync"){if(r.message==="sent"){console.debug("%c OUT ","background: #228; color: #51acff",n[0].type,n[0].payload);return}if(r.message==="received"){console.debug("%c IN ","background: #ccc; color: #333",n[0].type,n[0].payload);return}}console.debug(`%c${r.scope}`,"color: rgba(255,255,200,0.5)",r.message,n)}}}const uu=!0;function kS(e){const{syncStatus:t}=e;if(!t)return["cache","outbox"];switch(t){case"all":return["cache","outbox"];case"confirmed":return["cache"];case"pending":return["outbox"]}}function zee(e){if(typeof e=="object"&&("cache"in e||"outbox"in e)){if(!("cache"in e)||!("outbox"in e))throw new Error("Must define both outbox and client.");return e}if(e==="memory")return{cache:new Kd,outbox:new Kd};if(e==="indexeddb")return{cache:new ib("triplit-cache"),outbox:new ib("triplit-outbox")}}const Hee="memory",Gee={policy:"local-first"};class Jee{constructor(t){R(this,"db");R(this,"syncEngine");R(this,"authOptions");R(this,"remote");R(this,"http");R(this,"defaultFetchOptions");R(this,"logger");R(this,"logs",[]);const{schema:n,token:r,claimsPath:s,serverUrl:i,syncSchema:u,transport:o,migrations:a,clientId:c,variables:l,storage:d,defaultQueryOptions:h,logger:f,logLevel:p="info"}=t??{};this.logger=f??new bw({scope:"client",level:p,onLog:p==="debug"?x=>this.logs.push(x):()=>{}});const m=(t==null?void 0:t.autoConnect)??!0,b=new xZ("cache",c);this.authOptions={token:r,claimsPath:s};const y=n?{collections:n,version:0}:void 0;this.db=new sO({clock:b,schema:y,migrations:a?{definitions:a,scopes:["cache"]}:void 0,variables:l,sources:zee(d??Hee),logger:this.logger.scope("db")}),this.defaultFetchOptions={fetch:Gee,...h};const w={syncSchema:u,transport:o,logger:this.logger.scope("sync"),...i?CS(i):{}};if(this.http=this.remote=new hee({server:i,token:r,schemaFactory:async()=>{var x;return(x=await this.db.getSchema())==null?void 0:x.collections}}),this.db.onSchemaChange(x=>{this.http.updateOptions({schema:x==null?void 0:x.collections})}),this.authOptions.token){w.token=this.authOptions.token;const x=hS(this.authOptions.token,this.authOptions.claimsPath);this.db=this.db.withSessionVars({SESSION_USER_ID:x})}this.syncEngine=new aee(this,w),this.db.ready.then(()=>{m&&this.syncEngine.connect()})}async getSchema(){return fw(await this.db.getSchema())}async transact(t){this.logger.debug("transact START");const n=await this.db.transact(t,{skipRules:uu,storeScope:{read:["outbox","cache"],write:["outbox"]}});return this.logger.debug("transact END",n),n}query(t){return lee(t)}async fetch(t,n){t=Og(t);const r={...this.defaultFetchOptions.fetch,...n??{}};if(r.policy==="local-only")return this.fetchLocal(t,r);if(r.policy==="local-first"){const s=await this.fetchLocal(t,r);if(s.size>0)return s;try{await this.syncEngine.syncQuery(t)}catch(i){Of(i)}return this.fetchLocal(t,r)}if(r.policy==="remote-first"){try{await this.syncEngine.syncQuery(t)}catch(s){Of(s)}return this.fetchLocal(t,r)}if(r.policy==="remote-only")return this.syncEngine.fetchQuery(t);if(r.policy==="local-and-remote"){const s=r.timeout??0;return await Promise.race([this.syncEngine.syncQuery(t),new Promise(i=>setTimeout(i,s))]).catch(Of),this.fetchLocal(t,r)}throw new AZ(r.policy)}async fetchLocal(t,n){const r=kS(t);this.logger.debug("fetchLocal START",t,r);const s=await this.db.fetch(t,{scope:r,skipRules:uu,...n??{}});return this.logger.debug("fetchLocal END",s),s}async fetchById(t,n,r){this.logger.debug("fetchById START",t,n,r);const s=this.query(t).id(n).build(),i=await this.fetchOne(s,r);return this.logger.debug("fetchById END",t,n,r),i}clear(t={}){return this.db.clear(t)}async fetchOne(t,n){t=Og(t),t={...t,limit:1};const s=[...(await this.fetch(t,n)).values()][0];return s||null}async insert(t,n){this.logger.debug("insert START",t,n);const r=await this.db.insert(t,n,{skipRules:uu,storeScope:{read:["outbox","cache"],write:["outbox"]}});return this.logger.debug("insert END",r),r}async update(t,n,r){this.logger.debug("update START",t,n);const s=await this.db.update(t,n,r,{skipRules:uu,storeScope:{read:["outbox","cache"],write:["outbox"]}});return this.logger.debug("update END",s),s}async updateRaw(t,n,r){this.logger.debug("updateRaw START",t,n);const s=await this.db.transact(async i=>{await i.updateRaw(t,n,r)},{skipRules:!0,storeScope:{read:["outbox","cache"],write:["outbox"]}});return this.logger.debug("updateRaw END",s),s}async delete(t,n){this.logger.debug("delete START",t,n);const r=await this.db.delete(t,n,{skipRules:uu,storeScope:{read:["outbox","cache"],write:["outbox"]}});return this.logger.debug("delete END",r),r}subscribe(t,n,r,s){let i=!1;const u={localOnly:!1,...s??{}};t=Og(t);const o=kS(t);if(this.logger.debug("subscribe start",t,o),u.localOnly)try{return this.db.subscribe(t,b=>n(b,{hasRemoteFulfilled:!1}),r,{scope:o,skipRules:uu,...u})}catch(b){return r?r(b):Of(b),()=>{}}let a=()=>{},c=()=>{},l=!1,d=null,h;const f=n,p=r;n=(b,y)=>{i||f(b,y)},r=p?b=>{i||p(b)}:void 0;const m=b=>{h=b,this.logger.debug("subscribe RESULTS",h),n(h,{hasRemoteFulfilled:l})};if(a=this.db.subscribe(t,m,r,{scope:o,skipRules:uu,...u}),o.includes("cache")){const b=()=>{l=!0,d!==null&&clearTimeout(d),d=setTimeout(()=>{var y;m(h),(y=u.onRemoteFulfilled)==null||y.call(u)},250)};c=this.syncEngine.subscribe(t,b)}return()=>{i=!0,a(),c()}}subscribeWithPagination(t,n,r,s){const i={},u=t.limit;let o=(d,h)=>{n(d,{...h,hasNextPage:!1,hasPreviousPage:!1})};i.nextPage=()=>{console.warn("There is no limit set on the query, so nextPage() is a no-op")},i.prevPage=()=>{console.warn("There is no limit set on the query, so prevPage() is a no-op")};let a,c,l="forward";return t.limit&&(t={...t},t.limit=u+1+(t.after?1:0),o=(d,h)=>{var T,$,z;const f=($=(T=t.order)==null?void 0:T[0])==null?void 0:$[0];if(!f)throw new L("No cursor attribute found in query order");let p=Array.from(d.entries());const m=p.at(0),b=!!t.after&&!!m&&GQ(t.after[0],[m[1][f],m[0]])>-1,y=d.size>=t.limit,w=l==="reversed"?y:b,x=l==="forward"?y:b;p=p.slice(b?1:0,y?-1:void 0);const v=p.at(0),_=p.at(u-1);a=v?[v[1][f],v[0]]:void 0,c=_?[_[1][f],_[0]]:void 0,l==="reversed"&&(p=p.reverse()),!w&&t.after?((z=i.unsubscribe)==null||z.call(i),t={...t},t.after=void 0,t.limit=u+1,l==="reversed"&&(t.order=Ig(t.order)),l="forward",i.unsubscribe=this.subscribe(t,o,r,s)):n(new Map(p),{...h,hasNextPage:x,hasPreviousPage:w})},i.nextPage=()=>{var d;(d=i.unsubscribe)==null||d.call(i),t={...t},l==="reversed"?(t.order=Ig(t.order),t.after=a?[a,!0]:void 0):(t.after||(t.limit=t.limit+1),t.after=c?[c,!0]:void 0),l="forward",i.unsubscribe=this.subscribe(t,o,r,s)},i.prevPage=()=>{var d;(d=i.unsubscribe)==null||d.call(i),t={...t},l==="forward"?(t.order=Ig(t.order),t.after=a?[a,!0]:void 0):t.after=c?[c,!0]:void 0,l="reversed",i.unsubscribe=this.subscribe(t,o,r,s)}),i.unsubscribe=this.subscribe(t,o,r,s),i}subscribeWithExpand(t,n,r,s){const i={};let u=(o,a)=>{n(o,{...a,hasMore:!1})};if(i.loadMore=()=>{console.warn("There is no limit set on the query, so loadMore is a no-op")},t.limit){const o=t.limit;t={...t},t.limit=t.limit+1,u=(a,c)=>{const l=a.size>=t.limit;let d=Array.from(a.entries());l&&(d=d.slice(0,-1)),n(new Map(d),{hasRemoteFulfilled:c.hasRemoteFulfilled,hasMore:l})},i.loadMore=a=>{var c;(c=i.unsubscribe)==null||c.call(i),t={...t},t.limit=(t.limit??1)+(a??o),i.unsubscribe=this.subscribe(t,u,r,s)}}return i.unsubscribe=this.subscribe(t,u,r,s),i}updateOptions(t){const{token:n,serverUrl:r}=t,s=t.hasOwnProperty("token"),i=t.hasOwnProperty("serverUrl");let u={};if(s){this.authOptions={...this.authOptions,token:n};const{claimsPath:o}=this.authOptions,a=n?hS(n,o):void 0;this.db=this.db.withSessionVars({SESSION_USER_ID:a}),u={...u,token:n}}if(i){const{server:o,secure:a}=r?CS(r):{server:void 0,secure:void 0};u={...u,server:o,secure:a}}(s||i)&&(this.syncEngine.updateConnection(u),this.http.updateOptions(u))}updateToken(t){this.updateOptions({token:t})}updateServerUrl(t){this.updateOptions({serverUrl:t})}onTxCommitRemote(...t){return this.syncEngine.onTxCommit(...t)}onTxFailureRemote(t,n){return this.syncEngine.onTxFailure(t,n)}onConnectionStatusChange(...t){return this.syncEngine.onConnectionStatusChange(...t)}connect(){return this.syncEngine.connect()}disconnect(){return this.syncEngine.disconnect()}get token(){return this.syncEngine.token}onSyncMessageReceived(...t){return this.syncEngine.onSyncMessageReceived(...t)}onSyncMessageSent(...t){return this.syncEngine.onSyncMessageSent(...t)}retry(...t){return this.syncEngine.retry(...t)}rollback(...t){return this.syncEngine.rollback(...t)}get connectionStatus(){return this.syncEngine.connectionStatus}isFirstTimeFetchingQuery(...t){return this.syncEngine.isFirstTimeFetchingQuery(...t)}}function Og(e){return{id:Math.random().toString().slice(2),...e}}function CS(e){const t=new URL(e),n=t.protocol==="https:";return{server:t.host,secure:n}}function Of(e){e instanceof L?console.warn(e.toJSON()):console.warn(e)}function Ig(e){if(e)return e.map(t=>[t[0],t[1]==="ASC"?"DESC":"ASC"])}const Wee={recipes:{schema:ce.Schema({id:ce.Id(),slug:ce.String(),title:ce.String(),cook_time:ce.Number(),prep_time:ce.Number(),serves:ce.Number(),ingredients:ce.Optional(ce.String()),method_steps:ce.Optional(ce.String()),tags:ce.Optional(ce.String()),shortlisted:ce.Optional(ce.Boolean())})},tag_options:{schema:ce.Schema({id:ce.Id(),name:ce.Optional(ce.String()),options:ce.Optional(ce.Set(ce.String()))})},plan:{schema:ce.Schema({id:ce.Id(),date:ce.Number(),planned_meals:ce.Optional(ce.Record({lunch:ce.Optional(ce.Record({title:ce.String(),complete:ce.Optional(ce.Boolean())})),dinner:ce.Optional(ce.Record({title:ce.String(),complete:ce.Optional(ce.Boolean())}))}))})}},ds=new Jee({storage:"indexeddb",schema:Wee,serverUrl:"http://localhost:6543",token:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ4LXRyaXBsaXQtdG9rZW4tdHlwZSI6ImFub24iLCJ4LXRyaXBsaXQtcHJvamVjdC1pZCI6ImxvY2FsLXByb2plY3QtaWQifQ.JzN7Erur8Y-MlFdCaZtovQwxN_m_fSyOIWNzYQ3uVcc",logLevel:"debug"});typeof window<"u"&&(window.client=ds);async function Qee(){const e=ds.query("recipes").build(),t=await ds.fetch(e);return console.log("do_get_recipes result: ",t),new G(t)}async function Xee(){const e=ds.query("tag_options").build(),t=await ds.fetch(e);return console.log("do_get_tag_options result: ",t),new G(t)}async function Kee(e){const t=await ds.insert("recipes",e);return new G(t)}async function Yee(e,t){console.log(ds);const n=ds.query("plan").where([["date",">=",e],["date","<=",t]]).build(),r=await ds.fetch(n);return console.log("do_get_plan result: ",r),new G(r)}async function Zee(e){for(const t of e){const n=await ds.insert("plan",t);console.log("do_save_plan result: ",n)}return new G(e)}class RO extends S{constructor(t){super(),this[0]=t}}class ete extends S{constructor(t){super(),this[0]=t}}let tte=class extends S{constructor(t,n){super(),this.recipes=t,this.tag_options=n}};class kO extends S{constructor(t,n,r,s,i,u,o,a,c){super(),this.id=t,this.title=n,this.slug=r,this.cook_time=s,this.prep_time=i,this.serves=u,this.tags=o,this.ingredients=a,this.method_steps=c}}class nte extends S{constructor(t,n,r){super(),this.id=t,this.name=n,this.options=r}}class bc extends S{constructor(t){super(),this.step_text=t}}class Co extends S{constructor(t,n){super(),this.name=t,this.value=n}}class eh extends S{constructor(t,n,r,s){super(),this.name=t,this.ismain=n,this.quantity=r,this.units=s}}function rte(e,t){return t.withFields({recipes:(()=>{let n=t.recipes,r=Z(n,u=>[u.id,u]),s=Xt(r),i=x8(s,Xt(g([[e.id,e]])));return $o(i)})()})}function ste(e){return pN((n,r,s,i)=>new eh(n,r,s,i),Cr("name",$e),Cr("ismain",O3),Cr("quantity",$e),Cr("units",$e))(e)}function ite(e){return i2((n,r)=>new Co(n,r),Ie("name",$e),Ie("value",$e))(e)}function ute(e){return hN(n=>new bc(n),Ie("step_text",$e))(e)}function ote(e){return gN((n,r,s,i,u,o,a,c,l)=>new kO(n,r,s,i,u,o,a,c,l),Cr("id",$e),Ie("title",$e),Ie("slug",$e),Ie("cook_time",nc),Ie("prep_time",nc),Ie("serves",nc),Cr("tags",Nf(uc,ite)),Cr("ingredients",Nf(uc,ste)),Cr("method_steps",Nf(uc,ute)))(e)}function CO(){return Kt(e=>{let t=Qee(),n=Nt(t,g),r=Nt(n,u=>Z(u,ote)),s=Nt(r,Eb),i=Nt(s,u=>re(u,o=>new RO(o)));xh(i,u=>re(u,e))})}function ate(e){let n=u2((r,s,i)=>new nte(r,s,i),Cr("id",$e),Ie("name",$e),Ie("options",s2($e)))(e);return Ii(n)}function bb(){return Kt(e=>{let t=Xee(),n=Nt(t,g),r=Nt(n,o=>Z(o,ate)),s=Nt(r,Ii),i=Nt(s,Eb),u=Nt(i,o=>re(o,a=>new ete(a)));xh(u,o=>re(o,e))})}class DO extends S{constructor(t){super(),this[0]=t}}class MO extends S{}class PO extends S{constructor(t){super(),this[0]=t}}class yw extends S{constructor(t){super(),this.url=t}}function cte(e,t){if(Ii(t),t instanceof DO){let n=t[0];return[new yw(n),M()]}else return t instanceof MO?[e,Kt(n=>{let r=eL(e.url),s=Nt(r,i=>re(i,u=>new PO(u)));xh(s,i=>re(i,n))})]:[e,M()]}function lte(e){return Lr(g([Ru(g([A("grid grid-cols-12 col-start-[main-start] grid-rows-[fit-content(65px)] gap-y-2")]),g([qi("Import Recipe","underline-yellow"),$u(g([A("flex flex-col justify-start items-middle col-span-1 col-start-12 text-base md:text-lg mt-4")]),g([cn(g([an("/"),A("text-center")]),g([Yt("🏠")])),qn(g([He("submit"),A("text-center"),me("form","import-recipe-form")]),g([Yt("📩")]))])),Fb(g([Ue("import-recipe-form"),A("subgrid-cols grid-rows-[1fr,1fr,5fr] gap-y-2 col-span-full"),Gb(new MO)]),g([qt(g([A("col-span-full my-1 mb-6 pt-1 pb-2 px-2 mr-1 border-ecru-white-950 border-[1px] rounded-[1px] sm:row-span-2 sm:col-span-5 [box-shadow:1px_1px_0_#fce68b]")]),g([Ec(g([A("mx-2 px-1 font-mono italic")]),g([Yt("URL to import")])),P(g([A("justify-self-start col-span-4")]),g([Rr(g([Sn("url"),He("url"),A("input-base input-outline input-focus text-base w-full box-border"),vt(e.url),$t(t=>new DO(t)),Ue("url")]))]))]))]))]))]))}function fte(e,t){let n=Xt(t);return r=>on(e(r),s=>{let i=vn(n,s);if(i.isOk()){let u=i[0];return u(r)}else{let u=(()=>{let a=g8(n),c=Z(a,Cg);return Uo(c," | ")})(),o=(()=>{let a=e(Br(void 0));return!a.isOk()&&a[0].atLeastLength(1)&&a[0].head instanceof qo?a[0].head.path:g([])})();return new xe(g([new qo(u,Cg(e),o)]))}})}function DS(e){return fte($e,Z(e,t=>CI(t,n=>r=>new G(n))))}class u0 extends S{constructor(t,n){super(),this.date=t,this.planned_meals=n}}class dte extends S{constructor(t,n){super(),this.date=t,this.planned_meals=n}}class Kf extends S{constructor(t,n,r){super(),this.title=t,this.for=n,this.complete=r}}class ww extends S{constructor(t,n,r,s){super(),this[0]=t,this[1]=n,this[2]=r,this[3]=s}}class yb extends S{constructor(t){super(),this[0]=t}}class jO extends S{constructor(t,n){super(),this[0]=t,this[1]=n}}class LO extends S{}class FO extends S{}let th=class extends S{constructor(t,n,r){super(),this.plan_week=t,this.recipe_list=n,this.start_date=r}};class Fi extends S{}class nh extends S{}function hte(e,t,n,r,s){return Pw(e,t,i=>new u0(t,(()=>{if(i instanceof k){let u=i[0];if(r instanceof k&&r[0]===""){let o=u.planned_meals;return Rf(o,g([n]))}else return Pw(u.planned_meals,n,o=>{if(o instanceof k){let a=o[0];return new Kf(kg(r,a.title),n,kg(s,a.complete))}else return new Kf(r,n,s)})}else{let u=ll();return Ai(u,n,new Kf(r,n,s))}})()))}function BO(e){let t=(()=>{let c=Qt(e),l=Z(c,d=>kI(d,h=>P2(h)));return Xt(l)})(),n=(()=>{let c=vn(t,new Oc),l=re(c,d=>ui(d.date));return Me(l,"")})(),r=(()=>{let c=vn(t,new ph),l=re(c,d=>ui(d.date));return Me(l,"")})(),s=(()=>{let c=vn(t,new gh),l=re(c,d=>ui(d.date));return Me(l,"")})(),i=(()=>{let c=vn(t,new mh),l=re(c,d=>ui(d.date));return Me(l,"")})(),u=(()=>{let c=vn(t,new bh),l=re(c,d=>ui(d.date));return Me(l,"")})(),o=(()=>{let c=vn(t,new yh),l=re(c,d=>ui(d.date));return Me(l,"")})(),a=(()=>{let c=vn(t,new Ub),l=re(c,d=>ui(d.date));return Me(l,"")})();return Lr(g([P(g([A("subgrid-cols md:col-start-1 row-start-1 subgrid-rows col-span-full md:row-span-full md:col-span-1 sticky left-[-.25rem] top-[-.25rem] outline outline-1 outline-ecru-white-50 border  border-ecru-white-50 bg-ecru-white-50 min-h-full min-w-full")]),g([P(g([A("md:row-start-2 md:col-start-1 font-mono col-start-2 flex justify-center items-center border border-ecru-white-950 [box-shadow:1px_1px_0_#ff776a] sticky left-0 top-0 bg-ecru-white-50")]),g([Xr(g([A("mx-2")]),g([H("Lunch")]))])),P(g([A("md:row-start-3 md:col-start-1 font-mono col-start-3 flex justify-center items-center border border-ecru-white-950  [box-shadow:1px_1px_0_#ff776a] sticky left-0 top-0 bg-ecru-white-50")]),g([Xr(g([A("mx-2")]),g([H("Dinner")]))]))])),P(g([A("md:col-start-2 md:row-start-1 font-mono row-start-2 border border-ecru-white-950 flex justify-center items-center shadow-orange")]),g([Xr(g([xn(g([["--shortMon","'Mon "+n+"'"],["--longMon","'Monday "+n+"'"]])),A("text-center before:content-[var(--shortMon)] before:sm:content-[var(--longMon)]")]),g([]))])),P(g([A("md:col-start-3 md:row-start-1 font-mono row-start-3  border border-ecru-white-950   flex justify-center items-center [box-shadow:1px_1px_0_#ff776a]")]),g([Xr(g([xn(g([["--shortTue","'Tue "+r+"'"],["--longTue","'Tuesday "+r+"'"]])),A("text-center before:content-[var(--shortTue)] before:sm:content-[var(--longTue)]")]),g([]))])),P(g([A("md:col-start-4 md:row-start-1 font-mono row-start-4  border border-ecru-white-950   flex justify-center items-center [box-shadow:1px_1px_0_#ff776a]")]),g([Xr(g([xn(g([["--shortWed","'Wed "+s+"'"],["--longWed","'Wednesday "+s+"'"]])),A("text-center before:content-[var(--shortWed)] before:sm:content-[var(--longWed)]")]),g([]))])),P(g([A("md:col-start-5 md:row-start-1 font-mono row-start-5  border border-ecru-white-950   flex justify-center items-center [box-shadow:1px_1px_0_#ff776a]")]),g([Xr(g([xn(g([["--shortThu","'Thu "+i+"'"],["--longThu","'Thursday "+i+"'"]])),A("text-center before:content-[var(--shortThu)] before:sm:content-[var(--longThu)]")]),g([]))])),P(g([A("md:col-start-6 md:row-start-1 font-mono row-start-6  border border-ecru-white-950   flex justify-center items-center [box-shadow:1px_1px_0_#ff776a]")]),g([Xr(g([xn(g([["--shortFri","'Fri "+u+"'"],["--longFri","'Friday "+u+"'"]])),A("text-center before:content-[var(--shortFri)] before:sm:content-[var(--longFri)]")]),g([]))])),P(g([A("md:col-start-7 md:row-start-1 font-mono row-start-7  border border-ecru-white-950  flex justify-center items-center [box-shadow:1px_1px_0_#ff776a]")]),g([Xr(g([xn(g([["--shortSat","'Sat "+o+"'"],["--longSat","'Saturday "+o+"'"]])),A("text-center before:content-[var(--shortSat)] before:sm:content-[var(--longSat)]")]),g([]))])),P(g([A("md:col-start-8 md:row-start-1 font-mono row-start-8 border border-ecru-white-950   flex justify-center items-center [box-shadow:1px_1px_0_#ff776a]")]),g([Xr(g([xn(g([["--shortSun","'Sun "+a+"'"],["--longSun","'Sunday "+a+"'"]])),A("text-center before:content-[var(--shortSun)] before:sm:content-[var(--longSun)]")]),g([]))]))]))}function pte(e,t){let n=t.title,r=t.complete;return P(g([A("flex justify-center w-11/12 h-11/12 flex-col justify-between m-1 sm:m-2 overflow-hidden")]),g([Xr(g([A("font-transitional text-xl text-wrap"),xn(g([["text-decoration",Pb(Be(r,!1),"line-through",()=>"none")]]))]),g([H(Be(n,""))])),P(g([A("flex justify-end place-self-start sm:mx-2")]),g([Rr(g([He("checkbox"),L2(s=>new ww(e,t.for,new J,new k(s))),x2(Be(t.complete,!1))]))]))]))}function MS(e,t,n){let r=n instanceof Fi?"col-start-2 md:row-start-2":"col-start-3 md:row-start-3",s=(()=>{let i=vn(e.planned_meals,n),u=re(i,o=>pte(e.date,o));return Me(u,_n())})();return P(g([A(`flex outline-1 outline-ecru-white-950 outline outline-offset-[-1px]
                row-start-[var(--dayPlacement)]
                md:col-start-[var(--dayPlacement)] 
                snap-start scroll-p-[-40px] `+r),xn(g([["--dayPlacement",se(t+2)]]))]),g([s]))}function gte(e){let t=vh(e.start_date,new Al),n=s=>Me(vn(e.plan_week,s),new u0(s,ll())),r=Xt(g([[t,n(t)],[Ee(t,1,new Fe),n(Ee(t,1,new Fe))],[Ee(t,2,new Fe),n(Ee(t,2,new Fe))],[Ee(t,3,new Fe),n(Ee(t,3,new Fe))],[Ee(t,4,new Fe),n(Ee(t,4,new Fe))],[Ee(t,5,new Fe),n(Ee(t,5,new Fe))],[Ee(t,6,new Fe),n(Ee(t,6,new Fe))]]));return Lr(g([Ru(g([A("grid grid-cols-12 col-start-[main-start] grid-rows-[fit-content(65px)] gap-y-2")]),g([qi("Week of "+I3(t),"underline-orange"),$u(g([A("flex flex-col justify-start items-middle col-span-1 col-start-12 text-base md:text-lg mt-4")]),g([cn(g([an("/"),A("text-center")]),g([H("🏠")])),cn(g([an("/planner/edit"),A("text-center")]),g([H("✏️")])),P(g([A("flex flex-row justify-evenly px-1")]),g([qn(g([A("text-center"),lr(new yb(Ee(t,-1,new ud)))]),g([H("⬅️")])),qn(g([He("button"),A("text-center"),lr(new yb(Ee(t,1,new ud)))]),g([H("➡️")]))]))]))])),Ru(g([Ue("active-week"),A(`mb-2 text-sm p-1 min-h-[70vh]
            overflow-x-hidden overflow-y-scroll md:overflow-x-scroll md:overflow-y-hidden snap-mandatory snap-always
            col-span-full row-start-2 grid gap-1 
            grid-cols-[minmax(0,15%)_minmax(0,45%)_minmax(0,45%)] grid-rows-[fit-content(10%)_repeat(7,20%)]
            snap-y scroll-pt-[9%]
            md:col-start-[full-start] md:col-end-[full-end]
            md:text-base md:grid-cols-[fit-content(10%)_repeat(7,_15vw)] md:grid-rows-[fit-content(20%)_minmax(20vh,1fr)_minmax(20vh,1fr)]
            md:snap-x md:scroll-pl-[9%] md:scroll-pt-0
            xl:grid-cols-[fit-content(10%)_repeat(7,_11.5vw)]`)]),g([BO(r),Lr((()=>{let s=$o(r),i=jr(s,(u,o)=>od(u.date,o.date));return Iu(i,(u,o)=>MS(u,o,new Fi))})()),Lr((()=>{let s=$o(r),i=jr(s,(u,o)=>od(u.date,o.date));return Iu(i,(u,o)=>MS(u,o,new nh))})())]))]))}function PS(e,t,n,r){return P(g([A("flex justify-center w-11/12 h-11/12 flex-col justify-between m-1 sm:m-2 overflow-hidden")]),g([xC(g([SC(r),AC(n),Ur("typeahead-change",s=>{let i=s,u=Ie("detail",$e)(i);return re(u,o=>new ww(e,t,new k(o),new J))})]))]))}function jS(e,t,n,r){let s=n instanceof Fi?"col-start-2 md:row-start-2":"col-start-3 md:row-start-3",i=(()=>{let u=vn(e.planned_meals,n),o=re(u,a=>PS(e.date,n,Be(a.title,""),r));return Me(o,PS(e.date,n,"",r))})();return P(g([A(`flex outline-1 outline-ecru-white-950 outline outline-offset-[-1px]
                row-start-[var(--dayPlacement)]
                md:col-start-[var(--dayPlacement)] 
                snap-start scroll-p-[-40px] `+s),xn(g([["--dayPlacement",se(t+2)]]))]),g([i]))}function mte(e){let t=vh(e.start_date,new Al),n=s=>Me(vn(e.plan_week,s),new u0(s,ll())),r=Xt(g([[t,n(t)],[Ee(t,1,new Fe),n(Ee(t,1,new Fe))],[Ee(t,2,new Fe),n(Ee(t,2,new Fe))],[Ee(t,3,new Fe),n(Ee(t,3,new Fe))],[Ee(t,4,new Fe),n(Ee(t,4,new Fe))],[Ee(t,5,new Fe),n(Ee(t,5,new Fe))],[Ee(t,6,new Fe),n(Ee(t,6,new Fe))]]));return Lr(g([Ru(g([A("grid grid-cols-12 col-start-[main-start] grid-rows-[fit-content(65px)] gap-y-2")]),g([qi("Week of "+I3(t),"underline-orange"),$u(g([A("flex flex-col justify-start items-middle col-span-1 col-start-12 text-base md:text-lg mt-4")]),g([cn(g([an("/"),A("text-center")]),g([H("🏠")])),cn(g([an("/planner/"),A("text-center")]),g([H("❎")])),qn(g([He("submit"),me("form","active-week"),A("")]),g([H("💾")]))]))])),Fb(g([Ue("active-week"),A(`mb-2 text-sm p-1 min-h-[70vh]
            overflow-x-hidden overflow-y-scroll md:overflow-x-scroll md:overflow-y-hidden snap-mandatory snap-always  
            col-span-full row-start-2 grid gap-1 
            grid-cols-[minmax(0,15%)_minmax(0,45%)_minmax(0,45%)] grid-rows-[fit-content(10%)_repeat(7,20%)]
            snap-y scroll-pt-[9%]
            md:col-start-[full-start] md:col-end-[full-end]
            md:text-base md:grid-cols-[fit-content(10%)_repeat(7,_15vw)] md:grid-rows-[fit-content(20%)_minmax(20vh,1fr)_minmax(20vh,1fr)]
            md:snap-x md:scroll-pl-[9%] md:scroll-pt-0
            xl:grid-cols-[fit-content(10%)_repeat(7,_11.5vw)]`),Gb(new FO)]),g([BO(r),Lr((()=>{let s=$o(r),i=jr(s,(u,o)=>od(u.date,o.date));return Iu(i,(u,o)=>jS(u,o,new Fi,e.recipe_list))})()),Lr((()=>{let s=$o(r),i=jr(s,(u,o)=>od(u.date,o.date));return Iu(i,(u,o)=>jS(u,o,new nh,e.recipe_list))})())]))]))}function bte(e){return re(nc(e),n=>mR(n))}function yte(e){return Nf(DS(g([["lunch",new Fi],["dinner",new nh]])),u2((n,r,s)=>new Kf(n,r,s),Cr("title",$e),Ie("for",DS(g([["lunch",new Fi],["dinner",new nh]]))),Cr("complete",O3)))(e)}function wte(e){return i2((n,r)=>new u0(n,r),Ie("date",bte),Ie("planned_meals",yte))(e)}function UO(e){return Kt(t=>{let n=Yee(Lg(e),Lg(Ee(e,1,new ud))),r=Nt(n,g),s=Nt(r,c=>Z(c,wte)),i=Nt(s,Eb),u=Nt(i,c=>re(c,l=>Z(l,d=>[d.date,d]))),o=Nt(u,c=>re(c,Xt)),a=Nt(o,c=>re(c,l=>new jO(l,e)));xh(a,c=>re(c,t))})}function vte(e){return Bi(g([["title",Dr(Be(e.title,""))],["for",Dr(e.for instanceof Fi?"lunch":"dinner")],["complete",Dr(w2(Be(e.complete,!1)))]]))}function xte(e){let n=Qt(e),r=Z(n,s=>[s[0]instanceof Fi?"lunch":"dinner",vte(s[1])]);return Bi(r)}function Ste(e){return new dte(Lg(e.date),xte(e.planned_meals))}function LS(e){return Kt(t=>{Zee(Z($o(e),Ste));let n=new LO;return t(n)})}function Ate(e,t){if(Ii(t),t instanceof ww){let n=t[0],r=t[1],s=t[2],i=t[3],u=hte(e.plan_week,n,r,s,i);return[e.withFields({plan_week:u}),i instanceof k?LS(u):M()]}else{if(t instanceof FO)return[e,LS(e.plan_week)];if(t instanceof yb){let n=t[0];return[e.withFields({start_date:n}),UO(n)]}else if(t instanceof jO){let n=t[0],r=t[1];return[e.withFields({start_date:r,plan_week:n}),M()]}else return[e,M()]}}function vr(e,t){return t===""?e:te(t,e)}function _te(e){return ed(e)!==e}function Tte(e,t,n,r){for(;;){let s=e,i=t,u=n,o=r;if(s.hasLength(0)&&u==="")return Bn(o);if(s.hasLength(0))return Bn(vr(o,u));if(s.atLeastLength(1)&&s.head===`
`)e=s.tail,t=!1,n="",r=vr(o,u);else if(s.atLeastLength(1)&&s.head==="	")e=s.tail,t=!1,n="",r=vr(o,u);else if(s.atLeastLength(1)&&s.head==="!")e=s.tail,t=!1,n="",r=vr(o,u);else if(s.atLeastLength(1)&&s.head==="?")e=s.tail,t=!1,n="",r=vr(o,u);else if(s.atLeastLength(1)&&s.head==="#")e=s.tail,t=!1,n="",r=vr(o,u);else if(s.atLeastLength(1)&&s.head===".")e=s.tail,t=!1,n="",r=vr(o,u);else if(s.atLeastLength(1)&&s.head==="-")e=s.tail,t=!1,n="",r=vr(o,u);else if(s.atLeastLength(1)&&s.head==="_")e=s.tail,t=!1,n="",r=vr(o,u);else if(s.atLeastLength(1)&&s.head===" ")e=s.tail,t=!1,n="",r=vr(o,u);else{let a=s.head,c=s.tail,l=_te(a);l?l&&i?(e=c,t=i,n=u+a,r=o):(e=c,t=!0,n=a,r=vr(o,u)):(e=c,t=!1,n=u+a,r=o)}}}function Ete(e){let n=f2(e);return Tte(n,!1,"",g([]))}function Ote(e){let n=Ete(e),r=Uo(n,"-");return ed(r)}class qO extends S{constructor(t){super(),this[0]=t}}class $O extends S{constructor(t){super(),this[0]=t}}class VO extends S{constructor(t){super(),this[0]=t}}class zO extends S{constructor(t){super(),this[0]=t}}class HO extends S{constructor(t){super(),this[0]=t}}class GO extends S{constructor(t){super(),this[0]=t}}class JO extends S{constructor(t){super(),this[0]=t}}class WO extends S{constructor(t){super(),this[0]=t}}class QO extends S{constructor(t,n){super(),this[0]=t,this[1]=n}}class XO extends S{constructor(t,n){super(),this[0]=t,this[1]=n}}class KO extends S{constructor(t,n){super(),this[0]=t,this[1]=n}}class YO extends S{constructor(t,n){super(),this[0]=t,this[1]=n}}class ZO extends S{constructor(t,n){super(),this[0]=t,this[1]=n}}class eI extends S{constructor(t,n){super(),this[0]=t,this[1]=n}}class tI extends S{constructor(t){super(),this[0]=t}}class nI extends S{constructor(t){super(),this[0]=t}}class rI extends S{constructor(t,n){super(),this[0]=t,this[1]=n}}class sI extends S{constructor(t){super(),this[0]=t}}class iI extends S{constructor(t){super(),this[0]=t}}class uI extends S{constructor(t){super(),this[0]=t}}class oI extends S{constructor(t){super(),this[0]=t}}class Ite extends S{constructor(t,n,r,s,i,u,o,a,c){super(),this.id=t,this.title=n,this.slug=r,this.cook_time=s,this.prep_time=i,this.serves=u,this.tags=o,this.ingredients=a,this.method_steps=c}}function Nte(e,t){if(t instanceof RO){let n=t[0];return[e.withFields({recipes:n}),M()]}else{let n=t[0];return[e.withFields({tag_options:n}),M()]}}function Rte(e){return P(g([A("col-span-full flex flex-wrap items-baseline justify-start my-1 text-base")]),g([P(g([A("text-xl flex flex-nowrap gap-1 my-1 ml-2 items-baseline")]),g([cn(g([an(Xn("/recipes/",e.slug))]),g([_r(g([]),g([H(e.title)])),_r(g([A("text-sm")]),g([H(" • "),e.prep_time+e.cook_time>59?H((()=>{let n=Sc(e.prep_time+e.cook_time,60),r=Me(n,0);return se(r)})()+"h"):_n(),H((()=>{let t=or(e.prep_time+e.cook_time,60);return se(t)})()),H("m")]))]))]))]))}function kte(e){return Ru(g([A("grid grid-cols-12 col-start-[main-start] grid-rows-[fit-content(100px)_fit-content(100px)_1fr]")]),g([qi("Recipe List","underline-green"),$u(g([A("flex flex-col justify-start items-middle col-span-1 col-start-12 text-base md:text-lg mt-4")]),g([cn(g([an("/"),A("text-center")]),g([H("🏠")]))])),P(g([A("contents")]),Z(e.recipes,Rte))]))}function Cte(e){let t=(()=>{let n=e.ismain;return n instanceof k&&n[0]?" font-bold":""})();return P(g([A("flex justify-start col-span-6 items-baseline")]),g([P(g([A("flex-grow-[2] text-left flex justify-start"+t)]),g([Be(yt(e.name,n=>H(n)),_n())])),P(g([A("col-span-1 text-sm")]),g([Be(yt(e.quantity,n=>H(n)),_n())])),P(g([A("col-span-1 text-sm")]),g([Be(yt(e.units,n=>H(n)),_n())]))]))}function Dte(e){return k2(g([A("w-full justify-self-start list-decimal text-left ml-8 pr-2")]),g([H(e.step_text)]))}function Mte(e){return P(g([A("flex")]),g([P(g([A("font-mono bg-ecru-white-100 border border-ecru-white-950 px-1 text-xs")]),g([H(e.name)])),P(g([A("font-mono bg-ecru-white-50 border border-l-0 border-ecru-white-950  px-1 text-xs")]),g([H(e.value)]))]))}function Pte(e){return Ru(g([A("grid grid-cols-12 col-start-[main-start] grid-rows-[fit-content(100px)_fit-content(100px)_1fr] gap-y-2")]),g([qi(e.title,"underline-green"),qt(g([A("sm:mt-4 lg:mx-4 row-start-2 col-start-9 col-span-4 sm:row-start-1 sm:col-span-3 sm:col-start-9")]),g([qt(g([A("flex flex-wrap justify-between items-baseline mb-2")]),g([_i(g([To("prep_time"),A("font-mono italic")]),g([H("Prep:")])),P(g([A("text-base")]),g([H((e.prep_time>59?(()=>{let n=Sc(e.prep_time,60),r=Me(n,0),s=se(r);return Zf(s,"0","")})()+"h ":"")+(()=>{let t=or(e.prep_time,60);return se(t)})()+"m")]))])),qt(g([A("flex flex-wrap justify-between items-baseline mb-2")]),g([_i(g([To("cook_time"),A("font-mono italic")]),g([H("Cook:")])),P(g([A("text-base")]),g([H((e.cook_time>59?(()=>{let n=Sc(e.cook_time,60),r=Me(n,0),s=se(r);return Zf(s,"0","")})()+"h ":"")+(()=>{let t=or(e.cook_time,60);return se(t)})()+"m")]))])),qt(g([A("flex flex-wrap justify-between items-baseline mb-2")]),g([_i(g([To("cook_time"),A("font-mono italic")]),g([H("Serves:")])),P(g([A("mr-2 sm:mr-4 text-base")]),g([H(se(e.serves))]))]))])),$u(g([A("flex flex-col justify-start items-middle col-span-1 col-start-12 text-base md:text-lg mt-4")]),g([cn(g([an("/"),A("text-center")]),g([H("🏠")])),cn(g([an("/recipes/"+e.slug+"/edit"),A("text-center")]),g([H("✏️")]))])),qt(g([A("col-span-7 row-start-2 content-start sm:col-span-full flex flex-wrap gap-1 items-baseline mx-1 gap-3")]),g([(()=>{let t=e.tags;if(t instanceof k){let n=t[0],r=(()=>{let i=Qt(n),u=jr(i,(o,a)=>xi(Se(o),Se(a)));return Z(u,o=>[se(Se(o)),Mte(At(o))])})();return Su(s=>P(g([A("contents")]),s),r)}else return _n()})()])),qt(g([A("col-span-full text-base my-1 mb-6 pt-1 pb-2 px-2 border-ecru-white-950 border-[1px] rounded-[1px] sm:row-span-2 sm:col-span-5 [box-shadow:1px_1px_0_#a3d2ab] mr-1")]),g([Ec(g([A("mx-2 px-1 text-lg font-mono italic")]),g([H("Ingredients")])),(()=>{let t=e.ingredients;if(t instanceof k){let n=t[0],r=(()=>{let i=Qt(n),u=jr(i,(o,a)=>xi(Se(o),Se(a)));return Z(u,o=>[se(Se(o)),Cte(At(o))])})();return Su(s=>P(g([A("contents")]),s),r)}else return _n()})()])),qt(g([A("flex justify-start flex-wrap col-span-full my-1 mb-6 pt-1 mr-1 sm:mr-2 ml-1 pb-2 px-2 border-ecru-white-950 border-[1px] rounded-[1px] sm:row-span-2 sm:col-span-7 [box-shadow:1px_1px_0_#a3d2ab]")]),g([Ec(g([A("mx-2 px-1 font-mono italic")]),g([H("Method")])),X8(g([A("flex flex-wrap w-full mb-1 list-decimal marker:text-sm marker:font-mono text-base items-baseline col-span-full")]),g([(()=>{let t=e.method_steps;if(t instanceof k){let n=t[0],r=(()=>{let i=Qt(n),u=jr(i,(o,a)=>xi(Se(o),Se(a)));return Z(u,o=>[se(Se(o)),Dte(At(o))])})();return Su(s=>P(g([A("contents")]),s),r)}else return _n()})()]))]))]))}function jte(e){if(e instanceof k){let t=e[0];return Pte(t)}else return qi("Recipe not found","")}function FS(e,t,n){let r=fu((o,a)=>new QO(o,a)),s=fu((o,a)=>new XO(o,a)),i=Z(e,o=>o.name),u=Be(n,new Co("",""));return qt(g([Ue("tag-input-"+se(t)),A("flex col-span-6 sm:col-span-4 min-w-0")]),g([id(g([xn(g([(()=>{let o=Bo(u.name);return o>0?["width",se(o+1)+"ch"]:["width","5ch"]})()])),A("inline bg-ecru-white-100 col-span-4 row-span-1 pl-1 p-0 text-xs font-mono custom-select"),Ue("tag-name-selector"),Sn("tag-name-"+se(t)),vt(u.name),$t(r(t))]),g([mo(g([A("text-xs font-mono custom-select input-focus bg-ecru-white-100"),me("hidden",""),jw(!0),vt(""),go(Rw(u.name))]),""),Lr(Z(i,o=>mo(g([vt(o),go(o===u.name),A("text-xs font-mono custom-select input-focus bg-ecru-white-50")]),o)))])),id(g([xn(g([(()=>{let o=Bo(u.value);return o>0?["width",se(o+1)+"ch"]:["width","5ch"]})()])),A("inline bg-ecru-white-50 col-span-4 row-span-1 pl-1 p-0 text-xs font-mono custom-select"),$t(s(t)),vt(u.value)]),g([mo(g([A("text-xs font-mono custom-select input-focus bg-ecru-white-50"),me("hidden",""),jw(!0),vt(""),go(Rw(u.value))]),""),(()=>{let o=h=>h.name===u.name,a=h=>Z(h.options,f=>mo(g([vt(f),go(f===u.value),A("text-xs font-mono custom-select input-focus bg-ecru-white-50")]),f)),c=ah(e,o),l=re(c,a),d=Me(l,g([_n()]));return Lr(d)})()])),qn(g([A("col-span-1 mb-1 text-ecru-white-950 text-xs"),Ue("remove-tag-input"),He("button"),lr(new WO(t))]),g([H("➖")])),qn(g([A("col-span-1 mb-1 text-ecru-white-950 text-xs"),Ue("add-tag-input"),He("button"),lr(new JO(t))]),g([H("➕")]))]))}function Ng(e,t){let n=fu((u,o)=>new KO(u,o)),r=fu((u,o)=>new YO(u,o)),s=fu((u,o)=>new ZO(u,o)),i=fu((u,o)=>new eI(u,o));return P(g([A("my-0.5 w-full flex justify-between items-baseline  text-base")]),g([Rr(g([me("aria-label","Enter ingredient name"),Sn("ingredient-name-"+se(e)),He("text"),d0("Ingredient"),A("w-[16ch] xxs:w-[23ch] xs:w-[28ch] sm:w-[16ch] md:w-[23ch] lg:w-[28ch] text-base input-base input-focus bg-ecru-white-100"),vt((()=>{if(t instanceof k){let u=t[0];return Be(u.name,"")}else return""})()),$t(n(e))])),P(g([A("flex justify-end gap-1 items-baseline")]),g([Rr(g([me("aria-label","Enter ingredient quanitity"),Sn("ingredient-qty-"+se(e)),He("text"),d0("Qty"),A("pt-0.5 w-[4ch] text-sm input-focus bg-ecru-white-100"),vt((()=>{if(t instanceof k){let u=t[0];return Be(u.quantity,"")}else return""})()),$t(s(e))])),Rr(g([me("aria-label","Enter ingredient units"),Sn("ingredient-units-"+se(e)),He("text"),d0("Units"),A("pt-0.5 w-[5ch] text-sm mr-0 input-focus bg-ecru-white-100"),vt((()=>{if(t instanceof k){let u=t[0];return Be(u.units,"")}else return""})()),$t(i(e))])),P(g([A("flex text-xs items-baseline")]),g([_i(g([A("ingredient-toggle"),me("aria-label","Toggle main ingredient")]),g([Rr(g([x2((()=>{if(t instanceof k){let u=t[0];return Be(u.ismain,!1)}else return!1})()),Sn("`ingredient-main-"+se(e)),He("checkbox"),L2(r(e))])),_r(g([]),g([]))])),qn(g([A("text-ecru-white-950"),He("button"),Ue("remove-ingredient-input"),lr(new nI(e))]),g([H("➖")])),qn(g([A("text-ecru-white-950"),He("button"),Ue("add-ingredient-input"),lr(new tI(e))]),g([H("➕")]))]))]))]))}function Lte(e,t){let n=fu((r,s)=>new rI(r,s));return P(g([A("flex w-full items-baseline col-span-full px-1 mb-1 text-base")]),g([_i(g([A("font-mono text-sm")]),g([H((()=>{let r=e+1;return se(r)})()+".")])),Bb(g([Sn("method-step-"+se(e)),Ue("method-step-"+se(e)),A("mx-3 bg-ecru-white-100 w-full input-focus text-base resize-none"),me("rows","3"),$t(n(e))]),t instanceof k?t[0].step_text:""),qn(g([A("text-ecru-white-950 text-xs"),He("button"),Ue("remove-ingredient-input"),lr(new iI(e))]),g([H("➖")])),qn(g([A("text-ecru-white-950 text-xs"),He("button"),Ue("add-ingredient-input"),lr(new sI(e))]),g([H("➕")]))]))}function aI(e,t){return Fb(g([A("grid grid-cols-12 col-start-[main-start] grid-rows-[fit-content(100px)_fit-content(100px)_1fr] gap-y-2"),Ue("create_recipe_form"),Gb(new uI(e))]),g([P(g([A("inline-block mt-4 mb-2 sm:mb-4 mr-2 col-start-1 col-span-11 sm:col-start-1 sm:col-span-8")]),g([Bb(g([Ue("page-title-input"),Sn("title"),A("[field-sizing:_content;] placeholder:underline-blue underline-blue min-h-[56px] max-h-[140px] overflow-x-hidden px-0 pb-1 ml-2 input-base w-full input-focus font-transitional resize-none font-bold italic text-ecru-white-950  text-7xl bg-ecru-white-100"),A((()=>{let n=Bo(e.title);return n>38?"text-4xl":n>17?"text-5.5xl":"text-7xl"})()),me("title","recipe title"),$t(n=>new qO(n))]),e.title)])),qt(g([A("mt-0 sm:mt-4 sm:mx-4 row-start-2 col-span-5 col-start-8 sm:row-start-1 sm:col-span-3 sm:col-start-9")]),g([qt(g([A("flex flex-wrap justify-between items-baseline mb-2")]),g([_i(g([A("justify-self-start font-mono italic"),To("prep_time")]),g([H("Prep:")])),P(g([A("justify-self-start")]),g([P(g([A("after:content-['h'] after:text-base inline-block")]),g([Rr(g([Ue("prep_time_hrs"),A("bg-ecru-white-100 input-base input-focus pr-0.5 mr-0.5 w-[2ch] text-right text-base"),He("number"),Sn("prep_time_hrs"),me("title","prep time in hours"),vt((()=>{let n=Sc(e.prep_time,60),r=Me(n,0),s=se(r);return Zf(s,"0","")})()),$t(n=>new $O(n))]))])),P(g([A("after:content-['m'] after:text-base inline-block")]),g([Rr(g([Ue("prep_time_mins"),A("bg-ecru-white-100 input-base input-focus pr-0.5 mr-0.5 w-[3ch] text-right text-base"),He("number"),Sn("prep_time_mins"),me("title","prep time in minutes"),vt((()=>{let n=or(e.prep_time,60);return se(n)})()),$t(n=>new VO(n))]))]))]))])),qt(g([A("flex flex-wrap justify-between items-baseline mb-2")]),g([_i(g([A("justify-self-start font-mono italic"),To("prep_time")]),g([H("Cook:")])),P(g([A("justify-self-start")]),g([P(g([A("after:content-['h'] after:text-base inline-block")]),g([Rr(g([Ue("cook_time_hrs"),A("bg-ecru-white-100 input-base input-focus pr-0.5 w-[2ch] text-right text-base"),He("number"),Sn("cook_time_hrs"),me("title","cook time in hours"),vt((()=>{let n=Sc(e.cook_time,60),r=Me(n,0),s=se(r);return Zf(s,"0","")})()),$t(n=>new zO(n))]))])),P(g([A("after:content-['m'] after:text-base inline-block")]),g([Rr(g([Ue("cook_time_mins"),A("bg-ecru-white-100 input-base input-focus pr-0.5 w-[3ch] text-right text-base"),He("number"),Sn("cook_time_mins"),me("title","cook time in minutes"),vt((()=>{let n=or(e.cook_time,60);return se(n)})()),$t(n=>new HO(n))]))]))]))])),qt(g([A("flex flex-wrap justify-between items-baseline mb-2")]),g([_i(g([A("justify-self-start font-mono italic"),To("serves")]),g([H("Serves:")])),Rr(g([Ue("serves"),A("pr-0.5 mr-2 sm:mr-4  justify-self-start col-span-3 input-base input-focus w-[3ch] text-right text-base bg-ecru-white-100"),He("number"),Sn("serves"),vt((()=>{let n=e.serves;return se(n)})()),$t(n=>new GO(n))]))]))])),$u(g([A("flex flex-col justify-start items-middle col-span-1 col-start-12 text-sm sm:text-base md:text-lg my-4 text-center")]),g([cn(g([an("/"),A("text-center")]),g([H("🏠")])),cn(g([an("/recipes/"+e.slug),A("text-center")]),g([H("❎")])),qn(g([He("submit"),A("")]),g([H("💾")]))])),qt(g([A("col-span-7 row-start-2 content-start sm:col-span-full flex flex-wrap gap-1 items-baseline mx-1 gap-3")]),g([(()=>{let n=e.tags;if(n instanceof k){let r=n[0],s=(()=>{let u=Qt(r),o=jr(u,(a,c)=>xi(Se(a),Se(c)));return Z(o,a=>[se(Se(a)),FS(t,Se(a),new k(At(a)))])})();return Su(i=>P(g([A("contents")]),i),s)}else return FS(t,0,new J)})()])),qt(g([A("col-span-full my-1 mb-6 pt-1 pb-2 px-2 mr-1 border-ecru-white-950 border-[1px] rounded-[1px] sm:row-span-2 sm:col-span-5 [box-shadow:1px_1px_0_#9edef1]")]),g([Ec(g([A("mx-2 px-1 font-mono italic")]),g([H("Ingredients")])),(()=>{let n=e.ingredients;if(n instanceof k){let r=n[0],s=(()=>{let u=Qt(r),o=jr(u,(a,c)=>xi(Se(a),Se(c)));return Z(o,a=>[se(Se(a)),Ng(Se(a),new k(At(a)))])})();return Su(i=>P(g([A("contents")]),i),s)}else return Ng(0,new J)})()])),qt(g([A("col-span-full my-1 mb-6 pt-1 pb-2 px-2 ml-1 mr-1 border-ecru-white-950 border-[1px] rounded-[1px] sm:row-span-2 sm:col-span-7 [box-shadow:1px_1px_0_#9edef1]")]),g([Ec(g([A("mx-2 px-1 font-mono italic")]),g([H("Method")])),(()=>{let n=e.method_steps;if(n instanceof k){let r=n[0],s=(()=>{let u=Qt(r),o=jr(u,(a,c)=>xi(Se(a),Se(c)));return Z(o,a=>[se(Se(a)),Lte(Se(a),new k(At(a)))])})();return Su(i=>P(g([A("contents")]),i),s)}else return Ng(0,new J)})()]))]))}function Fte(e,t){if(e instanceof k){let n=e[0];return aI(n,t)}else return qi("Recipe not found","")}function Bte(e){return Bi(g([["name",Dr(Be(e.name,""))],["quantity",Dr(Be(e.quantity,""))],["units",Dr(Be(e.units,""))],["ismain",Dr(w2(Be(e.ismain,!1)))]]))}function Ute(e){let n=Qt(e),r=Z(n,s=>[se(s[0]),Bte(s[1])]);return Bi(r)}function qte(e){return Bi(g([["step_text",Dr(e.step_text)]]))}function $te(e){let n=Qt(e),r=Z(n,s=>[se(s[0]),qte(s[1])]);return Bi(r)}function Vte(e){return Bi(g([["name",Dr(e.name)],["value",Dr(e.value)]]))}function zte(e){let n=Qt(e),r=Z(n,s=>[se(s[0]),Vte(s[1])]);return Bi(r)}function Hte(e){let t=new Ite(Be(e.id,""),e.title,e.slug,e.cook_time,e.prep_time,e.serves,(()=>{let n=e.tags;return f0(n,zte)})(),(()=>{let n=e.ingredients;return f0(n,Ute)})(),(()=>{let n=e.method_steps;return f0(n,$te)})());return Kt(n=>{Kee(t);let r=new oI(e);return n(r)})}function Gte(e,t){if(t instanceof qO){let n=t[0];if(e instanceof k){let r=e[0];return[new k(r.withFields({title:n})),M()]}else return[e,M()]}else if(t instanceof $O){let n=t[0];if(e instanceof k){let r=e[0];return[new k(r.withFields({prep_time:(()=>{let i=ao(n),u=re(i,o=>o*60+or(r.prep_time,60));return Me(u,0)})()})),M()]}else return[e,M()]}else if(t instanceof VO){let n=t[0];if(e instanceof k){let r=e[0];return[new k(r.withFields({prep_time:(()=>{let i=ao(n),u=re(i,o=>r.prep_time-or(r.prep_time,60)+o);return Me(u,0)})()})),M()]}else return[e,M()]}else if(t instanceof zO){let n=t[0];if(e instanceof k){let r=e[0];return[new k(r.withFields({cook_time:(()=>{let i=ao(n),u=re(i,o=>o*60+or(r.cook_time,60));return Me(u,0)})()})),M()]}else return[e,M()]}else if(t instanceof HO){let n=t[0];if(e instanceof k){let r=e[0];return[new k(r.withFields({cook_time:(()=>{let i=ao(n),u=re(i,o=>r.cook_time-or(r.cook_time,60)+o);return Me(u,0)})()})),M()]}else return[e,M()]}else if(t instanceof GO){let n=t[0];if(e instanceof k){let r=e[0];return[new k(r.withFields({serves:(()=>{let i=ao(n);return Me(i,0)})()})),M()]}else return[e,M()]}else if(t instanceof QO){let n=t[0],r=t[1];if(e instanceof k){let s=e[0];return[new k(s.withFields({tags:(()=>{let i=s.tags;return yt(i,u=>Yi(u,n,o=>new Co(r,"")))})()})),M()]}else return[e,M()]}else if(t instanceof XO){let n=t[0],r=t[1];if(e instanceof k){let s=e[0];return[new k(s.withFields({tags:(()=>{let i=s.tags;return yt(i,u=>Yi(u,n,o=>o.withFields({value:r})))})()})),M()]}else return[e,M()]}else if(t instanceof JO)if(e instanceof k){let n=e[0];return[new k(n.withFields({tags:(()=>{let r=n.tags;if(r instanceof k){let s=r[0];return new k(Ai(s,l0(s),new Co("","")))}else return new k(Xt(g([[0,new Co("","")]])))})()})),M()]}else return[e,M()];else if(t instanceof WO){let n=t[0];if(e instanceof k){let r=e[0];return[new k(r.withFields({tags:(()=>{let s=r.tags,i=yt(s,u=>Rf(u,g([n])));return yt(i,p0)})()})),M()]}else return[e,M()]}else if(t instanceof KO){let n=t[0],r=t[1];if(e instanceof k){let s=e[0];return[new k(s.withFields({ingredients:(()=>{let i=s.ingredients;return yt(i,u=>Yi(u,n,o=>o.withFields({name:new k(r)})))})()})),M()]}else return[e,M()]}else if(t instanceof YO){let n=t[0],r=t[1];if(e instanceof k){let s=e[0];return[new k(s.withFields({ingredients:(()=>{let i=s.ingredients;return yt(i,u=>Yi(u,n,o=>o.withFields({ismain:new k(r)})))})()})),M()]}else return[e,M()]}else if(t instanceof ZO){let n=t[0],r=t[1];if(e instanceof k){let s=e[0];return[new k(s.withFields({ingredients:(()=>{let i=s.ingredients;return yt(i,u=>Yi(u,n,o=>o.withFields({quantity:new k(r)})))})()})),M()]}else return[e,M()]}else if(t instanceof eI){let n=t[0],r=t[1];if(e instanceof k){let s=e[0];return[new k(s.withFields({ingredients:(()=>{let i=s.ingredients;return yt(i,u=>Yi(u,n,o=>o.withFields({units:new k(r)})))})()})),M()]}else return[e,M()]}else if(t instanceof tI)if(e instanceof k){let n=e[0];return[new k(n.withFields({ingredients:(()=>{let r=n.ingredients;if(r instanceof k){let s=r[0];return new k(Ai(s,l0(s),new eh(new J,new J,new J,new J)))}else return new k(Xt(g([[0,new eh(new J,new J,new J,new J)]])))})()})),M()]}else return[e,M()];else if(t instanceof nI){let n=t[0];if(e instanceof k){let r=e[0];return[new k(r.withFields({ingredients:(()=>{let s=r.ingredients,i=yt(s,u=>Rf(u,g([n])));return yt(i,p0)})()})),M()]}else return[e,M()]}else if(t instanceof sI)if(e instanceof k){let n=e[0];return[new k(n.withFields({method_steps:(()=>{let r=n.method_steps;if(r instanceof k){let s=r[0];return new k(Ai(s,l0(s),new bc("")))}else return new k(Xt(g([[0,new bc("")]])))})()})),M()]}else return[e,M()];else if(t instanceof iI){let n=t[0];if(e instanceof k){let r=e[0];return[new k(r.withFields({method_steps:(()=>{let s=r.method_steps,i=yt(s,u=>Rf(u,g([n])));return yt(i,p0)})()})),M()]}else return[e,M()]}else if(t instanceof rI){let n=t[0],r=t[1];if(e instanceof k){let s=e[0];return[new k(s.withFields({method_steps:(()=>{let i=s.method_steps;return yt(i,u=>Yi(u,n,o=>new bc(r)))})()})),M()]}else return[e,M()]}else if(t instanceof uI){let n=t[0];return[new k(n),Hte(n.withFields({slug:Ote(n.title)}))]}else{let n=t[0];return[new k(n),M()]}}class Jte extends S{constructor(t,n,r,s,i){super(),this.current_route=t,this.current_recipe=n,this.recipes=r,this.planner=s,this.import_url=i}}class vw extends S{}class yc extends S{constructor(t){super(),this.slug=t}}class Nr extends S{constructor(t){super(),this[0]=t}}class rh extends S{}class wc extends S{}class sh extends S{}class Wte extends S{}class mu extends S{constructor(t){super(),this.slug=t}}class Yf extends S{constructor(t){super(),this.recipe=t}}class ft extends S{constructor(t){super(),this[0]=t}}class Do extends S{constructor(t){super(),this[0]=t}}class fi extends S{constructor(t){super(),this[0]=t}}class _o extends S{constructor(t){super(),this[0]=t}}class wb extends S{constructor(t){super(),this[0]=t}}function BS(e,t){return vb(ah(e.recipes.recipes,n=>n.slug===t))}function Qte(e,t){if(t instanceof ft&&t[0]instanceof rh)return[e.withFields({current_route:new rh}),jb(g([Yr(CO(),n=>new fi(n)),Yr(bb(),n=>new fi(n))]))];if(t instanceof ft&&t[0]instanceof yc){let n=t[0].slug;return[e.withFields({current_route:new yc(n),current_recipe:BS(e,n)}),M()]}else{if(t instanceof ft&&t[0]instanceof Nr&&t[0][0]instanceof mu&&t[0][0].slug==="")return[e.withFields({current_route:new Nr(new mu("")),current_recipe:new k(new kO(new J,"New Recipe","",0,0,0,new k(Xt(g([[0,new Co("","")]]))),new k(Xt(g([[0,new eh(new J,new J,new J,new J)]]))),new k(Xt(g([[0,new bc("")]])))))}),Yr(bb(),n=>new fi(n))];if(t instanceof ft&&t[0]instanceof Nr&&t[0][0]instanceof mu){let n=t[0][0].slug;return[e.withFields({current_route:new Nr(new mu(n)),current_recipe:BS(e,n)}),M()]}else if(t instanceof ft&&t[0]instanceof Nr&&t[0][0]instanceof Yf){let n=t[0][0].recipe;return[e.withFields({current_route:new Nr(new Yf(n)),current_recipe:new k(n)}),M()]}else{if(t instanceof ft&&t[0]instanceof wc)return[e.withFields({current_route:new wc}),Yr(UO(vh(j2(),new Al)),n=>new _o(n))];if(t instanceof ft&&t[0]instanceof sh)return[e.withFields({current_route:new sh}),M()];if(t instanceof ft){let n=t[0];return[e.withFields({current_route:n,current_recipe:new J}),M()]}else if(t instanceof fi){let n=t[0],r=Nte(e.recipes,n),s=r[0],i=r[1];return[e.withFields({recipes:s,planner:new th(e.planner.plan_week,Z(s.recipes,u=>u.title),e.planner.start_date)}),Yr(i,u=>new fi(u))]}else if(t instanceof Do&&t[0]instanceof oI){let n=t[0][0];return[e.withFields({recipes:rte(n,e.recipes)}),Kt(r=>{let s=new ft(new yc(n.slug));return r(s)})]}else if(t instanceof Do){let n=t[0],r=Gte(e.current_recipe,n),s=r[0],i=r[1];return[e.withFields({current_recipe:s}),Yr(i,u=>new Do(u))]}else{if(t instanceof _o&&t[0]instanceof LO)return[e,Kt(n=>{let r=new ft(new wc);return n(r)})];if(t instanceof _o){let n=t[0],r=Ate(e.planner,n),s=r[0],i=r[1];return[e.withFields({planner:s}),Yr(i,u=>new _o(u))]}else if(t instanceof wb&&t[0]instanceof PO){let n=t[0][0];return[e.withFields({current_recipe:new k(n)}),Kt(r=>{let s=new ft(new Nr(new Yf(n)));return r(s)})]}else{let n=t[0],r=cte(e.import_url,n),s=r[0],i=r[1];return[e.withFields({import_url:s}),Yr(i,u=>new wb(u))]}}}}}function Xte(e){let t=E8(e.path);if(t.hasLength(2)&&t.head==="recipes"&&t.tail.head==="new")return new ft(new Nr(new mu("")));if(t.hasLength(3)&&t.head==="recipes"&&t.tail.tail.head==="edit"){let n=t.tail.head;return new ft(new Nr(new mu(n)))}else if(t.hasLength(2)&&t.head==="recipes"){let n=t.tail.head;return new ft(new yc(n))}else return t.hasLength(1)&&t.head==="recipes"?new ft(new rh):t.hasLength(2)&&t.head==="planner"&&t.tail.head==="edit"?new ft(new sh):t.hasLength(1)&&t.head==="planner"?new ft(new wc):t.hasLength(1)&&t.head==="import"?new ft(new Wte):new ft(new vw)}function Kte(e){return[new Jte(new vw,new J,new tte(g([]),g([])),new th(ll(),g([]),vh(j2(),new Al)),new yw("")),jb(g([eR(Xte),Yr(CO(),t=>new fi(t)),Yr(bb(),t=>new fi(t))]))]}function Yte(e){return Q8(g([A(`grid ml-1 mr-2 gap-2
    2xl:grid-cols-[[start]_1fr_[full-start]_3fr_[main-start]_105ch_[main-end]_3fr_[full-end]_1fr_[end]]
    xl:grid-cols-[[start]_1fr_[full-start]_3fr_[main-start]_95ch_[main-end]_3fr_[full-end]_1fr_[end]]
    lg:grid-cols-[[start]_1fr_[full-start]_3fr_[main-start]_85ch_[main-end]_3fr_[full-end]_1fr_[end]]
    md:grid-cols-[[start_full-start]_1fr_[main-start]_70ch_[main-end]_1fr_[full-end_end]]
    grid-cols-[[start_full-start_main-start]_100%_[main-end_full-end_end]]
    min-h-[90vh]`)]),g([e]))}function Zte(){return Ru(g([A("grid-cols-12 col-start-[main-start]")]),g([qi("Mealstack","text-9xl placeholder:underline-pink underline-pink col-span-full xxs:col-span-11"),$u(g([A("subgrid-cols my-6 gap-y-12 col-span-full text-6xl mx-2 font-mono")]),g([cn(g([A("flex items-baseline col-span-full sm:col-span-6 justify-between pr-4"),an("/planner")]),g([_r(g([A("underline-orange")]),g([H("Plan")])),_r(g([A("text-5xl")]),g([H("📅")]))])),cn(g([A("flex items-baseline col-span-full sm:col-span-6 justify-between pr-4"),an("/recipes")]),g([_r(g([A("underline-green")]),g([H("List  ")])),_r(g([A("text-5xl")]),g([H("📑")]))])),cn(g([A("flex items-baseline col-span-full sm:col-span-6 justify-between pr-4"),an("/recipes/new")]),g([_r(g([A("underline-blue")]),g([H("New")])),_r(g([A("text-5xl")]),g([H("📝")]))])),cn(g([A("flex items-baseline col-span-full sm:col-span-6 justify-between pr-4"),an("/import")]),g([_r(g([A("underline-yellow")]),g([H("Import")])),_r(g([A("text-5xl")]),g([H("📩")]))]))]))]))}function ene(e){let t=(()=>{let n=e.current_route;if(n instanceof vw)return Zte();if(n instanceof rh)return Zr(kte(e.recipes),r=>new fi(r));if(n instanceof yc)return Zr(jte(e.current_recipe),r=>new Do(r));if(n instanceof Nr&&n[0]instanceof mu)return Zr(Fte(e.current_recipe,e.recipes.tag_options),r=>new Do(r));if(n instanceof Nr&&n[0]instanceof Yf){let r=n[0].recipe;return Zr(aI(r,e.recipes.tag_options),s=>new Do(s))}else return n instanceof wc?Zr(gte(new th(e.planner.plan_week,Z(e.recipes.recipes,r=>r.title),e.planner.start_date)),r=>new _o(r)):n instanceof sh?Zr(mte(new th(e.planner.plan_week,Z(e.recipes.recipes,r=>r.title),e.planner.start_date)),r=>new _o(r)):Zr(lte(new yw(e.import_url.url)),r=>new wb(r))})();return Yte(t)}function tne(){let e=pC("main");if(!e.isOk())throw ih("assignment_no_match","app",33,"main","Assignment pattern did not match",{value:e});let t=e[0];$8(NC(),"type-ahead");let n=I2(Kte,Qte,ene),r=dC(n,t),s=R2(r,"#app",void 0);return eC(s,t),t}document.addEventListener("DOMContentLoaded",()=>{console.log("DOMContentLoaded"),tne()});
